{"version":3,"names":["checkboxCss","ChCheckboxStyle0","CHECKBOX_ID","PARTS","checked","indeterminate","disabled","concat","CHECKBOX_PARTS_DICTIONARY","DISABLED","INDETERMINATE","checkedValue","CHECKED","UNCHECKED","CheckBox","exports","_a","_getValue","set","this","_this","unCheckedValue","_handleClick","event","readonly","stopPropagation","_handleChange","inputRef","target","value","__classPrivateFieldGet","call","input","emit","highlightable","click","class_1","prototype","valueChanged","componentWillLoad","render","additionalParts","h","Host","key","class","_b","DISABLED_CLASS","container","part","CONTAINER","_c","accessibleName","trim","caption","id","INPUT","type","onClick","onInput","option","OPTION","LABEL","htmlFor"],"sources":["src/components/checkbox/checkbox.scss?tag=ch-checkbox&encapsulation=shadow","src/components/checkbox/checkbox.tsx"],"sourcesContent":["@import \"../../common/_base\";\r\n\r\n$option-checked-border-color: currentColor;\r\n$option-checked-color: currentColor;\r\n\r\n@include box-sizing();\r\n\r\n:host {\r\n  /**\r\n   * @prop --ch-checkbox__container-size:\r\n   * Specifies the size for the container of the `input` and `option` elements.\r\n   * @default min(1em, 20px)\r\n   */\r\n  --ch-checkbox__container-size: min(1em, 20px);\r\n\r\n  /**\r\n   * @prop --ch-checkbox__checked-image:\r\n   * Specifies the image of the checkbox when is checked.\r\n   * @default url(\"data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'><path fill='currentColor' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/></svg>\")\r\n   */\r\n  --ch-checkbox__option-checked-image: url(\"data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'><path fill='currentColor' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/></svg>\");\r\n\r\n  /**\r\n   * @prop --ch-checkbox__option-indeterminate-image:\r\n   * Specifies the image of the checkbox when is indeterminate.\r\n   * @default url(\"data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'><path fill='currentColor' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/></svg>\")\r\n   */\r\n  --ch-checkbox__option-indeterminate-image: url(\"data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'><rect width='8' height='8'/></svg>\");\r\n\r\n  /**\r\n   * @prop --ch-checkbox__option-size:\r\n   * Specifies the size for the `option` element.\r\n   * @default 50%\r\n   */\r\n  --ch-checkbox__option-size: 50%;\r\n\r\n  /**\r\n   * @prop --ch-checkbox__option-image-size:\r\n   * Specifies the image size of the `option` element.\r\n   * @default 100%\r\n   */\r\n  --ch-checkbox__option-image-size: 100%;\r\n\r\n  display: inline-grid;\r\n  grid-template-columns: max-content 1fr;\r\n  align-items: center;\r\n\r\n  // Remove outline of the focus state. This selector must not have higher\r\n  // specificity, since it should be overridden by the class applied to the control\r\n  outline: unset;\r\n\r\n  // Avoid zooming on double tap\r\n  touch-action: manipulation;\r\n\r\n  // Remove text selection on double click\r\n  user-select: none;\r\n}\r\n\r\n:host(.ch-checkbox--actionable) :is(.input, .label) {\r\n  cursor: pointer;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  inline-size: var(--ch-checkbox__container-size);\r\n  block-size: var(--ch-checkbox__container-size);\r\n}\r\n\r\n.input {\r\n  display: flex;\r\n  inline-size: 100%;\r\n  block-size: 100%;\r\n\r\n  // Reset browser defaults\r\n  appearance: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: unset;\r\n\r\n  border: 1px solid $option-checked-border-color;\r\n  border-radius: 18.75%;\r\n}\r\n\r\n.option {\r\n  position: absolute;\r\n  inline-size: var(--ch-checkbox__option-size);\r\n  block-size: var(--ch-checkbox__option-size);\r\n  background-color: $option-checked-color;\r\n  pointer-events: none;\r\n\r\n  &--checked {\r\n    -webkit-mask: no-repeat center / var(--ch-checkbox__option-image-size)\r\n      var(--ch-checkbox__option-checked-image);\r\n  }\r\n\r\n  &--indeterminate {\r\n    -webkit-mask: no-repeat center / var(--ch-checkbox__option-image-size)\r\n      var(--ch-checkbox__option-indeterminate-image);\r\n  }\r\n\r\n  &--not-displayed {\r\n    opacity: 0;\r\n    visibility: hidden;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Event,\r\n  EventEmitter,\r\n  Host,\r\n  Prop,\r\n  State,\r\n  Watch,\r\n  h\r\n} from \"@stencil/core\";\r\nimport {\r\n  CHECKBOX_PARTS_DICTIONARY,\r\n  DISABLED_CLASS\r\n} from \"../../common/reserverd-names\";\r\n\r\nimport {\r\n  AccessibleNameComponent,\r\n  DisableableComponent\r\n} from \"../../common/interfaces\";\r\n\r\nconst CHECKBOX_ID = \"checkbox\";\r\n\r\nconst PARTS = (checked: boolean, indeterminate: boolean, disabled: boolean) => {\r\n  if (indeterminate) {\r\n    return disabled\r\n      ? `${CHECKBOX_PARTS_DICTIONARY.DISABLED} ${CHECKBOX_PARTS_DICTIONARY.INDETERMINATE}`\r\n      : CHECKBOX_PARTS_DICTIONARY.INDETERMINATE;\r\n  }\r\n\r\n  const checkedValue = checked\r\n    ? CHECKBOX_PARTS_DICTIONARY.CHECKED\r\n    : CHECKBOX_PARTS_DICTIONARY.UNCHECKED;\r\n\r\n  return disabled\r\n    ? `${CHECKBOX_PARTS_DICTIONARY.DISABLED} ${checkedValue}`\r\n    : checkedValue;\r\n};\r\n\r\n/**\r\n * @part container - The container that serves as a wrapper for the `input` and the `option` parts.\r\n * @part input - The input element that implements the interactions for the component.\r\n * @part option - The actual \"input\" that is rendered above the `input` part. This part has `position: absolute` and `pointer-events: none`.\r\n * @part label - The label that is rendered when the `caption` property is not empty.\r\n *\r\n * @part checked - Present in the `input`, `option`, `label` and `container` parts when the control is checked and not indeterminate (`value` === `checkedValue` and `indeterminate !== true`).\r\n * @part disabled - Present in the `input`, `option`, `label` and `container` parts when the control is disabled (`disabled` === `true`).\r\n * @part indeterminate - Present in the `input`, `option`, `label` and `container` parts when the control is indeterminate (`indeterminate` === `true`).\r\n * @part unchecked - Present in the `input`, `option`, `label` and `container` parts when the control is unchecked and not indeterminate (`value` === `unCheckedValue` and `indeterminate !== true`).\r\n */\r\n@Component({\r\n  shadow: true,\r\n  styleUrl: \"checkbox.scss\",\r\n  tag: \"ch-checkbox\"\r\n})\r\nexport class CheckBox implements AccessibleNameComponent, DisableableComponent {\r\n  /**\r\n   * This State is computed from the `value`, `checkedValue` and\r\n   * `unCheckedValue` properties.\r\n   */\r\n  @State() checked: boolean;\r\n\r\n  /**\r\n   * Specifies a short string, typically 1 to 3 words, that authors associate\r\n   * with an element to provide users of assistive technologies with a label\r\n   * for the element.\r\n   */\r\n  @Prop() readonly accessibleName: string;\r\n\r\n  /**\r\n   * Specifies the label of the checkbox.\r\n   */\r\n  @Prop() readonly caption: string;\r\n\r\n  /**\r\n   * The value when the checkbox is 'on'\r\n   */\r\n  @Prop() readonly checkedValue!: string;\r\n\r\n  /**\r\n   * This attribute lets you specify if the element is disabled.\r\n   * If disabled, it will not fire any user interaction related event\r\n   * (for example, click event).\r\n   */\r\n  @Prop() readonly disabled: boolean = false;\r\n\r\n  /**\r\n   * True to highlight control when an action is fired.\r\n   */\r\n  @Prop() readonly highlightable: boolean = false;\r\n\r\n  /**\r\n   * `true` if the control's value is indeterminate.\r\n   */\r\n  @Prop({ mutable: true }) indeterminate: boolean = false;\r\n\r\n  /**\r\n   * This attribute indicates that the user cannot modify the value of the control.\r\n   * Same as [readonly](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-readonly)\r\n   * attribute for `input` elements.\r\n   */\r\n  @Prop() readonly readonly: boolean = false;\r\n\r\n  /**\r\n   * The value when the checkbox is 'off'\r\n   */\r\n  @Prop() readonly unCheckedValue!: string;\r\n\r\n  /**\r\n   * The value of the control.\r\n   */\r\n  @Prop({ mutable: true }) value!: string;\r\n\r\n  /**\r\n   * Emitted when the element is clicked or the space key is pressed and\r\n   * released.\r\n   */\r\n  @Event() click: EventEmitter;\r\n\r\n  /**\r\n   * The `input` event is emitted when a change to the element's value is\r\n   * committed by the user.\r\n   */\r\n  @Event() input: EventEmitter;\r\n\r\n  @Watch(\"value\")\r\n  protected valueChanged() {\r\n    this.checked = this.value === this.checkedValue;\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.checked = this.value === this.checkedValue;\r\n  }\r\n\r\n  #getValue = (checked: boolean) =>\r\n    checked ? this.checkedValue : this.unCheckedValue;\r\n\r\n  /**\r\n   * Checks if it is necessary to prevent the click from bubbling\r\n   */\r\n  // eslint-disable-next-line @stencil-community/own-props-must-be-private\r\n  #handleClick = (event: UIEvent) => {\r\n    if (this.readonly || this.disabled) {\r\n      return;\r\n    }\r\n\r\n    event.stopPropagation();\r\n  };\r\n\r\n  #handleChange = (event: UIEvent) => {\r\n    event.stopPropagation();\r\n\r\n    const inputRef = event.target as HTMLInputElement;\r\n    const checked = inputRef.checked;\r\n    const value = this.#getValue(checked);\r\n\r\n    this.checked = checked;\r\n    this.value = value;\r\n    inputRef.value = value; // Update input's value before emitting the event\r\n\r\n    // When the checked value is updated by the user, the control must no\r\n    // longer be indeterminate\r\n    this.indeterminate = false;\r\n\r\n    this.input.emit(event);\r\n\r\n    if (this.highlightable) {\r\n      this.click.emit();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const additionalParts = PARTS(\r\n      this.checked,\r\n      this.indeterminate,\r\n      this.disabled\r\n    );\r\n\r\n    return (\r\n      <Host\r\n        class={{\r\n          [DISABLED_CLASS]: this.disabled,\r\n          \"ch-checkbox--actionable\":\r\n            (!this.readonly && !this.disabled) ||\r\n            (this.readonly && this.highlightable)\r\n        }}\r\n      >\r\n        <div\r\n          class={{\r\n            container: true,\r\n            \"container--checked\": this.checked\r\n          }}\r\n          part={`${CHECKBOX_PARTS_DICTIONARY.CONTAINER} ${additionalParts}`}\r\n        >\r\n          <input\r\n            aria-label={\r\n              this.accessibleName?.trim() !== \"\" &&\r\n              this.accessibleName !== this.caption\r\n                ? this.accessibleName\r\n                : null\r\n            }\r\n            id={this.caption ? CHECKBOX_ID : null}\r\n            class=\"input\"\r\n            part={`${CHECKBOX_PARTS_DICTIONARY.INPUT} ${additionalParts}`}\r\n            type=\"checkbox\"\r\n            checked={this.checked}\r\n            disabled={this.disabled || this.readonly}\r\n            indeterminate={this.indeterminate}\r\n            value={this.value}\r\n            onClick={this.#handleClick}\r\n            onInput={this.#handleChange}\r\n          />\r\n          <div\r\n            class={{\r\n              option: true,\r\n              \"option--not-displayed\": !this.checked && !this.indeterminate,\r\n              \"option--checked\": this.checked && !this.indeterminate,\r\n              \"option--indeterminate\": this.indeterminate\r\n            }}\r\n            part={`${CHECKBOX_PARTS_DICTIONARY.OPTION} ${additionalParts}`}\r\n            aria-hidden=\"true\"\r\n          ></div>\r\n        </div>\r\n\r\n        {this.caption && (\r\n          <label\r\n            class=\"label\"\r\n            part={`${CHECKBOX_PARTS_DICTIONARY.LABEL} ${additionalParts}`}\r\n            htmlFor={CHECKBOX_ID}\r\n            onClick={this.#handleClick}\r\n          >\r\n            {this.caption}\r\n          </label>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}