{"version":3,"names":["dropdownCss","ChDropdownStyle0","mapDropdownAlignToChWindowAlign","OutsideStart","InsideStart","Center","InsideEnd","OutsideEnd","ACTION_LINK","concat","DROPDOWN_PARTS_DICTIONARY","ACTION","LINK","ACTION_LINK_EXPANDABLE","EXPANDABLE","ACTION_BUTTON","BUTTON","ACTION_BUTTON_EXPANDABLE","DROPDOWN_TAG_NAME","WINDOW_ID","elementIsDropdown","element","_b","tagName","toLowerCase","ChDropDown","exports","_a","_firstExpanded","set","this","_mainAction","_closeDropdownSibling","currentFocusedElement","focusComposedPath","currentFocusedItem","length","level","_this","dispatchEvent","CustomEvent","bubbles","detail","_closeDropdown","expandedChange","emit","expanded","_closeOnClickOutside","event","composedPath","find","el","undefined","__classPrivateFieldGet","call","_handleMouseEnter","stopPropagation","_handleMouseLeave","_handleButtonClick","itemClickCallback","nestedDropdown","pointerType","leaf","newExpandedValue","_dropDownItemContent","h","slot","class","part","CONTENT","caption","shortcut","SHORTCUT","_firstLevelRender","popoverTarget","toString","buttonAccessibleName","EXPANDABLE_BUTTON","type","onClick","ref","__classPrivateFieldSet","name","_actionRender","pseudoStartImage","isPseudoElementImg","startImgSrc","startImgType","pseudoEndImage","endImgSrc","endImgType","href","action","onMouseEnter","actionGroupParent","_c","_popoverRender","aligns","position","split","alignX","alignY","xAlignMapping","yAlignMapping","noNeedToAddDivListWrapper","showHeader","showFooter","role","id","WINDOW","actionById","actionElement","firstLayer","popover","hidden","inlineAlign","blockAlign","class_1","prototype","handleExpandedChange","document","addEventListener","capture","passive","removeEventListener","popoverTargetElement","onActionClick","onRecursiveClose","stopperLevel","focusElement","focus","collapseDropdown","expandDropdown","render","Host","key","style","onMouseLeave"],"sources":["src/components/dropdown/internal/dropdown/dropdown.scss?tag=ch-dropdown&encapsulation=shadow","src/components/dropdown/internal/dropdown/dropdown.tsx"],"sourcesContent":["@import \"../../../../common/_base\";\r\n\r\n$z-index-gx-navbar-item: 107; // Same as $z-index-gx-navbar-item from w-c-l\r\n\r\n:where(a, button) {\r\n  all: unset;\r\n}\r\n\r\na,\r\nbutton {\r\n  display: flex;\r\n  align-items: center;\r\n  inline-size: 100%;\r\n  block-size: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n// Must be placed after the \":where(a, button)\"\r\n@include box-sizing();\r\n\r\n:host {\r\n  --ch-dropdown-item__image-size: #{$default-decorative-image-size};\r\n  --ch-dropdown-item__background-image-size: 100%;\r\n\r\n  --ch-dropdown-separation: 0px;\r\n  --ch-dropdown-separation-x: var(--ch-dropdown-separation);\r\n  --ch-dropdown-separation-y: var(--ch-dropdown-separation);\r\n\r\n  display: flex;\r\n  position: relative;\r\n  inline-size: 100%;\r\n  block-size: 100%;\r\n}\r\n\r\n.expandable-button {\r\n  justify-content: center;\r\n  align-self: center;\r\n  position: relative;\r\n  z-index: $z-index-gx-navbar-item + 1;\r\n}\r\n\r\n// Remove focus of the button content\r\n::slotted([slot=\"action\"]) {\r\n  pointer-events: none;\r\n}\r\n\r\n// - - - - - - - - - - - - - - - -\r\n//           Separation\r\n// - - - - - - - - - - - - - - - -\r\nch-popover {\r\n  --ch-popover-separation-x: var(--ch-dropdown-separation-x);\r\n  --ch-popover-separation-y: var(--ch-dropdown-separation-y);\r\n\r\n  &:not(.hydrated) {\r\n    opacity: 0;\r\n  }\r\n}\r\n// Dummy separation to keep opened the popup when expand-behavior === \"ClickOrHover\"\r\n// ch-window[y-align=\"outside-start\"] {\r\n//   --ch-window-separation: var(--separation-y);\r\n//   --ch-window-separation-y: calc(var(--separation-y) * -1);\r\n// }\r\n\r\n// ch-window[y-align=\"outside-end\"] {\r\n//   --ch-window-separation: var(--separation-y);\r\n//   --ch-window-separation-y: var(--separation-y);\r\n// }\r\n\r\n// ch-window[x-align=\"outside-start\"] {\r\n//   --ch-window-separation: var(--separation-x);\r\n//   --ch-window-separation-x: calc(var(--separation-x) * -1);\r\n// }\r\n\r\n// ch-window[x-align=\"outside-end\"] {\r\n//   --ch-window-separation: var(--separation-x);\r\n//   --ch-window-separation-x: var(--separation-x);\r\n// }\r\n\r\n.list {\r\n  display: contents;\r\n}\r\n\r\n.action {\r\n  text-align: start;\r\n}\r\n\r\n// - - - - - - - - - - - - - - - -\r\n//             Images\r\n// - - - - - - - - - - - - - - - -\r\n.pseudo-img--start::before,\r\n.pseudo-img--end::after {\r\n  content: \"\";\r\n  display: block;\r\n  inline-size: var(--ch-dropdown-item__image-size);\r\n  block-size: var(--ch-dropdown-item__image-size);\r\n  min-inline-size: var(--ch-dropdown-item__image-size);\r\n}\r\n\r\n.pseudo-img--start {\r\n  --ch-dropdown-item-img: var(--ch-dropdown-item-start-img);\r\n}\r\n\r\n.pseudo-img--end {\r\n  --ch-dropdown-item-img: var(--ch-dropdown-item-end-img);\r\n}\r\n\r\n.start-img-type--background::before,\r\n.end-img-type--background::after {\r\n  background: no-repeat center / var(--ch-dropdown-item__background-image-size)\r\n    var(--ch-dropdown-item-img);\r\n}\r\n\r\n.start-img-type--mask::before,\r\n.end-img-type--mask::after {\r\n  -webkit-mask: var(--ch-dropdown-item-img) 50% 50% /\r\n    var(--ch-dropdown-item__background-image-size)\r\n    var(--ch-dropdown-item__background-image-size) no-repeat;\r\n  background-color: currentColor;\r\n}\r\n\r\n.content {\r\n  inline-size: 100%;\r\n}\r\n","import {\r\n  Component,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  Host,\r\n  Listen,\r\n  Method,\r\n  Prop,\r\n  Watch,\r\n  h\r\n} from \"@stencil/core\";\r\nimport { Component as ChComponent } from \"../../../../common/interfaces\";\r\n\r\nimport { DropdownAlign, DropdownPosition } from \"./types\";\r\nimport { ChPopoverAlign } from \"../../../popover/types\";\r\nimport { focusComposedPath } from \"../../../common/helpers\";\r\nimport { ChDropdownCustomEvent } from \"../../../../components\";\r\nimport { isPseudoElementImg } from \"../../../../common/utils\";\r\nimport { ImageRender } from \"../../../../common/types\";\r\nimport { DROPDOWN_PARTS_DICTIONARY } from \"../../../../common/reserverd-names\";\r\n\r\nconst mapDropdownAlignToChWindowAlign: {\r\n  [key in DropdownAlign]: ChPopoverAlign;\r\n} = {\r\n  OutsideStart: \"outside-start\",\r\n  InsideStart: \"inside-start\",\r\n  Center: \"center\",\r\n  InsideEnd: \"inside-end\",\r\n  OutsideEnd: \"outside-end\"\r\n};\r\n\r\n// Parts\r\nconst ACTION_LINK =\r\n  `${DROPDOWN_PARTS_DICTIONARY.ACTION} ${DROPDOWN_PARTS_DICTIONARY.LINK}` as const;\r\n\r\nconst ACTION_LINK_EXPANDABLE =\r\n  `${ACTION_LINK} ${DROPDOWN_PARTS_DICTIONARY.EXPANDABLE}` as const;\r\n\r\nconst ACTION_BUTTON =\r\n  `${DROPDOWN_PARTS_DICTIONARY.ACTION} ${DROPDOWN_PARTS_DICTIONARY.BUTTON}` as const;\r\n\r\nconst ACTION_BUTTON_EXPANDABLE =\r\n  `${ACTION_BUTTON} ${DROPDOWN_PARTS_DICTIONARY.EXPANDABLE}` as const;\r\n\r\nconst DROPDOWN_TAG_NAME = \"ch-dropdown\";\r\nconst WINDOW_ID = \"window\";\r\n\r\nconst elementIsDropdown = (element: Element) =>\r\n  element?.tagName?.toLowerCase() === DROPDOWN_TAG_NAME;\r\n\r\n@Component({\r\n  shadow: true,\r\n  styleUrl: \"dropdown.scss\",\r\n  tag: \"ch-dropdown\"\r\n})\r\nexport class ChDropDown implements ChComponent {\r\n  #firstExpanded = false;\r\n\r\n  // Refs\r\n  #mainAction: HTMLButtonElement | HTMLAnchorElement;\r\n\r\n  @Element() el: HTMLChDropdownElement;\r\n\r\n  /**\r\n   * Specifies if the current parent of the item is the action-group control.\r\n   */\r\n  @Prop() readonly actionGroupParent: boolean = false;\r\n\r\n  /**\r\n   * This attribute lets you specify the label for the expandable button.\r\n   * Important for accessibility.\r\n   */\r\n  @Prop() readonly buttonAccessibleName: string;\r\n\r\n  /**\r\n   * Specifies the caption that the control will display.\r\n   */\r\n  @Prop() readonly caption: string;\r\n\r\n  /**\r\n   * Specifies the src of the end image.\r\n   */\r\n  @Prop() readonly endImgSrc: string;\r\n\r\n  /**\r\n   * Specifies how the end image will be rendered.\r\n   */\r\n  @Prop() readonly endImgType: ImageRender = \"background\";\r\n\r\n  /**\r\n   * `true` to display the dropdown section.\r\n   */\r\n  @Prop({ mutable: true }) expanded = false;\r\n\r\n  @Watch(\"expanded\")\r\n  handleExpandedChange(newExpandedValue: boolean) {\r\n    if (newExpandedValue) {\r\n      // Click\r\n      document.addEventListener(\"click\", this.#closeOnClickOutside, {\r\n        capture: true,\r\n        passive: true\r\n      });\r\n    } else {\r\n      // Click\r\n      document.removeEventListener(\"click\", this.#closeOnClickOutside, {\r\n        capture: true\r\n      });\r\n\r\n      // This is a WA to avoid a StencilJS's (or browser) issue when reusing\r\n      // the top layer and interacting with the Tab key in the same top layer.\r\n      // After the second opening, the Tab key stops working\r\n      (this.#mainAction as HTMLButtonElement).popoverTargetElement = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Specifies the hyperlink of the item. If this property is defined, the\r\n   * control will render an anchor tag with this `href`. Otherwise, it will\r\n   * render a button tag.\r\n   */\r\n  @Prop() readonly href: string;\r\n\r\n  /**\r\n   * This callback is executed when an item is clicked.\r\n   */\r\n  @Prop() readonly itemClickCallback: (event: UIEvent) => void;\r\n\r\n  /**\r\n   * Specifies whether the item contains a subtree. `true` if the item does not\r\n   * have a subtree.\r\n   */\r\n  @Prop() readonly leaf: boolean = false;\r\n\r\n  /**\r\n   * Level in the render at which the item is placed.\r\n   */\r\n  @Prop() readonly level: number;\r\n\r\n  /**\r\n   * This attribute lets you specify if the control is nested in another\r\n   * dropdown. Useful to manage keyboard interaction.\r\n   */\r\n  @Prop() readonly nestedDropdown: boolean = false;\r\n\r\n  /**\r\n   * Determine if the dropdown section should be opened when the expandable\r\n   * button of the control is focused.\r\n   * TODO: Add implementation\r\n   */\r\n  @Prop() readonly openOnFocus: boolean = false;\r\n\r\n  /**\r\n   * Specifies the position of the dropdown section that is placed relative to\r\n   * the expandable button.\r\n   */\r\n  @Prop() readonly position: DropdownPosition = \"Center_OutsideEnd\";\r\n\r\n  /**\r\n   * Specifies the shortcut caption that the control will display.\r\n   */\r\n  @Prop() readonly shortcut: string;\r\n\r\n  /**\r\n   * `true` to make available a slot to show a footer element.\r\n   */\r\n  @Prop() readonly showFooter: boolean = false;\r\n\r\n  /**\r\n   * `true` to make available a slot to show a header element.\r\n   */\r\n  @Prop() readonly showHeader: boolean = false;\r\n\r\n  /**\r\n   * Specifies the src for the left img.\r\n   */\r\n  @Prop() readonly startImgSrc: string;\r\n\r\n  /**\r\n   * Specifies how the start image will be rendered.\r\n   */\r\n  @Prop() readonly startImgType: ImageRender = \"background\";\r\n\r\n  /**\r\n   * Fired when the visibility of the dropdown section is changed by user\r\n   * interaction.\r\n   */\r\n  @Event() expandedChange: EventEmitter<boolean>;\r\n\r\n  @Listen(\"actionClick\")\r\n  onActionClick() {\r\n    // this.#closeDropdown();\r\n    // @todo This behavior must be specified by a property\r\n    // this.returnFocusToButton();\r\n  }\r\n\r\n  @Listen(\"recursiveClose\")\r\n  onRecursiveClose(event: ChDropdownCustomEvent<number>) {\r\n    const stopperLevel = event.detail;\r\n\r\n    if (this.level === stopperLevel) {\r\n      event.stopPropagation();\r\n    }\r\n\r\n    this.#closeDropdown();\r\n  }\r\n\r\n  /**\r\n   * Focus the dropdown action.\r\n   */\r\n  @Method()\r\n  async focusElement() {\r\n    this.#mainAction.focus();\r\n  }\r\n\r\n  /**\r\n   * Collapse the content of the dropdown.\r\n   */\r\n  @Method()\r\n  async collapseDropdown() {\r\n    if (this.expanded) {\r\n      this.expandedChange.emit(false);\r\n      this.expanded = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Expand the content of the dropdown.\r\n   */\r\n  @Method()\r\n  async expandDropdown() {\r\n    if (!this.expanded) {\r\n      this.expandedChange.emit(true);\r\n      this.expanded = true;\r\n    }\r\n  }\r\n\r\n  #closeDropdownSibling = () => {\r\n    const currentFocusedElement = focusComposedPath();\r\n    const currentFocusedItem = currentFocusedElement[\r\n      currentFocusedElement.length - 1\r\n    ] as HTMLChDropdownElement;\r\n\r\n    if (!elementIsDropdown(currentFocusedItem)) {\r\n      return;\r\n    }\r\n\r\n    if (currentFocusedItem.level < this.level) {\r\n      return;\r\n    }\r\n\r\n    // Fire an event to close all dropdown parents up to a certain level\r\n    currentFocusedItem.dispatchEvent(\r\n      new CustomEvent(\"recursiveClose\", { bubbles: true, detail: this.level })\r\n    );\r\n  };\r\n\r\n  #closeDropdown = () => {\r\n    this.expandedChange.emit(false);\r\n    this.expanded = false;\r\n  };\r\n\r\n  /**\r\n   * Returns focus to the expandable button when closing the dropdown. Only\r\n   * works if `openOnFocus = \"false\"`\r\n   */\r\n  // eslint-disable-next-line @stencil-community/own-props-must-be-private\r\n  // #returnFocusToButton = () => {\r\n  //   if (!this.openOnFocus) {\r\n  //     this.#mainAction.focus();\r\n  //   }\r\n  // };\r\n\r\n  // eslint-disable-next-line @stencil-community/own-props-must-be-private\r\n  #closeOnClickOutside = (event: MouseEvent) => {\r\n    if (event.composedPath().find(el => el === this.el) === undefined) {\r\n      this.#closeDropdown();\r\n    }\r\n  };\r\n\r\n  #handleMouseEnter = (event: MouseEvent) => {\r\n    event.stopPropagation();\r\n\r\n    // We first must close the current expanded dropdown, since with the\r\n    // keyboard we could have expanded a different dropdown\r\n    this.#closeDropdownSibling();\r\n\r\n    if (!this.expanded) {\r\n      this.expandedChange.emit(true);\r\n      this.expanded = true;\r\n    }\r\n  };\r\n\r\n  #handleMouseLeave = (event: MouseEvent) => {\r\n    event.stopPropagation();\r\n\r\n    if (this.expanded) {\r\n      this.expandedChange.emit(false);\r\n      this.expanded = false;\r\n    }\r\n  };\r\n\r\n  // /**\r\n  //  * Check if the next focused element is a child element of the dropdown\r\n  //  * control.\r\n  //  */\r\n  // // eslint-disable-next-line @stencil-community/own-props-must-be-private\r\n  // #handleKeyUpEvents = (event: KeyboardEvent) => {\r\n\r\n  //   if (event.code !== TAB_KEY) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   const isChildElement = event.composedPath().includes(this.el);\r\n  //   if (isChildElement) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   this.#closeDropdown();\r\n  // };\r\n\r\n  #handleButtonClick = (event: PointerEvent) => {\r\n    event.stopPropagation();\r\n\r\n    if (this.level !== -1 && this.itemClickCallback) {\r\n      this.itemClickCallback(event);\r\n    }\r\n\r\n    // If the nested dropdown is expanded and its expandable button is clicked\r\n    // with the MOUSE and not the keyboard, do not change the visibility\r\n    if (this.nestedDropdown && this.expanded && event.pointerType) {\r\n      return;\r\n    }\r\n\r\n    // if (!this.expanded) {\r\n    //   // We first must close the current expanded dropdown, since with the\r\n    //   // mouse we could have expanded a different dropdown\r\n    //   this.#closeDropdownSibling();\r\n    // }\r\n\r\n    // WA: When clicking a leaf, its dropdown ancestors must be closed\r\n    if (this.leaf) {\r\n      this.el.dispatchEvent(\r\n        new CustomEvent(\"recursiveClose\", {\r\n          bubbles: true,\r\n          detail: this.level + 1\r\n        })\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    const newExpandedValue = !this.expanded;\r\n\r\n    this.expanded = newExpandedValue;\r\n    this.expandedChange.emit(newExpandedValue);\r\n  };\r\n\r\n  #dropDownItemContent = () => [\r\n    <span\r\n      slot=\"action\"\r\n      class=\"content\"\r\n      part={DROPDOWN_PARTS_DICTIONARY.CONTENT}\r\n    >\r\n      {this.caption}\r\n    </span>,\r\n\r\n    !!this.shortcut && (\r\n      <span\r\n        aria-hidden=\"true\"\r\n        slot=\"action\"\r\n        part={DROPDOWN_PARTS_DICTIONARY.SHORTCUT}\r\n      >\r\n        {this.shortcut}\r\n      </span>\r\n    )\r\n  ];\r\n\r\n  #firstLevelRender = () => (\r\n    <button\r\n      popoverTarget={WINDOW_ID}\r\n      aria-controls={WINDOW_ID}\r\n      aria-expanded={this.expanded.toString()}\r\n      aria-haspopup=\"true\"\r\n      aria-label={this.buttonAccessibleName}\r\n      class=\"expandable-button\"\r\n      part={DROPDOWN_PARTS_DICTIONARY.EXPANDABLE_BUTTON}\r\n      type=\"button\"\r\n      onClick={this.#handleButtonClick}\r\n      ref={el => (this.#mainAction = el)}\r\n    >\r\n      <slot name=\"action\" />\r\n    </button>\r\n  );\r\n\r\n  #actionRender = () => {\r\n    const pseudoStartImage = isPseudoElementImg(\r\n      this.startImgSrc,\r\n      this.startImgType\r\n    );\r\n    const pseudoEndImage = isPseudoElementImg(this.endImgSrc, this.endImgType);\r\n\r\n    return this.href ? (\r\n      <a\r\n        aria-controls={!this.leaf ? WINDOW_ID : null}\r\n        aria-expanded={!this.leaf ? this.expanded.toString() : null}\r\n        aria-haspopup={!this.leaf ? \"true\" : null}\r\n        class={{\r\n          action: true,\r\n\r\n          [`start-img-type--${this.startImgType} pseudo-img--start`]:\r\n            pseudoStartImage,\r\n          [`end-img-type--${this.endImgType} pseudo-img--end`]: pseudoEndImage\r\n        }}\r\n        part={this.leaf ? ACTION_LINK : ACTION_LINK_EXPANDABLE}\r\n        href={this.href}\r\n        onClick={this.#handleButtonClick}\r\n        onMouseEnter={\r\n          !this.leaf && !this.actionGroupParent ? this.#handleMouseEnter : null\r\n        }\r\n        ref={el => (this.#mainAction = el)}\r\n      >\r\n        {this.#dropDownItemContent()}\r\n      </a>\r\n    ) : (\r\n      <button\r\n        popoverTarget={WINDOW_ID}\r\n        aria-controls={!this.leaf ? WINDOW_ID : null}\r\n        aria-expanded={!this.leaf ? this.expanded.toString() : null}\r\n        aria-haspopup={!this.leaf ? \"true\" : null}\r\n        class={{\r\n          action: true,\r\n\r\n          [`start-img-type--${this.startImgType} pseudo-img--start`]:\r\n            pseudoStartImage,\r\n          [`end-img-type--${this.endImgType} pseudo-img--end`]: pseudoEndImage\r\n        }}\r\n        part={this.leaf ? ACTION_BUTTON : ACTION_BUTTON_EXPANDABLE}\r\n        type=\"button\"\r\n        onMouseEnter={\r\n          !this.leaf && !this.actionGroupParent ? this.#handleMouseEnter : null\r\n        }\r\n        onClick={this.#handleButtonClick}\r\n        ref={el => (this.#mainAction = el)}\r\n      >\r\n        {this.#dropDownItemContent()}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  #popoverRender = () => {\r\n    this.#firstExpanded ||= this.expanded;\r\n\r\n    if (!this.#firstExpanded) {\r\n      return \"\";\r\n    }\r\n\r\n    const aligns = this.position.split(\"_\");\r\n    const alignX = aligns[0] as DropdownAlign;\r\n    const alignY = aligns[1] as DropdownAlign;\r\n\r\n    const xAlignMapping = mapDropdownAlignToChWindowAlign[alignX];\r\n    const yAlignMapping = mapDropdownAlignToChWindowAlign[alignY];\r\n\r\n    const noNeedToAddDivListWrapper = !this.showHeader && !this.showFooter;\r\n\r\n    return (\r\n      <ch-popover\r\n        role={noNeedToAddDivListWrapper ? \"list\" : null}\r\n        id={WINDOW_ID}\r\n        part={DROPDOWN_PARTS_DICTIONARY.WINDOW}\r\n        actionById={true}\r\n        actionElement={this.#mainAction as HTMLButtonElement}\r\n        firstLayer={this.level === -1 || this.actionGroupParent}\r\n        popover=\"manual\"\r\n        hidden={!this.expanded}\r\n        inlineAlign={xAlignMapping}\r\n        blockAlign={yAlignMapping}\r\n      >\r\n        {noNeedToAddDivListWrapper ? (\r\n          <slot />\r\n        ) : (\r\n          [\r\n            this.showHeader && <slot name=\"header\" />,\r\n\r\n            <div role=\"list\" class=\"list\">\r\n              <slot />\r\n            </div>,\r\n\r\n            this.showFooter && <slot name=\"footer\" />\r\n          ]\r\n        )}\r\n      </ch-popover>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        role={this.level !== -1 ? \"listitem\" : null}\r\n        style={\r\n          !!this.startImgSrc || !!this.endImgSrc\r\n            ? {\r\n                \"--ch-dropdown-item-start-img\": `url(\"${this.startImgSrc}\")`,\r\n                \"--ch-dropdown-item-end-img\": `url(\"${this.endImgSrc}\")`\r\n              }\r\n            : undefined\r\n        }\r\n        onMouseLeave={\r\n          !this.actionGroupParent && this.level !== -1\r\n            ? this.#handleMouseLeave\r\n            : null\r\n        }\r\n      >\r\n        {this.level === -1 && !this.leaf\r\n          ? this.#firstLevelRender()\r\n          : this.#actionRender()}\r\n\r\n        {!this.leaf && this.#popoverRender()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}