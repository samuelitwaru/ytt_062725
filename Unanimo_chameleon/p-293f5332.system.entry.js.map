{"version":3,"names":["sidebarCss","ChSidebarStyle0","autoId","ChSidebar","exports","_a","_sidebarId","set","this","_handleExpandedChange","event","stopPropagation","newExpandedValue","_this","expanded","expandedChange","emit","class_1","prototype","expandedChanged","newValue","notifySubscribers","__classPrivateFieldGet","connectedCallback","__classPrivateFieldSet","concat","el","id","addObservable","disconnectedCallback","removeObservable","render","h","Host","key","class","showExpandButton","expandButtonAccessibleName","part","type","onClick"],"sources":["src/components/sidebar/sidebar.scss?tag=ch-sidebar&encapsulation=shadow","src/components/sidebar/sidebar.tsx"],"sourcesContent":["@import \"../../common/base\";\r\n\r\n@include button-reset();\r\n@include box-sizing();\r\n\r\n:host {\r\n  --ch-sidebar-inline-size--expanded: auto;\r\n  --ch-sidebar-inline-size--collapsed: auto;\r\n\r\n  display: grid;\r\n  grid-template-rows: 1fr max-content;\r\n  inline-size: var(--ch-sidebar-inline-size--expanded);\r\n}\r\n\r\n:host(.ch-sidebar--collapsed) {\r\n  inline-size: var(--ch-sidebar-inline-size--collapsed);\r\n}\r\n","import {\r\n  Component,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  Prop,\r\n  Host,\r\n  h,\r\n  Watch\r\n} from \"@stencil/core\";\r\nimport {\r\n  addObservable,\r\n  notifySubscribers,\r\n  removeObservable\r\n} from \"./expanded-change-obervables\";\r\n\r\nlet autoId = 0;\r\n\r\n@Component({\r\n  shadow: true,\r\n  styleUrl: \"sidebar.scss\",\r\n  tag: \"ch-sidebar\"\r\n})\r\nexport class ChSidebar {\r\n  /**\r\n   * This ID is used to identify the control. Useful when the expandedChange\r\n   * event is fired and the subscribed nodes travel all the tree up to the root\r\n   * searching for the ID that emitted the expandedChange event.\r\n   */\r\n  // eslint-disable-next-line @stencil-community/own-props-must-be-private\r\n  #sidebarId: string;\r\n\r\n  @Element() el: HTMLChSidebarElement;\r\n\r\n  /**\r\n   *\r\n   */\r\n  @Prop() readonly expandButtonAccessibleName: string;\r\n\r\n  /**\r\n   * Specifies whether the control is expanded or collapsed.\r\n   */\r\n  @Prop({ mutable: true }) expanded: boolean = true;\r\n  @Watch(\"expanded\")\r\n  expandedChanged(newValue: boolean) {\r\n    notifySubscribers(this.#sidebarId, newValue);\r\n  }\r\n\r\n  /**\r\n   * `true` to display a expandable button at the bottom of the control.\r\n   */\r\n  @Prop() readonly showExpandButton: boolean = true;\r\n\r\n  /**\r\n   * Emitted when the element is clicked or the space key is pressed and\r\n   * released.\r\n   */\r\n  @Event() expandedChange: EventEmitter<boolean>;\r\n\r\n  #handleExpandedChange = (event: MouseEvent) => {\r\n    event.stopPropagation();\r\n\r\n    const newExpandedValue = !this.expanded;\r\n    this.expanded = newExpandedValue;\r\n\r\n    this.expandedChange.emit(newExpandedValue);\r\n  };\r\n\r\n  connectedCallback() {\r\n    this.#sidebarId ||= `ch-sidebar-${autoId++}`;\r\n\r\n    // The ID MUST be set in this instance, because when searching for the\r\n    // ancestors in `syncStateWithObservableAncestors` we use the DOM id and\r\n    // the method could be executed before the first render of the sidebar,\r\n    // where we typically attach the Host attributes, in this case, the id attr\r\n    this.el.id = this.#sidebarId;\r\n\r\n    addObservable(this.#sidebarId, this.expanded);\r\n    notifySubscribers(this.#sidebarId, this.expanded); // Must run after the ID and the observable has been configured\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    removeObservable(this.#sidebarId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        class={this.expanded ? \"ch-sidebar--expanded\" : \"ch-sidebar--collapsed\"}\r\n      >\r\n        <slot />\r\n\r\n        {this.showExpandButton && (\r\n          <button\r\n            aria-label={this.expandButtonAccessibleName}\r\n            part={`expand-button ${this.expanded ? \"expanded\" : \"collapsed\"}`}\r\n            type=\"button\"\r\n            onClick={this.#handleExpandedChange}\r\n          >\r\n            Expand\r\n          </button>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"0/BAAA,IAAMA,EAAa,srBACnB,IAAAC,EAAeD,ECef,IAAIE,EAAS,E,IAOAC,EAASC,EAAA,cAAAC,EAAA,W,yBAOpBC,EAAAC,IAAAC,UAAA,GA6BAC,EAAAF,IAAAC,MAAwB,SAACE,GACvBA,EAAMC,kBAEN,IAAMC,GAAoBC,EAAKC,SAC/BD,EAAKC,SAAWF,EAEhBC,EAAKE,eAAeC,KAAKJ,E,qHAvBkB,K,sBASA,I,6GAP7CK,EAAAC,UAAAC,gBAAA,SAAgBC,GACdC,EAAkBC,uBAAAd,KAAIF,EAAA,KAAac,E,EAuBrCH,EAAAC,UAAAK,kBAAA,WACEC,uBAAAhB,KAAAF,EAAAgB,uBAAAd,KAAAF,EAAA,MAAoB,cAAAmB,OAAcvB,KAAU,KAM5CM,KAAKkB,GAAGC,GAAKL,uBAAAd,KAAIF,EAAA,KAEjBsB,EAAcN,uBAAAd,KAAIF,EAAA,KAAaE,KAAKM,UACpCO,EAAkBC,uBAAAd,KAAIF,EAAA,KAAaE,KAAKM,S,EAG1CG,EAAAC,UAAAW,qBAAA,WACEC,EAAiBR,uBAAAd,KAAIF,EAAA,K,EAGvBW,EAAAC,UAAAa,OAAA,WACE,OACEC,EAACC,EAAI,CAAAC,IAAA,2CACHC,MAAO3B,KAAKM,SAAW,uBAAyB,yBAEhDkB,EAAA,QAAAE,IAAA,6CAEC1B,KAAK4B,kBACJJ,EAAA,UAAAE,IAAA,wDACc1B,KAAK6B,2BACjBC,KAAM,iBAAAb,OAAiBjB,KAAKM,SAAW,WAAa,aACpDyB,KAAK,SACLC,QAASlB,uBAAAd,KAAIC,EAAA,MAAsB,U,yIA1EzB,G"}