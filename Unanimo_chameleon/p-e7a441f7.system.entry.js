var __extends=this&&this.__extends||function(){var t=function(i,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))t[n]=i[n]};return t(i,n)};return function(i,n){if(typeof n!=="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(i,n);function e(){this.constructor=i}i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var i,n=1,e=arguments.length;n<e;n++){i=arguments[n];for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r))t[r]=i[r]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(t,i,n,e){function r(t){return t instanceof n?t:new n((function(i){i(t)}))}return new(n||(n=Promise))((function(n,s){function o(t){try{c(e.next(t))}catch(t){s(t)}}function h(t){try{c(e["throw"](t))}catch(t){s(t)}}function c(t){t.done?n(t.value):r(t.value).then(o,h)}c((e=e.apply(t,i||[])).next())}))};var __generator=this&&this.__generator||function(t,i){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,r,s,o;return o={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function h(t){return function(i){return c([t,i])}}function c(h){if(e)throw new TypeError("Generator is already executing.");while(o&&(o=0,h[0]&&(n=0)),n)try{if(e=1,r&&(s=h[0]&2?r["return"]:h[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,h[1])).done)return s;if(r=0,s)h=[h[0]&2,s.value];switch(h[0]){case 0:case 1:s=h;break;case 4:n.label++;return{value:h[1],done:false};case 5:n.label++;r=h[1];h=[0];continue;case 7:h=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1];s=h;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(h);break}if(s[2])n.ops.pop();n.trys.pop();continue}h=i.call(t,n)}catch(t){h=[6,t];r=0}finally{e=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(t,i,n){if(n||arguments.length===2)for(var e=0,r=i.length,s;e<r;e++){if(s||!(e in i)){if(!s)s=Array.prototype.slice.call(i,0,e);s[e]=i[e]}}return t.concat(s||Array.prototype.slice.call(i))};System.register(["./p-62fc4e49.system.js","./p-bb05958c.system.js","./p-779b24cc.system.js"],(function(t){"use strict";var i,n,e,r,s,o,h,c,u,a,l;return{setters:[function(t){i=t.r;n=t.c;e=t.g;r=t.h;s=t.H},function(t){o=t.b},function(t){h=t.f;c=t.m;u=t.M;a=t.a;l=t.b}],execute:function(){var f=function(t){__extends(i,t);function i(){return t.call(this)||this}Object.defineProperty(i,"observedAttributes",{get:function(){return["selected","marked"]},enumerable:false,configurable:true});i.prototype.connectedCallback=function(){this.addEventListener("cellCaretClicked",this.cellCaretClickedHandler);if(this.selected||this.marked){this.grid.syncRowState(this)}};i.prototype.attributeChangedCallback=function(t,i,n){var e;if(t==="selected"){this.selected=n!==null?n!=="false":false}if(t==="marked"){this.marked=n!==null?n!=="false":false}(e=this.grid)===null||e===void 0?void 0:e.syncRowState(this)};Object.defineProperty(i.prototype,"grid",{get:function(){var t;return(t=this.parentGrid)!==null&&t!==void 0?t:this.loadParentGrid()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"rowId",{get:function(){var t;return(t=this.getAttribute("rowid"))!==null&&t!==void 0?t:""},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"highlighted",{get:function(){return this.hasAttribute("highlighted")},set:function(t){var i,n;var e;var r=(e=this.grid.rowHighlightedClass)===null||e===void 0?void 0:e.split(" ");if(t===true){this.setAttribute("highlighted","");if(this.grid.rowHighlightedClass){(i=this.classList).add.apply(i,r)}}else{this.removeAttribute("highlighted");if(this.grid.rowHighlightedClass){(n=this.classList).remove.apply(n,r)}}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"selected",{get:function(){return this.hasAttribute("selected")},set:function(t){var i,n;var e;var r=(e=this.grid.rowSelectedClass)===null||e===void 0?void 0:e.split(" ");if(t===true){if(!this.hasAttribute("selected")){this.setAttribute("selected","")}if(this.grid.rowSelectedClass){(i=this.classList).add.apply(i,r)}}else{this.removeAttribute("selected");if(this.grid.rowSelectedClass){(n=this.classList).remove.apply(n,r)}}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"marked",{get:function(){return this.hasAttribute("marked")},set:function(t){var i,n;var e;var r=(e=this.grid.rowMarkedClass)===null||e===void 0?void 0:e.split(" ");if(t===true){if(!this.hasAttribute("marked")){this.setAttribute("marked","")}if(this.grid.rowMarkedClass){(i=this.classList).add.apply(i,r)}}else{this.removeAttribute("marked");if(this.grid.rowMarkedClass){(n=this.classList).remove.apply(n,r)}}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"focused",{get:function(){return this.hasAttribute("focused")},set:function(t){var i,n;var e;var r=(e=this.grid.rowFocusedClass)===null||e===void 0?void 0:e.split(" ");if(t===true){this.setAttribute("focused","");if(this.grid.rowFocusedClass){(i=this.classList).add.apply(i,r)}}else{this.removeAttribute("focused");if(this.grid.rowFocusedClass){(n=this.classList).remove.apply(n,r)}}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"hasChildRows",{get:function(){return!!this.querySelector("ch-grid-rowset")},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"collapsed",{get:function(){return this.hasAttribute("collapsed")},set:function(t){var i=this.collapsed!==t;if(t){this.setAttribute("collapsed","")}else{this.removeAttribute("collapsed")}if(i){this.dispatchEvent(new CustomEvent("rowCollapsedChanged",{bubbles:true,composed:true,detail:{rowId:this.rowId,collapsed:t}}))}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"leaf",{get:function(){return this.hasAttribute("leaf")},set:function(t){if(t===true){this.setAttribute("leaf","")}else{this.removeAttribute("leaf")}},enumerable:false,configurable:true});i.prototype.getCell=function(t){return this.querySelector(":scope > ch-grid-cell:nth-of-type(".concat(t.physicalOrder,")"))};i.prototype.isVisible=function(){return Array.from(this.querySelectorAll(":scope > ch-grid-cell")).some((function(t){return t.isVisible()}))};i.prototype.ensureVisible=function(){this.dispatchEvent(new CustomEvent("rowEnsureVisible",{bubbles:true,composed:true}))};i.prototype.getBoundingClientRect=function(){var t;if(!this.firstElementChild){t=new DOMRect}else if(this.firstElementChild===this.lastElementChild){t=this.firstElementChild.getBoundingClientRect()}else{var i=this.firstElementChild.getBoundingClientRect();var n=this.lastElementChild.getBoundingClientRect();t=new DOMRect(i.x,i.y,n.x-i.x+n.width,n.y-i.y+n.height)}return t};i.prototype.cellCaretClickedHandler=function(t){var i=t.currentTarget;if(i.hasChildRows){this.collapsed=!this.collapsed}t.stopPropagation()};i.prototype.loadParentGrid=function(){this.parentGrid=this.closest("ch-grid");return this.parentGrid};return i}(HTMLElement);if(!customElements.get("ch-grid-row")){customElements.define("ch-grid-row",f)}var d=function(t){__extends(i,t);function i(){var i=t.call(this)||this;i.computedLevel=0;return i}i.prototype.connectedCallback=function(){this.addEventListener("rowsetLegendClicked",this.rowsetLegendClickedHandler);this.defineLevel()};Object.defineProperty(i.prototype,"collapsed",{get:function(){return this.hasAttribute("collapsed")},set:function(t){if(t){this.setAttribute("collapsed","")}else{this.removeAttribute("collapsed")}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"level",{get:function(){if(!this.computedLevel){this.computeLevel()}return this.computedLevel},enumerable:false,configurable:true});i.prototype.getBoundingClientRect=function(){var t;var i=parseInt(this.style.getPropertyValue("padding-top"));var n=parseInt(this.style.getPropertyValue("padding-bottom"));if(!this.firstElementChild){var e=this.grid.shadowRoot.querySelector(".main").getBoundingClientRect();t=new DOMRect(e.x,e.y,e.width,0)}else if(this.firstElementChild===this.lastElementChild){var r=this.firstElementChild.getBoundingClientRect();t=new DOMRect(r.x,r.y-i,r.x+r.width,r.y+r.height+i+n)}else{var r=this.firstElementChild.getBoundingClientRect();var s=this.lastElementChild.getBoundingClientRect();t=new DOMRect(r.x,r.y-i,s.x-r.x+s.width,s.y-r.y+s.height+i+n)}return t};i.prototype.rowsetLegendClickedHandler=function(t){t.stopPropagation();this.collapsed=!this.collapsed};i.prototype.defineLevel=function(){this.style.setProperty("--level",this.level.toString())};i.prototype.computeLevel=function(){var t,i;this.computedLevel=(i=(t=this.getParentRowset())===null||t===void 0?void 0:t.level)!==null&&i!==void 0?i:0;if(this.hasLegend()||this.isNestedRow()){this.computedLevel++}};i.prototype.hasLegend=function(){var t;return((t=this.firstElementChild)===null||t===void 0?void 0:t.tagName)==="CH-GRID-ROWSET-LEGEND"};i.prototype.isNestedRow=function(){return this.parentElement.tagName==="CH-GRID-ROW"};i.prototype.getParentRowset=function(){var t=this.parentElement.closest("ch-grid-rowset, ch-grid");if(t.tagName==="CH-GRID-ROWSET"){return t}return undefined};return i}(HTMLElement);if(!customElements.get("ch-grid-rowset")){customElements.define("ch-grid-rowset",d)}var v;(function(t){t["Plain"]="plain";t["Rich"]="rich";t["TreeNode"]="node"})(v||(v={}));var g=function(t){__extends(i,t);function i(){var i=t.call(this)||this;i.cellType=v.Plain;i.defineFocusHandler();return i}Object.defineProperty(i,"observedAttributes",{get:function(){return["cell-type","row-drag","row-selector","row-actions"]},enumerable:false,configurable:true});i.prototype.connectedCallback=function(){if(this.cellType!==v.Plain){this.define()}};i.prototype.attributeChangedCallback=function(t,i,n){if(t==="cell-type"){this.cellType=n}if(t==="row-drag"){this.cellType=v.Rich;this.rowDrag=n!==null?n!=="false":false}if(t==="row-selector"){this.cellType=v.Rich;this.rowSelector=n!==null?n!=="false":false}if(t==="row-actions"){this.cellType=v.Rich;this.rowActions=n!==null?n!=="false":false}};Object.defineProperty(i.prototype,"type",{get:function(){return this.cellType},set:function(t){if(this.cellType!==t){this.cellType=t;this.define()}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"grid",{get:function(){return this.closest("ch-grid")},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"column",{get:function(){var t=Array.prototype.indexOf.call(this.row.querySelectorAll(":scope > ch-grid-cell"),this);return this.grid.querySelector("ch-grid-column:nth-of-type(".concat(t+1,")"))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"row",{get:function(){return this.parentElement},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"cellId",{get:function(){var t;return(t=this.getAttribute("cellid"))!==null&&t!==void 0?t:""},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"selected",{get:function(){return this.hasAttribute("selected")},set:function(t){if(t===true){this.setAttribute("selected","")}else{this.removeAttribute("selected")}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"focused",{get:function(){return this.hasAttribute("focused")},set:function(t){if(t===true){this.setAttribute("focused","")}else{this.removeAttribute("focused")}},enumerable:false,configurable:true});i.prototype.isVisible=function(){return this.offsetParent!==null};i.prototype.ensureVisible=function(){this.dispatchEvent(new CustomEvent("cellEnsureVisible",{bubbles:true,composed:true}))};i.prototype.setSelectorChecked=function(t){this.selector.checked=t;if(this.selector.checked){this.selector.setAttribute("part","selector checked")}else{this.selector.setAttribute("part","selector")}};i.prototype.defineFocusHandler=function(){var t=this;this.addEventListener("focusin",(function(){if(!t.rowSelector){t.dispatchEvent(new CustomEvent("cellFocused",{bubbles:true,composed:true}))}}))};i.prototype.caretMouseDownHandler=function(t){t.stopPropagation();this.dispatchEvent(new CustomEvent("cellCaretClicked",{bubbles:true,composed:true}))};i.prototype.selectorClickHandler=function(t){t.stopPropagation();this.dispatchEvent(new CustomEvent("cellSelectorClicked",{bubbles:true,composed:true,detail:{checked:this.selector.checked,range:t.shiftKey}}))};i.prototype.selectorLabelClickHandler=function(t){if(!t.shiftKey){t.stopPropagation()}};i.prototype.dragMouseDownHandler=function(t){t.preventDefault();t.stopPropagation();this.dispatchEvent(new CustomEvent("rowDragStarted",{bubbles:true,composed:true,detail:{row:this.row}}))};i.prototype.actionClickHandler=function(){this.dispatchEvent(new CustomEvent("cellRowActionClicked",{bubbles:true,composed:true}))};i.prototype.define=function(){switch(this.cellType){case v.Rich:this.defineRich();break;case v.TreeNode:this.defineTreeNode();break}};i.prototype.defineRich=function(){var t="";if(!this.shadowRoot||this.shadowRoot.innerHTML===""){this.attachShadow({mode:"open"});if(this.rowDrag){t+='\n          <div part="drag-icon"></div>\n        '}if(this.rowSelector){t+='\n          <style>label {display:flex}</style>\n          <label part="selector-label">\n            <input type="checkbox" part="selector">\n          </label>\n        '}if(this.rowActions){t+='\n          <button part="actions-icon"></button>\n        '}this.shadowRoot.innerHTML="\n        ".concat(t,"\n        <slot></slot>\n      ");if(this.rowDrag){this.drag=this.shadowRoot.querySelector("[part='drag-icon']");this.drag.addEventListener("mousedown",this.dragMouseDownHandler.bind(this))}if(this.rowActions){this.action=this.shadowRoot.querySelector("[part='actions-icon']");this.action.addEventListener("click",this.actionClickHandler.bind(this))}if(this.rowSelector){this.selector=this.shadowRoot.querySelector("[part='selector']");this.selector.addEventListener("mousedown",(function(t){return t.stopPropagation()}));this.selector.addEventListener("touchend",(function(t){return t.stopPropagation()}));this.selector.addEventListener("click",this.selectorClickHandler.bind(this));this.selectorLabel=this.shadowRoot.querySelector("[part='selector-label']");this.selectorLabel.addEventListener("mousedown",(function(t){return t.stopPropagation()}));this.selectorLabel.addEventListener("touchend",(function(t){return t.stopPropagation()}));this.selectorLabel.addEventListener("click",this.selectorLabelClickHandler.bind(this))}}};i.prototype.defineTreeNode=function(){if(!this.shadowRoot||this.shadowRoot.innerHTML===""){this.attachShadow({mode:"open"});this.shadowRoot.innerHTML='\n        <style>:host::before {content: none !important}</style>\n        <div part="indent"></div>\n        <div part="caret"></div>\n        <input type="checkbox" part="node-selector" hidden>\n        <div part="node-icon"></div>\n        <slot></slot>\n      ';this.caret=this.shadowRoot.querySelector("[part='caret']");this.caret.addEventListener("mousedown",this.caretMouseDownHandler.bind(this))}};return i}(HTMLElement);if(!customElements.get("ch-grid-cell")){customElements.define("ch-grid-cell",g)}var m=function(){function t(t,i,n){this.lastTargetOrder=0;this.isRTL=n;this.columns=i.map((function(t){return{element:t,rect:t.getBoundingClientRect(),translateX:0,order:t.order}}));this.column=this.columns.find((function(i){return i.element.columnId===t}));this.columns.forEach(this.setColumnHiddenRect.bind(this))}t.prototype.dragging=function(t){var i=this;var n=this.column.element.order;var e=this.column.element.freeze;var r=0;var s=false;this.column.translateX=0;this.columns.filter((function(t){return t.element.freeze===e})).forEach((function(e){var s=e.element.order;var o=n>s?1:-1;var h=(n>s?1:-1)*(i.isRTL?-1:1);if(e.rect.left<t&&t<e.rect.right&&s!==n){i.swapColumnPosition(e,h);e.order=e.element.order+o;r=s}else if(t<e.rect.left&&(i.isRTL?s>n:s<n)){i.swapColumnPosition(e,h);e.order=e.element.order+o;if(!r||(i.isRTL?s>r:s<r)){r=s}}else if(t>e.rect.right&&(i.isRTL?s<n:s>n)){i.swapColumnPosition(e,h);e.order=e.element.order+o;if(!r||(i.isRTL?s<r:s>r)){r=s}}else if(s!==n){i.resetColumnPosition(e)}}));this.column.order=r?r:this.column.element.order;s=r!==this.lastTargetOrder;this.lastTargetOrder=r;return s};t.prototype.dragEnd=function(){this.columns.forEach((function(t){t.element.order=t.order;t.translateX=0}))};t.prototype.getColumnStyle=function(t){var i;return i={},i["--ch-grid-column-".concat(t.physicalOrder,"-transform")]="translateX(".concat(this.columns.find((function(i){return i.element===t})).translateX,"px)"),i};t.prototype.getColumnsFirstLast=function(){var t;var i;this.columns.forEach((function(n){if(!n.element.hidden&&(!t||n.order<t.order)){t=n}if(!n.element.hidden&&(!i||n.order>i.order)){i=n}}));return{columnFirst:t.element,columnLast:i.element}};t.prototype.swapColumnPosition=function(t,i){t.translateX=this.column.rect.width*i;this.column.translateX+=t.rect.width*(i*-1)};t.prototype.resetColumnPosition=function(t){t.translateX=0;t.order=t.element.order};t.prototype.setColumnHiddenRect=function(t){if(t.element.hidden){var i=this.getPreviousSiblingVisible(t)||this.getNextSiblingVisible(t);t.rect=new DOMRect(t.element.order<i.element.order?i.rect.left:i.rect.right,i.rect.y,0,i.rect.height)}};t.prototype.getPreviousSiblingVisible=function(t){var i;this.columns.forEach((function(n){if(!n.element.hidden&&n.element.order<t.element.order&&(!i||n.element.order>i.element.order)){i=n}}));return i};t.prototype.getNextSiblingVisible=function(t){var i;this.columns.forEach((function(n){if(!n.element.hidden&&n.element.order>t.element.order&&(!i||n.element.order<i.element.order)){i=n}}));return i};return t}();var b=function(){function t(t){this.columnsetObserver=new MutationObserver(this.reloadColumns.bind(this));this.columnResizeObserver=new ResizeObserver(this.resizeColumnHandler.bind(this));this.columnsDisplay=[];this.columnsWidth=[];this.manager=t;this.columns=Array.from(this.manager.grid.querySelectorAll("ch-grid-column"));this.observeColumnset();this.defineColumns(this.columns);this.defineColumnsVariables();this.adjustFreezeOrder();this.adjustBaseLayer()}t.prototype.getColumn=function(t){return this.columns.find((function(i){return i.columnId===t}))};t.prototype.getColumns=function(t){if(t===void 0){t=false}if(t){return this.columns.sort(this.fnSortByOrder)}return this.columns};t.prototype.getColumnsFirstLast=function(){var t;var i;this.columns.forEach((function(n){if(!n.hidden&&(!t||n.order<t.order)){t=n}if(!n.hidden&&(!i||n.order>i.order)){i=n}}));return{columnFirst:t,columnLast:i}};t.prototype.getColumnSelector=function(){return this.columns.find((function(t){return t.columnType==="rich"&&t.richRowSelector}))};t.prototype.adjustFreezeOrder=function(){var t=this.columns.filter((function(t){return t.freeze==="start"})).sort(this.fnSortByOrder);var i=this.columns.filter((function(t){return t.freeze!=="start"&&t.freeze!=="end"})).sort(this.fnSortByOrder);var n=this.columns.filter((function(t){return t.freeze==="end"})).sort(this.fnSortByOrder);var e=1;t.forEach((function(t){return t.order=e++}));i.forEach((function(t){return t.order=e++}));n.forEach((function(t){return t.order=e++}))};t.prototype.defineColumns=function(t){var i=this;t.forEach((function(t){i.defineColumnId(t);i.defineColumnIndex(t);i.defineColumnOrder(t);i.defineColumnSize(t);i.defineColumnDisplayObserver(t);i.defineColumnResizeObserver(t);i.defineColumnType(t)}))};t.prototype.defineColumnId=function(t){t.columnId||(t.columnId=this.getColumnUniqueId())};t.prototype.defineColumnIndex=function(t){t.physicalOrder=this.columns.indexOf(t)+1};t.prototype.defineColumnOrder=function(t){t.order||(t.order=t.physicalOrder)};t.prototype.defineColumnSize=function(t){t.size||(t.size="auto")};t.prototype.defineColumnDisplayObserver=function(t){if(t.displayObserverClass&&!t.hidden){var i=this.columnsDisplay.push(document.createElement("ch-grid-column-display"))-1;this.columnsDisplay[i].setAttribute("slot","column-display");this.columnsDisplay[i].setAttribute("class",t.displayObserverClass);this.columnsDisplay[i].column=t;this.manager.grid.appendChild(this.columnsDisplay[i])}};t.prototype.defineColumnResizeObserver=function(t){this.columnResizeObserver.observe(t,{box:"border-box"})};t.prototype.defineColumnType=function(t){switch(t.columnType){case"tree":this.manager.grid.querySelectorAll("ch-grid-cell:nth-child(".concat(t.physicalOrder,")")).forEach((function(t){t.type=v.TreeNode}));break;case"rich":this.manager.grid.querySelectorAll("ch-grid-cell:nth-child(".concat(t.physicalOrder,")")).forEach((function(i){i.rowDrag=t.richRowDrag;i.rowSelector=t.richRowSelector;i.rowActions=t.richRowActions;i.type=v.Rich}));break}};t.prototype.defineColumnsVariables=function(){var t=this.manager.grid.getRootNode();var i=t.querySelector("#ch-grid-columns-variables");if(!i||parseInt(i.getAttribute("data-columns"))<this.columns.length){var n="";for(var e=1;e<=this.columns.length;e++){n+="ch-grid-column:nth-child(".concat(e,"), ch-grid-cell:nth-child(").concat(e,") {\n                        display: var(--ch-grid-column-").concat(e,"-display, flex);\n                        grid-column: var(--ch-grid-column-").concat(e,"-position, ").concat(e,");\n                        margin-inline-start: var(--ch-grid-column-").concat(e,"-margin-start);\n                        border-inline-start: var(--ch-grid-column-").concat(e,"-border-start);\n                        padding-inline-start: var(--ch-grid-column-").concat(e,"-padding-start);\n                        margin-inline-end: var(--ch-grid-column-").concat(e,"-margin-end);\n                        border-inline-end: var(--ch-grid-column-").concat(e,"-border-end);\n                        padding-inline-end: var(--ch-grid-column-").concat(e,"-padding-end);\n                        left: var(--ch-grid-column-").concat(e,"-left-freeze);\n                        right: var(--ch-grid-column-").concat(e,"-right-freeze);\n                    }\n                    ch-grid-column:nth-child(").concat(e,") {\n                      transform: var(--ch-grid-column-").concat(e,"-transform);\n                      z-index: calc(var(--ch-grid-column-").concat(e,"-z-index-freeze, 0) + var(--ch-grid-column-z-index-head, 0)  + var(--ch-grid-column-z-index-active, 0));\n                    }\n                    ch-grid-cell:nth-child(").concat(e,") {\n                      transform: var(--ch-grid-virtual-scroller-position,) var(--ch-grid-column-").concat(e,"-transform,);\n                      z-index: calc(var(--ch-grid-column-").concat(e,"-z-index-freeze, 0) + var(--ch-grid-cell-z-index-active, 0));\n                    }\n                    ch-grid-cell:nth-child(").concat(e,")::before {\n                      content: var(--ch-grid-column-").concat(e,"-content);\n                    }\n                ")}var r="@layer ch-grid {\n        ".concat(n,"\n      }");if(i){i.setAttribute("data-columns",this.columns.length.toString());i.innerHTML=r}else if(t instanceof Document){t.head.insertAdjacentHTML("beforeend",'<style id="ch-grid-columns-variables" data-columns="'.concat(this.columns.length,'">').concat(r,"</style>"))}else if(t instanceof ShadowRoot){var s=document.createElement("style");s.id="ch-grid-columns-variables";s.dataset.columns=this.columns.length.toString();s.innerText=r;t.appendChild(s)}}};t.prototype.undefineColumns=function(t){var i=this;t.forEach((function(t){i.columnResizeObserver.unobserve(t);i.columnsDisplay.filter((function(i){return i.column===t})).forEach((function(t){t.remove()}))}))};t.prototype.observeColumnset=function(){this.columnsetObserver.observe(this.manager.grid.querySelector("ch-grid-columnset"),{childList:true})};t.prototype.reloadColumns=function(){var t=this;var i=Array.from(this.manager.grid.querySelectorAll("ch-grid-column"));var n=i.filter((function(i){return!t.columns.includes(i)}));var e=this.columns.filter((function(t){return!i.includes(t)}));if(n.length||e.length){this.columns=i;this.undefineColumns(e);this.defineColumns(n);this.defineColumnsVariables();this.adjustOrders();this.adjustBaseLayer()}};t.prototype.resizeColumnHandler=function(t){for(var i=0,n=t;i<n.length;i++){var e=n[i];var r=e.target;this.columnsWidth[r.physicalOrder-1]=e.contentRect.width}this.manager.setColumnWidthVariables(this.columnsWidth)};t.prototype.getColumnUniqueId=function(){var t=Date.now().toString(36)+Math.random().toString(36).substring(2);return"ch-grid-column-auto-".concat(t)};t.prototype.adjustOrders=function(){this.columns.forEach((function(t,i){return t.physicalOrder=i+1}));__spreadArray([],this.columns,true).sort(this.fnSortByOrder).forEach((function(t,i){t.order=i+1}))};t.prototype.adjustBaseLayer=function(){this.manager.setBaseLayer(this.columns.length)};t.prototype.fnSortByOrder=function(t,i){if(t.order<i.order){return-1}if(t.order>i.order){return 1}return 0};return t}();var w=function(){function t(t){this.selectionStateNone={rowFocused:null,rowsSelected:[],cellFocused:null,cellSelected:null};this.manager=t}t.prototype.touchStart=function(t){this.touch={clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}};t.prototype.isTouchEndSelection=function(t){return Math.abs(this.touch.clientX-t.changedTouches[0].clientX)<10&&Math.abs(this.touch.clientY-t.changedTouches[0].clientY)<10&&t.cancelable};t.prototype.select=function(t,i,n,e,r,s,o,h){var c,u,a;var l=this.manager.grid;if(l.keyboardNavigationMode==="none"&&l.rowSelectionMode==="none"){return this.selectionStateNone}if(l.rowSelectionMode==="none"){e=false}if(l.rowSelectionMode!=="multiple"){r=false;s=false}if(!i){return t}var f=t.rowFocused,d=t.rowsSelected,v=t.cellFocused,g=t.cellSelected;f=i;v=n;if(s){if(!this.rangeStart){if(o==="focus"){this.rangeStart=t.rowFocused;this.rangeValue=r?!t.rowFocused.selected:true}else if(o==="last-selected"){this.rangeStart=(c=this.lastSelected)!==null&&c!==void 0?c:t.rowFocused;this.rangeValue=r?this.lastSelected.selected:true}}var m=this.manager.getRowsRange((u=this.rangeStart)!==null&&u!==void 0?u:i,i);if(this.rangeValue){if(r){d=Array.from(new Set(d.concat(m)))}else{d=this.preserveInstanceIfSame(m,t.rowsSelected)}g=n||i.getCell((g===null||g===void 0?void 0:g.column)||this.manager.getFirstColumn())}else{d=d.filter((function(t){return!m.includes(t)}));g=null}}else if(r){this.rangeStart=null;this.lastSelected=i;if(d.includes(i)){d=d.filter((function(t){return t!==i}));g=((a=t.cellSelected)===null||a===void 0?void 0:a.row)===i?null:g}else{d=__spreadArray(__spreadArray([],d,true),[i],false);g=n||i.getCell((g===null||g===void 0?void 0:g.column)||this.manager.getFirstColumn())}}else if(e){this.rangeStart=null;this.lastSelected=i;if(!(h&&t.rowsSelected.includes(i))){d=this.preserveInstanceIfSame([i],t.rowsSelected)}g=n||i.getCell((g===null||g===void 0?void 0:g.column)||this.manager.getFirstColumn())}else{this.rangeStart=null}return{rowFocused:f,rowsSelected:d,cellFocused:v,cellSelected:g}};t.prototype.selectAll=function(t,i){var n;if(i===void 0){i=true}if(this.manager.grid.rowSelectionMode==="none"){return this.selectionStateNone}var e=this.manager.getRows();var r=t.rowFocused;var s=t.rowsSelected;var o=t.cellFocused;var h=t.cellSelected;r!==null&&r!==void 0?r:r=this.manager.getFirstRow();o!==null&&o!==void 0?o:o=r===null||r===void 0?void 0:r.getCell(((n=t.cellFocused)===null||n===void 0?void 0:n.column)||this.manager.getFirstColumn());if(i){s=e;h=o}else{s=[];h=null}return{rowFocused:r,rowsSelected:s,cellFocused:o,cellSelected:h}};t.prototype.selectSet=function(t,i,n,e){if(e===void 0){e=true}var r=true;if(this.manager.grid.rowSelectionMode==="none"){return this.selectionStateNone}if(this.manager.grid.rowSelectionMode!=="multiple"){r=false}var s=t.rowFocused;var o=t.rowsSelected;var h=t.cellFocused;var c=t.cellSelected;s=i;h=n;if(e){if(r){o=o.includes(i)?o:__spreadArray(__spreadArray([],o,true),[i],false)}else{o=o.includes(i)?o:[i]}c=n}else{o=!o.includes(i)?o:o.filter((function(t){return t!==i}));c=null}return{rowFocused:s,rowsSelected:o,cellFocused:h,cellSelected:c}};t.prototype.moveFirstRow=function(t,i,n,e){var r=this.manager.getFirstRow();if(r){return this.select(t,r,r.getCell(t.cellFocused.column),i,e,n,"focus",false)}return t};t.prototype.movePreviousRow=function(t,i,n,e){var r=this.manager.getPreviousRow(t.rowFocused);if(r){return this.select(t,r,r.getCell(t.cellFocused.column),i,e,n,"focus",false)}return t};t.prototype.moveNextRow=function(t,i,n,e){var r=this.manager.getNextRow(t.rowFocused);if(r){return this.select(t,r,r.getCell(t.cellFocused.column),i,e,n,"focus",false)}return t};t.prototype.moveLastRow=function(t,i,n,e){var r=this.manager.getLastRow();if(r){return this.select(t,r,r.getCell(t.cellFocused.column),i,e,n,"focus",false)}return t};t.prototype.movePreviousPageRow=function(t,i,n,e){var r=this.manager.getRows();var s=this.manager.getRowsPerPage();var o=r[Math.max(r.indexOf(t.rowFocused)-s,0)];if(o){return this.select(t,o,o.getCell(t.cellFocused.column),i,e,n,"focus",false)}return t};t.prototype.moveNextPageRow=function(t,i,n,e){var r=this.manager.getRows();var s=this.manager.getRowsPerPage();var o=r[Math.min(r.indexOf(t.rowFocused)+s,r.length-1)];if(o){return this.select(t,o,o.getCell(t.cellFocused.column),i,e,n,"focus",false)}return t};t.prototype.movePreviousCell=function(t,i,n){var e=this.manager.getPreviousCell(t.cellFocused);if(e){return this.select(t,t.rowFocused,e,i,false,n,"focus",false)}return t};t.prototype.moveNextCell=function(t,i,n){var e=this.manager.getNextCell(t.cellFocused);if(e){return this.select(t,t.rowFocused,e,i,false,n,"focus",false)}return t};t.prototype.markRow=function(t,i,n,e){var r;if(t){if(n){var s=!t.marked;var o=this.manager.getRowsRange((r=this.lastRowMarked)!==null&&r!==void 0?r:t,t);this.lastRowMarked=t;if(s){return e.concat(o.filter((function(t){return!e.includes(t)})))}return e.filter((function(t){return!o.includes(t)}))}this.lastRowMarked=t;if(i&&!e.includes(t)){return e.concat([t])}if(!i&&e.includes(t)){return e.filter((function(i){return i!==t}))}}return e};t.prototype.markRows=function(t,i,n){var e=n.includes(t)?n:[t];if(e.some((function(t){return!t.marked}))){return Array.from(new Set(i.concat(e)))}return i.filter((function(t){return!e.includes(t)}))};t.prototype.markAllRows=function(t){if(t===void 0){t=true}if(t){return this.manager.getRows()}return[]};t.prototype.syncRowSelector=function(t,i,n){if(i===void 0){i=[]}var e=this.manager.columns.getColumnSelector();if((e===null||e===void 0?void 0:e.richRowSelectorMode)===n){var r=e.physicalOrder-1;i===null||i===void 0?void 0:i.filter((function(i){return!t.includes(i)})).forEach((function(t){t.marked=false;var i=t.children[r];i.setSelectorChecked(false)}));t===null||t===void 0?void 0:t.forEach((function(t){t.marked=e.richRowSelectorMode==="mark";var i=t.children[r];i.setSelectorChecked(true)}));this.syncColumnSelector(t.length,e)}};t.prototype.syncColumnSelector=function(t,i){i!==null&&i!==void 0?i:i=this.manager.columns.getColumnSelector();if(t===0){i.richRowSelectorState=""}else if(t===this.manager.getRows().length){i.richRowSelectorState="checked"}else{i.richRowSelectorState="indeterminate"}};t.prototype.preserveInstanceIfSame=function(t,i){return t.length===i.length&&t.every((function(t){return i.includes(t)}))?i:t};return t}();var p=function(){function t(t){this.dragMouseMoveFn=this.dragMouseMoveHandler.bind(this);this.manager=t}t.prototype.dragStart=function(t){this.row=t;this.rowIndex=this.manager.getGridRowIndex(t);this.defineListeners();this.createRowShadow();this.floatRow();this.updateRowPosition()};t.prototype.dragMouseMoveHandler=function(t){var i=t.target;var n=i.closest("ch-grid-row");if(n&&n.parentElement===this.row.parentElement&&n.grid===this.manager.grid){var e=this.manager.getGridRowIndex(n);var r=e+2;var s=this.rowIndex<e?-1:1;if(this.rowShadow.style.getPropertyValue("--row-shadow-row-start")!=="".concat(r)){this.rowShadow.style.setProperty("--row-shadow-row-start","".concat(r))}else{this.rowShadow.style.setProperty("--row-shadow-row-start","".concat(r+s))}this.updateRowPosition()}};t.prototype.dragMouseUpHandler=function(){document.removeEventListener("mousemove",this.dragMouseMoveFn);var t=parseInt(this.rowShadow.style.getPropertyValue("--row-shadow-row-start"));var i=this.manager.grid.querySelectorAll("ch-grid-row").item(t-2);if(t<this.rowIndex+2){i.before(this.row)}if(t>this.rowIndex+2){i.after(this.row)}this.unfloatRow();this.rowShadow.remove();this.row=null;this.rowShadow=null};t.prototype.defineListeners=function(){document.addEventListener("mousemove",this.dragMouseMoveFn,{passive:true});document.addEventListener("mouseup",this.dragMouseUpHandler.bind(this),{once:true})};t.prototype.createRowShadow=function(){var t=this;var i=this.manager.getRowHeight(this.row);this.rowShadow=document.createElement("div");this.rowShadow.style.display="contents";this.manager.getColumnsWidth().forEach((function(n){var e=document.createElement("div");e.style.opacity="0";e.style.minWidth=n;e.style.height="".concat(i,"px");e.style.gridRowStart="var(--row-shadow-row-start)";t.rowShadow.append(e)}))};t.prototype.floatRow=function(){var t=this;var i=this.manager.getColumnsWidth();var n=this.manager.gridLayout.clientWidth;this.row.before(this.rowShadow);this.row.setAttribute("dragging","");this.row.style.width="".concat(n,"px");this.row.querySelectorAll(":scope > ch-grid-cell").forEach((function(n,e){var r=parseInt(t.manager.gridLayout.style.getPropertyValue("--ch-grid-column-".concat(e+1,"-position")));if(!n.hidden){n.style.width=i[r-1];n.style.order="".concat(r)}}))};t.prototype.unfloatRow=function(){this.row.removeAttribute("dragging");this.row.style.width="";this.row.querySelectorAll(":scope > ch-grid-cell").forEach((function(t){t.style.width="";t.style.order=""}))};t.prototype.updateRowPosition=function(){var t=this.rowShadow.children[0].getBoundingClientRect();this.row.style.top="".concat(t.top,"px");this.row.style.left="".concat(t.left,"px")};return t}();var y=function(){function t(t){var i=this;var n;this.manager=t;(n=this.manager.grid.querySelectorAll("ch-grid-row-actions"))===null||n===void 0?void 0:n.forEach((function(t){if(t.showOnRowHover){i.showOnRowHover=t}if(t.showOnRowActions){i.showOnRowActions=t}if(t.showOnRowContext){i.showOnRowContext=t}}))}return t}();var k=function(){function t(t,i,n){var e=this;var r;this.resizingSingle=function(t){var i=e.columnWidthStart-t*e.dragDirection;if(i>=0){e.column.size="minmax(min-content, ".concat(i,"px)")}};this.resizingSplitter=function(t){var i=e.columnWidthStart-t*e.dragDirection;if(i>=0){if(e.columnSizeStart){e.column.size=e.convertUnit(e.columnSizeStart,e.columnWidthStart,i)}else{e.column.size="minmax(min-content, ".concat(i,"px)")}}if(e.columnAfter){var n=e.columnAfterWidthStart+t*e.dragDirection;if(n>=0){if(e.columnAfterSizeStart){e.columnAfter.size=e.convertUnit(e.columnAfterSizeStart,e.columnAfterWidthStart,n)}else{e.columnAfter.size="minmax(min-content, ".concat(n,"px)")}}}};this.manager=t;this.dragDirection=n?-1:1;if(this.manager.grid.columnResizeMode==="splitter"){this.resizingFn=this.resizingSplitter;this.resizeEndFn=this.resizeEndSplitter}else{this.resizingFn=this.resizingSingle;this.resizeEndFn=null}this.column=this.manager.columns.getColumn(i);this.columnWidthStart=this.column.getBoundingClientRect().width;this.columnSizeStart=this.parseCSSValue(this.column.size);this.columnAfter=this.manager.getNextColumn(this.column);this.columnAfterWidthStart=(r=this.columnAfter)===null||r===void 0?void 0:r.getBoundingClientRect().width;this.columnAfterSizeStart=this.parseCSSValue(this.columnAfter.size)}t.prototype.resizing=function(t){this.resizingFn(t)};t.prototype.resizeEnd=function(){if(this.resizeEndFn){this.resizeEndFn()}};t.prototype.resizeEndSplitter=function(){var t=this.column.getBoundingClientRect().width;this.column.size=this.convertUnit(this.columnSizeStart,this.columnWidthStart,t);if(this.columnAfter){var i=this.columnAfterWidthStart-(t-this.columnWidthStart);this.columnAfter.size=this.convertUnit(this.columnSizeStart,this.columnWidthStart,i)}};t.prototype.parseCSSValue=function(t){var i=t.match(/([+-]?[\d.]+)([\w%]+)/);if(i){var n=parseFloat(i[1]);var e=i[2];return{number:n,unit:e}}return null};t.prototype.convertUnit=function(t,i,n){return"".concat(n*t.number/i).concat(t.unit)};return t}();var _;(function(t){t[t["BASE_LAYER"]=0]="BASE_LAYER";t[t["COLUMNS_WIDTH"]=1]="COLUMNS_WIDTH"})(_||(_={}));var x=function(){function t(t){this.styleSheet=new CSSStyleSheet;this.grid=t;this.styleSheet.insertRule(":host {}",_.BASE_LAYER);this.styleSheet.insertRule(".main {}",_.COLUMNS_WIDTH);this.grid.shadowRoot.adoptedStyleSheets.push(this.styleSheet);o(this.grid.shadowRoot.adoptedStyleSheets);this.columns=new b(this);this.selection=new w(this);this.rowActions=new y(this)}Object.defineProperty(t.prototype,"gridLayout",{get:function(){return this.gridLayoutElement},enumerable:false,configurable:true});t.prototype.componentDidLoad=function(t){this.gridLayoutElement=t};t.prototype.getColumns=function(){return this.columns.getColumns()};t.prototype.getColumnsWidth=function(){return getComputedStyle(this.gridLayout).gridTemplateColumns.split(" ")};t.prototype.getColumnsetHeight=function(){var t=getComputedStyle(this.gridLayout).gridTemplateRows.split(" ");return parseInt(t[0])||0};t.prototype.getFirstColumn=function(){return this.columns.getColumnsFirstLast().columnFirst};t.prototype.getFirstRow=function(){return this.grid.querySelector("ch-grid-row")};t.prototype.getScrollOffsetTop=function(){return this.gridLayout.offsetTop+this.getColumnsetHeight()};t.prototype.getScrollOffsetLeft=function(){return this.columns.getColumns(true).reduce((function(t,i){return i.freeze==="start"&&!i.hidden?t+i.offsetWidth:t}),0)};t.prototype.getScrollOffsetRight=function(){return this.columns.getColumns(true).reduce((function(t,i){return i.freeze==="end"&&!i.hidden?t+i.offsetWidth:t}),0)};t.prototype.getPreviousRow=function(t){var i=this.getRows();var n=i.indexOf(t);return i.slice(0,n).reverse().find((function(t){return t.isVisible()}))};t.prototype.getNextRow=function(t){var i=this.getRows();var n=i.indexOf(t);return i.slice(n+1).find((function(t){return t.isVisible()}))};t.prototype.getLastRow=function(){var t=this.getRows();return t.reverse().find((function(t){return t.isVisible()}))};t.prototype.getPreviousColumn=function(t){return this.columns.getColumns().reduce((function(i,n){return n.order<t.order&&!n.hidden&&(!i||n.order>i.order)?n:i}),null)};t.prototype.getNextColumn=function(t){return this.columns.getColumns().reduce((function(i,n){return n.order>t.order&&!n.hidden&&(!i||n.order<i.order)?n:i}),null)};t.prototype.getPreviousCell=function(t){var i=this.getPreviousColumn(t.column);if(i){return t.row.querySelector(":scope > ch-grid-cell:nth-of-type(".concat(i.physicalOrder,")"))}};t.prototype.getNextCell=function(t){var i=this.getNextColumn(t.column);if(i){return t.row.querySelector(":scope > ch-grid-cell:nth-of-type(".concat(i.physicalOrder,")"))}};t.prototype.getGridRowIndex=function(t){return Array.prototype.indexOf.call(this.grid.querySelectorAll("ch-grid-row, ch-grid-rowset-legend"),t)};t.prototype.getRowsetRowIndex=function(t){return Array.prototype.indexOf.call(t.parentElement.children,t)};t.prototype.getRowHeight=function(t){var i=getComputedStyle(this.gridLayout).gridTemplateRows.split(" ");var n=this.getGridRowIndex(t)+1;return parseInt(i[n])||0};t.prototype.getRowsPerPage=function(){var t=this.gridLayout.clientHeight;var i=this.getColumnsetHeight();var n=this.getRowHeight(this.getFirstRow());return Math.floor((t-i)/n)};t.prototype.getRow=function(t){return this.grid.querySelector('ch-grid-row[rowid="'.concat(t,'"]'))};t.prototype.getRows=function(t){if(t===void 0){t="all"}var i=Array.from(this.grid.querySelectorAll("ch-grid-row"));if(t==="visible"){return i.filter((function(t){return t.isVisible()}))}return i};t.prototype.getRowsRange=function(t,i){var n=this.getRows();var e=n.indexOf(t);var r=n.indexOf(i);return n.slice(Math.min(e,r),Math.max(e,r)+1).filter((function(t){return t.isVisible()}))};t.prototype.getRowEventTarget=function(t){return t.composedPath().find((function(t){return t.tagName==="CH-GRID-ROW"}))};t.prototype.isRowActionsEventTarget=function(t){return t.composedPath().find((function(t){return t.tagName==="CH-GRID-ROW-ACTIONS"}))!=null};t.prototype.getCell=function(t,i,n){if(t){return this.grid.querySelector('ch-grid-cell[cellid="'.concat(t,'"]'))}if(i&&n){var e=this.getRow(i);var r=this.columns.getColumn(n);if(e&&r){return e.getCell(r)}}};t.prototype.getCellEventTarget=function(t){return t.composedPath().find((function(t){return t.tagName==="CH-GRID-CELL"}))};t.prototype.columnDragStart=function(t){this.columnDragManager=new m(t,this.columns.getColumns(),this.isRTLDirection())};t.prototype.columnDragging=function(t){return this.columnDragManager.dragging(t)};t.prototype.columnDragEnd=function(){this.columnDragManager.dragEnd();this.columnDragManager=null};t.prototype.columnResizeStart=function(t){this.columnResizeManager=new k(this,t,this.isRTLDirection())};t.prototype.columnResizing=function(t){this.columnResizeManager.resizing(t)};t.prototype.columnResizeEnd=function(){this.columnResizeManager.resizeEnd();this.columnResizeManager=null};t.prototype.rowDragStart=function(t){this.rowDragManager=new p(this);this.rowDragManager.dragStart(t)};t.prototype.getGridStyle=function(){return __assign(__assign(__assign(__assign({display:"grid"},this.getGridTemplateColumns()),this.getRowBoxSimulationStyle()),this.getDragTransitionStyle()),this.getColumnsStyle())};t.prototype.setBaseLayer=function(t){this.styleSheet.deleteRule(_.BASE_LAYER);this.styleSheet.insertRule(":host { --ch-grid-base-layer: ".concat(t,"; }"),_.BASE_LAYER)};t.prototype.setColumnWidthVariables=function(t){this.styleSheet.deleteRule(_.COLUMNS_WIDTH);this.styleSheet.insertRule(".main { ".concat(t.map((function(t,i){return"--ch-grid-column-".concat(i+1,"-width:").concat(t,"px;")})).join("\n")," }"),_.COLUMNS_WIDTH)};t.prototype.ensureRowVisible=function(t){var i=t.parentElement.closest("ch-grid-row, ch-grid-rowset");var n=this.columns.getColumnsFirstLast().columnFirst;while(i){i.collapsed=false;i=i.parentElement.closest("ch-grid-row, ch-grid-rowset")}if(t.children[n.physicalOrder]){this.ensureVisible(t.children[n.physicalOrder])}};t.prototype.ensureCellVisible=function(t){var i=t.closest("ch-grid-row, ch-grid-rowset");while(!t.isVisible()&&i){i.collapsed=false;i=i.parentElement.closest("ch-grid-row, ch-grid-rowset")}if(!t.isVisible()){t.column.hidden=false}this.ensureVisible(t)};t.prototype.ensureVisible=function(t){var i=["start","end"].includes(t.column.freeze);var n=this.gridLayout;var e=this.getScrollOffsetTop();var r=this.getScrollOffsetLeft();var s=this.getScrollOffsetRight();if(n.scrollTop+e>t.offsetTop){n.scrollBy({top:(n.scrollTop-t.offsetTop+e)*-1})}else if(n.scrollTop+n.offsetHeight<t.offsetTop+t.offsetHeight){n.scrollBy({top:t.offsetTop+t.offsetHeight-(n.scrollTop+n.offsetHeight)})}else if(n.scrollLeft+r>t.offsetLeft&&!i){n.scrollBy({left:(n.scrollLeft-t.offsetLeft+r)*-1})}else if(n.scrollLeft+n.clientWidth-s<t.offsetLeft+t.offsetWidth&&!i){n.scrollBy({left:t.offsetLeft+t.offsetWidth-(n.scrollLeft+n.clientWidth-s)})}};t.prototype.getGridTemplateColumns=function(){return{"grid-template-columns":this.columns.getColumns().map((function(t){return"var(--ch-grid-column-".concat(t.physicalOrder,"-size)")})).join(" ")}};t.prototype.getRowBoxSimulationStyle=function(){var t;var i=this.columnDragManager?this.columnDragManager.getColumnsFirstLast():this.columns.getColumnsFirstLast(),n=i.columnFirst,e=i.columnLast;if(!n||!e){return null}return t={},t["--ch-grid-column-".concat(n.physicalOrder,"-margin-start")]="var(--ch-grid-fallback, inherit)",t["--ch-grid-column-".concat(n.physicalOrder,"-border-start")]="var(--ch-grid-fallback, inherit)",t["--ch-grid-column-".concat(n.physicalOrder,"-padding-start")]="var(--ch-grid-fallback, inherit)",t["--ch-grid-column-".concat(e.physicalOrder,"-margin-end")]="var(--ch-grid-fallback, inherit)",t["--ch-grid-column-".concat(e.physicalOrder,"-border-end")]="var(--ch-grid-fallback, inherit)",t["--ch-grid-column-".concat(e.physicalOrder,"-padding-end")]="var(--ch-grid-fallback, inherit)",t};t.prototype.getDragTransitionStyle=function(){return{"--column-drag-transition-duration":this.columnDragManager?".2s":"0s"}};t.prototype.getColumnsStyle=function(){var t=this;return this.columns.getColumns().reduce((function(i,n){return __assign(__assign({},i),t.getColumnStyle(n))}),{})};t.prototype.getColumnStyle=function(t){return __assign(__assign(__assign(__assign(__assign(__assign({},this.getColumnSizeStyle(t)),this.getColumnOrderStyle(t)),this.getColumnDisplayStyle(t)),this.getColumnFreezeStyle(t)),this.getColumnDraggingStyle(t)),this.getColumnIndentStyle(t))};t.prototype.getColumnSizeStyle=function(t){var i;return i={},i["--ch-grid-column-".concat(t.order,"-size")]=t.hidden?"0px":t.size,i};t.prototype.getColumnOrderStyle=function(t){var i;return i={},i["--ch-grid-column-".concat(t.physicalOrder,"-position")]=t.order.toString(),i};t.prototype.getColumnFreezeStyle=function(t){switch(t.freeze){case"start":return this.getColumnFreezeStartStyle(t);case"end":return this.getColumnFreezeEndStyle(t)}};t.prototype.getColumnFreezeStartStyle=function(t){var i;var n=["0px"];for(var e=1;e<t.order;e++){n.push("var(--ch-grid-column-".concat(e,"-width)"))}return i={},i["--ch-grid-column-".concat(t.physicalOrder,"-left-freeze")]="calc(".concat(n.join(" + "),")"),i["--ch-grid-column-".concat(t.physicalOrder,"-z-index-freeze")]="var(--ch-grid-column-freeze-layer)",i};t.prototype.getColumnFreezeEndStyle=function(t){var i;var n=["0px"];for(var e=this.columns.getColumns().length;e>t.order;e--){n.push("var(--ch-grid-column-".concat(e,"-width)"))}return i={},i["--ch-grid-column-".concat(t.physicalOrder,"-right-freeze")]="calc(".concat(n.join(" + "),")"),i["--ch-grid-column-".concat(t.physicalOrder,"-z-index-freeze")]="var(--ch-grid-column-freeze-layer)",i};t.prototype.getColumnDisplayStyle=function(t){var i;return t.hidden?(i={},i["--ch-grid-column-".concat(t.physicalOrder,"-display")]="none",i):null};t.prototype.getColumnDraggingStyle=function(t){return this.columnDragManager?this.columnDragManager.getColumnStyle(t):null};t.prototype.getColumnIndentStyle=function(t){var i;return i={},i["--ch-grid-column-".concat(t.physicalOrder,"-content")]=t.order===1?"''":"none",i};t.prototype.isRTLDirection=function(){return getComputedStyle(this.grid).direction==="rtl"};return t}();var I=":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;inline-size:100%;--ch-grid-cell-active-layer:calc(var(--ch-grid-base-layer) * 1);--ch-grid-column-header-layer:calc(var(--ch-grid-base-layer) * 2);--ch-grid-column-freeze-layer:calc(var(--ch-grid-base-layer) * 4);--ch-grid-column-active-layer:calc(var(--ch-grid-base-layer) * 8);--ch-grid-settings-layer:calc(var(--ch-grid-base-layer) * 16)}.main{display:none;grid-auto-flow:dense;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;overflow-x:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;block-size:100%}";var S=I;var z=t("ch_grid",function(){function t(t){i(this,t);this.selectionChanged=n(this,"selectionChanged",7);this.rowMarkingChanged=n(this,"rowMarkingChanged",7);this.cellSelectionChanged=n(this,"cellSelectionChanged",7);this.rowClicked=n(this,"rowClicked",7);this.rowDoubleClicked=n(this,"rowDoubleClicked",7);this.rowEnterPressed=n(this,"rowEnterPressed",7);this.rowContextMenu=n(this,"rowContextMenu",7);this.rowFocused=undefined;this.cellFocused=undefined;this.rowHighlighted=undefined;this.rowsMarked=[];this.rowsSelected=[];this.cellSelected=undefined;this.gridStyle=undefined;this.rowSelectionMode="single";this.keyboardNavigationMode="select";this.rowHighlightEnabled="auto";this.rowSelectedClass=undefined;this.rowHighlightedClass=undefined;this.rowFocusedClass=undefined;this.rowMarkedClass=undefined;this.allowColumnReorder=true;this.columnResizeMode="single";this.localization=undefined}Object.defineProperty(t.prototype,"el",{get:function(){return e(this)},enumerable:false,configurable:true});t.prototype.rowFocusedHandler=function(t,i){if(t){t.focused=true}if(i){i.focused=false}};t.prototype.cellFocusedHandler=function(t,i){if(t){t.focused=true}if(i){i.focused=false}};t.prototype.rowHighlightedHandler=function(t,i){var n,e;if(t){t.highlighted=true}if(i){i.highlighted=false}if(t){(n=this.manager.rowActions.showOnRowHover)===null||n===void 0?void 0:n.openRowHover(t)}else{(e=this.manager.rowActions.showOnRowHover)===null||e===void 0?void 0:e.close()}};t.prototype.rowsMarkedHandler=function(t,i){this.manager.selection.syncRowSelector(t,i,"mark");this.rowMarkingChanged.emit(this.getChangedEventDetail(t,i))};t.prototype.rowsSelectedHandler=function(t,i){if(i){i.filter((function(i){return!t.includes(i)})).forEach((function(t){return t.selected=false}))}if(t){t.forEach((function(t){return t.selected=true}))}this.manager.selection.syncRowSelector(t,i,"select");this.selectionChanged.emit(this.getChangedEventDetail(t,i))};t.prototype.cellSelectedHandler=function(t,i){if(t){t.selected=true}if(i){i.selected=false}this.cellSelectionChanged.emit({cellId:this.cellSelected?this.cellSelected.cellId:null,rowId:this.cellSelected?this.cellSelected.row.rowId:null,columnId:this.cellSelected?this.cellSelected.column.columnId:null})};t.prototype.componentWillLoad=function(){this.manager=new x(this.el);this.gridStyle=this.manager.getGridStyle()};t.prototype.componentDidLoad=function(){this.manager.componentDidLoad(this.gridLayoutElement)};t.prototype.componentShouldUpdate=function(t,i,n){if(n==="rowFocused"||n==="rowHighlighted"||n==="rowSelected"||n==="rowsMarked"||n==="cellSelected"){return false}};t.prototype.focusHandler=function(){var t,i,n;if(this.keyboardNavigationMode!=="none"){this.rowFocused||(this.rowFocused=(t=this.rowsSelected[0])!==null&&t!==void 0?t:this.manager.getFirstRow());this.cellFocused=(i=this.rowFocused)===null||i===void 0?void 0:i.getCell(((n=this.cellSelected)===null||n===void 0?void 0:n.column)||this.manager.getFirstColumn());if(this.keyboardNavigationMode==="select"){this.selectByKeyboardEvent(false,false,"focus")}}};t.prototype.blurHandler=function(t){if(!t.composedPath().includes(this.el)){this.rowFocused=null;this.cellFocused=null}};t.prototype.cellFocusedEventHandler=function(t){var i=t.target;if(this.rowSelectionMode!=="none"&&!i.selected){this.setCellSelected(i)}};t.prototype.windowKeyDownHandler=function(t){if(h()[0]===this.el&&[" ","+","-","Home","End","PageUp","PageDown","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)){t.preventDefault()}};t.prototype.keyDownHandler=function(t){if(h()[0]===this.el&&this.keyboardNavigationMode!=="none"){var i=t.shiftKey;var n=c(t);switch(t.key){case" ":this.spacePressedEvent(c(t),t.shiftKey);break;case"+":this.setRowCollapsed(this.rowFocused,false);break;case"-":this.setRowCollapsed(this.rowFocused,true);break;case"Home":this.moveByKeyboardEvent(this.manager.selection.moveFirstRow,i,n);break;case"End":this.moveByKeyboardEvent(this.manager.selection.moveLastRow,i,n);break;case"PageUp":this.moveByKeyboardEvent(this.manager.selection.movePreviousPageRow,i,n);break;case"PageDown":this.moveByKeyboardEvent(this.manager.selection.moveNextPageRow,i,n);break;case"ArrowUp":this.moveByKeyboardEvent(this.manager.selection.movePreviousRow,i,n);break;case"ArrowDown":this.moveByKeyboardEvent(this.manager.selection.moveNextRow,i,n);break;case"ArrowLeft":this.moveByKeyboardEvent(this.manager.selection.movePreviousCell,i,n);break;case"ArrowRight":this.moveByKeyboardEvent(this.manager.selection.moveNextCell,i,n);break;case"Enter":this.enterPressedHandler();break}}};t.prototype.mouseMoveHandler=function(t){if(this.rowHighlightEnabled==="auto"&&this.rowSelectionMode!=="none"||this.rowHighlightEnabled===true){this.rowHighlighted=this.manager.getRowEventTarget(t)||(this.manager.isRowActionsEventTarget(t)?this.rowHighlighted:null)}t:{if(this.manager.selection.selecting){if(h()[0]!==this.el){this.stopSelecting();break t}var i=this.manager.getRowEventTarget(t);var n=this.manager.getCellEventTarget(t);if(i&&(this.manager.selection.selectingRow!==i||this.manager.selection.selectingCell!==n)){var e=c(t);var r=a(t,l.RIGHT);this.selectByPointerEvent(i,n,e&&!r,!r,r);this.manager.selection.selectingRow=i;this.manager.selection.selectingCell=n}}}};t.prototype.mouseLeaveHandler=function(){this.rowHighlighted&&(this.rowHighlighted=null)};t.prototype.clickHandler=function(t){var i=this.manager.getRowEventTarget(t);var n=this.manager.getCellEventTarget(t);if(i){this.manager.selection.selecting=true;this.selectByPointerEvent(i,n,c(t),t.shiftKey,t.button===u.RIGHT)}};t.prototype.mouseUpHandler=function(){if(this.manager.selection.selecting){this.stopSelecting()}this.emitRowClicked(this.rowFocused,this.cellFocused)};t.prototype.dblclickHandler=function(t){var i=this.manager.getRowEventTarget(t);var n=this.manager.getCellEventTarget(t);if(i){this.rowDoubleClicked.emit({rowId:i.rowId,cellId:n===null||n===void 0?void 0:n.cellId,columnId:n===null||n===void 0?void 0:n.column.columnId})}};t.prototype.touchstartHandler=function(t){this.manager.selection.touchStart(t)};t.prototype.touchendHandler=function(t){if(t.cancelable){t.preventDefault()}if(this.manager.selection.isTouchEndSelection(t)){var i=this.manager.columns.getColumnSelector();var n=this.manager.getRowEventTarget(t);var e=this.manager.getCellEventTarget(t);if(n){this.selectByPointerEvent(n,e,(i===null||i===void 0?void 0:i.richRowSelectorMode)!=="select",false,false);this.emitRowClicked(n,e)}}};t.prototype.contextmenuHandler=function(t){var i,n;var e;if(t.target===this.el&&t.button===u.KEY_SHORTCUT){e=this.rowFocused}else{e=this.manager.getRowEventTarget(t)}if(e){var r=((i=this.cellSelected)===null||i===void 0?void 0:i.row)===e?this.cellSelected:null;var s=this.rowContextMenu.emit({rowId:e.rowId,cellId:r===null||r===void 0?void 0:r.cellId,columnId:r===null||r===void 0?void 0:r.column.columnId,selectedRowsId:this.rowsSelected.map((function(t){return t.rowId})),clientX:t.clientX,clientY:t.clientY});(n=this.manager.rowActions.showOnRowContext)===null||n===void 0?void 0:n.openRowContext(t.clientX,t.clientY);if(s.defaultPrevented||this.manager.rowActions.showOnRowContext){t.preventDefault()}}};t.prototype.columnSelectorClickedHandler=function(t){var i=this.manager.columns.getColumnSelector();if((i===null||i===void 0?void 0:i.richRowSelectorMode)==="select"){this.selectAll(t.detail.checked)}else if((i===null||i===void 0?void 0:i.richRowSelectorMode)==="mark"){this.rowsMarked=this.manager.selection.markAllRows(t.detail.checked)}};t.prototype.cellSelectorClickedHandler=function(t){var i=this.manager.columns.getColumnSelector();if((i===null||i===void 0?void 0:i.richRowSelectorMode)==="select"){this.selectByPointerEvent(this.manager.getRowEventTarget(t),this.manager.getCellEventTarget(t),true,t.detail.range,false)}else if((i===null||i===void 0?void 0:i.richRowSelectorMode)==="mark"){this.rowsMarked=this.manager.selection.markRow(this.manager.getRowEventTarget(t),t.detail.checked,t.detail.range,this.rowsMarked)}};t.prototype.cellRowActionClickedHandler=function(t){var i;var n=t.target;(i=this.manager.rowActions.showOnRowActions)===null||i===void 0?void 0:i.openRowActions(n)};t.prototype.columnStyleChangedHandler=function(){if(this.manager){this.gridStyle=this.manager.getGridStyle()}};t.prototype.columnFreezeChangedHandler=function(){this.manager.columns.adjustFreezeOrder()};t.prototype.columnResizeStartedHandler=function(t){this.manager.columnResizeStart(t.detail.columnId)};t.prototype.columnResizingHandler=function(t){this.manager.columnResizing(t.detail.deltaWidth)};t.prototype.columnResizeFinishedHandler=function(){this.manager.columnResizeEnd()};t.prototype.columnDragStartHandler=function(t){this.manager.columnDragStart(t.detail.columnId)};t.prototype.columnDraggingHandler=function(t){if(this.manager.columnDragging(t.detail.positionX)){this.gridStyle=this.manager.getGridStyle()}};t.prototype.columnDragEndHandler=function(){this.manager.columnDragEnd();this.gridStyle=this.manager.getGridStyle()};t.prototype.rowDragStartHandler=function(t){this.manager.rowDragStart(t.detail.row)};t.prototype.rowEnsureVisibleHandler=function(t){this.manager.ensureRowVisible(t.target)};t.prototype.cellEnsureVisibleHandler=function(t){this.manager.ensureCellVisible(t.target)};t.prototype.settingsShowClickedHandler=function(){this.settingsUI.show=true};t.prototype.settingsCloseClickedHandler=function(){this.settingsUI.show=false};t.prototype.getFocusedRow=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){return[2,(t=this.rowFocused)===null||t===void 0?void 0:t.rowId]}))}))};t.prototype.getHoveredRow=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){return[2,(t=this.rowHighlighted)===null||t===void 0?void 0:t.rowId]}))}))};t.prototype.getSelectedRows=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.rowsSelected.map((function(t){return t.rowId}))]}))}))};t.prototype.getMarkedRows=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.rowsMarked.map((function(t){return t.rowId}))]}))}))};t.prototype.getFocusedCell=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,{cellId:this.cellFocused?this.cellFocused.cellId:null,rowId:this.cellFocused?this.cellFocused.row.rowId:null,columnId:this.cellFocused?this.cellFocused.column.columnId:null}]}))}))};t.prototype.getSelectedCell=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,{cellId:this.cellSelected?this.cellSelected.cellId:null,rowId:this.cellSelected?this.cellSelected.row.rowId:null,columnId:this.cellSelected?this.cellSelected.column.columnId:null}]}))}))};t.prototype.selectRow=function(t){return __awaiter(this,arguments,void 0,(function(t,i){var n,e,r,s,o,h;if(i===void 0){i=true}return __generator(this,(function(c){n=this.manager.getRow(t);if(n){e=this.manager.selection.selectSet({rowFocused:this.rowFocused,rowsSelected:this.rowsSelected,cellFocused:this.cellFocused,cellSelected:this.cellSelected},n,null,i),r=e.rowFocused,s=e.rowsSelected,o=e.cellFocused,h=e.cellSelected;this.rowFocused=r;this.rowsSelected=s;this.cellFocused=o;this.cellSelected=h;r===null||r===void 0?void 0:r.ensureVisible()}return[2]}))}))};t.prototype.selectAllRows=function(){return __awaiter(this,arguments,void 0,(function(t){if(t===void 0){t=true}return __generator(this,(function(i){this.selectAll(t);return[2]}))}))};t.prototype.selectCell=function(t,i,n){return __awaiter(this,arguments,void 0,(function(t,i,n,e){var r;if(e===void 0){e=true}return __generator(this,(function(s){r=this.manager.getCell(t,i,n);if(r){this.setCellSelected(r,e)}return[2]}))}))};t.prototype.markRow=function(t){return __awaiter(this,arguments,void 0,(function(t,i){var n,e;if(i===void 0){i=true}return __generator(this,(function(r){n=this.manager.columns.getColumnSelector();e=this.manager.getRow(t);if(e&&(n===null||n===void 0?void 0:n.richRowSelectorMode)==="mark"){this.rowsMarked=this.manager.selection.markRow(e,i,false,this.rowsMarked)}return[2]}))}))};t.prototype.markAllRows=function(){return __awaiter(this,arguments,void 0,(function(t){var i;if(t===void 0){t=true}return __generator(this,(function(n){i=this.manager.columns.getColumnSelector();if((i===null||i===void 0?void 0:i.richRowSelectorMode)==="mark"){this.rowsMarked=this.manager.selection.markAllRows(t)}return[2]}))}))};t.prototype.expandRow=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.setRowCollapsed(this.manager.getRow(t),false);return[2]}))}))};t.prototype.collapseRow=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.setRowCollapsed(this.manager.getRow(t),true);return[2]}))}))};t.prototype.rowEnsureVisible=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=this.manager.getRow(t);if(i){this.manager.ensureRowVisible(i)}return[2]}))}))};t.prototype.cellEnsureVisible=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=this.manager.getCell(t);if(i){this.manager.ensureCellVisible(i)}return[2]}))}))};t.prototype.getPreviousRow=function(){return __awaiter(this,void 0,void 0,(function(){var t;var i,n;return __generator(this,(function(e){t=(i=this.cellSelected)===null||i===void 0?void 0:i.row;if(t){return[2,((n=this.manager.getPreviousRow(t))===null||n===void 0?void 0:n.rowId)||null]}return[2]}))}))};t.prototype.getNextRow=function(){return __awaiter(this,void 0,void 0,(function(){var t;var i,n;return __generator(this,(function(e){t=(i=this.cellSelected)===null||i===void 0?void 0:i.row;if(t){return[2,((n=this.manager.getNextRow(t))===null||n===void 0?void 0:n.rowId)||null]}return[2]}))}))};t.prototype.getPreviousCell=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){t=this.manager.getPreviousCell(this.cellSelected);return[2,{cellId:t?t.cellId:null,rowId:t?t.row.rowId:null,columnId:t?t.column.columnId:null}]}))}))};t.prototype.getNextCell=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){t=this.manager.getNextCell(this.cellSelected);return[2,{cellId:t?t.cellId:null,rowId:t?t.row.rowId:null,columnId:t?t.column.columnId:null}]}))}))};t.prototype.syncRowState=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(e){i=t;n=this.manager.columns.getColumnSelector();if(this.rowSelectionMode!=="none"){this.syncRowStateSelected(i)}if((n===null||n===void 0?void 0:n.richRowSelectorMode)==="mark"){this.syncRowStateMarked(i)}if(n){this.syncRowStateSelector(i,n);if(n.richRowSelectorMode==="select"){this.manager.selection.syncColumnSelector(this.rowsSelected.length,n)}else if(n.richRowSelectorMode==="mark"){this.manager.selection.syncColumnSelector(this.rowsMarked.length,n)}}return[2]}))}))};t.prototype.syncRowStateSelected=function(t){if(t.selected&&this.rowSelectionMode==="single"){this.rowsSelected[0]=t}if(t.selected&&this.rowSelectionMode==="multiple"&&!this.rowsSelected.includes(t)){this.rowsSelected.push(t)}if(!t.selected){var i=this.rowsSelected.indexOf(t);if(i!==-1){this.rowsSelected.splice(i,1)}}};t.prototype.syncRowStateMarked=function(t){if(t.marked&&!this.rowsMarked.includes(t)){this.rowsMarked.push(t)}if(!t.marked){var i=this.rowsMarked.indexOf(t);if(i!==-1){this.rowsMarked.splice(i,1)}}};t.prototype.syncRowStateSelector=function(t,i){var n=t.getCell(i);var e=i.richRowSelectorMode==="select"&&t.selected||i.richRowSelectorMode==="mark"&&t.marked;n.setSelectorChecked(e)};t.prototype.getChangedEventDetail=function(t,i){return{rowsId:t.map((function(t){return t.rowId})),addedRowsId:t.filter((function(t){return!i.includes(t)})).map((function(t){return t.rowId})),removedRowsId:i.filter((function(i){return!t.includes(i)})).map((function(t){return t.rowId})),unalteredRowsId:t.filter((function(t){return i.includes(t)})).map((function(t){return t.rowId}))}};t.prototype.enterPressedHandler=function(){if(this.rowFocused){this.rowEnterPressed.emit({rowId:this.rowFocused.rowId,cellId:this.cellFocused?this.cellFocused.cellId:null,columnId:this.cellFocused?this.cellFocused.column.columnId:null})}};t.prototype.spacePressedEvent=function(t,i){if(this.keyboardNavigationMode==="focus"){this.selectByKeyboardEvent(t,i,"last-selected")}else if(this.keyboardNavigationMode==="select"){this.markByKeyboardEvent()}this.emitRowClicked(this.rowFocused,this.cellFocused)};t.prototype.markByKeyboardEvent=function(){var t=this.manager.columns.getColumnSelector();if((t===null||t===void 0?void 0:t.richRowSelectorMode)==="mark"){this.rowsMarked=this.manager.selection.markRows(this.rowFocused,this.rowsMarked,this.rowsSelected)}};t.prototype.selectByKeyboardEvent=function(t,i,n){var e;var r=this.manager.selection.select({rowFocused:this.rowFocused,rowsSelected:this.rowsSelected,cellFocused:this.cellFocused,cellSelected:this.cellSelected},this.rowFocused,this.cellFocused,true,t,i,n,false),s=r.rowFocused,o=r.rowsSelected,h=r.cellFocused,c=r.cellSelected;this.rowFocused=s;this.rowsSelected=o;this.cellFocused=h;this.cellSelected=c;(e=h||s)===null||e===void 0?void 0:e.ensureVisible()};t.prototype.selectByPointerEvent=function(t,i,n,e,r){var s;var o=this.manager.selection.select({rowFocused:this.rowFocused,rowsSelected:this.rowsSelected,cellFocused:this.cellFocused,cellSelected:this.cellSelected},t,i,true,n,e,"last-selected",r),h=o.rowFocused,c=o.rowsSelected,u=o.cellFocused,a=o.cellSelected;this.rowFocused=h;this.rowsSelected=c;this.cellFocused=u;this.cellSelected=a;(s=u||h)===null||s===void 0?void 0:s.ensureVisible()};t.prototype.moveByKeyboardEvent=function(t,i,n){var e;var r=t.call(this.manager.selection,{rowFocused:this.rowFocused,rowsSelected:this.rowsSelected,cellFocused:this.cellFocused,cellSelected:this.cellSelected},this.rowSelectionMode!=="none"&&this.keyboardNavigationMode==="select",this.rowSelectionMode==="multiple"?i:false,this.rowSelectionMode==="multiple"?i&&n:false),s=r.rowFocused,o=r.rowsSelected,h=r.cellFocused,c=r.cellSelected;this.rowFocused=s;this.rowsSelected=o;this.cellFocused=h;this.cellSelected=c;(e=h||s)===null||e===void 0?void 0:e.ensureVisible()};t.prototype.selectAll=function(t){var i;if(t===void 0){t=true}var n=this.manager.selection.selectAll({rowFocused:this.rowFocused,rowsSelected:this.rowsSelected,cellFocused:this.cellFocused,cellSelected:this.cellSelected},t),e=n.rowFocused,r=n.rowsSelected,s=n.cellFocused,o=n.cellSelected;this.rowFocused=e;this.rowsSelected=r;this.cellFocused=s;this.cellSelected=o;(i=s||e)===null||i===void 0?void 0:i.ensureVisible()};t.prototype.setRowCollapsed=function(t,i){if(t&&i){if(t&&t.hasChildRows){t.collapsed=true}}else if(t&&!i){t.collapsed=false}};t.prototype.setCellSelected=function(t,i){var n;if(i===void 0){i=true}var e=this.manager.selection.selectSet({rowFocused:this.rowFocused,rowsSelected:this.rowsSelected,cellFocused:this.cellFocused,cellSelected:this.cellSelected},t.row,t,i),r=e.rowFocused,s=e.rowsSelected,o=e.cellFocused,h=e.cellSelected;this.rowFocused=r;this.rowsSelected=s;this.cellFocused=o;this.cellSelected=h;(n=o||r)===null||n===void 0?void 0:n.ensureVisible()};t.prototype.emitRowClicked=function(t,i){this.rowClicked.emit({rowId:t.rowId,cellId:i===null||i===void 0?void 0:i.cellId,columnId:i===null||i===void 0?void 0:i.column.columnId})};t.prototype.stopSelecting=function(){this.manager.selection.selecting=false;this.manager.selection.selectingRow=null;this.manager.selection.selectingCell=null};t.prototype.renderSettings=function(){var t=this;return r("ch-grid-settings",{grid:this.el,ref:function(i){return t.settingsUI=i},exportparts:"\r\n          mask:settings-mask,\r\n          window:settings-window,\r\n          header:settings-header,\r\n          caption:settings-caption,\r\n          close:settings-close,\r\n          main:settings-main,\r\n          footer:settings-footer\r\n        "},r("slot",{name:"settings"},r("ch-grid-settings-columns",{part:"settings-columns",columns:__spreadArray([],this.manager.getColumns(),true),exportparts:"\r\n              column:settings-columns-item,\r\n              column-label:settings-columns-label,\r\n              column-visible:settings-columns-visible,\r\n              column-visible-checked:settings-columns-visible-checked\r\n            "})))};t.prototype.render=function(){var t=this;return r(s,{key:"e97302b45ebed22436e7db23a40bcd328b4b388a",tabindex:this.keyboardNavigationMode!=="none"?"0":false},r("header",{key:"1e09605a6eea5b03fd5979ce7b358269d4f25c60",part:"header"},r("slot",{key:"2d4c8ca1b6228d957e07f7f571cb2ffdcfdbe3bc",name:"header"})),r("section",{key:"26093e2eee0e417b2dd0c06a2a5089563f51411f",class:"main",style:this.gridStyle,part:"main",ref:function(i){return t.gridLayoutElement=i}},r("slot",{key:"7bfe6633d8bb02bc4d54c3bd64ef7287872acee1"})),r("aside",{key:"0de5a599dd229fe1364cdf99276c2777a13571ed"},this.renderSettings(),r("slot",{key:"f8ea66c28dfed28026252adb9ae5ff400eb9fee0",name:"column-display"}),r("slot",{key:"1ab0e85be6b24bc3faeb89cec620d59cf0cb612d",name:"row-actions"})),r("footer",{key:"2ece62b10b25645af37b80b83a895f37fff9fe09",part:"footer"},r("slot",{key:"56bec821b79d8b03659a4a117e434151c642030f",name:"footer"})))};Object.defineProperty(t,"watchers",{get:function(){return{rowFocused:["rowFocusedHandler"],cellFocused:["cellFocusedHandler"],rowHighlighted:["rowHighlightedHandler"],rowsMarked:["rowsMarkedHandler"],rowsSelected:["rowsSelectedHandler"],cellSelected:["cellSelectedHandler"]}},enumerable:false,configurable:true});return t}());z.style=S;var C=":host{display:-ms-flexbox;display:flex;position:-webkit-sticky;position:sticky;top:0;grid-row:1}:host{background-color:inherit;-webkit-margin-before:inherit;margin-block-start:inherit;-webkit-margin-after:inherit;margin-block-end:inherit;-webkit-border-before:inherit;border-block-start:inherit;-webkit-border-after:inherit;border-block-end:inherit;-webkit-padding-before:inherit;padding-block-start:inherit;-webkit-padding-after:inherit;padding-block-end:inherit;-webkit-transition:-webkit-transform var(--column-drag-transition-duration, 0.2s);transition:-webkit-transform var(--column-drag-transition-duration, 0.2s);transition:transform var(--column-drag-transition-duration, 0.2s);transition:transform var(--column-drag-transition-duration, 0.2s), -webkit-transform var(--column-drag-transition-duration, 0.2s)}:host{--ch-grid-column-z-index-head:var(--ch-grid-column-header-layer)}:host([show-settings]),:host([resizing]){--ch-grid-column-z-index-active:var(--ch-grid-column-active-layer)}:host([sort-direction=asc]) .bar .sort .sort-asc{visibility:visible}:host([sort-direction=desc]) .bar .sort .sort-desc{visibility:visible}.bar{list-style-type:none;margin:0;padding:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.bar .selector{overflow:hidden;-ms-flex-order:0;order:0}.bar .selector:not([hidden]){display:-ms-flexbox;display:flex}.bar .name{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-order:1;order:1}.bar .name .name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bar .sort{position:relative;-ms-flex-align:center;align-items:center;-ms-flex-order:2;order:2}.bar .sort:not([hidden]){display:-ms-flexbox;display:flex}.bar .sort .sort-asc{visibility:hidden;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.bar .sort .sort-desc{position:absolute;visibility:hidden;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.bar .settings{-ms-flex-order:3;order:3}.bar .resize{-ms-flex-item-align:stretch;align-self:stretch;-webkit-margin-start:auto;margin-inline-start:auto;-ms-flex-order:4;order:4}@-webkit-keyframes column-sort{0%{opacity:0}10%{opacity:1}90%{opacity:1}100%{opacity:0}}@keyframes column-sort{0%{opacity:0}10%{opacity:1}90%{opacity:1}100%{opacity:0}}";var O=C;var A=t("ch_grid_column",function(){function t(t){var e=this;this.dragging=false;this.dragMouseMoveFn=this.dragMouseMoveHandler.bind(this);this.settingsClickHandler=function(t){t.stopPropagation();e.showSettings=true};this.selectorClickHandler=function(t){var i=t.target;e.richRowSelectorState=i.checked?"checked":"";e.columnSelectorClicked.emit({checked:i.checked});t.stopPropagation()};this.selectorTouchEndHandler=function(t){t.stopPropagation()};i(this,t);this.columnHiddenChanged=n(this,"columnHiddenChanged",7);this.columnSizeChanging=n(this,"columnSizeChanging",7);this.columnSizeChanged=n(this,"columnSizeChanged",7);this.columnOrderChanged=n(this,"columnOrderChanged",7);this.columnSortChanged=n(this,"columnSortChanged",7);this.columnFreezeChanged=n(this,"columnFreezeChanged",7);this.columnDragStarted=n(this,"columnDragStarted",7);this.columnDragging=n(this,"columnDragging",7);this.columnDragEnded=n(this,"columnDragEnded",7);this.columnSelectorClicked=n(this,"columnSelectorClicked",7);this.columnId=undefined;this.columnType="plain";this.columnIconUrl=undefined;this.columnImage=undefined;this.columnImageSet=undefined;this.columnName=undefined;this.columnNameHidden=undefined;this.columnTooltip=undefined;this.columnNamePosition="text";this.richRowDrag=undefined;this.richRowSelector=undefined;this.richRowSelectorMode="select";this.richRowSelectorState="";this.richRowActions=undefined;this.displayObserverClass=undefined;this.freeze=undefined;this.hidden=false;this.hideable=true;this.order=undefined;this.physicalOrder=undefined;this.size=undefined;this.resizable=true;this.resizing=undefined;this.sortable=true;this.settingable=true;this.sortDirection=undefined;this.showSettings=false}Object.defineProperty(t.prototype,"el",{get:function(){return e(this)},enumerable:false,configurable:true});t.prototype.freezeHandler=function(){this.columnFreezeChanged.emit({columnId:this.columnId,freeze:this.freeze})};t.prototype.hiddenHandler=function(){this.columnHiddenChanged.emit({columnId:this.columnId,hidden:this.hidden})};t.prototype.orderHandler=function(){this.columnOrderChanged.emit({columnId:this.columnId,order:this.order})};t.prototype.sizeHandler=function(){this.columnSizeChanging.emit({columnId:this.columnId,size:this.size})};t.prototype.sortDirectionHandler=function(){if(this.sortDirection){this.columnSortChanged.emit({columnId:this.columnId,sortDirection:this.sortDirection})}};t.prototype.componentDidLoad=function(){this.el.addEventListener("mousedown",this.mousedownHandler.bind(this))};t.prototype.clickHandler=function(){if(!this.dragging){if(this.sortable){this.sortDirection=this.sortDirection==="asc"?"desc":"asc"}}else{this.dragging=false}};t.prototype.columnResizeStartedHandler=function(){this.resizing=true};t.prototype.columnResizeFinishedHandler=function(){this.resizing=false;this.columnSizeChanged.emit({columnId:this.columnId,size:this.size})};t.prototype.allowColumnReorder=function(){return this.el.closest("ch-grid").allowColumnReorder};t.prototype.mousedownHandler=function(t){t.preventDefault();t.stopPropagation();if(this.allowColumnReorder()){this.dragMouseDownHandler(t);document.addEventListener("mousemove",this.dragMouseMoveFn,{passive:true});document.addEventListener("mouseup",this.dragMouseUpHandler.bind(this),{once:true})}};t.prototype.dragMouseDownHandler=function(t){this.dragMouseMoveStartPositionX=t.pageX;this.columnDragStarted.emit({columnId:this.columnId})};t.prototype.dragMouseMoveHandler=function(t){if(this.dragging||Math.abs(this.dragMouseMoveStartPositionX-t.pageX)>5){this.dragging=true;this.columnDragging.emit({columnId:this.columnId,positionX:t.pageX,direction:t.movementX>0?"right":"left"})}};t.prototype.dragMouseUpHandler=function(){document.removeEventListener("mousemove",this.dragMouseMoveFn);this.columnDragEnded.emit({columnId:this.columnId})};t.prototype.settingsMouseDownHandler=function(t){t.stopPropagation()};t.prototype.render=function(){return r(s,{key:"307b93727d886d495e97f626c40b93d9c6b77930"},r("ul",{key:"73c5ea373231eb490f52baa02d807bc1e1028feb",class:"bar",part:"bar"},this.renderSelector(),this.renderName(),this.renderSort(),this.renderSettings(),this.renderResize()),r("ch-grid-column-settings",{key:"5677a4265d5547d32102e133a32cae5866fc58d9",column:this.el,onMouseDown:this.settingsMouseDownHandler,show:this.showSettings,exportparts:"\r\n            mask:settings-mask,\r\n            window:settings-window,\r\n            header:settings-header,\r\n            caption:settings-caption,\r\n            close:settings-close,\r\n            main:settings-main,\r\n            footer:settings-footer\r\n          "},r("slot",{key:"5b89d4f7d3a3a64cc393d8be5d0b99758a79c2e7",name:"settings"})))};t.prototype.renderSelector=function(){return r("li",{class:"selector",part:"bar-selector",hidden:!(this.columnType==="rich"&&this.richRowSelector)},r("label",{part:"selector-label"},r("input",{type:"checkbox",part:["selector",this.richRowSelectorState].filter((function(t){return t!==""})).join(" "),onClick:this.selectorClickHandler,onTouchEnd:this.selectorTouchEndHandler,checked:this.richRowSelectorState==="checked",indeterminate:this.richRowSelectorState==="indeterminate"})))};t.prototype.renderName=function(){return r("li",{class:"name",part:"bar-name",title:this.columnTooltip||(this.columnNamePosition==="title"?this.columnName:null)},this.columnIconUrl||this.columnImage||this.columnImageSet?r("img",{class:"name-icon",part:"bar-name-icon",src:this.columnImage||this.columnIconUrl,srcSet:this.columnImageSet}):r("div",{class:"name-icon",part:"bar-name-icon"}),r("span",{class:"name-text",part:"bar-name-text",hidden:this.columnNameHidden||this.columnNamePosition!=="text"},this.columnName))};t.prototype.renderSort=function(){return r("li",{class:"sort",part:"bar-sort",hidden:!this.sortable},r("div",{class:"sort-asc",part:"bar-sort-ascending"}),r("div",{class:"sort-desc",part:"bar-sort-descending"}))};t.prototype.renderSettings=function(){return r("li",{class:"settings",part:"bar-settings",hidden:!this.settingable},r("button",{class:"button",part:"bar-settings-button",onClick:this.settingsClickHandler}))};t.prototype.renderResize=function(){return r("li",{class:"resize",part:"bar-resize",hidden:!this.resizable},r("ch-grid-column-resize",{column:this.el,class:"resize-split",part:"bar-resize-split"}))};Object.defineProperty(t,"watchers",{get:function(){return{freeze:["freezeHandler"],hidden:["hiddenHandler"],order:["orderHandler"],size:["sizeHandler"],sortDirection:["sortDirectionHandler"]}},enumerable:false,configurable:true});return t}());A.style=O;var E=":host{display:block;min-width:1px;height:100%;cursor:ew-resize}.resize-mask{position:fixed;inset:0}";var j=E;var D=t("ch_grid_column_resize",function(){function t(t){this.mousemoveFn=this.mousemoveHandler.bind(this);i(this,t);this.columnResizeStarted=n(this,"columnResizeStarted",7);this.columnResizing=n(this,"columnResizing",7);this.columnResizeFinished=n(this,"columnResizeFinished",7);this.resizing=false;this.column=undefined}Object.defineProperty(t.prototype,"el",{get:function(){return e(this)},enumerable:false,configurable:true});t.prototype.componentDidLoad=function(){this.el.addEventListener("mousedown",this.mousedownHandler.bind(this))};t.prototype.clickHandler=function(t){t.stopPropagation()};t.prototype.dblclickHandler=function(t){t.stopPropagation();if(c(t)){this.column.size="auto"}else{this.column.size="max-content"}};t.prototype.columnResizeStartedHandler=function(){this.resizing=true};t.prototype.columnResizeFinishedHandler=function(){this.resizing=false};t.prototype.mousedownHandler=function(t){t.stopPropagation();t.preventDefault();this.startPageX=t.pageX;document.addEventListener("mousemove",this.mousemoveFn,{passive:true});document.addEventListener("mouseup",this.mouseupHandler.bind(this),{once:true});this.columnResizeStarted.emit({columnId:this.column.columnId})};t.prototype.mousemoveHandler=function(t){this.columnResizing.emit({columnId:this.column.columnId,deltaWidth:this.startPageX-t.pageX})};t.prototype.mouseupHandler=function(){document.removeEventListener("mousemove",this.mousemoveFn);this.columnResizeFinished.emit({columnId:this.column.columnId})};t.prototype.render=function(){return r("div",{key:"d20b633bac636c02c4a3d7d5c791b0dbff9c016f",class:"resize-mask",hidden:!this.resizing})};return t}());D.style=j;var F=":host{display:contents}";var R=F;var H=t("ch_grid_column_settings",function(){function t(t){i(this,t);this.column=undefined;this.show=false}t.prototype.windowClosedHandler=function(t){t.stopPropagation();this.column.showSettings=false};t.prototype.columnSettingsChangedHandler=function(){this.column.showSettings=false};t.prototype.render=function(){return r(s,{key:"9c56aac7410f01ed968f51278d8c9c45a7618db4"},r("ch-window",{key:"850186f1324f1afaef9b8baed7eae231be0fb9e1",modal:true,container:this.column,xAlign:"inside-start",yAlign:"outside-end",caption:this.column.columnName,closeText:"Close",closeOnOutsideClick:true,closeOnEscape:true,allowDrag:"header",hidden:!this.show,exportparts:"mask,window,header,caption,close,main,footer"},r("slot",{key:"c2995b269d93395c1313fba131d90188208281f1"})))};return t}());H.style=R;var M="@layer ch-grid {\n  ch-grid-columnset {\n    display: contents;\n  }\n}\n@layer ch-grid {\n  ch-grid-row {\n    display: contents;\n  }\n  ch-grid-row[collapsed] > ch-grid-rowset {\n    display: none;\n  }\n  ch-grid-row:is([leaf=false], :has(> ch-grid-rowset)) > ch-grid-cell::part(caret) {\n    visibility: visible;\n  }\n  ch-grid-row[dragging] {\n    display: -ms-flexbox;\n    display: flex;\n    position: fixed;\n    pointer-events: none;\n    -webkit-box-shadow: rgba(0, 0, 0, 0.7) 0px 5px 15px;\n    box-shadow: rgba(0, 0, 0, 0.7) 0px 5px 15px;\n    z-index: 1000;\n    -webkit-transition: top var(--row-drag-transition-duration, 0.1s);\n    transition: top var(--row-drag-transition-duration, 0.1s);\n  }\n}\n@layer ch-grid {\n  ch-grid-rowset {\n    display: contents;\n  }\n  ch-grid-rowset[collapsed] > :not(ch-grid-rowset-legend) {\n    display: none;\n  }\n}\n@layer ch-grid {\n  ch-grid-cell {\n    position: -webkit-sticky;\n    position: sticky;\n    grid-column: var(--grid-column);\n    -webkit-transition: -webkit-transform var(--column-drag-transition-duration, 0.2s);\n    transition: -webkit-transform var(--column-drag-transition-duration, 0.2s);\n    transition: transform var(--column-drag-transition-duration, 0.2s);\n    transition: transform var(--column-drag-transition-duration, 0.2s), -webkit-transform var(--column-drag-transition-duration, 0.2s);\n  }\n  ch-grid-cell[selected] {\n    --ch-grid-cell-z-index-active: var(--ch-grid-cell-active-layer);\n  }\n  ch-grid-cell,\n  ch-grid-row[selected] > ch-grid-cell,\n  ch-grid-row[highlighted] > ch-grid-cell {\n    background-color: inherit;\n    -webkit-margin-before: inherit;\n    margin-block-start: inherit;\n    -webkit-margin-after: inherit;\n    margin-block-end: inherit;\n    -webkit-border-before: inherit;\n    border-block-start: inherit;\n    -webkit-border-after: inherit;\n    border-block-end: inherit;\n    -webkit-padding-before: inherit;\n    padding-block-start: inherit;\n    -webkit-padding-after: inherit;\n    padding-block-end: inherit;\n  }\n  ch-grid-cell:before {\n    -webkit-margin-start: calc(var(--indent) * var(--level));\n    margin-inline-start: calc(var(--indent) * var(--level));\n  }\n  ch-grid-cell::part(indent) {\n    width: calc(var(--indent) * var(--level));\n  }\n  ch-grid-cell::part(caret) {\n    visibility: hidden;\n  }\n}";var L=M;var T=t("ch_grid_columnset",function(){function t(t){i(this,t)}Object.defineProperty(t.prototype,"el",{get:function(){return e(this)},enumerable:false,configurable:true});t.prototype.columnSortChangedHandler=function(t){var i=Array.from(this.el.querySelectorAll("ch-grid-column"));i.forEach((function(i){if(i.columnId!==t.detail.columnId){i.sortDirection=null}}))};return t}());T.style=L;var G=":host{display:contents;--ch-window-mask-z-index:var(--ch-grid-settings-layer)}";var W=G;var P=t("ch_grid_settings",function(){function t(t){i(this,t);this.settingsCloseClicked=n(this,"settingsCloseClicked",7);this.grid=undefined;this.show=false}t.prototype.windowClosedHandler=function(t){t.stopPropagation();this.show=false;this.settingsCloseClicked.emit()};t.prototype.render=function(){return r(s,{key:"6049fc5f338e308033648332754071aad03f7f2c"},r("ch-window",{key:"4c02c973889f09b8c1e511d59156efd9a59b648d",modal:true,container:this.grid,caption:"Options",closeText:"Close",closeOnOutsideClick:true,closeOnEscape:true,allowDrag:"header",hidden:!this.show,exportparts:"mask,window,header,caption,close,main,footer"},r("slot",{key:"bac125c9a1ad623d63047b1658d1f8c7d599f719"})))};return t}());P.style=W;var U=":host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}ul{display:contents;list-style-type:none}";var X=U;var N=t("ch_grid_settings_columns",function(){function t(t){var n=this;this.handleClick=function(t){var i=t.target;var e=n.columns.find((function(t){return t.columnId===i.name}));e.hidden=!i.checked;t.stopPropagation()};i(this,t);this.columns=undefined}t.prototype.getColumnsSorted=function(){return __spreadArray([],this.columns,true).sort((function(t,i){if(t.order<i.order){return-1}if(t.order>i.order){return 1}return 0}))};t.prototype.render=function(){var t=this;var i=this.getColumnsSorted();return r("ul",{key:"1e8c0fcc558e5148aa7f3aa73c6c8df6af35cc5b"},i.map((function(i){return r("li",{part:"column"},r("label",{part:"column-label"},r("input",{part:!i.hidden?"column-visible column-visible-checked":"column-visible",type:"checkbox",checked:!i.hidden,disabled:!i.hideable,name:i.columnId,onClick:t.handleClick}),i.columnName))})))};return t}());N.style=X}}}));
//# sourceMappingURL=p-e7a441f7.system.entry.js.map