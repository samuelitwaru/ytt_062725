const t=/url\((["']?)([^\)]*)\)(?:\s+([\d.]+)x)?/i;let e;function n(t){if(t.startsWith("data:image/svg+xml;utf8,")){t=`data:image/svg+xml;base64,${btoa(t.slice(24).replace(/\\"/g,'"'))}`}t=t.replace(/\\/g,"");t=t.replace(/\s/g,"%20");return t}function i(i,r){e||=getComputedStyle(document.documentElement);let s=e.getPropertyValue(`--gx-image_${i}`);if(s){let e;const u=r(i);while(e=s.match(t)){u.densitySet.push({uri:n(e[1]?e[2].slice(0,-1):e[2]),density:e[3]?parseFloat(e[3]):1});s=s.slice(e[0].length)}if(u.densitySet.length>0){u.uri=u.densitySet.reduce(((t,e)=>t.density===1||t.density<e.density?t:e)).uri}return u}}const r=(t,e,n)=>{if(!t){return undefined}let r="";if(t.id){r=i(t.id,n).uri}else{r=t.uri}if(!r){return""}const s=e.WEBAPP_BASE;const u=r.toLowerCase();if(u.startsWith("assets/")){return r}if(u.startsWith("http://")||u.startsWith("https://")||u.startsWith("blob:")||u.startsWith("file:")||u.startsWith("data:")){return r}if(u.startsWith(e.BASE_PATH.toLowerCase())){return s+r.substring(e.BASE_PATH.length)}return s+r};export{r as f};
//# sourceMappingURL=p-d161cf55.js.map