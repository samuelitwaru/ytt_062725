var __extends=this&&this.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{a(n.next(e))}catch(t){o(t)}}function l(e){try{a(n["throw"](e))}catch(t){o(t)}}function a(e){e.done?r(e.value):i(e.value).then(s,l)}a((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(e){return function(t){return a([e,t])}}function a(s){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,l=o.length;s<l;s++,i++)n[i]=o[s];return n};System.register(["./p-68f06fae.system.js","./p-689dd18e.system.js","./p-d712cf0c.system.js"],(function(e){"use strict";var t,r,n,i,o,s,l;return{setters:[function(e){t=e.r;r=e.c;n=e.h;i=e.H;o=e.g},function(e){s=e.C},function(e){l=e.m}],execute:function(){var a=function(e){__extends(t,e);function t(){return e.call(this)||this}t.prototype.connectedCallback=function(){this.addEventListener("cellCaretClicked",this.cellCaretClickedHandler)};Object.defineProperty(t.prototype,"grid",{get:function(){var e;return(e=this.parentGrid)!==null&&e!==void 0?e:this.loadParentGrid()},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"rowId",{get:function(){var e;return(e=this.getAttribute("rowid"))!==null&&e!==void 0?e:""},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"highlighted",{get:function(){return this.hasAttribute("highlighted")},set:function(e){if(e===true){this.setAttribute("highlighted","");if(this.grid.rowHighlightedClass){this.classList.add(this.grid.rowHighlightedClass)}}else{this.removeAttribute("highlighted");if(this.grid.rowHighlightedClass){this.classList.remove(this.grid.rowHighlightedClass)}}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"selected",{get:function(){return this.hasAttribute("selected")},set:function(e){if(e===true){this.setAttribute("selected","");if(this.grid.rowSelectedClass){this.classList.add(this.grid.rowSelectedClass)}}else{this.removeAttribute("selected");if(this.grid.rowSelectedClass){this.classList.remove(this.grid.rowSelectedClass)}}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hasChildRows",{get:function(){return this.querySelector("ch-grid-rowset")?true:false},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.hasAttribute("collapsed")},set:function(e){if(e){this.setAttribute("collapsed","")}else{this.removeAttribute("collapsed")}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"leaf",{get:function(){return this.hasAttribute("leaf")},set:function(e){if(e===true){this.setAttribute("leaf","")}else{this.removeAttribute("leaf")}},enumerable:false,configurable:true});t.prototype.ensureVisible=function(){this.dispatchEvent(new CustomEvent("rowEnsureVisible",{bubbles:true,composed:true}))};t.prototype.getBoundingClientRect=function(){var e;if(!this.firstElementChild){e=new DOMRect}else if(this.firstElementChild==this.lastElementChild){e=this.firstElementChild.getBoundingClientRect()}else{var t=this.firstElementChild.getBoundingClientRect();var r=this.lastElementChild.getBoundingClientRect();e=new DOMRect(t.x,t.y,r.x-t.x+r.width,r.y-t.y+r.height)}return e};t.prototype.cellCaretClickedHandler=function(e){var t=e.currentTarget;if(t.hasChildRows){this.collapsed=!this.collapsed}e.stopPropagation()};t.prototype.loadParentGrid=function(){this.parentGrid=this.closest("ch-grid");return this.parentGrid};return t}(HTMLElement);a.TAG_NAME="CH-GRID-ROW";if(!customElements.get("ch-grid-row")){customElements.define("ch-grid-row",a)}var c=function(e){__extends(t,e);function t(){var t=e.call(this)||this;t.computedLevel=0;return t}t.prototype.connectedCallback=function(){this.addEventListener("rowsetLegendClicked",this.rowsetLegendClickedHandler);this.defineLevel()};Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.hasAttribute("collapsed")},set:function(e){if(e){this.setAttribute("collapsed","")}else{this.removeAttribute("collapsed")}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"level",{get:function(){if(!this.computedLevel){this.computeLevel()}return this.computedLevel},enumerable:false,configurable:true});t.prototype.getBoundingClientRect=function(){var e;var t=parseInt(this.style.getPropertyValue("padding-top"));var r=parseInt(this.style.getPropertyValue("padding-bottom"));if(!this.firstElementChild){var n=this.grid.shadowRoot.querySelector(".main").getBoundingClientRect();e=new DOMRect(n.x,n.y,n.width,0)}else if(this.firstElementChild==this.lastElementChild){var i=this.firstElementChild.getBoundingClientRect();e=new DOMRect(i.x,i.y-t,i.x+i.width,i.y+i.height+t+r)}else{var i=this.firstElementChild.getBoundingClientRect();var o=this.lastElementChild.getBoundingClientRect();e=new DOMRect(i.x,i.y-t,o.x-i.x+o.width,o.y-i.y+o.height+t+r)}return e};t.prototype.rowsetLegendClickedHandler=function(e){e.stopPropagation();this.collapsed=!this.collapsed};t.prototype.defineLevel=function(){this.style.setProperty("--level",this.level.toString())};t.prototype.computeLevel=function(){var e,t;this.computedLevel=(t=(e=this.getParentRowset())===null||e===void 0?void 0:e.level)!==null&&t!==void 0?t:0;if(this.hasLegend()||this.isNestedRow()){this.computedLevel++}};t.prototype.hasLegend=function(){var e;return((e=this.firstElementChild)===null||e===void 0?void 0:e.tagName)==s.TAG_NAME};t.prototype.isNestedRow=function(){return this.parentElement.tagName==a.TAG_NAME};t.prototype.getParentRowset=function(){var e=this.parentElement.closest("ch-grid-rowset, ch-grid");if(e.tagName==t.TAG_NAME){return e}};return t}(HTMLElement);c.TAG_NAME="CH-GRID-ROWSET";if(!customElements.get("ch-grid-rowset")){customElements.define("ch-grid-rowset",c)}var d;(function(e){e["Plain"]="plain";e["Rich"]="rich";e["TreeNode"]="node";e["RowAction"]="action"})(d||(d={}));var u=function(e){__extends(t,e);function t(){var t=e.call(this)||this;t.cellType=d.Plain;return t}Object.defineProperty(t.prototype,"type",{get:function(){return this.cellType},set:function(e){switch(e){case d.Plain:this.definePlain();break;case d.Rich:this.defineRich();break;case d.TreeNode:this.defineTreeNode();break}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"row",{get:function(){return this.parentElement},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"cellId",{get:function(){var e;return(e=this.getAttribute("cellid"))!==null&&e!==void 0?e:""},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"selected",{get:function(){return this.hasAttribute("selected")},set:function(e){if(e===true){this.setAttribute("selected","")}else{this.removeAttribute("selected")}},enumerable:false,configurable:true});t.prototype.isVisible=function(){return this.offsetParent!==null};t.prototype.ensureVisible=function(){this.dispatchEvent(new CustomEvent("cellEnsureVisible",{bubbles:true,composed:true}))};t.prototype.setSelectorChecked=function(e){this.selector.checked=e};t.prototype.caretClickHandler=function(e){e.stopPropagation();this.dispatchEvent(new CustomEvent("cellCaretClicked",{bubbles:true,composed:true}))};t.prototype.selectorClickHandler=function(e){e.stopPropagation();this.dispatchEvent(new CustomEvent("cellSelectorClicked",{bubbles:true,composed:true,detail:{checked:this.selector.checked,range:e.shiftKey}}))};t.prototype.selectorLabelClickHandler=function(e){if(!e.shiftKey){e.stopPropagation()}};t.prototype.dragMouseDownHandler=function(e){e.preventDefault();e.stopPropagation();this.dispatchEvent(new CustomEvent("rowDragStarted",{bubbles:true,composed:true,detail:{row:this.row}}))};t.prototype.actionClickHandler=function(e){console.log(e)};t.prototype.definePlain=function(){this.cellType=d.Plain};t.prototype.defineRich=function(){var e="";this.cellType=d.Rich;if(!this.shadowRoot||this.shadowRoot.innerHTML==""){this.attachShadow({mode:"open"});if(this.rowDrag){e+='\n          <div part="drag-icon"></div>\n        '}if(this.rowSelector){e+='\n          <style>label {display:flex}</style>\n          <label part="selector-label">\n            <input type="checkbox" part="selector">\n          </label>\n        '}if(this.rowActions){e+='\n          <button part="actions-icon"></button>\n        '}this.shadowRoot.innerHTML="\n        "+e+"\n        <slot></slot>\n      ";if(this.rowDrag){this.drag=this.shadowRoot.querySelector("[part='drag-icon']");this.drag.addEventListener("mousedown",this.dragMouseDownHandler.bind(this))}if(this.rowActions){this.action=this.shadowRoot.querySelector("[part='actions-icon']");this.action.addEventListener("click",this.actionClickHandler.bind(this))}if(this.rowSelector){this.selector=this.shadowRoot.querySelector("[part='selector']");this.selector.addEventListener("click",this.selectorClickHandler.bind(this));this.selectorLabel=this.shadowRoot.querySelector("[part='selector-label']");this.selectorLabel.addEventListener("click",this.selectorLabelClickHandler.bind(this))}}};t.prototype.defineTreeNode=function(){this.cellType=d.TreeNode;if(!this.shadowRoot||this.shadowRoot.innerHTML==""){this.attachShadow({mode:"open"});this.shadowRoot.innerHTML='\n        <style>:host::before {content: none !important}</style>\n        <div part="indent"></div>\n        <div part="caret"></div>\n        <input type="checkbox" part="node-selector" hidden>\n        <div part="node-icon"></div>\n        <slot></slot>\n      ';this.caret=this.shadowRoot.querySelector("[part='caret']");this.caret.addEventListener("click",this.caretClickHandler.bind(this))}};return t}(HTMLElement);u.TAG_NAME="CH-GRID-CELL";if(!customElements.get("ch-grid-cell")){customElements.define("ch-grid-cell",u)}var h=function(){function e(e,t){this.lastTargetOrder=0;this.columns=t.map((function(e){return{column:e,rect:e.getBoundingClientRect(),translateX:0,order:e.order}}));this.column=this.columns.find((function(t){return t.column.columnId==e}));this.columns.forEach(this.setColumnHiddenRect.bind(this))}e.prototype.dragging=function(e){var t=this;var r=this.column.column.order;var n=this.column.column.freeze;var i=0;var o=false;this.column.translateX=0;this.columns.filter((function(e){return e.column.freeze==n})).forEach((function(n){var o=n.column.order;var s=r>o?-1:1;var l=r>o?1:-1;if(n.rect.left<e&&e<n.rect.right&&o!=r){n.translateX=t.column.rect.width*l;n.order=n.column.order+l;t.column.translateX+=n.rect.width*s;i=o}else if(e<n.rect.left&&o<r){n.translateX=t.column.rect.width*l;n.order=n.column.order+l;t.column.translateX+=n.rect.width*s}else if(e>n.rect.right&&o>r){n.translateX=t.column.rect.width*l;n.order=n.column.order+l;t.column.translateX+=n.rect.width*s}else if(o!=r){n.translateX=0;n.order=n.column.order}}));this.column.order=i?i:this.column.column.order;o=i!=this.lastTargetOrder;this.lastTargetOrder=i;return o};e.prototype.dragEnd=function(){this.columns.forEach((function(e){e.column.order=e.order;e.translateX=0}))};e.prototype.getColumnStyle=function(e){var t;return t={},t["--ch-grid-column-"+e.physicalOrder+"-transform"]="translateX("+this.columns[e.physicalOrder-1].translateX+"px)",t};e.prototype.getColumnsFirstLast=function(){var e;var t;this.columns.forEach((function(r){if(!r.column.hidden&&(!e||r.order<e.order)){e=r}if(!r.column.hidden&&(!t||r.order>t.order)){t=r}}));return{columnFirst:e.column,columnLast:t.column}};e.prototype.setColumnHiddenRect=function(e){if(e.column.hidden){var t=this.getPreviousSiblingVisible(e)||this.getNextSiblingVisible(e);e.rect=new DOMRect(e.column.order<t.column.order?t.rect.left:t.rect.right,t.rect.y,0,t.rect.height)}};e.prototype.getPreviousSiblingVisible=function(e){var t;this.columns.forEach((function(r){if(!r.column.hidden&&r.column.order<e.column.order&&(!t||r.column.order>t.column.order)){t=r}}));return t};e.prototype.getNextSiblingVisible=function(e){var t;this.columns.forEach((function(r){if(!r.column.hidden&&r.column.order>e.column.order&&(!t||r.column.order<t.column.order)){t=r}}));return t};return e}();var g=function(){function e(e){this.columnsetObserver=new MutationObserver(this.reloadColumns.bind(this));this.columnResizeObserver=new ResizeObserver(this.resizeColumnHandler.bind(this));this.columnsDisplay=[];this.grid=e;this.columns=Array.from(this.grid.el.querySelectorAll("ch-grid-column"));this.observeColumnset();this.defineColumns(this.columns);this.defineColumnsVariables();this.adjustFreezeOrder()}e.prototype.getColumns=function(){return this.columns};e.prototype.getColumnsFirstLast=function(){var e;var t;this.columns.forEach((function(r){if(!r.hidden&&(!e||r.order<e.order)){e=r}if(!r.hidden&&(!t||r.order>t.order)){t=r}}));return{columnFirst:e,columnLast:t}};e.prototype.getColumnSelector=function(){return this.columns.find((function(e){return e.columnType=="rich"&&e.richRowSelector}))};e.prototype.adjustFreezeOrder=function(){var e=this.columns.filter((function(e){return e.freeze=="start"})).sort(this.fnSortByOrder);var t=this.columns.filter((function(e){return e.freeze!="start"&&e.freeze!="end"})).sort(this.fnSortByOrder);var r=this.columns.filter((function(e){return e.freeze=="end"})).sort(this.fnSortByOrder);var n=1;e.forEach((function(e){return e.order=n++}));t.forEach((function(e){return e.order=n++}));r.forEach((function(e){return e.order=n++}))};e.prototype.defineColumns=function(e){var t=this;e.forEach((function(e){t.defineColumnId(e);t.defineColumnIndex(e);t.defineColumnOrder(e);t.defineColumnSize(e);t.defineColumnDisplayObserver(e);t.defineColumnResizeObserver(e);t.defineColumnType(e)}))};e.prototype.defineColumnId=function(e){if(!e.columnId){e.columnId=this.getColumnUniqueId()}};e.prototype.defineColumnIndex=function(e){e.physicalOrder=this.columns.indexOf(e)+1};e.prototype.defineColumnOrder=function(e){if(!e.order){e.order=e.physicalOrder}};e.prototype.defineColumnSize=function(e){if(!e.size){e.size="auto"}};e.prototype.defineColumnDisplayObserver=function(e){if(e.displayObserverClass&&!e.hidden){var t=this.columnsDisplay.push(document.createElement("ch-grid-column-display"))-1;this.columnsDisplay[t].setAttribute("slot","column-display");this.columnsDisplay[t].setAttribute("class",e.displayObserverClass);this.columnsDisplay[t].column=e;this.grid.el.appendChild(this.columnsDisplay[t])}};e.prototype.defineColumnResizeObserver=function(e){this.columnResizeObserver.observe(e,{box:"border-box"})};e.prototype.defineColumnType=function(e){switch(e.columnType){case"tree":this.grid.el.querySelectorAll("ch-grid-cell:nth-child("+e.physicalOrder+")").forEach((function(e){e.type=d.TreeNode}));break;case"rich":this.grid.el.querySelectorAll("ch-grid-cell:nth-child("+e.physicalOrder+")").forEach((function(t){t.rowDrag=e.richRowDrag;t.rowSelector=e.richRowSelector;t.rowActions=e.richRowActions;t.type=d.Rich}));break}};e.prototype.defineColumnsVariables=function(){var e=document.head.querySelector("#ch-grid-columns-variables");if(!e||parseInt(e.getAttribute("data-columns"))<this.columns.length){var t="";for(var r=1;r<=this.columns.length;r++){t+="ch-grid-column:nth-child("+r+"), ch-grid-cell:nth-child("+r+") {\n                        display: var(--ch-grid-column-"+r+"-display, flex);\n                        grid-column: var(--ch-grid-column-"+r+"-position, "+r+");\n                        margin-inline-start: var(--ch-grid-column-"+r+"-margin-start);\n                        border-inline-start: var(--ch-grid-column-"+r+"-border-start);\n                        padding-inline-start: var(--ch-grid-column-"+r+"-padding-start);\n                        margin-inline-end: var(--ch-grid-column-"+r+"-margin-end);\n                        border-inline-end: var(--ch-grid-column-"+r+"-border-end);\n                        padding-inline-end: var(--ch-grid-column-"+r+"-padding-end);\n                        transform: var(--ch-grid-column-"+r+"-transform);\n                        left: var(--ch-grid-column-"+r+"-left-freeze);\n                        right: var(--ch-grid-column-"+r+"-right-freeze);\n                        z-index: calc(var(--ch-grid-column-"+r+"-z-index-freeze, 0) + var(--ch-grid-column-z-index-head, 0)  + var(--ch-grid-column-z-index-active, 0));\n                    }\n                    ch-grid-cell:nth-child("+r+")::before {\n                        content: var(--ch-grid-column-"+r+"-content);\n                    }\n                "}var n="@layer ch-grid {\n        "+t+"\n      }";if(e){e.setAttribute("data-columns",this.columns.length.toString());e.innerHTML=n}else{document.head.insertAdjacentHTML("beforeend",'<style id="ch-grid-columns-variables" data-columns="'+this.columns.length+'">'+n+"</style>")}}};e.prototype.undefineColumns=function(e){var t=this;e.forEach((function(e){t.columnResizeObserver.unobserve(e);t.columnsDisplay.filter((function(t){return t.column==e})).forEach((function(e){e.remove()}))}))};e.prototype.observeColumnset=function(){this.columnsetObserver.observe(this.grid.el.querySelector("ch-grid-columnset"),{childList:true})};e.prototype.reloadColumns=function(){var e=this;var t=Array.from(this.grid.el.querySelectorAll("ch-grid-column"));var r=t.filter((function(t){return!e.columns.includes(t)}));var n=this.columns.filter((function(e){return!t.includes(e)}));if(r.length||n.length){this.columns=t;this.undefineColumns(n);this.defineColumns(r);this.defineColumnsVariables();this.adjustOrders()}};e.prototype.resizeColumnHandler=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];var i=n.target;this.grid.gridMainEl.style.setProperty("--ch-grid-column-"+i.physicalOrder+"-width",n.contentRect.width+"px")}};e.prototype.getColumnUniqueId=function(){var e=Date.now().toString(36)+Math.random().toString(36).substring(2);return"ch-grid-column-auto-"+e};e.prototype.adjustOrders=function(){this.columns.forEach((function(e,t){return e.physicalOrder=t+1}));__spreadArrays(this.columns).sort(this.fnSortByOrder).forEach((function(e,t){e.order=t+1}))};e.prototype.fnSortByOrder=function(e,t){if(e.order<t.order){return-1}if(e.order>t.order){return 1}return 0};return e}();var p=function(){function e(e){this.grid=e}e.prototype.setRowHighlighted=function(e,t){var r=this.getRowEventTarget(e)||(this.isRowActionsEventTarget(e)?t:null);if(r){if(!r.highlighted){if(t){t.highlighted=false}r.highlighted=true}}else{if(t){t.highlighted=false}}return r};e.prototype.setRowSelected=function(e,t,r,n,i){var o,s;if(e){if(r&&n&&e.parentElement==((o=this.lastRow)===null||o===void 0?void 0:o.parentElement)){var l=!e.selected;var a=this.grid.manager.getRowsRange((s=this.lastRow)!==null&&s!==void 0?s:e,e);this.lastRow=e;a.forEach((function(e){return e.selected=l}));if(l){return i.concat(a.filter((function(e){return!i.includes(e)})))}else{return i.filter((function(e){return!a.includes(e)}))}}else{this.lastRow=e;if(e.selected){if(t=="append"||t=="unselect"){e.selected=false;return i.filter((function(t){return t!==e}))}}else{if(n){if(i.length==0){e.selected=true;return i.concat([e])}else{if(t=="append"){e.selected=true;return i.concat([e])}else{i.forEach((function(e){return e.selected=false}));e.selected=true;return[e]}}}else{i.forEach((function(e){return e.selected=false}));e.selected=true;return[e]}}}}return i};e.prototype.setRowsSelected=function(e,t){var r=[];if(e==false&&t.length==0){return t}this.grid.el.querySelectorAll(a.TAG_NAME).forEach((function(t){t.selected=e;if(e){r.push(t)}}));return r};e.prototype.setCellSelected=function(e,t){if(e&&!e.selected){if(t){t.selected=false}e.selected=true}return e||t};e.prototype.refreshCellSelector=function(e,t){if(t===void 0){t=[]}var r=this.grid.manager.columns.getColumnSelector();if(r){e.filter((function(e){return!t.includes(e)})).forEach((function(e){var t=e.children[r.physicalOrder-1];t.setSelectorChecked(true)}));t.filter((function(t){return!e.includes(t)})).forEach((function(e){var t=e.children[r.physicalOrder-1];t.setSelectorChecked(false)}))}};e.prototype.getRowEventTarget=function(e){return e.composedPath().find((function(e){return e.tagName==="CH-GRID-ROW"}))};e.prototype.isRowActionsEventTarget=function(e){return e.composedPath().find((function(e){var t;return(t=e.classList)===null||t===void 0?void 0:t.contains("row-actions")}))!=null};return e}();var f=function(){function e(e){this.dragMouseMoveFn=this.dragMouseMoveHandler.bind(this);this.grid=e}e.prototype.dragStart=function(e){this.row=e;this.rowIndex=this.grid.manager.getGridRowIndex(e);this.defineListeners();this.createRowShadow();this.floatRow();this.updateRowPosition()};e.prototype.dragMouseMoveHandler=function(e){var t=e.target;var r=t.closest(a.TAG_NAME);if(r&&r.parentElement==this.row.parentElement&&r.grid==this.grid.el){var n=this.grid.manager.getGridRowIndex(r);var i=n+2;var o=this.rowIndex<n?-1:1;if(this.rowShadow.style.getPropertyValue("--row-shadow-row-start")!=""+i){this.rowShadow.style.setProperty("--row-shadow-row-start",""+i)}else{this.rowShadow.style.setProperty("--row-shadow-row-start",""+(i+o))}this.updateRowPosition()}};e.prototype.dragMouseUpHandler=function(){document.removeEventListener("mousemove",this.dragMouseMoveFn);var e=parseInt(this.rowShadow.style.getPropertyValue("--row-shadow-row-start"));var t=this.grid.el.querySelectorAll("ch-grid-row").item(e-2);if(e<this.rowIndex+2){t.before(this.row)}if(e>this.rowIndex+2){t.after(this.row)}this.unfloatRow();this.rowShadow.remove();this.row=null;this.rowShadow=null};e.prototype.defineListeners=function(){document.addEventListener("mousemove",this.dragMouseMoveFn,{passive:true});document.addEventListener("mouseup",this.dragMouseUpHandler.bind(this),{once:true})};e.prototype.createRowShadow=function(){var e=this;var t=this.grid.manager.getRowHeight(this.row);this.rowShadow=document.createElement("div");this.rowShadow.style.display="contents";this.grid.manager.getColumnsWidth().forEach((function(r){var n=document.createElement("div");n.style.opacity="0";n.style.minWidth=r;n.style.height=t;n.style.gridRowStart="var(--row-shadow-row-start)";e.rowShadow.append(n)}))};e.prototype.floatRow=function(){var e=this;var t=this.grid.manager.getColumnsWidth();var r=this.grid.gridMainEl.clientWidth;this.row.before(this.rowShadow);this.row.setAttribute("dragging","");this.row.style.width=r+"px";this.row.querySelectorAll(":scope > ch-grid-cell").forEach((function(r,n){var i=parseInt(e.grid.gridMainEl.style.getPropertyValue("--ch-grid-column-"+(n+1)+"-position"));if(!r.hidden){r.style.width=t[i-1];r.style.order=""+i}}))};e.prototype.unfloatRow=function(){this.row.removeAttribute("dragging");this.row.style.width="";this.row.querySelectorAll(":scope > ch-grid-cell").forEach((function(e){e.style.width="";e.style.order=""}))};e.prototype.updateRowPosition=function(){var e=this.rowShadow.children[0].getBoundingClientRect();this.row.style.top=e.top+"px";this.row.style.left=e.left+"px"};return e}();var m=function(){function e(e){this.grid=e;this.columnsManager=new g(this.grid);this.selectionManager=new p(this.grid)}Object.defineProperty(e.prototype,"selection",{get:function(){return this.selectionManager},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"columns",{get:function(){return this.columnsManager},enumerable:false,configurable:true});e.prototype.gridDidLoad=function(){if(this.isRowActionsEnabled()){this.observeMainScroll()}};e.prototype.getColumns=function(){return this.columnsManager.getColumns()};e.prototype.getColumnsWidth=function(){return getComputedStyle(this.grid.gridMainEl).gridTemplateColumns.split(" ")};e.prototype.getGridRowIndex=function(e){return Array.prototype.indexOf.call(this.grid.el.querySelectorAll(a.TAG_NAME+", "+s.TAG_NAME),e)};e.prototype.getRowsetRowIndex=function(e){return Array.prototype.indexOf.call(e.parentElement.children,e)};e.prototype.getRowHeight=function(e){var t=getComputedStyle(this.grid.gridMainEl).gridTemplateRows.split(" ");var r=this.getGridRowIndex(e)+1;return t[r]};e.prototype.getRowsRange=function(e,t){var r=this.getRowsetRowIndex(e)<=this.getRowsetRowIndex(t)?"nextElementSibling":"previousElementSibling";var n=[];var i;i=e[r];n.push(e);while(i&&i!=t){n.push(i);i=i[r]}n.push(t);return n};e.prototype.getRowEventTarget=function(e){return e.composedPath().find((function(e){return e.tagName==="CH-GRID-ROW"}))};e.prototype.getCellEventTarget=function(e){return e.composedPath().find((function(e){return e.tagName==="CH-GRID-CELL"}))};e.prototype.columnDragStart=function(e){this.columnDragManager=new h(e,this.columnsManager.getColumns())};e.prototype.columnDragging=function(e){return this.columnDragManager.dragging(e)};e.prototype.columnDragEnd=function(){this.columnDragManager.dragEnd();this.columnDragManager=null};e.prototype.rowDragStart=function(e){this.rowDragManager=new f(this.grid);this.rowDragManager.dragStart(e)};e.prototype.getGridStyle=function(){return Object.assign(Object.assign(Object.assign(Object.assign({display:"grid"},this.getGridTemplateColumns()),this.getRowBoxSimulationStyle()),this.getDragTransitionStyle()),this.getColumnsStyle())};e.prototype.getRowsSelected=function(){var e=[];this.grid.el.querySelectorAll("ch-grid-row[selected]").forEach((function(t){return e.push(t)}));return e};e.prototype.isRowActionsEnabled=function(){var e=this.grid.gridRowActionsEl.firstElementChild;return e.assignedElements().length>0};e.prototype.setRowActionsPosition=function(e){if(e){this.grid.gridRowActionsEl.setAttribute("show","");this.grid.gridRowActionsEl.style.setProperty("--ch-grid-row-highlighted-top",this.getRowTop(e)+"px")}else{this.grid.gridRowActionsEl.removeAttribute("show");this.grid.gridRowActionsEl.style.removeProperty("--ch-grid-row-highlighted-top")}};e.prototype.ensureRowVisible=function(e){var t;var r=e.parentElement.closest(a.TAG_NAME+", "+c.TAG_NAME);var n=this.columnsManager.getColumnsFirstLast().columnFirst;while(r){r.collapsed=false;r=r.parentElement.closest(a.TAG_NAME+", "+c.TAG_NAME)}(t=e.children[n.physicalOrder])===null||t===void 0?void 0:t.scrollIntoView()};e.prototype.ensureCellVisible=function(e){var t=e.closest(a.TAG_NAME+", "+c.TAG_NAME);while(!e.isVisible()&&t){t.collapsed=false;t=t.parentElement.closest(a.TAG_NAME+", "+c.TAG_NAME)}if(!e.isVisible());e.scrollIntoView()};e.prototype.getGridTemplateColumns=function(){return{"grid-template-columns":this.columnsManager.getColumns().map((function(e){return"var(--ch-grid-column-"+e.physicalOrder+"-size)"})).join(" ")}};e.prototype.getRowBoxSimulationStyle=function(){var e;var t=this.columnDragManager?this.columnDragManager.getColumnsFirstLast():this.columnsManager.getColumnsFirstLast(),r=t.columnFirst,n=t.columnLast;if(!r||!n){return null}return e={},e["--ch-grid-column-"+r.physicalOrder+"-margin-start"]="var(--ch-grid-fallback, inherit)",e["--ch-grid-column-"+r.physicalOrder+"-border-start"]="var(--ch-grid-fallback, inherit)",e["--ch-grid-column-"+r.physicalOrder+"-padding-start"]="var(--ch-grid-fallback, inherit)",e["--ch-grid-column-"+n.physicalOrder+"-margin-end"]="var(--ch-grid-fallback, inherit)",e["--ch-grid-column-"+n.physicalOrder+"-border-end"]="var(--ch-grid-fallback, inherit)",e["--ch-grid-column-"+n.physicalOrder+"-padding-end"]="var(--ch-grid-fallback, inherit)",e};e.prototype.getRowTop=function(e){var t=e.firstElementChild;return t.offsetTop};e.prototype.getDragTransitionStyle=function(){return{"--column-drag-transition-duration":this.columnDragManager?".2s":"0s"}};e.prototype.getColumnsStyle=function(){var e=this;return this.columnsManager.getColumns().reduce((function(t,r){return Object.assign(Object.assign({},t),e.getColumnStyle(r))}),{})};e.prototype.getColumnStyle=function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getColumnSizeStyle(e)),this.getColumnOrderStyle(e)),this.getColumnDisplayStyle(e)),this.getColumnFreezeStyle(e)),this.getColumnDraggingStyle(e)),this.getColumnIndentStyle(e))};e.prototype.getColumnSizeStyle=function(e){var t;return t={},t["--ch-grid-column-"+e.order+"-size"]=e.hidden?"0px":e.size,t};e.prototype.getColumnOrderStyle=function(e){var t;return t={},t["--ch-grid-column-"+e.physicalOrder+"-position"]=e.order.toString(),t};e.prototype.getColumnFreezeStyle=function(e){switch(e.freeze){case"start":return this.getColumnFreezeStartStyle(e);case"end":return this.getColumnFreezeEndStyle(e)}};e.prototype.getColumnFreezeStartStyle=function(e){var t;var r=["0px"];for(var n=1;n<e.order;n++){r.push("var(--ch-grid-column-"+n+"-width)")}return t={},t["--ch-grid-column-"+e.physicalOrder+"-left-freeze"]="calc("+r.join(" + ")+")",t["--ch-grid-column-"+e.physicalOrder+"-z-index-freeze"]="var(--ch-grid-column-freeze-layer)",t};e.prototype.getColumnFreezeEndStyle=function(e){var t;var r=["0px"];for(var n=this.columnsManager.getColumns().length;n>e.order;n--){r.push("var(--ch-grid-column-"+n+"-width)")}return t={},t["--ch-grid-column-"+e.physicalOrder+"-right-freeze"]="calc("+r.join(" + ")+")",t["--ch-grid-column-"+e.physicalOrder+"-z-index-freeze"]="var(--ch-grid-column-freeze-layer)",t};e.prototype.getColumnDisplayStyle=function(e){var t;return e.hidden?(t={},t["--ch-grid-column-"+e.physicalOrder+"-display"]="none",t):null};e.prototype.getColumnDraggingStyle=function(e){return this.columnDragManager?this.columnDragManager.getColumnStyle(e):null};e.prototype.getColumnIndentStyle=function(e){var t;return t={},t["--ch-grid-column-"+e.physicalOrder+"-content"]=e.order==1?"''":"none",t};e.prototype.observeMainScroll=function(){var e=this;this.grid.gridMainEl.addEventListener("scroll",(function(){return e.grid.gridRowActionsEl.style.setProperty("--ch-grid-scroll-v",e.grid.gridMainEl.scrollTop+"px")}),{passive:true})};return e}();var y=":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;--ch-grid-column-header-layer:1000;--ch-grid-column-freeze-layer:2000;--ch-grid-column-active-layer:4000;--ch-grid-settings-layer:8000}.main{display:none;grid-auto-flow:dense;overflow-x:auto}.row-actions{position:absolute;top:calc( var(--ch-grid-row-highlighted-top, 0px) - var(--ch-grid-scroll-v, 0px) )}.row-actions:not([show]){display:none}";var v=e("ch_grid",function(){function e(e){t(this,e);this.selectionChanged=r(this,"selectionChanged",7);this.rowClicked=r(this,"rowClicked",7);this.rowsSelected=[];this.rowSelectionMode="single";this.rowHighlightEnabled="auto"}e.prototype.componentWillLoad=function(){this.manager=new m(this);this.gridStyle=this.manager.getGridStyle();this.rowsSelected=this.manager.getRowsSelected()};e.prototype.componentDidLoad=function(){this.manager.gridDidLoad();this.gridRowActionsEnabled=this.manager.isRowActionsEnabled()};e.prototype.componentShouldUpdate=function(e,t,r){if(r==="rowHighlighted"||r==="rowSelected"){return false}};e.prototype.rowHighlightedHandler=function(e){if(this.gridRowActionsEnabled){this.manager.setRowActionsPosition(e)}};e.prototype.rowsSelectedHandler=function(e,t){this.manager.selection.refreshCellSelector(e,t);this.selectionChanged.emit({rowsId:e.map((function(e){return e.rowId}))})};e.prototype.mouseMoveHandler=function(e){if(this.rowHighlightEnabled==="auto"&&this.rowSelectionMode!=="none"||this.rowHighlightEnabled==true){this.rowHighlighted=this.manager.selection.setRowHighlighted(e,this.rowHighlighted)}};e.prototype.mouseLeaveHandler=function(){if(this.rowHighlighted){this.rowHighlighted.highlighted=false;this.rowHighlighted=null}};e.prototype.clickHandler=function(e){var t=this.manager.getRowEventTarget(e);var r=this.manager.getCellEventTarget(e);if(t){this.rowClicked.emit({rowId:t.rowId,cellId:r===null||r===void 0?void 0:r.cellId})}if(this.rowSelectionMode!="none"){this.cellSelected=this.manager.selection.setCellSelected(r,this.cellSelected);this.rowsSelected=this.manager.selection.setRowSelected(t,l(e)?"append":"",e.shiftKey,this.rowSelectionMode==="multiple",this.rowsSelected)}};e.prototype.columnSelectorClickedHandler=function(e){this.rowsSelected=this.manager.selection.setRowsSelected(e.detail.checked,this.rowsSelected)};e.prototype.cellSelectorClickedHandler=function(e){var t=this.manager.getRowEventTarget(e);var r=this.manager.getCellEventTarget(e);if(this.rowSelectionMode!="none"){this.cellSelected=this.manager.selection.setCellSelected(r,this.cellSelected);this.rowsSelected=this.manager.selection.setRowSelected(t,e.detail.checked?"append":"unselect",e.detail.range,this.rowSelectionMode==="multiple",this.rowsSelected)}};e.prototype.columnStyleChangedHandler=function(){if(this.manager){this.gridStyle=this.manager.getGridStyle()}};e.prototype.columnFreezeChangedHandler=function(){this.manager.columns.adjustFreezeOrder()};e.prototype.columnDragStartHandler=function(e){this.manager.columnDragStart(e.detail.columnId)};e.prototype.columnDraggingHandler=function(e){if(this.manager.columnDragging(e.detail.positionX)){this.gridStyle=this.manager.getGridStyle()}};e.prototype.columnDragEndHandler=function(){this.manager.columnDragEnd();this.gridStyle=this.manager.getGridStyle()};e.prototype.rowDragStartHandler=function(e){this.manager.rowDragStart(e.detail.row)};e.prototype.rowEnsureVisibleHandler=function(e){this.manager.ensureRowVisible(e.target)};e.prototype.cellEnsureVisibleHandler=function(e){this.manager.ensureCellVisible(e.target)};e.prototype.settingsShowClickedHandler=function(){this.gridSettingsUI.show=true};e.prototype.settingsCloseClickedHandler=function(){this.gridSettingsUI.show=false};e.prototype.rowEnsureVisible=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){t=this.el.querySelector(a.TAG_NAME.toLowerCase()+'[rowid="'+e+'"]');if(t){this.manager.ensureRowVisible(t)}return[2]}))}))};e.prototype.cellEnsureVisible=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){t=this.el.querySelector(u.TAG_NAME.toLowerCase()+'[cellid="'+e+'"]');if(t){this.manager.ensureCellVisible(t)}return[2]}))}))};e.prototype.render=function(){var e=this;return n(i,null,n("header",{part:"header"},n("slot",{name:"header"})),n("section",{class:"main",style:this.gridStyle,part:"main",ref:function(t){return e.gridMainEl=t}},n("slot",null)),n("aside",null,this.renderSettings(),n("slot",{name:"column-display"}),this.renderRowActions()),n("footer",{part:"footer"},n("slot",{name:"footer"})))};e.prototype.renderSettings=function(){var e=this;return n("ch-grid-settings",{grid:this.el,ref:function(t){return e.gridSettingsUI=t},exportparts:"\r\n          mask:settings-mask,\r\n          window:settings-window,\r\n          header:settings-header,\r\n          caption:settings-caption,\r\n          close:settings-close,\r\n          main:settings-main,\r\n          footer:settings-footer\r\n        "},n("slot",{name:"settings"},n("ch-grid-settings-columns",{part:"settings-columns",columns:__spreadArrays(this.manager.getColumns()),exportparts:"\r\n              column:settings-columns-item,\r\n              column-label:settings-columns-label,\r\n              column-visible:settings-columns-visible,\r\n              column-visible-checked:settings-columns-visible-checked\r\n            "})))};e.prototype.renderRowActions=function(){var e=this;return n("section",{class:"row-actions",part:"row-actions",ref:function(t){return e.gridRowActionsEl=t}},n("slot",{name:"row-actions"}))};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{rowHighlighted:["rowHighlightedHandler"],rowsSelected:["rowsSelectedHandler"]}},enumerable:false,configurable:true});return e}());v.style=y;var b="@layer ch-grid {\n  ch-grid-action-refresh[disabled] {\n    pointer-events: none;\n  }\n}";var w=e("ch_grid_action_refresh",function(){function e(e){var n=this;t(this,e);this.refreshClicked=r(this,"refreshClicked",7);this.handleClick=function(e){e.stopPropagation();n.refreshClicked.emit()}}e.prototype.render=function(){return n(i,{role:"button",tabindex:"0",disabled:this.disabled,onClick:this.handleClick})};return e}());w.style=b;var C="@layer ch-grid {\n  ch-grid-action-settings[disabled] {\n    pointer-events: none;\n  }\n}";var S=e("ch_grid_action_settings",function(){function e(e){var n=this;t(this,e);this.settingsShowClicked=r(this,"settingsShowClicked",7);this.handleClick=function(e){e.stopPropagation();n.settingsShowClicked.emit()}}e.prototype.render=function(){return n(i,{role:"button",tabindex:"0",disabled:this.disabled,onClick:this.handleClick})};return e}());S.style=C;var E="";var R=e("ch_grid_actionbar",function(){function e(e){t(this,e)}Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});return e}());R.style=E;var A=":host{display:-ms-flexbox;display:flex;position:-webkit-sticky;position:sticky;top:0}:host{background-color:inherit;-webkit-margin-before:inherit;margin-block-start:inherit;-webkit-margin-after:inherit;margin-block-end:inherit;-webkit-border-before:inherit;border-block-start:inherit;-webkit-border-after:inherit;border-block-end:inherit;-webkit-padding-before:inherit;padding-block-start:inherit;-webkit-padding-after:inherit;padding-block-end:inherit;-webkit-transition:-webkit-transform var(--column-drag-transition-duration, 0.2s);transition:-webkit-transform var(--column-drag-transition-duration, 0.2s);transition:transform var(--column-drag-transition-duration, 0.2s);transition:transform var(--column-drag-transition-duration, 0.2s), -webkit-transform var(--column-drag-transition-duration, 0.2s)}:host{--ch-grid-column-z-index-head:var(--ch-grid-column-header-layer)}:host([show-settings]),:host([resizing]){--ch-grid-column-z-index-active:var(--ch-grid-column-active-layer)}:host([sort-direction=asc]) .bar .sort .sort-asc{visibility:visible}:host([sort-direction=desc]) .bar .sort .sort-desc{visibility:visible}.bar{list-style-type:none;margin:0;padding:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.bar .selector{overflow:hidden;-ms-flex-order:0;order:0}.bar .selector:not([hidden]){display:-ms-flexbox;display:flex}.bar .name{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-order:1;order:1}.bar .name .name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bar .sort{position:relative;-ms-flex-align:center;align-items:center;-ms-flex-order:2;order:2}.bar .sort:not([hidden]){display:-ms-flexbox;display:flex}.bar .sort .sort-asc{visibility:hidden;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.bar .sort .sort-desc{position:absolute;visibility:hidden;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.bar .settings{-ms-flex-order:3;order:3}.bar .resize{-ms-flex-item-align:stretch;align-self:stretch;margin-left:auto;-ms-flex-order:4;order:4}@-webkit-keyframes column-sort{0%{opacity:0}10%{opacity:1}90%{opacity:1}100%{opacity:0}}@keyframes column-sort{0%{opacity:0}10%{opacity:1}90%{opacity:1}100%{opacity:0}}";var x=e("ch_grid_column",function(){function e(e){var n=this;t(this,e);this.columnHiddenChanged=r(this,"columnHiddenChanged",7);this.columnSizeChanging=r(this,"columnSizeChanging",7);this.columnSizeChanged=r(this,"columnSizeChanged",7);this.columnOrderChanged=r(this,"columnOrderChanged",7);this.columnSortChanged=r(this,"columnSortChanged",7);this.columnFreezeChanged=r(this,"columnFreezeChanged",7);this.columnDragStarted=r(this,"columnDragStarted",7);this.columnDragging=r(this,"columnDragging",7);this.columnDragEnded=r(this,"columnDragEnded",7);this.columnSelectorClicked=r(this,"columnSelectorClicked",7);this.columnType="plain";this.columnNamePosition="text";this.hidden=false;this.hideable=true;this.resizable=true;this.sortable=true;this.settingable=true;this.showSettings=false;this.dragging=false;this.dragMouseMoveFn=this.dragMouseMoveHandler.bind(this);this.settingsClickHandler=function(e){e.stopPropagation();n.showSettings=true};this.selectorClickHandler=function(e){var t=e.target;n.columnSelectorClicked.emit({checked:t.checked});e.stopPropagation()}}e.prototype.componentDidLoad=function(){this.el.addEventListener("mousedown",this.mousedownHandler.bind(this))};e.prototype.sizeHandler=function(){this.columnSizeChanging.emit({columnId:this.columnId,size:this.size})};e.prototype.hiddenHandler=function(){this.columnHiddenChanged.emit({columnId:this.columnId,hidden:this.hidden})};e.prototype.orderHandler=function(){this.columnOrderChanged.emit({columnId:this.columnId,order:this.order})};e.prototype.freezeHandler=function(){this.columnFreezeChanged.emit({columnId:this.columnId,freeze:this.freeze})};e.prototype.sortDirectionHandler=function(){if(this.sortDirection){this.columnSortChanged.emit({columnId:this.columnId,sortDirection:this.sortDirection})}};e.prototype.clickHandler=function(){if(!this.dragging){if(this.sortable){this.sortDirection=this.sortDirection=="asc"?"desc":"asc"}}else{this.dragging=false}};e.prototype.columnResizeStartedHandler=function(){this.resizing=true};e.prototype.columnResizeFinishedHandler=function(){this.resizing=false;this.columnSizeChanged.emit({columnId:this.columnId,size:this.size})};e.prototype.mousedownHandler=function(e){e.preventDefault();e.stopPropagation();this.dragMouseDownHandler(e);document.addEventListener("mousemove",this.dragMouseMoveFn,{passive:true});document.addEventListener("mouseup",this.dragMouseUpHandler.bind(this),{once:true})};e.prototype.dragMouseDownHandler=function(e){this.dragMouseMoveStartPositionX=e.pageX;this.columnDragStarted.emit({columnId:this.columnId})};e.prototype.dragMouseMoveHandler=function(e){if(this.dragging||Math.abs(this.dragMouseMoveStartPositionX-e.pageX)>5){this.dragging=true;this.columnDragging.emit({columnId:this.columnId,positionX:e.pageX,direction:e.movementX>0?"right":"left"})}};e.prototype.dragMouseUpHandler=function(){document.removeEventListener("mousemove",this.dragMouseMoveFn);this.columnDragEnded.emit({columnId:this.columnId})};e.prototype.settingsMouseDownHandler=function(e){e.stopPropagation()};e.prototype.render=function(){return n(i,null,n("ul",{class:"bar",part:"bar"},this.renderSelector(),this.renderName(),this.renderSort(),this.renderSettings(),this.renderResize()),n("ch-grid-column-settings",{column:this.el,onMouseDown:this.settingsMouseDownHandler,show:this.showSettings,exportparts:"\r\n            mask:settings-mask,\r\n            window:settings-window,\r\n            header:settings-header,\r\n            caption:settings-caption,\r\n            close:settings-close,\r\n            main:settings-main,\r\n            footer:settings-footer\r\n          "},n("slot",{name:"settings"})))};e.prototype.renderSelector=function(){return n("li",{class:"selector",part:"bar-selector",hidden:!(this.columnType=="rich"&&this.richRowSelector)},n("label",{part:"selector-label"},n("input",{type:"checkbox",part:"selector",onClick:this.selectorClickHandler})))};e.prototype.renderName=function(){return n("li",{class:"name",part:"bar-name",title:this.columnNamePosition=="title"?this.columnName:null},this.columnIconUrl?n("img",{class:"name-icon",part:"bar-name-icon",src:this.columnIconUrl}):n("div",{class:"name-icon",part:"bar-name-icon"}),n("span",{class:"name-text",part:"bar-name-text",hidden:this.columnNamePosition!="text"},this.columnName))};e.prototype.renderSort=function(){return n("li",{class:"sort",part:"bar-sort",hidden:!this.sortable},n("div",{class:"sort-asc",part:"bar-sort-ascending"}),n("div",{class:"sort-desc",part:"bar-sort-descending"}))};e.prototype.renderSettings=function(){return n("li",{class:"settings",part:"bar-settings",hidden:!this.settingable},n("button",{class:"button",part:"bar-settings-button",onClick:this.settingsClickHandler}))};e.prototype.renderResize=function(){return n("li",{class:"resize",part:"bar-resize",hidden:!this.resizable},n("ch-grid-column-resize",{column:this.el,class:"resize-split",part:"bar-resize-split"}))};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{size:["sizeHandler"],hidden:["hiddenHandler"],order:["orderHandler"],freeze:["freezeHandler"],sortDirection:["sortDirectionHandler"]}},enumerable:false,configurable:true});return e}());x.style=A;var k='@layer ch-grid {\n  ch-grid-columnset {\n    display: contents;\n  }\n}\n@layer ch-grid {\n  ch-grid-row {\n    display: contents;\n  }\n\n  ch-grid-row[collapsed] > ch-grid-rowset {\n    display: none;\n  }\n\n  ch-grid-row:is([leaf="false"], :has(> ch-grid-rowset)) > ch-grid-cell::part(caret) {\n    visibility: visible;\n  }\n\n  ch-grid-row[dragging] {\n    display: -ms-flexbox;\n    display: flex;\n    position: fixed;\n    pointer-events: none;\n    -webkit-box-shadow: rgba(0, 0, 0, 0.7) 0px 5px 15px;\n    box-shadow: rgba(0, 0, 0, 0.7) 0px 5px 15px;\n    z-index: 1000;\n    -webkit-transition: top var(--row-drag-transition-duration, 0.1s);\n    transition: top var(--row-drag-transition-duration, 0.1s);\n  }\n}\n@layer ch-grid {\n  ch-grid-rowset {\n    display: contents;\n  }\n\n  ch-grid-rowset[collapsed] > :not(ch-grid-rowset-legend) {\n    display: none;\n  }\n}\n@layer ch-grid {\n  ch-grid-cell {\n    position: -webkit-sticky;\n    position: sticky;\n    grid-column: var(--grid-column);\n    -webkit-transition: -webkit-transform var(--column-drag-transition-duration, 0.2s);\n    transition: -webkit-transform var(--column-drag-transition-duration, 0.2s);\n    transition: transform var(--column-drag-transition-duration, 0.2s);\n    transition: transform var(--column-drag-transition-duration, 0.2s), -webkit-transform var(--column-drag-transition-duration, 0.2s);\n  }\n\n  ch-grid-cell,\nch-grid-row[selected] > ch-grid-cell,\nch-grid-row[highlighted] > ch-grid-cell {\n    background-color: inherit;\n    -webkit-margin-before: inherit;\n    margin-block-start: inherit;\n    -webkit-margin-after: inherit;\n    margin-block-end: inherit;\n    -webkit-border-before: inherit;\n    border-block-start: inherit;\n    -webkit-border-after: inherit;\n    border-block-end: inherit;\n    -webkit-padding-before: inherit;\n    padding-block-start: inherit;\n    -webkit-padding-after: inherit;\n    padding-block-end: inherit;\n  }\n\n  ch-grid-cell:before {\n    -webkit-margin-start: calc(var(--indent) * var(--level));\n    margin-inline-start: calc(var(--indent) * var(--level));\n  }\n\n  ch-grid-cell::part(indent) {\n    width: calc(var(--indent) * var(--level));\n  }\n\n  ch-grid-cell::part(caret) {\n    visibility: hidden;\n  }\n}';var M=e("ch_grid_columnset",function(){function e(e){t(this,e)}e.prototype.columnSortChangedHandler=function(e){var t=Array.from(this.el.querySelectorAll("ch-grid-column"));t.forEach((function(t){if(t.columnId!=e.detail.columnId){t.sortDirection=null}}))};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});return e}());M.style=k;var O=":host{display:-ms-flexbox;display:flex}";var H=e("ch_paginator",function(){function e(e){t(this,e);this.activePageChanged=r(this,"activePageChanged",7)}e.prototype.navigationClickedHandler=function(e){};e.prototype.pageClickedHandler=function(e){};return e}());H.style=O;var D="ch-paginator-navigate[disabled]{pointer-events:none}";var T=e("ch_paginator_navigate",function(){function e(e){var n=this;t(this,e);this.navigationClicked=r(this,"navigationClicked",7);this.handleClick=function(e){e.stopPropagation();n.navigationClicked.emit({navigationType:n.type})}}e.prototype.render=function(){return n(i,{role:"button",tabindex:"0",disabled:this.disabled,onClick:this.handleClick})};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});return e}());T.style=D;var z;(function(e){e[e["EDIT"]=1]="EDIT";e[e["RADIO"]=4]="RADIO";e[e["COMBO"]=5]="COMBO";e[e["CHECK"]=7]="CHECK"})(z||(z={}));var I;(function(e){e[e["NUMBER"]=0]="NUMBER";e[e["CHAR"]=1]="CHAR";e[e["DATE"]=2]="DATE";e[e["DATETIME"]=3]="DATETIME";e[e["VARCHAR"]=5]="VARCHAR";e[e["LONGVARCHAR"]=6]="LONGVARCHAR";e[e["BOOLEAN"]=7]="BOOLEAN"})(I||(I={}));var L="";var _=e("gx_grid_chameleon_column_filter",function(){function e(e){var n=this;t(this,e);this.columnSettingsChanged=r(this,"columnSettingsChanged",7);this.filterEnum=[];this.applyClickHandler=function(){n.equal=n.getControlValue(n.inputEqual);n.less=n.getControlValue(n.inputLess);n.greater=n.getControlValue(n.inputGreater);n.columnSettingsChanged.emit({column:n.column,equal:n.equal,less:n.less,greater:n.greater})};this.resetClickHandler=function(){n.equal="";n.less="";n.greater="";n.columnSettingsChanged.emit({column:n.column,equal:n.equal,less:n.less,greater:n.greater})}}e.prototype.componentWillLoad=function(){if(Array.isArray(this.column.FilterEnum)&&this.column.FilterEnum.length>0){this.filterEnum=this.column.FilterEnum}};e.prototype.getControlValue=function(e){var t;var r=(t=e===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:"";var n=this.column.gxControl.dataType;if(n==I.DATETIME&&this.column.FilterDateTimeAsDate==-1){n=I.DATE}switch(n){case I.DATE:return gx.date.ctod(r,"Y4MD").toString();case I.DATETIME:return gx.date.ctot(r,"Y4MD").toString();default:return r}};e.prototype.toControlValue=function(e){var t=this.column.gxControl.dataType;if(!e){return""}if(t==I.DATETIME&&this.column.FilterDateTimeAsDate==-1){t=I.DATE}switch(t){case I.DATE:return this.convertGxDateToISO(gx.date.ctod(e),false);case I.DATETIME:return this.convertGxDateToISO(gx.date.ctot(e),true);default:return e}};e.prototype.convertGxDateToISO=function(e,t){var r=function(e){return e.toString().padStart(2,"0")};var n=e.Value;if(gx.date.isNullDate(n)){return""}if(t){return n.getFullYear()+"-"+r(n.getMonth()+1)+"-"+r(n.getDate())+"T"+r(n.getHours())+":"+r(n.getMinutes())}else{return n.getFullYear()+"-"+r(n.getMonth()+1)+"-"+r(n.getDate())}};e.prototype.getFilterInputType=function(e){switch(e){case I.BOOLEAN:return"checkbox";case I.CHAR:case I.VARCHAR:case I.LONGVARCHAR:return"text";case I.DATE:return"date";case I.DATETIME:return"datetime-local";case I.NUMBER:return"number";default:return"text"}};e.prototype.render=function(){return n(i,null,n("fieldset",{part:"main"},n("caption",{part:"caption"},this.column.FilterCaption),this.column.FilterMode=="single"&&this.renderColumnFilterControl("inputEqual",this.column.gxControl.type,this.column.gxControl.dataType,this.column.gxControl.possibleValues,this.column.FilterLabelEqual,this.equal),this.column.FilterMode=="range"&&this.renderColumnFilterControl("inputGreater",this.column.gxControl.type,this.column.gxControl.dataType,this.column.gxControl.possibleValues,this.column.FilterLabelGreater,this.greater),this.column.FilterMode=="range"&&this.renderColumnFilterControl("inputLess",this.column.gxControl.type,this.column.gxControl.dataType,this.column.gxControl.possibleValues,this.column.FilterLabelLess,this.less)),n("section",{part:"footer"},n("button",{part:"button reset",onClick:this.resetClickHandler},this.buttonResetText),n("button",{part:"button apply",onClick:this.applyClickHandler},this.buttonApplyText)))};e.prototype.renderColumnFilterControl=function(e,t,r,i,o,s){var l=this;var a=e.replace("input","").toLowerCase();if(this.filterEnum.length>0){t=z.COMBO;i=this.filterEnum.map((function(e){return[e.Value,e.Description]}))}if(r==I.DATETIME&&this.column.FilterDateTimeAsDate==-1){r=I.DATE}switch(t){case z.EDIT:case z.CHECK:return n("label",{part:"label "+a},o,n("input",{type:this.getFilterInputType(r),value:this.toControlValue(s),ref:function(t){return l[e]=t},part:"field "+a}));case z.COMBO:return n("label",{part:"label "+a},o,n("select",{ref:function(t){return l[e]=t},part:"field "+a},i.map((function(e){var t=e[0],r=e[1];return n("option",{value:t,selected:t==s},r)}))))}};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});return e}());_.style=L}}}));