import{r as t,c as n,g as e}from"./p-7af91c05.js";import{r as s}from"./p-23a9d308.js";const o=new Map;const a=/(url\((?!\s*["']?(?:\/|https?:|data:))\s*["']?)([^'")]+)/g;const i=t=>t.styleSheet?!t.styleSheet.disabled:false;function c(t){const n=f(t);if(i(n)){d(t,n);m(t);return}u(t,n).then((t=>{if(t){w(n);l(n);y(n)}}))}function r(t){const n=o.get(t.name);const e=n.elements.indexOf(t);if(n&&e>=0){s(n.elements,e)}}function f(t){const n=o.get(t.name)??o.set(t.name,{elements:[]}).get(t.name);n.elements.push(t);return n}async function u(t,n){let e=false;if(typeof t.href==="string"&&t.href.trim()!==""&&!n.elements.some((n=>n!==t&&n.href===t.href))){e=await S(t.href,h(t,n),t.baseUrl)}else if(!t.innerText.match(/^\s*$/)){e=await p(t.innerText,h(t,n),t.baseUrl)}return e}function h(t,n){n.styleSheet||=new CSSStyleSheet({disabled:true,baseURL:t.baseUrl});return n.styleSheet}function d(t,n){const e=t.getRootNode();if(e instanceof Document||e instanceof ShadowRoot){if(!e.adoptedStyleSheets.includes(n.styleSheet)){e.adoptedStyleSheets.push(n.styleSheet)}}}function l(t){t.elements.forEach((n=>d(n,t)))}function w(t){t.styleSheet.disabled=false}function m(t){t.loaded=true}function y(t){t.elements.forEach((t=>m(t)))}function p(t,n,e){return new Promise((async s=>{try{s(g(n,k(e,t)))}catch(t){s(false)}}))}async function S(t,n,e){return new Promise((async s=>{try{s(g(n,k(e,await b(t))))}catch(t){s(false)}}))}async function b(t){try{const n=await fetch(t);if(n.ok){return await n.text()}throw new Error("Network response was not ok.")}catch(t){throw t}}function g(t,n){return new Promise((async e=>{try{const s=await new CSSStyleSheet({disabled:true}).replace(n);for(const n of s.cssRules){t.insertRule(n.cssText)}e(true)}catch(t){e(false)}}))}function k(t,n){if(t){return n.replace(a,`$1${t}$2`)}return n}const C=class{constructor(e){t(this,e);this.themeLoaded=n(this,"themeLoaded",5);this.name=undefined;this.href=undefined;this.baseUrl=undefined;this.loaded=false}get el(){return e(this)}loadedHandler(){if(this.loaded){this.themeLoaded.emit({name:this.name??""})}}themeLoaded;connectedCallback(){this.el.hidden=true}componentWillLoad(){c(this.el)}disconnectedCallback(){r(this.el)}static get watchers(){return{loaded:["loadedHandler"]}}};export{C as ch_theme};
//# sourceMappingURL=p-81453223.entry.js.map