import{r as t,g as e,h as i,H as s}from"./p-7af91c05.js";import{o as n,h as l}from"./p-0978aac4.js";import{L as a,H as o,g as r}from"./p-d031f0c4.js";function h(t,e,i,s,a=false){if(!t.lineClamp){return}let o;let r;let h;let c=-1;let d=-1;let f=-1;const p=l((()=>{requestAnimationFrame((()=>{const e=r.clientHeight;if(e===0){return}const i=o.scrollHeight;const s=h.clientHeight;if(c===i&&d===e&&f===s){return}c=i;d=e;f=s;t.contentLines=Math.max(Math.trunc(i/f),1);t.maxLines=Math.max(Math.trunc(e/f),1)}))}),10);let u=null;n(t,"componentDidLoad",{before:()=>{const n=t.element;if(a){o=n.shadowRoot.querySelector(e);r=n.shadowRoot.querySelector(i);h=n.shadowRoot.querySelector(s)}else{o=n.querySelector(e);r=n.querySelector(i);h=n.querySelector(s)}if(r===null||h===null){return}u=new ResizeObserver((()=>{p()}));u.observe(o);u.observe(r);u.observe(h)}});n(t,"disconnectedCallback",{before:()=>{if(u){u.disconnect();u=undefined}}});return{applyLineClamp:p}}const c="*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}.height-measuring{display:-ms-flexbox;display:flex;width:0;height:100%;visibility:hidden}.line-clamp{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--max-lines);overflow:hidden}.line-measuring{visibility:hidden;position:absolute}:host{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;justify-items:flex-start;-ms-flex-item-align:stretch;align-self:stretch;position:relative;width:100%;text-align:start}.content{background-color:unset;border:none;color:inherit;font:inherit;margin:0;padding:0;outline:0;position:absolute;inset-inline:0;padding-inline:inherit}";const d=c;const f=class{constructor(e){t(this,e);this.contentLines=0;this.maxLines=0;this.format="Text";this.lineClamp=false;this.tooltip=undefined;this.tooltipShowMode="always";h(this,"."+r,"."+o,"."+a,true)}get element(){return e(this)}getTooltip(){const t=!this.tooltip||this.tooltipShowMode==="line-clamp"&&this.lineClamp&&this.contentLines<=this.maxLines;return t?null:this.tooltip}render(){const t=this.format==="HTML"||!this.lineClamp;return i(s,{key:"e5e85fc1c0615306c19d035dee2024aac8713ada",role:this.format==="Text"&&!this.lineClamp?"paragraph":null,title:this.getTooltip()},t?i("slot",null):[i("div",{class:a},"A"),i("div",{class:o}),i("p",{class:`content ${r}`,part:"content",style:{"--max-lines":this.maxLines.toString()}},i("slot",null))])}};f.style=d;export{f as ch_textblock};
//# sourceMappingURL=p-69feaf52.entry.js.map