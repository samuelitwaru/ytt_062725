{"version":3,"names":["ClickOutsideOptionsDefaults","triggerEvents","exclude","ClickOutside","opt","proto","methodName","connectedCallback","disconnectedCallback","host","getElement","this","method","registerClickOutside","call","removeClickOutside","component","element","callback","excludedNodes","getExcludedNodes","getTriggerEvents","forEach","triggerEvent","window","addEventListener","e","initClickOutside","removeEventListener","event","target","contains","isExcluded","split","map","trim","Array","from","document","querySelectorAll","err","console","warn","excudedNodes","excludedNode"],"sources":["node_modules/stencil-click-outside/dist/esm/index.js"],"sourcesContent":["import { Build as BUILD, getElement } from '@stencil/core';\nconst ClickOutsideOptionsDefaults = {\n    triggerEvents: \"click\",\n    exclude: \"\"\n};\n/**\n * Call this function as soon as the click outside of annotated method's host is done.\n * @example\n```\n@ClickOutside()\ncallback() {\n  // this will run when click outside of element (host component) is done.\n}\n```\n */\nexport function ClickOutside(opt = ClickOutsideOptionsDefaults) {\n    return (proto, methodName) => {\n        // this is to resolve the 'compiler optimization issue':\n        // lifecycle events not being called when not explicitly declared in at least one of components from bundle\n        BUILD.connectedCallback = true;\n        BUILD.disconnectedCallback = true;\n        const { connectedCallback, disconnectedCallback } = proto;\n        proto.connectedCallback = function () {\n            const host = getElement(this);\n            const method = this[methodName];\n            registerClickOutside(this, host, method, opt);\n            return connectedCallback && connectedCallback.call(this);\n        };\n        proto.disconnectedCallback = function () {\n            const host = getElement(this);\n            const method = this[methodName];\n            removeClickOutside(this, host, method, opt);\n            return disconnectedCallback && disconnectedCallback.call(this);\n        };\n    };\n}\n/**\n * Register callback function for HTMLElement to be executed when user clicks outside of element.\n * @example\n```\n<span\n    ref={spanEl => registerClickOutside(this, spanEl, () => this.test())}>\n      Hello, World!\n</span>;\n```\n */\nexport function registerClickOutside(component, element, callback, opt = ClickOutsideOptionsDefaults) {\n    const excludedNodes = getExcludedNodes(opt);\n    getTriggerEvents(opt).forEach(triggerEvent => {\n        window.addEventListener(triggerEvent, (e) => {\n            initClickOutside(e, component, element, callback, excludedNodes);\n        }, false);\n    });\n}\n/**\n * Remove click outside callback function for HTMLElement.\n */\nexport function removeClickOutside(component, element, callback, opt = ClickOutsideOptionsDefaults) {\n    getTriggerEvents(opt).forEach(triggerEvent => {\n        window.removeEventListener(triggerEvent, (e) => {\n            initClickOutside(e, component, element, callback);\n        }, false);\n    });\n}\nfunction initClickOutside(event, component, element, callback, excludedNodes) {\n    const target = event.target;\n    if (!element.contains(target) && !isExcluded(target, excludedNodes)) {\n        callback.call(component);\n    }\n}\nfunction getTriggerEvents(opt) {\n    if (opt.triggerEvents) {\n        return opt.triggerEvents.split(\",\").map(e => e.trim());\n    }\n    return [\"click\"];\n}\nfunction getExcludedNodes(opt) {\n    if (opt.exclude) {\n        try {\n            return Array.from(document.querySelectorAll(opt.exclude));\n        }\n        catch (err) {\n            console.warn(`@ClickOutside: Exclude: '${opt.exclude}' will not be evaluated. Check your exclude selector syntax.`, err);\n        }\n    }\n    return;\n}\nfunction isExcluded(target, excudedNodes) {\n    if (target && excudedNodes) {\n        for (let excludedNode of excudedNodes) {\n            if (excludedNode.contains(target)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n"],"mappings":"oCACA,MAAMA,EAA8B,CAChCC,cAAe,QACfC,QAAS,IAYN,SAASC,EAAaC,EAAMJ,GAC/B,MAAO,CAACK,EAAOC,KAKX,MAAMC,kBAAEA,EAAiBC,qBAAEA,GAAyBH,EACpDA,EAAME,kBAAoB,WACtB,MAAME,EAAOC,EAAWC,MACxB,MAAMC,EAASD,KAAKL,GACpBO,EAAqBF,KAAMF,EAAMG,EAAQR,GACzC,OAAOG,GAAqBA,EAAkBO,KAAKH,KAC/D,EACQN,EAAMG,qBAAuB,WACzB,MAAMC,EAAOC,EAAWC,MACxB,MAAMC,EAASD,KAAKL,GACpBS,EAAmBJ,KAAMF,EAAMG,EAAQR,GACvC,OAAOI,GAAwBA,EAAqBM,KAAKH,KACrE,CAAS,CAET,CAWO,SAASE,EAAqBG,EAAWC,EAASC,EAAUd,EAAMJ,GACrE,MAAMmB,EAAgBC,EAAiBhB,GACvCiB,EAAiBjB,GAAKkB,SAAQC,IAC1BC,OAAOC,iBAAiBF,GAAeG,IACnCC,EAAiBD,EAAGV,EAAWC,EAASC,EAAUC,EAAc,GACjE,MAAM,GAEjB,CAIO,SAASJ,EAAmBC,EAAWC,EAASC,EAAUd,EAAMJ,GACnEqB,EAAiBjB,GAAKkB,SAAQC,IAC1BC,OAAOI,oBAAoBL,GAAeG,IACtCC,EAAiBD,EAAGV,EAAWC,EAASC,EAAS,GAClD,MAAM,GAEjB,CACA,SAASS,EAAiBE,EAAOb,EAAWC,EAASC,EAAUC,GAC3D,MAAMW,EAASD,EAAMC,OACrB,IAAKb,EAAQc,SAASD,KAAYE,EAAWF,EAAQX,GAAgB,CACjED,EAASJ,KAAKE,EACtB,CACA,CACA,SAASK,EAAiBjB,GACtB,GAAIA,EAAIH,cAAe,CACnB,OAAOG,EAAIH,cAAcgC,MAAM,KAAKC,KAAIR,GAAKA,EAAES,QACvD,CACI,MAAO,CAAC,QACZ,CACA,SAASf,EAAiBhB,GACtB,GAAIA,EAAIF,QAAS,CACb,IACI,OAAOkC,MAAMC,KAAKC,SAASC,iBAAiBnC,EAAIF,SAC5D,CACQ,MAAOsC,GACHC,QAAQC,KAAK,4BAA4BtC,EAAIF,sEAAuEsC,EAChI,CACA,CACI,MACJ,CACA,SAASR,EAAWF,EAAQa,GACxB,GAAIb,GAAUa,EAAc,CACxB,IAAK,IAAIC,KAAgBD,EAAc,CACnC,GAAIC,EAAab,SAASD,GAAS,CAC/B,OAAO,IACvB,CACA,CACA,CACI,OAAO,KACX,Q"}