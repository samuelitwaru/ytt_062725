var __extends=this&&this.__extends||function(){var t=function(i,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))t[n]=i[n]};return t(i,n)};return function(i,n){if(typeof n!=="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e))t[e]=i[e]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(t,i,n,r){function e(t){return t instanceof n?t:new n((function(i){i(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r["throw"](t))}catch(t){o(t)}}function a(t){t.done?n(t.value):e(t.value).then(s,u)}a((r=r.apply(t,i||[])).next())}))};var __generator=this&&this.__generator||function(t,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,e,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(i){return a([t,i])}}function a(u){if(r)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(n=0)),n)try{if(r=1,e&&(o=u[0]&2?e["return"]:u[0]?e["throw"]||((o=e["return"])&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;if(e=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;e=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1];o=u;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(u);break}if(o[2])n.ops.pop();n.trys.pop();continue}u=i.call(t,n)}catch(t){u=[6,t];e=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var __classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(t,i,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof i==="function"?t!==i||!r:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:i.get(t)};var __classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(t,i,n,r,e){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!e)throw new TypeError("Private accessor was defined without a setter");if(typeof i==="function"?t!==i||!e:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?e.call(t,n):e?e.value=n:i.set(t,n),n};var __asyncValues=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],n;return i?i.call(t):(t=typeof __values==="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(n){return new Promise((function(r,o){n=t[i](n),e(r,o,n.done,n.value)}))}}function e(t,i,n,r){Promise.resolve(r).then((function(i){t({value:i,done:n})}),i)}};var __rest=this&&this.__rest||function(t,i){var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&i.indexOf(r)<0)n[r]=t[r];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var e=0,r=Object.getOwnPropertySymbols(t);e<r.length;e++){if(i.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e]))n[r[e]]=t[r[e]]}return n};var __spreadArray=this&&this.__spreadArray||function(t,i,n){if(n||arguments.length===2)for(var r=0,e=i.length,o;r<e;r++){if(o||!(r in i)){if(!o)o=Array.prototype.slice.call(i,0,r);o[r]=i[r]}}return t.concat(o||Array.prototype.slice.call(i))};var __values=this&&this.__values||function(t){var i=typeof Symbol==="function"&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&r>=t.length)t=void 0;return{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};System.register(["./p-62fc4e49.system.js"],(function(t,i){"use strict";var n,r,e;return{setters:[function(t){n=t.r;r=t.h;e=t.H}],execute:function(){var o,s,u,a,c,h;var f=this;var l,d,v,A,g,w,p,m,b,y,k,x,E;var B=Object.defineProperty;var C=function(t,i,n){return i in t?B(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n};var D=function(t,i,n){return C(t,typeof i!="symbol"?i+"":i,n),n};function M(t,i){if(i===void 0){i=0}return t[t.length-(1+i)]}function _(t,i,n){if(n===void 0){n=function(t,i){return t===i}}if(t===i)return!0;if(!t||!i||t.length!==i.length)return!1;for(var r=0,e=t.length;r<e;r++)if(!n(t[r],i[r]))return!1;return!0}function F(t,i,n){return function(t,i){var n=0,r=t-1;for(;n<=r;){var e=(n+r)/2|0,o=i(e);if(o<0)n=e+1;else{if(!(o>0))return e;r=e-1}}return-(n+1)}(t.length,(function(r){return n(t[r],i)}))}function S(t,i,n){if((t|=0)>=i.length)throw new TypeError("invalid index");var r=i[Math.floor(i.length*Math.random())],e=[],o=[],s=[];for(var u=0,a=i;u<a.length;u++){var c=a[u];var h=n(c,r);h<0?e.push(c):h>0?o.push(c):s.push(c)}return t<e.length?S(t,e,n):t<e.length+s.length?s[0]:S(t-(e.length+s.length),o,n)}function I(t,i){var n=[];var r;for(var e=0,o=t.slice(0).sort(i);e<o.length;e++){var s=o[e];r&&i(r[0],s)===0?r.push(s):(r=[s],n.push(r))}return n}function Q(t,i){var n,r,e,o,s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:e=0,o=t;h.label=1;case 1:if(!(e<o.length))return[3,7];s=o[e];if(!(r!==void 0&&i(r,s)))return[3,2];u=n.push(s);return[3,5];case 2:a=n;if(!a)return[3,4];return[4,n];case 3:a=h.sent();h.label=4;case 4:u=(a,n=[s]);h.label=5;case 5:u,r=s;h.label=6;case 6:e++;return[3,1];case 7:c=n;if(!c)return[3,9];return[4,n];case 8:c=h.sent();h.label=9;case 9:c;return[2]}}))}function O(t,i){for(var n=0;n<=t.length;n++)i(n===0?void 0:t[n-1],n===t.length?void 0:t[n])}function N(t){return t.filter((function(t){return!!t}))}function R(t){var i=0;for(var n=0;n<t.length;n++)t[n]&&(t[i]=t[n],i+=1);t.length=i}function T(t){return!Array.isArray(t)||t.length===0}function L(t){return Array.isArray(t)&&t.length>0}function j(t,i){if(i===void 0){i=function(t){return t}}var n=new Set;return t.filter((function(t){var r=i(t);return!n.has(r)&&(n.add(r),!0)}))}function z(t,i){return t.length>0?t[0]:i}function U(t,i){var n=typeof i=="number"?t:0;typeof i=="number"?n=t:(n=0,i=t);var r=[];if(n<=i)for(var e=n;e<i;e++)r.push(e);else for(var e=n;e>i;e--)r.push(e);return r}function H(t,i,n){var r=t.slice(0,i),e=t.slice(i);return r.concat(n,e)}function Y(t,i){var n=t.indexOf(i);n>-1&&(t.splice(n,1),t.unshift(i))}function J(t,i){var n=t.indexOf(i);n>-1&&(t.splice(n,1),t.push(i))}function P(t,i){for(var n=0,r=i;n<r.length;n++){var e=r[n];t.push(e)}}function W(t){return Array.isArray(t)?t:[t]}function G(t,i,n,r){var e=V(t,i);var o=t.splice(e,n);return o===void 0&&(o=[]),function(t,i,n){var r=V(t,i),e=t.length,o=n.length;t.length=e+o;for(var s=e-1;s>=r;s--)t[s+o]=t[s];for(var s=0;s<o;s++)t[s+r]=n[s]}(t,e,r),o}function V(t,i){return i<0?Math.max(i+t.length,0):Math.min(i,t.length)}var K;function X(t,i){return function(n,r){return i(t(n),t(r))}}(function(t){t.isLessThan=function(t){return t<0},t.isLessThanOrEqual=function(t){return t<=0},t.isGreaterThan=function(t){return t>0},t.isNeitherLessOrGreaterThan=function(t){return t===0},t.greaterThan=1,t.lessThan=-1,t.neitherLessOrGreaterThan=0})(K||(K={}));var q=function(t,i){return t-i},Z=function(t,i){return q(t?1:0,i?1:0)};function $(t){return function(i,n){return-t(i,n)}}var tt=function(){function t(t){this.items=t,this.firstIdx=0,this.lastIdx=this.items.length-1}Object.defineProperty(t.prototype,"length",{get:function(){return this.lastIdx-this.firstIdx+1},enumerable:false,configurable:true});t.prototype.takeWhile=function(t){var i=this.firstIdx;for(;i<this.items.length&&t(this.items[i]);)i++;var n=i===this.firstIdx?null:this.items.slice(this.firstIdx,i);return this.firstIdx=i,n};t.prototype.takeFromEndWhile=function(t){var i=this.lastIdx;for(;i>=0&&t(this.items[i]);)i--;var n=i===this.lastIdx?null:this.items.slice(i+1,this.lastIdx+1);return this.lastIdx=i,n};t.prototype.peek=function(){if(this.length!==0)return this.items[this.firstIdx]};t.prototype.dequeue=function(){var t=this.items[this.firstIdx];return this.firstIdx++,t};t.prototype.takeCount=function(t){var i=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,i};return t}();var it=function(){function t(t){this.iterate=t}t.prototype.toArray=function(){var t=[];return this.iterate((function(i){return t.push(i),!0})),t};t.prototype.filter=function(i){var n=this;return new t((function(t){return n.iterate((function(n){return!i(n)||t(n)}))}))};t.prototype.map=function(i){var n=this;return new t((function(t){return n.iterate((function(n){return t(i(n))}))}))};t.prototype.findLast=function(t){var i;return this.iterate((function(n){return t(n)&&(i=n),!0})),i};t.prototype.findLastMaxBy=function(t){var i,n=!0;return this.iterate((function(r){return(n||K.isGreaterThan(t(r,i)))&&(n=!1,i=r),!0})),i};return t}();it.empty=new it((function(t){}));var nt=function(){function t(t){this._indexMap=t}t.createSortPermutation=function(i,n){var r=Array.from(i.keys()).sort((function(t,r){return n(i[t],i[r])}));return new t(r)};t.prototype.apply=function(t){var i=this;return t.map((function(n,r){return t[i._indexMap[r]]}))};t.prototype.inverse=function(){var i=this._indexMap.slice();for(var n=0;n<this._indexMap.length;n++)i[this._indexMap[n]]=n;return new t(i)};return t}();function rt(t){return typeof t=="string"}function et(t){return!(typeof t!="object"||t===null||Array.isArray(t)||t instanceof RegExp||t instanceof Date)}function ot(t){var i=Object.getPrototypeOf(Uint8Array);return typeof t=="object"&&t instanceof i}function st(t){return typeof t=="number"&&!isNaN(t)}function ut(t){return!!t&&typeof t[Symbol.iterator]=="function"}function at(t){return t===!0||t===!1}function ct(t){return t===void 0}function ht(t){return!ft(t)}function ft(t){return ct(t)||t===null}function lt(t,i){if(!t)throw new Error(i?"Unexpected type, expected '".concat(i,"'"):"Unexpected type")}function dt(t){if(ft(t))throw new Error("Assertion Failed: argument is undefined or null");return t}function vt(t){return typeof t=="function"}function At(t,i){if(rt(i)){if(typeof t!==i)throw new Error("argument does not match constraint: typeof ".concat(i))}else if(vt(i)){try{if(t instanceof i)return}catch(t){}if(!ft(t)&&t.constructor===i||i.length===1&&i.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function gt(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;var i=Array.isArray(t)?[]:{};return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];i[n]=r&&typeof r=="object"?gt(r):r})),i}var wt=Object.prototype.hasOwnProperty;function pt(t,i){return mt(t,i,new Set)}function mt(t,i,n){if(ft(t))return t;var r=i(t);if(r!==void 0)return r;if(Array.isArray(t)){var e=[];for(var o=0,s=t;o<s.length;o++){var u=s[o];e.push(mt(u,i,n))}return e}if(et(t)){if(n.has(t))throw new Error("Cannot clone recursive data-structure");n.add(t);var e={};for(var u in t)wt.call(t,u)&&(e[u]=mt(t[u],i,n));return n.delete(t),e}return t}function bt(t,i,n){if(n===void 0){n=!0}return et(t)?(et(i)&&Object.keys(i).forEach((function(r){r in t?n&&(et(t[r])&&et(i[r])?bt(t[r],i[r],n):t[r]=i[r]):t[r]=i[r]})),t):i}function yt(t,i){if(t===i)return!0;if(t==null||i==null||typeof t!=typeof i||typeof t!="object"||Array.isArray(t)!==Array.isArray(i))return!1;var n,r;if(Array.isArray(t)){if(t.length!==i.length)return!1;for(n=0;n<t.length;n++)if(!yt(t[n],i[n]))return!1}else{var e=[];for(r in t)e.push(r);e.sort();var o=[];for(r in i)o.push(r);if(o.sort(),!yt(e,o))return!1;for(n=0;n<e.length;n++)if(!yt(t[e[n]],i[e[n]]))return!1}return!0}function kt(t){var i=[];for(var n=0,r=function(t){var i=[];for(;Object.prototype!==t;)i=i.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return i}(t);n<r.length;n++){var e=r[n];typeof t[e]=="function"&&i.push(e)}return i}var xt=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Et(t,i){var n;return n=i.length===0?t:t.replace(/\{(\d+)\}/g,(function(t,n){var r=n[0],e=i[r];var o=t;return typeof e=="string"?o=e:typeof e!="number"&&typeof e!="boolean"&&e!=null||(o=String(e)),o})),xt&&(n="［"+n.replace(/[aouei]/g,"$&$&")+"］"),n}function Bt(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}return Et(i,n)}function Ct(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var e=Et(i,n);return{value:e,original:e}}var Dt,Mt;var _t="en";var Ft,St,It=!1,Qt=!1,Ot=!1,Nt=!1,Rt=!1,Tt=!1,Lt=!1,jt=_t;var zt=globalThis;var Ut;zt.vscode!==void 0&&zt.vscode.process!==void 0?Ut=zt.vscode.process:typeof process<"u"&&typeof((Dt=process==null?void 0:process.versions)===null||Dt===void 0?void 0:Dt.node)=="string"&&(Ut=process);var Ht=typeof((Mt=Ut==null?void 0:Ut.versions)===null||Mt===void 0?void 0:Mt.electron)=="string"&&(Ut==null?void 0:Ut.type)==="renderer";if(typeof Ut=="object"){It=Ut.platform==="win32",Qt=Ut.platform==="darwin",Ot=Ut.platform==="linux",Ft=_t,jt=_t;var Yt=Ut.env.VSCODE_NLS_CONFIG;if(Yt)try{var Jt=JSON.parse(Yt),Pt=Jt.availableLanguages["*"];Ft=Jt.locale,jt=Pt||_t}catch(t){}Nt=!0}else typeof navigator!="object"||Ht?console.error("Unable to resolve platform."):(St=navigator.userAgent,It=St.indexOf("Windows")>=0,Qt=St.indexOf("Macintosh")>=0,Tt=(St.indexOf("Macintosh")>=0||St.indexOf("iPad")>=0||St.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Ot=St.indexOf("Linux")>=0,Lt=(St==null?void 0:St.indexOf("Mobi"))>=0,Rt=!0,Bt(0,"_"),Ft=_t,jt=Ft,navigator.language);var Wt=It,Gt=Qt,Vt=Ot,Kt=Nt,Xt=Rt,qt=Rt&&typeof zt.importScripts=="function"?zt.origin:void 0,Zt=Tt,$t=Lt,ti=St,ii=jt,ni=typeof zt.postMessage=="function"&&!zt.importScripts,ri=function(){if(ni){var t=[];zt.addEventListener("message",(function(i){if(i.data&&i.data.vscodeScheduleAsyncWork)for(var n=0,r=t.length;n<r;n++){var e=t[n];if(e.id===i.data.vscodeScheduleAsyncWork)return t.splice(n,1),void e.callback()}}));var i=0;return function(n){var r=++i;t.push({id:r,callback:n}),zt.postMessage({vscodeScheduleAsyncWork:r},"*")}}return function(t){return setTimeout(t)}}(),ei=Qt||Tt?2:It?1:3;var oi=!0,si=!1;function ui(){if(!si){si=!0;var t=new Uint8Array(2);t[0]=1,t[1]=2,oi=new Uint16Array(t.buffer)[0]===513}return oi}var ai=!!(ti&&ti.indexOf("Chrome")>=0),ci=!!(ti&&ti.indexOf("Firefox")>=0),hi=!!(!ai&&ti&&ti.indexOf("Safari")>=0),fi=!!(ti&&ti.indexOf("Edg/")>=0),li=!!(ti&&ti.indexOf("Android")>=0),di={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var vi;(function(t){function i(t){return t&&typeof t=="object"&&typeof t[Symbol.iterator]=="function"}t.is=i;var n=Object.freeze([]);function r(t){return __generator(this,(function(i){switch(i.label){case 0:return[4,t];case 1:i.sent();return[2]}}))}t.empty=function(){return n},t.single=r,t.wrap=function(t){return i(t)?t:r(t)},t.from=function(t){return t||n},t.reverse=function(t){var i;return __generator(this,(function(n){switch(n.label){case 0:i=t.length-1;n.label=1;case 1:if(!(i>=0))return[3,4];return[4,t[i]];case 2:n.sent();n.label=3;case 3:i--;return[3,1];case 4:return[2]}}))},t.isEmpty=function(t){return!t||t[Symbol.iterator]().next().done===!0},t.first=function(t){return t[Symbol.iterator]().next().value},t.some=function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];if(i(e))return!0}return!1},t.find=function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];if(i(e))return e}},t.filter=function(t,i){var n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:n=0,r=t;s.label=1;case 1:if(!(n<r.length))return[3,5];e=r[n];o=i(e);if(!o)return[3,3];return[4,e];case 2:o=s.sent();s.label=3;case 3:o;s.label=4;case 4:n++;return[3,1];case 5:return[2]}}))},t.map=function(t,i){var n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:n=0;r=0,e=t;s.label=1;case 1:if(!(r<e.length))return[3,4];o=e[r];return[4,i(o,n++)];case 2:s.sent();s.label=3;case 3:r++;return[3,1];case 4:return[2]}}))},t.concat=function(){var t,i,n,r;var e=[];for(t=0;t<arguments.length;t++){e[t]=arguments[t]}return __generator(this,(function(t){switch(t.label){case 0:i=0,n=e;t.label=1;case 1:if(!(i<n.length))return[3,4];r=n[i];return[5,__values(r)];case 2:t.sent();t.label=3;case 3:i++;return[3,1];case 4:return[2]}}))},t.reduce=function(t,i,n){var r=n;for(var e=0,o=t;e<o.length;e++){var s=o[e];r=i(r,s)}return r},t.slice=function(t,i,n){if(n===void 0){n=t.length}return __generator(this,(function(r){switch(r.label){case 0:i<0&&(i+=t.length),n<0?n+=t.length:n>t.length&&(n=t.length);r.label=1;case 1:if(!(i<n))return[3,4];return[4,t[i]];case 2:r.sent();r.label=3;case 3:i++;return[3,1];case 4:return[2]}}))},t.consume=function(i,n){var r;if(n===void 0){n=Number.POSITIVE_INFINITY}var e=[];if(n===0)return[e,i];var o=i[Symbol.iterator]();for(var s=0;s<n;s++){var u=o.next();if(u.done)return[e,t.empty()];e.push(u.value)}return[e,(r={},r[Symbol.iterator]=function(){return o},r)]},t.asyncToArray=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r;var e,o,s;var u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:i=[];f.label=1;case 1:f.trys.push([1,6,7,12]);e=true,o=__asyncValues(t);f.label=2;case 2:return[4,o.next()];case 3:if(!(s=f.sent(),u=s.done,!u))return[3,5];h=s.value;e=false;n=h;i.push(n);f.label=4;case 4:e=true;return[3,2];case 5:return[3,12];case 6:r=f.sent();a={error:r};return[3,12];case 7:f.trys.push([7,,10,11]);if(!(!e&&!u&&(c=o.return)))return[3,9];return[4,c.call(o)];case 8:f.sent();f.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:return[2,Promise.resolve(i)]}}))}))}})(vi||(vi={}));var Ai=function(){function t(i){this.element=i,this.next=t.Undefined,this.prev=t.Undefined}return t}();Ai.Undefined=new Ai(void 0);var gi=function(){function t(){this._first=Ai.Undefined,this._last=Ai.Undefined,this._size=0}Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});t.prototype.isEmpty=function(){return this._first===Ai.Undefined};t.prototype.clear=function(){var t=this._first;for(;t!==Ai.Undefined;){var i=t.next;t.prev=Ai.Undefined,t.next=Ai.Undefined,t=i}this._first=Ai.Undefined,this._last=Ai.Undefined,this._size=0};t.prototype.unshift=function(t){return this._insert(t,!1)};t.prototype.push=function(t){return this._insert(t,!0)};t.prototype._insert=function(t,i){var n=this;var r=new Ai(t);if(this._first===Ai.Undefined)this._first=r,this._last=r;else if(i){var e=this._last;this._last=r,r.prev=e,e.next=r}else{var e=this._first;this._first=r,r.next=e,e.prev=r}this._size+=1;var o=!1;return function(){o||(o=!0,n._remove(r))}};t.prototype.shift=function(){if(this._first!==Ai.Undefined){var t=this._first.element;return this._remove(this._first),t}};t.prototype.pop=function(){if(this._last!==Ai.Undefined){var t=this._last.element;return this._remove(this._last),t}};t.prototype._remove=function(t){if(t.prev!==Ai.Undefined&&t.next!==Ai.Undefined){var i=t.prev;i.next=t.next,t.next.prev=i}else t.prev===Ai.Undefined&&t.next===Ai.Undefined?(this._first=Ai.Undefined,this._last=Ai.Undefined):t.next===Ai.Undefined?(this._last=this._last.prev,this._last.next=Ai.Undefined):t.prev===Ai.Undefined&&(this._first=this._first.next,this._first.prev=Ai.Undefined);this._size-=1};t.prototype[Symbol.iterator]=function(){var t;return __generator(this,(function(i){switch(i.label){case 0:t=this._first;i.label=1;case 1:if(!(t!==Ai.Undefined))return[3,4];return[4,t.element];case 2:i.sent(),t=t.next;i.label=3;case 3:return[3,1];case 4:return[2]}}))};return t}();var wi="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",pi=function(t){if(t===void 0){t=""}var i="(-?\\d*\\.\\d\\w*)|([^";for(var n=0,r=wi;n<r.length;n++){var e=r[n];t.indexOf(e)>=0||(i+="\\"+e)}return i+="\\s]+)",new RegExp(i,"g")}();function mi(t){var i=pi;if(t&&t instanceof RegExp)if(t.global)i=t;else{var n="g";t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),i=new RegExp(t.source,n)}return i.lastIndex=0,i}var bi=new gi;function yi(t,i,n,r,e){if(i=mi(i),e||(e=vi.first(bi)),n.length>e.maxLen){var o=t-e.maxLen/2;return o<0?o=0:r+=o,yi(t,i,n=n.substring(o,t+e.maxLen/2),r,e)}var s=Date.now(),u=t-1-r;var a=-1,c=null;for(var o=1;!(Date.now()-s>=e.timeBudget);o++){var h=u-e.windowSize*o;i.lastIndex=Math.max(0,h);var f=ki(i,n,u,a);if(!f&&c||(c=f,h<=0))break;a=h}if(c){var o={word:c[0],startColumn:r+1+c.index,endColumn:r+1+c.index+c[0].length};return i.lastIndex=0,o}return null}function ki(t,i,n,r){var e;for(;e=t.exec(i);){var o=e.index||0;if(o<=n&&t.lastIndex>=n)return e;if(r>0&&o>r)return null}return null}bi.unshift({maxLen:1e3,windowSize:15,timeBudget:150});var xi=function(){function t(t){this._values=t}t.prototype.hasChanged=function(t){return this._values[t]};return t}();var Ei=function(){function t(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}return t}();var Bi=function(){function t(t,i,n,r){this.id=t,this.name=i,this.defaultValue=n,this.schema=r}t.prototype.applyUpdate=function(t,i){return Di(t,i)};t.prototype.compute=function(t,i,n){return n};return t}();var Ci=function(){function t(t,i){this.newValue=t,this.didChange=i}return t}();function Di(t,i){if(typeof t!="object"||typeof i!="object"||!t||!i)return new Ci(i,t!==i);if(Array.isArray(t)||Array.isArray(i)){var n=Array.isArray(t)&&Array.isArray(i)&&_(t,i);return new Ci(i,!n)}var r=!1;for(var n in i)if(i.hasOwnProperty(n)){var e=Di(t[n],i[n]);e.didChange&&(t[n]=e.newValue,r=!0)}return new Ci(t,r)}var Mi=function(){function t(t){this.schema=void 0,this.id=t,this.name="_never_",this.defaultValue=void 0}t.prototype.applyUpdate=function(t,i){return Di(t,i)};t.prototype.validate=function(t){return this.defaultValue};return t}();var _i=function(){function t(t,i,n,r){this.id=t,this.name=i,this.defaultValue=n,this.schema=r}t.prototype.applyUpdate=function(t,i){return Di(t,i)};t.prototype.validate=function(t){return t===void 0?this.defaultValue:t};t.prototype.compute=function(t,i,n){return n};return t}();function Fi(t,i){return t===void 0?i:t!=="false"&&!!t}var Si=function(t){__extends(i,t);function i(i,n,r,e){if(e===void 0){e=void 0}var o=this;e!==void 0&&(e.type="boolean",e.default=r),o=t.call(this,i,n,r,e)||this;return o}i.prototype.validate=function(t){return Fi(t,this.defaultValue)};return i}(_i);function Ii(t,i,n,r){if(t===void 0)return i;var e=parseInt(t,10);return isNaN(e)?i:(e=Math.max(n,e),e=Math.min(r,e),0|e)}var Qi=function(t){__extends(i,t);function i(i,n,r,e,o,s){if(s===void 0){s=void 0}var u=this;s!==void 0&&(s.type="integer",s.default=r,s.minimum=e,s.maximum=o),u=t.call(this,i,n,r,s)||this,u.minimum=e,u.maximum=o;return u}i.clampedInt=function(t,i,n,r){return Ii(t,i,n,r)};i.prototype.validate=function(t){return i.clampedInt(t,this.defaultValue,this.minimum,this.maximum)};return i}(_i);function Oi(t,i,n,r){if(t===void 0)return i;var e=Ni.float(t,i);return Ni.clamp(e,n,r)}var Ni=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;o!==void 0&&(o.type="number",o.default=r),s=t.call(this,i,n,r,o)||this,s.validationFn=e;return s}i.clamp=function(t,i,n){return t<i?i:t>n?n:t};i.float=function(t,i){if(typeof t=="number")return t;if(t===void 0)return i;var n=parseFloat(t);return isNaN(n)?i:n};i.prototype.validate=function(t){return this.validationFn(i.float(t,this.defaultValue))};return i}(_i);var Ri=function(t){__extends(i,t);function i(i,n,r,e){if(e===void 0){e=void 0}var o=this;e!==void 0&&(e.type="string",e.default=r),o=t.call(this,i,n,r,e)||this;return o}i.string=function(t,i){return typeof t!="string"?i:t};i.prototype.validate=function(t){return i.string(t,this.defaultValue)};return i}(_i);function Ti(t,i,n,r){return typeof t!="string"?i:r&&t in r?r[t]:n.indexOf(t)===-1?i:t}var Li=function(t){__extends(i,t);function i(i,n,r,e,o){if(o===void 0){o=void 0}var s=this;o!==void 0&&(o.type="string",o.enum=e,o.default=r),s=t.call(this,i,n,r,o)||this,s._allowedValues=e;return s}i.prototype.validate=function(t){return Ti(t,this.defaultValue,this._allowedValues)};return i}(_i);var ji=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){if(u===void 0){u=void 0}var a=this;u!==void 0&&(u.type="string",u.enum=o,u.default=e),a=t.call(this,i,n,r,u)||this,a._allowedValues=o,a._convert=s;return a}i.prototype.validate=function(t){return typeof t!="string"||this._allowedValues.indexOf(t)===-1?this.defaultValue:this._convert(t)};return i}(Bi);var zi,Ui;(function(t){t[t.Line=1]="Line",t[t.Block=2]="Block",t[t.Underline=3]="Underline",t[t.LineThin=4]="LineThin",t[t.BlockOutline=5]="BlockOutline",t[t.UnderlineThin=6]="UnderlineThin"})(zi||(zi={}));var Hi=function(t){__extends(i,t);function i(){return t.call(this,51,"fontLigatures",i.OFF,{anyOf:[{type:"boolean",description:Bt(0,"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:Bt(0,"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:Bt(0,"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})||this}i.prototype.validate=function(t){return t===void 0?this.defaultValue:typeof t=="string"?t==="false"||t.length===0?i.OFF:t==="true"?i.ON:t:t?i.ON:i.OFF};return i}(Bi);Hi.OFF='"liga" off, "calt" off',Hi.ON='"liga" on, "calt" on';var Yi=function(t){__extends(i,t);function i(){return t.call(this,54,"fontVariations",i.OFF,{anyOf:[{type:"boolean",description:Bt(0,"Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:Bt(0,"Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:Bt(0,"Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})||this}i.prototype.validate=function(t){return t===void 0?this.defaultValue:typeof t=="string"?t==="false"?i.OFF:t==="true"?i.TRANSLATE:t:t?i.TRANSLATE:i.OFF};i.prototype.compute=function(t,i,n){return t.fontInfo.fontVariationSettings};return i}(Bi);Yi.OFF="normal",Yi.TRANSLATE="translate";var Ji=function(t){__extends(i,t);function i(){return t.call(this,53,"fontWeight",en.fontWeight,{anyOf:[{type:"number",minimum:i.MINIMUM_VALUE,maximum:i.MAXIMUM_VALUE,errorMessage:Bt(0,'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:i.SUGGESTION_VALUES}],default:en.fontWeight,description:Bt(0,'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})||this}i.prototype.validate=function(t){return t==="normal"||t==="bold"?t:String(Qi.clampedInt(t,en.fontWeight,i.MINIMUM_VALUE,i.MAXIMUM_VALUE))};return i}(Bi);Ji.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Ji.MINIMUM_VALUE=1,Ji.MAXIMUM_VALUE=1e3;var Pi=function(t){__extends(i,t);function i(){return t.call(this,145)||this}i.prototype.compute=function(t,n,r){return i.computeLayout(n,{memory:t.memory,outerWidth:t.outerWidth,outerHeight:t.outerHeight,isDominatedByLongLines:t.isDominatedByLongLines,lineHeight:t.fontInfo.lineHeight,viewLineCount:t.viewLineCount,lineNumbersDigitCount:t.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:t.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:t.fontInfo.maxDigitWidth,pixelRatio:t.pixelRatio,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount})};i.computeContainedMinimapLineCount=function(t){var i=t.height/t.lineHeight,n=Math.floor(t.paddingTop/t.lineHeight);var r=Math.floor(t.paddingBottom/t.lineHeight);t.scrollBeyondLastLine&&(r=Math.max(r,i-1));var e=(n+t.viewLineCount+r)/(t.pixelRatio*t.height);return{typicalViewportLineCount:i,extraLinesBeforeFirstLine:n,extraLinesBeyondLastLine:r,desiredRatio:e,minimapLineCount:Math.floor(t.viewLineCount/e)}};i._computeMinimapLayout=function(t,n){var r=t.outerWidth,e=t.outerHeight,o=t.pixelRatio;if(!t.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*e),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:e};var s=n.stableMinimapLayoutInput,u=s&&t.outerHeight===s.outerHeight&&t.lineHeight===s.lineHeight&&t.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&t.pixelRatio===s.pixelRatio&&t.scrollBeyondLastLine===s.scrollBeyondLastLine&&t.paddingTop===s.paddingTop&&t.paddingBottom===s.paddingBottom&&t.minimap.enabled===s.minimap.enabled&&t.minimap.side===s.minimap.side&&t.minimap.size===s.minimap.size&&t.minimap.showSlider===s.minimap.showSlider&&t.minimap.renderCharacters===s.minimap.renderCharacters&&t.minimap.maxColumn===s.minimap.maxColumn&&t.minimap.scale===s.minimap.scale&&t.verticalScrollbarWidth===s.verticalScrollbarWidth&&t.isViewportWrapping===s.isViewportWrapping,a=t.lineHeight,c=t.typicalHalfwidthCharacterWidth,h=t.scrollBeyondLastLine,f=t.minimap.renderCharacters;var l=o>=2?Math.round(2*t.minimap.scale):t.minimap.scale;var d=t.minimap.maxColumn,v=t.minimap.size,A=t.minimap.side,g=t.verticalScrollbarWidth,w=t.viewLineCount,p=t.remainingWidth,m=t.isViewportWrapping,b=f?2:3;var y=Math.floor(o*e);var k=y/o;var x=!1,E=!1,B=b*l,C=l/o,D=1;if(v==="fill"||v==="fit"){var M=i.computeContainedMinimapLineCount({viewLineCount:w,scrollBeyondLastLine:h,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,height:e,lineHeight:a,pixelRatio:o}),_=M.typicalViewportLineCount,F=M.extraLinesBeforeFirstLine,S=M.extraLinesBeyondLastLine,I=M.desiredRatio,Q=M.minimapLineCount;if(w/Q>1)x=!0,E=!0,l=1,B=1,C=l/o;else{var O=!1,N=l+1;if(v==="fit"){var R=Math.ceil((F+w+S)*B);m&&u&&p<=n.stableFitRemainingWidth?(O=!0,N=n.stableFitMaxMinimapScale):O=R>y}if(v==="fill"||O){x=!0;var R=l;B=Math.min(a*o,Math.max(1,Math.floor(1/I))),m&&u&&p<=n.stableFitRemainingWidth&&(N=n.stableFitMaxMinimapScale),l=Math.min(N,Math.max(1,Math.floor(B/b))),l>R&&(D=Math.min(2,l/R)),C=l/o/D,y=Math.ceil(Math.max(_,F+w+S)*B),m?(n.stableMinimapLayoutInput=t,n.stableFitRemainingWidth=p,n.stableFitMaxMinimapScale=l):(n.stableMinimapLayoutInput=null,n.stableFitRemainingWidth=0)}}}var T=Math.floor(d*C),L=Math.min(T,Math.max(0,Math.floor((p-g-2)*C/(c+C)))+8);var j=Math.floor(o*L);var z=j/o;return j=Math.floor(j*D),{renderMinimap:f?1:2,minimapLeft:A==="left"?0:r-L-g,minimapWidth:L,minimapHeightIsEditorHeight:x,minimapIsSampling:E,minimapScale:l,minimapLineHeight:B,minimapCanvasInnerWidth:j,minimapCanvasInnerHeight:y,minimapCanvasOuterWidth:z,minimapCanvasOuterHeight:k}};i.computeLayout=function(t,n){var r=0|n.outerWidth,e=0|n.outerHeight,o=0|n.lineHeight,s=0|n.lineNumbersDigitCount,u=n.typicalHalfwidthCharacterWidth,a=n.maxDigitWidth,c=n.pixelRatio,h=n.viewLineCount,f=t.get(137),l=f==="inherit"?t.get(136):f,d=l==="inherit"?t.get(132):l,v=t.get(135),A=n.isDominatedByLongLines,g=t.get(57),w=t.get(68).renderType!==0,p=t.get(69),m=t.get(105),b=t.get(84),y=t.get(73),k=t.get(103),x=k.verticalScrollbarSize,E=k.verticalHasArrows,B=k.arrowSize,C=k.horizontalScrollbarSize,D=t.get(43),M=t.get(110)!=="never";var _=t.get(66);D&&M&&(_+=16);var F=0;if(w){var S=Math.max(s,p);F=Math.round(S*a)}var I=0;g&&(I=o*n.glyphMarginDecorationLaneCount);var Q=0,O=Q+I,N=O+F,R=N+_;var T=r-I-F-_;var L=!1,j=!1,z=-1;l==="inherit"&&A?(L=!0,j=!0):d==="on"||d==="bounded"?j=!0:d==="wordWrapColumn"&&(z=v);var U=i._computeMinimapLayout({outerWidth:r,outerHeight:e,lineHeight:o,typicalHalfwidthCharacterWidth:u,pixelRatio:c,scrollBeyondLastLine:m,paddingTop:b.top,paddingBottom:b.bottom,minimap:y,verticalScrollbarWidth:x,viewLineCount:h,remainingWidth:T,isViewportWrapping:j},n.memory||new Ei);U.renderMinimap!==0&&U.minimapLeft===0&&(Q+=U.minimapWidth,O+=U.minimapWidth,N+=U.minimapWidth,R+=U.minimapWidth);var H=T-U.minimapWidth,Y=Math.max(1,Math.floor((H-x-2)/u)),J=E?B:0;return j&&(z=Math.max(1,Y),d==="bounded"&&(z=Math.min(z,v))),{width:r,height:e,glyphMarginLeft:Q,glyphMarginWidth:I,glyphMarginDecorationLaneCount:n.glyphMarginDecorationLaneCount,lineNumbersLeft:O,lineNumbersWidth:F,decorationsLeft:N,decorationsWidth:_,contentLeft:R,contentWidth:H,minimap:U,viewportColumn:Y,isWordWrapMinified:L,isViewportWrapping:j,wrappingColumn:z,verticalScrollbarWidth:x,horizontalScrollbarHeight:C,overviewRuler:{top:J,width:x,height:e-2*J,right:0}}};return i}(Mi);(function(t){t.Off="off",t.OnCode="onCode",t.On="on"})(Ui||(Ui={}));function Wi(t){var i=t.get(98);return i==="editable"?t.get(91):i!=="on"}function Gi(t,i){if(typeof t!="string")return i;switch(t){case"hidden":return 2;case"visible":return 3;default:return 1}}var Vi="inUntrustedWorkspace",Ki="editor.unicodeHighlight.allowedCharacters",Xi="editor.unicodeHighlight.invisibleCharacters",qi="editor.unicodeHighlight.nonBasicASCII",Zi="editor.unicodeHighlight.ambiguousCharacters",$i="editor.unicodeHighlight.includeComments",tn="editor.unicodeHighlight.includeStrings",nn="editor.unicodeHighlight.allowedLocales";function rn(t,i,n){var r=n.indexOf(t);return r===-1?i:n[r]}var en={fontFamily:Gt?"Menlo, Monaco, 'Courier New', monospace":Vt?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:Gt?12:14,lineHeight:0,letterSpacing:0},on=[];function sn(t){return on[t.id]=t,t}var un={acceptSuggestionOnCommitCharacter:sn(new Si(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:Bt(0,"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:sn(new Li(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",Bt(0,"Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:Bt(0,"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:sn(new(function(t){__extends(i,t);function i(){return t.call(this,2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[Bt(0,"Use platform APIs to detect when a Screen Reader is attached."),Bt(0,"Optimize for usage with a Screen Reader."),Bt(0,"Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:Bt(0,"Controls if the UI should run in a mode where it is optimized for screen readers.")})||this}i.prototype.validate=function(t){switch(t){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue};i.prototype.compute=function(t,i,n){return n===0?t.accessibilitySupport:n};return i}(Bi))),accessibilityPageSize:sn(new Qi(3,"accessibilityPageSize",10,1,1073741824,{description:Bt(0,"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:sn(new Ri(4,"ariaLabel",Bt(0,"Editor content"))),ariaRequired:sn(new Si(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:sn(new Si(8,"screenReaderAnnounceInlineSuggestion",!0,{description:Bt(0,"Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:sn(new Li(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",Bt(0,"Use language configurations to determine when to autoclose brackets."),Bt(0,"Autoclose brackets only when the cursor is to the left of whitespace."),""],description:Bt(0,"Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:sn(new Li(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",Bt(0,"Use language configurations to determine when to autoclose comments."),Bt(0,"Autoclose comments only when the cursor is to the left of whitespace."),""],description:Bt(0,"Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:sn(new Li(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",Bt(0,"Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:Bt(0,"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:sn(new Li(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",Bt(0,"Type over closing quotes or brackets only if they were automatically inserted."),""],description:Bt(0,"Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:sn(new Li(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",Bt(0,"Use language configurations to determine when to autoclose quotes."),Bt(0,"Autoclose quotes only when the cursor is to the left of whitespace."),""],description:Bt(0,"Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:sn(new ji(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(t){switch(t){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[Bt(0,"The editor will not insert indentation automatically."),Bt(0,"The editor will keep the current line's indentation."),Bt(0,"The editor will keep the current line's indentation and honor language defined brackets."),Bt(0,"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),Bt(0,"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:Bt(0,"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:sn(new Si(13,"automaticLayout",!1)),autoSurround:sn(new Li(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[Bt(0,"Use language configurations to determine when to automatically surround selections."),Bt(0,"Surround with quotes but not brackets."),Bt(0,"Surround with brackets but not quotes."),""],description:Bt(0,"Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:sn(new(function(t){__extends(i,t);function i(){var i={enabled:di.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:di.bracketPairColorizationOptions.independentColorPoolPerBracketType};return t.call(this,15,"bracketPairColorization",i,{"editor.bracketPairColorization.enabled":{type:"boolean",default:i.enabled,markdownDescription:Bt(0,"Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:i.independentColorPoolPerBracketType,description:Bt(0,"Controls whether each bracket type has its own independent color pool.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:Fi(i.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}};return i}(Bi))),bracketPairGuides:sn(new(function(t){__extends(i,t);function i(){var i={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};return t.call(this,16,"guides",i,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[Bt(0,"Enables bracket pair guides."),Bt(0,"Enables bracket pair guides only for the active bracket pair."),Bt(0,"Disables bracket pair guides.")],default:i.bracketPairs,description:Bt(0,"Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[Bt(0,"Enables horizontal guides as addition to vertical bracket pair guides."),Bt(0,"Enables horizontal guides only for the active bracket pair."),Bt(0,"Disables horizontal bracket pair guides.")],default:i.bracketPairsHorizontal,description:Bt(0,"Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:i.highlightActiveBracketPair,description:Bt(0,"Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:i.indentation,description:Bt(0,"Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[Bt(0,"Highlights the active indent guide."),Bt(0,"Highlights the active indent guide even if bracket guides are highlighted."),Bt(0,"Do not highlight the active indent guide.")],default:i.highlightActiveIndentation,description:Bt(0,"Controls whether the editor should highlight the active indent guide.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{bracketPairs:rn(i.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:rn(i.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Fi(i.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Fi(i.indentation,this.defaultValue.indentation),highlightActiveIndentation:rn(i.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}};return i}(Bi))),stickyTabStops:sn(new Si(116,"stickyTabStops",!1,{description:Bt(0,"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:sn(new Si(17,"codeLens",!0,{description:Bt(0,"Controls whether the editor shows CodeLens.")})),codeLensFontFamily:sn(new Ri(18,"codeLensFontFamily","",{description:Bt(0,"Controls the font family for CodeLens.")})),codeLensFontSize:sn(new Qi(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:Bt(0,"Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:sn(new Si(20,"colorDecorators",!0,{description:Bt(0,"Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:sn(new Li(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[Bt(0,"Make the color picker appear both on click and hover of the color decorator"),Bt(0,"Make the color picker appear on hover of the color decorator"),Bt(0,"Make the color picker appear on click of the color decorator")],description:Bt(0,"Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:sn(new Qi(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:Bt(0,"Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:sn(new Si(22,"columnSelection",!1,{description:Bt(0,"Enable that the selection with the mouse and keys is doing column selection.")})),comments:sn(new(function(t){__extends(i,t);function i(){var i={insertSpace:!0,ignoreEmptyLines:!0};return t.call(this,23,"comments",i,{"editor.comments.insertSpace":{type:"boolean",default:i.insertSpace,description:Bt(0,"Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:i.ignoreEmptyLines,description:Bt(0,"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{insertSpace:Fi(i.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Fi(i.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}};return i}(Bi))),contextmenu:sn(new Si(24,"contextmenu",!0)),copyWithSyntaxHighlighting:sn(new Si(25,"copyWithSyntaxHighlighting",!0,{description:Bt(0,"Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:sn(new ji(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(t){switch(t){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:Bt(0,"Control the cursor animation style.")})),cursorSmoothCaretAnimation:sn(new Li(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[Bt(0,"Smooth caret animation is disabled."),Bt(0,"Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),Bt(0,"Smooth caret animation is always enabled.")],description:Bt(0,"Controls whether the smooth caret animation should be enabled.")})),cursorStyle:sn(new ji(28,"cursorStyle",zi.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(t){switch(t){case"line":return zi.Line;case"block":return zi.Block;case"underline":return zi.Underline;case"line-thin":return zi.LineThin;case"block-outline":return zi.BlockOutline;case"underline-thin":return zi.UnderlineThin}}),{description:Bt(0,"Controls the cursor style.")})),cursorSurroundingLines:sn(new Qi(29,"cursorSurroundingLines",0,0,1073741824,{description:Bt(0,"Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:sn(new Li(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[Bt(0,"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),Bt(0,"`cursorSurroundingLines` is enforced always.")],markdownDescription:Bt(0,"Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:sn(new Qi(31,"cursorWidth",0,0,1073741824,{markdownDescription:Bt(0,"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:sn(new Si(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:sn(new Si(33,"disableMonospaceOptimizations",!1)),domReadOnly:sn(new Si(34,"domReadOnly",!1)),dragAndDrop:sn(new Si(35,"dragAndDrop",!0,{description:Bt(0,"Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:sn(new(function(t){__extends(i,t);function i(){return t.call(this,37,"emptySelectionClipboard",!0,{description:Bt(0,"Controls whether copying without a selection copies the current line.")})||this}i.prototype.compute=function(t,i,n){return n&&t.emptySelectionClipboard};return i}(Si))),dropIntoEditor:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,showDropSelector:"afterDrop"};return t.call(this,36,"dropIntoEditor",i,{"editor.dropIntoEditor.enabled":{type:"boolean",default:i.enabled,markdownDescription:Bt(0,"Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:Bt(0,"Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[Bt(0,"Show the drop selector widget after a file is dropped into the editor."),Bt(0,"Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),showDropSelector:Ti(i.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}};return i}(Bi))),stickyScroll:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};return t.call(this,115,"stickyScroll",i,{"editor.stickyScroll.enabled":{type:"boolean",default:i.enabled,description:Bt(0,"Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:i.maxLineCount,minimum:1,maximum:20,description:Bt(0,"Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:i.defaultModel,description:Bt(0,"Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:i.scrollWithEditor,description:Bt(0,"Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),maxLineCount:Qi.clampedInt(i.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:Ti(i.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:Fi(i.scrollWithEditor,this.defaultValue.scrollWithEditor)}};return i}(Bi))),experimentalWhitespaceRendering:sn(new Li(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[Bt(0,"Use a new rendering method with svgs."),Bt(0,"Use a new rendering method with font characters."),Bt(0,"Use the stable rendering method.")],description:Bt(0,"Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:sn(new Ri(39,"extraEditorClassName","")),fastScrollSensitivity:sn(new Ni(40,"fastScrollSensitivity",5,(function(t){return t<=0?5:t}),{markdownDescription:Bt(0,"Scrolling speed multiplier when pressing `Alt`.")})),find:sn(new(function(t){__extends(i,t);function i(){var i={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};return t.call(this,41,"find",i,{"editor.find.cursorMoveOnType":{type:"boolean",default:i.cursorMoveOnType,description:Bt(0,"Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:i.seedSearchStringFromSelection,enumDescriptions:[Bt(0,"Never seed search string from the editor selection."),Bt(0,"Always seed search string from the editor selection, including word at cursor position."),Bt(0,"Only seed search string from the editor selection.")],description:Bt(0,"Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:i.autoFindInSelection,enumDescriptions:[Bt(0,"Never turn on Find in Selection automatically (default)."),Bt(0,"Always turn on Find in Selection automatically."),Bt(0,"Turn on Find in Selection automatically when multiple lines of content are selected.")],description:Bt(0,"Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:i.globalFindClipboard,description:Bt(0,"Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Gt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:i.addExtraSpaceOnTop,description:Bt(0,"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:i.loop,description:Bt(0,"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{cursorMoveOnType:Fi(i.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof t.seedSearchStringFromSelection=="boolean"?t.seedSearchStringFromSelection?"always":"never":Ti(i.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof t.autoFindInSelection=="boolean"?t.autoFindInSelection?"always":"never":Ti(i.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Fi(i.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Fi(i.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Fi(i.loop,this.defaultValue.loop)}};return i}(Bi))),fixedOverflowWidgets:sn(new Si(42,"fixedOverflowWidgets",!1)),folding:sn(new Si(43,"folding",!0,{description:Bt(0,"Controls whether the editor has code folding enabled.")})),foldingStrategy:sn(new Li(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[Bt(0,"Use a language-specific folding strategy if available, else the indentation-based one."),Bt(0,"Use the indentation-based folding strategy.")],description:Bt(0,"Controls the strategy for computing folding ranges.")})),foldingHighlight:sn(new Si(45,"foldingHighlight",!0,{description:Bt(0,"Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:sn(new Si(46,"foldingImportsByDefault",!1,{description:Bt(0,"Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:sn(new Qi(47,"foldingMaximumRegions",5e3,10,65e3,{description:Bt(0,"The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:sn(new Si(48,"unfoldOnClickAfterEndOfLine",!1,{description:Bt(0,"Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:sn(new Ri(49,"fontFamily",en.fontFamily,{description:Bt(0,"Controls the font family.")})),fontInfo:sn(new(function(t){__extends(i,t);function i(){return t.call(this,50)||this}i.prototype.compute=function(t,i,n){return t.fontInfo};return i}(Mi))),fontLigatures2:sn(new Hi),fontSize:sn(new(function(t){__extends(i,t);function i(){return t.call(this,52,"fontSize",en.fontSize,{type:"number",minimum:6,maximum:100,default:en.fontSize,description:Bt(0,"Controls the font size in pixels.")})||this}i.prototype.validate=function(t){var i=Ni.float(t,this.defaultValue);return i===0?en.fontSize:Ni.clamp(i,6,100)};i.prototype.compute=function(t,i,n){return t.fontInfo.fontSize};return i}(_i))),fontWeight:sn(new Ji),fontVariations:sn(new Yi),formatOnPaste:sn(new Si(55,"formatOnPaste",!1,{description:Bt(0,"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:sn(new Si(56,"formatOnType",!1,{description:Bt(0,"Controls whether the editor should automatically format the line after typing.")})),glyphMargin:sn(new Si(57,"glyphMargin",!0,{description:Bt(0,"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:sn(new(function(t){__extends(i,t);function i(){var i={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},n={type:"string",enum:["peek","gotoAndPeek","goto"],default:i.multiple,enumDescriptions:[Bt(0,"Show Peek view of the results (default)"),Bt(0,"Go to the primary result and show a Peek view"),Bt(0,"Go to the primary result and enable Peek-less navigation to others")]},r=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];return t.call(this,58,"gotoLocation",i,{"editor.gotoLocation.multiple":{deprecationMessage:Bt(0,"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":__assign({description:Bt(0,"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},n),"editor.gotoLocation.multipleTypeDefinitions":__assign({description:Bt(0,"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},n),"editor.gotoLocation.multipleDeclarations":__assign({description:Bt(0,"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},n),"editor.gotoLocation.multipleImplementations":__assign({description:Bt(0,"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},n),"editor.gotoLocation.multipleReferences":__assign({description:Bt(0,"Controls the behavior the 'Go to References'-command when multiple target locations exist.")},n),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:i.alternativeDefinitionCommand,enum:r,description:Bt(0,"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:i.alternativeTypeDefinitionCommand,enum:r,description:Bt(0,"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:i.alternativeDeclarationCommand,enum:r,description:Bt(0,"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:i.alternativeImplementationCommand,enum:r,description:Bt(0,"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:i.alternativeReferenceCommand,enum:r,description:Bt(0,"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})||this}i.prototype.validate=function(t){var i,n,r,e,o;if(!t||typeof t!="object")return this.defaultValue;var s=t;return{multiple:Ti(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(i=s.multipleDefinitions)!==null&&i!==void 0?i:Ti(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(n=s.multipleTypeDefinitions)!==null&&n!==void 0?n:Ti(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(r=s.multipleDeclarations)!==null&&r!==void 0?r:Ti(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(e=s.multipleImplementations)!==null&&e!==void 0?e:Ti(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(o=s.multipleReferences)!==null&&o!==void 0?o:Ti(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Ri.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Ri.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Ri.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Ri.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Ri.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}};return i}(Bi))),hideCursorInOverviewRuler:sn(new Si(59,"hideCursorInOverviewRuler",!1,{description:Bt(0,"Controls whether the cursor should be hidden in the overview ruler.")})),hover:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};return t.call(this,60,"hover",i,{"editor.hover.enabled":{type:"boolean",default:i.enabled,description:Bt(0,"Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:i.delay,minimum:0,maximum:1e4,description:Bt(0,"Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:i.sticky,description:Bt(0,"Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:i.hidingDelay,description:Bt(0,"Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:i.above,description:Bt(0,"Prefer showing hovers above the line, if there's space.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),delay:Qi.clampedInt(i.delay,this.defaultValue.delay,0,1e4),sticky:Fi(i.sticky,this.defaultValue.sticky),hidingDelay:Qi.clampedInt(i.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:Fi(i.above,this.defaultValue.above)}};return i}(Bi))),inDiffEditor:sn(new Si(61,"inDiffEditor",!1)),letterSpacing:sn(new Ni(64,"letterSpacing",en.letterSpacing,(function(t){return Ni.clamp(t,-5,20)}),{description:Bt(0,"Controls the letter spacing in pixels.")})),lightbulb:sn(new(function(t){__extends(i,t);function i(){var i={enabled:Ui.On};return t.call(this,65,"lightbulb",i,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[Ui.Off,Ui.OnCode,Ui.On],default:i.enabled,enumDescriptions:[Bt(0,"Disable the code action menu."),Bt(0,"Show the code action menu when the cursor is on lines with code."),Bt(0,"Show the code action menu when the cursor is on lines with code or on empty lines.")],description:Bt(0,"Enables the Code Action lightbulb in the editor.")}})||this}i.prototype.validate=function(t){return!t||typeof t!="object"?this.defaultValue:{enabled:Ti(t.enabled,this.defaultValue.enabled,[Ui.Off,Ui.OnCode,Ui.On])}};return i}(Bi))),lineDecorationsWidth:sn(new(function(t){__extends(i,t);function i(){return t.call(this,66,"lineDecorationsWidth",10)||this}i.prototype.validate=function(t){return typeof t=="string"&&/^\d+(\.\d+)?ch$/.test(t)?-parseFloat(t.substring(0,t.length-2)):Qi.clampedInt(t,this.defaultValue,0,1e3)};i.prototype.compute=function(t,i,n){return n<0?Qi.clampedInt(-n*t.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):n};return i}(Bi))),lineHeight:sn(new(function(t){__extends(i,t);function i(){return t.call(this,67,"lineHeight",en.lineHeight,(function(t){return Ni.clamp(t,0,150)}),{markdownDescription:Bt(0,"Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})||this}i.prototype.compute=function(t,i,n){return t.fontInfo.lineHeight};return i}(Ni))),lineNumbers:sn(new(function(t){__extends(i,t);function i(){return t.call(this,68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[Bt(0,"Line numbers are not rendered."),Bt(0,"Line numbers are rendered as absolute number."),Bt(0,"Line numbers are rendered as distance in lines to cursor position."),Bt(0,"Line numbers are rendered every 10 lines.")],default:"on",description:Bt(0,"Controls the display of line numbers.")})||this}i.prototype.validate=function(t){var i=this.defaultValue.renderType,n=this.defaultValue.renderFn;return t!==void 0&&(typeof t=="function"?(i=4,n=t):i=t==="interval"?3:t==="relative"?2:t==="on"?1:0),{renderType:i,renderFn:n}};return i}(Bi))),lineNumbersMinChars:sn(new Qi(69,"lineNumbersMinChars",5,1,300)),linkedEditing:sn(new Si(70,"linkedEditing",!1,{description:Bt(0,"Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:sn(new Si(71,"links",!0,{description:Bt(0,"Controls whether the editor should detect links and make them clickable.")})),matchBrackets:sn(new Li(72,"matchBrackets","always",["always","near","never"],{description:Bt(0,"Highlight matching brackets.")})),minimap:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9};return t.call(this,73,"minimap",i,{"editor.minimap.enabled":{type:"boolean",default:i.enabled,description:Bt(0,"Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:i.autohide,description:Bt(0,"Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[Bt(0,"The minimap has the same size as the editor contents (and might scroll)."),Bt(0,"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),Bt(0,"The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:i.size,description:Bt(0,"Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:i.side,description:Bt(0,"Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:i.showSlider,description:Bt(0,"Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:i.scale,minimum:1,maximum:3,enum:[1,2,3],description:Bt(0,"Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:i.renderCharacters,description:Bt(0,"Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:i.maxColumn,description:Bt(0,"Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:i.showRegionSectionHeaders,description:Bt(0,"Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:i.showMarkSectionHeaders,description:Bt(0,"Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:i.sectionHeaderFontSize,description:Bt(0,"Controls the font size of section headers in the minimap.")}})||this}i.prototype.validate=function(t){var i;if(!t||typeof t!="object")return this.defaultValue;var n=t;return{enabled:Fi(n.enabled,this.defaultValue.enabled),autohide:Fi(n.autohide,this.defaultValue.autohide),size:Ti(n.size,this.defaultValue.size,["proportional","fill","fit"]),side:Ti(n.side,this.defaultValue.side,["right","left"]),showSlider:Ti(n.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Fi(n.renderCharacters,this.defaultValue.renderCharacters),scale:Qi.clampedInt(n.scale,1,1,3),maxColumn:Qi.clampedInt(n.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:Fi(n.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:Fi(n.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:Ni.clamp((i=n.sectionHeaderFontSize)!==null&&i!==void 0?i:this.defaultValue.sectionHeaderFontSize,4,32)}};return i}(Bi))),mouseStyle:sn(new Li(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:sn(new Ni(75,"mouseWheelScrollSensitivity",1,(function(t){return t===0?1:t}),{markdownDescription:Bt(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:sn(new Si(76,"mouseWheelZoom",!1,{markdownDescription:Bt(0,Gt?"Zoom the font of the editor when using mouse wheel and holding `Cmd`.":"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:sn(new Si(77,"multiCursorMergeOverlapping",!0,{description:Bt(0,"Merge multiple cursors when they are overlapping.")})),multiCursorModifier:sn(new ji(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(t){return t==="ctrlCmd"?Gt?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[Bt(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),Bt(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:Bt(0,"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:sn(new Li(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[Bt(0,"Each cursor pastes a single line of the text."),Bt(0,"Each cursor pastes the full text.")],markdownDescription:Bt(0,"Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:sn(new Qi(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:Bt(0,"Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:sn(new Li(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[Bt(0,"Does not highlight occurrences."),Bt(0,"Highlights occurrences only in the current file."),Bt(0,"Experimental: Highlights occurrences across all valid open files.")],markdownDescription:Bt(0,"Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:sn(new Si(82,"overviewRulerBorder",!0,{description:Bt(0,"Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:sn(new Qi(83,"overviewRulerLanes",3,0,3)),padding:sn(new(function(t){__extends(i,t);function i(){return t.call(this,84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:Bt(0,"Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:Bt(0,"Controls the amount of space between the bottom edge of the editor and the last line.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{top:Qi.clampedInt(i.top,0,0,1e3),bottom:Qi.clampedInt(i.bottom,0,0,1e3)}};return i}(Bi))),pasteAs:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,showPasteSelector:"afterPaste"};return t.call(this,85,"pasteAs",i,{"editor.pasteAs.enabled":{type:"boolean",default:i.enabled,markdownDescription:Bt(0,"Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:Bt(0,"Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[Bt(0,"Show the paste selector widget after content is pasted into the editor."),Bt(0,"Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),showPasteSelector:Ti(i.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}};return i}(Bi))),parameterHints:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,cycle:!0};return t.call(this,86,"parameterHints",i,{"editor.parameterHints.enabled":{type:"boolean",default:i.enabled,description:Bt(0,"Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:i.cycle,description:Bt(0,"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),cycle:Fi(i.cycle,this.defaultValue.cycle)}};return i}(Bi))),peekWidgetDefaultFocus:sn(new Li(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[Bt(0,"Focus the tree when opening peek"),Bt(0,"Focus the editor when opening peek")],description:Bt(0,"Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:sn(new Si(88,"definitionLinkOpensInPeek",!1,{description:Bt(0,"Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:sn(new(function(t){__extends(i,t);function i(){var i=this;var n={other:"on",comments:"off",strings:"off"},r=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[Bt(0,"Quick suggestions show inside the suggest widget"),Bt(0,"Quick suggestions show as ghost text"),Bt(0,"Quick suggestions are disabled")]}];i=t.call(this,89,"quickSuggestions",n,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:r,default:n.strings,description:Bt(0,"Enable quick suggestions inside strings.")},comments:{anyOf:r,default:n.comments,description:Bt(0,"Enable quick suggestions inside comments.")},other:{anyOf:r,default:n.other,description:Bt(0,"Enable quick suggestions outside of strings and comments.")}},default:n,markdownDescription:Bt(0,"Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")})||this,i.defaultValue=n;return i}i.prototype.validate=function(t){if(typeof t=="boolean"){var i=t?"on":"off";return{comments:i,strings:i,other:i}}if(!t||typeof t!="object")return this.defaultValue;var n=t.other,r=t.comments,e=t.strings,o=["on","inline","off"];var s,u,a;return s=typeof n=="boolean"?n?"on":"off":Ti(n,this.defaultValue.other,o),u=typeof r=="boolean"?r?"on":"off":Ti(r,this.defaultValue.comments,o),a=typeof e=="boolean"?e?"on":"off":Ti(e,this.defaultValue.strings,o),{other:s,comments:u,strings:a}};return i}(Bi))),quickSuggestionsDelay:sn(new Qi(90,"quickSuggestionsDelay",10,0,1073741824,{description:Bt(0,"Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:sn(new Si(91,"readOnly",!1)),readOnlyMessage:sn(new(function(t){__extends(i,t);function i(){return t.call(this,92,"readOnlyMessage",void 0)||this}i.prototype.validate=function(t){return t&&typeof t=="object"?t:this.defaultValue};return i}(Bi))),renameOnType:sn(new Si(93,"renameOnType",!1,{description:Bt(0,"Controls whether the editor auto renames on type."),markdownDeprecationMessage:Bt(0,"Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:sn(new Si(94,"renderControlCharacters",!0,{description:Bt(0,"Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:sn(new Li(95,"renderFinalNewline",Vt?"dimmed":"on",["off","on","dimmed"],{description:Bt(0,"Render last line number when the file ends with a newline.")})),renderLineHighlight:sn(new Li(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",Bt(0,"Highlights both the gutter and the current line.")],description:Bt(0,"Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:sn(new Si(97,"renderLineHighlightOnlyWhenFocus",!1,{description:Bt(0,"Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:sn(new Li(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:sn(new Li(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",Bt(0,"Render whitespace characters except for single spaces between words."),Bt(0,"Render whitespace characters only on selected text."),Bt(0,"Render only trailing whitespace characters."),""],description:Bt(0,"Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:sn(new Qi(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:sn(new Si(101,"roundedSelection",!0,{description:Bt(0,"Controls whether selections should have rounded corners.")})),rulers:sn(new(function(t){__extends(i,t);function i(){var i=[],n={type:"number",description:Bt(0,"Number of monospace characters at which this editor ruler will render.")};return t.call(this,102,"rulers",i,{type:"array",items:{anyOf:[n,{type:["object"],properties:{column:n,color:{type:"string",description:Bt(0,"Color of this editor ruler."),format:"color-hex"}}}]},default:i,description:Bt(0,"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})||this}i.prototype.validate=function(t){if(Array.isArray(t)){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];if(typeof e=="number")i.push({column:Qi.clampedInt(e,0,0,1e4),color:null});else if(e&&typeof e=="object"){var o=e;i.push({column:Qi.clampedInt(o.column,0,0,1e4),color:o.color})}}return i.sort((function(t,i){return t.column-i.column})),i}return this.defaultValue};return i}(Bi))),scrollbar:sn(new(function(t){__extends(i,t);function i(){var i={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};return t.call(this,103,"scrollbar",i,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[Bt(0,"The vertical scrollbar will be visible only when necessary."),Bt(0,"The vertical scrollbar will always be visible."),Bt(0,"The vertical scrollbar will always be hidden.")],default:"auto",description:Bt(0,"Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[Bt(0,"The horizontal scrollbar will be visible only when necessary."),Bt(0,"The horizontal scrollbar will always be visible."),Bt(0,"The horizontal scrollbar will always be hidden.")],default:"auto",description:Bt(0,"Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:i.verticalScrollbarSize,description:Bt(0,"The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:i.horizontalScrollbarSize,description:Bt(0,"The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:i.scrollByPage,description:Bt(0,"Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:i.ignoreHorizontalScrollbarInContentHeight,description:Bt(0,"When set, the horizontal scrollbar will not increase the size of the editor's content.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t,n=Qi.clampedInt(i.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=Qi.clampedInt(i.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Qi.clampedInt(i.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Gi(i.vertical,this.defaultValue.vertical),horizontal:Gi(i.horizontal,this.defaultValue.horizontal),useShadows:Fi(i.useShadows,this.defaultValue.useShadows),verticalHasArrows:Fi(i.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Fi(i.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Fi(i.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Fi(i.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:Qi.clampedInt(i.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:r,verticalSliderSize:Qi.clampedInt(i.verticalSliderSize,r,0,1e3),scrollByPage:Fi(i.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:Fi(i.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}};return i}(Bi))),scrollBeyondLastColumn:sn(new Qi(104,"scrollBeyondLastColumn",4,0,1073741824,{description:Bt(0,"Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:sn(new Si(105,"scrollBeyondLastLine",!0,{description:Bt(0,"Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:sn(new Si(106,"scrollPredominantAxis",!0,{description:Bt(0,"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:sn(new Si(107,"selectionClipboard",!0,{description:Bt(0,"Controls whether the Linux primary clipboard should be supported."),included:Vt})),selectionHighlight:sn(new Si(108,"selectionHighlight",!0,{description:Bt(0,"Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:sn(new Si(109,"selectOnLineNumbers",!0)),showFoldingControls:sn(new Li(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[Bt(0,"Always show the folding controls."),Bt(0,"Never show the folding controls and reduce the gutter size."),Bt(0,"Only show the folding controls when the mouse is over the gutter.")],description:Bt(0,"Controls when the folding controls on the gutter are shown.")})),showUnused:sn(new Si(111,"showUnused",!0,{description:Bt(0,"Controls fading out of unused code.")})),showDeprecated:sn(new Si(140,"showDeprecated",!0,{description:Bt(0,"Controls strikethrough deprecated variables.")})),inlayHints:sn(new(function(t){__extends(i,t);function i(){var i={enabled:"on",fontSize:0,fontFamily:"",padding:!1};return t.call(this,141,"inlayHints",i,{"editor.inlayHints.enabled":{type:"string",default:i.enabled,description:Bt(0,"Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[Bt(0,"Inlay hints are enabled"),Bt(0,"Inlay hints are showing by default and hide when holding {0}",Gt?"Ctrl+Option":"Ctrl+Alt"),Bt(0,"Inlay hints are hidden by default and show when holding {0}",Gt?"Ctrl+Option":"Ctrl+Alt"),Bt(0,"Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:i.fontSize,markdownDescription:Bt(0,"Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:i.fontFamily,markdownDescription:Bt(0,"Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:i.padding,description:Bt(0,"Enables the padding around the inlay hints in the editor.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return typeof i.enabled=="boolean"&&(i.enabled=i.enabled?"on":"off"),{enabled:Ti(i.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Qi.clampedInt(i.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Ri.string(i.fontFamily,this.defaultValue.fontFamily),padding:Fi(i.padding,this.defaultValue.padding)}};return i}(Bi))),snippetSuggestions:sn(new Li(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[Bt(0,"Show snippet suggestions on top of other suggestions."),Bt(0,"Show snippet suggestions below other suggestions."),Bt(0,"Show snippets suggestions with other suggestions."),Bt(0,"Do not show snippet suggestions.")],description:Bt(0,"Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:sn(new(function(t){__extends(i,t);function i(){return t.call(this,113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:Bt(0,"Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:Bt(0,"Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})||this}i.prototype.validate=function(t){return t&&typeof t=="object"?{selectLeadingAndTrailingWhitespace:Fi(t.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:Fi(t.selectSubwords,this.defaultValue.selectSubwords)}:this.defaultValue};return i}(Bi))),smoothScrolling:sn(new Si(114,"smoothScrolling",!1,{description:Bt(0,"Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:sn(new Qi(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:sn(new(function(t){__extends(i,t);function i(){var i={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};return t.call(this,118,"suggest",i,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[Bt(0,"Insert suggestion without overwriting text right of the cursor."),Bt(0,"Insert suggestion and overwrite text right of the cursor.")],default:i.insertMode,description:Bt(0,"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:i.filterGraceful,description:Bt(0,"Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:i.localityBonus,description:Bt(0,"Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:i.shareSuggestSelections,markdownDescription:Bt(0,"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[Bt(0,"Always select a suggestion when automatically triggering IntelliSense."),Bt(0,"Never select a suggestion when automatically triggering IntelliSense."),Bt(0,"Select a suggestion only when triggering IntelliSense from a trigger character."),Bt(0,"Select a suggestion only when triggering IntelliSense as you type.")],default:i.selectionMode,markdownDescription:Bt(0,"Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:i.snippetsPreventQuickSuggestions,description:Bt(0,"Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:i.showIcons,description:Bt(0,"Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:i.showStatusBar,description:Bt(0,"Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:i.preview,description:Bt(0,"Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:i.showInlineDetails,description:Bt(0,"Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:Bt(0,"This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:Bt(0,"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:Bt(0,"When enabled IntelliSense shows `issues`-suggestions.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{insertMode:Ti(i.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Fi(i.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Fi(i.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Fi(i.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Fi(i.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:Ti(i.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:Fi(i.showIcons,this.defaultValue.showIcons),showStatusBar:Fi(i.showStatusBar,this.defaultValue.showStatusBar),preview:Fi(i.preview,this.defaultValue.preview),previewMode:Ti(i.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Fi(i.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Fi(i.showMethods,this.defaultValue.showMethods),showFunctions:Fi(i.showFunctions,this.defaultValue.showFunctions),showConstructors:Fi(i.showConstructors,this.defaultValue.showConstructors),showDeprecated:Fi(i.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:Fi(i.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:Fi(i.showFields,this.defaultValue.showFields),showVariables:Fi(i.showVariables,this.defaultValue.showVariables),showClasses:Fi(i.showClasses,this.defaultValue.showClasses),showStructs:Fi(i.showStructs,this.defaultValue.showStructs),showInterfaces:Fi(i.showInterfaces,this.defaultValue.showInterfaces),showModules:Fi(i.showModules,this.defaultValue.showModules),showProperties:Fi(i.showProperties,this.defaultValue.showProperties),showEvents:Fi(i.showEvents,this.defaultValue.showEvents),showOperators:Fi(i.showOperators,this.defaultValue.showOperators),showUnits:Fi(i.showUnits,this.defaultValue.showUnits),showValues:Fi(i.showValues,this.defaultValue.showValues),showConstants:Fi(i.showConstants,this.defaultValue.showConstants),showEnums:Fi(i.showEnums,this.defaultValue.showEnums),showEnumMembers:Fi(i.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Fi(i.showKeywords,this.defaultValue.showKeywords),showWords:Fi(i.showWords,this.defaultValue.showWords),showColors:Fi(i.showColors,this.defaultValue.showColors),showFiles:Fi(i.showFiles,this.defaultValue.showFiles),showReferences:Fi(i.showReferences,this.defaultValue.showReferences),showFolders:Fi(i.showFolders,this.defaultValue.showFolders),showTypeParameters:Fi(i.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Fi(i.showSnippets,this.defaultValue.showSnippets),showUsers:Fi(i.showUsers,this.defaultValue.showUsers),showIssues:Fi(i.showIssues,this.defaultValue.showIssues)}};return i}(Bi))),inlineSuggest:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};return t.call(this,62,"inlineSuggest",i,{"editor.inlineSuggest.enabled":{type:"boolean",default:i.enabled,description:Bt(0,"Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:i.showToolbar,enum:["always","onHover","never"],enumDescriptions:[Bt(0,"Show the inline suggestion toolbar whenever an inline suggestion is shown."),Bt(0,"Show the inline suggestion toolbar when hovering over an inline suggestion."),Bt(0,"Never show the inline suggestion toolbar.")],description:Bt(0,"Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:i.suppressSuggestions,description:Bt(0,"Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:i.fontFamily,description:Bt(0,"Controls the font family of the inline suggestions.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),mode:Ti(i.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:Ti(i.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:Fi(i.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:Fi(i.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:Ri.string(i.fontFamily,this.defaultValue.fontFamily)}};return i}(Bi))),inlineEdit:sn(new(function(t){__extends(i,t);function i(){var i={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};return t.call(this,63,"experimentalInlineEdit",i,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:i.enabled,description:Bt(0,"Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:i.showToolbar,enum:["always","onHover","never"],enumDescriptions:[Bt(0,"Show the inline edit toolbar whenever an inline suggestion is shown."),Bt(0,"Show the inline edit toolbar when hovering over an inline suggestion."),Bt(0,"Never show the inline edit toolbar.")],description:Bt(0,"Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:i.fontFamily,description:Bt(0,"Controls the font family of the inline edit.")},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:i.backgroundColoring,description:Bt(0,"Controls whether to color the background of inline edits.")}})||this}i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{enabled:Fi(i.enabled,this.defaultValue.enabled),showToolbar:Ti(i.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:Ri.string(i.fontFamily,this.defaultValue.fontFamily),keepOnBlur:Fi(i.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:Fi(i.backgroundColoring,this.defaultValue.backgroundColoring)}};return i}(Bi))),inlineCompletionsAccessibilityVerbose:sn(new Si(149,"inlineCompletionsAccessibilityVerbose",!1,{description:Bt(0,"Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:sn(new Qi(119,"suggestFontSize",0,0,1e3,{markdownDescription:Bt(0,"Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:sn(new Qi(120,"suggestLineHeight",0,0,1e3,{markdownDescription:Bt(0,"Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:sn(new Si(121,"suggestOnTriggerCharacters",!0,{description:Bt(0,"Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:sn(new Li(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[Bt(0,"Always select the first suggestion."),Bt(0,"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),Bt(0,"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:Bt(0,"Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:sn(new Li(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[Bt(0,"Tab complete will insert the best matching suggestion when pressing tab."),Bt(0,"Disable tab completions."),Bt(0,"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:Bt(0,"Enables tab completions.")})),tabIndex:sn(new Qi(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:sn(new(function(t){__extends(i,t);function i(){var i;var n={nonBasicASCII:Vi,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Vi,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};return t.call(this,125,"unicodeHighlight",n,(i={},i[qi]={restricted:!0,type:["boolean","string"],enum:[!0,!1,Vi],default:n.nonBasicASCII,description:Bt(0,"Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},i[Xi]={restricted:!0,type:"boolean",default:n.invisibleCharacters,description:Bt(0,"Controls whether characters that just reserve space or have no width at all are highlighted.")},i[Zi]={restricted:!0,type:"boolean",default:n.ambiguousCharacters,description:Bt(0,"Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},i[$i]={restricted:!0,type:["boolean","string"],enum:[!0,!1,Vi],default:n.includeComments,description:Bt(0,"Controls whether characters in comments should also be subject to Unicode highlighting.")},i[tn]={restricted:!0,type:["boolean","string"],enum:[!0,!1,Vi],default:n.includeStrings,description:Bt(0,"Controls whether characters in strings should also be subject to Unicode highlighting.")},i[Ki]={restricted:!0,type:"object",default:n.allowedCharacters,description:Bt(0,"Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},i[nn]={restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:n.allowedLocales,description:Bt(0,"Unicode characters that are common in allowed locales are not being highlighted.")},i))||this}i.prototype.applyUpdate=function(i,n){var r=!1;n.allowedCharacters&&i&&(yt(i.allowedCharacters,n.allowedCharacters)||(i=__assign(__assign({},i),{allowedCharacters:n.allowedCharacters}),r=!0)),n.allowedLocales&&i&&(yt(i.allowedLocales,n.allowedLocales)||(i=__assign(__assign({},i),{allowedLocales:n.allowedLocales}),r=!0));var e=t.prototype.applyUpdate.call(this,i,n);return r?new Ci(e.newValue,!0):e};i.prototype.validate=function(t){if(!t||typeof t!="object")return this.defaultValue;var i=t;return{nonBasicASCII:rn(i.nonBasicASCII,Vi,[!0,!1,Vi]),invisibleCharacters:Fi(i.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Fi(i.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:rn(i.includeComments,Vi,[!0,!1,Vi]),includeStrings:rn(i.includeStrings,Vi,[!0,!1,Vi]),allowedCharacters:this.validateBooleanMap(t.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(t.allowedLocales,this.defaultValue.allowedLocales)}};i.prototype.validateBooleanMap=function(t,i){if(typeof t!="object"||!t)return i;var n={};for(var r=0,e=Object.entries(t);r<e.length;r++){var o=e[r],s=o[0],u=o[1];u===!0&&(n[s]=!0)}return n};return i}(Bi))),unusualLineTerminators:sn(new Li(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[Bt(0,"Unusual line terminators are automatically removed."),Bt(0,"Unusual line terminators are ignored."),Bt(0,"Unusual line terminators prompt to be removed.")],description:Bt(0,"Remove unusual line terminators that might cause problems.")})),useShadowDOM:sn(new Si(127,"useShadowDOM",!0)),useTabStops:sn(new Si(128,"useTabStops",!0,{description:Bt(0,"Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:sn(new Li(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[Bt(0,"Use the default line break rule."),Bt(0,"Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:Bt(0,"Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:sn(new(function(t){__extends(i,t);function i(){return t.call(this,130,"wordSegmenterLocales",[],{anyOf:[{description:Bt(0,"Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:Bt(0,"Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})||this}i.prototype.validate=function(t){if(typeof t=="string"&&(t=[t]),Array.isArray(t)){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];if(typeof e=="string")try{Intl.Segmenter.supportedLocalesOf(e).length>0&&i.push(e)}catch(t){}}return i}return this.defaultValue};return i}(Bi))),wordSeparators:sn(new Ri(131,"wordSeparators",wi,{description:Bt(0,"Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:sn(new Li(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[Bt(0,"Lines will never wrap."),Bt(0,"Lines will wrap at the viewport width."),Bt(0,"Lines will wrap at `#editor.wordWrapColumn#`."),Bt(0,"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:Bt(0,"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:sn(new Ri(133,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:sn(new Ri(134,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:sn(new Qi(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:Bt(0,"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:sn(new Li(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:sn(new Li(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:sn(new(function(t){__extends(i,t);function i(){return t.call(this,142)||this}i.prototype.compute=function(t,i,n){var r=["monaco-editor"];return i.get(39)&&r.push(i.get(39)),t.extraEditorClassName&&r.push(t.extraEditorClassName),i.get(74)==="default"?r.push("mouse-default"):i.get(74)==="copy"&&r.push("mouse-copy"),i.get(111)&&r.push("showUnused"),i.get(140)&&r.push("showDeprecated"),r.join(" ")};return i}(Mi))),defaultColorDecorators:sn(new Si(147,"defaultColorDecorators",!1,{markdownDescription:Bt(0,"Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:sn(new(function(t){__extends(i,t);function i(){return t.call(this,143)||this}i.prototype.compute=function(t,i,n){return t.pixelRatio};return i}(Mi))),tabFocusMode:sn(new Si(144,"tabFocusMode",!1,{markdownDescription:Bt(0,"Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:sn(new Pi),wrappingInfo:sn(new(function(t){__extends(i,t);function i(){return t.call(this,146)||this}i.prototype.compute=function(t,i,n){var r=i.get(145);return{isDominatedByLongLines:t.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}};return i}(Mi))),wrappingIndent:sn(new(function(t){__extends(i,t);function i(){return t.call(this,138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[Bt(0,"No indentation. Wrapped lines begin at column 1."),Bt(0,"Wrapped lines get the same indentation as the parent."),Bt(0,"Wrapped lines get +1 indentation toward the parent."),Bt(0,"Wrapped lines get +2 indentation toward the parent.")],description:Bt(0,"Controls the indentation of wrapped lines."),default:"same"}})||this}i.prototype.validate=function(t){switch(t){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1};i.prototype.compute=function(t,i,n){return i.get(2)===2?0:n};return i}(Bi))),wrappingStrategy:sn(new(function(t){__extends(i,t);function i(){return t.call(this,139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[Bt(0,"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),Bt(0,"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:Bt(0,"Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})||this}i.prototype.validate=function(t){return Ti(t,"simple",["simple","advanced"])};i.prototype.compute=function(t,i,n){return i.get(2)===2?"advanced":n};return i}(Bi)))},an=new(function(){function t(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout((function(){throw t.stack?pn.isErrorNoTelemetry(t)?new pn(t.message+"\n\n"+t.stack):new Error(t.message+"\n\n"+t.stack):t}),0)}}t.prototype.emit=function(t){this.listeners.forEach((function(i){i(t)}))};t.prototype.onUnexpectedError=function(t){this.unexpectedErrorHandler(t),this.emit(t)};t.prototype.onUnexpectedExternalError=function(t){this.unexpectedErrorHandler(t)};return t}());function cn(t){dn(t)||an.onUnexpectedError(t)}function hn(t){dn(t)||an.onUnexpectedExternalError(t)}function fn(t){if(t instanceof Error){var i=t.name,n=t.message;return{$isError:!0,name:i,message:n,stack:t.stacktrace||t.stack,noTelemetry:pn.isErrorNoTelemetry(t)}}return t}var ln="Canceled";function dn(t){return t instanceof vn||t instanceof Error&&t.name===ln&&t.message===ln}var vn=function(t){__extends(i,t);function i(){var i=this;i=t.call(this,ln)||this,i.name=i.message;return i}return i}(Error);function An(t){return t?new Error("Illegal argument: ".concat(t)):new Error("Illegal argument")}function gn(t){return t?new Error("Illegal state: ".concat(t)):new Error("Illegal state")}var wn=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,"NotSupported")||this,i&&(n.message=i);return n}return i}(Error);var pn=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n.name="CodeExpectedError";return n}i.fromError=function(t){if(t instanceof i)return t;var n=new i;return n.message=t.message,n.stack=t.stack,n};i.isErrorNoTelemetry=function(t){return t.name==="CodeExpectedError"};return i}(Error);var mn=function(t){__extends(i,t);function i(n){var r=this;r=t.call(this,n||"An unexpected bug occurred.")||this,Object.setPrototypeOf(r,i.prototype);return r}return i}(Error);function bn(t,i){var n=this;var r,e=!1;return function(){if(e)return r;if(e=!0,i)try{r=t.apply(n,arguments)}finally{i()}else r=t.apply(n,arguments);return r}}function yn(t){return typeof t.dispose=="function"&&t.dispose.length===0}function kn(t){if(vi.is(t)){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];if(e)try{e.dispose()}catch(t){i.push(t)}}if(i.length===1)throw i[0];if(i.length>1)throw new AggregateError(i,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}if(t)return t.dispose(),t}function xn(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return En((function(){return kn(t)}))}function En(t){return{dispose:bn((function(){t()}))}}var Bn=function(){function t(){this._toDispose=new Set,this._isDisposed=!1}t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.clear())};Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:false,configurable:true});t.prototype.clear=function(){if(this._toDispose.size!==0)try{kn(this._toDispose)}finally{this._toDispose.clear()}};t.prototype.add=function(i){if(!i)return i;if(i===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(i),i};t.prototype.deleteAndLeak=function(t){t&&this._toDispose.has(t)&&this._toDispose.delete(t)};return t}();Bn.DISABLE_DISPOSED_WARNING=!1;var Cn=function(){function t(){this._store=new Bn}t.prototype.dispose=function(){this._store.dispose()};t.prototype._register=function(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)};return t}();Cn.None=Object.freeze({dispose:function(){}});var Dn=function(){function t(){this._isDisposed=!1}Object.defineProperty(t.prototype,"value",{get:function(){return this._isDisposed?void 0:this._value},set:function(t){var i;this._isDisposed||t===this._value||((i=this._value)===null||i===void 0||i.dispose(),this._value=t)},enumerable:false,configurable:true});t.prototype.clear=function(){this.value=void 0};t.prototype.dispose=function(){var t;this._isDisposed=!0,(t=this._value)===null||t===void 0||t.dispose(),this._value=void 0};return t}();var Mn=function(){function t(t){this._disposable=t,this._counter=1}t.prototype.acquire=function(){return this._counter++,this};t.prototype.release=function(){return--this._counter==0&&this._disposable.dispose(),this};return t}();var _n=function(){function t(t){this.object=t}t.prototype.dispose=function(){};return t}();var Fn=function(){function t(){this._store=new Map,this._isDisposed=!1}t.prototype.dispose=function(){this._isDisposed=!0,this.clearAndDisposeAll()};t.prototype.clearAndDisposeAll=function(){if(this._store.size)try{kn(this._store.values())}finally{this._store.clear()}};t.prototype.get=function(t){return this._store.get(t)};t.prototype.set=function(t,i,n){if(n===void 0){n=!1}var r;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||(r=this._store.get(t))===null||r===void 0||r.dispose(),this._store.set(t,i)};t.prototype.deleteAndDispose=function(t){var i;(i=this._store.get(t))===null||i===void 0||i.dispose(),this._store.delete(t)};t.prototype[Symbol.iterator]=function(){return this._store[Symbol.iterator]()};return t}();var Sn=globalThis.performance&&typeof globalThis.performance.now=="function";var In=function(){function t(t){this._now=Sn&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}t.create=function(i){return new t(i)};t.prototype.stop=function(){this._stopTime=this._now()};t.prototype.reset=function(){this._startTime=this._now(),this._stopTime=-1};t.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime};return t}();var Qn;(function(t){function i(t){return function(i,n,r){if(n===void 0){n=null}var e,o=!1;return e=t((function(t){if(!o)return e?e.dispose():o=!0,i.call(n,t)}),null,r),o&&e.dispose(),e}}function n(t,i,n){return e((function(n,r,e){if(r===void 0){r=null}return t((function(t){return n.call(r,i(t))}),null,e)}),n)}function r(t,i,n){return e((function(n,r,e){if(r===void 0){r=null}return t((function(t){return i(t)&&n.call(r,t)}),null,e)}),n)}function e(t,i){var n;var r=new Ln({onWillAddFirstListener:function(){n=t(r.fire,r)},onDidRemoveLastListener:function(){n==null||n.dispose()}});return i==null||i.add(r),r.event}function o(t,i,n,r,e,o,s){if(n===void 0){n=100}if(r===void 0){r=!1}if(e===void 0){e=!1}var u,a,c,h,f=0;var l=new Ln({leakWarningThreshold:o,onWillAddFirstListener:function(){u=t((function(t){f++,a=i(a,t),r&&!c&&(l.fire(a),a=void 0),h=function(){var t=a;a=void 0,c=void 0,(!r||f>1)&&l.fire(t),f=0},typeof n=="number"?(clearTimeout(c),c=setTimeout(h,n)):c===void 0&&(c=0,queueMicrotask(h))}))},onWillRemoveListener:function(){e&&f>0&&(h==null||h())},onDidRemoveLastListener:function(){h=void 0,u.dispose()}});return s==null||s.add(l),l.event}t.None=function(){return Cn.None},t.defer=function(t,i){return o(t,(function(){}),0,void 0,!0,void 0,i)},t.once=i,t.map=n,t.forEach=function(t,i,n){return e((function(n,r,e){if(r===void 0){r=null}return t((function(t){i(t),n.call(r,t)}),null,e)}),n)},t.filter=r,t.signal=function(t){return t},t.any=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return function(i,n,r){if(n===void 0){n=null}return function(t,i){return i instanceof Array?i.push(t):i&&i.add(t),t}(xn.apply(void 0,t.map((function(t){return t((function(t){return i.call(n,t)}))}))),r)}},t.reduce=function(t,i,r,e){var o=r;return n(t,(function(t){return o=i(o,t),o}),e)},t.debounce=o,t.accumulate=function(i,n,r){if(n===void 0){n=0}return t.debounce(i,(function(t,i){return t?(t.push(i),t):[i]}),n,void 0,!0,void 0,r)},t.latch=function(t,i,n){if(i===void 0){i=function(t,i){return t===i}}var e,o=!0;return r(t,(function(t){var n=o||!i(t,e);return o=!1,e=t,n}),n)},t.split=function(i,n,r){return[t.filter(i,n,r),t.filter(i,(function(t){return!n(t)}),r)]},t.buffer=function(t,i,n,r){if(i===void 0){i=!1}if(n===void 0){n=[]}var e=n.slice(),o=t((function(t){e?e.push(t):u.fire(t)}));r&&r.add(o);var s=function(){e==null||e.forEach((function(t){return u.fire(t)})),e=null},u=new Ln({onWillAddFirstListener:function(){o||(o=t((function(t){return u.fire(t)})),r&&r.add(o))},onDidAddFirstListener:function(){e&&(i?setTimeout(s):s())},onDidRemoveLastListener:function(){o&&o.dispose(),o=null}});return r&&r.add(u),u.event},t.chain=function(t,i){return function(n,r,e){var o=i(new u);return t((function(t){var i=o.evaluate(t);i!==s&&n.call(r,i)}),void 0,e)}};var s=Symbol("HaltChainable");var u=function(){function t(){this.steps=[]}t.prototype.map=function(t){return this.steps.push(t),this};t.prototype.forEach=function(t){return this.steps.push((function(i){return t(i),i})),this};t.prototype.filter=function(t){return this.steps.push((function(i){return t(i)?i:s})),this};t.prototype.reduce=function(t,i){var n=i;return this.steps.push((function(i){return n=t(n,i),n})),this};t.prototype.latch=function(t){if(t===void 0){t=function(t,i){return t===i}}var i,n=!0;return this.steps.push((function(r){var e=n||!t(r,i);return n=!1,i=r,e?r:s})),this};t.prototype.evaluate=function(t){for(var i=0,n=this.steps;i<n.length;i++){var r=n[i];if((t=r(t))===s)break}return t};return t}();t.fromNodeEventEmitter=function(t,i,n){if(n===void 0){n=function(t){return t}}var r=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return e.fire(n.apply(void 0,t))},e=new Ln({onWillAddFirstListener:function(){return t.on(i,r)},onDidRemoveLastListener:function(){return t.removeListener(i,r)}});return e.event},t.fromDOMEventEmitter=function(t,i,n){if(n===void 0){n=function(t){return t}}var r=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return e.fire(n.apply(void 0,t))},e=new Ln({onWillAddFirstListener:function(){return t.addEventListener(i,r)},onDidRemoveLastListener:function(){return t.removeEventListener(i,r)}});return e.event},t.toPromise=function(t){return new Promise((function(n){return i(t)(n)}))},t.fromPromise=function(t){var i=new Ln;return t.then((function(t){i.fire(t)}),(function(){i.fire(void 0)})).finally((function(){i.dispose()})),i.event},t.runAndSubscribe=function(t,i,n){return i(n),t((function(t){return i(t)}))};var a=function(){function t(t,i){var n=this;this._observable=t,this._counter=0,this._hasChanged=!1;var r={onWillAddFirstListener:function(){t.addObserver(n)},onDidRemoveLastListener:function(){t.removeObserver(n)}};this.emitter=new Ln(r),i&&i.add(this.emitter)}t.prototype.beginUpdate=function(t){this._counter++};t.prototype.handlePossibleChange=function(t){};t.prototype.handleChange=function(t,i){this._hasChanged=!0};t.prototype.endUpdate=function(t){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))};return t}();t.fromObservable=function(t,i){return new a(t,i).emitter.event},t.fromObservableLight=function(t){return function(i,n,r){var e=0,o=!1;var s={beginUpdate:function(){e++},endUpdate:function(){e--,e===0&&(t.reportChanges(),o&&(o=!1,i.call(n)))},handlePossibleChange:function(){},handleChange:function(){o=!0}};t.addObserver(s),t.reportChanges();var u={dispose:function(){t.removeObserver(s)}};return r instanceof Bn?r.add(u):Array.isArray(r)&&r.push(u),u}}})(Qn||(Qn={}));var On=function(){function t(i){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name="".concat(i,"_").concat(t._idPool++),t.all.add(this)}t.prototype.start=function(t){this._stopWatch=new In,this.listenerCount=t};t.prototype.stop=function(){if(this._stopWatch){var t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}};return t}();On.all=new Set,On._idPool=0;var Nn=function(){function t(t,i){if(i===void 0){i=Math.random().toString(18).slice(2,5)}this.threshold=t,this.name=i,this._warnCountdown=0}t.prototype.dispose=function(){var t;(t=this._stacks)===null||t===void 0||t.clear()};t.prototype.check=function(t,i){var n=this;var r=this.threshold;if(r<=0||i<r)return;this._stacks||(this._stacks=new Map);var e=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,e+1),this._warnCountdown-=1,this._warnCountdown<=0){var o=void 0;this._warnCountdown=.5*r;var s=0;for(var u=0,a=this._stacks;u<a.length;u++){var c=a[u],h=c[0],f=c[1];(!o||s<f)&&(o=h,s=f)}console.warn("[".concat(this.name,"] potential listener LEAK detected, having ").concat(i," listeners already. MOST frequent listener (").concat(s,"):")),console.warn(o)}return function(){var i=n._stacks.get(t.value)||0;n._stacks.set(t.value,i-1)}};return t}();var Rn=function(){function t(t){this.value=t}t.create=function(){var i;return new t((i=(new Error).stack)!==null&&i!==void 0?i:"")};t.prototype.print=function(){console.warn(this.value.split("\n").slice(2).join("\n"))};return t}();var Tn=function(){function t(t){this.value=t}return t}();var Ln=function(){function t(t){var i,n,r,e,o;this._size=0,this._options=t,this._leakageMon=!((i=this._options)===null||i===void 0)&&i.leakWarningThreshold?new Nn((r=(n=this._options)===null||n===void 0?void 0:n.leakWarningThreshold)!==null&&r!==void 0?r:-1):void 0,this._perfMon=!((e=this._options)===null||e===void 0)&&e._profName?new On(this._options._profName):void 0,this._deliveryQueue=(o=this._options)===null||o===void 0?void 0:o.deliveryQueue}t.prototype.dispose=function(){var t,i,n,r;this._disposed||(this._disposed=!0,((t=this._deliveryQueue)===null||t===void 0?void 0:t.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(n=(i=this._options)===null||i===void 0?void 0:i.onDidRemoveLastListener)===null||n===void 0||n.call(i),(r=this._leakageMon)===null||r===void 0||r.dispose())};Object.defineProperty(t.prototype,"event",{get:function(){var t=this;var i;return(i=this._event)!==null&&i!==void 0||(this._event=function(i,n,r){var e,o,s,u,a;if(t._leakageMon&&t._size>3*t._leakageMon.threshold)return console.warn("[".concat(t._leakageMon.name,"] REFUSES to accept new listeners because it exceeded its threshold by far")),Cn.None;if(t._disposed)return Cn.None;n&&(i=i.bind(n));var c=new Tn(i);var h;t._leakageMon&&t._size>=Math.ceil(.2*t._leakageMon.threshold)&&(c.stack=Rn.create(),h=t._leakageMon.check(c.stack,t._size+1)),t._listeners?t._listeners instanceof Tn?((a=t._deliveryQueue)!==null&&a!==void 0||(t._deliveryQueue=new jn),t._listeners=[t._listeners,c]):t._listeners.push(c):((o=(e=t._options)===null||e===void 0?void 0:e.onWillAddFirstListener)===null||o===void 0||o.call(e,t),t._listeners=c,(u=(s=t._options)===null||s===void 0?void 0:s.onDidAddFirstListener)===null||u===void 0||u.call(s,t)),t._size++;var f=En((function(){h==null||h(),t._removeListener(c)}));return r instanceof Bn?r.add(f):Array.isArray(r)&&r.push(f),f}),this._event},enumerable:false,configurable:true});t.prototype._removeListener=function(t){var i,n,r,e;if((n=(i=this._options)===null||i===void 0?void 0:i.onWillRemoveListener)===null||n===void 0||n.call(i,this),!this._listeners)return;if(this._size===1)return this._listeners=void 0,(e=(r=this._options)===null||r===void 0?void 0:r.onDidRemoveLastListener)===null||e===void 0||e.call(r,this),void(this._size=0);var o=this._listeners,s=o.indexOf(t);if(s===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,o[s]=void 0;var u=this._deliveryQueue.current===this;if(2*this._size<=o.length){var a=0;for(var c=0;c<o.length;c++)o[c]?o[a++]=o[c]:u&&(this._deliveryQueue.end--,a<this._deliveryQueue.i&&this._deliveryQueue.i--);o.length=a}};t.prototype._deliver=function(t,i){var n;if(!t)return;var r=((n=this._options)===null||n===void 0?void 0:n.onListenerError)||cn;if(r)try{t.value(i)}catch(t){r(t)}else t.value(i)};t.prototype._deliverQueue=function(t){var i=t.current._listeners;for(;t.i<t.end;)this._deliver(i[t.i++],t.value);t.reset()};t.prototype.fire=function(t){var i,n,r,e;if(!((i=this._deliveryQueue)===null||i===void 0)&&i.current&&(this._deliverQueue(this._deliveryQueue),(n=this._perfMon)===null||n===void 0||n.stop()),(r=this._perfMon)===null||r===void 0||r.start(this._size),this._listeners)if(this._listeners instanceof Tn)this._deliver(this._listeners,t);else{var o=this._deliveryQueue;o.enqueue(this,t,this._listeners.length),this._deliverQueue(o)}(e=this._perfMon)===null||e===void 0||e.stop()};t.prototype.hasListeners=function(){return this._size>0};return t}();var jn=function(){function t(){this.i=-1,this.end=0}t.prototype.enqueue=function(t,i,n){this.i=0,this.end=n,this.current=t,this.value=i};t.prototype.reset=function(){this.i=this.end,this.current=void 0,this.value=void 0};return t}();var zn=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._isPaused=0,n._eventQueue=new gi,n._mergeFn=i==null?void 0:i.merge;return n}i.prototype.pause=function(){this._isPaused++};i.prototype.resume=function(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){if(this._eventQueue.size>0){var i=Array.from(this._eventQueue);this._eventQueue.clear(),t.prototype.fire.call(this,this._mergeFn(i))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)t.prototype.fire.call(this,this._eventQueue.shift())};i.prototype.fire=function(i){this._size&&(this._isPaused!==0?this._eventQueue.push(i):t.prototype.fire.call(this,i))};return i}(Ln);var Un=function(t){__extends(i,t);function i(i){var n=this;var r;n=t.call(this,i)||this,n._delay=(r=i.delay)!==null&&r!==void 0?r:100;return n}i.prototype.fire=function(i){var n=this;this._handle||(this.pause(),this._handle=setTimeout((function(){n._handle=void 0,n.resume()}),this._delay)),t.prototype.fire.call(this,i)};return i}(zn);var Hn=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._queuedEvents=[],n._mergeFn=i==null?void 0:i.merge;return n}i.prototype.fire=function(i){var n=this;this.hasListeners()&&(this._queuedEvents.push(i),this._queuedEvents.length===1&&queueMicrotask((function(){n._mergeFn?t.prototype.fire.call(n,n._mergeFn(n._queuedEvents)):n._queuedEvents.forEach((function(i){return t.prototype.fire.call(n,i)})),n._queuedEvents=[]})))};return i}(Ln);var Yn=function(){function t(){var t=this;this.hasListeners=!1,this.events=[],this.emitter=new Ln({onWillAddFirstListener:function(){return t.onFirstListenerAdd()},onDidRemoveLastListener:function(){return t.onLastListenerRemove()}})}Object.defineProperty(t.prototype,"event",{get:function(){return this.emitter.event},enumerable:false,configurable:true});t.prototype.add=function(t){var i=this;var n={event:t,listener:null};return this.events.push(n),this.hasListeners&&this.hook(n),En(bn((function(){i.hasListeners&&i.unhook(n);var t=i.events.indexOf(n);i.events.splice(t,1)})))};t.prototype.onFirstListenerAdd=function(){var t=this;this.hasListeners=!0,this.events.forEach((function(i){return t.hook(i)}))};t.prototype.onLastListenerRemove=function(){var t=this;this.hasListeners=!1,this.events.forEach((function(i){return t.unhook(i)}))};t.prototype.hook=function(t){var i=this;t.listener=t.event((function(t){return i.emitter.fire(t)}))};t.prototype.unhook=function(t){var i;(i=t.listener)===null||i===void 0||i.dispose(),t.listener=null};t.prototype.dispose=function(){var t;this.emitter.dispose();for(var i=0,n=this.events;i<n.length;i++){var r=n[i];(t=r.listener)===null||t===void 0||t.dispose()}this.events=[]};return t}();var Jn=function(){function t(){this.buffers=[]}t.prototype.wrapEvent=function(t){var i=this;return function(n,r,e){return t((function(t){var e=i.buffers[i.buffers.length-1];e?e.push((function(){return n.call(r,t)})):n.call(r,t)}),void 0,e)}};t.prototype.bufferEvents=function(t){var i=[];this.buffers.push(i);var n=t();return this.buffers.pop(),i.forEach((function(t){return t()})),n};return t}();var Pn=function(){function t(){var t=this;this.listening=!1,this.inputEvent=Qn.None,this.inputEventListener=Cn.None,this.emitter=new Ln({onDidAddFirstListener:function(){t.listening=!0,t.inputEventListener=t.inputEvent(t.emitter.fire,t.emitter)},onDidRemoveLastListener:function(){t.listening=!1,t.inputEventListener.dispose()}}),this.event=this.emitter.event}Object.defineProperty(t.prototype,"input",{set:function(t){this.inputEvent=t,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=t(this.emitter.fire,this.emitter))},enumerable:false,configurable:true});t.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()};return t}();var Wn=Object.freeze((function(t,i){var n=setTimeout(t.bind(i),0);return{dispose:function(){clearTimeout(n)}}}));var Gn;(function(t){t.isCancellationToken=function(i){return i===t.None||i===t.Cancelled||i instanceof Vn||!(!i||typeof i!="object")&&typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"},t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Qn.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Wn})})(Gn||(Gn={}));var Vn=function(){function t(){this._isCancelled=!1,this._emitter=null}t.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))};Object.defineProperty(t.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?Wn:(this._emitter||(this._emitter=new Ln),this._emitter.event)},enumerable:false,configurable:true});t.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)};return t}();var Kn=function(){function t(t){this._token=void 0,this._parentListener=void 0,this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}Object.defineProperty(t.prototype,"token",{get:function(){return this._token||(this._token=new Vn),this._token},enumerable:false,configurable:true});t.prototype.cancel=function(){this._token?this._token instanceof Vn&&this._token.cancel():this._token=Gn.Cancelled};t.prototype.dispose=function(t){if(t===void 0){t=!1}var i;t&&this.cancel(),(i=this._parentListener)===null||i===void 0||i.dispose(),this._token?this._token instanceof Vn&&this._token.dispose():this._token=Gn.None};return t}();var Xn=function(){function t(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}t.prototype.define=function(t,i){this._keyCodeToStr[t]=i,this._strToKeyCode[i.toLowerCase()]=t};t.prototype.keyCodeToStr=function(t){return this._keyCodeToStr[t]};t.prototype.strToKeyCode=function(t){return this._strToKeyCode[t.toLowerCase()]||0};return t}();var qn=new Xn,Zn=new Xn,$n=new Xn,tr=new Array(230),ir=Object.create(null),nr=Object.create(null),rr=[];for(var Yt=0;Yt<=193;Yt++)rr[Yt]=-1;var er;function or(t,i){return(t|(65535&i)<<16>>>0)>>>0}var sr;(function(){var t="",i=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[1,1,"Hyper",0,t,0,t,t,t],[1,2,"Super",0,t,0,t,t,t],[1,3,"Fn",0,t,0,t,t,t],[1,4,"FnLock",0,t,0,t,t,t],[1,5,"Suspend",0,t,0,t,t,t],[1,6,"Resume",0,t,0,t,t,t],[1,7,"Turbo",0,t,0,t,t,t],[1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[1,9,"WakeUp",0,t,0,t,t,t],[0,10,"KeyA",31,"A",65,"VK_A",t,t],[0,11,"KeyB",32,"B",66,"VK_B",t,t],[0,12,"KeyC",33,"C",67,"VK_C",t,t],[0,13,"KeyD",34,"D",68,"VK_D",t,t],[0,14,"KeyE",35,"E",69,"VK_E",t,t],[0,15,"KeyF",36,"F",70,"VK_F",t,t],[0,16,"KeyG",37,"G",71,"VK_G",t,t],[0,17,"KeyH",38,"H",72,"VK_H",t,t],[0,18,"KeyI",39,"I",73,"VK_I",t,t],[0,19,"KeyJ",40,"J",74,"VK_J",t,t],[0,20,"KeyK",41,"K",75,"VK_K",t,t],[0,21,"KeyL",42,"L",76,"VK_L",t,t],[0,22,"KeyM",43,"M",77,"VK_M",t,t],[0,23,"KeyN",44,"N",78,"VK_N",t,t],[0,24,"KeyO",45,"O",79,"VK_O",t,t],[0,25,"KeyP",46,"P",80,"VK_P",t,t],[0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[0,27,"KeyR",48,"R",82,"VK_R",t,t],[0,28,"KeyS",49,"S",83,"VK_S",t,t],[0,29,"KeyT",50,"T",84,"VK_T",t,t],[0,30,"KeyU",51,"U",85,"VK_U",t,t],[0,31,"KeyV",52,"V",86,"VK_V",t,t],[0,32,"KeyW",53,"W",87,"VK_W",t,t],[0,33,"KeyX",54,"X",88,"VK_X",t,t],[0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[0,36,"Digit1",22,"1",49,"VK_1",t,t],[0,37,"Digit2",23,"2",50,"VK_2",t,t],[0,38,"Digit3",24,"3",51,"VK_3",t,t],[0,39,"Digit4",25,"4",52,"VK_4",t,t],[0,40,"Digit5",26,"5",53,"VK_5",t,t],[0,41,"Digit6",27,"6",54,"VK_6",t,t],[0,42,"Digit7",28,"7",55,"VK_7",t,t],[0,43,"Digit8",29,"8",56,"VK_8",t,t],[0,44,"Digit9",30,"9",57,"VK_9",t,t],[0,45,"Digit0",21,"0",48,"VK_0",t,t],[1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,t,0,t,t,t],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[1,64,"F1",59,"F1",112,"VK_F1",t,t],[1,65,"F2",60,"F2",113,"VK_F2",t,t],[1,66,"F3",61,"F3",114,"VK_F3",t,t],[1,67,"F4",62,"F4",115,"VK_F4",t,t],[1,68,"F5",63,"F5",116,"VK_F5",t,t],[1,69,"F6",64,"F6",117,"VK_F6",t,t],[1,70,"F7",65,"F7",118,"VK_F7",t,t],[1,71,"F8",66,"F8",119,"VK_F8",t,t],[1,72,"F9",67,"F9",120,"VK_F9",t,t],[1,73,"F10",68,"F10",121,"VK_F10",t,t],[1,74,"F11",69,"F11",122,"VK_F11",t,t],[1,75,"F12",70,"F12",123,"VK_F12",t,t],[1,76,"PrintScreen",0,t,0,t,t,t],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",t,t],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[1,80,"Home",14,"Home",36,"VK_HOME",t,t],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[1,83,"End",13,"End",35,"VK_END",t,t],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",t,t],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",t,t],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",t,t],[1,94,"NumpadEnter",3,t,0,t,t,t],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",t,t],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",t,t],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",t,t],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",t,t],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",t,t],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",t,t],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",t,t],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",t,t],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",t,t],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",t,t],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",t,t],[1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[1,108,"Power",0,t,0,t,t,t],[1,109,"NumpadEqual",0,t,0,t,t,t],[1,110,"F13",71,"F13",124,"VK_F13",t,t],[1,111,"F14",72,"F14",125,"VK_F14",t,t],[1,112,"F15",73,"F15",126,"VK_F15",t,t],[1,113,"F16",74,"F16",127,"VK_F16",t,t],[1,114,"F17",75,"F17",128,"VK_F17",t,t],[1,115,"F18",76,"F18",129,"VK_F18",t,t],[1,116,"F19",77,"F19",130,"VK_F19",t,t],[1,117,"F20",78,"F20",131,"VK_F20",t,t],[1,118,"F21",79,"F21",132,"VK_F21",t,t],[1,119,"F22",80,"F22",133,"VK_F22",t,t],[1,120,"F23",81,"F23",134,"VK_F23",t,t],[1,121,"F24",82,"F24",135,"VK_F24",t,t],[1,122,"Open",0,t,0,t,t,t],[1,123,"Help",0,t,0,t,t,t],[1,124,"Select",0,t,0,t,t,t],[1,125,"Again",0,t,0,t,t,t],[1,126,"Undo",0,t,0,t,t,t],[1,127,"Cut",0,t,0,t,t,t],[1,128,"Copy",0,t,0,t,t,t],[1,129,"Paste",0,t,0,t,t,t],[1,130,"Find",0,t,0,t,t,t],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",t,t],[1,136,"KanaMode",0,t,0,t,t,t],[0,137,"IntlYen",0,t,0,t,t,t],[1,138,"Convert",0,t,0,t,t,t],[1,139,"NonConvert",0,t,0,t,t,t],[1,140,"Lang1",0,t,0,t,t,t],[1,141,"Lang2",0,t,0,t,t,t],[1,142,"Lang3",0,t,0,t,t,t],[1,143,"Lang4",0,t,0,t,t,t],[1,144,"Lang5",0,t,0,t,t,t],[1,145,"Abort",0,t,0,t,t,t],[1,146,"Props",0,t,0,t,t,t],[1,147,"NumpadParenLeft",0,t,0,t,t,t],[1,148,"NumpadParenRight",0,t,0,t,t,t],[1,149,"NumpadBackspace",0,t,0,t,t,t],[1,150,"NumpadMemoryStore",0,t,0,t,t,t],[1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[1,152,"NumpadMemoryClear",0,t,0,t,t,t],[1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",t,t],[1,156,"NumpadClearEntry",0,t,0,t,t,t],[1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[1,0,t,6,"Alt",18,"VK_MENU",t,t],[1,0,t,57,"Meta",91,"VK_COMMAND",t,t],[1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[1,165,"BrightnessUp",0,t,0,t,t,t],[1,166,"BrightnessDown",0,t,0,t,t,t],[1,167,"MediaPlay",0,t,0,t,t,t],[1,168,"MediaRecord",0,t,0,t,t,t],[1,169,"MediaFastForward",0,t,0,t,t,t],[1,170,"MediaRewind",0,t,0,t,t,t],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",t,t],[1,174,"Eject",0,t,0,t,t,t],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[1,180,"SelectTask",0,t,0,t,t,t],[1,181,"LaunchScreenSaver",0,t,0,t,t,t],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[1,189,"ZoomToggle",0,t,0,t,t,t],[1,190,"MailReply",0,t,0,t,t,t],[1,191,"MailForward",0,t,0,t,t,t],[1,192,"MailSend",0,t,0,t,t,t],[1,0,t,114,"KeyInComposition",229,t,t,t],[1,0,t,116,"ABNT_C2",194,"VK_ABNT_C2",t,t],[1,0,t,96,"OEM_8",223,"VK_OEM_8",t,t],[1,0,t,0,t,0,"VK_KANA",t,t],[1,0,t,0,t,0,"VK_HANGUL",t,t],[1,0,t,0,t,0,"VK_JUNJA",t,t],[1,0,t,0,t,0,"VK_FINAL",t,t],[1,0,t,0,t,0,"VK_HANJA",t,t],[1,0,t,0,t,0,"VK_KANJI",t,t],[1,0,t,0,t,0,"VK_CONVERT",t,t],[1,0,t,0,t,0,"VK_NONCONVERT",t,t],[1,0,t,0,t,0,"VK_ACCEPT",t,t],[1,0,t,0,t,0,"VK_MODECHANGE",t,t],[1,0,t,0,t,0,"VK_SELECT",t,t],[1,0,t,0,t,0,"VK_PRINT",t,t],[1,0,t,0,t,0,"VK_EXECUTE",t,t],[1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[1,0,t,0,t,0,"VK_HELP",t,t],[1,0,t,0,t,0,"VK_APPS",t,t],[1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[1,0,t,0,t,0,"VK_PACKET",t,t],[1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[1,0,t,0,t,0,"VK_ATTN",t,t],[1,0,t,0,t,0,"VK_CRSEL",t,t],[1,0,t,0,t,0,"VK_EXSEL",t,t],[1,0,t,0,t,0,"VK_EREOF",t,t],[1,0,t,0,t,0,"VK_PLAY",t,t],[1,0,t,0,t,0,"VK_ZOOM",t,t],[1,0,t,0,t,0,"VK_NONAME",t,t],[1,0,t,0,t,0,"VK_PA1",t,t],[1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]],n=[],r=[];for(var e=0,o=i;e<o.length;e++){var s=o[e];var u=s[0],a=s[1],c=s[2],h=s[3],f=s[4],l=s[5],d=s[6],v=s[7],A=s[8];if(r[a]||(r[a]=!0,ir[c]=a,nr[c.toLowerCase()]=a,u&&(rr[a]=h)),!n[h]){if(n[h]=!0,!f)throw new Error("String representation missing for key code ".concat(h," around scan code ").concat(c));qn.define(h,f),Zn.define(h,v||f),$n.define(h,A||v||f)}l&&(tr[l]=h)}})(),function(t){t.toString=function(t){return qn.keyCodeToStr(t)},t.fromString=function(t){return qn.strToKeyCode(t)},t.toUserSettingsUS=function(t){return Zn.keyCodeToStr(t)},t.toUserSettingsGeneral=function(t){return $n.keyCodeToStr(t)},t.fromUserSettings=function(t){return Zn.strToKeyCode(t)||$n.strToKeyCode(t)},t.toElectronAccelerator=function(t){if(t>=98&&t<=113)return null;switch(t){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return qn.keyCodeToStr(t)}}(er||(er={}));var ur=globalThis.vscode;if(ur!==void 0&&ur.process!==void 0){var ar=ur.process;sr={get platform(){return ar.platform},get arch(){return ar.arch},get env(){return ar.env},cwd:function(){return ar.cwd()}}}else sr=typeof process<"u"?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:function(){return process.env.VSCODE_CWD||process.cwd()}}:{get platform(){return Wt?"win32":Gt?"darwin":"linux"},get arch(){},get env(){return{}},cwd:function(){return"/"}};var cr=sr.cwd,hr=sr.env,fr=sr.platform,lr=46,dr=47,vr=92,Ar=58;var gr=function(t){__extends(i,t);function i(i,n,r){var e=this;var o;typeof n=="string"&&n.indexOf("not ")===0?(o="must not be",n=n.replace(/^not /,"")):o="must be";var s=i.indexOf(".")!==-1?"property":"argument";var u='The "'.concat(i,'" ').concat(s," ").concat(o," of type ").concat(n);u+=". Received type "+typeof r,e=t.call(this,u)||this,e.code="ERR_INVALID_ARG_TYPE";return e}return i}(Error);function wr(t,i){if(typeof t!="string")throw new gr(i,"string",t)}var pr=fr==="win32";function mr(t){return t===dr||t===vr}function br(t){return t===dr}function yr(t){return t>=65&&t<=90||t>=97&&t<=122}function kr(t,i,n,r){var e="",o=0,s=-1,u=0,a=0;for(var c=0;c<=t.length;++c){if(c<t.length)a=t.charCodeAt(c);else{if(r(a))break;a=dr}if(r(a)){if(!(s===c-1||u===1))if(u===2){if(e.length<2||o!==2||e.charCodeAt(e.length-1)!==lr||e.charCodeAt(e.length-2)!==lr){if(e.length>2){var h=e.lastIndexOf(n);h===-1?(e="",o=0):(e=e.slice(0,h),o=e.length-1-e.lastIndexOf(n)),s=c,u=0;continue}if(e.length!==0){e="",o=0,s=c,u=0;continue}}i&&(e+=e.length>0?"".concat(n,".."):"..",o=2)}else e.length>0?e+="".concat(n).concat(t.slice(s+1,c)):e=t.slice(s+1,c),o=c-s-1;s=c,u=0}else a===lr&&u!==-1?++u:u=-1}return e}function xr(t,i){(function(t,i){if(t===null||typeof t!="object")throw new gr(i,"Object",t)})(i,"pathObject");var n=i.dir||i.root,r=i.base||"".concat(i.name||"").concat(i.ext||"");return n?n===i.root?"".concat(n).concat(r):"".concat(n).concat(t).concat(r):r}var Er={resolve:function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}var n="",r="",e=!1;for(var o=t.length-1;o>=-1;o--){var s=void 0;if(o>=0){if(s=t[o],wr(s,"path"),s.length===0)continue}else n.length===0?s=cr():(s=hr["=".concat(n)]||cr(),(s===void 0||s.slice(0,2).toLowerCase()!==n.toLowerCase()&&s.charCodeAt(2)===vr)&&(s="".concat(n,"\\")));var u=s.length;var a=0,c="",h=!1;var f=s.charCodeAt(0);if(u===1)mr(f)&&(a=1,h=!0);else if(mr(f))if(h=!0,mr(s.charCodeAt(1))){var l=2,d=l;for(;l<u&&!mr(s.charCodeAt(l));)l++;if(l<u&&l!==d){var v=s.slice(d,l);for(d=l;l<u&&mr(s.charCodeAt(l));)l++;if(l<u&&l!==d){for(d=l;l<u&&!mr(s.charCodeAt(l));)l++;l!==u&&l===d||(c="\\\\".concat(v,"\\").concat(s.slice(d,l)),a=l)}}}else a=1;else yr(f)&&s.charCodeAt(1)===Ar&&(c=s.slice(0,2),a=2,u>2&&mr(s.charCodeAt(2))&&(h=!0,a=3));if(c.length>0)if(n.length>0){if(c.toLowerCase()!==n.toLowerCase())continue}else n=c;if(e){if(n.length>0)break}else if(r="".concat(s.slice(a),"\\").concat(r),e=h,h&&n.length>0)break}return r=kr(r,!e,"\\",mr),e?"".concat(n,"\\").concat(r):"".concat(n).concat(r)||"."},normalize:function(t){wr(t,"path");var i=t.length;if(i===0)return".";var n,r=0,e=!1;var o=t.charCodeAt(0);if(i===1)return br(o)?"\\":t;if(mr(o))if(e=!0,mr(t.charCodeAt(1))){var s=2,u=s;for(;s<i&&!mr(t.charCodeAt(s));)s++;if(s<i&&s!==u){var a=t.slice(u,s);for(u=s;s<i&&mr(t.charCodeAt(s));)s++;if(s<i&&s!==u){for(u=s;s<i&&!mr(t.charCodeAt(s));)s++;if(s===i)return"\\\\".concat(a,"\\").concat(t.slice(u),"\\");s!==u&&(n="\\\\".concat(a,"\\").concat(t.slice(u,s)),r=s)}}}else r=1;else yr(o)&&t.charCodeAt(1)===Ar&&(n=t.slice(0,2),r=2,i>2&&mr(t.charCodeAt(2))&&(e=!0,r=3));var c=r<i?kr(t.slice(r),!e,"\\",mr):"";return c.length!==0||e||(c="."),c.length>0&&mr(t.charCodeAt(i-1))&&(c+="\\"),n===void 0?e?"\\".concat(c):c:e?"".concat(n,"\\").concat(c):"".concat(n).concat(c)},isAbsolute:function(t){wr(t,"path");var i=t.length;if(i===0)return!1;var n=t.charCodeAt(0);return mr(n)||i>2&&yr(n)&&t.charCodeAt(1)===Ar&&mr(t.charCodeAt(2))},join:function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}if(t.length===0)return".";var n,r;for(var e=0;e<t.length;++e){var o=t[e];wr(o,"path"),o.length>0&&(n===void 0?n=r=o:n+="\\".concat(o))}if(n===void 0)return".";var s=!0,u=0;if(typeof r=="string"&&mr(r.charCodeAt(0))){++u;var e=r.length;e>1&&mr(r.charCodeAt(1))&&(++u,e>2&&(mr(r.charCodeAt(2))?++u:s=!1))}if(s){for(;u<n.length&&mr(n.charCodeAt(u));)u++;u>=2&&(n="\\".concat(n.slice(u)))}return Er.normalize(n)},relative:function(t,i){if(wr(t,"from"),wr(i,"to"),t===i)return"";var n=Er.resolve(t),r=Er.resolve(i);if(n===r||(t=n.toLowerCase())===(i=r.toLowerCase()))return"";var e=0;for(;e<t.length&&t.charCodeAt(e)===vr;)e++;var o=t.length;for(;o-1>e&&t.charCodeAt(o-1)===vr;)o--;var s=o-e;var u=0;for(;u<i.length&&i.charCodeAt(u)===vr;)u++;var a=i.length;for(;a-1>u&&i.charCodeAt(a-1)===vr;)a--;var c=a-u,h=s<c?s:c;var f=-1,l=0;for(;l<h;l++){var d=t.charCodeAt(e+l);if(d!==i.charCodeAt(u+l))break;d===vr&&(f=l)}if(l!==h){if(f===-1)return r}else{if(c>h){if(i.charCodeAt(u+l)===vr)return r.slice(u+l+1);if(l===2)return r.slice(u+l)}s>h&&(t.charCodeAt(e+l)===vr?f=l:l===2&&(f=3)),f===-1&&(f=0)}var v="";for(l=e+f+1;l<=o;++l)l!==o&&t.charCodeAt(l)!==vr||(v+=v.length===0?"..":"\\..");return u+=f,v.length>0?"".concat(v).concat(r.slice(u,a)):(r.charCodeAt(u)===vr&&++u,r.slice(u,a))},toNamespacedPath:function(t){if(typeof t!="string"||t.length===0)return t;var i=Er.resolve(t);if(i.length<=2)return t;if(i.charCodeAt(0)===vr){if(i.charCodeAt(1)===vr){var n=i.charCodeAt(2);if(n!==63&&n!==lr)return"\\\\?\\UNC\\".concat(i.slice(2))}}else if(yr(i.charCodeAt(0))&&i.charCodeAt(1)===Ar&&i.charCodeAt(2)===vr)return"\\\\?\\".concat(i);return t},dirname:function(t){wr(t,"path");var i=t.length;if(i===0)return".";var n=-1,r=0;var e=t.charCodeAt(0);if(i===1)return mr(e)?t:".";if(mr(e)){if(n=r=1,mr(t.charCodeAt(1))){var o=2,s=o;for(;o<i&&!mr(t.charCodeAt(o));)o++;if(o<i&&o!==s){for(s=o;o<i&&mr(t.charCodeAt(o));)o++;if(o<i&&o!==s){for(s=o;o<i&&!mr(t.charCodeAt(o));)o++;if(o===i)return t;o!==s&&(n=r=o+1)}}}}else yr(e)&&t.charCodeAt(1)===Ar&&(n=i>2&&mr(t.charCodeAt(2))?3:2,r=n);var u=-1,a=!0;for(var o=i-1;o>=r;--o)if(mr(t.charCodeAt(o))){if(!a){u=o;break}}else a=!1;if(u===-1){if(n===-1)return".";u=n}return t.slice(0,u)},basename:function(t,i){i!==void 0&&wr(i,"ext"),wr(t,"path");var n,r=0,e=-1,o=!0;if(t.length>=2&&yr(t.charCodeAt(0))&&t.charCodeAt(1)===Ar&&(r=2),i!==void 0&&i.length>0&&i.length<=t.length){if(i===t)return"";var s=i.length-1,u=-1;for(n=t.length-1;n>=r;--n){var a=t.charCodeAt(n);if(mr(a)){if(!o){r=n+1;break}}else u===-1&&(o=!1,u=n+1),s>=0&&(a===i.charCodeAt(s)?--s==-1&&(e=n):(s=-1,e=u))}return r===e?e=u:e===-1&&(e=t.length),t.slice(r,e)}for(n=t.length-1;n>=r;--n)if(mr(t.charCodeAt(n))){if(!o){r=n+1;break}}else e===-1&&(o=!1,e=n+1);return e===-1?"":t.slice(r,e)},extname:function(t){wr(t,"path");var i=0,n=-1,r=0,e=-1,o=!0,s=0;t.length>=2&&t.charCodeAt(1)===Ar&&yr(t.charCodeAt(0))&&(i=r=2);for(var u=t.length-1;u>=i;--u){var a=t.charCodeAt(u);if(mr(a)){if(!o){r=u+1;break}}else e===-1&&(o=!1,e=u+1),a===lr?n===-1?n=u:s!==1&&(s=1):n!==-1&&(s=-1)}return n===-1||e===-1||s===0||s===1&&n===e-1&&n===r+1?"":t.slice(n,e)},format:xr.bind(null,"\\"),parse:function(t){wr(t,"path");var i={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return i;var n=t.length;var r=0,e=t.charCodeAt(0);if(n===1)return mr(e)?(i.root=i.dir=t,i):(i.base=i.name=t,i);if(mr(e)){if(r=1,mr(t.charCodeAt(1))){var o=2,s=o;for(;o<n&&!mr(t.charCodeAt(o));)o++;if(o<n&&o!==s){for(s=o;o<n&&mr(t.charCodeAt(o));)o++;if(o<n&&o!==s){for(s=o;o<n&&!mr(t.charCodeAt(o));)o++;o===n?r=o:o!==s&&(r=o+1)}}}}else if(yr(e)&&t.charCodeAt(1)===Ar){if(n<=2)return i.root=i.dir=t,i;if(r=2,mr(t.charCodeAt(2))){if(n===3)return i.root=i.dir=t,i;r=3}}r>0&&(i.root=t.slice(0,r));var u=-1,a=r,c=-1,h=!0,f=t.length-1,l=0;for(;f>=r;--f)if(e=t.charCodeAt(f),mr(e)){if(!h){a=f+1;break}}else c===-1&&(h=!1,c=f+1),e===lr?u===-1?u=f:l!==1&&(l=1):u!==-1&&(l=-1);return c!==-1&&(u===-1||l===0||l===1&&u===c-1&&u===a+1?i.base=i.name=t.slice(a,c):(i.name=t.slice(a,u),i.base=t.slice(a,c),i.ext=t.slice(u,c))),i.dir=a>0&&a!==r?t.slice(0,a-1):i.root,i},sep:"\\",delimiter:";",win32:null,posix:null},Br=function(){if(pr){var t=/\\/g;return function(){var i=cr().replace(t,"/");return i.slice(i.indexOf("/"))}}return function(){return cr()}}(),Cr={resolve:function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}var n="",r=!1;for(var e=t.length-1;e>=-1&&!r;e--){var o=e>=0?t[e]:Br();wr(o,"path"),o.length!==0&&(n="".concat(o,"/").concat(n),r=o.charCodeAt(0)===dr)}return n=kr(n,!r,"/",br),r?"/".concat(n):n.length>0?n:"."},normalize:function(t){if(wr(t,"path"),t.length===0)return".";var i=t.charCodeAt(0)===dr,n=t.charCodeAt(t.length-1)===dr;return(t=kr(t,!i,"/",br)).length===0?i?"/":n?"./":".":(n&&(t+="/"),i?"/".concat(t):t)},isAbsolute:function(t){return wr(t,"path"),t.length>0&&t.charCodeAt(0)===dr},join:function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}if(t.length===0)return".";var n;for(var r=0;r<t.length;++r){var e=t[r];wr(e,"path"),e.length>0&&(n===void 0?n=e:n+="/".concat(e))}return n===void 0?".":Cr.normalize(n)},relative:function(t,i){if(wr(t,"from"),wr(i,"to"),t===i||(t=Cr.resolve(t))===(i=Cr.resolve(i)))return"";var n=t.length,r=n-1,e=i.length-1,o=r<e?r:e;var s=-1,u=0;for(;u<o;u++){var a=t.charCodeAt(1+u);if(a!==i.charCodeAt(1+u))break;a===dr&&(s=u)}if(u===o)if(e>o){if(i.charCodeAt(1+u)===dr)return i.slice(1+u+1);if(u===0)return i.slice(1+u)}else r>o&&(t.charCodeAt(1+u)===dr?s=u:u===0&&(s=0));var c="";for(u=1+s+1;u<=n;++u)u!==n&&t.charCodeAt(u)!==dr||(c+=c.length===0?"..":"/..");return"".concat(c).concat(i.slice(1+s))},toNamespacedPath:function(t){return t},dirname:function(t){if(wr(t,"path"),t.length===0)return".";var i=t.charCodeAt(0)===dr;var n=-1,r=!0;for(var e=t.length-1;e>=1;--e)if(t.charCodeAt(e)===dr){if(!r){n=e;break}}else r=!1;return n===-1?i?"/":".":i&&n===1?"//":t.slice(0,n)},basename:function(t,i){i!==void 0&&wr(i,"ext"),wr(t,"path");var n,r=0,e=-1,o=!0;if(i!==void 0&&i.length>0&&i.length<=t.length){if(i===t)return"";var s=i.length-1,u=-1;for(n=t.length-1;n>=0;--n){var a=t.charCodeAt(n);if(a===dr){if(!o){r=n+1;break}}else u===-1&&(o=!1,u=n+1),s>=0&&(a===i.charCodeAt(s)?--s==-1&&(e=n):(s=-1,e=u))}return r===e?e=u:e===-1&&(e=t.length),t.slice(r,e)}for(n=t.length-1;n>=0;--n)if(t.charCodeAt(n)===dr){if(!o){r=n+1;break}}else e===-1&&(o=!1,e=n+1);return e===-1?"":t.slice(r,e)},extname:function(t){wr(t,"path");var i=-1,n=0,r=-1,e=!0,o=0;for(var s=t.length-1;s>=0;--s){var u=t.charCodeAt(s);if(u!==dr)r===-1&&(e=!1,r=s+1),u===lr?i===-1?i=s:o!==1&&(o=1):i!==-1&&(o=-1);else if(!e){n=s+1;break}}return i===-1||r===-1||o===0||o===1&&i===r-1&&i===n+1?"":t.slice(i,r)},format:xr.bind(null,"/"),parse:function(t){wr(t,"path");var i={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return i;var n=t.charCodeAt(0)===dr;var r;n?(i.root="/",r=1):r=0;var e=-1,o=0,s=-1,u=!0,a=t.length-1,c=0;for(;a>=r;--a){var h=t.charCodeAt(a);if(h!==dr)s===-1&&(u=!1,s=a+1),h===lr?e===-1?e=a:c!==1&&(c=1):e!==-1&&(c=-1);else if(!u){o=a+1;break}}if(s!==-1){var f=o===0&&n?1:o;e===-1||c===0||c===1&&e===s-1&&e===o+1?i.base=i.name=t.slice(f,s):(i.name=t.slice(f,e),i.base=t.slice(f,s),i.ext=t.slice(e,s))}return o>0?i.dir=t.slice(0,o-1):n&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};Cr.win32=Er.win32=Er,Cr.posix=Er.posix=Cr;var Dr=pr?Er.normalize:Cr.normalize,Mr=pr?Er.resolve:Cr.resolve,_r=pr?Er.relative:Cr.relative,Fr=pr?Er.dirname:Cr.dirname,Sr=pr?Er.basename:Cr.basename,Ir=pr?Er.extname:Cr.extname,Qr=pr?Er.sep:Cr.sep,Or=/^\w[\w\d+.-]*$/,Nr=/^\//,Rr=/^\/\//,Tr="",Lr="/",jr=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;var zr=function(){function t(t,i,n,r,e,o){if(o===void 0){o=!1}typeof t=="object"?(this.scheme=t.scheme||Tr,this.authority=t.authority||Tr,this.path=t.path||Tr,this.query=t.query||Tr,this.fragment=t.fragment||Tr):(this.scheme=function(t,i){return t||i?t:"file"}(t,o),this.authority=i||Tr,this.path=function(t,i){switch(t){case"https":case"http":case"file":i?i[0]!==Lr&&(i=Lr+i):i=Lr}return i}(this.scheme,n||Tr),this.query=r||Tr,this.fragment=e||Tr,function(t,i){if(!t.scheme&&i)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(t.authority,'", path: "').concat(t.path,'", query: "').concat(t.query,'", fragment: "').concat(t.fragment,'"}'));if(t.scheme&&!Or.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!Nr.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Rr.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,o))}t.isUri=function(i){return i instanceof t||!!i&&typeof i.authority=="string"&&typeof i.fragment=="string"&&typeof i.path=="string"&&typeof i.query=="string"&&typeof i.scheme=="string"&&typeof i.fsPath=="string"&&typeof i.with=="function"&&typeof i.toString=="function"};Object.defineProperty(t.prototype,"fsPath",{get:function(){return Wr(this,!1)},enumerable:false,configurable:true});t.prototype.with=function(t){if(!t)return this;var i=t.scheme,n=t.authority,r=t.path,e=t.query,o=t.fragment;return i===void 0?i=this.scheme:i===null&&(i=Tr),n===void 0?n=this.authority:n===null&&(n=Tr),r===void 0?r=this.path:r===null&&(r=Tr),e===void 0?e=this.query:e===null&&(e=Tr),o===void 0?o=this.fragment:o===null&&(o=Tr),i===this.scheme&&n===this.authority&&r===this.path&&e===this.query&&o===this.fragment?this:new Hr(i,n,r,e,o)};t.parse=function(t,i){if(i===void 0){i=!1}var n=jr.exec(t);return n?new Hr(n[2]||Tr,Xr(n[4]||Tr),Xr(n[5]||Tr),Xr(n[7]||Tr),Xr(n[9]||Tr),i):new Hr(Tr,Tr,Tr,Tr,Tr)};t.file=function(t){var i=Tr;if(Wt&&(t=t.replace(/\\/g,Lr)),t[0]===Lr&&t[1]===Lr){var n=t.indexOf(Lr,2);n===-1?(i=t.substring(2),t=Lr):(i=t.substring(2,n),t=t.substring(n)||Lr)}return new Hr("file",i,t,Tr,Tr)};t.from=function(t,i){return new Hr(t.scheme,t.authority,t.path,t.query,t.fragment,i)};t.joinPath=function(i){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}if(!i.path)throw new Error("[UriError]: cannot call joinPath on URI without path");var e;return e=Wt&&i.scheme==="file"?t.file(Er.join.apply(Er,__spreadArray([Wr(i,!0)],n,false))).path:Cr.join.apply(Cr,__spreadArray([i.path],n,false)),i.with({path:e})};t.prototype.toString=function(t){if(t===void 0){t=!1}return Gr(this,t)};t.prototype.toJSON=function(){return this};t.revive=function(i){var n,r;if(i){if(i instanceof t)return i;{var e=new Hr(i);return e._formatted=(n=i.external)!==null&&n!==void 0?n:null,e._fsPath=i._sep===Ur&&(r=i.fsPath)!==null&&r!==void 0?r:null,e}}return i};return t}();var Ur=Wt?1:void 0;var Hr=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._formatted=null,i._fsPath=null;return i}Object.defineProperty(i.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=Wr(this,!1)),this._fsPath},enumerable:false,configurable:true});i.prototype.toString=function(t){if(t===void 0){t=!1}return t?Gr(this,!0):(this._formatted||(this._formatted=Gr(this,!1)),this._formatted)};i.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=Ur),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t};return i}(zr);var Yr={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Jr(t,i,n){var r,e=-1;for(var o=0;o<t.length;o++){var s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||i&&s===47||n&&s===91||n&&s===93||n&&s===58)e!==-1&&(r+=encodeURIComponent(t.substring(e,o)),e=-1),r!==void 0&&(r+=t.charAt(o));else{r===void 0&&(r=t.substr(0,o));var u=Yr[s];u!==void 0?(e!==-1&&(r+=encodeURIComponent(t.substring(e,o)),e=-1),r+=u):e===-1&&(e=o)}}return e!==-1&&(r+=encodeURIComponent(t.substring(e))),r!==void 0?r:t}function Pr(t){var i;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);r===35||r===63?(i===void 0&&(i=t.substr(0,n)),i+=Yr[r]):i!==void 0&&(i+=t[n])}return i!==void 0?i:t}function Wr(t,i){var n;return n=t.authority&&t.path.length>1&&t.scheme==="file"?"//".concat(t.authority).concat(t.path):t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?i?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,Wt&&(n=n.replace(/\//g,"\\")),n}function Gr(t,i){var n=i?Pr:Jr;var r="",e=t.scheme,o=t.authority,s=t.path,u=t.query,a=t.fragment;if(e&&(r+=e,r+=":"),(o||e==="file")&&(r+=Lr,r+=Lr),o){var c=o.indexOf("@");if(c!==-1){var h=o.substr(0,c);o=o.substr(c+1),c=h.lastIndexOf(":"),c===-1?r+=n(h,!1,!1):(r+=n(h.substr(0,c),!1,!1),r+=":",r+=n(h.substr(c+1),!1,!0)),r+="@"}o=o.toLowerCase(),c=o.lastIndexOf(":"),c===-1?r+=n(o,!1,!0):(r+=n(o.substr(0,c),!1,!0),r+=o.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){var c=s.charCodeAt(1);c>=65&&c<=90&&(s="/".concat(String.fromCharCode(c+32),":").concat(s.substr(3)))}else if(s.length>=2&&s.charCodeAt(1)===58){var c=s.charCodeAt(0);c>=65&&c<=90&&(s="".concat(String.fromCharCode(c+32),":").concat(s.substr(2)))}r+=n(s,!0,!1)}return u&&(r+="?",r+=n(u,!1,!1)),a&&(r+="#",r+=i?a:Jr(a,!1,!1)),r}function Vr(t){try{return decodeURIComponent(t)}catch(i){return t.length>3?t.substr(0,3)+Vr(t.substr(3)):t}}var Kr=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Xr(t){return t.match(Kr)?t.replace(Kr,(function(t){return Vr(t)})):t}var qr=function(){function t(t,i){this.lineNumber=t,this.column=i}t.prototype.with=function(i,n){if(i===void 0){i=this.lineNumber}if(n===void 0){n=this.column}return i===this.lineNumber&&n===this.column?this:new t(i,n)};t.prototype.delta=function(t,i){if(t===void 0){t=0}if(i===void 0){i=0}return this.with(this.lineNumber+t,this.column+i)};t.prototype.equals=function(i){return t.equals(this,i)};t.equals=function(t,i){return!t&&!i||!!t&&!!i&&t.lineNumber===i.lineNumber&&t.column===i.column};t.prototype.isBefore=function(i){return t.isBefore(this,i)};t.isBefore=function(t,i){return t.lineNumber<i.lineNumber||!(i.lineNumber<t.lineNumber)&&t.column<i.column};t.prototype.isBeforeOrEqual=function(i){return t.isBeforeOrEqual(this,i)};t.isBeforeOrEqual=function(t,i){return t.lineNumber<i.lineNumber||!(i.lineNumber<t.lineNumber)&&t.column<=i.column};t.compare=function(t,i){var n=0|t.lineNumber,r=0|i.lineNumber;return n===r?(0|t.column)-(0|i.column):n-r};t.prototype.clone=function(){return new t(this.lineNumber,this.column)};t.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"};t.lift=function(i){return new t(i.lineNumber,i.column)};t.isIPosition=function(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"};t.prototype.toJSON=function(){return{lineNumber:this.lineNumber,column:this.column}};return t}(),Zr=function(){function t(t,i,n,r){t>n||t===n&&i>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=t,this.endColumn=i):(this.startLineNumber=t,this.startColumn=i,this.endLineNumber=n,this.endColumn=r)}t.prototype.isEmpty=function(){return t.isEmpty(this)};t.isEmpty=function(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn};t.prototype.containsPosition=function(i){return t.containsPosition(this,i)};t.containsPosition=function(t,i){return!(i.lineNumber<t.startLineNumber||i.lineNumber>t.endLineNumber)&&!(i.lineNumber===t.startLineNumber&&i.column<t.startColumn)&&!(i.lineNumber===t.endLineNumber&&i.column>t.endColumn)};t.strictContainsPosition=function(t,i){return!(i.lineNumber<t.startLineNumber||i.lineNumber>t.endLineNumber)&&!(i.lineNumber===t.startLineNumber&&i.column<=t.startColumn)&&!(i.lineNumber===t.endLineNumber&&i.column>=t.endColumn)};t.prototype.containsRange=function(i){return t.containsRange(this,i)};t.containsRange=function(t,i){return!(i.startLineNumber<t.startLineNumber||i.endLineNumber<t.startLineNumber)&&!(i.startLineNumber>t.endLineNumber||i.endLineNumber>t.endLineNumber)&&!(i.startLineNumber===t.startLineNumber&&i.startColumn<t.startColumn)&&!(i.endLineNumber===t.endLineNumber&&i.endColumn>t.endColumn)};t.prototype.strictContainsRange=function(i){return t.strictContainsRange(this,i)};t.strictContainsRange=function(t,i){return!(i.startLineNumber<t.startLineNumber||i.endLineNumber<t.startLineNumber)&&!(i.startLineNumber>t.endLineNumber||i.endLineNumber>t.endLineNumber)&&!(i.startLineNumber===t.startLineNumber&&i.startColumn<=t.startColumn)&&!(i.endLineNumber===t.endLineNumber&&i.endColumn>=t.endColumn)};t.prototype.plusRange=function(i){return t.plusRange(this,i)};t.plusRange=function(i,n){var r,e,o,s;return n.startLineNumber<i.startLineNumber?(r=n.startLineNumber,e=n.startColumn):n.startLineNumber===i.startLineNumber?(r=n.startLineNumber,e=Math.min(n.startColumn,i.startColumn)):(r=i.startLineNumber,e=i.startColumn),n.endLineNumber>i.endLineNumber?(o=n.endLineNumber,s=n.endColumn):n.endLineNumber===i.endLineNumber?(o=n.endLineNumber,s=Math.max(n.endColumn,i.endColumn)):(o=i.endLineNumber,s=i.endColumn),new t(r,e,o,s)};t.prototype.intersectRanges=function(i){return t.intersectRanges(this,i)};t.intersectRanges=function(i,n){var r=i.startLineNumber,e=i.startColumn,o=i.endLineNumber,s=i.endColumn;var u=n.startLineNumber,a=n.startColumn,c=n.endLineNumber,h=n.endColumn;return r<u?(r=u,e=a):r===u&&(e=Math.max(e,a)),o>c?(o=c,s=h):o===c&&(s=Math.min(s,h)),r>o||r===o&&e>s?null:new t(r,e,o,s)};t.prototype.equalsRange=function(i){return t.equalsRange(this,i)};t.equalsRange=function(t,i){return!t&&!i||!!t&&!!i&&t.startLineNumber===i.startLineNumber&&t.startColumn===i.startColumn&&t.endLineNumber===i.endLineNumber&&t.endColumn===i.endColumn};t.prototype.getEndPosition=function(){return t.getEndPosition(this)};t.getEndPosition=function(t){return new qr(t.endLineNumber,t.endColumn)};t.prototype.getStartPosition=function(){return t.getStartPosition(this)};t.getStartPosition=function(t){return new qr(t.startLineNumber,t.startColumn)};t.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"};t.prototype.setEndPosition=function(i,n){return new t(this.startLineNumber,this.startColumn,i,n)};t.prototype.setStartPosition=function(i,n){return new t(i,n,this.endLineNumber,this.endColumn)};t.prototype.collapseToStart=function(){return t.collapseToStart(this)};t.collapseToStart=function(i){return new t(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)};t.prototype.collapseToEnd=function(){return t.collapseToEnd(this)};t.collapseToEnd=function(i){return new t(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)};t.prototype.delta=function(i){return new t(this.startLineNumber+i,this.startColumn,this.endLineNumber+i,this.endColumn)};t.fromPositions=function(i,n){if(n===void 0){n=i}return new t(i.lineNumber,i.column,n.lineNumber,n.column)};t.lift=function(i){return i?new t(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):null};t.isIRange=function(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"};t.areIntersectingOrTouching=function(t,i){return!(t.endLineNumber<i.startLineNumber||t.endLineNumber===i.startLineNumber&&t.endColumn<i.startColumn)&&!(i.endLineNumber<t.startLineNumber||i.endLineNumber===t.startLineNumber&&i.endColumn<t.startColumn)};t.areIntersecting=function(t,i){return!(t.endLineNumber<i.startLineNumber||t.endLineNumber===i.startLineNumber&&t.endColumn<=i.startColumn)&&!(i.endLineNumber<t.startLineNumber||i.endLineNumber===t.startLineNumber&&i.endColumn<=t.startColumn)};t.compareRangesUsingStarts=function(t,i){if(t&&i){var n=0|t.startLineNumber,r=0|i.startLineNumber;if(n===r){var e=0|t.startColumn,o=0|i.startColumn;if(e===o){var s=0|t.endLineNumber,u=0|i.endLineNumber;return s===u?(0|t.endColumn)-(0|i.endColumn):s-u}return e-o}return n-r}return(t?1:0)-(i?1:0)};t.compareRangesUsingEnds=function(t,i){return t.endLineNumber===i.endLineNumber?t.endColumn===i.endColumn?t.startLineNumber===i.startLineNumber?t.startColumn-i.startColumn:t.startLineNumber-i.startLineNumber:t.endColumn-i.endColumn:t.endLineNumber-i.endLineNumber};t.spansMultipleLines=function(t){return t.endLineNumber>t.startLineNumber};t.prototype.toJSON=function(){return this};return t}(),$r=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,n,r,e)||this,o.selectionStartLineNumber=i,o.selectionStartColumn=n,o.positionLineNumber=r,o.positionColumn=e;return o}i.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"};i.prototype.equalsSelection=function(t){return i.selectionsEqual(this,t)};i.selectionsEqual=function(t,i){return t.selectionStartLineNumber===i.selectionStartLineNumber&&t.selectionStartColumn===i.selectionStartColumn&&t.positionLineNumber===i.positionLineNumber&&t.positionColumn===i.positionColumn};i.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1};i.prototype.setEndPosition=function(t,n){return this.getDirection()===0?new i(this.startLineNumber,this.startColumn,t,n):new i(t,n,this.startLineNumber,this.startColumn)};i.prototype.getPosition=function(){return new qr(this.positionLineNumber,this.positionColumn)};i.prototype.getSelectionStart=function(){return new qr(this.selectionStartLineNumber,this.selectionStartColumn)};i.prototype.setStartPosition=function(t,n){return this.getDirection()===0?new i(t,n,this.endLineNumber,this.endColumn):new i(this.endLineNumber,this.endColumn,t,n)};i.fromPositions=function(t,n){if(n===void 0){n=t}return new i(t.lineNumber,t.column,n.lineNumber,n.column)};i.fromRange=function(t,n){return n===0?new i(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new i(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)};i.liftSelection=function(t){return new i(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)};i.selectionsArrEqual=function(t,i){if(t&&!i||!t&&i)return!1;if(!t&&!i)return!0;if(t.length!==i.length)return!1;for(var n=0,r=t.length;n<r;n++)if(!this.selectionsEqual(t[n],i[n]))return!1;return!0};i.isISelection=function(t){return t&&typeof t.selectionStartLineNumber=="number"&&typeof t.selectionStartColumn=="number"&&typeof t.positionLineNumber=="number"&&typeof t.positionColumn=="number"};i.createWithDirection=function(t,n,r,e,o){return o===0?new i(t,n,r,e):new i(r,e,t,n)};return i}(Zr);var te=Object.create(null);function ie(t,i){if(rt(i)){var n=te[i];if(n===void 0)throw new Error("".concat(t," references an unknown codicon: ").concat(i));i=n}return te[t]=i,{id:t}}function ne(){return te}var re={add:ie("add",6e4),plus:ie("plus",6e4),gistNew:ie("gist-new",6e4),repoCreate:ie("repo-create",6e4),lightbulb:ie("lightbulb",60001),lightBulb:ie("light-bulb",60001),repo:ie("repo",60002),repoDelete:ie("repo-delete",60002),gistFork:ie("gist-fork",60003),repoForked:ie("repo-forked",60003),gitPullRequest:ie("git-pull-request",60004),gitPullRequestAbandoned:ie("git-pull-request-abandoned",60004),recordKeys:ie("record-keys",60005),keyboard:ie("keyboard",60005),tag:ie("tag",60006),gitPullRequestLabel:ie("git-pull-request-label",60006),tagAdd:ie("tag-add",60006),tagRemove:ie("tag-remove",60006),person:ie("person",60007),personFollow:ie("person-follow",60007),personOutline:ie("person-outline",60007),personFilled:ie("person-filled",60007),gitBranch:ie("git-branch",60008),gitBranchCreate:ie("git-branch-create",60008),gitBranchDelete:ie("git-branch-delete",60008),sourceControl:ie("source-control",60008),mirror:ie("mirror",60009),mirrorPublic:ie("mirror-public",60009),star:ie("star",60010),starAdd:ie("star-add",60010),starDelete:ie("star-delete",60010),starEmpty:ie("star-empty",60010),comment:ie("comment",60011),commentAdd:ie("comment-add",60011),alert:ie("alert",60012),warning:ie("warning",60012),search:ie("search",60013),searchSave:ie("search-save",60013),logOut:ie("log-out",60014),signOut:ie("sign-out",60014),logIn:ie("log-in",60015),signIn:ie("sign-in",60015),eye:ie("eye",60016),eyeUnwatch:ie("eye-unwatch",60016),eyeWatch:ie("eye-watch",60016),circleFilled:ie("circle-filled",60017),primitiveDot:ie("primitive-dot",60017),closeDirty:ie("close-dirty",60017),debugBreakpoint:ie("debug-breakpoint",60017),debugBreakpointDisabled:ie("debug-breakpoint-disabled",60017),debugHint:ie("debug-hint",60017),terminalDecorationSuccess:ie("terminal-decoration-success",60017),primitiveSquare:ie("primitive-square",60018),edit:ie("edit",60019),pencil:ie("pencil",60019),info:ie("info",60020),issueOpened:ie("issue-opened",60020),gistPrivate:ie("gist-private",60021),gitForkPrivate:ie("git-fork-private",60021),lock:ie("lock",60021),mirrorPrivate:ie("mirror-private",60021),close:ie("close",60022),removeClose:ie("remove-close",60022),x:ie("x",60022),repoSync:ie("repo-sync",60023),sync:ie("sync",60023),clone:ie("clone",60024),desktopDownload:ie("desktop-download",60024),beaker:ie("beaker",60025),microscope:ie("microscope",60025),vm:ie("vm",60026),deviceDesktop:ie("device-desktop",60026),file:ie("file",60027),fileText:ie("file-text",60027),more:ie("more",60028),ellipsis:ie("ellipsis",60028),kebabHorizontal:ie("kebab-horizontal",60028),mailReply:ie("mail-reply",60029),reply:ie("reply",60029),organization:ie("organization",60030),organizationFilled:ie("organization-filled",60030),organizationOutline:ie("organization-outline",60030),newFile:ie("new-file",60031),fileAdd:ie("file-add",60031),newFolder:ie("new-folder",60032),fileDirectoryCreate:ie("file-directory-create",60032),trash:ie("trash",60033),trashcan:ie("trashcan",60033),history:ie("history",60034),clock:ie("clock",60034),folder:ie("folder",60035),fileDirectory:ie("file-directory",60035),symbolFolder:ie("symbol-folder",60035),logoGithub:ie("logo-github",60036),markGithub:ie("mark-github",60036),github:ie("github",60036),terminal:ie("terminal",60037),console:ie("console",60037),repl:ie("repl",60037),zap:ie("zap",60038),symbolEvent:ie("symbol-event",60038),error:ie("error",60039),stop:ie("stop",60039),variable:ie("variable",60040),symbolVariable:ie("symbol-variable",60040),array:ie("array",60042),symbolArray:ie("symbol-array",60042),symbolModule:ie("symbol-module",60043),symbolPackage:ie("symbol-package",60043),symbolNamespace:ie("symbol-namespace",60043),symbolObject:ie("symbol-object",60043),symbolMethod:ie("symbol-method",60044),symbolFunction:ie("symbol-function",60044),symbolConstructor:ie("symbol-constructor",60044),symbolBoolean:ie("symbol-boolean",60047),symbolNull:ie("symbol-null",60047),symbolNumeric:ie("symbol-numeric",60048),symbolNumber:ie("symbol-number",60048),symbolStructure:ie("symbol-structure",60049),symbolStruct:ie("symbol-struct",60049),symbolParameter:ie("symbol-parameter",60050),symbolTypeParameter:ie("symbol-type-parameter",60050),symbolKey:ie("symbol-key",60051),symbolText:ie("symbol-text",60051),symbolReference:ie("symbol-reference",60052),goToFile:ie("go-to-file",60052),symbolEnum:ie("symbol-enum",60053),symbolValue:ie("symbol-value",60053),symbolRuler:ie("symbol-ruler",60054),symbolUnit:ie("symbol-unit",60054),activateBreakpoints:ie("activate-breakpoints",60055),archive:ie("archive",60056),arrowBoth:ie("arrow-both",60057),arrowDown:ie("arrow-down",60058),arrowLeft:ie("arrow-left",60059),arrowRight:ie("arrow-right",60060),arrowSmallDown:ie("arrow-small-down",60061),arrowSmallLeft:ie("arrow-small-left",60062),arrowSmallRight:ie("arrow-small-right",60063),arrowSmallUp:ie("arrow-small-up",60064),arrowUp:ie("arrow-up",60065),bell:ie("bell",60066),bold:ie("bold",60067),book:ie("book",60068),bookmark:ie("bookmark",60069),debugBreakpointConditionalUnverified:ie("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:ie("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:ie("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:ie("debug-breakpoint-data-unverified",60072),debugBreakpointData:ie("debug-breakpoint-data",60073),debugBreakpointDataDisabled:ie("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:ie("debug-breakpoint-log-unverified",60074),debugBreakpointLog:ie("debug-breakpoint-log",60075),debugBreakpointLogDisabled:ie("debug-breakpoint-log-disabled",60075),briefcase:ie("briefcase",60076),broadcast:ie("broadcast",60077),browser:ie("browser",60078),bug:ie("bug",60079),calendar:ie("calendar",60080),caseSensitive:ie("case-sensitive",60081),check:ie("check",60082),checklist:ie("checklist",60083),chevronDown:ie("chevron-down",60084),chevronLeft:ie("chevron-left",60085),chevronRight:ie("chevron-right",60086),chevronUp:ie("chevron-up",60087),chromeClose:ie("chrome-close",60088),chromeMaximize:ie("chrome-maximize",60089),chromeMinimize:ie("chrome-minimize",60090),chromeRestore:ie("chrome-restore",60091),circleOutline:ie("circle-outline",60092),circle:ie("circle",60092),debugBreakpointUnverified:ie("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:ie("terminal-decoration-incomplete",60092),circleSlash:ie("circle-slash",60093),circuitBoard:ie("circuit-board",60094),clearAll:ie("clear-all",60095),clippy:ie("clippy",60096),closeAll:ie("close-all",60097),cloudDownload:ie("cloud-download",60098),cloudUpload:ie("cloud-upload",60099),code:ie("code",60100),collapseAll:ie("collapse-all",60101),colorMode:ie("color-mode",60102),commentDiscussion:ie("comment-discussion",60103),creditCard:ie("credit-card",60105),dash:ie("dash",60108),dashboard:ie("dashboard",60109),database:ie("database",60110),debugContinue:ie("debug-continue",60111),debugDisconnect:ie("debug-disconnect",60112),debugPause:ie("debug-pause",60113),debugRestart:ie("debug-restart",60114),debugStart:ie("debug-start",60115),debugStepInto:ie("debug-step-into",60116),debugStepOut:ie("debug-step-out",60117),debugStepOver:ie("debug-step-over",60118),debugStop:ie("debug-stop",60119),debug:ie("debug",60120),deviceCameraVideo:ie("device-camera-video",60121),deviceCamera:ie("device-camera",60122),deviceMobile:ie("device-mobile",60123),diffAdded:ie("diff-added",60124),diffIgnored:ie("diff-ignored",60125),diffModified:ie("diff-modified",60126),diffRemoved:ie("diff-removed",60127),diffRenamed:ie("diff-renamed",60128),diff:ie("diff",60129),diffSidebyside:ie("diff-sidebyside",60129),discard:ie("discard",60130),editorLayout:ie("editor-layout",60131),emptyWindow:ie("empty-window",60132),exclude:ie("exclude",60133),extensions:ie("extensions",60134),eyeClosed:ie("eye-closed",60135),fileBinary:ie("file-binary",60136),fileCode:ie("file-code",60137),fileMedia:ie("file-media",60138),filePdf:ie("file-pdf",60139),fileSubmodule:ie("file-submodule",60140),fileSymlinkDirectory:ie("file-symlink-directory",60141),fileSymlinkFile:ie("file-symlink-file",60142),fileZip:ie("file-zip",60143),files:ie("files",60144),filter:ie("filter",60145),flame:ie("flame",60146),foldDown:ie("fold-down",60147),foldUp:ie("fold-up",60148),fold:ie("fold",60149),folderActive:ie("folder-active",60150),folderOpened:ie("folder-opened",60151),gear:ie("gear",60152),gift:ie("gift",60153),gistSecret:ie("gist-secret",60154),gist:ie("gist",60155),gitCommit:ie("git-commit",60156),gitCompare:ie("git-compare",60157),compareChanges:ie("compare-changes",60157),gitMerge:ie("git-merge",60158),githubAction:ie("github-action",60159),githubAlt:ie("github-alt",60160),globe:ie("globe",60161),grabber:ie("grabber",60162),graph:ie("graph",60163),gripper:ie("gripper",60164),heart:ie("heart",60165),home:ie("home",60166),horizontalRule:ie("horizontal-rule",60167),hubot:ie("hubot",60168),inbox:ie("inbox",60169),issueReopened:ie("issue-reopened",60171),issues:ie("issues",60172),italic:ie("italic",60173),jersey:ie("jersey",60174),json:ie("json",60175),kebabVertical:ie("kebab-vertical",60176),key:ie("key",60177),law:ie("law",60178),lightbulbAutofix:ie("lightbulb-autofix",60179),linkExternal:ie("link-external",60180),link:ie("link",60181),listOrdered:ie("list-ordered",60182),listUnordered:ie("list-unordered",60183),liveShare:ie("live-share",60184),loading:ie("loading",60185),location:ie("location",60186),mailRead:ie("mail-read",60187),mail:ie("mail",60188),markdown:ie("markdown",60189),megaphone:ie("megaphone",60190),mention:ie("mention",60191),milestone:ie("milestone",60192),gitPullRequestMilestone:ie("git-pull-request-milestone",60192),mortarBoard:ie("mortar-board",60193),move:ie("move",60194),multipleWindows:ie("multiple-windows",60195),mute:ie("mute",60196),noNewline:ie("no-newline",60197),note:ie("note",60198),octoface:ie("octoface",60199),openPreview:ie("open-preview",60200),package:ie("package",60201),paintcan:ie("paintcan",60202),pin:ie("pin",60203),play:ie("play",60204),run:ie("run",60204),plug:ie("plug",60205),preserveCase:ie("preserve-case",60206),preview:ie("preview",60207),project:ie("project",60208),pulse:ie("pulse",60209),question:ie("question",60210),quote:ie("quote",60211),radioTower:ie("radio-tower",60212),reactions:ie("reactions",60213),references:ie("references",60214),refresh:ie("refresh",60215),regex:ie("regex",60216),remoteExplorer:ie("remote-explorer",60217),remote:ie("remote",60218),remove:ie("remove",60219),replaceAll:ie("replace-all",60220),replace:ie("replace",60221),repoClone:ie("repo-clone",60222),repoForcePush:ie("repo-force-push",60223),repoPull:ie("repo-pull",60224),repoPush:ie("repo-push",60225),report:ie("report",60226),requestChanges:ie("request-changes",60227),rocket:ie("rocket",60228),rootFolderOpened:ie("root-folder-opened",60229),rootFolder:ie("root-folder",60230),rss:ie("rss",60231),ruby:ie("ruby",60232),saveAll:ie("save-all",60233),saveAs:ie("save-as",60234),save:ie("save",60235),screenFull:ie("screen-full",60236),screenNormal:ie("screen-normal",60237),searchStop:ie("search-stop",60238),server:ie("server",60240),settingsGear:ie("settings-gear",60241),settings:ie("settings",60242),shield:ie("shield",60243),smiley:ie("smiley",60244),sortPrecedence:ie("sort-precedence",60245),splitHorizontal:ie("split-horizontal",60246),splitVertical:ie("split-vertical",60247),squirrel:ie("squirrel",60248),starFull:ie("star-full",60249),starHalf:ie("star-half",60250),symbolClass:ie("symbol-class",60251),symbolColor:ie("symbol-color",60252),symbolConstant:ie("symbol-constant",60253),symbolEnumMember:ie("symbol-enum-member",60254),symbolField:ie("symbol-field",60255),symbolFile:ie("symbol-file",60256),symbolInterface:ie("symbol-interface",60257),symbolKeyword:ie("symbol-keyword",60258),symbolMisc:ie("symbol-misc",60259),symbolOperator:ie("symbol-operator",60260),symbolProperty:ie("symbol-property",60261),wrench:ie("wrench",60261),wrenchSubaction:ie("wrench-subaction",60261),symbolSnippet:ie("symbol-snippet",60262),tasklist:ie("tasklist",60263),telescope:ie("telescope",60264),textSize:ie("text-size",60265),threeBars:ie("three-bars",60266),thumbsdown:ie("thumbsdown",60267),thumbsup:ie("thumbsup",60268),tools:ie("tools",60269),triangleDown:ie("triangle-down",60270),triangleLeft:ie("triangle-left",60271),triangleRight:ie("triangle-right",60272),triangleUp:ie("triangle-up",60273),twitter:ie("twitter",60274),unfold:ie("unfold",60275),unlock:ie("unlock",60276),unmute:ie("unmute",60277),unverified:ie("unverified",60278),verified:ie("verified",60279),versions:ie("versions",60280),vmActive:ie("vm-active",60281),vmOutline:ie("vm-outline",60282),vmRunning:ie("vm-running",60283),watch:ie("watch",60284),whitespace:ie("whitespace",60285),wholeWord:ie("whole-word",60286),window:ie("window",60287),wordWrap:ie("word-wrap",60288),zoomIn:ie("zoom-in",60289),zoomOut:ie("zoom-out",60290),listFilter:ie("list-filter",60291),listFlat:ie("list-flat",60292),listSelection:ie("list-selection",60293),selection:ie("selection",60293),listTree:ie("list-tree",60294),debugBreakpointFunctionUnverified:ie("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:ie("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:ie("debug-breakpoint-function-disabled",60296),debugStackframeActive:ie("debug-stackframe-active",60297),circleSmallFilled:ie("circle-small-filled",60298),debugStackframeDot:ie("debug-stackframe-dot",60298),terminalDecorationMark:ie("terminal-decoration-mark",60298),debugStackframe:ie("debug-stackframe",60299),debugStackframeFocused:ie("debug-stackframe-focused",60299),debugBreakpointUnsupported:ie("debug-breakpoint-unsupported",60300),symbolString:ie("symbol-string",60301),debugReverseContinue:ie("debug-reverse-continue",60302),debugStepBack:ie("debug-step-back",60303),debugRestartFrame:ie("debug-restart-frame",60304),debugAlt:ie("debug-alt",60305),callIncoming:ie("call-incoming",60306),callOutgoing:ie("call-outgoing",60307),menu:ie("menu",60308),expandAll:ie("expand-all",60309),feedback:ie("feedback",60310),gitPullRequestReviewer:ie("git-pull-request-reviewer",60310),groupByRefType:ie("group-by-ref-type",60311),ungroupByRefType:ie("ungroup-by-ref-type",60312),account:ie("account",60313),gitPullRequestAssignee:ie("git-pull-request-assignee",60313),bellDot:ie("bell-dot",60314),debugConsole:ie("debug-console",60315),library:ie("library",60316),output:ie("output",60317),runAll:ie("run-all",60318),syncIgnored:ie("sync-ignored",60319),pinned:ie("pinned",60320),githubInverted:ie("github-inverted",60321),serverProcess:ie("server-process",60322),serverEnvironment:ie("server-environment",60323),pass:ie("pass",60324),issueClosed:ie("issue-closed",60324),stopCircle:ie("stop-circle",60325),playCircle:ie("play-circle",60326),record:ie("record",60327),debugAltSmall:ie("debug-alt-small",60328),vmConnect:ie("vm-connect",60329),cloud:ie("cloud",60330),merge:ie("merge",60331),export:ie("export",60332),graphLeft:ie("graph-left",60333),magnet:ie("magnet",60334),notebook:ie("notebook",60335),redo:ie("redo",60336),checkAll:ie("check-all",60337),pinnedDirty:ie("pinned-dirty",60338),passFilled:ie("pass-filled",60339),circleLargeFilled:ie("circle-large-filled",60340),circleLarge:ie("circle-large",60341),circleLargeOutline:ie("circle-large-outline",60341),combine:ie("combine",60342),gather:ie("gather",60342),table:ie("table",60343),variableGroup:ie("variable-group",60344),typeHierarchy:ie("type-hierarchy",60345),typeHierarchySub:ie("type-hierarchy-sub",60346),typeHierarchySuper:ie("type-hierarchy-super",60347),gitPullRequestCreate:ie("git-pull-request-create",60348),runAbove:ie("run-above",60349),runBelow:ie("run-below",60350),notebookTemplate:ie("notebook-template",60351),debugRerun:ie("debug-rerun",60352),workspaceTrusted:ie("workspace-trusted",60353),workspaceUntrusted:ie("workspace-untrusted",60354),workspaceUnknown:ie("workspace-unknown",60355),terminalCmd:ie("terminal-cmd",60356),terminalDebian:ie("terminal-debian",60357),terminalLinux:ie("terminal-linux",60358),terminalPowershell:ie("terminal-powershell",60359),terminalTmux:ie("terminal-tmux",60360),terminalUbuntu:ie("terminal-ubuntu",60361),terminalBash:ie("terminal-bash",60362),arrowSwap:ie("arrow-swap",60363),copy:ie("copy",60364),personAdd:ie("person-add",60365),filterFilled:ie("filter-filled",60366),wand:ie("wand",60367),debugLineByLine:ie("debug-line-by-line",60368),inspect:ie("inspect",60369),layers:ie("layers",60370),layersDot:ie("layers-dot",60371),layersActive:ie("layers-active",60372),compass:ie("compass",60373),compassDot:ie("compass-dot",60374),compassActive:ie("compass-active",60375),azure:ie("azure",60376),issueDraft:ie("issue-draft",60377),gitPullRequestClosed:ie("git-pull-request-closed",60378),gitPullRequestDraft:ie("git-pull-request-draft",60379),debugAll:ie("debug-all",60380),debugCoverage:ie("debug-coverage",60381),runErrors:ie("run-errors",60382),folderLibrary:ie("folder-library",60383),debugContinueSmall:ie("debug-continue-small",60384),beakerStop:ie("beaker-stop",60385),graphLine:ie("graph-line",60386),graphScatter:ie("graph-scatter",60387),pieChart:ie("pie-chart",60388),bracket:ie("bracket",60175),bracketDot:ie("bracket-dot",60389),bracketError:ie("bracket-error",60390),lockSmall:ie("lock-small",60391),azureDevops:ie("azure-devops",60392),verifiedFilled:ie("verified-filled",60393),newline:ie("newline",60394),layout:ie("layout",60395),layoutActivitybarLeft:ie("layout-activitybar-left",60396),layoutActivitybarRight:ie("layout-activitybar-right",60397),layoutPanelLeft:ie("layout-panel-left",60398),layoutPanelCenter:ie("layout-panel-center",60399),layoutPanelJustify:ie("layout-panel-justify",60400),layoutPanelRight:ie("layout-panel-right",60401),layoutPanel:ie("layout-panel",60402),layoutSidebarLeft:ie("layout-sidebar-left",60403),layoutSidebarRight:ie("layout-sidebar-right",60404),layoutStatusbar:ie("layout-statusbar",60405),layoutMenubar:ie("layout-menubar",60406),layoutCentered:ie("layout-centered",60407),target:ie("target",60408),indent:ie("indent",60409),recordSmall:ie("record-small",60410),errorSmall:ie("error-small",60411),terminalDecorationError:ie("terminal-decoration-error",60411),arrowCircleDown:ie("arrow-circle-down",60412),arrowCircleLeft:ie("arrow-circle-left",60413),arrowCircleRight:ie("arrow-circle-right",60414),arrowCircleUp:ie("arrow-circle-up",60415),layoutSidebarRightOff:ie("layout-sidebar-right-off",60416),layoutPanelOff:ie("layout-panel-off",60417),layoutSidebarLeftOff:ie("layout-sidebar-left-off",60418),blank:ie("blank",60419),heartFilled:ie("heart-filled",60420),map:ie("map",60421),mapHorizontal:ie("map-horizontal",60421),foldHorizontal:ie("fold-horizontal",60421),mapFilled:ie("map-filled",60422),mapHorizontalFilled:ie("map-horizontal-filled",60422),foldHorizontalFilled:ie("fold-horizontal-filled",60422),circleSmall:ie("circle-small",60423),bellSlash:ie("bell-slash",60424),bellSlashDot:ie("bell-slash-dot",60425),commentUnresolved:ie("comment-unresolved",60426),gitPullRequestGoToChanges:ie("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:ie("git-pull-request-new-changes",60428),searchFuzzy:ie("search-fuzzy",60429),commentDraft:ie("comment-draft",60430),send:ie("send",60431),sparkle:ie("sparkle",60432),insert:ie("insert",60433),mic:ie("mic",60434),thumbsdownFilled:ie("thumbsdown-filled",60435),thumbsupFilled:ie("thumbsup-filled",60436),coffee:ie("coffee",60437),snake:ie("snake",60438),game:ie("game",60439),vr:ie("vr",60440),chip:ie("chip",60441),piano:ie("piano",60442),music:ie("music",60443),micFilled:ie("mic-filled",60444),repoFetch:ie("repo-fetch",60445),copilot:ie("copilot",60446),lightbulbSparkle:ie("lightbulb-sparkle",60447),robot:ie("robot",60448),sparkleFilled:ie("sparkle-filled",60449),diffSingle:ie("diff-single",60450),diffMultiple:ie("diff-multiple",60451),surroundWith:ie("surround-with",60452),share:ie("share",60453),gitStash:ie("git-stash",60454),gitStashApply:ie("git-stash-apply",60455),gitStashPop:ie("git-stash-pop",60456),vscode:ie("vscode",60457),vscodeInsiders:ie("vscode-insiders",60458),codeOss:ie("code-oss",60459),runCoverage:ie("run-coverage",60460),runAllCoverage:ie("run-all-coverage",60461),coverage:ie("coverage",60462),githubProject:ie("github-project",60463),mapVertical:ie("map-vertical",60464),foldVertical:ie("fold-vertical",60464),mapVerticalFilled:ie("map-vertical-filled",60465),foldVerticalFilled:ie("fold-vertical-filled",60465),dialogError:ie("dialog-error","error"),dialogWarning:ie("dialog-warning","warning"),dialogInfo:ie("dialog-info","info"),dialogClose:ie("dialog-close","close"),treeItemExpanded:ie("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:ie("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:ie("tree-filter-on-type-off","list-selection"),treeFilterClear:ie("tree-filter-clear","close"),treeItemLoading:ie("tree-item-loading","loading"),menuSelection:ie("menu-selection","check"),menuSubmenu:ie("menu-submenu","chevron-right"),menuBarMore:ie("menubar-more","more"),scrollbarButtonLeft:ie("scrollbar-button-left","triangle-left"),scrollbarButtonRight:ie("scrollbar-button-right","triangle-right"),scrollbarButtonUp:ie("scrollbar-button-up","triangle-up"),scrollbarButtonDown:ie("scrollbar-button-down","triangle-down"),toolBarMore:ie("toolbar-more","more"),quickInputBack:ie("quick-input-back","arrow-left"),dropDownButton:ie("drop-down-button",60084),symbolCustomColor:ie("symbol-customcolor",60252),exportIcon:ie("export",60332),workspaceUnspecified:ie("workspace-unspecified",60355),newLine:ie("newline",60394),thumbsDownFilled:ie("thumbsdown-filled",60435),thumbsUpFilled:ie("thumbsup-filled",60436),gitFetch:ie("git-fetch",60445),lightbulbSparkleAutofix:ie("lightbulb-sparkle-autofix",60447),debugBreakpointPending:ie("debug-breakpoint-pending",60377)};var ee=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._registry=i,e._languageId=n,e._factory=r,e._isDisposed=!1,e._resolvePromise=null,e._isResolved=!1;return e}Object.defineProperty(i.prototype,"isResolved",{get:function(){return this._isResolved},enumerable:false,configurable:true});i.prototype.dispose=function(){this._isDisposed=!0,t.prototype.dispose.call(this)};i.prototype.resolve=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,(this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise)]}))}))};i.prototype._create=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,this._factory.tokenizationSupport];case 1:t=i.sent();this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t));return[2]}}))}))};return i}(Cn);var oe=function(){function t(t,i,n){this.offset=t,this.type=i,this.language=n,this._tokenBrand=void 0}t.prototype.toString=function(){return"("+this.offset+", "+this.type+")"};return t}();var se=function(){function t(t,i){this.tokens=t,this.endState=i,this._tokenizationResultBrand=void 0}return t}();var ue=function(){function t(t,i){this.tokens=t,this.endState=i,this._encodedTokenizationResultBrand=void 0}return t}();var ae,ce,he,fe,le;(function(t){var i=new Map;i.set(0,re.symbolMethod),i.set(1,re.symbolFunction),i.set(2,re.symbolConstructor),i.set(3,re.symbolField),i.set(4,re.symbolVariable),i.set(5,re.symbolClass),i.set(6,re.symbolStruct),i.set(7,re.symbolInterface),i.set(8,re.symbolModule),i.set(9,re.symbolProperty),i.set(10,re.symbolEvent),i.set(11,re.symbolOperator),i.set(12,re.symbolUnit),i.set(13,re.symbolValue),i.set(15,re.symbolEnum),i.set(14,re.symbolConstant),i.set(15,re.symbolEnum),i.set(16,re.symbolEnumMember),i.set(17,re.symbolKeyword),i.set(27,re.symbolSnippet),i.set(18,re.symbolText),i.set(19,re.symbolColor),i.set(20,re.symbolFile),i.set(21,re.symbolReference),i.set(22,re.symbolCustomColor),i.set(23,re.symbolFolder),i.set(24,re.symbolTypeParameter),i.set(25,re.account),i.set(26,re.issues),t.toIcon=function(t){var n=i.get(t);return n||(console.info("No codicon found for CompletionItemKind "+t),n=re.symbolProperty),n};var n=new Map;n.set("method",0),n.set("function",1),n.set("constructor",2),n.set("field",3),n.set("variable",4),n.set("class",5),n.set("struct",6),n.set("interface",7),n.set("module",8),n.set("property",9),n.set("event",10),n.set("operator",11),n.set("unit",12),n.set("value",13),n.set("constant",14),n.set("enum",15),n.set("enum-member",16),n.set("enumMember",16),n.set("keyword",17),n.set("snippet",27),n.set("text",18),n.set("color",19),n.set("file",20),n.set("reference",21),n.set("customcolor",22),n.set("folder",23),n.set("type-parameter",24),n.set("typeParameter",24),n.set("account",25),n.set("issue",26),t.fromString=function(t,i){var r=n.get(t);return r!==void 0||i||(r=9),r}})(ae||(ae={})),function(t){t[t.Automatic=0]="Automatic",t[t.Explicit=1]="Explicit"}(ce||(ce={}));var de=function(){function t(t,i,n,r){this.range=t,this.text=i,this.completionKind=n,this.isSnippetText=r}t.prototype.equals=function(t){return Zr.lift(this.range).equalsRange(t.range)&&this.text===t.text&&this.completionKind===t.completionKind&&this.isSnippetText===t.isSnippetText};return t}();(function(t){t[t.Automatic=0]="Automatic",t[t.PasteAs=1]="PasteAs"})(he||(he={})),function(t){t[t.Invoke=1]="Invoke",t[t.TriggerCharacter=2]="TriggerCharacter",t[t.ContentChange=3]="ContentChange"}(fe||(fe={})),function(t){t[t.Text=0]="Text",t[t.Read=1]="Read",t[t.Write=2]="Write"}(le||(le={}));var ve={17:Bt(0,"array"),16:Bt(0,"boolean"),4:Bt(0,"class"),13:Bt(0,"constant"),8:Bt(0,"constructor"),9:Bt(0,"enumeration"),21:Bt(0,"enumeration member"),23:Bt(0,"event"),7:Bt(0,"field"),0:Bt(0,"file"),11:Bt(0,"function"),10:Bt(0,"interface"),19:Bt(0,"key"),5:Bt(0,"method"),1:Bt(0,"module"),2:Bt(0,"namespace"),20:Bt(0,"null"),15:Bt(0,"number"),18:Bt(0,"object"),24:Bt(0,"operator"),3:Bt(0,"package"),6:Bt(0,"property"),14:Bt(0,"string"),22:Bt(0,"struct"),25:Bt(0,"type parameter"),12:Bt(0,"variable")};var Ae,ge,we,pe;(function(t){var i=new Map;i.set(0,re.symbolFile),i.set(1,re.symbolModule),i.set(2,re.symbolNamespace),i.set(3,re.symbolPackage),i.set(4,re.symbolClass),i.set(5,re.symbolMethod),i.set(6,re.symbolProperty),i.set(7,re.symbolField),i.set(8,re.symbolConstructor),i.set(9,re.symbolEnum),i.set(10,re.symbolInterface),i.set(11,re.symbolFunction),i.set(12,re.symbolVariable),i.set(13,re.symbolConstant),i.set(14,re.symbolString),i.set(15,re.symbolNumber),i.set(16,re.symbolBoolean),i.set(17,re.symbolArray),i.set(18,re.symbolObject),i.set(19,re.symbolKey),i.set(20,re.symbolNull),i.set(21,re.symbolEnumMember),i.set(22,re.symbolStruct),i.set(23,re.symbolEvent),i.set(24,re.symbolOperator),i.set(25,re.symbolTypeParameter),t.toIcon=function(t){var n=i.get(t);return n||(console.info("No codicon found for SymbolKind "+t),n=re.symbolProperty),n}})(Ae||(Ae={}));var me=function(){function t(t){this.value=t}t.fromValue=function(i){switch(i){case"comment":return t.Comment;case"imports":return t.Imports;case"region":return t.Region}return new t(i)};return t}();me.Comment=new me("comment"),me.Imports=new me("imports"),me.Region=new me("region"),function(t){t[t.AIGenerated=1]="AIGenerated"}(ge||(ge={})),(we||(we={})).is=function(t){return!(!t||typeof t!="object")&&typeof t.id=="string"&&typeof t.title=="string"},function(t){t[t.Type=1]="Type",t[t.Parameter=2]="Parameter"}(pe||(pe={}));var be=function(){function t(t){this.createSupport=t,this._tokenizationSupport=null}t.prototype.dispose=function(){this._tokenizationSupport&&this._tokenizationSupport.then((function(t){t&&t.dispose()}))};Object.defineProperty(t.prototype,"tokenizationSupport",{get:function(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport},enumerable:false,configurable:true});return t}();var ye=new(function(){function t(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this._colorMap=null}t.prototype.handleChange=function(t){this._onDidChange.fire({changedLanguages:t,changedColorMap:!1})};t.prototype.register=function(t,i){var n=this;return this._tokenizationSupports.set(t,i),this.handleChange([t]),En((function(){n._tokenizationSupports.get(t)===i&&(n._tokenizationSupports.delete(t),n.handleChange([t]))}))};t.prototype.get=function(t){return this._tokenizationSupports.get(t)||null};t.prototype.registerFactory=function(t,i){var n=this;var r;(r=this._factories.get(t))===null||r===void 0||r.dispose();var e=new ee(this,t,i);return this._factories.set(t,e),En((function(){var i=n._factories.get(t);i&&i===e&&(n._factories.delete(t),i.dispose())}))};t.prototype.getOrCreate=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r;return __generator(this,(function(e){switch(e.label){case 0:i=this.get(t);if(i)return[2,i];n=this._factories.get(t);if(!(!n||n.isResolved))return[3,1];r=null;return[3,3];case 1:return[4,n.resolve()];case 2:r=(e.sent(),this.get(t));e.label=3;case 3:return[2,r]}}))}))};t.prototype.isResolved=function(t){if(this.get(t))return!0;var i=this._factories.get(t);return!(i&&!i.isResolved)};t.prototype.setColorMap=function(t){this._colorMap=t,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})};t.prototype.getColorMap=function(){return this._colorMap};t.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null};return t}());var ke,xe,Ee,Be,Ce,De,Me,_e,Fe,Se,Ie,Qe,Oe,Ne,Re,Te,Le,je,ze,Ue,He,Ye,Je,Pe,We,Ge,Ve,Ke,Xe,qe,Ze,$e,to,io,no,ro,eo,oo,so,uo,ao,co,ho,fo,lo;(function(t){t[t.Invoke=0]="Invoke",t[t.Automatic=1]="Automatic"})(ke||(ke={})),function(t){t[t.Unknown=0]="Unknown",t[t.Disabled=1]="Disabled",t[t.Enabled=2]="Enabled"}(xe||(xe={})),function(t){t[t.Invoke=1]="Invoke",t[t.Auto=2]="Auto"}(Ee||(Ee={})),function(t){t[t.None=0]="None",t[t.KeepWhitespace=1]="KeepWhitespace",t[t.InsertAsSnippet=4]="InsertAsSnippet"}(Be||(Be={})),function(t){t[t.Method=0]="Method",t[t.Function=1]="Function",t[t.Constructor=2]="Constructor",t[t.Field=3]="Field",t[t.Variable=4]="Variable",t[t.Class=5]="Class",t[t.Struct=6]="Struct",t[t.Interface=7]="Interface",t[t.Module=8]="Module",t[t.Property=9]="Property",t[t.Event=10]="Event",t[t.Operator=11]="Operator",t[t.Unit=12]="Unit",t[t.Value=13]="Value",t[t.Constant=14]="Constant",t[t.Enum=15]="Enum",t[t.EnumMember=16]="EnumMember",t[t.Keyword=17]="Keyword",t[t.Text=18]="Text",t[t.Color=19]="Color",t[t.File=20]="File",t[t.Reference=21]="Reference",t[t.Customcolor=22]="Customcolor",t[t.Folder=23]="Folder",t[t.TypeParameter=24]="TypeParameter",t[t.User=25]="User",t[t.Issue=26]="Issue",t[t.Snippet=27]="Snippet"}(Ce||(Ce={})),function(t){t[t.Deprecated=1]="Deprecated"}(De||(De={})),function(t){t[t.Invoke=0]="Invoke",t[t.TriggerCharacter=1]="TriggerCharacter",t[t.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(Me||(Me={})),function(t){t[t.EXACT=0]="EXACT",t[t.ABOVE=1]="ABOVE",t[t.BELOW=2]="BELOW"}(_e||(_e={})),function(t){t[t.NotSet=0]="NotSet",t[t.ContentFlush=1]="ContentFlush",t[t.RecoverFromMarkers=2]="RecoverFromMarkers",t[t.Explicit=3]="Explicit",t[t.Paste=4]="Paste",t[t.Undo=5]="Undo",t[t.Redo=6]="Redo"}(Fe||(Fe={})),function(t){t[t.LF=1]="LF",t[t.CRLF=2]="CRLF"}(Se||(Se={})),function(t){t[t.Text=0]="Text",t[t.Read=1]="Read",t[t.Write=2]="Write"}(Ie||(Ie={})),function(t){t[t.None=0]="None",t[t.Keep=1]="Keep",t[t.Brackets=2]="Brackets",t[t.Advanced=3]="Advanced",t[t.Full=4]="Full"}(Qe||(Qe={})),function(t){t[t.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",t[t.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",t[t.accessibilitySupport=2]="accessibilitySupport",t[t.accessibilityPageSize=3]="accessibilityPageSize",t[t.ariaLabel=4]="ariaLabel",t[t.ariaRequired=5]="ariaRequired",t[t.autoClosingBrackets=6]="autoClosingBrackets",t[t.autoClosingComments=7]="autoClosingComments",t[t.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",t[t.autoClosingDelete=9]="autoClosingDelete",t[t.autoClosingOvertype=10]="autoClosingOvertype",t[t.autoClosingQuotes=11]="autoClosingQuotes",t[t.autoIndent=12]="autoIndent",t[t.automaticLayout=13]="automaticLayout",t[t.autoSurround=14]="autoSurround",t[t.bracketPairColorization=15]="bracketPairColorization",t[t.guides=16]="guides",t[t.codeLens=17]="codeLens",t[t.codeLensFontFamily=18]="codeLensFontFamily",t[t.codeLensFontSize=19]="codeLensFontSize",t[t.colorDecorators=20]="colorDecorators",t[t.colorDecoratorsLimit=21]="colorDecoratorsLimit",t[t.columnSelection=22]="columnSelection",t[t.comments=23]="comments",t[t.contextmenu=24]="contextmenu",t[t.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",t[t.cursorBlinking=26]="cursorBlinking",t[t.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",t[t.cursorStyle=28]="cursorStyle",t[t.cursorSurroundingLines=29]="cursorSurroundingLines",t[t.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",t[t.cursorWidth=31]="cursorWidth",t[t.disableLayerHinting=32]="disableLayerHinting",t[t.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",t[t.domReadOnly=34]="domReadOnly",t[t.dragAndDrop=35]="dragAndDrop",t[t.dropIntoEditor=36]="dropIntoEditor",t[t.emptySelectionClipboard=37]="emptySelectionClipboard",t[t.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",t[t.extraEditorClassName=39]="extraEditorClassName",t[t.fastScrollSensitivity=40]="fastScrollSensitivity",t[t.find=41]="find",t[t.fixedOverflowWidgets=42]="fixedOverflowWidgets",t[t.folding=43]="folding",t[t.foldingStrategy=44]="foldingStrategy",t[t.foldingHighlight=45]="foldingHighlight",t[t.foldingImportsByDefault=46]="foldingImportsByDefault",t[t.foldingMaximumRegions=47]="foldingMaximumRegions",t[t.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",t[t.fontFamily=49]="fontFamily",t[t.fontInfo=50]="fontInfo",t[t.fontLigatures=51]="fontLigatures",t[t.fontSize=52]="fontSize",t[t.fontWeight=53]="fontWeight",t[t.fontVariations=54]="fontVariations",t[t.formatOnPaste=55]="formatOnPaste",t[t.formatOnType=56]="formatOnType",t[t.glyphMargin=57]="glyphMargin",t[t.gotoLocation=58]="gotoLocation",t[t.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",t[t.hover=60]="hover",t[t.inDiffEditor=61]="inDiffEditor",t[t.inlineSuggest=62]="inlineSuggest",t[t.inlineEdit=63]="inlineEdit",t[t.letterSpacing=64]="letterSpacing",t[t.lightbulb=65]="lightbulb",t[t.lineDecorationsWidth=66]="lineDecorationsWidth",t[t.lineHeight=67]="lineHeight",t[t.lineNumbers=68]="lineNumbers",t[t.lineNumbersMinChars=69]="lineNumbersMinChars",t[t.linkedEditing=70]="linkedEditing",t[t.links=71]="links",t[t.matchBrackets=72]="matchBrackets",t[t.minimap=73]="minimap",t[t.mouseStyle=74]="mouseStyle",t[t.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",t[t.mouseWheelZoom=76]="mouseWheelZoom",t[t.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",t[t.multiCursorModifier=78]="multiCursorModifier",t[t.multiCursorPaste=79]="multiCursorPaste",t[t.multiCursorLimit=80]="multiCursorLimit",t[t.occurrencesHighlight=81]="occurrencesHighlight",t[t.overviewRulerBorder=82]="overviewRulerBorder",t[t.overviewRulerLanes=83]="overviewRulerLanes",t[t.padding=84]="padding",t[t.pasteAs=85]="pasteAs",t[t.parameterHints=86]="parameterHints",t[t.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",t[t.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",t[t.quickSuggestions=89]="quickSuggestions",t[t.quickSuggestionsDelay=90]="quickSuggestionsDelay",t[t.readOnly=91]="readOnly",t[t.readOnlyMessage=92]="readOnlyMessage",t[t.renameOnType=93]="renameOnType",t[t.renderControlCharacters=94]="renderControlCharacters",t[t.renderFinalNewline=95]="renderFinalNewline",t[t.renderLineHighlight=96]="renderLineHighlight",t[t.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",t[t.renderValidationDecorations=98]="renderValidationDecorations",t[t.renderWhitespace=99]="renderWhitespace",t[t.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",t[t.roundedSelection=101]="roundedSelection",t[t.rulers=102]="rulers",t[t.scrollbar=103]="scrollbar",t[t.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",t[t.scrollBeyondLastLine=105]="scrollBeyondLastLine",t[t.scrollPredominantAxis=106]="scrollPredominantAxis",t[t.selectionClipboard=107]="selectionClipboard",t[t.selectionHighlight=108]="selectionHighlight",t[t.selectOnLineNumbers=109]="selectOnLineNumbers",t[t.showFoldingControls=110]="showFoldingControls",t[t.showUnused=111]="showUnused",t[t.snippetSuggestions=112]="snippetSuggestions",t[t.smartSelect=113]="smartSelect",t[t.smoothScrolling=114]="smoothScrolling",t[t.stickyScroll=115]="stickyScroll",t[t.stickyTabStops=116]="stickyTabStops",t[t.stopRenderingLineAfter=117]="stopRenderingLineAfter",t[t.suggest=118]="suggest",t[t.suggestFontSize=119]="suggestFontSize",t[t.suggestLineHeight=120]="suggestLineHeight",t[t.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",t[t.suggestSelection=122]="suggestSelection",t[t.tabCompletion=123]="tabCompletion",t[t.tabIndex=124]="tabIndex",t[t.unicodeHighlighting=125]="unicodeHighlighting",t[t.unusualLineTerminators=126]="unusualLineTerminators",t[t.useShadowDOM=127]="useShadowDOM",t[t.useTabStops=128]="useTabStops",t[t.wordBreak=129]="wordBreak",t[t.wordSegmenterLocales=130]="wordSegmenterLocales",t[t.wordSeparators=131]="wordSeparators",t[t.wordWrap=132]="wordWrap",t[t.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",t[t.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",t[t.wordWrapColumn=135]="wordWrapColumn",t[t.wordWrapOverride1=136]="wordWrapOverride1",t[t.wordWrapOverride2=137]="wordWrapOverride2",t[t.wrappingIndent=138]="wrappingIndent",t[t.wrappingStrategy=139]="wrappingStrategy",t[t.showDeprecated=140]="showDeprecated",t[t.inlayHints=141]="inlayHints",t[t.editorClassName=142]="editorClassName",t[t.pixelRatio=143]="pixelRatio",t[t.tabFocusMode=144]="tabFocusMode",t[t.layoutInfo=145]="layoutInfo",t[t.wrappingInfo=146]="wrappingInfo",t[t.defaultColorDecorators=147]="defaultColorDecorators",t[t.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",t[t.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose"}(Oe||(Oe={})),function(t){t[t.TextDefined=0]="TextDefined",t[t.LF=1]="LF",t[t.CRLF=2]="CRLF"}(Ne||(Ne={})),function(t){t[t.LF=0]="LF",t[t.CRLF=1]="CRLF"}(Re||(Re={})),function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(Te||(Te={})),function(t){t[t.None=0]="None",t[t.Indent=1]="Indent",t[t.IndentOutdent=2]="IndentOutdent",t[t.Outdent=3]="Outdent"}(Le||(Le={})),function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"}(je||(je={})),function(t){t[t.Type=1]="Type",t[t.Parameter=2]="Parameter"}(ze||(ze={})),function(t){t[t.Automatic=0]="Automatic",t[t.Explicit=1]="Explicit"}(Ue||(Ue={})),function(t){t[t.Invoke=0]="Invoke",t[t.Automatic=1]="Automatic"}(He||(He={})),function(t){t[t.DependsOnKbLayout=-1]="DependsOnKbLayout",t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.Digit0=21]="Digit0",t[t.Digit1=22]="Digit1",t[t.Digit2=23]="Digit2",t[t.Digit3=24]="Digit3",t[t.Digit4=25]="Digit4",t[t.Digit5=26]="Digit5",t[t.Digit6=27]="Digit6",t[t.Digit7=28]="Digit7",t[t.Digit8=29]="Digit8",t[t.Digit9=30]="Digit9",t[t.KeyA=31]="KeyA",t[t.KeyB=32]="KeyB",t[t.KeyC=33]="KeyC",t[t.KeyD=34]="KeyD",t[t.KeyE=35]="KeyE",t[t.KeyF=36]="KeyF",t[t.KeyG=37]="KeyG",t[t.KeyH=38]="KeyH",t[t.KeyI=39]="KeyI",t[t.KeyJ=40]="KeyJ",t[t.KeyK=41]="KeyK",t[t.KeyL=42]="KeyL",t[t.KeyM=43]="KeyM",t[t.KeyN=44]="KeyN",t[t.KeyO=45]="KeyO",t[t.KeyP=46]="KeyP",t[t.KeyQ=47]="KeyQ",t[t.KeyR=48]="KeyR",t[t.KeyS=49]="KeyS",t[t.KeyT=50]="KeyT",t[t.KeyU=51]="KeyU",t[t.KeyV=52]="KeyV",t[t.KeyW=53]="KeyW",t[t.KeyX=54]="KeyX",t[t.KeyY=55]="KeyY",t[t.KeyZ=56]="KeyZ",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.F20=78]="F20",t[t.F21=79]="F21",t[t.F22=80]="F22",t[t.F23=81]="F23",t[t.F24=82]="F24",t[t.NumLock=83]="NumLock",t[t.ScrollLock=84]="ScrollLock",t[t.Semicolon=85]="Semicolon",t[t.Equal=86]="Equal",t[t.Comma=87]="Comma",t[t.Minus=88]="Minus",t[t.Period=89]="Period",t[t.Slash=90]="Slash",t[t.Backquote=91]="Backquote",t[t.BracketLeft=92]="BracketLeft",t[t.Backslash=93]="Backslash",t[t.BracketRight=94]="BracketRight",t[t.Quote=95]="Quote",t[t.OEM_8=96]="OEM_8",t[t.IntlBackslash=97]="IntlBackslash",t[t.Numpad0=98]="Numpad0",t[t.Numpad1=99]="Numpad1",t[t.Numpad2=100]="Numpad2",t[t.Numpad3=101]="Numpad3",t[t.Numpad4=102]="Numpad4",t[t.Numpad5=103]="Numpad5",t[t.Numpad6=104]="Numpad6",t[t.Numpad7=105]="Numpad7",t[t.Numpad8=106]="Numpad8",t[t.Numpad9=107]="Numpad9",t[t.NumpadMultiply=108]="NumpadMultiply",t[t.NumpadAdd=109]="NumpadAdd",t[t.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",t[t.NumpadSubtract=111]="NumpadSubtract",t[t.NumpadDecimal=112]="NumpadDecimal",t[t.NumpadDivide=113]="NumpadDivide",t[t.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",t[t.ABNT_C1=115]="ABNT_C1",t[t.ABNT_C2=116]="ABNT_C2",t[t.AudioVolumeMute=117]="AudioVolumeMute",t[t.AudioVolumeUp=118]="AudioVolumeUp",t[t.AudioVolumeDown=119]="AudioVolumeDown",t[t.BrowserSearch=120]="BrowserSearch",t[t.BrowserHome=121]="BrowserHome",t[t.BrowserBack=122]="BrowserBack",t[t.BrowserForward=123]="BrowserForward",t[t.MediaTrackNext=124]="MediaTrackNext",t[t.MediaTrackPrevious=125]="MediaTrackPrevious",t[t.MediaStop=126]="MediaStop",t[t.MediaPlayPause=127]="MediaPlayPause",t[t.LaunchMediaPlayer=128]="LaunchMediaPlayer",t[t.LaunchMail=129]="LaunchMail",t[t.LaunchApp2=130]="LaunchApp2",t[t.Clear=131]="Clear",t[t.MAX_VALUE=132]="MAX_VALUE"}(Ye||(Ye={})),function(t){t[t.Hint=1]="Hint",t[t.Info=2]="Info",t[t.Warning=4]="Warning",t[t.Error=8]="Error"}(Je||(Je={})),function(t){t[t.Unnecessary=1]="Unnecessary",t[t.Deprecated=2]="Deprecated"}(Pe||(Pe={})),function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"}(We||(We={})),function(t){t[t.Normal=1]="Normal",t[t.Underlined=2]="Underlined"}(Ge||(Ge={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.TEXTAREA=1]="TEXTAREA",t[t.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",t[t.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",t[t.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",t[t.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",t[t.CONTENT_TEXT=6]="CONTENT_TEXT",t[t.CONTENT_EMPTY=7]="CONTENT_EMPTY",t[t.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",t[t.CONTENT_WIDGET=9]="CONTENT_WIDGET",t[t.OVERVIEW_RULER=10]="OVERVIEW_RULER",t[t.SCROLLBAR=11]="SCROLLBAR",t[t.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",t[t.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(Ve||(Ve={})),function(t){t[t.AIGenerated=1]="AIGenerated"}(Ke||(Ke={})),function(t){t[t.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",t[t.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",t[t.TOP_CENTER=2]="TOP_CENTER"}(Xe||(Xe={})),function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"}(qe||(qe={})),function(t){t[t.Word=0]="Word",t[t.Line=1]="Line",t[t.Suggest=2]="Suggest"}(Ze||(Ze={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.None=2]="None",t[t.LeftOfInjectedText=3]="LeftOfInjectedText",t[t.RightOfInjectedText=4]="RightOfInjectedText"}($e||($e={})),function(t){t[t.Off=0]="Off",t[t.On=1]="On",t[t.Relative=2]="Relative",t[t.Interval=3]="Interval",t[t.Custom=4]="Custom"}(to||(to={})),function(t){t[t.None=0]="None",t[t.Text=1]="Text",t[t.Blocks=2]="Blocks"}(io||(io={})),function(t){t[t.Smooth=0]="Smooth",t[t.Immediate=1]="Immediate"}(no||(no={})),function(t){t[t.Auto=1]="Auto",t[t.Hidden=2]="Hidden",t[t.Visible=3]="Visible"}(ro||(ro={})),function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(eo||(eo={})),function(t){t.Off="off",t.OnCode="onCode",t.On="on"}(oo||(oo={})),function(t){t[t.Invoke=1]="Invoke",t[t.TriggerCharacter=2]="TriggerCharacter",t[t.ContentChange=3]="ContentChange"}(so||(so={})),function(t){t[t.File=0]="File",t[t.Module=1]="Module",t[t.Namespace=2]="Namespace",t[t.Package=3]="Package",t[t.Class=4]="Class",t[t.Method=5]="Method",t[t.Property=6]="Property",t[t.Field=7]="Field",t[t.Constructor=8]="Constructor",t[t.Enum=9]="Enum",t[t.Interface=10]="Interface",t[t.Function=11]="Function",t[t.Variable=12]="Variable",t[t.Constant=13]="Constant",t[t.String=14]="String",t[t.Number=15]="Number",t[t.Boolean=16]="Boolean",t[t.Array=17]="Array",t[t.Object=18]="Object",t[t.Key=19]="Key",t[t.Null=20]="Null",t[t.EnumMember=21]="EnumMember",t[t.Struct=22]="Struct",t[t.Event=23]="Event",t[t.Operator=24]="Operator",t[t.TypeParameter=25]="TypeParameter"}(uo||(uo={})),function(t){t[t.Deprecated=1]="Deprecated"}(ao||(ao={})),function(t){t[t.Hidden=0]="Hidden",t[t.Blink=1]="Blink",t[t.Smooth=2]="Smooth",t[t.Phase=3]="Phase",t[t.Expand=4]="Expand",t[t.Solid=5]="Solid"}(co||(co={})),function(t){t[t.Line=1]="Line",t[t.Block=2]="Block",t[t.Underline=3]="Underline",t[t.LineThin=4]="LineThin",t[t.BlockOutline=5]="BlockOutline",t[t.UnderlineThin=6]="UnderlineThin"}(ho||(ho={})),function(t){t[t.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",t[t.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",t[t.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",t[t.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(fo||(fo={})),function(t){t[t.None=0]="None",t[t.Same=1]="Same",t[t.Indent=2]="Indent",t[t.DeepIndent=3]="DeepIndent"}(lo||(lo={}));var vo=function(){function t(){}t.chord=function(t,i){return or(t,i)};return t}();function Ao(){return{editor:void 0,languages:void 0,CancellationTokenSource:Kn,Emitter:Ln,KeyCode:Ye,KeyMod:vo,Position:qr,Range:Zr,Selection:$r,SelectionDirection:eo,MarkerSeverity:Je,MarkerTag:Pe,Uri:zr,Token:oe}}vo.CtrlCmd=2048,vo.Shift=1024,vo.Alt=512,vo.WinCtrl=256;var go=window;var wo=function(){function t(t){this.fn=t,this._map=new Map}Object.defineProperty(t.prototype,"cachedValues",{get:function(){return this._map},enumerable:false,configurable:true});t.prototype.get=function(t){if(this._map.has(t))return this._map.get(t);var i=this.fn(t);return this._map.set(t,i),i};return t}();var po=function(){function t(t){this.executor=t,this._didRun=!1}Object.defineProperty(t.prototype,"value",{get:function(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._value},enumerable:false,configurable:true});return t}();var mo;function bo(t){return!t||typeof t!="string"||t.trim().length===0}var yo=/{(\d+)}/g;function ko(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return i.length===0?t:t.replace(yo,(function(t,n){var r=parseInt(n,10);return isNaN(r)||r<0||r>=i.length?t:i[r]}))}function xo(t){return t.replace(/[<>&]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return t}}))}function Eo(t){return t.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Bo(t,i){if(i===void 0){i=" "}return Do(Co(t,i),i)}function Co(t,i){if(!t||!i)return t;var n=i.length;if(n===0||t.length===0)return t;var r=0;for(;t.indexOf(i,r)===r;)r+=n;return t.substring(r)}function Do(t,i){if(!t||!i)return t;var n=i.length,r=t.length;if(n===0||r===0)return t;var e=r,o=-1;for(;o=t.lastIndexOf(i,e-1),o!==-1&&o+n===e;){if(o===0)return"";e=o}return t.substring(0,e)}function Mo(t,i,n){if(n===void 0){n={}}if(!t)throw new Error("Cannot create regex from empty string");i||(t=Eo(t)),n.wholeWord&&(/\B/.test(t.charAt(0))||(t="\\b"+t),/\B/.test(t.charAt(t.length-1))||(t+="\\b"));var r="";return n.global&&(r+="g"),n.matchCase||(r+="i"),n.multiline&&(r+="m"),n.unicode&&(r+="u"),new RegExp(t,r)}function _o(t){return t.split(/\r\n|\r|\n/)}function Fo(t){for(var i=0,n=t.length;i<n;i++){var r=t.charCodeAt(i);if(r!==32&&r!==9)return i}return-1}function So(t,i,n){if(i===void 0){i=0}if(n===void 0){n=t.length}for(var r=i;r<n;r++){var e=t.charCodeAt(r);if(e!==32&&e!==9)return t.substring(i,r)}return t.substring(i,n)}function Io(t,i){if(i===void 0){i=t.length-1}for(var n=i;n>=0;n--){var r=t.charCodeAt(n);if(r!==32&&r!==9)return n}return-1}function Qo(t,i){return t<i?-1:t>i?1:0}function Oo(t,i,n,r,e,o){if(n===void 0){n=0}if(r===void 0){r=t.length}if(e===void 0){e=0}if(o===void 0){o=i.length}for(;n<r&&e<o;n++,e++){var s=t.charCodeAt(n),u=i.charCodeAt(e);if(s<u)return-1;if(s>u)return 1}var a=r-n,c=o-e;return a<c?-1:a>c?1:0}function No(t,i){return Ro(t,i,0,t.length,0,i.length)}function Ro(t,i,n,r,e,o){if(n===void 0){n=0}if(r===void 0){r=t.length}if(e===void 0){e=0}if(o===void 0){o=i.length}for(;n<r&&e<o;n++,e++){var s=t.charCodeAt(n),u=i.charCodeAt(e);if(s===u)continue;if(s>=128||u>=128)return Oo(t.toLowerCase(),i.toLowerCase(),n,r,e,o);Lo(s)&&(s-=32),Lo(u)&&(u-=32);var a=s-u;if(a!==0)return a}var c=r-n,h=o-e;return c<h?-1:c>h?1:0}function To(t){return t>=48&&t<=57}function Lo(t){return t>=97&&t<=122}function jo(t){return t>=65&&t<=90}function zo(t,i){return t.length===i.length&&Ro(t,i)===0}function Uo(t,i){var n=i.length;return!(i.length>t.length)&&Ro(t,i,0,n)===0}function Ho(t,i){var n=Math.min(t.length,i.length);var r;for(r=0;r<n;r++)if(t.charCodeAt(r)!==i.charCodeAt(r))return r;return n}function Yo(t,i){var n=Math.min(t.length,i.length);var r;var e=t.length-1,o=i.length-1;for(r=0;r<n;r++)if(t.charCodeAt(e-r)!==i.charCodeAt(o-r))return r;return n}function Jo(t){return 55296<=t&&t<=56319}function Po(t){return 56320<=t&&t<=57343}function Wo(t,i){return i-56320+(t-55296<<10)+65536}function Go(t,i,n){var r=t.charCodeAt(n);if(Jo(r)&&n+1<i){var e=t.charCodeAt(n+1);if(Po(e))return Wo(r,e)}return r}var Vo=function(){function t(t,i){if(i===void 0){i=0}this._str=t,this._len=t.length,this._offset=i}Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:false,configurable:true});t.prototype.setOffset=function(t){this._offset=t};t.prototype.prevCodePoint=function(){var t=function(t,i){var n=t.charCodeAt(i-1);if(Po(n)&&i>1){var r=t.charCodeAt(i-2);if(Jo(r))return Wo(r,n)}return n}(this._str,this._offset);return this._offset-=t>=65536?2:1,t};t.prototype.nextCodePoint=function(){var t=Go(this._str,this._len,this._offset);return this._offset+=t>=65536?2:1,t};t.prototype.eol=function(){return this._offset>=this._len};return t}();var Ko=function(){function t(t,i){if(i===void 0){i=0}this._iterator=new Vo(t,i)}Object.defineProperty(t.prototype,"offset",{get:function(){return this._iterator.offset},enumerable:false,configurable:true});t.prototype.nextGraphemeLength=function(){var t=hs.getInstance(),i=this._iterator,n=i.offset;var r=t.getGraphemeBreakType(i.nextCodePoint());for(;!i.eol();){var e=i.offset,o=t.getGraphemeBreakType(i.nextCodePoint());if(cs(r,o)){i.setOffset(e);break}r=o}return i.offset-n};t.prototype.prevGraphemeLength=function(){var t=hs.getInstance(),i=this._iterator,n=i.offset;var r=t.getGraphemeBreakType(i.prevCodePoint());for(;i.offset>0;){var e=i.offset,o=t.getGraphemeBreakType(i.prevCodePoint());if(cs(o,r)){i.setOffset(e);break}r=o}return n-i.offset};t.prototype.eol=function(){return this._iterator.eol()};return t}();function Xo(t,i){return new Ko(t,i).nextGraphemeLength()}function qo(t,i){return new Ko(t,i).prevGraphemeLength()}var Zo;function $o(t){return Zo||(Zo=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),Zo.test(t)}var ts=/^[\t\n\r\x20-\x7E]*$/;function is(t){return ts.test(t)}var ns=/[\u2028\u2029]/;function rs(t){return ns.test(t)}function es(t){return t>=11904&&t<=55215||t>=63744&&t<=64255||t>=65281&&t<=65374}function os(t){return t>=127462&&t<=127487||t===8986||t===8987||t===9200||t===9203||t>=9728&&t<=10175||t===11088||t===11093||t>=127744&&t<=128591||t>=128640&&t<=128764||t>=128992&&t<=129008||t>=129280&&t<=129535||t>=129648&&t<=129782}var ss="\ufeff";function us(t){return!!(t&&t.length>0&&t.charCodeAt(0)===65279)}function as(t){return(t%=52)<26?String.fromCharCode(97+t):String.fromCharCode(65+t-26)}function cs(t,i){return t===0?i!==5&&i!==7:(t!==2||i!==3)&&(t===4||t===2||t===3||i===4||i===2||i===3||(t!==8||i!==8&&i!==9&&i!==11&&i!==12)&&(t!==11&&t!==9||i!==9&&i!==10)&&(t!==12&&t!==10||i!==10)&&i!==5&&i!==13&&i!==7&&t!==1&&(t!==13||i!==14)&&(t!==6||i!==6))}var hs=function(){function t(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}t.getInstance=function(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE};t.prototype.getGraphemeBreakType=function(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;var i=this._data,n=i.length/3;var r=1;for(;r<=n;)if(t<i[3*r])r*=2;else{if(!(t>i[3*r+1]))return i[3*r+2];r=2*r+1}return 0};return t}();function fs(t,i){if(t===0)return 0;var n=function(t,i){var n=new Vo(i,t);var r=n.prevCodePoint();for(;ls(r)||r===65039||r===8419;){if(n.offset===0)return;r=n.prevCodePoint()}if(!os(r))return;var e=n.offset;return e>0&&n.prevCodePoint()===8205&&(e=n.offset),e}(t,i);if(n!==void 0)return n;var r=new Vo(i,t);return r.prevCodePoint(),r.offset}function ls(t){return 127995<=t&&t<=127999}hs._INSTANCE=null;var ds=function(){function t(t){this.confusableDictionary=t}t.getInstance=function(t){return mo.cache.get(Array.from(t))};t.getLocales=function(){return mo._locales.value};t.prototype.isAmbiguous=function(t){return this.confusableDictionary.has(t)};t.prototype.getPrimaryConfusable=function(t){return this.confusableDictionary.get(t)};t.prototype.getConfusableCodePoints=function(){return new Set(this.confusableDictionary.keys())};return t}();mo=ds,ds.ambiguousCharacterData=new po((function(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')})),ds.cache=new(function(){function t(t,i){if(i===void 0){i=JSON.stringify}this.fn=t,this._computeKey=i,this.lastCache=void 0,this.lastArgKey=void 0}t.prototype.get=function(t){var i=this._computeKey(t);return this.lastArgKey!==i&&(this.lastArgKey=i,this.lastCache=this.fn(t)),this.lastCache};return t}())((function(t){function i(t){var i=new Map;for(var n=0;n<t.length;n+=2)i.set(t[n],t[n+1]);return i}function n(t,i){if(!t)return i;var n=new Map;for(var r=0,e=t;r<e.length;r++){var o=e[r],s=o[0],u=o[1];i.has(s)&&n.set(s,u)}return n}var r=mo.ambiguousCharacterData.value;var e,o=t.filter((function(t){return!t.startsWith("_")&&t in r}));o.length===0&&(o=["_default"]);for(var s=0,u=o;s<u.length;s++){var a=u[s];e=n(e,i(r[a]))}var c=function(t,i){var n=new Map(t);for(var r=0,e=i;r<e.length;r++){var o=e[r],s=o[0],u=o[1];n.set(s,u)}return n}(i(r._common),e);return new mo(c)})),ds._locales=new po((function(){return Object.keys(mo.ambiguousCharacterData.value).filter((function(t){return!t.startsWith("_")}))}));var vs=function(){function t(){}t.getRawData=function(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")};t.getData=function(){return this._data||(this._data=new Set(t.getRawData())),this._data};t.isInvisibleCharacter=function(i){return t.getData().has(i)};Object.defineProperty(t,"codePoints",{get:function(){return t.getData()},enumerable:false,configurable:true});return t}();vs._data=void 0;var As=function(){function t(){this.mapWindowIdToZoomFactor=new Map}t.prototype.getZoomFactor=function(t){var i;return(i=this.mapWindowIdToZoomFactor.get(this.getWindowId(t)))!==null&&i!==void 0?i:1};t.prototype.getWindowId=function(t){return t.vscodeWindowId};return t}();function gs(t,i,n){typeof i=="string"&&(i=t.matchMedia(i)),i.addEventListener("change",n)}As.INSTANCE=new As;var ws=navigator.userAgent,ps=ws.indexOf("Firefox")>=0,ms=ws.indexOf("AppleWebKit")>=0,bs=ws.indexOf("Chrome")>=0,ys=!bs&&ws.indexOf("Safari")>=0,ks=!bs&&!ys&&ms;ws.indexOf("Electron/");var xs=ws.indexOf("Android")>=0;if(typeof go.matchMedia=="function"){var Yt=go.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)");go.matchMedia("(display-mode: fullscreen)");gs(go,Yt,(function(t){var i=t.matches}))}Kt||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText;var Es=go.PointerEvent&&("ontouchstart"in go||navigator.maxTouchPoints>0);function Bs(t,i){if(typeof t=="number"){if(t===0)return null;var n=(65535&t)>>>0,r=(4294901760&t)>>>16;return new Ms(r!==0?[Cs(n,i),Cs(r,i)]:[Cs(n,i)])}{var n=[];for(var r=0;r<t.length;r++)n.push(Cs(t[r],i));return new Ms(n)}}function Cs(t,i){var n=!!(2048&t),r=!!(256&t);return new Ds(i===2?r:n,!!(1024&t),!!(512&t),i===2?n:r,255&t)}var Ds=function(){function t(t,i,n,r,e){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=r,this.keyCode=e}t.prototype.equals=function(i){return i instanceof t&&this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode};t.prototype.isModifierKey=function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4};t.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57};return t}();var Ms=function(){function t(t){if(t.length===0)throw An("chords");this.chords=t}return t}();var _s=function(){function t(t,i,n,r,e,o){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=r,this.keyLabel=e,this.keyAriaLabel=o}return t}();var Fs=function(){function t(){}return t}();var Ss=Gt?256:2048,Is=Gt?2048:256;var Qs=function(){function t(t){var i;this._standardKeyboardEventBrand=!0;var n=t;this.browserEvent=n,this.target=n.target,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.altGraphKey=(i=n.getModifierState)===null||i===void 0?void 0:i.call(n,"AltGraph"),this.keyCode=function(t){if(t.charCode){var i=String.fromCharCode(t.charCode).toUpperCase();return er.fromString(i)}var n=t.keyCode;if(n===3)return 7;if(ps)switch(n){case 59:return 85;case 60:if(Vt)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Gt)return 57}else if(ms&&(Gt&&n===93||!Gt&&n===92))return 57;return tr[n]||0}(n),this.code=n.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}t.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()};t.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()};t.prototype.toKeyCodeChord=function(){return this._asKeyCodeChord};t.prototype.equals=function(t){return this._asKeybinding===t};t.prototype._computeKeybinding=function(){var t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);var i=0;return this.ctrlKey&&(i|=Ss),this.altKey&&(i|=512),this.shiftKey&&(i|=1024),this.metaKey&&(i|=Is),i|=t,i};t.prototype._computeKeyCodeChord=function(){var t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new Ds(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)};return t}();var Os=new WeakMap;function Ns(t){if(!t.parent||t.parent===t)return null;try{var i=t.location,n=t.parent.location;if(i.origin!=="null"&&n.origin!=="null"&&i.origin!==n.origin)return null}catch(t){return null}return t.parent}var Rs=function(){function t(){}t.getSameOriginWindowChain=function(t){var i=Os.get(t);if(!i){i=[],Os.set(t,i);var n=void 0,r=t;do{n=Ns(r),n?i.push({window:new WeakRef(r),iframeElement:r.frameElement||null}):i.push({window:new WeakRef(r),iframeElement:null}),r=n}while(r)}return i.slice(0)};t.getPositionOfChildWindowRelativeToAncestorWindow=function(t,i){var n,r;if(!i||t===i)return{top:0,left:0};var e=0,o=0;var s=this.getSameOriginWindowChain(t);for(var u=0,a=s;u<a.length;u++){var c=a[u];var h=c.window.deref();if(e+=(n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0,o+=(r=h==null?void 0:h.scrollX)!==null&&r!==void 0?r:0,h===i||!c.iframeElement)break;var f=c.iframeElement.getBoundingClientRect();e+=f.top,o+=f.left}return{top:e,left:o}};return t}();var Ts=function(){function t(t,i){this.timestamp=Date.now(),this.browserEvent=i,this.leftButton=i.button===0,this.middleButton=i.button===1,this.rightButton=i.button===2,this.buttons=i.buttons,this.target=i.target,this.detail=i.detail||1,i.type==="dblclick"&&(this.detail=2),this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey,typeof i.pageX=="number"?(this.posx=i.pageX,this.posy=i.pageY):(this.posx=i.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=i.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);var n=Rs.getPositionOfChildWindowRelativeToAncestorWindow(t,i.view);this.posx-=n.left,this.posy-=n.top}t.prototype.preventDefault=function(){this.browserEvent.preventDefault()};t.prototype.stopPropagation=function(){this.browserEvent.stopPropagation()};return t}();var Ls=function(){function t(t,i,n){if(i===void 0){i=0}if(n===void 0){n=0}var r;this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=n,this.deltaX=i;var e=!1;if(bs){var o=navigator.userAgent.match(/Chrome\/(\d+)/);e=(o?parseInt(o[1]):123)<=122}if(t){var o=t,s=t,u=((r=t.view)===null||r===void 0?void 0:r.devicePixelRatio)||1;if(o.wheelDeltaY!==void 0)this.deltaY=e?o.wheelDeltaY/(120*u):o.wheelDeltaY/120;else if(s.VERTICAL_AXIS!==void 0&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(t.type==="wheel"){var a=t;a.deltaMode===a.DOM_DELTA_LINE?this.deltaY=ps&&!Gt?-t.deltaY/3:-t.deltaY:this.deltaY=-t.deltaY/40}if(o.wheelDeltaX!==void 0)this.deltaX=ys&&Wt?-o.wheelDeltaX/120:e?o.wheelDeltaX/(120*u):o.wheelDeltaX/120;else if(s.HORIZONTAL_AXIS!==void 0&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-t.detail/3;else if(t.type==="wheel"){var a=t;a.deltaMode===a.DOM_DELTA_LINE?this.deltaX=ps&&!Gt?-t.deltaX/3:-t.deltaX:this.deltaX=-t.deltaX/40}this.deltaY===0&&this.deltaX===0&&t.wheelDelta&&(this.deltaY=e?t.wheelDelta/(120*u):t.wheelDelta/120)}}t.prototype.preventDefault=function(){var t;(t=this.browserEvent)===null||t===void 0||t.preventDefault()};t.prototype.stopPropagation=function(){var t;(t=this.browserEvent)===null||t===void 0||t.stopPropagation()};return t}();var js=Symbol("MicrotaskDelay");function zs(t){return!!t&&typeof t.then=="function"}function Us(t){var i=new Kn,n=t(i.token),r=new Promise((function(t,r){var e=i.token.onCancellationRequested((function(){e.dispose(),r(new vn)}));Promise.resolve(n).then((function(n){e.dispose(),i.dispose(),t(n)}),(function(t){e.dispose(),i.dispose(),r(t)}))}));return new(function(){function t(){}t.prototype.cancel=function(){i.cancel(),i.dispose()};t.prototype.then=function(t,i){return r.then(t,i)};t.prototype.catch=function(t){return this.then(void 0,t)};t.prototype.finally=function(t){return r.finally(t)};return t}())}function Hs(t,i,n){return new Promise((function(r,e){var o=i.onCancellationRequested((function(){o.dispose(),r(n)}));t.then(r,e).finally((function(){return o.dispose()}))}))}var Ys=function(){function t(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}t.prototype.queue=function(t){var i=this;if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=t,!this.queuedPromise){var n=function(){if(i.queuedPromise=null,i.isDisposed)return;var t=i.queue(i.queuedPromiseFactory);return i.queuedPromiseFactory=null,t};this.queuedPromise=new Promise((function(t){i.activePromise.then(n,n).then(t)}))}return new Promise((function(t,n){i.queuedPromise.then(t,n)}))}return this.activePromise=t(),new Promise((function(t,n){i.activePromise.then((function(n){i.activePromise=null,t(n)}),(function(t){i.activePromise=null,n(t)}))}))};t.prototype.dispose=function(){this.isDisposed=!0};return t}();var Js=function(){function t(t){this.defaultDelay=t,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}t.prototype.trigger=function(t,i){var n=this;if(i===void 0){i=this.defaultDelay}this.task=t,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((function(t,i){n.doResolve=t,n.doReject=i})).then((function(){if(n.completionPromise=null,n.doResolve=null,n.task){var t=n.task;return n.task=null,t()}})));var r=function(){var t;n.deferred=null,(t=n.doResolve)===null||t===void 0||t.call(n,null)};return this.deferred=i===js?function(t){var i=!0;return queueMicrotask((function(){i&&(i=!1,t())})),{isTriggered:function(){return i},dispose:function(){i=!1}}}(r):function(t,i){var n=!0;var r=setTimeout((function(){n=!1,i()}),t);return{isTriggered:function(){return n},dispose:function(){clearTimeout(r),n=!1}}}(i,r),this.completionPromise};t.prototype.isTriggered=function(){var t;return!!(!((t=this.deferred)===null||t===void 0)&&t.isTriggered())};t.prototype.cancel=function(){var t;this.cancelTimeout(),this.completionPromise&&((t=this.doReject)===null||t===void 0||t.call(this,new vn),this.completionPromise=null)};t.prototype.cancelTimeout=function(){var t;(t=this.deferred)===null||t===void 0||t.dispose(),this.deferred=null};t.prototype.dispose=function(){this.cancel()};return t}();var Ps=function(){function t(t){this.delayer=new Js(t),this.throttler=new Ys}t.prototype.trigger=function(t,i){var n=this;return this.delayer.trigger((function(){return n.throttler.queue(t)}),i)};t.prototype.cancel=function(){this.delayer.cancel()};t.prototype.dispose=function(){this.delayer.dispose(),this.throttler.dispose()};return t}();function Ws(t,i){return i?new Promise((function(n,r){var e=setTimeout((function(){o.dispose(),n()}),t),o=i.onCancellationRequested((function(){clearTimeout(e),o.dispose(),r(new vn)}))})):Us((function(i){return Ws(t,i)}))}function Gs(t,i,n){if(i===void 0){i=0}var r=setTimeout((function(){t(),n&&e.dispose()}),i),e=En((function(){clearTimeout(r),n==null||n.deleteAndLeak(e)}));return n==null||n.add(e),e}function Vs(t,i,n){if(i===void 0){i=function(t){return!!t}}if(n===void 0){n=null}var r=0;var e=t.length,o=function(){if(r>=e)return Promise.resolve(n);var s=t[r++];return Promise.resolve(s()).then((function(t){return i(t)?Promise.resolve(t):o()}))};return o()}var Ks=function(){function t(t,i){this._token=-1,typeof t=="function"&&typeof i=="number"&&this.setIfNotSet(t,i)}t.prototype.dispose=function(){this.cancel()};t.prototype.cancel=function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)};t.prototype.cancelAndSet=function(t,i){var n=this;this.cancel(),this._token=setTimeout((function(){n._token=-1,t()}),i)};t.prototype.setIfNotSet=function(t,i){var n=this;this._token===-1&&(this._token=setTimeout((function(){n._token=-1,t()}),i))};return t}();var Xs=function(){function t(){this.disposable=void 0}t.prototype.cancel=function(){var t;(t=this.disposable)===null||t===void 0||t.dispose(),this.disposable=void 0};t.prototype.cancelAndSet=function(t,i,n){var r=this;if(n===void 0){n=globalThis}this.cancel();var e=n.setInterval((function(){t()}),i);this.disposable=En((function(){n.clearInterval(e),r.disposable=void 0}))};t.prototype.dispose=function(){this.cancel()};return t}();var qs=function(){function t(t,i){this.timeoutToken=-1,this.runner=t,this.timeout=i,this.timeoutHandler=this.onTimeout.bind(this)}t.prototype.dispose=function(){this.cancel(),this.runner=null};t.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)};t.prototype.schedule=function(t){if(t===void 0){t=this.timeout}this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,t)};Object.defineProperty(t.prototype,"delay",{get:function(){return this.timeout},set:function(t){this.timeout=t},enumerable:false,configurable:true});t.prototype.isScheduled=function(){return this.timeoutToken!==-1};t.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()};t.prototype.doRun=function(){var t;(t=this.runner)===null||t===void 0||t.call(this)};return t}();var Zs,$s;$s=typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?function(t,i){ri((function(){if(n)return;var t=Date.now()+15;i(Object.freeze({didTimeout:!0,timeRemaining:function(){return Math.max(0,t-Date.now())}}))}));var n=!1;return{dispose:function(){n||(n=!0)}}}:function(t,i,n){var r=t.requestIdleCallback(i,typeof n=="number"?{timeout:n}:void 0);var e=!1;return{dispose:function(){e||(e=!0,t.cancelIdleCallback(r))}}},Zs=function(t){return $s(globalThis,t)};var tu=function(){function t(t,i){var n=this;this._didRun=!1,this._executor=function(){try{n._value=i()}catch(t){n._error=t}finally{n._didRun=!0}},this._handle=$s(t,(function(){return n._executor()}))}t.prototype.dispose=function(){this._handle.dispose()};Object.defineProperty(t.prototype,"value",{get:function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isInitialized",{get:function(){return this._didRun},enumerable:false,configurable:true});return t}();var iu=function(t){__extends(i,t);function i(i){return t.call(this,globalThis,i)||this}return i}(tu);var nu=function(){function t(){var t=this;this.p=new Promise((function(i,n){t.completeCallback=i,t.errorCallback=n}))}Object.defineProperty(t.prototype,"isRejected",{get:function(){var t;return((t=this.outcome)===null||t===void 0?void 0:t.outcome)===1},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isSettled",{get:function(){return!!this.outcome},enumerable:false,configurable:true});t.prototype.complete=function(t){var i=this;return new Promise((function(n){i.completeCallback(t),i.outcome={outcome:0,value:t},n()}))};t.prototype.error=function(t){var i=this;return new Promise((function(n){i.errorCallback(t),i.outcome={outcome:1,value:t},n()}))};t.prototype.cancel=function(){return this.error(new vn)};return t}();var ru;(function(t){t.settled=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){return t.then((function(t){return t}),(function(t){i||(i=t)}))})))];case 1:n=r.sent();if(i!==void 0)throw i;return[2,n]}}))}))},t.withAsyncBody=function(t){var i=this;return new Promise((function(n,r){return __awaiter(i,void 0,void 0,(function(){var i;return __generator(this,(function(e){switch(e.label){case 0:e.trys.push([0,2,,3]);return[4,t(n,r)];case 1:e.sent();return[3,3];case 2:i=e.sent();r(i);return[3,3];case 3:return[2]}}))}))}))}})(ru||(ru={}));var eu=function(){function t(t){var i=this;this._state=0,this._results=[],this._error=null,this._onStateChanged=new Ln,queueMicrotask((function(){return __awaiter(i,void 0,void 0,(function(){var i,n;var r=this;return __generator(this,(function(e){switch(e.label){case 0:i={emitOne:function(t){return r.emitOne(t)},emitMany:function(t){return r.emitMany(t)},reject:function(t){return r.reject(t)}};e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,Promise.resolve(t(i))];case 2:e.sent(),this.resolve();return[3,5];case 3:n=e.sent();this.reject(n);return[3,5];case 4:i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0;return[7];case 5:return[2]}}))}))}))}t.fromArray=function(i){return new t((function(t){t.emitMany(i)}))};t.fromPromise=function(i){var n=this;return new t((function(t){return __awaiter(n,void 0,void 0,(function(){var n,r;return __generator(this,(function(e){switch(e.label){case 0:r=(n=t).emitMany;return[4,i];case 1:r.apply(n,[e.sent()]);return[2]}}))}))}))};t.fromPromises=function(i){var n=this;return new t((function(t){return __awaiter(n,void 0,void 0,(function(){var n=this;return __generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all(i.map((function(i){return __awaiter(n,void 0,void 0,(function(){var n,r;return __generator(this,(function(e){switch(e.label){case 0:r=(n=t).emitOne;return[4,i];case 1:return[2,r.apply(n,[e.sent()])]}}))}))})))];case 1:r.sent();return[2]}}))}))}))};t.merge=function(i){var n=this;return new t((function(t){return __awaiter(n,void 0,void 0,(function(){var n=this;return __generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all(i.map((function(i){return __awaiter(n,void 0,void 0,(function(){var n,r;var e,o,s;var u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]);e=true,o=__asyncValues(i);f.label=1;case 1:return[4,o.next()];case 2:if(!(s=f.sent(),u=s.done,!u))return[3,4];h=s.value;e=false;n=h;t.emitOne(n);f.label=3;case 3:e=true;return[3,1];case 4:return[3,11];case 5:r=f.sent();a={error:r};return[3,11];case 6:f.trys.push([6,,9,10]);if(!(!e&&!u&&(c=o.return)))return[3,8];return[4,c.call(o)];case 7:f.sent();f.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return[2]}}))}))})))];case 1:r.sent();return[2]}}))}))}))};t.prototype[Symbol.asyncIterator]=function(){var t=this;var i=0;return{next:function(){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:if(this._state===2)throw this._error;if(i<this._results.length)return[2,{done:!1,value:this._results[i++]}];if(this._state===1)return[2,{done:!0,value:void 0}];return[4,Qn.toPromise(this._onStateChanged.event)];case 1:t.sent();t.label=2;case 2:return[3,0];case 3:return[2]}}))}))}}};t.map=function(i,n){var r=this;return new t((function(t){return __awaiter(r,void 0,void 0,(function(){var r,e,o,s,u;var a,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]);r=true,e=__asyncValues(i);l.label=1;case 1:return[4,e.next()];case 2:if(!(o=l.sent(),a=o.done,!a))return[3,4];f=o.value;r=false;s=f;t.emitOne(n(s));l.label=3;case 3:r=true;return[3,1];case 4:return[3,11];case 5:u=l.sent();c={error:u};return[3,11];case 6:l.trys.push([6,,9,10]);if(!(!r&&!a&&(h=e.return)))return[3,8];return[4,h.call(e)];case 7:l.sent();l.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))};t.prototype.map=function(i){return t.map(this,i)};t.filter=function(i,n){var r=this;return new t((function(t){return __awaiter(r,void 0,void 0,(function(){var r,e,o,s,u;var a,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]);r=true,e=__asyncValues(i);l.label=1;case 1:return[4,e.next()];case 2:if(!(o=l.sent(),a=o.done,!a))return[3,4];f=o.value;r=false;s=f;n(s)&&t.emitOne(s);l.label=3;case 3:r=true;return[3,1];case 4:return[3,11];case 5:u=l.sent();c={error:u};return[3,11];case 6:l.trys.push([6,,9,10]);if(!(!r&&!a&&(h=e.return)))return[3,8];return[4,h.call(e)];case 7:l.sent();l.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))};t.prototype.filter=function(i){return t.filter(this,i)};t.coalesce=function(i){return t.filter(i,(function(t){return!!t}))};t.prototype.coalesce=function(){return t.coalesce(this)};t.toPromise=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r;var e,o,s,u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:i=[];f.label=1;case 1:f.trys.push([1,6,7,12]);a=true,c=__asyncValues(t);f.label=2;case 2:return[4,c.next()];case 3:if(!(h=f.sent(),e=h.done,!e))return[3,5];u=h.value;a=false;n=u;i.push(n);f.label=4;case 4:a=true;return[3,2];case 5:return[3,12];case 6:r=f.sent();o={error:r};return[3,12];case 7:f.trys.push([7,,10,11]);if(!(!a&&!e&&(s=c.return)))return[3,9];return[4,s.call(c)];case 8:f.sent();f.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:return[2,i]}}))}))};t.prototype.toPromise=function(){return t.toPromise(this)};t.prototype.emitOne=function(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())};t.prototype.emitMany=function(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())};t.prototype.resolve=function(){this._state===0&&(this._state=1,this._onStateChanged.fire())};t.prototype.reject=function(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())};return t}();eu.EMPTY=eu.fromArray([]);var ou=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._source=i;return r}i.prototype.cancel=function(){this._source.cancel()};return i}(eu);var su=Object.entries,uu=Object.setPrototypeOf,au=Object.isFrozen,cu=Object.getPrototypeOf,hu=Object.getOwnPropertyDescriptor;var fu=Object.freeze,lu=Object.seal,du=Object.create,vu=typeof Reflect<"u"&&Reflect,Au=vu.apply,gu=vu.construct;Au||(Au=function(t,i,n){return t.apply(i,n)}),fu||(fu=function(t){return t}),lu||(lu=function(t){return t}),gu||(gu=function(t,i){return new(t.bind.apply(t,__spreadArray([void 0],i,false)))});var wu=_u(Array.prototype.forEach),pu=_u(Array.prototype.pop),mu=_u(Array.prototype.push),bu=_u(String.prototype.toLowerCase),yu=_u(String.prototype.toString),ku=_u(String.prototype.match),xu=_u(String.prototype.replace),Eu=_u(String.prototype.indexOf),Bu=_u(String.prototype.trim),Cu=_u(RegExp.prototype.test),Du=(Mu=TypeError,function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return gu(Mu,i)});var Mu;function _u(t){return function(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return Au(t,i,r)}}function Fu(t,i,n){var r;n=(r=n)!==null&&r!==void 0?r:bu,uu&&uu(t,null);var e=i.length;for(;e--;){var o=i[e];if(typeof o=="string"){var s=n(o);s!==o&&(au(i)||(i[e]=s),o=s)}t[o]=!0}return t}function Su(t){var i=du(null);for(var n=0,r=su(t);n<r.length;n++){var e=r[n],o=e[0],s=e[1];i[o]=s}return i}function Iu(t,i){for(;t!==null;){var n=hu(t,i);if(n){if(n.get)return _u(n.get);if(typeof n.value=="function")return _u(n.value)}t=cu(t)}return function(t){return console.warn("fallback value for",t),null}}var Qu=fu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ou=fu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nu=fu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ru=fu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tu=fu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Lu=fu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ju=fu(["#text"]),zu=fu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Uu=fu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Hu=fu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yu=fu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ju=lu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pu=lu(/<%[\w\W]*|[\w\W]*%>/gm),Wu=lu(/\${[\w\W]*}/gm),Gu=lu(/^data-[\-\w.\u00B7-\uFFFF]/),Vu=lu(/^aria-[\-\w]+$/),Ku=lu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xu=lu(/^(?:\w+script|data):/i),qu=lu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Zu=lu(/^html$/i);var $u=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ju,ERB_EXPR:Pu,TMPLIT_EXPR:Wu,DATA_ATTR:Gu,ARIA_ATTR:Vu,IS_ALLOWED_URI:Ku,IS_SCRIPT_OR_DATA:Xu,ATTR_WHITESPACE:qu,DOCTYPE_NAME:Zu});var ta=function(){return typeof window>"u"?null:window};var ia=function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ta();var n=function(i){return t(i)};if(n.version="3.0.5",n.removed=[],!i||!i.document||i.document.nodeType!==9)return n.isSupported=!1,n;var r=i.document,e=r.currentScript;var o=i.document;var s=i.DocumentFragment,u=i.HTMLTemplateElement,a=i.Node,c=i.Element,h=i.NodeFilter,f=i.NamedNodeMap,l=f===void 0?i.NamedNodeMap||i.MozNamedAttrMap:f,d=i.HTMLFormElement,v=i.DOMParser,A=i.trustedTypes,g=c.prototype,w=Iu(g,"cloneNode"),p=Iu(g,"nextSibling"),m=Iu(g,"childNodes"),b=Iu(g,"parentNode");if(typeof u=="function"){var y=o.createElement("template");y.content&&y.content.ownerDocument&&(o=y.content.ownerDocument)}var k,x="";var E=o.implementation,B=o.createNodeIterator,C=o.createDocumentFragment,D=o.getElementsByTagName,M=r.importNode;var _={};n.isSupported=typeof su=="function"&&typeof b=="function"&&E&&E.createHTMLDocument!==void 0;var F=$u.MUSTACHE_EXPR,S=$u.ERB_EXPR,I=$u.TMPLIT_EXPR,Q=$u.DATA_ATTR,O=$u.ARIA_ATTR,N=$u.IS_SCRIPT_OR_DATA,R=$u.ATTR_WHITESPACE;var T=$u.IS_ALLOWED_URI,L=null;var j=Fu({},__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],Qu,true),Ou,true),Nu,true),Tu,true),ju,true));var z=null;var U=Fu({},__spreadArray(__spreadArray(__spreadArray(__spreadArray([],zu,true),Uu,true),Hu,true),Yu,true));var H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,J=null,P=!0,W=!0,G=!1,V=!0,K=!1,X=!1,q=!1,Z=!1,$=!1,tt=!1,it=!1,nt=!0,rt=!1,et=!0,ot=!1,st={},ut=null;var at=Fu({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var ct=null;var ht=Fu({},["audio","video","img","source","image","track"]);var ft=null;var lt=Fu({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",At="http://www.w3.org/1999/xhtml";var gt=At,wt=!1,pt=null;var mt=Fu({},[dt,vt,At],yu);var bt;var yt=["application/xhtml+xml","text/html"];var kt,xt=null;var Et=o.createElement("form"),Bt=function(t){return t instanceof RegExp||t instanceof Function},Ct=function(t){if(!xt||xt!==t){if(t&&typeof t=="object"||(t={}),t=Su(t),bt=bt=yt.indexOf(t.PARSER_MEDIA_TYPE)===-1?"text/html":t.PARSER_MEDIA_TYPE,kt=bt==="application/xhtml+xml"?yu:bu,L="ALLOWED_TAGS"in t?Fu({},t.ALLOWED_TAGS,kt):j,z="ALLOWED_ATTR"in t?Fu({},t.ALLOWED_ATTR,kt):U,pt="ALLOWED_NAMESPACES"in t?Fu({},t.ALLOWED_NAMESPACES,yu):mt,ft="ADD_URI_SAFE_ATTR"in t?Fu(Su(lt),t.ADD_URI_SAFE_ATTR,kt):lt,ct="ADD_DATA_URI_TAGS"in t?Fu(Su(ht),t.ADD_DATA_URI_TAGS,kt):ht,ut="FORBID_CONTENTS"in t?Fu({},t.FORBID_CONTENTS,kt):at,Y="FORBID_TAGS"in t?Fu({},t.FORBID_TAGS,kt):{},J="FORBID_ATTR"in t?Fu({},t.FORBID_ATTR,kt):{},st="USE_PROFILES"in t&&t.USE_PROFILES,P=t.ALLOW_ARIA_ATTR!==!1,W=t.ALLOW_DATA_ATTR!==!1,G=t.ALLOW_UNKNOWN_PROTOCOLS||!1,V=t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,K=t.SAFE_FOR_TEMPLATES||!1,X=t.WHOLE_DOCUMENT||!1,$=t.RETURN_DOM||!1,tt=t.RETURN_DOM_FRAGMENT||!1,it=t.RETURN_TRUSTED_TYPE||!1,Z=t.FORCE_BODY||!1,nt=t.SANITIZE_DOM!==!1,rt=t.SANITIZE_NAMED_PROPS||!1,et=t.KEEP_CONTENT!==!1,ot=t.IN_PLACE||!1,T=t.ALLOWED_URI_REGEXP||Ku,gt=t.NAMESPACE||At,H=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Bt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Bt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(W=!1),tt&&($=!0),st&&(L=Fu({},__spreadArray([],ju,true)),z=[],st.html===!0&&(Fu(L,Qu),Fu(z,zu)),st.svg===!0&&(Fu(L,Ou),Fu(z,Uu),Fu(z,Yu)),st.svgFilters===!0&&(Fu(L,Nu),Fu(z,Uu),Fu(z,Yu)),st.mathMl===!0&&(Fu(L,Tu),Fu(z,Hu),Fu(z,Yu))),t.ADD_TAGS&&(L===j&&(L=Su(L)),Fu(L,t.ADD_TAGS,kt)),t.ADD_ATTR&&(z===U&&(z=Su(z)),Fu(z,t.ADD_ATTR,kt)),t.ADD_URI_SAFE_ATTR&&Fu(ft,t.ADD_URI_SAFE_ATTR,kt),t.FORBID_CONTENTS&&(ut===at&&(ut=Su(ut)),Fu(ut,t.FORBID_CONTENTS,kt)),et&&(L["#text"]=!0),X&&Fu(L,["html","head","body"]),L.table&&(Fu(L,["tbody"]),delete Y.tbody),t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!="function")throw Du('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Du('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=t.TRUSTED_TYPES_POLICY,x=k.createHTML("")}else k===void 0&&(k=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;var n=null;var r="data-tt-policy-suffix";i&&i.hasAttribute(r)&&(n=i.getAttribute(r));var e="dompurify"+(n?"#"+n:"");try{return t.createPolicy(e,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+e+" could not be created."),null}}(A,e)),k!==null&&typeof x=="string"&&(x=k.createHTML(""));fu&&fu(t),xt=t}},Dt=Fu({},["mi","mo","mn","ms","mtext"]),Mt=Fu({},["foreignobject","desc","title","annotation-xml"]),_t=Fu({},["title","style","font","a","script"]),Ft=Fu({},Ou);Fu(Ft,Nu),Fu(Ft,Ru);var St=Fu({},Tu);Fu(St,Lu);var It=function(t){mu(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(i){t.remove()}},Qt=function(t,i){try{mu(n.removed,{attribute:i.getAttributeNode(t),from:i})}catch(t){mu(n.removed,{attribute:null,from:i})}if(i.removeAttribute(t),t==="is"&&!z[t])if($||tt)try{It(i)}catch(t){}else try{i.setAttribute(t,"")}catch(t){}},Ot=function(t){var i,n;if(Z)t="<remove></remove>"+t;else{var r=ku(t,/^[\r\n\t ]+/);n=r&&r[0]}bt==="application/xhtml+xml"&&gt===At&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var e=k?k.createHTML(t):t;if(gt===At)try{i=(new v).parseFromString(e,bt)}catch(t){}if(!i||!i.documentElement){i=E.createDocument(gt,"template",null);try{i.documentElement.innerHTML=wt?x:e}catch(t){}}var s=i.body||i.documentElement;return t&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),gt===At?D.call(i,X?"html":"body")[0]:X?i.documentElement:s},Nt=function(t){return B.call(t.ownerDocument||t,t,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},Rt=function(t){return typeof a=="object"?t instanceof a:t&&typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},Tt=function(t,i,r){_[t]&&wu(_[t],(function(t){t.call(n,i,r,xt)}))},Lt=function(t){var i;if(Tt("beforeSanitizeElements",t,null),(r=t)instanceof d&&(typeof r.nodeName!="string"||typeof r.textContent!="string"||typeof r.removeChild!="function"||!(r.attributes instanceof l)||typeof r.removeAttribute!="function"||typeof r.setAttribute!="function"||typeof r.namespaceURI!="string"||typeof r.insertBefore!="function"||typeof r.hasChildNodes!="function"))return It(t),!0;var r;var e=kt(t.nodeName);if(Tt("uponSanitizeElement",t,{tagName:e,allowedTags:L}),t.hasChildNodes()&&!Rt(t.firstElementChild)&&(!Rt(t.content)||!Rt(t.content.firstElementChild))&&Cu(/<[/\w]/g,t.innerHTML)&&Cu(/<[/\w]/g,t.textContent))return It(t),!0;if(!L[e]||Y[e]){if(!Y[e]&&zt(e)&&(H.tagNameCheck instanceof RegExp&&Cu(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e)))return!1;if(et&&!ut[e]){var o=b(t)||t.parentNode,s=m(t)||t.childNodes;if(s&&o)for(var u=s.length-1;u>=0;--u)o.insertBefore(w(s[u],!0),p(t))}return It(t),!0}return t instanceof c&&!function(t){var i=b(t);i&&i.tagName||(i={namespaceURI:gt,tagName:"template"});var n=bu(t.tagName),r=bu(i.tagName);return!!pt[t.namespaceURI]&&(t.namespaceURI===vt?i.namespaceURI===At?n==="svg":i.namespaceURI===dt?n==="svg"&&(r==="annotation-xml"||Dt[r]):!!Ft[n]:t.namespaceURI===dt?i.namespaceURI===At?n==="math":i.namespaceURI===vt?n==="math"&&Mt[r]:!!St[n]:t.namespaceURI===At?!(i.namespaceURI===vt&&!Mt[r])&&!(i.namespaceURI===dt&&!Dt[r])&&!St[n]&&(_t[n]||!Ft[n]):!(bt!=="application/xhtml+xml"||!pt[t.namespaceURI]))}(t)?(It(t),!0):e!=="noscript"&&e!=="noembed"&&e!=="noframes"||!Cu(/<\/no(script|embed|frames)/i,t.innerHTML)?(K&&t.nodeType===3&&(i=t.textContent,i=xu(i,F," "),i=xu(i,S," "),i=xu(i,I," "),t.textContent!==i&&(mu(n.removed,{element:t.cloneNode()}),t.textContent=i)),Tt("afterSanitizeElements",t,null),!1):(It(t),!0)},jt=function(t,i,n){if(nt&&(i==="id"||i==="name")&&(n in o||n in Et))return!1;if(!(W&&!J[i]&&Cu(Q,i))){if(!(P&&Cu(O,i))){if(!z[i]||J[i]){if(!(zt(t)&&(H.tagNameCheck instanceof RegExp&&Cu(H.tagNameCheck,t)||H.tagNameCheck instanceof Function&&H.tagNameCheck(t))&&(H.attributeNameCheck instanceof RegExp&&Cu(H.attributeNameCheck,i)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(i))||i==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&Cu(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(!ft[i]){if(!Cu(T,xu(n,R,""))){if((i!=="src"&&i!=="xlink:href"&&i!=="href"||t==="script"||Eu(n,"data:")!==0||!ct[t])&&!(G&&!Cu(N,xu(n,R,"")))){if(n)return!1}}}}}return!0},zt=function(t){return t.indexOf("-")>0},Ut=function(t){var i,r,e,o;Tt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(!s)return;var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(o=s.length;o--;){i=s[o];var a=i.name,c=i.namespaceURI;if(r=a==="value"?i.value:Bu(i.value),e=kt(a),u.attrName=e,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,Tt("uponSanitizeAttribute",t,u),r=u.attrValue,u.forceKeepAttr||(Qt(a,t),!u.keepAttr))continue;if(!V&&Cu(/\/>/i,r)){Qt(a,t);continue}K&&(r=xu(r,F," "),r=xu(r,S," "),r=xu(r,I," "));var h=kt(t.nodeName);if(jt(h,e,r)){if(!rt||e!=="id"&&e!=="name"||(Qt(a,t),r="user-content-"+r),k&&typeof A=="object"&&typeof A.getAttributeType=="function"&&!c)switch(A.getAttributeType(h,e)){case"TrustedHTML":r=k.createHTML(r);break;case"TrustedScriptURL":r=k.createScriptURL(r)}try{c?t.setAttributeNS(c,a,r):t.setAttribute(a,r),pu(n.removed)}catch(t){}}}Tt("afterSanitizeAttributes",t,null)},Ht=function t(i){var n;var r=Nt(i);for(Tt("beforeSanitizeShadowDOM",i,null);n=r.nextNode();)Tt("uponSanitizeShadowNode",n,null),Lt(n)||(n.content instanceof s&&t(n.content),Ut(n));Tt("afterSanitizeShadowDOM",i,null)};return n.sanitize=function(t){var i,e,o,u,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(wt=!t,wt&&(t="\x3c!--\x3e"),typeof t!="string"&&!Rt(t)){if(typeof t.toString!="function")throw Du("toString is not a function");if(typeof(t=t.toString())!="string")throw Du("dirty is not a string, aborting")}if(!n.isSupported)return t;if(q||Ct(c),n.removed=[],typeof t=="string"&&(ot=!1),ot){if(t.nodeName){var h=kt(t.nodeName);if(!L[h]||Y[h])throw Du("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof a)i=Ot("\x3c!----\x3e"),e=i.ownerDocument.importNode(t,!0),e.nodeType===1&&e.nodeName==="BODY"||e.nodeName==="HTML"?i=e:i.appendChild(e);else{if(!$&&!K&&!X&&t.indexOf("<")===-1)return k&&it?k.createHTML(t):t;if(i=Ot(t),!i)return $?null:it?x:""}i&&Z&&It(i.firstChild);var f=Nt(ot?t:i);for(;o=f.nextNode();)Lt(o)||(o.content instanceof s&&Ht(o.content),Ut(o));if(ot)return t;if($){if(tt)for(u=C.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return(z.shadowroot||z.shadowrootmode)&&(u=M.call(r,u,!0)),u}var l=X?i.outerHTML:i.innerHTML;return X&&L["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&Cu(Zu,i.ownerDocument.doctype.name)&&(l="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+l),K&&(l=xu(l,F," "),l=xu(l,S," "),l=xu(l,I," ")),k&&it?k.createHTML(l):l},n.setConfig=function(t){Ct(t),q=!0},n.clearConfig=function(){xt=null,q=!1},n.isValidAttribute=function(t,i,n){xt||Ct({});var r=kt(t),e=kt(i);return jt(r,e,n)},n.addHook=function(t,i){typeof i=="function"&&(_[t]=_[t]||[],mu(_[t],i))},n.removeHook=function(t){if(_[t])return pu(_[t])},n.removeHooks=function(t){_[t]&&(_[t]=[])},n.removeAllHooks=function(){_={}},n}();var na=ia.sanitize;var ra=ia.addHook,ea=ia.removeHook;var oa;function sa(t,i){return zr.isUri(t)?zo(t.scheme,i):Uo(t,i+":")}function ua(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return i.some((function(i){return sa(t,i)}))}(function(t){t.inMemory="inmemory",t.vscode="vscode",t.internal="private",t.walkThrough="walkThrough",t.walkThroughSnippet="walkThroughSnippet",t.http="http",t.https="https",t.file="file",t.mailto="mailto",t.untitled="untitled",t.data="data",t.command="command",t.vscodeRemote="vscode-remote",t.vscodeRemoteResource="vscode-remote-resource",t.vscodeManagedRemoteResource="vscode-managed-remote-resource",t.vscodeUserData="vscode-userdata",t.vscodeCustomEditor="vscode-custom-editor",t.vscodeNotebookCell="vscode-notebook-cell",t.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",t.vscodeNotebookCellOutput="vscode-notebook-cell-output",t.vscodeInteractiveInput="vscode-interactive-input",t.vscodeSettings="vscode-settings",t.vscodeWorkspaceTrust="vscode-workspace-trust",t.vscodeTerminal="vscode-terminal",t.vscodeChatCodeBlock="vscode-chat-code-block",t.vscodeChatSesssion="vscode-chat-editor",t.webviewPanel="webview-panel",t.vscodeWebview="vscode-webview",t.extension="extension",t.vscodeFileResource="vscode-file",t.tmp="tmp",t.vsls="vsls",t.vscodeSourceControl="vscode-scm",t.codeSetting="code-setting"})(oa||(oa={}));var aa=new(function(){function t(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}t.prototype.setPreferredWebSchema=function(t){this._preferredWebSchema=t};Object.defineProperty(t.prototype,"_remoteResourcesPath",{get:function(){return Cr.join(this._serverRootPath,oa.vscodeRemoteResource)},enumerable:false,configurable:true});t.prototype.rewrite=function(t){if(this._delegate)try{return this._delegate(t)}catch(i){return cn(i),t}var i=t.authority;var n=this._hosts[i];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n="[".concat(n,"]"));var r=this._ports[i],e=this._connectionTokens[i];var o="path=".concat(encodeURIComponent(t.path));return typeof e=="string"&&(o+="&tkn=".concat(encodeURIComponent(e))),zr.from({scheme:Xt?this._preferredWebSchema:oa.vscodeRemoteResource,authority:"".concat(n,":").concat(r),path:this._remoteResourcesPath,query:o})};return t}());var ca=function(){function t(){}t.prototype.uriToBrowserUri=function(i){return i.scheme===oa.vscodeRemote?aa.rewrite(i):i.scheme!==oa.file||!Kt&&qt!=="".concat(oa.vscodeFileResource,"://").concat(t.FALLBACK_AUTHORITY)?i:i.with({scheme:oa.vscodeFileResource,authority:i.authority||t.FALLBACK_AUTHORITY,query:null,fragment:null})};return t}();ca.FALLBACK_AUTHORITY="vscode-app";var ha=new ca;var fa;function la(t){return da(t,0)}function da(t,i){switch(typeof t){case"object":return t===null?va(349,i):Array.isArray(t)?(n=t,r=va(104579,r=i),n.reduce((function(t,i){return da(i,t)}),r)):function(t,i){return i=va(181387,i),Object.keys(t).sort().reduce((function(i,n){return i=Aa(n,i),da(t[n],i)}),i)}(t,i);case"string":return Aa(t,i);case"boolean":return function(t,i){return va(t?433:863,i)}(t,i);case"number":return va(t,i);case"undefined":return va(937,i);default:return va(617,i)}var n,r}function va(t,i){return(i<<5)-i+t|0}function Aa(t,i){i=va(149417,i);for(var n=0,r=t.length;n<r;n++)i=va(t.charCodeAt(n),i);return i}function ga(t,i,n){if(n===void 0){n=32}var r=n-i;return(t<<i|(~((1<<r)-1)&t)>>>r)>>>0}function wa(t,i,n,r){if(i===void 0){i=0}if(n===void 0){n=t.byteLength}if(r===void 0){r=0}for(var e=0;e<n;e++)t[i+e]=r}function pa(t,i){if(i===void 0){i=32}return t instanceof ArrayBuffer?Array.from(new Uint8Array(t)).map((function(t){return t.toString(16).padStart(2,"0")})).join(""):function(t,i,n){if(n===void 0){n="0"}for(;t.length<i;)t=n+t;return t}((t>>>0).toString(16),i/4)}(function(t){var i=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);t.CoopAndCoep=Object.freeze(i.get("3"));var n="vscode-coi";t.getHeadersFromQuery=function(t){var r;typeof t=="string"?r=new URL(t).searchParams:t instanceof URL?r=t.searchParams:zr.isUri(t)&&(r=new URL(t.toString(!0)).searchParams);var e=r==null?void 0:r.get(n);if(e)return i.get(e)},t.addSearchParam=function(t,i,r){if(!globalThis.crossOriginIsolated)return;var e=i&&r?"3":r?"2":"1";t instanceof URLSearchParams?t.set(n,e):t[n]=e}})(fa||(fa={}));var ma=function(){function t(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}t.prototype.update=function(t){var i=t.length;if(i===0)return;var n=this._buff;var r,e,o=this._buffLen,s=this._leftoverHighSurrogate;for(s!==0?(r=s,e=-1,s=0):(r=t.charCodeAt(0),e=0);;){var u=r;if(Jo(r)){if(!(e+1<i)){s=r;break}{var a=t.charCodeAt(e+1);Po(a)?(e++,u=Wo(r,a)):u=65533}}else Po(r)&&(u=65533);if(o=this._push(n,o,u),e++,!(e<i))break;r=t.charCodeAt(e)}this._buffLen=o,this._leftoverHighSurrogate=s};t.prototype._push=function(t,i,n){return n<128?t[i++]=n:n<2048?(t[i++]=192|(1984&n)>>>6,t[i++]=128|(63&n)>>>0):n<65536?(t[i++]=224|(61440&n)>>>12,t[i++]=128|(4032&n)>>>6,t[i++]=128|(63&n)>>>0):(t[i++]=240|(1835008&n)>>>18,t[i++]=128|(258048&n)>>>12,t[i++]=128|(4032&n)>>>6,t[i++]=128|(63&n)>>>0),i>=64&&(this._step(),i-=64,this._totalLen+=64,t[0]=t[64],t[1]=t[65],t[2]=t[66]),i};t.prototype.digest=function(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),pa(this._h0)+pa(this._h1)+pa(this._h2)+pa(this._h3)+pa(this._h4)};t.prototype._wrapUp=function(){this._buff[this._buffLen++]=128,wa(this._buff,this._buffLen),this._buffLen>56&&(this._step(),wa(this._buff));var t=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(t/4294967296),!1),this._buffDV.setUint32(60,t%4294967296,!1),this._step()};t.prototype._step=function(){var i=t._bigBlock32,n=this._buffDV;for(var r=0;r<64;r+=4)i.setUint32(r,n.getUint32(r,!1),!1);for(var r=64;r<320;r+=4)i.setUint32(r,ga(i.getUint32(r-12,!1)^i.getUint32(r-32,!1)^i.getUint32(r-56,!1)^i.getUint32(r-64,!1),1),!1);var e,o,s,u=this._h0,a=this._h1,c=this._h2,h=this._h3,f=this._h4;for(var r=0;r<80;r++)r<20?(e=a&c|~a&h,o=1518500249):r<40?(e=a^c^h,o=1859775393):r<60?(e=a&c|a&h|c&h,o=2400959708):(e=a^c^h,o=3395469782),s=ga(u,5)+e+f+o+i.getUint32(4*r,!1)&4294967295,f=h,h=c,c=ga(a,30),a=u,u=s;this._h0=this._h0+u&4294967295,this._h1=this._h1+a&4294967295,this._h2=this._h2+c&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+f&4294967295};return t}();ma._bigBlock32=new DataView(new ArrayBuffer(320));var ba=function(){var t=new Map;(function(t,i){var n=t;typeof n.vscodeWindowId!="number"&&Object.defineProperty(n,"vscodeWindowId",{get:function(){return i}})})(go,1);var i={window:go,disposables:new Bn};t.set(go.vscodeWindowId,i);var n=new Ln,r=new Ln,e=new Ln;return{onDidRegisterWindow:n.event,onWillUnregisterWindow:e.event,onDidUnregisterWindow:r.event,registerWindow:function(i){if(t.has(i.vscodeWindowId))return Cn.None;var o=new Bn,s={window:i,disposables:o.add(new Bn)};return t.set(i.vscodeWindowId,s),o.add(En((function(){t.delete(i.vscodeWindowId),r.fire(i)}))),o.add(Oa(i,Ec.BEFORE_UNLOAD,(function(){e.fire(i)}))),n.fire(s),o},getWindows:function(){return t.values()},getWindowsCount:function(){return t.size},getWindowId:function(t){return t.vscodeWindowId},hasWindow:function(i){return t.has(i)},getWindowById:function(n,r){var e=typeof n=="number"?t.get(n):void 0;return e!==null&&e!==void 0?e:r?i:void 0},getWindow:function(t){var i;var n=t;if(!((i=n==null?void 0:n.ownerDocument)===null||i===void 0)&&i.defaultView)return n.ownerDocument.defaultView.window;var r=t;return r!=null&&r.view?r.view.window:go},getDocument:function(t){return ka(t).document}}}(),ya=ba.registerWindow,ka=ba.getWindow,xa=ba.getDocument,Ea=ba.getWindows,Ba=ba.getWindowsCount,Ca=ba.getWindowId,Da=ba.getWindowById,Ma=ba.hasWindow,_a=ba.onDidRegisterWindow,Fa=ba.onWillUnregisterWindow,Sa=ba.onDidUnregisterWindow;function Ia(t){for(;t.firstChild;)t.firstChild.remove()}var Qa=function(){function t(t,i,n,r){this._node=t,this._type=i,this._handler=n,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}t.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)};return t}();function Oa(t,i,n,r){return new Qa(t,i,n,r)}function Na(t,i){return function(n){return i(new Ts(t,n))}}var Ra=function(t,i,n,r){var e=n;return i==="click"||i==="mousedown"?e=Na(ka(t),n):i!=="keydown"&&i!=="keypress"&&i!=="keyup"||(e=function(t){return function(i){return t(new Qs(i))}}(n)),Oa(t,i,e,r)},Ta=function(t,i,n){return function(t,i,n){return Oa(t,Zt&&Es?Ec.POINTER_DOWN:Ec.MOUSE_DOWN,i,n)}(t,Na(ka(t),i),n)};function La(t,i,n){return $s(t,i,n)}var ja=function(t){__extends(i,t);function i(i,n){return t.call(this,i,n)||this}return i}(tu);var za,Ua;var Ha=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.defaultTarget=i&&ka(i);return n}i.prototype.cancelAndSet=function(i,n,r){return t.prototype.cancelAndSet.call(this,i,n,r!==null&&r!==void 0?r:this.defaultTarget)};return i}(Xs);var Ya=function(){function t(t,i){if(i===void 0){i=0}this._runner=t,this.priority=i,this._canceled=!1}t.prototype.dispose=function(){this._canceled=!0};t.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(t){cn(t)}};t.sort=function(t,i){return i.priority-t.priority};return t}();function Ja(t){return ka(t).getComputedStyle(t,null)}function Pa(t,i){var n=ka(t),r=n.document;if(t!==r.body)return new Ga(t.clientWidth,t.clientHeight);if(Zt&&(n!=null&&n.visualViewport))return new Ga(n.visualViewport.width,n.visualViewport.height);if(n!=null&&n.innerWidth&&n.innerHeight)return new Ga(n.innerWidth,n.innerHeight);if(r.body&&r.body.clientWidth&&r.body.clientHeight)return new Ga(r.body.clientWidth,r.body.clientHeight);if(r.documentElement&&r.documentElement.clientWidth&&r.documentElement.clientHeight)return new Ga(r.documentElement.clientWidth,r.documentElement.clientHeight);if(i)return Pa(i);throw new Error("Unable to figure out browser width and height")}(function(){var t=new Map,i=new Map,n=new Map,r=new Map;Ua=function(e,o,s){if(s===void 0){s=0}var u=Ca(e),a=new Ya(o,s);var c=t.get(u);return c||(c=[],t.set(u,c)),c.push(a),n.get(u)||(n.set(u,!0),e.requestAnimationFrame((function(){return function(e){var o;n.set(e,!1);var s=(o=t.get(e))!==null&&o!==void 0?o:[];for(i.set(e,s),t.set(e,[]),r.set(e,!0);s.length>0;)s.sort(Ya.sort),s.shift().execute();r.set(e,!1)}(u)}))),a},za=function(t,n,e){var o=Ca(t);if(r.get(o)){var s=new Ya(n,e);var u=i.get(o);return u||(u=[],i.set(o,u)),u.push(s),s}return Ua(t,n,e)}})();var Wa=function(){function t(){}t.convertToPixels=function(t,i){return parseFloat(i)||0};t.getDimension=function(i,n,r){var e=Ja(i),o=e?e.getPropertyValue(n):"0";return t.convertToPixels(i,o)};t.getBorderLeftWidth=function(i){return t.getDimension(i,"border-left-width","borderLeftWidth")};t.getBorderRightWidth=function(i){return t.getDimension(i,"border-right-width","borderRightWidth")};t.getBorderTopWidth=function(i){return t.getDimension(i,"border-top-width","borderTopWidth")};t.getBorderBottomWidth=function(i){return t.getDimension(i,"border-bottom-width","borderBottomWidth")};t.getPaddingLeft=function(i){return t.getDimension(i,"padding-left","paddingLeft")};t.getPaddingRight=function(i){return t.getDimension(i,"padding-right","paddingRight")};t.getPaddingTop=function(i){return t.getDimension(i,"padding-top","paddingTop")};t.getPaddingBottom=function(i){return t.getDimension(i,"padding-bottom","paddingBottom")};t.getMarginLeft=function(i){return t.getDimension(i,"margin-left","marginLeft")};t.getMarginTop=function(i){return t.getDimension(i,"margin-top","marginTop")};t.getMarginRight=function(i){return t.getDimension(i,"margin-right","marginRight")};t.getMarginBottom=function(i){return t.getDimension(i,"margin-bottom","marginBottom")};return t}();var Ga=function(){function t(t,i){this.width=t,this.height=i}t.prototype.with=function(i,n){if(i===void 0){i=this.width}if(n===void 0){n=this.height}return i!==this.width||n!==this.height?new t(i,n):this};t.is=function(t){return typeof t=="object"&&typeof t.height=="number"&&typeof t.width=="number"};t.lift=function(i){return i instanceof t?i:new t(i.width,i.height)};t.equals=function(t,i){return t===i||!(!t||!i)&&t.width===i.width&&t.height===i.height};return t}();function Va(t){var i=t.offsetParent,n=t.offsetTop,r=t.offsetLeft;for(;(t=t.parentNode)!==null&&t!==t.ownerDocument.body&&t!==t.ownerDocument.documentElement;){n-=t.scrollTop;var e=rc(t)?null:Ja(t);e&&(r-=e.direction!=="rtl"?t.scrollLeft:-t.scrollLeft),t===i&&(r+=Wa.getBorderLeftWidth(t),n+=Wa.getBorderTopWidth(t),n+=t.offsetTop,r+=t.offsetLeft,i=t.offsetParent)}return{left:r,top:n}}function Ka(t){var i=t.getBoundingClientRect(),n=ka(t);return{left:i.left+n.scrollX,top:i.top+n.scrollY,width:i.width,height:i.height}}function Xa(t){var i=t,n=1;do{var r=Ja(i).zoom;r!=null&&r!=="1"&&(n*=r),i=i.parentElement}while(i!==null&&i!==i.ownerDocument.documentElement);return n}function qa(t){var i=Wa.getMarginLeft(t)+Wa.getMarginRight(t);return t.offsetWidth+i}function Za(t){var i=Wa.getBorderLeftWidth(t)+Wa.getBorderRightWidth(t),n=Wa.getPaddingLeft(t)+Wa.getPaddingRight(t);return t.offsetWidth-i-n}function $a(t){var i=Wa.getBorderTopWidth(t)+Wa.getBorderBottomWidth(t),n=Wa.getPaddingTop(t)+Wa.getPaddingBottom(t);return t.offsetHeight-i-n}function tc(t){var i=Wa.getMarginTop(t)+Wa.getMarginBottom(t);return t.offsetHeight+i}function ic(t,i){return!!(i!=null&&i.contains(t))}function nc(t,i,n){return!!function(t,i,n){for(;t&&t.nodeType===t.ELEMENT_NODE;){if(t.classList.contains(i))return t;if(n){if(typeof n=="string"){if(t.classList.contains(n))return null}else if(t===n)return null}t=t.parentNode}return null}(t,i,n)}function rc(t){return t&&!!t.host&&!!t.mode}function ec(t){return!!oc(t)}function oc(t){for(var i;t.parentNode;){if(t===((i=t.ownerDocument)===null||i===void 0?void 0:i.body))return null;t=t.parentNode}return rc(t)?t:null}function sc(){var t=cc().activeElement;for(;t!=null&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function uc(t){return sc()===t}function ac(t){return ic(sc(),t)}function cc(){var t;return Ba()<=1?go.document:(t=Array.from(Ea()).map((function(t){var i=t.window;return i.document})).find((function(t){return t.hasFocus()})))!==null&&t!==void 0?t:go.document}Ga.None=new Ga(0,0);var hc=new Map;function fc(){return new lc}var lc=function(){function t(){this._currentCssStyle="",this._styleSheet=void 0}t.prototype.setStyle=function(t){t!==this._currentCssStyle&&(this._currentCssStyle=t,this._styleSheet?this._styleSheet.innerText=t:this._styleSheet=dc(go.document.head,(function(i){return i.innerText=t})))};t.prototype.dispose=function(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)};return t}();function dc(t,i,n){if(t===void 0){t=go.document.head}var r=document.createElement("style");if(r.type="text/css",r.media="screen",i==null||i(r),t.appendChild(r),n&&n.add(En((function(){return t.removeChild(r)}))),t===go.document.head){var e=new Set;hc.set(r,e);for(var o=0,s=Ea();o<s.length;o++){var u=s[o],a=u.window,c=u.disposables;if(a===go)continue;var h=c.add(vc(r,e,a));n==null||n.add(h)}}return r}function vc(t,i,n){var r,e;var o=new Bn,s=t.cloneNode(!0);n.document.head.appendChild(s),o.add(En((function(){return n.document.head.removeChild(s)})));for(var u=0,a=pc(t);u<a.length;u++){var c=a[u];(r=s.sheet)===null||r===void 0||r.insertRule(c.cssText,(e=s.sheet)===null||e===void 0?void 0:e.cssRules.length)}return o.add(Ac.observe(t,o,{childList:!0})((function(){s.textContent=t.textContent}))),i.add(s),o.add(En((function(){return i.delete(s)}))),o}var Ac=new(function(){function t(){this.mutationObservers=new Map}t.prototype.observe=function(t,i,n){var r=this;var e=this.mutationObservers.get(t);e||(e=new Map,this.mutationObservers.set(t,e));var o=la(n);var s=e.get(o);if(s)s.users+=1;else{var u=new Ln,a=new MutationObserver((function(t){return u.fire(t)}));a.observe(t,n);var c=s={users:1,observer:a,onDidMutate:u.event};i.add(En((function(){c.users-=1,c.users===0&&(u.dispose(),a.disconnect(),e==null||e.delete(o),(e==null?void 0:e.size)===0&&r.mutationObservers.delete(t))}))),e.set(o,s)}return s.onDidMutate};return t}());var gc=null;function wc(){return gc||(gc=dc()),gc}function pc(t){var i,n;return!((i=t==null?void 0:t.sheet)===null||i===void 0)&&i.rules?t.sheet.rules:!((n=t==null?void 0:t.sheet)===null||n===void 0)&&n.cssRules?t.sheet.cssRules:[]}function mc(t,i,n){if(n===void 0){n=wc()}var r,e;if(n&&i){(r=n.sheet)===null||r===void 0||r.insertRule("".concat(t," {").concat(i,"}"),0);for(var o=0,s=(e=hc.get(n))!==null&&e!==void 0?e:[];o<s.length;o++){var u=s[o];mc(t,i,u)}}}function bc(t,i){if(i===void 0){i=wc()}var n,r;if(!i)return;var e=pc(i),o=[];for(var s=0;s<e.length;s++){var u=e[s];yc(u)&&u.selectorText.indexOf(t)!==-1&&o.push(s)}for(var s=o.length-1;s>=0;s--)(n=i.sheet)===null||n===void 0||n.deleteRule(o[s]);for(var a=0,c=(r=hc.get(i))!==null&&r!==void 0?r:[];a<c.length;a++){var s=c[a];bc(t,s)}}function yc(t){return typeof t.selectorText=="string"}function kc(t){return t instanceof MouseEvent||t instanceof ka(t).MouseEvent}function xc(t){return t instanceof KeyboardEvent||t instanceof ka(t).KeyboardEvent}var Ec={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ms?"webkitAnimationStart":"animationstart",ANIMATION_END:ms?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ms?"webkitAnimationIteration":"animationiteration"};function Bc(t){var i=t;return!(!i||typeof i.preventDefault!="function"||typeof i.stopPropagation!="function")}var Cc=function(t,i){return t.preventDefault(),i&&t.stopPropagation(),t};var Dc=function(t){__extends(i,t);function i(n){var r=this;r=t.call(this)||this,r._onDidFocus=r._register(new Ln),r.onDidFocus=r._onDidFocus.event,r._onDidBlur=r._register(new Ln),r.onDidBlur=r._onDidBlur.event;var e=i.hasFocusWithin(n),o=!1;var s=function(){o=!1,e||(e=!0,r._onDidFocus.fire())},u=function(){e&&(o=!0,(n instanceof HTMLElement?ka(n):n).setTimeout((function(){o&&(o=!1,e=!1,r._onDidBlur.fire())}),0))};r._refreshStateHandler=function(){i.hasFocusWithin(n)!==e&&(e?u():s())},r._register(Oa(n,Ec.FOCUS,s,!0)),r._register(Oa(n,Ec.BLUR,u,!0)),n instanceof HTMLElement&&(r._register(Oa(n,Ec.FOCUS_IN,(function(){return r._refreshStateHandler()}))),r._register(Oa(n,Ec.FOCUS_OUT,(function(){return r._refreshStateHandler()}))));return r}i.hasFocusWithin=function(t){if(t instanceof HTMLElement){var i=oc(t);return ic(i?i.activeElement:t.ownerDocument.activeElement,t)}{var i=t;return ic(i.document.activeElement,i.document)}};return i}(Cn);function Mc(t){return new Dc(t)}function _c(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}if(t.append.apply(t,i),i.length===1&&typeof i[0]!="string")return i[0]}function Fc(t,i){return t.insertBefore(i,t.firstChild),i}function Sc(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}t.innerText="",_c.apply(void 0,__spreadArray([t],i,false))}var Ic=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Qc;function Oc(t,i,n){var r=[];for(var e=3;e<arguments.length;e++){r[e-3]=arguments[e]}var o=Ic.exec(i);if(!o)throw new Error("Bad use of emmet");var s=o[1]||"div";var u;return u=t!==Qc.HTML?document.createElementNS(t,s):document.createElement(s),o[3]&&(u.id=o[3]),o[4]&&(u.className=o[4].replace(/\./g," ").trim()),n&&Object.entries(n).forEach((function(t){var i=t[0],n=t[1];n!==void 0&&(/^on\w+$/.test(i)?u[i]=n:i==="selected"?n&&u.setAttribute(i,"true"):u.setAttribute(i,n))})),u.append.apply(u,r),u}function Nc(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}return Oc.apply(void 0,__spreadArray([Qc.HTML,t,i],n,false))}function Rc(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}for(var n=0,r=t;n<r.length;n++){var e=r[n];e.style.display="",e.removeAttribute("aria-hidden")}}function Tc(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}for(var n=0,r=t;n<r.length;n++){var e=r[n];e.style.display="none",e.setAttribute("aria-hidden","true")}}function Lc(t,i){var n=t.devicePixelRatio*i;return Math.max(1,Math.floor(n))/t.devicePixelRatio}function jc(t){go.open(t,"_blank","noopener")}function zc(t){return t?"url('".concat(ha.uriToBrowserUri(t).toString(!0).replace(/'/g,"%27"),"')"):"url('')"}function Uc(t){return"'".concat(t.replace(/'/g,"%27"),"'")}function Hc(t,i){if(t!==void 0){var n=t.match(/^\s*var\((.+)\)$/);if(n){var r=n[1].split(",",2);return r.length===2&&(i=Hc(r[1].trim(),i)),"var(".concat(r[0],", ").concat(i,")")}return t}return i}(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.SVG="http://www.w3.org/2000/svg"})(Qc||(Qc={})),Nc.SVG=function(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}return Oc.apply(void 0,__spreadArray([Qc.SVG,t,i],n,false))},aa.setPreferredWebSchema(/^https:/.test(go.location.href)?"https":"http");var Yc=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);var Jc=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._subscriptions=new Bn,i._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},i._subscriptions.add(Qn.runAndSubscribe(_a,(function(t){var n=t.window,r=t.disposables;return i.registerListeners(n,r)}),{window:go,disposables:i._subscriptions}));return i}i.prototype.registerListeners=function(t,i){var n=this;i.add(Oa(t,"keydown",(function(t){if(t.defaultPrevented)return;var i=new Qs(t);if(i.keyCode!==6||!t.repeat){if(t.altKey&&!n._keyStatus.altKey)n._keyStatus.lastKeyPressed="alt";else if(t.ctrlKey&&!n._keyStatus.ctrlKey)n._keyStatus.lastKeyPressed="ctrl";else if(t.metaKey&&!n._keyStatus.metaKey)n._keyStatus.lastKeyPressed="meta";else if(t.shiftKey&&!n._keyStatus.shiftKey)n._keyStatus.lastKeyPressed="shift";else{if(i.keyCode===6)return;n._keyStatus.lastKeyPressed=void 0}n._keyStatus.altKey=t.altKey,n._keyStatus.ctrlKey=t.ctrlKey,n._keyStatus.metaKey=t.metaKey,n._keyStatus.shiftKey=t.shiftKey,n._keyStatus.lastKeyPressed&&(n._keyStatus.event=t,n.fire(n._keyStatus))}}),!0)),i.add(Oa(t,"keyup",(function(t){t.defaultPrevented||(!t.altKey&&n._keyStatus.altKey?n._keyStatus.lastKeyReleased="alt":!t.ctrlKey&&n._keyStatus.ctrlKey?n._keyStatus.lastKeyReleased="ctrl":!t.metaKey&&n._keyStatus.metaKey?n._keyStatus.lastKeyReleased="meta":!t.shiftKey&&n._keyStatus.shiftKey?n._keyStatus.lastKeyReleased="shift":n._keyStatus.lastKeyReleased=void 0,n._keyStatus.lastKeyPressed!==n._keyStatus.lastKeyReleased&&(n._keyStatus.lastKeyPressed=void 0),n._keyStatus.altKey=t.altKey,n._keyStatus.ctrlKey=t.ctrlKey,n._keyStatus.metaKey=t.metaKey,n._keyStatus.shiftKey=t.shiftKey,n._keyStatus.lastKeyReleased&&(n._keyStatus.event=t,n.fire(n._keyStatus)))}),!0)),i.add(Oa(t.document.body,"mousedown",(function(){n._keyStatus.lastKeyPressed=void 0}),!0)),i.add(Oa(t.document.body,"mouseup",(function(){n._keyStatus.lastKeyPressed=void 0}),!0)),i.add(Oa(t.document.body,"mousemove",(function(t){t.buttons&&(n._keyStatus.lastKeyPressed=void 0)}),!0)),i.add(Oa(t,"blur",(function(){n.resetKeyStatus()})))};Object.defineProperty(i.prototype,"keyStatus",{get:function(){return this._keyStatus},enumerable:false,configurable:true});i.prototype.resetKeyStatus=function(){this.doResetKeyStatus(),this.fire(this._keyStatus)};i.prototype.doResetKeyStatus=function(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}};i.getInstance=function(){return i.instance||(i.instance=new i),i.instance};i.prototype.dispose=function(){t.prototype.dispose.call(this),this._subscriptions.dispose()};return i}(Ln);var Pc=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.element=i,r.callbacks=n,r.counter=0,r.dragStartTime=0,r.registerListeners();return r}i.prototype.registerListeners=function(){var t=this;this.callbacks.onDragStart&&this._register(Oa(this.element,Ec.DRAG_START,(function(i){var n,r;(r=(n=t.callbacks).onDragStart)===null||r===void 0||r.call(n,i)}))),this.callbacks.onDrag&&this._register(Oa(this.element,Ec.DRAG,(function(i){var n,r;(r=(n=t.callbacks).onDrag)===null||r===void 0||r.call(n,i)}))),this._register(Oa(this.element,Ec.DRAG_ENTER,(function(i){var n,r;t.counter++,t.dragStartTime=i.timeStamp,(r=(n=t.callbacks).onDragEnter)===null||r===void 0||r.call(n,i)}))),this._register(Oa(this.element,Ec.DRAG_OVER,(function(i){var n,r;i.preventDefault(),(r=(n=t.callbacks).onDragOver)===null||r===void 0||r.call(n,i,i.timeStamp-t.dragStartTime)}))),this._register(Oa(this.element,Ec.DRAG_LEAVE,(function(i){var n,r;t.counter--,t.counter===0&&(t.dragStartTime=0,(r=(n=t.callbacks).onDragLeave)===null||r===void 0||r.call(n,i))}))),this._register(Oa(this.element,Ec.DRAG_END,(function(i){var n,r;t.counter=0,t.dragStartTime=0,(r=(n=t.callbacks).onDragEnd)===null||r===void 0||r.call(n,i)}))),this._register(Oa(this.element,Ec.DROP,(function(i){var n,r;t.counter=0,t.dragStartTime=0,(r=(n=t.callbacks).onDrop)===null||r===void 0||r.call(n,i)})))};return i}(Cn);var Wc=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Gc(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r,e;Array.isArray(i[0])?(r={},e=i[0]):(r=i[0]||{},e=i[1]);var o=Wc.exec(t);if(!o||!o.groups)throw new Error("Bad use of h");var s=o.groups.tag||"div",u=document.createElement(s);o.groups.id&&(u.id=o.groups.id);var a=[];if(o.groups.class)for(var c=0,h=o.groups.class.split(".");c<h.length;c++){var f=h[c];f!==""&&a.push(f)}if(r.className!==void 0)for(var l=0,d=r.className.split(".");l<d.length;l++){var f=d[l];f!==""&&a.push(f)}a.length>0&&(u.className=a.join(" "));var v={};if(o.groups.name&&(v[o.groups.name]=u),e)for(var A=0,g=e;A<g.length;A++){var f=g[A];f instanceof HTMLElement?u.appendChild(f):typeof f=="string"?u.append(f):"root"in f&&(Object.assign(v,f),u.appendChild(f.root))}for(var w=0,p=Object.entries(r);w<p.length;w++){var m=p[w],f=m[0],b=m[1];if(f!=="className")if(f==="style")for(var y=0,k=Object.entries(b);y<k.length;y++){var x=k[y],E=x[0],B=x[1];u.style.setProperty(Vc(E),typeof B=="number"?B+"px":""+B)}else f==="tabIndex"?u.tabIndex=b:u.setAttribute(Vc(f),b.toString())}return v.root=u,v}function Vc(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var Kc=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._onDidChange=n._register(new Ln),n.onDidChange=n._onDidChange.event,n._listener=function(){return n._handleChange(i,!0)},n._mediaQueryList=null,n._handleChange(i,!1);return n}i.prototype._handleChange=function(t,i){var n;(n=this._mediaQueryList)===null||n===void 0||n.removeEventListener("change",this._listener),this._mediaQueryList=t.matchMedia("(resolution: ".concat(t.devicePixelRatio,"dppx)")),this._mediaQueryList.addEventListener("change",this._listener),i&&this._onDidChange.fire()};return i}(Cn);var Xc=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._onDidChange=n._register(new Ln),n.onDidChange=n._onDidChange.event,n._value=n._getPixelRatio(i);var r=n._register(new Kc(i));n._register(r.onDidChange((function(){n._value=n._getPixelRatio(i),n._onDidChange.fire(n._value)})));return n}Object.defineProperty(i.prototype,"value",{get:function(){return this._value},enumerable:false,configurable:true});i.prototype._getPixelRatio=function(t){var i=document.createElement("canvas").getContext("2d");return(t.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)};return i}(Cn);var qc=new(function(){function t(){this.mapWindowIdToPixelRatioMonitor=new Map}t.prototype._getOrCreatePixelRatioMonitor=function(t){var i=this;var n=Ca(t);var r=this.mapWindowIdToPixelRatioMonitor.get(n);return r||(r=new Xc(t),this.mapWindowIdToPixelRatioMonitor.set(n,r),Qn.once(Sa)((function(t){var e=t.vscodeWindowId;e===n&&(r==null||r.dispose(),i.mapWindowIdToPixelRatioMonitor.delete(n))}))),r};t.prototype.getInstance=function(t){return this._getOrCreatePixelRatioMonitor(t)};return t}());var Zc=function(){function t(t){this.domNode=t,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}t.prototype.setMaxWidth=function(t){var i=$c(t);this._maxWidth!==i&&(this._maxWidth=i,this.domNode.style.maxWidth=this._maxWidth)};t.prototype.setWidth=function(t){var i=$c(t);this._width!==i&&(this._width=i,this.domNode.style.width=this._width)};t.prototype.setHeight=function(t){var i=$c(t);this._height!==i&&(this._height=i,this.domNode.style.height=this._height)};t.prototype.setTop=function(t){var i=$c(t);this._top!==i&&(this._top=i,this.domNode.style.top=this._top)};t.prototype.setLeft=function(t){var i=$c(t);this._left!==i&&(this._left=i,this.domNode.style.left=this._left)};t.prototype.setBottom=function(t){var i=$c(t);this._bottom!==i&&(this._bottom=i,this.domNode.style.bottom=this._bottom)};t.prototype.setRight=function(t){var i=$c(t);this._right!==i&&(this._right=i,this.domNode.style.right=this._right)};t.prototype.setPaddingLeft=function(t){var i=$c(t);this._paddingLeft!==i&&(this._paddingLeft=i,this.domNode.style.paddingLeft=this._paddingLeft)};t.prototype.setFontFamily=function(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)};t.prototype.setFontWeight=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)};t.prototype.setFontSize=function(t){var i=$c(t);this._fontSize!==i&&(this._fontSize=i,this.domNode.style.fontSize=this._fontSize)};t.prototype.setFontStyle=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.domNode.style.fontStyle=this._fontStyle)};t.prototype.setFontFeatureSettings=function(t){this._fontFeatureSettings!==t&&(this._fontFeatureSettings=t,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)};t.prototype.setFontVariationSettings=function(t){this._fontVariationSettings!==t&&(this._fontVariationSettings=t,this.domNode.style.fontVariationSettings=this._fontVariationSettings)};t.prototype.setTextDecoration=function(t){this._textDecoration!==t&&(this._textDecoration=t,this.domNode.style.textDecoration=this._textDecoration)};t.prototype.setLineHeight=function(t){var i=$c(t);this._lineHeight!==i&&(this._lineHeight=i,this.domNode.style.lineHeight=this._lineHeight)};t.prototype.setLetterSpacing=function(t){var i=$c(t);this._letterSpacing!==i&&(this._letterSpacing=i,this.domNode.style.letterSpacing=this._letterSpacing)};t.prototype.setClassName=function(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)};t.prototype.toggleClassName=function(t,i){this.domNode.classList.toggle(t,i),this._className=this.domNode.className};t.prototype.setDisplay=function(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)};t.prototype.setPosition=function(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)};t.prototype.setVisibility=function(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)};t.prototype.setColor=function(t){this._color!==t&&(this._color=t,this.domNode.style.color=this._color)};t.prototype.setBackgroundColor=function(t){this._backgroundColor!==t&&(this._backgroundColor=t,this.domNode.style.backgroundColor=this._backgroundColor)};t.prototype.setLayerHinting=function(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")};t.prototype.setBoxShadow=function(t){this._boxShadow!==t&&(this._boxShadow=t,this.domNode.style.boxShadow=t)};t.prototype.setContain=function(t){this._contain!==t&&(this._contain=t,this.domNode.style.contain=this._contain)};t.prototype.setAttribute=function(t,i){this.domNode.setAttribute(t,i)};t.prototype.removeAttribute=function(t){this.domNode.removeAttribute(t)};t.prototype.appendChild=function(t){this.domNode.appendChild(t.domNode)};t.prototype.removeChild=function(t){this.domNode.removeChild(t.domNode)};return t}();function $c(t){return typeof t=="number"?"".concat(t,"px"):t}function th(t){return new Zc(t)}function ih(t,i){t instanceof Zc?(t.setFontFamily(i.getMassagedFontFamily()),t.setFontWeight(i.fontWeight),t.setFontSize(i.fontSize),t.setFontFeatureSettings(i.fontFeatureSettings),t.setFontVariationSettings(i.fontVariationSettings),t.setLineHeight(i.lineHeight),t.setLetterSpacing(i.letterSpacing)):(t.style.fontFamily=i.getMassagedFontFamily(),t.style.fontWeight=i.fontWeight,t.style.fontSize=i.fontSize+"px",t.style.fontFeatureSettings=i.fontFeatureSettings,t.style.fontVariationSettings=i.fontVariationSettings,t.style.lineHeight=i.lineHeight+"px",t.style.letterSpacing=i.letterSpacing+"px")}var nh=function(){function t(t,i){this.chr=t,this.type=i,this.width=0}t.prototype.fulfill=function(t){this.width=t};return t}();var rh=function(){function t(t,i){this._bareFontInfo=t,this._requests=i,this._container=null,this._testElements=null}t.prototype.read=function(t){this._createDomElements(),t.document.body.appendChild(this._container),this._readFromDomElements(),t.document.body.removeChild(this._container),this._container=null,this._testElements=null};t.prototype._createDomElements=function(){var i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";var n=document.createElement("div");ih(n,this._bareFontInfo),i.appendChild(n);var r=document.createElement("div");ih(r,this._bareFontInfo),r.style.fontWeight="bold",i.appendChild(r);var e=document.createElement("div");ih(e,this._bareFontInfo),e.style.fontStyle="italic",i.appendChild(e);var o=[];for(var s=0,u=this._requests;s<u.length;s++){var a=u[s];var c=void 0;a.type===0&&(c=n),a.type===2&&(c=r),a.type===1&&(c=e),c.appendChild(document.createElement("br"));var h=document.createElement("span");t._render(h,a),c.appendChild(h),o.push(h)}this._container=i,this._testElements=o};t._render=function(t,i){if(i.chr===" "){var n=" ";for(var r=0;r<8;r++)n+=n;t.innerText=n}else{var n=i.chr;for(var r=0;r<8;r++)n+=n;t.textContent=n}};t.prototype._readFromDomElements=function(){for(var t=0,i=this._requests.length;t<i;t++){var n=this._requests[t],r=this._testElements[t];n.fulfill(r.offsetWidth/256)}};return t}();var eh=new(function(){function t(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Ln,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}t.prototype.getZoomLevel=function(){return this._zoomLevel};t.prototype.setZoomLevel=function(t){t=Math.min(Math.max(-5,t),20),this._zoomLevel!==t&&(this._zoomLevel=t,this._onDidChangeZoomLevel.fire(this._zoomLevel))};return t}()),oh=Gt?1.5:1.35;var sh=function(){function t(t){this._bareFontInfoBrand=void 0,this.pixelRatio=t.pixelRatio,this.fontFamily=String(t.fontFamily),this.fontWeight=String(t.fontWeight),this.fontSize=t.fontSize,this.fontFeatureSettings=t.fontFeatureSettings,this.fontVariationSettings=t.fontVariationSettings,this.lineHeight=0|t.lineHeight,this.letterSpacing=t.letterSpacing}t.createFromValidatedSettings=function(i,n,r){var e=i.get(49),o=i.get(53),s=i.get(52),u=i.get(51),a=i.get(54),c=i.get(67),h=i.get(64);return t._create(e,o,s,u,a,c,h,n,r)};t._create=function(i,n,r,e,o,s,u,a,c){s===0?s=oh*r:s<8&&(s*=r),(s=Math.round(s))<8&&(s=8);var h=1+(c?0:.1*eh.getZoomLevel());return r*=h,s*=h,o===Yi.TRANSLATE&&(n==="normal"||n==="bold"?o=Yi.OFF:(o="'wght' ".concat(parseInt(n,10)),n="normal")),new t({pixelRatio:a,fontFamily:i,fontWeight:n,fontSize:r,fontFeatureSettings:e,fontVariationSettings:o,lineHeight:s,letterSpacing:u})};t.prototype.getId=function(){return"".concat(this.pixelRatio,"-").concat(this.fontFamily,"-").concat(this.fontWeight,"-").concat(this.fontSize,"-").concat(this.fontFeatureSettings,"-").concat(this.fontVariationSettings,"-").concat(this.lineHeight,"-").concat(this.letterSpacing)};t.prototype.getMassagedFontFamily=function(){var i=en.fontFamily,n=t._wrapInQuotes(this.fontFamily);return i&&this.fontFamily!==i?"".concat(n,", ").concat(i):n};t._wrapInQuotes=function(t){return/[,"']/.test(t)?t:/[+ ]/.test(t)?'"'.concat(t,'"'):t};return t}();var uh=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._editorStylingBrand=void 0,r.version=2,r.isTrusted=n,r.isMonospace=i.isMonospace,r.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,r.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,r.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,r.spaceWidth=i.spaceWidth,r.middotWidth=i.middotWidth,r.wsmiddotWidth=i.wsmiddotWidth,r.maxDigitWidth=i.maxDigitWidth;return r}i.prototype.equals=function(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.fontFeatureSettings===t.fontFeatureSettings&&this.fontVariationSettings===t.fontVariationSettings&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.maxDigitWidth===t.maxDigitWidth};return i}(sh);var ah=function(){function t(){this._keys=Object.create(null),this._values=Object.create(null)}t.prototype.has=function(t){var i=t.getId();return!!this._values[i]};t.prototype.get=function(t){var i=t.getId();return this._values[i]};t.prototype.put=function(t,i){var n=t.getId();this._keys[n]=t,this._values[n]=i};t.prototype.remove=function(t){var i=t.getId();delete this._keys[i],delete this._values[i]};t.prototype.getValues=function(){var t=this;return Object.keys(this._keys).map((function(i){return t._values[i]}))};return t}();var ch=new(function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._cache=new Map,i._evictUntrustedReadingsTimeout=-1,i._onDidChange=i._register(new Ln),i.onDidChange=i._onDidChange.event;return i}i.prototype.dispose=function(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),t.prototype.dispose.call(this)};i.prototype.clearAllFontInfos=function(){this._cache.clear(),this._onDidChange.fire()};i.prototype._ensureCache=function(t){var i=Ca(t);var n=this._cache.get(i);return n||(n=new ah,this._cache.set(i,n)),n};i.prototype._writeToCache=function(t,i,n){var r=this;this._ensureCache(t).put(i,n),n.isTrusted||this._evictUntrustedReadingsTimeout!==-1||(this._evictUntrustedReadingsTimeout=t.setTimeout((function(){r._evictUntrustedReadingsTimeout=-1,r._evictUntrustedReadings(t)}),5e3))};i.prototype._evictUntrustedReadings=function(t){var i=this._ensureCache(t),n=i.getValues();var r=!1;for(var e=0,o=n;e<o.length;e++){var s=o[e];s.isTrusted||(r=!0,i.remove(s))}r&&this._onDidChange.fire()};i.prototype.readFontInfo=function(t,i){var n=this._ensureCache(t);if(!n.has(i)){var r=this._actualReadFontInfo(t,i);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new uh({pixelRatio:qc.getInstance(t).value,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,fontVariationSettings:r.fontVariationSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),middotWidth:Math.max(r.middotWidth,5),wsmiddotWidth:Math.max(r.wsmiddotWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(t,i,r)}return n.get(i)};i.prototype._createRequest=function(t,i,n,r){var e=new nh(t,i);return n.push(e),r==null||r.push(e),e};i.prototype._actualReadFontInfo=function(t,i){var n=[],r=[],e=this._createRequest("n",0,n,r),o=this._createRequest("ｍ",0,n,null),s=this._createRequest(" ",0,n,r),u=this._createRequest("0",0,n,r),a=this._createRequest("1",0,n,r),c=this._createRequest("2",0,n,r),h=this._createRequest("3",0,n,r),f=this._createRequest("4",0,n,r),l=this._createRequest("5",0,n,r),d=this._createRequest("6",0,n,r),v=this._createRequest("7",0,n,r),A=this._createRequest("8",0,n,r),g=this._createRequest("9",0,n,r),w=this._createRequest("→",0,n,r),p=this._createRequest("￫",0,n,null),m=this._createRequest("·",0,n,r),b=this._createRequest("⸱",0,n,null),y="|/-_ilm%";for(var k=0,x=8;k<x;k++)this._createRequest(y.charAt(k),0,n,r),this._createRequest(y.charAt(k),1,n,r),this._createRequest(y.charAt(k),2,n,r);(function(t,i,n){new rh(i,n).read(t)})(t,i,n);var E=Math.max(u.width,a.width,c.width,h.width,f.width,l.width,d.width,v.width,A.width,g.width);var B=i.fontFeatureSettings===Hi.OFF;var C=r[0].width;for(var k=1,x=r.length;B&&k<x;k++){var D=C-r[k].width;if(D<-.001||D>.001){B=!1;break}}var M=!0;return B&&p.width!==C&&(M=!1),p.width>w.width&&(M=!1),new uh({pixelRatio:qc.getInstance(t).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:B,typicalHalfwidthCharacterWidth:e.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:M,spaceWidth:s.width,middotWidth:m.width,wsmiddotWidth:b.width,maxDigitWidth:E},!0)};return i}(Cn));var hh;(function(t){t.serviceIds=new Map,t.DI_TARGET="$di$target",t.DI_DEPENDENCIES="$di$dependencies",t.getServiceDependencies=function(i){return i[t.DI_DEPENDENCIES]||[]}})(hh||(hh={}));var fh=lh("instantiationService");function lh(t){if(hh.serviceIds.has(t))return hh.serviceIds.get(t);var i=function(t,n,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(t,i,n){i[hh.DI_TARGET]===i?i[hh.DI_DEPENDENCIES].push({id:t,index:n}):(i[hh.DI_DEPENDENCIES]=[{id:t,index:n}],i[hh.DI_TARGET]=i)})(i,t,r)};return i.toString=function(){return t},hh.serviceIds.set(t,i),i}var dh=lh("codeEditorService"),vh=lh("modelService"),Ah=lh("textModelService");var gh=function(t){__extends(i,t);function i(i,n,r,e,o){if(n===void 0){n=""}if(r===void 0){r=""}if(e===void 0){e=!0}var s=this;s=t.call(this)||this,s._onDidChange=s._register(new Ln),s.onDidChange=s._onDidChange.event,s._enabled=!0,s._id=i,s._label=n,s._cssClass=r,s._enabled=e,s._actionCallback=o;return s}Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(t){this._setLabel(t)},enumerable:false,configurable:true});i.prototype._setLabel=function(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))};Object.defineProperty(i.prototype,"tooltip",{get:function(){return this._tooltip||""},set:function(t){this._setTooltip(t)},enumerable:false,configurable:true});i.prototype._setTooltip=function(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))};Object.defineProperty(i.prototype,"class",{get:function(){return this._cssClass},set:function(t){this._setClass(t)},enumerable:false,configurable:true});i.prototype._setClass=function(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))};Object.defineProperty(i.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._setEnabled(t)},enumerable:false,configurable:true});i.prototype._setEnabled=function(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))};Object.defineProperty(i.prototype,"checked",{get:function(){return this._checked},set:function(t){this._setChecked(t)},enumerable:false,configurable:true});i.prototype._setChecked=function(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))};i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:i=this._actionCallback;if(!i)return[3,2];return[4,this._actionCallback(t)];case 1:i=n.sent();n.label=2;case 2:i;return[2]}}))}))};return i}(Cn);var wh=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._onWillRun=i._register(new Ln),i.onWillRun=i._onWillRun.event,i._onDidRun=i._register(new Ln),i.onDidRun=i._onDidRun.event;return i}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r;return __generator(this,(function(e){switch(e.label){case 0:if(!t.enabled)return[2];this._onWillRun.fire({action:t});e.label=1;case 1:e.trys.push([1,3,,4]);return[4,this.runAction(t,i)];case 2:e.sent();return[3,4];case 3:r=e.sent();n=r;return[3,4];case 4:this._onDidRun.fire({action:t,error:n});return[2]}}))}))};i.prototype.runAction=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,t.run(i)];case 1:n.sent();return[2]}}))}))};return i}(Cn);var ph=function(){function t(){this.id=t.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}t.join=function(){var i=[];for(var n=0;n<arguments.length;n++){i[n]=arguments[n]}var r=[];for(var e=0,o=i;e<o.length;e++){var s=o[e];s.length&&(r=r.length?__spreadArray(__spreadArray(__spreadArray([],r,true),[new t],false),s,true):s)}return r};t.prototype.run=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2]}))}))};return t}();ph.ID="vs.actions.separator";var mh=function(){function t(t,i,n,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=i,this.class=r,this._actions=n}Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},enumerable:false,configurable:true});t.prototype.run=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2]}))}))};return t}();var bh=function(t){__extends(i,t);function i(){return t.call(this,i.ID,Bt(0,"(empty)"),void 0,!1)||this}return i}(gh);function yh(t){var i=this;var n;return{id:t.id,label:t.label,class:t.class,enabled:(n=t.enabled)===null||n===void 0||n,checked:t.checked,run:function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(i){return[2,t.run.apply(t,n)]}))}))},tooltip:t.label}}var kh,xh;bh.ID="vs.actions.empty",function(t){t.isThemeColor=function(t){return t&&typeof t=="object"&&typeof t.id=="string"}}(kh||(kh={})),function(t){t.iconNameSegment="[A-Za-z0-9]+",t.iconNameExpression="[A-Za-z0-9-]+",t.iconModifierExpression="~[A-Za-z]+",t.iconNameCharacter="[A-Za-z0-9~-]";var i=new RegExp("^(".concat(t.iconNameExpression,")(").concat(t.iconModifierExpression,")?$"));function n(t){var r=i.exec(t.id);if(!r)return n(re.error);var e=r[1],o=r[2],s=["codicon","codicon-"+e];return o&&s.push("codicon-modifier-"+o.substring(1)),s}t.asClassNameArray=n,t.asClassName=function(t){return n(t).join(" ")},t.asCSSSelector=function(t){return"."+n(t).join(".")},t.isThemeIcon=function(t){return t&&typeof t=="object"&&typeof t.id=="string"&&(t.color===void 0||kh.isThemeColor(t.color))};var r=new RegExp("^\\$\\((".concat(t.iconNameExpression,"(?:").concat(t.iconModifierExpression,")?)\\)$"));t.fromString=function(t){var i=r.exec(t);if(!i)return;var n=i[1];return{id:n}},t.fromId=function(t){return{id:t}},t.modify=function(t,i){var n=t.id;var r=n.lastIndexOf("~");return r!==-1&&(n=n.substring(0,r)),i&&(n="".concat(n,"~").concat(i)),{id:n}},t.getModifier=function(t){var i=t.id.lastIndexOf("~");if(i!==-1)return t.id.substring(i+1)},t.isEqual=function(t,i){var n,r;return t.id===i.id&&((n=t.color)===null||n===void 0?void 0:n.id)===((r=i.color)===null||r===void 0?void 0:r.id)}}(xh||(xh={}));var Eh=lh("commandService"),Bh=new(function(){function t(){this._commands=new Map,this._onDidRegisterCommand=new Ln,this.onDidRegisterCommand=this._onDidRegisterCommand.event}t.prototype.registerCommand=function(t,i){var n=this;if(!t)throw new Error("invalid command");if(typeof t=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:t,handler:i})}if(t.metadata&&Array.isArray(t.metadata.args)){var r=[];for(var e=0,o=t.metadata.args;e<o.length;e++){var s=o[e];r.push(s.constraint)}var u=t.handler;t.handler=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return function(t,i){var n=Math.min(t.length,i.length);for(var r=0;r<n;r++)At(t[r],i[r])}(i,r),u.apply(void 0,__spreadArray([t],i,false))}}var a=t.id;var c=this._commands.get(a);c||(c=new gi,this._commands.set(a,c));var h=c.unshift(t),f=En((function(){h();var t=n._commands.get(a);t!=null&&t.isEmpty()&&n._commands.delete(a)}));return this._onDidRegisterCommand.fire(a),f};t.prototype.registerCommandAlias=function(t,i){return Bh.registerCommand(t,(function(t){var n;var r=[];for(var e=1;e<arguments.length;e++){r[e-1]=arguments[e]}return(n=t.get(Eh)).executeCommand.apply(n,__spreadArray([i],r,false))}))};t.prototype.getCommand=function(t){var i=this._commands.get(t);if(i&&!i.isEmpty())return vi.first(i)};t.prototype.getCommands=function(){var t=new Map;for(var i=0,n=this._commands.keys();i<n.length;i++){var r=n[i];var e=this.getCommand(r);e&&t.set(r,e)}return t};return t}());function Ch(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}switch(t.length){case 1:return Bt(0,"Did you mean {0}?",t[0]);case 2:return Bt(0,"Did you mean {0} or {1}?",t[0],t[1]);case 3:return Bt(0,"Did you mean {0}, {1} or {2}?",t[0],t[1],t[2]);default:return}}Bh.registerCommand("noop",(function(){}));var Dh=Bt(0,"Did you forget to open or close the quote?"),Mh=Bt(0,"Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");var _h=function(){function t(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}t.getLexeme=function(t){switch(t.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return t.isTripleEq?"===":"==";case 4:return t.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return t.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw gn("unhandled token type: ".concat(JSON.stringify(t),"; have you forgotten to add a case?"))}};t.prototype.reset=function(t){return this._input=t,this._start=0,this._current=0,this._tokens=[],this._errors=[],this};t.prototype.scan=function(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){var t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){var t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Ch("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Ch("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Ch("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)};t.prototype._match=function(t){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===t&&(this._current++,!0)};t.prototype._advance=function(){return this._input.charCodeAt(this._current++)};t.prototype._peek=function(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)};t.prototype._addToken=function(t){this._tokens.push({type:t,offset:this._start})};t.prototype._error=function(t){var i=this._start,n=this._input.substring(this._start,this._current),r={type:19,offset:this._start,lexeme:n};this._errors.push({offset:i,lexeme:n,additionalInfo:t}),this._tokens.push(r)};t.prototype._string=function(){this.stringRe.lastIndex=this._start;var i=this.stringRe.exec(this._input);if(i){this._current=this._start+i[0].length;var n=this._input.substring(this._start,this._current),r=t._keywords.get(n);r?this._addToken(r):this._tokens.push({type:17,lexeme:n,offset:this._start})}};t.prototype._quotedString=function(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(Dh):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))};t.prototype._regex=function(){var i=this._current,n=!1,r=!1;for(;;){if(i>=this._input.length)return this._current=i,void this._error(Mh);var e=this._input.charCodeAt(i);if(n)n=!1;else{if(e===47&&!r){i++;break}e===91?r=!0:e===92?n=!0:e===93&&(r=!1)}i++}for(;i<this._input.length&&t._regexFlags.has(this._input.charCodeAt(i));)i++;this._current=i;var o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})};t.prototype._isAtEnd=function(){return this._current>=this._input.length};return t}();_h._regexFlags=new Set(["i","g","s","m","y","u"].map((function(t){return t.charCodeAt(0)}))),_h._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var Fh=new Map;Fh.set("false",!1),Fh.set("true",!0),Fh.set("isMac",Gt),Fh.set("isLinux",Vt),Fh.set("isWindows",Wt),Fh.set("isWeb",Xt),Fh.set("isMacNative",Gt&&!Xt),Fh.set("isEdge",fi),Fh.set("isFirefox",ci),Fh.set("isChrome",ai),Fh.set("isSafari",hi);var Sh=Object.prototype.hasOwnProperty,Ih={regexParsingWithErrorRecovery:!0},Qh=Bt(0,"Empty context key expression"),Oh=Bt(0,"Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Nh=Bt(0,"'in' after 'not'."),Rh=Bt(0,"closing parenthesis ')'"),Th=Bt(0,"Unexpected token"),Lh=Bt(0,"Did you forget to put && or || before the token?"),jh=Bt(0,"Unexpected end of expression"),zh=Bt(0,"Did you forget to put a context key?");var Uh=function(){function t(t){if(t===void 0){t=Ih}this._config=t,this._scanner=new _h,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}t.prototype.parse=function(i){if(i!==""){this._tokens=this._scanner.reset(i).scan(),this._current=0,this._parsingErrors=[];try{var n=this._expr();if(!this._isAtEnd()){var r=this._peek(),e=r.type===17?Lh:void 0;throw this._parsingErrors.push({message:Th,offset:r.offset,lexeme:_h.getLexeme(r),additionalInfo:e}),t._parseError}return n}catch(n){if(n!==t._parseError)throw n;return}}else this._parsingErrors.push({message:Qh,offset:0,lexeme:"",additionalInfo:Oh})};t.prototype._expr=function(){return this._or()};t.prototype._or=function(){var t=[this._and()];for(;this._matchOne(16);){var i=this._and();t.push(i)}return t.length===1?t[0]:Hh.or.apply(Hh,t)};t.prototype._and=function(){var t=[this._term()];for(;this._matchOne(15);){var i=this._term();t.push(i)}return t.length===1?t[0]:Hh.and.apply(Hh,t)};t.prototype._term=function(){if(this._matchOne(2)){var t=this._peek();switch(t.type){case 11:return this._advance(),Jh.INSTANCE;case 12:return this._advance(),Ph.INSTANCE;case 0:{this._advance();var i=this._expr();return this._consume(1,Rh),i==null?void 0:i.negate()}case 17:return this._advance(),qh.create(t.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",t)}}return this._primary()};t.prototype._primary=function(){var i=this._peek();switch(i.type){case 11:return this._advance(),Hh.true();case 12:return this._advance(),Hh.false();case 0:{this._advance();var n=this._expr();return this._consume(1,Rh),n}case 17:{var n=i.lexeme;if(this._advance(),this._matchOne(9)){var r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),r.type!==10)throw this._errExpectedButGot("REGEX",r);var e=r.lexeme,o=e.lastIndexOf("/"),s=o===e.length-1?void 0:this._removeFlagsGY(e.substring(o+1));var u=void 0;try{u=new RegExp(e.substring(1,o),s)}catch(t){throw this._errExpectedButGot("REGEX",r)}return ef.create(n,u)}switch(r.type){case 10:case 19:{var e=[r.lexeme];this._advance();var o=this._peek(),s=0;for(var a=0;a<r.lexeme.length;a++)r.lexeme.charCodeAt(a)===40?s++:r.lexeme.charCodeAt(a)===41&&s--;for(;!this._isAtEnd()&&o.type!==15&&o.type!==16;){switch(o.type){case 0:s++;break;case 1:s--;break;case 10:case 18:for(var a=0;a<o.lexeme.length;a++)o.lexeme.charCodeAt(a)===40?s++:r.lexeme.charCodeAt(a)===41&&s--}if(s<0)break;e.push(_h.getLexeme(o)),this._advance(),o=this._peek()}var u=e.join(""),c=u.lastIndexOf("/"),h=c===u.length-1?void 0:this._removeFlagsGY(u.substring(c+1));var f;try{f=new RegExp(u.substring(1,c),h)}catch(t){throw this._errExpectedButGot("REGEX",r)}return Hh.regex(n,f)}case 18:{var e=r.lexeme;this._advance();var o=null;if(!bo(e)){var s=e.indexOf("/"),u=e.lastIndexOf("/");if(s!==u&&s>=0){var c=e.slice(s+1,u),h=e[u+1]==="i"?"i":"";try{o=new RegExp(c,h)}catch(t){throw this._errExpectedButGot("REGEX",r)}}}if(o===null)throw this._errExpectedButGot("REGEX",r);return ef.create(n,o)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Nh);var r=this._value();return Hh.notIn(n,r)}switch(this._peek().type){case 3:{this._advance();var r=this._value();if(this._previous().type===18)return Hh.equals(n,r);switch(r){case"true":return Hh.has(n);case"false":return Hh.not(n);default:return Hh.equals(n,r)}}case 4:{this._advance();var r=this._value();if(this._previous().type===18)return Hh.notEquals(n,r);switch(r){case"true":return Hh.not(n);case"false":return Hh.has(n);default:return Hh.notEquals(n,r)}}case 5:return this._advance(),nf.create(n,this._value());case 6:return this._advance(),rf.create(n,this._value());case 7:return this._advance(),$h.create(n,this._value());case 8:return this._advance(),tf.create(n,this._value());case 13:return this._advance(),Hh.in(n,this._value());default:return Hh.has(n)}}case 20:throw this._parsingErrors.push({message:jh,offset:i.offset,lexeme:"",additionalInfo:zh}),t._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}};t.prototype._value=function(){var t=this._peek();switch(t.type){case 17:case 18:return this._advance(),t.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}};t.prototype._removeFlagsGY=function(t){return t.replaceAll(this._flagsGYRe,"")};t.prototype._previous=function(){return this._tokens[this._current-1]};t.prototype._matchOne=function(t){return!!this._check(t)&&(this._advance(),!0)};t.prototype._advance=function(){return this._isAtEnd()||this._current++,this._previous()};t.prototype._consume=function(t,i){if(this._check(t))return this._advance();throw this._errExpectedButGot(i,this._peek())};t.prototype._errExpectedButGot=function(i,n,r){var e=Bt(0,"Expected: {0}\nReceived: '{1}'.",i,_h.getLexeme(n)),o=n.offset,s=_h.getLexeme(n);return this._parsingErrors.push({message:e,offset:o,lexeme:s,additionalInfo:r}),t._parseError};t.prototype._check=function(t){return this._peek().type===t};t.prototype._peek=function(){return this._tokens[this._current]};t.prototype._isAtEnd=function(){return this._peek().type===20};return t}();Uh._parseError=new Error;var Hh=function(){function t(){}t.false=function(){return Jh.INSTANCE};t.true=function(){return Ph.INSTANCE};t.has=function(t){return Wh.create(t)};t.equals=function(t,i){return Gh.create(t,i)};t.notEquals=function(t,i){return Xh.create(t,i)};t.regex=function(t,i){return ef.create(t,i)};t.in=function(t,i){return Vh.create(t,i)};t.notIn=function(t,i){return Kh.create(t,i)};t.not=function(t){return qh.create(t)};t.and=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return uf.create(t,null,!0)};t.or=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return af.create(t,null,!0)};t.deserialize=function(t){if(t!=null)return this._parser.parse(t)};return t}();function Yh(t,i){return t.cmp(i)}Hh._parser=new Uh({regexParsingWithErrorRecovery:!1});var Jh=function(){function t(){this.type=0}t.prototype.cmp=function(t){return this.type-t.type};t.prototype.equals=function(t){return t.type===this.type};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return!1};t.prototype.serialize=function(){return"false"};t.prototype.keys=function(){return[]};t.prototype.negate=function(){return Ph.INSTANCE};return t}();Jh.INSTANCE=new Jh;var Ph=function(){function t(){this.type=1}t.prototype.cmp=function(t){return this.type-t.type};t.prototype.equals=function(t){return t.type===this.type};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return!0};t.prototype.serialize=function(){return"true"};t.prototype.keys=function(){return[]};t.prototype.negate=function(){return Jh.INSTANCE};return t}();Ph.INSTANCE=new Ph;var Wh=function(){function t(t,i){this.key=t,this.negated=i,this.type=2}t.create=function(i,n){if(n===void 0){n=null}var r=Fh.get(i);return typeof r=="boolean"?r?Ph.INSTANCE:Jh.INSTANCE:new t(i,n)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:ff(this.key,t.key)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key};t.prototype.substituteConstants=function(){var t=Fh.get(this.key);return typeof t=="boolean"?t?Ph.INSTANCE:Jh.INSTANCE:this};t.prototype.evaluate=function(t){return!!t.getValue(this.key)};t.prototype.serialize=function(){return this.key};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=qh.create(this.key,this)),this.negated};return t}();var Gh=function(){function t(t,i,n){this.key=t,this.value=i,this.negated=n,this.type=4}t.create=function(i,n,r){if(r===void 0){r=null}if(typeof n=="boolean")return n?Wh.create(i,r):qh.create(i,r);var e=Fh.get(i);return typeof e=="boolean"?n===(e?"true":"false")?Ph.INSTANCE:Jh.INSTANCE:new t(i,n,r)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.value,t.key,t.value)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.value===t.value};t.prototype.substituteConstants=function(){var t=Fh.get(this.key);if(typeof t=="boolean"){var i=t?"true":"false";return this.value===i?Ph.INSTANCE:Jh.INSTANCE}return this};t.prototype.evaluate=function(t){return t.getValue(this.key)==this.value};t.prototype.serialize=function(){return"".concat(this.key," == '").concat(this.value,"'")};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=Xh.create(this.key,this.value,this)),this.negated};return t}();var Vh=function(){function t(t,i){this.key=t,this.valueKey=i,this.type=10,this.negated=null}t.create=function(i,n){return new t(i,n)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.valueKey,t.key,t.valueKey)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.valueKey===t.valueKey};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){var i=t.getValue(this.valueKey),n=t.getValue(this.key);return Array.isArray(i)?i.includes(n):typeof n=="string"&&typeof i=="object"&&i!==null&&Sh.call(i,n)};t.prototype.serialize=function(){return"".concat(this.key," in '").concat(this.valueKey,"'")};t.prototype.keys=function(){return[this.key,this.valueKey]};t.prototype.negate=function(){return this.negated||(this.negated=Kh.create(this.key,this.valueKey)),this.negated};return t}();var Kh=function(){function t(t,i){this.key=t,this.valueKey=i,this.type=11,this._negated=Vh.create(t,i)}t.create=function(i,n){return new t(i,n)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:this._negated.cmp(t._negated)};t.prototype.equals=function(t){return t.type===this.type&&this._negated.equals(t._negated)};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return!this._negated.evaluate(t)};t.prototype.serialize=function(){return"".concat(this.key," not in '").concat(this.valueKey,"'")};t.prototype.keys=function(){return this._negated.keys()};t.prototype.negate=function(){return this._negated};return t}();var Xh=function(){function t(t,i,n){this.key=t,this.value=i,this.negated=n,this.type=5}t.create=function(i,n,r){if(r===void 0){r=null}if(typeof n=="boolean")return n?qh.create(i,r):Wh.create(i,r);var e=Fh.get(i);return typeof e=="boolean"?n===(e?"true":"false")?Jh.INSTANCE:Ph.INSTANCE:new t(i,n,r)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.value,t.key,t.value)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.value===t.value};t.prototype.substituteConstants=function(){var t=Fh.get(this.key);if(typeof t=="boolean"){var i=t?"true":"false";return this.value===i?Jh.INSTANCE:Ph.INSTANCE}return this};t.prototype.evaluate=function(t){return t.getValue(this.key)!=this.value};t.prototype.serialize=function(){return"".concat(this.key," != '").concat(this.value,"'")};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=Gh.create(this.key,this.value,this)),this.negated};return t}();var qh=function(){function t(t,i){this.key=t,this.negated=i,this.type=3}t.create=function(i,n){if(n===void 0){n=null}var r=Fh.get(i);return typeof r=="boolean"?r?Jh.INSTANCE:Ph.INSTANCE:new t(i,n)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:ff(this.key,t.key)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key};t.prototype.substituteConstants=function(){var t=Fh.get(this.key);return typeof t=="boolean"?t?Jh.INSTANCE:Ph.INSTANCE:this};t.prototype.evaluate=function(t){return!t.getValue(this.key)};t.prototype.serialize=function(){return"!".concat(this.key)};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=Wh.create(this.key,this)),this.negated};return t}();function Zh(t,i){if(typeof t=="string"){var n=parseFloat(t);isNaN(n)||(t=n)}return typeof t=="string"||typeof t=="number"?i(t):Jh.INSTANCE}var $h=function(){function t(t,i,n){this.key=t,this.value=i,this.negated=n,this.type=12}t.create=function(i,n,r){if(r===void 0){r=null}return Zh(n,(function(n){return new t(i,n,r)}))};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.value,t.key,t.value)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.value===t.value};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return typeof this.value!="string"&&parseFloat(t.getValue(this.key))>this.value};t.prototype.serialize=function(){return"".concat(this.key," > ").concat(this.value)};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=rf.create(this.key,this.value,this)),this.negated};return t}();var tf=function(){function t(t,i,n){this.key=t,this.value=i,this.negated=n,this.type=13}t.create=function(i,n,r){if(r===void 0){r=null}return Zh(n,(function(n){return new t(i,n,r)}))};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.value,t.key,t.value)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.value===t.value};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return typeof this.value!="string"&&parseFloat(t.getValue(this.key))>=this.value};t.prototype.serialize=function(){return"".concat(this.key," >= ").concat(this.value)};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=nf.create(this.key,this.value,this)),this.negated};return t}();var nf=function(){function t(t,i,n){this.key=t,this.value=i,this.negated=n,this.type=14}t.create=function(i,n,r){if(r===void 0){r=null}return Zh(n,(function(n){return new t(i,n,r)}))};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.value,t.key,t.value)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.value===t.value};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return typeof this.value!="string"&&parseFloat(t.getValue(this.key))<this.value};t.prototype.serialize=function(){return"".concat(this.key," < ").concat(this.value)};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=tf.create(this.key,this.value,this)),this.negated};return t}();var rf=function(){function t(t,i,n){this.key=t,this.value=i,this.negated=n,this.type=15}t.create=function(i,n,r){if(r===void 0){r=null}return Zh(n,(function(n){return new t(i,n,r)}))};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:lf(this.key,this.value,t.key,t.value)};t.prototype.equals=function(t){return t.type===this.type&&this.key===t.key&&this.value===t.value};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return typeof this.value!="string"&&parseFloat(t.getValue(this.key))<=this.value};t.prototype.serialize=function(){return"".concat(this.key," <= ").concat(this.value)};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=$h.create(this.key,this.value,this)),this.negated};return t}();var ef=function(){function t(t,i){this.key=t,this.regexp=i,this.type=7,this.negated=null}t.create=function(i,n){return new t(i,n)};t.prototype.cmp=function(t){if(t.type!==this.type)return this.type-t.type;if(this.key<t.key)return-1;if(this.key>t.key)return 1;var i=this.regexp?this.regexp.source:"",n=t.regexp?t.regexp.source:"";return i<n?-1:i>n?1:0};t.prototype.equals=function(t){if(t.type===this.type){var i=this.regexp?this.regexp.source:"",n=t.regexp?t.regexp.source:"";return this.key===t.key&&i===n}return!1};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){var i=t.getValue(this.key);return!!this.regexp&&this.regexp.test(i)};t.prototype.serialize=function(){var t=this.regexp?"/".concat(this.regexp.source,"/").concat(this.regexp.flags):"/invalid/";return"".concat(this.key," =~ ").concat(t)};t.prototype.keys=function(){return[this.key]};t.prototype.negate=function(){return this.negated||(this.negated=of.create(this)),this.negated};return t}();var of=function(){function t(t){this._actual=t,this.type=8}t.create=function(i){return new t(i)};t.prototype.cmp=function(t){return t.type!==this.type?this.type-t.type:this._actual.cmp(t._actual)};t.prototype.equals=function(t){return t.type===this.type&&this._actual.equals(t._actual)};t.prototype.substituteConstants=function(){return this};t.prototype.evaluate=function(t){return!this._actual.evaluate(t)};t.prototype.serialize=function(){return"!(".concat(this._actual.serialize(),")")};t.prototype.keys=function(){return this._actual.keys()};t.prototype.negate=function(){return this._actual};return t}();function sf(t){var i=null;for(var n=0,r=t.length;n<r;n++){var e=t[n].substituteConstants();if(t[n]!==e&&i===null){i=[];for(var o=0;o<n;o++)i[o]=t[o]}i!==null&&(i[n]=e)}return i===null?t:i}var uf=function(){function t(t,i){this.expr=t,this.negated=i,this.type=6}t.create=function(i,n,r){return t._normalizeArr(i,n,r)};t.prototype.cmp=function(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(var i=0,n=this.expr.length;i<n;i++){var r=Yh(this.expr[i],t.expr[i]);if(r!==0)return r}return 0};t.prototype.equals=function(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(var i=0,n=this.expr.length;i<n;i++)if(!this.expr[i].equals(t.expr[i]))return!1;return!0}return!1};t.prototype.substituteConstants=function(){var i=sf(this.expr);return i===this.expr?this:t.create(i,this.negated,!1)};t.prototype.evaluate=function(t){for(var i=0,n=this.expr.length;i<n;i++)if(!this.expr[i].evaluate(t))return!1;return!0};t._normalizeArr=function(i,n,r){var e=[];var o=!1;for(var s=0,u=i;s<u.length;s++){var a=u[s];if(a)if(a.type!==1){if(a.type===0)return Jh.INSTANCE;a.type!==6?e.push(a):e.push.apply(e,a.expr)}else o=!0}if(e.length===0&&o)return Ph.INSTANCE;if(e.length!==0){if(e.length===1)return e[0];e.sort(Yh);for(var a=1;a<e.length;a++)e[a-1].equals(e[a])&&(e.splice(a,1),a--);if(e.length===1)return e[0];var c=function(){var i=e[e.length-1];if(i.type!==9)return"break";e.pop();var n=e.pop(),o=e.length===0,s=af.create(i.expr.map((function(i){return t.create([i,n],null,r)})),null,o);s&&(e.push(s),e.sort(Yh))};for(;e.length>1;){var h=c();if(h==="break")break}if(e.length===1)return e[0];if(r){for(var a=0;a<e.length;a++)for(var f=a+1;f<e.length;f++)if(e[a].negate().equals(e[f]))return Jh.INSTANCE;if(e.length===1)return e[0]}return new t(e,n)}};t.prototype.serialize=function(){return this.expr.map((function(t){return t.serialize()})).join(" && ")};t.prototype.keys=function(){var t=[];for(var i=0,n=this.expr;i<n.length;i++){var r=n[i];t.push.apply(t,r.keys())}return t};t.prototype.negate=function(){if(!this.negated){var t=[];for(var i=0,n=this.expr;i<n.length;i++){var r=n[i];t.push(r.negate())}this.negated=af.create(t,this,!0)}return this.negated};return t}();var af=function(){function t(t,i){this.expr=t,this.negated=i,this.type=9}t.create=function(i,n,r){return t._normalizeArr(i,n,r)};t.prototype.cmp=function(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(var i=0,n=this.expr.length;i<n;i++){var r=Yh(this.expr[i],t.expr[i]);if(r!==0)return r}return 0};t.prototype.equals=function(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(var i=0,n=this.expr.length;i<n;i++)if(!this.expr[i].equals(t.expr[i]))return!1;return!0}return!1};t.prototype.substituteConstants=function(){var i=sf(this.expr);return i===this.expr?this:t.create(i,this.negated,!1)};t.prototype.evaluate=function(t){for(var i=0,n=this.expr.length;i<n;i++)if(this.expr[i].evaluate(t))return!0;return!1};t._normalizeArr=function(i,n,r){var e=[],o=!1;if(i){for(var s=0,u=i.length;s<u;s++){var a=i[s];if(a)if(a.type!==0){if(a.type===1)return Ph.INSTANCE;a.type!==9?e.push(a):e=e.concat(a.expr)}else o=!0}if(e.length===0&&o)return Jh.INSTANCE;e.sort(Yh)}if(e.length!==0){if(e.length===1)return e[0];for(var s=1;s<e.length;s++)e[s-1].equals(e[s])&&(e.splice(s,1),s--);if(e.length===1)return e[0];if(r){for(var s=0;s<e.length;s++)for(var u=s+1;u<e.length;u++)if(e[s].negate().equals(e[u]))return Ph.INSTANCE;if(e.length===1)return e[0]}return new t(e,n)}};t.prototype.serialize=function(){return this.expr.map((function(t){return t.serialize()})).join(" || ")};t.prototype.keys=function(){var t=[];for(var i=0,n=this.expr;i<n.length;i++){var r=n[i];t.push.apply(t,r.keys())}return t};t.prototype.negate=function(){if(!this.negated){var i=[];for(var n=0,r=this.expr;n<r.length;n++){var e=r[n];i.push(e.negate())}for(;i.length>1;){var e=i.shift(),o=i.shift(),s=[];for(var u=0,a=Af(e);u<a.length;u++){var c=a[u];for(var h=0,f=Af(o);h<f.length;h++){var l=f[h];s.push(uf.create([c,l],null,!1))}}i.unshift(t.create(s,null,!1))}this.negated=t.create(i,this,!0)}return this.negated};return t}();var cf=function(t){__extends(i,t);function i(n,r,e){var o=this;o=t.call(this,n,null)||this,o._defaultValue=r,typeof e=="object"?i._info.push(__assign(__assign({},e),{key:n})):e!==!0&&i._info.push({key:n,description:e,type:r!=null?typeof r:void 0});return o}i.all=function(){return i._info.values()};i.prototype.bindTo=function(t){return t.createKey(this.key,this._defaultValue)};i.prototype.getValue=function(t){return t.getContextKeyValue(this.key)};i.prototype.toNegated=function(){return this.negate()};i.prototype.isEqualTo=function(t){return Gh.create(this.key,t)};return i}(Wh);cf._info=[];var hf=lh("contextKeyService");function ff(t,i){return t<i?-1:t>i?1:0}function lf(t,i,n,r){return t<n?-1:t>n?1:i<r?-1:i>r?1:0}function df(t,i){if(t.type===0||i.type===1)return!0;if(t.type===9)return i.type===9&&vf(t.expr,i.expr);if(i.type===9){for(var n=0,r=i.expr;n<r.length;n++){var e=r[n];if(df(t,e))return!0}return!1}if(t.type===6){if(i.type===6)return vf(i.expr,t.expr);for(var o=0,s=t.expr;o<s.length;o++){var e=s[o];if(df(e,i))return!0}return!1}return t.equals(i)}function vf(t,i){var n=0,r=0;for(;n<t.length&&r<i.length;){var e=t[n].cmp(i[r]);if(e<0)return!1;e===0&&n++,r++}return n===t.length}function Af(t){return t.type===9?t.expr:[t]}function gf(t,i){if(!t)throw new Error(i?"Assertion failed (".concat(i,")"):"Assertion Failed")}function wf(t,i){if(i===void 0){i="Unreachable"}throw new Error(i)}function pf(t){t||cn(new mn("Soft Assertion Failed"))}function mf(t){t()||(t(),cn(new mn("Assertion Failed")))}function bf(t,i){var n=0;for(;n<t.length-1;){if(!i(t[n],t[n+1]))return!1;n++}return!0}var yf=new(function(){function t(){this.data=new Map}t.prototype.add=function(t,i){gf(rt(t)),gf(et(i)),gf(!this.data.has(t),"There is already an extension with this id"),this.data.set(t,i)};t.prototype.as=function(t){return this.data.get(t)||null};return t}());var kf=function(){function t(){this._coreKeybindings=new gi,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}t.bindToCurrentPlatform=function(t){if(ei===1){if(t&&t.win)return t.win}else if(ei===2){if(t&&t.mac)return t.mac}else if(t&&t.linux)return t.linux;return t};t.prototype.registerKeybindingRule=function(i){var n=t.bindToCurrentPlatform(i),r=new Bn;if(n&&n.primary){var e=Bs(n.primary,ei);e&&r.add(this._registerDefaultKeybinding(e,i.id,i.args,i.weight,0,i.when))}if(n&&Array.isArray(n.secondary))for(var e=0,o=n.secondary.length;e<o;e++){var s=Bs(n.secondary[e],ei);s&&r.add(this._registerDefaultKeybinding(s,i.id,i.args,i.weight,-e-1,i.when))}return r};t.prototype.registerCommandAndKeybindingRule=function(t){return xn(this.registerKeybindingRule(t),Bh.registerCommand(t))};t.prototype._registerDefaultKeybinding=function(t,i,n,r,e,o){var s=this;var u=this._coreKeybindings.push({keybinding:t,command:i,commandArgs:n,when:o,weight1:r,weight2:e,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,En((function(){u(),s._cachedMergedKeybindings=null}))};t.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Ef)),this._cachedMergedKeybindings.slice(0)};return t}();var xf=new kf;function Ef(t,i){if(t.weight1!==i.weight1)return t.weight1-i.weight1;if(t.command&&i.command){if(t.command<i.command)return-1;if(t.command>i.command)return 1}return t.weight2-i.weight2}yf.add("platform.keybindingsRegistry",xf);var Bf,Cf=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Df=function(t,i){return function(n,r){i(n,r,t)}};function Mf(t){return t.command!==void 0}var _f=function(){function t(i){if(t._instances.has(i))throw new TypeError("MenuId with identifier '".concat(i,"' already exists. Use MenuId.for(ident) or a unique identifier"));t._instances.set(i,this),this.id=i}return t}();_f._instances=new Map,_f.CommandPalette=new _f("CommandPalette"),_f.DebugBreakpointsContext=new _f("DebugBreakpointsContext"),_f.DebugCallStackContext=new _f("DebugCallStackContext"),_f.DebugConsoleContext=new _f("DebugConsoleContext"),_f.DebugVariablesContext=new _f("DebugVariablesContext"),_f.NotebookVariablesContext=new _f("NotebookVariablesContext"),_f.DebugHoverContext=new _f("DebugHoverContext"),_f.DebugWatchContext=new _f("DebugWatchContext"),_f.DebugToolBar=new _f("DebugToolBar"),_f.DebugToolBarStop=new _f("DebugToolBarStop"),_f.EditorContext=new _f("EditorContext"),_f.SimpleEditorContext=new _f("SimpleEditorContext"),_f.EditorContent=new _f("EditorContent"),_f.EditorLineNumberContext=new _f("EditorLineNumberContext"),_f.EditorContextCopy=new _f("EditorContextCopy"),_f.EditorContextPeek=new _f("EditorContextPeek"),_f.EditorContextShare=new _f("EditorContextShare"),_f.EditorTitle=new _f("EditorTitle"),_f.EditorTitleRun=new _f("EditorTitleRun"),_f.EditorTitleContext=new _f("EditorTitleContext"),_f.EditorTitleContextShare=new _f("EditorTitleContextShare"),_f.EmptyEditorGroup=new _f("EmptyEditorGroup"),_f.EmptyEditorGroupContext=new _f("EmptyEditorGroupContext"),_f.EditorTabsBarContext=new _f("EditorTabsBarContext"),_f.EditorTabsBarShowTabsSubmenu=new _f("EditorTabsBarShowTabsSubmenu"),_f.EditorTabsBarShowTabsZenModeSubmenu=new _f("EditorTabsBarShowTabsZenModeSubmenu"),_f.EditorActionsPositionSubmenu=new _f("EditorActionsPositionSubmenu"),_f.ExplorerContext=new _f("ExplorerContext"),_f.ExplorerContextShare=new _f("ExplorerContextShare"),_f.ExtensionContext=new _f("ExtensionContext"),_f.GlobalActivity=new _f("GlobalActivity"),_f.CommandCenter=new _f("CommandCenter"),_f.CommandCenterCenter=new _f("CommandCenterCenter"),_f.LayoutControlMenuSubmenu=new _f("LayoutControlMenuSubmenu"),_f.LayoutControlMenu=new _f("LayoutControlMenu"),_f.MenubarMainMenu=new _f("MenubarMainMenu"),_f.MenubarAppearanceMenu=new _f("MenubarAppearanceMenu"),_f.MenubarDebugMenu=new _f("MenubarDebugMenu"),_f.MenubarEditMenu=new _f("MenubarEditMenu"),_f.MenubarCopy=new _f("MenubarCopy"),_f.MenubarFileMenu=new _f("MenubarFileMenu"),_f.MenubarGoMenu=new _f("MenubarGoMenu"),_f.MenubarHelpMenu=new _f("MenubarHelpMenu"),_f.MenubarLayoutMenu=new _f("MenubarLayoutMenu"),_f.MenubarNewBreakpointMenu=new _f("MenubarNewBreakpointMenu"),_f.PanelAlignmentMenu=new _f("PanelAlignmentMenu"),_f.PanelPositionMenu=new _f("PanelPositionMenu"),_f.ActivityBarPositionMenu=new _f("ActivityBarPositionMenu"),_f.MenubarPreferencesMenu=new _f("MenubarPreferencesMenu"),_f.MenubarRecentMenu=new _f("MenubarRecentMenu"),_f.MenubarSelectionMenu=new _f("MenubarSelectionMenu"),_f.MenubarShare=new _f("MenubarShare"),_f.MenubarSwitchEditorMenu=new _f("MenubarSwitchEditorMenu"),_f.MenubarSwitchGroupMenu=new _f("MenubarSwitchGroupMenu"),_f.MenubarTerminalMenu=new _f("MenubarTerminalMenu"),_f.MenubarViewMenu=new _f("MenubarViewMenu"),_f.MenubarHomeMenu=new _f("MenubarHomeMenu"),_f.OpenEditorsContext=new _f("OpenEditorsContext"),_f.OpenEditorsContextShare=new _f("OpenEditorsContextShare"),_f.ProblemsPanelContext=new _f("ProblemsPanelContext"),_f.SCMInputBox=new _f("SCMInputBox"),_f.SCMChangesSeparator=new _f("SCMChangesSeparator"),_f.SCMIncomingChanges=new _f("SCMIncomingChanges"),_f.SCMIncomingChangesContext=new _f("SCMIncomingChangesContext"),_f.SCMIncomingChangesSetting=new _f("SCMIncomingChangesSetting"),_f.SCMOutgoingChanges=new _f("SCMOutgoingChanges"),_f.SCMOutgoingChangesContext=new _f("SCMOutgoingChangesContext"),_f.SCMOutgoingChangesSetting=new _f("SCMOutgoingChangesSetting"),_f.SCMIncomingChangesAllChangesContext=new _f("SCMIncomingChangesAllChangesContext"),_f.SCMIncomingChangesHistoryItemContext=new _f("SCMIncomingChangesHistoryItemContext"),_f.SCMOutgoingChangesAllChangesContext=new _f("SCMOutgoingChangesAllChangesContext"),_f.SCMOutgoingChangesHistoryItemContext=new _f("SCMOutgoingChangesHistoryItemContext"),_f.SCMChangeContext=new _f("SCMChangeContext"),_f.SCMResourceContext=new _f("SCMResourceContext"),_f.SCMResourceContextShare=new _f("SCMResourceContextShare"),_f.SCMResourceFolderContext=new _f("SCMResourceFolderContext"),_f.SCMResourceGroupContext=new _f("SCMResourceGroupContext"),_f.SCMSourceControl=new _f("SCMSourceControl"),_f.SCMSourceControlInline=new _f("SCMSourceControlInline"),_f.SCMSourceControlTitle=new _f("SCMSourceControlTitle"),_f.SCMTitle=new _f("SCMTitle"),_f.SearchContext=new _f("SearchContext"),_f.SearchActionMenu=new _f("SearchActionContext"),_f.StatusBarWindowIndicatorMenu=new _f("StatusBarWindowIndicatorMenu"),_f.StatusBarRemoteIndicatorMenu=new _f("StatusBarRemoteIndicatorMenu"),_f.StickyScrollContext=new _f("StickyScrollContext"),_f.TestItem=new _f("TestItem"),_f.TestItemGutter=new _f("TestItemGutter"),_f.TestMessageContext=new _f("TestMessageContext"),_f.TestMessageContent=new _f("TestMessageContent"),_f.TestPeekElement=new _f("TestPeekElement"),_f.TestPeekTitle=new _f("TestPeekTitle"),_f.TouchBarContext=new _f("TouchBarContext"),_f.TitleBarContext=new _f("TitleBarContext"),_f.TitleBarTitleContext=new _f("TitleBarTitleContext"),_f.TunnelContext=new _f("TunnelContext"),_f.TunnelPrivacy=new _f("TunnelPrivacy"),_f.TunnelProtocol=new _f("TunnelProtocol"),_f.TunnelPortInline=new _f("TunnelInline"),_f.TunnelTitle=new _f("TunnelTitle"),_f.TunnelLocalAddressInline=new _f("TunnelLocalAddressInline"),_f.TunnelOriginInline=new _f("TunnelOriginInline"),_f.ViewItemContext=new _f("ViewItemContext"),_f.ViewContainerTitle=new _f("ViewContainerTitle"),_f.ViewContainerTitleContext=new _f("ViewContainerTitleContext"),_f.ViewTitle=new _f("ViewTitle"),_f.ViewTitleContext=new _f("ViewTitleContext"),_f.CommentEditorActions=new _f("CommentEditorActions"),_f.CommentThreadTitle=new _f("CommentThreadTitle"),_f.CommentThreadActions=new _f("CommentThreadActions"),_f.CommentThreadAdditionalActions=new _f("CommentThreadAdditionalActions"),_f.CommentThreadTitleContext=new _f("CommentThreadTitleContext"),_f.CommentThreadCommentContext=new _f("CommentThreadCommentContext"),_f.CommentTitle=new _f("CommentTitle"),_f.CommentActions=new _f("CommentActions"),_f.CommentsViewThreadActions=new _f("CommentsViewThreadActions"),_f.InteractiveToolbar=new _f("InteractiveToolbar"),_f.InteractiveCellTitle=new _f("InteractiveCellTitle"),_f.InteractiveCellDelete=new _f("InteractiveCellDelete"),_f.InteractiveCellExecute=new _f("InteractiveCellExecute"),_f.InteractiveInputExecute=new _f("InteractiveInputExecute"),_f.IssueReporter=new _f("IssueReporter"),_f.NotebookToolbar=new _f("NotebookToolbar"),_f.NotebookStickyScrollContext=new _f("NotebookStickyScrollContext"),_f.NotebookCellTitle=new _f("NotebookCellTitle"),_f.NotebookCellDelete=new _f("NotebookCellDelete"),_f.NotebookCellInsert=new _f("NotebookCellInsert"),_f.NotebookCellBetween=new _f("NotebookCellBetween"),_f.NotebookCellListTop=new _f("NotebookCellTop"),_f.NotebookCellExecute=new _f("NotebookCellExecute"),_f.NotebookCellExecuteGoTo=new _f("NotebookCellExecuteGoTo"),_f.NotebookCellExecutePrimary=new _f("NotebookCellExecutePrimary"),_f.NotebookDiffCellInputTitle=new _f("NotebookDiffCellInputTitle"),_f.NotebookDiffCellMetadataTitle=new _f("NotebookDiffCellMetadataTitle"),_f.NotebookDiffCellOutputsTitle=new _f("NotebookDiffCellOutputsTitle"),_f.NotebookOutputToolbar=new _f("NotebookOutputToolbar"),_f.NotebookOutlineFilter=new _f("NotebookOutlineFilter"),_f.NotebookOutlineActionMenu=new _f("NotebookOutlineActionMenu"),_f.NotebookEditorLayoutConfigure=new _f("NotebookEditorLayoutConfigure"),_f.NotebookKernelSource=new _f("NotebookKernelSource"),_f.BulkEditTitle=new _f("BulkEditTitle"),_f.BulkEditContext=new _f("BulkEditContext"),_f.TimelineItemContext=new _f("TimelineItemContext"),_f.TimelineTitle=new _f("TimelineTitle"),_f.TimelineTitleContext=new _f("TimelineTitleContext"),_f.TimelineFilterSubMenu=new _f("TimelineFilterSubMenu"),_f.AccountsContext=new _f("AccountsContext"),_f.SidebarTitle=new _f("SidebarTitle"),_f.PanelTitle=new _f("PanelTitle"),_f.AuxiliaryBarTitle=new _f("AuxiliaryBarTitle"),_f.AuxiliaryBarHeader=new _f("AuxiliaryBarHeader"),_f.TerminalInstanceContext=new _f("TerminalInstanceContext"),_f.TerminalEditorInstanceContext=new _f("TerminalEditorInstanceContext"),_f.TerminalNewDropdownContext=new _f("TerminalNewDropdownContext"),_f.TerminalTabContext=new _f("TerminalTabContext"),_f.TerminalTabEmptyAreaContext=new _f("TerminalTabEmptyAreaContext"),_f.TerminalStickyScrollContext=new _f("TerminalStickyScrollContext"),_f.WebviewContext=new _f("WebviewContext"),_f.InlineCompletionsActions=new _f("InlineCompletionsActions"),_f.InlineEditActions=new _f("InlineEditActions"),_f.NewFile=new _f("NewFile"),_f.MergeInput1Toolbar=new _f("MergeToolbar1Toolbar"),_f.MergeInput2Toolbar=new _f("MergeToolbar2Toolbar"),_f.MergeBaseToolbar=new _f("MergeBaseToolbar"),_f.MergeInputResultToolbar=new _f("MergeToolbarResultToolbar"),_f.InlineSuggestionToolbar=new _f("InlineSuggestionToolbar"),_f.InlineEditToolbar=new _f("InlineEditToolbar"),_f.ChatContext=new _f("ChatContext"),_f.ChatCodeBlock=new _f("ChatCodeblock"),_f.ChatMessageTitle=new _f("ChatMessageTitle"),_f.ChatExecute=new _f("ChatExecute"),_f.ChatExecuteSecondary=new _f("ChatExecuteSecondary"),_f.ChatInputSide=new _f("ChatInputSide"),_f.AccessibleView=new _f("AccessibleView"),_f.MultiDiffEditorFileToolbar=new _f("MultiDiffEditorFileToolbar"),_f.DiffEditorHunkToolbar=new _f("DiffEditorHunkToolbar"),_f.DiffEditorSelectionToolbar=new _f("DiffEditorSelectionToolbar");var Ff=lh("menuService");var Sf=function(){function t(t){this.id=t,this.has=function(i){return i===t}}t.for=function(i){var n=this._all.get(i);return n||(n=new t(i),this._all.set(i,n)),n};t.merge=function(i){var n=new Set;for(var r=0,e=i;r<e.length;r++){var o=e[r];o instanceof t&&n.add(o.id)}return n};return t}();Sf._all=new Map;var If=new(function(){function t(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Hn({merge:Sf.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}t.prototype.addCommand=function(t){var i=this;return this._commands.set(t.id,t),this._onDidChangeMenu.fire(Sf.for(_f.CommandPalette)),En((function(){i._commands.delete(t.id)&&i._onDidChangeMenu.fire(Sf.for(_f.CommandPalette))}))};t.prototype.getCommand=function(t){return this._commands.get(t)};t.prototype.getCommands=function(){var t=new Map;return this._commands.forEach((function(i,n){return t.set(n,i)})),t};t.prototype.appendMenuItem=function(t,i){var n=this;var r=this._menuItems.get(t);r||(r=new gi,this._menuItems.set(t,r));var e=r.push(i);return this._onDidChangeMenu.fire(Sf.for(t)),En((function(){e(),n._onDidChangeMenu.fire(Sf.for(t))}))};t.prototype.appendMenuItems=function(t){var i=new Bn;for(var n=0,r=t;n<r.length;n++){var e=r[n],o=e.id,s=e.item;i.add(this.appendMenuItem(o,s))}return i};t.prototype.getMenuItems=function(t){var i;return i=this._menuItems.has(t)?__spreadArray([],this._menuItems.get(t),true):[],t===_f.CommandPalette&&this._appendImplicitItems(i),i};t.prototype._appendImplicitItems=function(t){var i=new Set;for(var n=0,r=t;n<r.length;n++){var e=r[n];Mf(e)&&(i.add(e.command.id),e.alt&&i.add(e.alt.id))}this._commands.forEach((function(n,r){i.has(r)||t.push({command:n})}))};return t}());var Qf=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,"submenuitem.".concat(i.submenu.id),typeof i.title=="string"?i.title:i.title.value,r,"submenu")||this,e.item=i,e.hideActions=n;return e}return i}(mh);var Of=Bf=function(){function t(i,n,r,e,o,s){var u,a;var c;if(this.hideActions=e,this._commandService=s,this.id=i.id,this.label=t.label(i,r),this.tooltip=(a=typeof i.tooltip=="string"?i.tooltip:(u=i.tooltip)===null||u===void 0?void 0:u.value)!==null&&a!==void 0?a:"",this.enabled=!i.precondition||o.contextMatchesRules(i.precondition),this.checked=void 0,i.toggled){var h=i.toggled.condition?i.toggled:{condition:i.toggled};this.checked=o.contextMatchesRules(h.condition),this.checked&&h.tooltip&&(this.tooltip=typeof h.tooltip=="string"?h.tooltip:h.tooltip.value),this.checked&&xh.isThemeIcon(h.icon)&&(c=h.icon),this.checked&&h.title&&(this.label=typeof h.title=="string"?h.title:h.title.value)}c||(c=xh.isThemeIcon(i.icon)?i.icon:void 0),this.item=i,this.alt=n?new t(n,void 0,r,e,o,s):void 0,this._options=r,this.class=c&&xh.asClassName(c)}t.label=function(t,i){return i!=null&&i.renderShortTitle&&t.shortTitle?typeof t.shortTitle=="string"?t.shortTitle:t.shortTitle.value:typeof t.title=="string"?t.title:t.title.value};t.prototype.run=function(){var t;var i=[];for(var n=0;n<arguments.length;n++){i[n]=arguments[n]}var r,e;var o=[];return!((r=this._options)===null||r===void 0)&&r.arg&&(o=__spreadArray(__spreadArray([],o,true),[this._options.arg],false)),!((e=this._options)===null||e===void 0)&&e.shouldForwardArgs&&(o=__spreadArray(__spreadArray([],o,true),i,true)),(t=this._commandService).executeCommand.apply(t,__spreadArray([this.id],o,false))};return t}();Of=Bf=Cf([Df(4,hf),Df(5,Eh)],Of);var Nf=function(){function t(t){this.desc=t}return t}();function Rf(t){var i=new Bn,n=new t,r=n.desc,e=r.f1,o=r.menu,s=r.keybinding,u=__rest(r,["f1","menu","keybinding"]);if(Bh.getCommand(u.id))throw new Error("Cannot register two commands with the same id: ".concat(u.id));if(i.add(Bh.registerCommand({id:u.id,handler:function(t){var i=[];for(var r=1;r<arguments.length;r++){i[r-1]=arguments[r]}return n.run.apply(n,__spreadArray([t],i,false))},metadata:u.metadata})),Array.isArray(o))for(var a=0,c=o;a<c.length;a++){var h=c[a];i.add(If.appendMenuItem(h.id,__assign({command:__assign(__assign({},u),{precondition:h.precondition===null?void 0:u.precondition})},h)))}else o&&i.add(If.appendMenuItem(o.id,__assign({command:__assign(__assign({},u),{precondition:o.precondition===null?void 0:u.precondition})},o)));if(e&&(i.add(If.appendMenuItem(_f.CommandPalette,{command:u,when:u.precondition})),i.add(If.addCommand(u))),Array.isArray(s))for(var f=0,l=s;f<l.length;f++){var h=l[f];i.add(xf.registerKeybindingRule(__assign(__assign({},h),{id:u.id,when:u.precondition?Hh.and(u.precondition,h.when):h.when})))}else s&&i.add(xf.registerKeybindingRule(__assign(__assign({},s),{id:u.id,when:u.precondition?Hh.and(u.precondition,s.when):s.when})));return i}var Tf=lh("telemetryService"),Lf=lh("logService");var jf;(function(t){t[t.Off=0]="Off",t[t.Trace=1]="Trace",t[t.Debug=2]="Debug",t[t.Info=3]="Info",t[t.Warning=4]="Warning",t[t.Error=5]="Error"})(jf||(jf={}));var zf=jf.Info;var Uf=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i.level=zf,i._onDidChangeLogLevel=i._register(new Ln),i.onDidChangeLogLevel=i._onDidChangeLogLevel.event;return i}i.prototype.setLevel=function(t){this.level!==t&&(this.level=t,this._onDidChangeLogLevel.fire(this.level))};i.prototype.getLevel=function(){return this.level};i.prototype.checkLogLevel=function(t){return this.level!==jf.Off&&this.level<=t};return i}(Cn);var Hf=function(t){__extends(i,t);function i(i,n){if(i===void 0){i=zf}if(n===void 0){n=!0}var r=this;r=t.call(this)||this,r.useColors=n,r.setLevel(i);return r}i.prototype.trace=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}this.checkLogLevel(jf.Trace)&&(this.useColors?console.log.apply(console,__spreadArray(["%cTRACE","color: #888",t],i,false)):console.log.apply(console,__spreadArray([t],i,false)))};i.prototype.debug=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}this.checkLogLevel(jf.Debug)&&(this.useColors?console.log.apply(console,__spreadArray(["%cDEBUG","background: #eee; color: #888",t],i,false)):console.log.apply(console,__spreadArray([t],i,false)))};i.prototype.info=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}this.checkLogLevel(jf.Info)&&(this.useColors?console.log.apply(console,__spreadArray(["%c INFO","color: #33f",t],i,false)):console.log.apply(console,__spreadArray([t],i,false)))};i.prototype.warn=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}this.checkLogLevel(jf.Warning)&&(this.useColors?console.log.apply(console,__spreadArray(["%c WARN","color: #993",t],i,false)):console.log.apply(console,__spreadArray([t],i,false)))};i.prototype.error=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}this.checkLogLevel(jf.Error)&&(this.useColors?console.log.apply(console,__spreadArray(["%c  ERR","color: #f33",t],i,false)):console.error.apply(console,__spreadArray([t],i,false)))};return i}(Uf);var Yf=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.loggers=i,i.length&&n.setLevel(i[0].getLevel());return n}i.prototype.setLevel=function(i){for(var n=0,r=this.loggers;n<r.length;n++){var e=r[n];e.setLevel(i)}t.prototype.setLevel.call(this,i)};i.prototype.trace=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}for(var r=0,e=this.loggers;r<e.length;r++){var o=e[r];o.trace.apply(o,__spreadArray([t],i,false))}};i.prototype.debug=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}for(var r=0,e=this.loggers;r<e.length;r++){var o=e[r];o.debug.apply(o,__spreadArray([t],i,false))}};i.prototype.info=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}for(var r=0,e=this.loggers;r<e.length;r++){var o=e[r];o.info.apply(o,__spreadArray([t],i,false))}};i.prototype.warn=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}for(var r=0,e=this.loggers;r<e.length;r++){var o=e[r];o.warn.apply(o,__spreadArray([t],i,false))}};i.prototype.error=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}for(var r=0,e=this.loggers;r<e.length;r++){var o=e[r];o.error.apply(o,__spreadArray([t],i,false))}};i.prototype.dispose=function(){for(var i=0,n=this.loggers;i<n.length;i++){var r=n[i];r.dispose()}t.prototype.dispose.call(this)};return i}(Uf);new cf("logLevel",function(t){switch(t){case jf.Trace:return"trace";case jf.Debug:return"debug";case jf.Info:return"info";case jf.Warning:return"warn";case jf.Error:return"error";case jf.Off:return"off"}}(jf.Info));var Jf=function(){function t(t){this.id=t.id,this.precondition=t.precondition,this._kbOpts=t.kbOpts,this._menuOpts=t.menuOpts,this.metadata=t.metadata}t.prototype.register=function(){var t=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var i=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(var n=0,r=i;n<r.length;n++){var e=r[n];var o=e.kbExpr;this.precondition&&(o=o?Hh.and(o,this.precondition):this.precondition);var s={id:this.id,weight:e.weight,args:e.args,when:o,primary:e.primary,secondary:e.secondary,win:e.win,linux:e.linux,mac:e.mac};xf.registerKeybindingRule(s)}}Bh.registerCommand({id:this.id,handler:function(i,n){return t.runCommand(i,n)},metadata:this.metadata})};t.prototype._registerMenuItem=function(t){If.appendMenuItem(t.menuId,{group:t.group,command:{id:this.id,title:t.title,icon:t.icon,precondition:this.precondition},when:t.when,order:t.order})};return t}();var Pf=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._implementations=[];return i}i.prototype.addImplementation=function(t,i,n,r){var e=this;return this._implementations.push({priority:t,name:i,implementation:n,when:r}),this._implementations.sort((function(t,i){return i.priority-t.priority})),{dispose:function(){for(var t=0;t<e._implementations.length;t++)if(e._implementations[t].implementation===n)return void e._implementations.splice(t,1)}}};i.prototype.runCommand=function(t,i){var n=t.get(Lf),r=t.get(hf);n.trace("Executing Command '".concat(this.id,"' which has ").concat(this._implementations.length," bound."));for(var e=0,o=this._implementations;e<o.length;e++){var s=o[e];if(s.when){var u=r.getContext(sc());if(!s.when.evaluate(u))continue}var a=s.implementation(t,i);if(a)return n.trace("Command '".concat(this.id,"' was handled by '").concat(s.name,"'.")),typeof a=="boolean"?void 0:a}n.trace("The Command '".concat(this.id,"' was not handled by any implementation."))};return i}(Jf);var Wf=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.command=i;return r}i.prototype.runCommand=function(t,i){return this.command.runCommand(t,i)};return i}(Jf);var Gf=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.bindToContribution=function(t){return function(i){__extends(n,i);function n(t){var n=this;n=i.call(this,t)||this,n._callback=t.handler;return n}n.prototype.runEditorCommand=function(i,n,r){var e=t(n);e&&this._callback(e,r)};return n}(i)};i.runEditorCommand=function(t,i,n,r){var e=t.get(dh),o=e.getFocusedCodeEditor()||e.getActiveCodeEditor();if(o)return o.invokeWithinContext((function(t){if(t.get(hf).contextMatchesRules(n!==null&&n!==void 0?n:void 0))return r(t,o,i)}))};i.prototype.runCommand=function(t,n){var r=this;return i.runEditorCommand(t,n,this.precondition,(function(t,i,n){return r.runEditorCommand(t,i,n)}))};return i}(Jf);var Vf=function(t){__extends(i,t);function i(n){var r=this;r=t.call(this,i.convertOptions(n))||this,r.label=n.label,r.alias=n.alias;return r}i.convertOptions=function(t){var i;function n(i){return i.menuId||(i.menuId=_f.EditorContext),i.title||(i.title=t.label),i.when=Hh.and(t.precondition,i.when),i}return i=Array.isArray(t.menuOpts)?t.menuOpts:t.menuOpts?[t.menuOpts]:[],Array.isArray(t.contextMenuOpts)?i.push.apply(i,t.contextMenuOpts.map(n)):t.contextMenuOpts&&i.push(n(t.contextMenuOpts)),t.menuOpts=i,t};i.prototype.runEditorCommand=function(t,i,n){return this.reportTelemetry(t,i),this.run(t,i,n||{})};i.prototype.reportTelemetry=function(t,i){t.get(Tf).publicLog2("editorActionInvoked",{name:this.label,id:this.id})};return i}(Gf);var Kf=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._implementations=[];return i}i.prototype.addImplementation=function(t,i){var n=this;return this._implementations.push([t,i]),this._implementations.sort((function(t,i){return i[0]-t[0]})),{dispose:function(){for(var t=0;t<n._implementations.length;t++)if(n._implementations[t][1]===i)return void n._implementations.splice(t,1)}}};i.prototype.run=function(t,i,n){for(var r=0,e=this._implementations;r<e.length;r++){var o=e[r];var s=o[1](t,i,n);if(s)return typeof s=="boolean"?void 0:s}};return i}(Vf);var Xf=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.run=function(t){var i=this;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var e=t.get(dh),o=e.getFocusedCodeEditor()||e.getActiveCodeEditor();if(o)return o.invokeWithinContext((function(t){var r,e;var s=t.get(hf),u=t.get(Lf);if(s.contextMatchesRules((r=i.desc.precondition)!==null&&r!==void 0?r:void 0))return i.runEditorCommand.apply(i,__spreadArray([t,o],n,false));u.debug("[EditorAction2] NOT running command because its precondition is FALSE",i.desc.id,(e=i.desc.precondition)===null||e===void 0?void 0:e.serialize())}))};return i}(Nf);function qf(t,i){Bh.registerCommand(t,(function(t){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var e=t.get(fh),o=n[0],s=n[1];lt(zr.isUri(o)),lt(qr.isIPosition(s));var u=t.get(vh).getModel(o);if(u){var a=qr.lift(s);return e.invokeFunction.apply(e,__spreadArray([i,u,a],n.slice(2),false))}return t.get(Ah).createModelReference(o).then((function(t){return new Promise((function(r,o){try{r(e.invokeFunction(i,t.object.textEditorModel,qr.lift(s),n.slice(2)))}catch(t){o(t)}})).finally((function(){t.dispose()}))}))}))}function Zf(t){return rl.INSTANCE.registerEditorCommand(t),t}function $f(t){var i=new t;return rl.INSTANCE.registerEditorAction(i),i}function tl(t){return rl.INSTANCE.registerEditorAction(t),t}function il(t,i,n){rl.INSTANCE.registerEditorContribution(t,i,n)}var nl;(function(t){t.getEditorCommand=function(t){return rl.INSTANCE.getEditorCommand(t)},t.getEditorActions=function(){return rl.INSTANCE.getEditorActions()},t.getEditorContributions=function(){return rl.INSTANCE.getEditorContributions()},t.getSomeEditorContributions=function(t){return rl.INSTANCE.getEditorContributions().filter((function(i){return t.indexOf(i.id)>=0}))},t.getDiffEditorContributions=function(){return rl.INSTANCE.getDiffEditorContributions()}})(nl||(nl={}));var rl=function(){function t(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}t.prototype.registerEditorContribution=function(t,i,n){this.editorContributions.push({id:t,ctor:i,instantiation:n})};t.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)};t.prototype.getDiffEditorContributions=function(){return this.diffEditorContributions.slice(0)};t.prototype.registerEditorAction=function(t){t.register(),this.editorActions.push(t)};t.prototype.getEditorActions=function(){return this.editorActions};t.prototype.registerEditorCommand=function(t){t.register(),this.editorCommands[t.id]=t};t.prototype.getEditorCommand=function(t){return this.editorCommands[t]||null};return t}();function el(t){return t.register(),t}rl.INSTANCE=new rl,yf.add("editor.contributions",rl.INSTANCE);var ol=el(new Pf({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_f.MenubarEditMenu,group:"1_do",title:Bt(0,"&&Undo"),order:1},{menuId:_f.CommandPalette,group:"",title:Bt(0,"Undo"),order:1}]}));el(new Wf(ol,{id:"default:undo",precondition:void 0}));var sl=el(new Pf({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_f.MenubarEditMenu,group:"1_do",title:Bt(0,"&&Redo"),order:2},{menuId:_f.CommandPalette,group:"",title:Bt(0,"Redo"),order:1}]}));el(new Wf(sl,{id:"default:redo",precondition:void 0}));var ul=el(new Pf({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_f.MenubarSelectionMenu,group:"1_basic",title:Bt(0,"&&Select All"),order:1},{menuId:_f.CommandPalette,group:"",title:Bt(0,"Select All"),order:1}]}));var al=!1;function cl(t){Xt&&(al||(al=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(t.message))}var hl=function(){function t(t,i,n,r){this.vsWorker=t,this.req=i,this.method=n,this.args=r,this.type=0}return t}();var fl=function(){function t(t,i,n,r){this.vsWorker=t,this.seq=i,this.res=n,this.err=r,this.type=1}return t}();var ll=function(){function t(t,i,n,r){this.vsWorker=t,this.req=i,this.eventName=n,this.arg=r,this.type=2}return t}();var dl=function(){function t(t,i,n){this.vsWorker=t,this.req=i,this.event=n,this.type=3}return t}();var vl=function(){function t(t,i){this.vsWorker=t,this.req=i,this.type=4}return t}();var Al=function(){function t(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}t.prototype.setWorkerId=function(t){this._workerId=t};t.prototype.sendMessage=function(t,i){var n=this;var r=String(++this._lastSentReq);return new Promise((function(e,o){n._pendingReplies[r]={resolve:e,reject:o},n._send(new hl(n._workerId,r,t,i))}))};t.prototype.listen=function(t,i){var n=this;var r=null;var e=new Ln({onWillAddFirstListener:function(){r=String(++n._lastSentReq),n._pendingEmitters.set(r,e),n._send(new ll(n._workerId,r,t,i))},onDidRemoveLastListener:function(){n._pendingEmitters.delete(r),n._send(new vl(n._workerId,r)),r=null}});return e.event};t.prototype.handleMessage=function(t){t&&t.vsWorker&&(this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t))};t.prototype._handleMessage=function(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}};t.prototype._handleReplyMessage=function(t){if(!this._pendingReplies[t.seq])return void console.warn("Got reply to unknown seq");var i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){var n=t.err;return t.err.$isError&&(n=new Error,n.name=t.err.name,n.message=t.err.message,n.stack=t.err.stack),void i.reject(n)}i.resolve(t.res)};t.prototype._handleRequestMessage=function(t){var i=this;var n=t.req;this._handler.handleMessage(t.method,t.args).then((function(t){i._send(new fl(i._workerId,n,t,void 0))}),(function(t){t.detail instanceof Error&&(t.detail=fn(t.detail)),i._send(new fl(i._workerId,n,void 0,fn(t)))}))};t.prototype._handleSubscribeEventMessage=function(t){var i=this;var n=t.req,r=this._handler.handleEvent(t.eventName,t.arg)((function(t){i._send(new dl(i._workerId,n,t))}));this._pendingEvents.set(n,r)};t.prototype._handleEventMessage=function(t){this._pendingEmitters.has(t.req)?this._pendingEmitters.get(t.req).fire(t.event):console.warn("Got event for unknown req")};t.prototype._handleUnsubscribeEventMessage=function(t){this._pendingEvents.has(t.req)?(this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)):console.warn("Got unsubscribe for unknown req")};t.prototype._send=function(t){var i=[];if(t.type===0)for(var n=0;n<t.args.length;n++)t.args[n]instanceof ArrayBuffer&&i.push(t.args[n]);else t.type===1&&t.res instanceof ArrayBuffer&&i.push(t.res);this._handler.sendMessage(t,i)};return t}();var gl=function(t){__extends(i,t);function i(i,n,r){var e=t.call(this)||this;var o=null;e._worker=e._register(i.create("vs/base/common/worker/simpleWorker",(function(t){e._protocol.handleMessage(t)}),(function(t){o==null||o(t)}))),e._protocol=new Al({sendMessage:function(t,i){e._worker.postMessage(t,i)},handleMessage:function(t,i){if(typeof r[t]!="function")return Promise.reject(new Error("Missing method "+t+" on main thread host."));try{return Promise.resolve(r[t].apply(r,i))}catch(t){return Promise.reject(t)}},handleEvent:function(t,i){if(pl(t)){var n=r[t].call(r,i);if(typeof n!="function")throw new Error("Missing dynamic event ".concat(t," on main thread host."));return n}if(wl(t)){var n=r[t];if(typeof n!="function")throw new Error("Missing event ".concat(t," on main thread host."));return n}throw new Error("Malformed event name ".concat(t))}}),e._protocol.setWorkerId(e._worker.getId());var s=null;var u=globalThis.require;u!==void 0&&typeof u.getConfig=="function"?s=u.getConfig():globalThis.requirejs!==void 0&&(s=globalThis.requirejs.s.contexts._.config);var a=kt(r);e._onModuleLoaded=e._protocol.sendMessage("$initialize",[e._worker.getId(),JSON.parse(JSON.stringify(s)),n,a]);var c=function(t,i){return e._request(t,i)},h=function(t,i){return e._protocol.listen(t,i)};e._lazyProxy=new Promise((function(t,i){o=i,e._onModuleLoaded.then((function(i){t(function(t,i,n){var r=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);return i(t,n)}},e=function(t){return function(i){return n(t,i)}},o={};for(var s=0,u=t;s<u.length;s++){var a=u[s];pl(a)?o[a]=e(a):wl(a)?o[a]=n(a,void 0):o[a]=r(a)}return o}(i,c,h))}),(function(t){i(t),e._onError("Worker failed to load "+n,t)}))}));return e}i.prototype.getProxyObject=function(){return this._lazyProxy};i.prototype._request=function(t,i){var n=this;return new Promise((function(r,e){n._onModuleLoaded.then((function(){n._protocol.sendMessage(t,i).then(r,e)}),e)}))};i.prototype._onError=function(t,i){console.error(t),console.info(i)};return i}(Cn);function wl(t){return t[0]==="o"&&t[1]==="n"&&jo(t.charCodeAt(2))}function pl(t){return/^onDynamic/.test(t)&&jo(t.charCodeAt(9))}function ml(t,i){var n;var r=globalThis.MonacoEnvironment;if(r!=null&&r.createTrustedTypesPolicy)try{return r.createTrustedTypesPolicy(t,i)}catch(t){return void cn(t)}try{return(n=go.trustedTypes)===null||n===void 0?void 0:n.createPolicy(t,i)}catch(t){return void cn(t)}}var bl=ml("defaultWorkerFactory",{createScriptURL:function(t){return t}});var yl=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.id=n,s.label=r;var u=function(t){var i=globalThis.MonacoEnvironment;if(i){if(typeof i.getWorker=="function")return i.getWorker("workerMain.js",t);if(typeof i.getWorkerUrl=="function"){var n=i.getWorkerUrl("workerMain.js",t);return new Worker(bl?bl.createScriptURL(n):n,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(r);typeof u.then=="function"?s.worker=u:s.worker=Promise.resolve(u),s.postMessage(i,[]),s.worker.then((function(t){t.onmessage=function(t){e(t.data)},t.onmessageerror=o,typeof t.addEventListener=="function"&&t.addEventListener("error",o)})),s._register(En((function(){var t;(t=s.worker)===null||t===void 0||t.then((function(t){t.onmessage=null,t.onmessageerror=null,t.removeEventListener("error",o),t.terminate()})),s.worker=null})));return s}i.prototype.getId=function(){return this.id};i.prototype.postMessage=function(t,i){var n=this;var r;(r=this.worker)===null||r===void 0||r.then((function(r){try{r.postMessage(t,i)}catch(t){cn(t),cn(new Error("FAILED to post message to '".concat(n.label,"'-worker"),{cause:t}))}}))};return i}(Cn);var kl=function(){function t(t){this._label=t,this._webWorkerFailedBeforeError=!1}t.prototype.create=function(i,n,r){var e=this;var o=++t.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new yl(i,o,this._label||"anonymous"+o,n,(function(t){cl(t),e._webWorkerFailedBeforeError=t,r(t)}))};return t}();var xl;kl.LAST_WORKER_ID=0,function(t){t[t.None=0]="None",t[t.Indent=1]="Indent",t[t.IndentOutdent=2]="IndentOutdent",t[t.Outdent=3]="Outdent"}(xl||(xl={}));var El=function(){function t(t){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=t.open,this.close=t.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(t.notIn))for(var i=0,n=t.notIn.length;i<n;i++)switch(t.notIn[i]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}t.prototype.isOK=function(t){switch(t){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}};t.prototype.shouldAutoClose=function(t,i){if(t.getTokenCount()===0)return!0;var n=t.findTokenIndexAtOffset(i-2),r=t.getStandardTokenType(n);return this.isOK(r)};t.prototype._findNeutralCharacterInRange=function(t,i){for(var n=t;n<=i;n++){var r=String.fromCharCode(n);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null};t.prototype.findNeutralCharacter=function(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter};return t}();var Bl=function(){function t(t){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(var i=0,n=t;i<n.length;i++){var r=n[i];Cl(this.autoClosingPairsOpenByStart,r.open.charAt(0),r),Cl(this.autoClosingPairsOpenByEnd,r.open.charAt(r.open.length-1),r),Cl(this.autoClosingPairsCloseByStart,r.close.charAt(0),r),Cl(this.autoClosingPairsCloseByEnd,r.close.charAt(r.close.length-1),r),r.close.length===1&&r.open.length===1&&Cl(this.autoClosingPairsCloseSingleChar,r.close,r)}}return t}();function Cl(t,i,n){t.has(i)?t.get(i).push(n):t.set(i,[n])}function Dl(t,i){var n=t.getCount(),r=t.findTokenIndexAtOffset(i),e=t.getLanguageId(r);var o=r;for(;o+1<n&&t.getLanguageId(o+1)===e;)o++;var s=r;for(;s>0&&t.getLanguageId(s-1)===e;)s--;return new Ml(t,e,s,o+1,t.getStartOffset(s),t.getEndOffset(o))}var Ml=function(){function t(t,i,n,r,e,o){this._scopedLineTokensBrand=void 0,this._actual=t,this.languageId=i,this._firstTokenIndex=n,this._lastTokenIndex=r,this.firstCharOffset=e,this._lastCharOffset=o}t.prototype.getLineContent=function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)};t.prototype.getActualLineContentBefore=function(t){return this._actual.getLineContent().substring(0,this.firstCharOffset+t)};t.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex};t.prototype.findTokenIndexAtOffset=function(t){return this._actual.findTokenIndexAtOffset(t+this.firstCharOffset)-this._firstTokenIndex};t.prototype.getStandardTokenType=function(t){return this._actual.getStandardTokenType(t+this._firstTokenIndex)};return t}();function _l(t){return!!(3&t)}var Fl=function(){function t(i){if(i.autoClosingPairs?this._autoClosingPairs=i.autoClosingPairs.map((function(t){return new El(t)})):i.brackets?this._autoClosingPairs=i.brackets.map((function(t){return new El({open:t[0],close:t[1]})})):this._autoClosingPairs=[],i.__electricCharacterSupport&&i.__electricCharacterSupport.docComment){var n=i.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new El({open:n.open,close:n.close||""}))}this._autoCloseBeforeForQuotes=typeof i.autoCloseBefore=="string"?i.autoCloseBefore:t.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof i.autoCloseBefore=="string"?i.autoCloseBefore:t.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=i.surroundingPairs||this._autoClosingPairs}t.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs};t.prototype.getAutoCloseBeforeSet=function(t){return t?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets};t.prototype.getSurroundingPairs=function(){return this._surroundingPairs};return t}();Fl.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",Fl.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t";var Sl=typeof Buffer<"u";var Il,Ql,Ol,Nl;var Rl=function(){function t(t){this.buffer=t,this.byteLength=this.buffer.byteLength}t.wrap=function(i){return Sl&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new t(i)};t.prototype.toString=function(){return Sl?this.buffer.toString():(Il||(Il=new TextDecoder),Il.decode(this.buffer))};return t}();function Tl(t,i){return(t[i+0]|0)>>>0|t[i+1]<<8>>>0}function Ll(t,i,n){t[n+0]=255&i,i>>>=8,t[n+1]=255&i}function jl(t,i){return t[i]*Math.pow(2,24)+65536*t[i+1]+256*t[i+2]+t[i+3]}function zl(t,i,n){t[n+3]=i,i>>>=8,t[n+2]=i,i>>>=8,t[n+1]=i,i>>>=8,t[n]=i}function Ul(t,i){return t[i]}function Hl(t,i,n){t[n]=i}function Yl(){return Ql||(Ql=new TextDecoder("UTF-16LE")),Ql}function Jl(){return Nl||(Nl=ui()?Yl():(Ol||(Ol=new TextDecoder("UTF-16BE")),Ol)),Nl}function Pl(t,i,n){var r=new Uint16Array(t.buffer,i,n);return n>0&&(r[0]===65279||r[0]===65534)?function(t,i,n){var r=[];var e=0;for(var o=0;o<n;o++){var s=Tl(t,i);i+=2,r[e++]=String.fromCharCode(s)}return r.join("")}(t,i,n):Yl().decode(r)}var Wl=function(){function t(t){this._capacity=0|t,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}t.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0};t.prototype.build=function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()};t.prototype._buildBuffer=function(){if(this._bufferLength===0)return"";var t=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Jl().decode(t)};t.prototype._flushBuffer=function(){var t=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[t]:this._completedStrings[this._completedStrings.length]=t};t.prototype.appendCharCode=function(t){var i=this._capacity-this._bufferLength;i<=1&&(i===0||Jo(t))&&this._flushBuffer(),this._buffer[this._bufferLength++]=t};t.prototype.appendASCIICharCode=function(t){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=t};t.prototype.appendString=function(t){var i=t.length;if(this._bufferLength+i>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=t);for(var n=0;n<i;n++)this._buffer[this._bufferLength++]=t.charCodeAt(n)};return t}();var Gl=function(){function t(i,n,r,e,o,s){this._richEditBracketBrand=void 0,this.languageId=i,this.index=n,this.open=r,this.close=e,this.forwardRegex=o,this.reversedRegex=s,this._openSet=t._toSet(this.open),this._closeSet=t._toSet(this.close)}t.prototype.isOpen=function(t){return this._openSet.has(t)};t.prototype.isClose=function(t){return this._closeSet.has(t)};t._toSet=function(t){var i=new Set;for(var n=0,r=t;n<r.length;n++){var e=r[n];i.add(e)}return i};return t}();var Vl=function(){function t(t,i){this._richEditBracketsBrand=void 0;var n=function(t){var i=t.length;t=t.map((function(t){return[t[0].toLowerCase(),t[1].toLowerCase()]}));var n=[];for(var r=0;r<i;r++)n[r]=r;var e=function(t,i){var n=t[0],r=t[1],e=i[0],o=i[1];return n===e||n===o||r===e||r===o},o=function(t,r){var e=Math.min(t,r),o=Math.max(t,r);for(var s=0;s<i;s++)n[s]===o&&(n[s]=e)};for(var s=0;s<i;s++){var u=t[s];for(var a=s+1;a<i;a++)e(u,t[a])&&o(n[s],n[a])}var c=[];for(var h=0;h<i;h++){var u=[],a=[];for(var f=0;f<i;f++)if(n[f]===h){var l=t[f],d=l[0],v=l[1];u.push(d),a.push(v)}u.length>0&&c.push({open:u,close:a})}return c}(i);this.brackets=n.map((function(i,r){return new Gl(t,r,i.open,i.close,function(t,i,n,r){var e=[];e=e.concat(t),e=e.concat(i);for(var o=0,s=e.length;o<s;o++)Kl(e[o],n,r,e);return e=ql(e),e.sort(Xl),e.reverse(),$l(e)}(i.open,i.close,n,r),function(t,i,n,r){var e=[];e=e.concat(t),e=e.concat(i);for(var o=0,s=e.length;o<s;o++)Kl(e[o],n,r,e);return e=ql(e),e.sort(Xl),e.reverse(),$l(e.map(td))}(i.open,i.close,n,r))})),this.forwardRegex=function(t){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];for(var o=0,s=e.open;o<s.length;o++){var u=s[o];i.push(u)}for(var a=0,c=e.close;a<c.length;a++){var u=c[a];i.push(u)}}return i=ql(i),$l(i)}(this.brackets),this.reversedRegex=function(t){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];for(var o=0,s=e.open;o<s.length;o++){var u=s[o];i.push(u)}for(var a=0,c=e.close;a<c.length;a++){var u=c[a];i.push(u)}}return i=ql(i),$l(i.map(td))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(var r=0,e=this.brackets;r<e.length;r++){var o=e[r];for(var s=0,u=o.open;s<u.length;s++){var a=u[s];this.textIsBracket[a]=o,this.textIsOpenBracket[a]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,a.length)}for(var c=0,h=o.close;c<h.length;c++){var a=h[c];this.textIsBracket[a]=o,this.textIsOpenBracket[a]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,a.length)}}}return t}();function Kl(t,i,n,r){for(var e=0,o=i.length;e<o;e++){if(e===n)continue;var s=i[e];for(var u=0,a=s.open;u<a.length;u++){var c=a[u];c.indexOf(t)>=0&&r.push(c)}for(var h=0,f=s.close;h<f.length;h++){var c=f[h];c.indexOf(t)>=0&&r.push(c)}}}function Xl(t,i){return t.length-i.length}function ql(t){if(t.length<=1)return t;var i=[],n=new Set;for(var r=0,e=t;r<e.length;r++){var o=e[r];n.has(o)||(i.push(o),n.add(o))}return i}function Zl(t){var i=/^[\w ]+$/.test(t);return t=Eo(t),i?"\\b".concat(t,"\\b"):t}function $l(t){return Mo("(".concat(t.map(Zl).join(")|("),")"),!0)}var td=function(){var t=null,i=null;return function(n){return t!==n&&(t=n,i=function(t){var i=new Uint16Array(t.length);var n=0;for(var r=t.length-1;r>=0;r--)i[n++]=t.charCodeAt(r);return Jl().decode(i)}(t)),i}}();var id=function(){function t(){}t._findPrevBracketInText=function(t,i,n,r){var e=n.match(t);if(!e)return null;var o=n.length-(e.index||0),s=e[0].length,u=r+o;return new Zr(i,u-s+1,i,u+1)};t.findPrevBracketInRange=function(t,i,n,r,e){var o=td(n).substring(n.length-e,n.length-r);return this._findPrevBracketInText(t,i,o,r)};t.findNextBracketInText=function(t,i,n,r){var e=n.match(t);if(!e)return null;var o=e.index||0,s=e[0].length;if(s===0)return null;var u=r+o;return new Zr(i,u+1,i,u+1+s)};t.findNextBracketInRange=function(t,i,n,r,e){var o=n.substring(r,e);return this.findNextBracketInText(t,i,o,r)};return t}();var nd=function(){function t(t){this._richEditBrackets=t}t.prototype.getElectricCharacters=function(){var t=[];if(this._richEditBrackets)for(var i=0,n=this._richEditBrackets.brackets;i<n.length;i++){var r=n[i];for(var e=0,o=r.close;e<o.length;e++){var s=o[e];var u=s.charAt(s.length-1);t.push(u)}}return j(t)};t.prototype.onElectricCharacter=function(t,i,n){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var r=i.findTokenIndexAtOffset(n-1);if(_l(i.getStandardTokenType(r)))return null;var e=this._richEditBrackets.reversedRegex,o=i.getLineContent().substring(0,n-1)+t,s=id.findPrevBracketInRange(e,1,o,0,o.length);if(!s)return null;var u=o.substring(s.startColumn-1,s.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[u])return null;var a=i.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(a)?{matchOpenBracket:u}:null};return t}();function rd(t){return t.global&&(t.lastIndex=0),!0}var ed=function(){function t(t){this._indentationRules=t}t.prototype.shouldIncrease=function(t){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&rd(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(t))};t.prototype.shouldDecrease=function(t){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&rd(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(t))};t.prototype.shouldIndentNextLine=function(t){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&rd(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(t))};t.prototype.shouldIgnore=function(t){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&rd(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(t))};t.prototype.getIndentMetadata=function(t){var i=0;return this.shouldIncrease(t)&&(i+=1),this.shouldDecrease(t)&&(i+=2),this.shouldIndentNextLine(t)&&(i+=4),this.shouldIgnore(t)&&(i+=8),i};return t}();var od=function(){function t(i){var n=this;(i=i||{}).brackets=i.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],i.brackets.forEach((function(i){var r=t._createOpenBracketRegExp(i[0]),e=t._createCloseBracketRegExp(i[1]);r&&e&&n._brackets.push({open:i[0],openRegExp:r,close:i[1],closeRegExp:e})})),this._regExpRules=i.onEnterRules||[]}t.prototype.onEnter=function(t,i,n,r){if(t>=3)for(var e=0,o=this._regExpRules.length;e<o;e++){var s=this._regExpRules[e];if([{reg:s.beforeText,text:n},{reg:s.afterText,text:r},{reg:s.previousLineText,text:i}].every((function(t){return!t.reg||(t.reg.lastIndex=0,t.reg.test(t.text))})))return s.action}if(t>=2&&n.length>0&&r.length>0)for(var e=0,o=this._brackets.length;e<o;e++){var s=this._brackets[e];if(s.openRegExp.test(n)&&s.closeRegExp.test(r))return{indentAction:xl.IndentOutdent}}if(t>=2&&n.length>0){for(var e=0,o=this._brackets.length;e<o;e++)if(this._brackets[e].openRegExp.test(n))return{indentAction:xl.Indent}}return null};t._createOpenBracketRegExp=function(i){var n=Eo(i);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",t._safeRegExp(n)};t._createCloseBracketRegExp=function(i){var n=Eo(i);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,t._safeRegExp(n)};t._safeRegExp=function(t){try{return new RegExp(t)}catch(t){return cn(t),null}};return t}();var sd=lh("configurationService");function ud(t,i){var n=Object.create(null);for(var r in t)ad(n,r,t[r],i);return n}function ad(t,i,n,r){var e=i.split("."),o=e.pop();var s=t;for(var u=0;u<e.length;u++){var a=e[u];var c=s[a];switch(typeof c){case"undefined":c=s[a]=Object.create(null);break;case"object":break;default:return void r("Ignoring ".concat(i," as ").concat(e.slice(0,u+1).join(".")," is ").concat(JSON.stringify(c)))}s=c}if(typeof s=="object"&&s!==null)try{s[o]=n}catch(t){r("Ignoring ".concat(i," as ").concat(e.join(".")," is ").concat(JSON.stringify(s)))}else r("Ignoring ".concat(i," as ").concat(e.join(".")," is ").concat(JSON.stringify(s)))}function cd(t,i){hd(t,i.split("."))}function hd(t,i){var n=i.shift();if(i.length!==0){if(Object.keys(t).indexOf(n)!==-1){var r=t[n];typeof r!="object"||Array.isArray(r)||(hd(r,i),Object.keys(r).length===0&&delete t[n])}}else delete t[n]}function fd(t,i,n){var r=function(t,i){var n=t;for(var r=0,e=i;r<e.length;r++){var o=e[r];if(typeof n!="object"||n===null)return;n=n[o]}return n}(t,i.split("."));return r===void 0?n:r}var ld=lh("languageService");var dd=function(){function t(t,i,n){if(i===void 0){i=[]}if(n===void 0){n=!1}this.ctor=t,this.staticArguments=i,this.supportsDelayedInstantiation=n}return t}();var vd=[];function Ad(t,i,n){i instanceof dd||(i=new dd(i,[],!!n)),vd.push([t,i])}function gd(){return vd}var wd=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),pd="base.contributions.json",md=new(function(){function t(){this._onDidChangeSchema=new Ln,this.schemasById={}}t.prototype.registerSchema=function(t,i){var n;this.schemasById[(n=t,n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n)]=i,this._onDidChangeSchema.fire(t)};t.prototype.notifySchemaChanged=function(t){this._onDidChangeSchema.fire(t)};return t}());yf.add(pd,md);var bd="base.contributions.configuration",yd="vscode://schemas/settings/resourceLanguage",kd=yf.as(pd),xd="\\[([^\\]]+)\\]",Ed=new RegExp(xd,"g"),Bd=new RegExp("^(".concat(xd,")+$"));function Cd(t){var i=[];if(Bd.test(t)){var n=Ed.exec(t);for(;n!=null&&n.length;){var r=n[1].trim();r&&i.push(r),n=Ed.exec(t)}}return j(i)}var Dd=new(function(){function t(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Ln,this._onDidUpdateConfiguration=new Ln,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:Bt(0,"Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},kd.registerSchema(yd,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}t.prototype.registerConfiguration=function(t,i){if(i===void 0){i=!0}this.registerConfigurations([t],i)};t.prototype.registerConfigurations=function(t,i){if(i===void 0){i=!0}var n=new Set;this.doRegisterConfigurations(t,i,n),kd.registerSchema(yd,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})};t.prototype.registerDefaultConfigurations=function(t){var i=new Set;this.doRegisterDefaultConfigurations(t,i),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})};t.prototype.doRegisterDefaultConfigurations=function(t,i){var n;var r=[];for(var e=0,o=t;e<o.length;e++){var s=o[e],u=s.overrides,a=s.source;for(var c in u)if(i.add(c),Bd.test(c)){var h=this.configurationDefaultsOverrides.get(c),f=(n=h==null?void 0:h.valuesSources)!==null&&n!==void 0?n:new Map;if(a)for(var l=0,d=Object.keys(u[c]);l<d.length;l++){var v=d[l];f.set(v,a)}var A=__assign(__assign({},(h==null?void 0:h.value)||{}),u[c]);this.configurationDefaultsOverrides.set(c,{source:a,value:A,valuesSources:f});var g={type:"object",default:A,description:Bt(0,"Configure settings to be overridden for the {0} language.",c.replace(/[\[\]]/g,"")),$ref:yd,defaultDefaultValue:A,source:rt(a)?void 0:a,defaultValueSource:a};r.push.apply(r,Cd(c)),this.configurationProperties[c]=g,this.defaultLanguageConfigurationOverridesNode.properties[c]=g}else{this.configurationDefaultsOverrides.set(c,{value:u[c],source:a});var h=this.configurationProperties[c];h&&(this.updatePropertyDefaultValue(c,h),this.updateSchema(c,h))}}this.doRegisterOverrideIdentifiers(r)};t.prototype.registerOverrideIdentifiers=function(t){this.doRegisterOverrideIdentifiers(t),this._onDidSchemaChange.fire()};t.prototype.doRegisterOverrideIdentifiers=function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];this.overrideIdentifiers.add(r)}this.updateOverridePropertyPatternKey()};t.prototype.doRegisterConfigurations=function(t,i,n){var r=this;t.forEach((function(t){r.validateAndRegisterProperties(t,i,t.extensionInfo,t.restrictedProperties,void 0,n),r.configurationContributors.push(t),r.registerJSONConfiguration(t)}))};t.prototype.validateAndRegisterProperties=function(t,i,n,r,e,o){if(i===void 0){i=!0}if(e===void 0){e=3}var s;e=ft(t.scope)?e:t.scope;var u=t.properties;if(u)for(var a in u){var c=u[a];i&&Md(a,c)?delete u[a]:(c.source=n,c.defaultDefaultValue=u[a].default,this.updatePropertyDefaultValue(a,c),Bd.test(a)?c.scope=void 0:(c.scope=ft(c.scope)?e:c.scope,c.restricted=ft(c.restricted)?!!(r!=null&&r.includes(a)):c.restricted),!u[a].hasOwnProperty("included")||u[a].included?(this.configurationProperties[a]=u[a],!((s=u[a].policy)===null||s===void 0)&&s.name&&this.policyConfigurations.set(u[a].policy.name,a),!u[a].deprecationMessage&&u[a].markdownDeprecationMessage&&(u[a].deprecationMessage=u[a].markdownDeprecationMessage),o.add(a)):(this.excludedConfigurationProperties[a]=u[a],delete u[a]))}var h=t.allOf;if(h)for(var f=0,l=h;f<l.length;f++){var a=l[f];this.validateAndRegisterProperties(a,i,n,r,e,o)}};t.prototype.getConfigurationProperties=function(){return this.configurationProperties};t.prototype.getPolicyConfigurations=function(){return this.policyConfigurations};t.prototype.registerJSONConfiguration=function(t){var i=this;var n=function(t){var r=t.properties;if(r)for(var e in r)i.updateSchema(e,r[e]);var o=t.allOf;o==null||o.forEach(n)};n(t)};t.prototype.updateSchema=function(t,i){switch(i.scope){case 1:case 2:case 6:case 3:case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[t]=i}};t.prototype.updateOverridePropertyPatternKey=function(){for(var t=0,i=this.overrideIdentifiers.values();t<i.length;t++){var n=i[t];var r="[".concat(n,"]"),e={type:"object",description:Bt(0,"Configure editor settings to be overridden for a language."),errorMessage:Bt(0,"This setting does not support per-language configuration."),$ref:yd};this.updatePropertyDefaultValue(r,e)}};t.prototype.registerOverridePropertyPatternKey=function(){Bt(0,"Configure editor settings to be overridden for a language."),Bt(0,"This setting does not support per-language configuration."),this._onDidSchemaChange.fire()};t.prototype.updatePropertyDefaultValue=function(t,i){var n=this.configurationDefaultsOverrides.get(t);var r=n==null?void 0:n.value,e=n==null?void 0:n.source;ct(r)&&(r=i.defaultDefaultValue,e=void 0),ct(r)&&(r=function(t){switch(Array.isArray(t)?t[0]:t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(i.type)),i.default=r,i.defaultValueSource=e};return t}());function Md(t,i){var n,r,e,o;return t.trim()?Bd.test(t)?Bt(0,"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",t):Dd.getConfigurationProperties()[t]!==void 0?Bt(0,"Cannot register '{0}'. This property is already registered.",t):!((n=i.policy)===null||n===void 0)&&n.name&&Dd.getPolicyConfigurations().get((r=i.policy)===null||r===void 0?void 0:r.name)!==void 0?Bt(0,"Cannot register '{0}'. The associated policy {1} is already registered with {2}.",t,(e=i.policy)===null||e===void 0?void 0:e.name,Dd.getPolicyConfigurations().get((o=i.policy)===null||o===void 0?void 0:o.name)):null:Bt(0,"Cannot register an empty property")}yf.add(bd,Dd);var _d=new(function(){function t(){this._onDidChangeLanguages=new Ln,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}t.prototype.registerLanguage=function(t){var i=this;return this._languages.push(t),this._onDidChangeLanguages.fire(void 0),{dispose:function(){for(var n=0,r=i._languages.length;n<r;n++)if(i._languages[n]===t)return void i._languages.splice(n,1)}}};t.prototype.getLanguages=function(){return this._languages};return t}());yf.add("editor.modesRegistry",_d);var Fd="plaintext";_d.registerLanguage({id:Fd,extensions:[".txt"],aliases:[Bt(0,"Plain Text"),"text"],mimetypes:[wd.text]}),yf.as(bd).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var Sd=function(){function t(t,i){var n=this;this.languageId=t;var r=i.brackets?Id(i.brackets):[],e=new wo((function(t){var i=new Set;return{info:new Od(n,t,i),closing:i}})),o=new wo((function(t){var i=new Set,r=new Set;return{info:new Nd(n,t,i,r),opening:i,openingColorized:r}}));for(var s=0,u=r;s<u.length;s++){var a=u[s],c=a[0],h=a[1];var f=e.get(c),l=o.get(h);f.closing.add(l.info),l.opening.add(f.info)}var d=i.colorizedBracketPairs?Id(i.colorizedBracketPairs):r.filter((function(t){return!(t[0]==="<"&&t[1]===">")}));for(var v=0,A=d;v<A.length;v++){var g=A[v],c=g[0],h=g[1];var f=e.get(c),w=o.get(h);f.closing.add(w.info),w.openingColorized.add(f.info),w.opening.add(f.info)}this._openingBrackets=new Map(__spreadArray([],e.cachedValues,true).map((function(t){var i=t[0],n=t[1];return[i,n.info]}))),this._closingBrackets=new Map(__spreadArray([],o.cachedValues,true).map((function(t){var i=t[0],n=t[1];return[i,n.info]})))}Object.defineProperty(t.prototype,"openingBrackets",{get:function(){return __spreadArray([],this._openingBrackets.values(),true)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"closingBrackets",{get:function(){return __spreadArray([],this._closingBrackets.values(),true)},enumerable:false,configurable:true});t.prototype.getOpeningBracketInfo=function(t){return this._openingBrackets.get(t)};t.prototype.getClosingBracketInfo=function(t){return this._closingBrackets.get(t)};t.prototype.getBracketInfo=function(t){return this.getOpeningBracketInfo(t)||this.getClosingBracketInfo(t)};return t}();function Id(t){return t.filter((function(t){var i=t[0],n=t[1];return i!==""&&n!==""}))}var Qd=function(){function t(t,i){this.config=t,this.bracketText=i}Object.defineProperty(t.prototype,"languageId",{get:function(){return this.config.languageId},enumerable:false,configurable:true});return t}();var Od=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n)||this,e.openedBrackets=r,e.isOpeningBracket=!0;return e}return i}(Qd);var Nd=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,n)||this,o.openingBrackets=r,o.openingColorizedBrackets=e,o.isOpeningBracket=!1;return o}i.prototype.closes=function(t){return t.config===this.config&&this.openingBrackets.has(t)};i.prototype.closesColorized=function(t){return t.config===this.config&&this.openingColorizedBrackets.has(t)};i.prototype.getOpeningBrackets=function(){return __spreadArray([],this.openingBrackets,true)};return i}(Qd);var Rd=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Td=function(t,i){return function(n,r){i(n,r,t)}};var Ld=function(){function t(t){this.languageId=t}t.prototype.affects=function(t){return!this.languageId||this.languageId===t};return t}();var jd=lh("languageConfigurationService");var zd=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.configurationService=i,r.languageService=n,r._registry=r._register(new Kd),r.onDidChangeEmitter=r._register(new Ln),r.onDidChange=r.onDidChangeEmitter.event,r.configurations=new Map;var e=new Set(Object.values(Ud));r._register(r.configurationService.onDidChangeConfiguration((function(t){var i=t.change.keys.some((function(t){return e.has(t)})),n=t.change.overrides.filter((function(t){var i=t[0],n=t[1];return n.some((function(t){return e.has(t)}))})).map((function(t){var i=t[0];return i}));if(i)r.configurations.clear(),r.onDidChangeEmitter.fire(new Ld(void 0));else for(var o=0,s=n;o<s.length;o++){var u=s[o];r.languageService.isRegisteredLanguageId(u)&&(r.configurations.delete(u),r.onDidChangeEmitter.fire(new Ld(u)))}}))),r._register(r._registry.onDidChange((function(t){r.configurations.delete(t.languageId),r.onDidChangeEmitter.fire(new Ld(t.languageId))})));return r}i.prototype.register=function(t,i,n){return this._registry.register(t,i,n)};i.prototype.getLanguageConfiguration=function(t){var i=this.configurations.get(t);return i||(i=function(t,i,n,r){var e=i.getLanguageConfiguration(t);if(!e){if(!r.isRegisteredLanguageId(t))return new Xd(t,{});e=new Xd(t,{})}var o=function(t,i){var n=i.getValue(Ud.brackets,{overrideIdentifier:t}),r=i.getValue(Ud.colorizedBracketPairs,{overrideIdentifier:t});return{brackets:Hd(n),colorizedBracketPairs:Hd(r)}}(e.languageId,n),s=Wd([e.underlyingConfig,o]);return new Xd(e.languageId,s)}(t,this._registry,this.configurationService,this.languageService),this.configurations.set(t,i)),i};return i}(Cn);zd=Rd([Td(0,sd),Td(1,ld)],zd);var Ud={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Hd(t){if(Array.isArray(t))return t.map((function(t){if(Array.isArray(t)&&t.length===2)return[t[0],t[1]]})).filter((function(t){return!!t}))}function Yd(t,i,n){var r=So(t.getLineContent(i));return r.length>n-1&&(r=r.substring(0,n-1)),r}function Jd(t,i,n){return t.tokenization.forceTokenization(i),Dl(t.tokenization.getLineTokens(i),n===void 0?t.getLineMaxColumn(i)-1:n-1)}var Pd=function(){function t(t){this.languageId=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}t.prototype.register=function(t,i){var n=this;var r=new Gd(t,i,++this._order);return this._entries.push(r),this._resolved=null,En((function(){for(var t=0;t<n._entries.length;t++)if(n._entries[t]===r){n._entries.splice(t,1),n._resolved=null;break}}))};t.prototype.getResolvedConfiguration=function(){if(!this._resolved){var t=this._resolve();t&&(this._resolved=new Xd(this.languageId,t))}return this._resolved};t.prototype._resolve=function(){return this._entries.length===0?null:(this._entries.sort(Gd.cmp),Wd(this._entries.map((function(t){return t.configuration}))))};return t}();function Wd(t){var i={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(var n=0,r=t;n<r.length;n++){var e=r[n];i={comments:e.comments||i.comments,brackets:e.brackets||i.brackets,wordPattern:e.wordPattern||i.wordPattern,indentationRules:e.indentationRules||i.indentationRules,onEnterRules:e.onEnterRules||i.onEnterRules,autoClosingPairs:e.autoClosingPairs||i.autoClosingPairs,surroundingPairs:e.surroundingPairs||i.surroundingPairs,autoCloseBefore:e.autoCloseBefore||i.autoCloseBefore,folding:e.folding||i.folding,colorizedBracketPairs:e.colorizedBracketPairs||i.colorizedBracketPairs,__electricCharacterSupport:e.__electricCharacterSupport||i.__electricCharacterSupport}}return i}var Gd=function(){function t(t,i,n){this.configuration=t,this.priority=i,this.order=n}t.cmp=function(t,i){return t.priority===i.priority?t.order-i.order:t.priority-i.priority};return t}();var Vd=function(){function t(t){this.languageId=t}return t}();var Kd=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._entries=new Map,i._onDidChange=i._register(new Ln),i.onDidChange=i._onDidChange.event,i._register(i.register(Fd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0));return i}i.prototype.register=function(t,i,n){var r=this;if(n===void 0){n=0}var e=this._entries.get(t);e||(e=new Pd(t),this._entries.set(t,e));var o=e.register(i,n);return this._onDidChange.fire(new Vd(t)),En((function(){o.dispose(),r._onDidChange.fire(new Vd(t))}))};i.prototype.getLanguageConfiguration=function(t){var i=this._entries.get(t);return(i==null?void 0:i.getResolvedConfiguration())||null};return i}(Cn);var Xd=function(){function t(i,n){this.languageId=i,this.underlyingConfig=n,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new od(this.underlyingConfig):null,this.comments=t._handleComments(this.underlyingConfig),this.characterPair=new Fl(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||pi,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new ed(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Sd(i,this.underlyingConfig)}t.prototype.getWordDefinition=function(){return mi(this.wordDefinition)};Object.defineProperty(t.prototype,"brackets",{get:function(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new Vl(this.languageId,this.underlyingConfig.brackets)),this._brackets},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"electricCharacter",{get:function(){return this._electricCharacter||(this._electricCharacter=new nd(this.brackets)),this._electricCharacter},enumerable:false,configurable:true});t.prototype.onEnter=function(t,i,n,r){return this._onEnterSupport?this._onEnterSupport.onEnter(t,i,n,r):null};t.prototype.getAutoClosingPairs=function(){return new Bl(this.characterPair.getAutoClosingPairs())};t.prototype.getAutoCloseBeforeSet=function(t){return this.characterPair.getAutoCloseBeforeSet(t)};t.prototype.getSurroundingPairs=function(){return this.characterPair.getSurroundingPairs()};t._handleComments=function(t){var i=t.comments;if(!i)return null;var n={};if(i.lineComment&&(n.lineCommentToken=i.lineComment),i.blockComment){var r=i.blockComment,e=r[0],o=r[1];n.blockCommentStartToken=e,n.blockCommentEndToken=o}return n};return t}();Ad(jd,zd,1);var qd=function(){function t(t,i,n,r){this.originalStart=t,this.originalLength=i,this.modifiedStart=n,this.modifiedLength=r}t.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength};t.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength};return t}();var Zd=function(){function t(t){this.source=t}t.prototype.getElements=function(){var t=this.source,i=new Int32Array(t.length);for(var n=0,r=t.length;n<r;n++)i[n]=t.charCodeAt(n);return i};return t}();function $d(t,i,n){return new rv(new Zd(t),new Zd(i)).ComputeDiff(n).changes}var tv=function(){function t(){}t.Assert=function(t,i){if(!t)throw new Error(i)};return t}();var iv=function(){function t(){}t.Copy=function(t,i,n,r,e){for(var o=0;o<e;o++)n[r+o]=t[i+o]};t.Copy2=function(t,i,n,r,e){for(var o=0;o<e;o++)n[r+o]=t[i+o]};return t}();var nv=function(){function t(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}t.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new qd(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824};t.prototype.AddOriginalElement=function(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++};t.prototype.AddModifiedElement=function(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++};t.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes};t.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes};return t}();var rv=function(){function t(i,n,r){if(r===void 0){r=null}this.ContinueProcessingPredicate=r,this._originalSequence=i,this._modifiedSequence=n;var e=t._getElements(i),o=e[0],s=e[1],u=e[2],a=t._getElements(n),c=a[0],h=a[1],f=a[2];this._hasStrings=u&&f,this._originalStringElements=o,this._originalElementsOrHash=s,this._modifiedStringElements=c,this._modifiedElementsOrHash=h,this.m_forwardHistory=[],this.m_reverseHistory=[]}t._isStringArray=function(t){return t.length>0&&typeof t[0]=="string"};t._getElements=function(i){var n=i.getElements();if(t._isStringArray(n)){var r=new Int32Array(n.length);for(var e=0,o=n.length;e<o;e++)r[e]=Aa(n[e],0);return[n,r,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]};t.prototype.ElementsAreEqual=function(t,i){return this._originalElementsOrHash[t]===this._modifiedElementsOrHash[i]&&(!this._hasStrings||this._originalStringElements[t]===this._modifiedStringElements[i])};t.prototype.ElementsAreStrictEqual=function(i,n){return this.ElementsAreEqual(i,n)?t._getStrictElement(this._originalSequence,i)===t._getStrictElement(this._modifiedSequence,n):!1};t._getStrictElement=function(t,i){return typeof t.getStrictElement=="function"?t.getStrictElement(i):null};t.prototype.OriginalElementsAreEqual=function(t,i){return this._originalElementsOrHash[t]===this._originalElementsOrHash[i]&&(!this._hasStrings||this._originalStringElements[t]===this._originalStringElements[i])};t.prototype.ModifiedElementsAreEqual=function(t,i){return this._modifiedElementsOrHash[t]===this._modifiedElementsOrHash[i]&&(!this._hasStrings||this._modifiedStringElements[t]===this._modifiedStringElements[i])};t.prototype.ComputeDiff=function(t){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,t)};t.prototype._ComputeDiff=function(t,i,n,r,e){var o=[!1];var s=this.ComputeDiffRecursive(t,i,n,r,o);return e&&(s=this.PrettifyChanges(s)),{quitEarly:o[0],changes:s}};t.prototype.ComputeDiffRecursive=function(t,i,n,r,e){for(e[0]=!1;t<=i&&n<=r&&this.ElementsAreEqual(t,n);)t++,n++;for(;i>=t&&r>=n&&this.ElementsAreEqual(i,r);)i--,r--;if(t>i||n>r){var o=void 0;return n<=r?(tv.Assert(t===i+1,"originalStart should only be one more than originalEnd"),o=[new qd(t,0,n,r-n+1)]):t<=i?(tv.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[new qd(t,i-t+1,n,0)]):(tv.Assert(t===i+1,"originalStart should only be one more than originalEnd"),tv.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}var s=[0],u=[0],a=this.ComputeRecursionPoint(t,i,n,r,s,u,e),c=s[0],h=u[0];if(a!==null)return a;if(!e[0]){var o=this.ComputeDiffRecursive(t,c,n,h,e);var f=[];return f=e[0]?[new qd(c+1,i-(c+1)+1,h+1,r-(h+1)+1)]:this.ComputeDiffRecursive(c+1,i,h+1,r,e),this.ConcatenateChanges(o,f)}return[new qd(t,i-t+1,n,r-n+1)]};t.prototype.WALKTRACE=function(t,i,n,r,e,o,s,u,a,c,h,f,l,d,v,A,g,w){var p=null,m=null,b=new nv,y=i,k=n,x=l[0]-A[0]-r,E=-1073741824,B=this.m_forwardHistory.length-1;do{var C=x+t;C===y||C<k&&a[C-1]<a[C+1]?(d=(h=a[C+1])-x-r,h<E&&b.MarkNextChange(),E=h,b.AddModifiedElement(h+1,d),x=C+1-t):(d=(h=a[C-1]+1)-x-r,h<E&&b.MarkNextChange(),E=h-1,b.AddOriginalElement(h,d+1),x=C-1-t),B>=0&&(t=(a=this.m_forwardHistory[B])[0],y=1,k=a.length-1)}while(--B>=-1);if(p=b.getReverseChanges(),w[0]){var C=l[0]+1,D=A[0]+1;if(p!==null&&p.length>0){var M=p[p.length-1];C=Math.max(C,M.getOriginalEnd()),D=Math.max(D,M.getModifiedEnd())}m=[new qd(C,f-C+1,D,v-D+1)]}else{b=new nv,y=o,k=s,x=l[0]-A[0]-u,E=1073741824,B=g?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{var C=x+e;C===y||C<k&&c[C-1]>=c[C+1]?(d=(h=c[C+1]-1)-x-u,h>E&&b.MarkNextChange(),E=h+1,b.AddOriginalElement(h+1,d+1),x=C+1-e):(d=(h=c[C-1])-x-u,h>E&&b.MarkNextChange(),E=h,b.AddModifiedElement(h+1,d+1),x=C-1-e),B>=0&&(e=(c=this.m_reverseHistory[B])[0],y=1,k=c.length-1)}while(--B>=-1);m=b.getChanges()}return this.ConcatenateChanges(p,m)};t.prototype.ComputeRecursionPoint=function(t,i,n,r,e,o,s){var u=0,a=0,c=0,h=0,f=0,l=0;t--,n--,e[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var d=i-t+(r-n),v=d+1,A=new Int32Array(v),g=new Int32Array(v),w=r-n,p=i-t,m=t-n,b=i-r,y=(p-w)%2==0;A[w]=t,g[p]=i,s[0]=!1;for(var k=1;k<=d/2+1;k++){var x=0,E=0;c=this.ClipDiagonalBound(w-k,k,w,v),h=this.ClipDiagonalBound(w+k,k,w,v);for(var B=c;B<=h;B+=2){u=B===c||B<h&&A[B-1]<A[B+1]?A[B+1]:A[B-1]+1,a=u-(B-w)-m;var C=u;for(;u<i&&a<r&&this.ElementsAreEqual(u+1,a+1);)u++,a++;if(A[B]=u,u+a>x+E&&(x=u,E=a),!y&&Math.abs(B-p)<=k-1&&u>=g[B])return e[0]=u,o[0]=a,C<=g[B]&&k<=1448?this.WALKTRACE(w,c,h,m,p,f,l,b,A,g,u,i,e,a,r,o,y,s):null}var D=(x-t+(E-n)-k)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(x,D))return s[0]=!0,e[0]=x,o[0]=E,D>0&&k<=1448?this.WALKTRACE(w,c,h,m,p,f,l,b,A,g,u,i,e,a,r,o,y,s):(t++,n++,[new qd(t,i-t+1,n,r-n+1)]);f=this.ClipDiagonalBound(p-k,k,p,v),l=this.ClipDiagonalBound(p+k,k,p,v);for(var B=f;B<=l;B+=2){u=B===f||B<l&&g[B-1]>=g[B+1]?g[B+1]-1:g[B-1],a=u-(B-p)-b;var C=u;for(;u>t&&a>n&&this.ElementsAreEqual(u,a);)u--,a--;if(g[B]=u,y&&Math.abs(B-w)<=k&&u<=A[B])return e[0]=u,o[0]=a,C>=A[B]&&k<=1448?this.WALKTRACE(w,c,h,m,p,f,l,b,A,g,u,i,e,a,r,o,y,s):null}if(k<=1447){var B=new Int32Array(h-c+2);B[0]=w-c+1,iv.Copy2(A,c,B,1,h-c+1),this.m_forwardHistory.push(B),B=new Int32Array(l-f+2),B[0]=p-f+1,iv.Copy2(g,f,B,1,l-f+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(w,c,h,m,p,f,l,b,A,g,u,i,e,a,r,o,y,s)};t.prototype.PrettifyChanges=function(t){for(var i=0;i<t.length;i++){var n=t[i],r=i<t.length-1?t[i+1].originalStart:this._originalElementsOrHash.length,e=i<t.length-1?t[i+1].modifiedStart:this._modifiedElementsOrHash.length,o=n.originalLength>0,s=n.modifiedLength>0;for(;n.originalStart+n.originalLength<r&&n.modifiedStart+n.modifiedLength<e&&(!o||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!s||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){var u=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!u)break;n.originalStart++,n.modifiedStart++}var a=[null];i<t.length-1&&this.ChangesOverlap(t[i],t[i+1],a)&&(t[i]=a[0],t.splice(i+1,1),i--)}for(var i=t.length-1;i>=0;i--){var n=t[i];var r=0,e=0;if(i>0){var c=t[i-1];r=c.originalStart+c.originalLength,e=c.modifiedStart+c.modifiedLength}var o=n.originalLength>0,s=n.modifiedLength>0;var a=0,u=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(var c=1;;c++){var h=n.originalStart-c,f=n.modifiedStart-c;if(h<r||f<e||o&&!this.OriginalElementsAreEqual(h,h+n.originalLength)||s&&!this.ModifiedElementsAreEqual(f,f+n.modifiedLength))break;var l=(h===r&&f===e?5:0)+this._boundaryScore(h,n.originalLength,f,n.modifiedLength);l>u&&(u=l,a=c)}n.originalStart-=a,n.modifiedStart-=a;var d=[null];i>0&&this.ChangesOverlap(t[i-1],t[i],d)&&(t[i-1]=d[0],t.splice(i,1),i++)}if(this._hasStrings)for(var i=1,n=t.length;i<n;i++){var r=t[i-1],e=t[i],o=e.originalStart-r.originalStart-r.originalLength,s=r.originalStart,a=e.originalStart+e.originalLength,u=a-s,v=r.modifiedStart,c=e.modifiedStart+e.modifiedLength,h=c-v;if(o<5&&u<20&&h<20){var f=this._findBetterContiguousSequence(s,u,v,h,o);if(f){var l=f[0],A=f[1];l===r.originalStart+r.originalLength&&A===r.modifiedStart+r.modifiedLength||(r.originalLength=l-r.originalStart,r.modifiedLength=A-r.modifiedStart,e.originalStart=l+o,e.modifiedStart=A+o,e.originalLength=a-e.originalStart,e.modifiedLength=c-e.modifiedStart)}}}return t};t.prototype._findBetterContiguousSequence=function(t,i,n,r,e){if(i<e||r<e)return null;var o=t+i-e+1,s=n+r-e+1;var u=0,a=0,c=0;for(var h=t;h<o;h++)for(var f=n;f<s;f++){var l=this._contiguousSequenceScore(h,f,e);l>0&&l>u&&(u=l,a=h,c=f)}return u>0?[a,c]:null};t.prototype._contiguousSequenceScore=function(t,i,n){var r=0;for(var e=0;e<n;e++){if(!this.ElementsAreEqual(t+e,i+e))return 0;r+=this._originalStringElements[t+e].length}return r};t.prototype._OriginalIsBoundary=function(t){return t<=0||t>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[t])};t.prototype._OriginalRegionIsBoundary=function(t,i){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(i>0){var n=t+i;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1};t.prototype._ModifiedIsBoundary=function(t){return t<=0||t>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[t])};t.prototype._ModifiedRegionIsBoundary=function(t,i){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(i>0){var n=t+i;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1};t.prototype._boundaryScore=function(t,i,n,r){return(this._OriginalRegionIsBoundary(t,i)?1:0)+(this._ModifiedRegionIsBoundary(n,r)?1:0)};t.prototype.ConcatenateChanges=function(t,i){var n=[];if(t.length===0||i.length===0)return i.length>0?i:t;if(this.ChangesOverlap(t[t.length-1],i[0],n)){var r=new Array(t.length+i.length-1);return iv.Copy(t,0,r,0,t.length-1),r[t.length-1]=n[0],iv.Copy(i,1,r,t.length,i.length-1),r}{var r=new Array(t.length+i.length);return iv.Copy(t,0,r,0,t.length),iv.Copy(i,0,r,t.length,i.length),r}};t.prototype.ChangesOverlap=function(t,i,n){if(tv.Assert(t.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),tv.Assert(t.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=i.originalStart||t.modifiedStart+t.modifiedLength>=i.modifiedStart){var r=t.originalStart;var e=t.originalLength;var o=t.modifiedStart;var s=t.modifiedLength;return t.originalStart+t.originalLength>=i.originalStart&&(e=i.originalStart+i.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=i.modifiedStart&&(s=i.modifiedStart+i.modifiedLength-t.modifiedStart),n[0]=new qd(r,e,o,s),!0}return n[0]=null,!1};t.prototype.ClipDiagonalBound=function(t,i,n,r){if(t>=0&&t<r)return t;var e=i%2==0;return t<0?e===(n%2==0)?0:1:e===((r-n-1)%2==0)?r-1:r-2};return t}();function ev(t){return t<0?0:t>255?255:0|t}function ov(t){return t<0?0:t>4294967295?4294967295:0|t}var sv=function(){function t(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}t.prototype.insertValues=function(t,i){t=ov(t);var n=this.values,r=this.prefixSum,e=i.length;return e!==0&&(this.values=new Uint32Array(n.length+e),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+e),this.values.set(i,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)};t.prototype.setValue=function(t,i){return t=ov(t),i=ov(i),this.values[t]!==i&&(this.values[t]=i,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)};t.prototype.removeValues=function(t,i){t=ov(t),i=ov(i);var n=this.values,r=this.prefixSum;if(t>=n.length)return!1;var e=n.length-t;return i>=e&&(i=e),i!==0&&(this.values=new Uint32Array(n.length-i),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+i),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)};t.prototype.getTotalSum=function(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)};t.prototype.getPrefixSum=function(t){return t<0?0:(t=ov(t),this._getPrefixSum(t))};t.prototype._getPrefixSum=function(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];var i=this.prefixSumValidIndex[0]+1;i===0&&(this.prefixSum[0]=this.values[0],i++),t>=this.values.length&&(t=this.values.length-1);for(var n=i;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]};t.prototype.getIndexOf=function(t){t=Math.floor(t),this.getTotalSum();var i=0,n=this.values.length-1,r=0,e=0,o=0;for(;i<=n;)if(r=i+(n-i)/2|0,e=this.prefixSum[r],o=e-this.values[r],t<o)n=r-1;else{if(!(t>=e))break;i=r+1}return new av(r,t-o)};return t}();var uv=function(){function t(t){this._values=t,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}t.prototype.getTotalSum=function(){return this._ensureValid(),this._indexBySum.length};t.prototype.getPrefixSum=function(t){return this._ensureValid(),t===0?0:this._prefixSum[t-1]};t.prototype.getIndexOf=function(t){this._ensureValid();var i=this._indexBySum[t],n=i>0?this._prefixSum[i-1]:0;return new av(i,t-n)};t.prototype.removeValues=function(t,i){this._values.splice(t,i),this._invalidate(t)};t.prototype.insertValues=function(t,i){this._values=H(this._values,t,i),this._invalidate(t)};t.prototype._invalidate=function(t){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,t-1)};t.prototype._ensureValid=function(){if(!this._isValid){for(var t=this._validEndIndex+1,i=this._values.length;t<i;t++){var n=this._values[t],r=t>0?this._prefixSum[t-1]:0;this._prefixSum[t]=r+n;for(var e=0;e<n;e++)this._indexBySum[r+e]=t}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}};t.prototype.setValue=function(t,i){this._values[t]!==i&&(this._values[t]=i,this._invalidate(t))};return t}();var av=function(){function t(t,i){this.index=t,this.remainder=i,this._prefixSumIndexOfResultBrand=void 0,this.index=t,this.remainder=i}return t}();var cv=function(){function t(t,i,n,r){this._uri=t,this._lines=i,this._eol=n,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}t.prototype.dispose=function(){this._lines.length=0};Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:false,configurable:true});t.prototype.getText=function(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue};t.prototype.onEvents=function(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);var i=t.changes;for(var n=0,r=i;n<r.length;n++){var e=r[n];this._acceptDeleteRange(e.range),this._acceptInsertText(new qr(e.range.startLineNumber,e.range.startColumn),e.text)}this._versionId=t.versionId,this._cachedTextValue=null};t.prototype._ensureLineStarts=function(){if(!this._lineStarts){var t=this._eol.length,i=this._lines.length,n=new Uint32Array(i);for(var r=0;r<i;r++)n[r]=this._lines[r].length+t;this._lineStarts=new sv(n)}};t.prototype._setLineText=function(t,i){this._lines[t]=i,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)};t.prototype._acceptDeleteRange=function(t){if(t.startLineNumber!==t.endLineNumber)this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber);else{if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1))}};t.prototype._acceptInsertText=function(t,i){if(i.length===0)return;var n=_o(i);if(n.length===1)return void this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+n[0]+this._lines[t.lineNumber-1].substring(t.column-1));n[n.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+n[0]);var r=new Uint32Array(n.length-1);for(var e=1;e<n.length;e++)this._lines.splice(t.lineNumber+e-1,0,n[e]),r[e-1]=n[e].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,r)};return t}();var hv=function(){function t(i){var n=ev(i);this._defaultValue=n,this._asciiMap=t._createAsciiMap(n),this._map=new Map}t._createAsciiMap=function(t){var i=new Uint8Array(256);return i.fill(t),i};t.prototype.set=function(t,i){var n=ev(i);t>=0&&t<256?this._asciiMap[t]=n:this._map.set(t,n)};t.prototype.get=function(t){return t>=0&&t<256?this._asciiMap[t]:this._map.get(t)||this._defaultValue};t.prototype.clear=function(){this._asciiMap.fill(this._defaultValue),this._map.clear()};return t}();var fv=function(){function t(){this._actual=new hv(0)}t.prototype.add=function(t){this._actual.set(t,1)};t.prototype.has=function(t){return this._actual.get(t)===1};t.prototype.clear=function(){return this._actual.clear()};return t}();var lv=function(){function t(t,i,n){var r=new Uint8Array(t*i);for(var e=0,o=t*i;e<o;e++)r[e]=n;this._data=r,this.rows=t,this.cols=i}t.prototype.get=function(t,i){return this._data[t*this.cols+i]};t.prototype.set=function(t,i,n){this._data[t*this.cols+i]=n};return t}();var dv=function(){function t(t){var i=0,n=0;for(var r=0,e=t.length;r<e;r++){var o=t[r],s=o[0],u=o[1],a=o[2];u>i&&(i=u),s>n&&(n=s),a>n&&(n=a)}i++,n++;var c=new lv(n,i,0);for(var r=0,e=t.length;r<e;r++){var h=t[r],s=h[0],u=h[1],a=h[2];c.set(s,u,a)}this._states=c,this._maxCharCode=i}t.prototype.nextState=function(t,i){return i<0||i>=this._maxCharCode?0:this._states.get(t,i)};return t}();var vv=null,Av=null;var gv=function(){function t(){}t._createLink=function(t,i,n,r,e){var o=e-1;do{var s=i.charCodeAt(o);if(t.get(s)!==2)break;o--}while(o>r);if(r>0){var s=i.charCodeAt(r-1),u=i.charCodeAt(o);(s===40&&u===41||s===91&&u===93||s===123&&u===125)&&o--}return{range:{startLineNumber:n,startColumn:r+1,endLineNumber:n,endColumn:o+2},url:i.substring(r,o+1)}};t.computeLinks=function(i,n){if(n===void 0){n=function(){return vv===null&&(vv=new dv([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),vv}()}var r=function(){if(Av===null){Av=new hv(0);var t=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(var i=0;i<t.length;i++)Av.set(t.charCodeAt(i),1);var n=".,;:";for(var i=0;i<n.length;i++)Av.set(n.charCodeAt(i),2)}return Av}(),e=[];for(var o=1,s=i.getLineCount();o<=s;o++){var u=i.getLineContent(o),a=u.length;var c=0,h=0,f=0,l=1,d=!1,v=!1,A=!1,g=!1;for(;c<a;){var w=!1;var p=u.charCodeAt(c);if(l===13){var m=void 0;switch(p){case 40:d=!0,m=0;break;case 41:m=d?0:1;break;case 91:A=!0,v=!0,m=0;break;case 93:A=!1,m=v?0:1;break;case 123:g=!0,m=0;break;case 125:m=g?0:1;break;case 39:case 34:case 96:m=f===p?1:f===39||f===34||f===96?0:1;break;case 42:m=f===42?1:0;break;case 124:m=f===124?1:0;break;case 32:m=A?0:1;break;default:m=r.get(p)}m===1&&(e.push(t._createLink(r,u,o,h,c)),w=!0)}else if(l===12){var m=void 0;p===91?(v=!0,m=0):m=r.get(p),m===1?w=!0:l=13}else l=n.nextState(l,p),l===0&&(w=!0);w&&(l=1,d=!1,v=!1,g=!1,h=c+1,f=p),c++}l===13&&e.push(t._createLink(r,u,o,h,a))}return e};return t}();var wv=function(){function t(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}t.prototype.navigateValueSet=function(t,i,n,r,e){if(t&&i){var o=this.doNavigateValueSet(i,e);if(o)return{range:t,value:o}}if(n&&r){var o=this.doNavigateValueSet(r,e);if(o)return{range:n,value:o}}return null};t.prototype.doNavigateValueSet=function(t,i){var n=this.numberReplace(t,i);return n!==null?n:this.textReplace(t,i)};t.prototype.numberReplace=function(t,i){var n=Math.pow(10,t.length-(t.lastIndexOf(".")+1));var r=Number(t);var e=parseFloat(t);return isNaN(r)||isNaN(e)||r!==e?null:r!==0||i?(r=Math.floor(r*n),r+=i?n:-n,String(r/n)):null};t.prototype.textReplace=function(t,i){return this.valueSetsReplace(this._defaultValueSet,t,i)};t.prototype.valueSetsReplace=function(t,i,n){var r=null;for(var e=0,o=t.length;r===null&&e<o;e++)r=this.valueSetReplace(t[e],i,n);return r};t.prototype.valueSetReplace=function(t,i,n){var r=t.indexOf(i);return r>=0?(r+=n?1:-1,r<0?r=t.length-1:r%=t.length,t[r]):null};return t}();var pv,mv;wv.INSTANCE=new wv;var bv=function(){function t(t,i){this.uri=t,this.value=i}return t}();var yv=function(){function t(i,n){if(this[pv]="ResourceMap",i instanceof t)this.map=new Map(i.map),this.toKey=n!==null&&n!==void 0?n:t.defaultToKey;else if(function(t){return Array.isArray(t)}(i)){this.map=new Map,this.toKey=n!==null&&n!==void 0?n:t.defaultToKey;for(var r=0,e=i;r<e.length;r++){var o=e[r],s=o[0],u=o[1];this.set(s,u)}}else this.map=new Map,this.toKey=i!==null&&i!==void 0?i:t.defaultToKey}t.prototype.set=function(t,i){return this.map.set(this.toKey(t),new bv(t,i)),this};t.prototype.get=function(t){var i;return(i=this.map.get(this.toKey(t)))===null||i===void 0?void 0:i.value};t.prototype.has=function(t){return this.map.has(this.toKey(t))};Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:false,configurable:true});t.prototype.clear=function(){this.map.clear()};t.prototype.delete=function(t){return this.map.delete(this.toKey(t))};t.prototype.forEach=function(t,i){i!==void 0&&(t=t.bind(i));for(var n=0,r=this.map;n<r.length;n++){var e=r[n],o=e[0],s=e[1];t(s.value,s.uri,this)}};t.prototype.values=function(){var t,i,n;return __generator(this,(function(r){switch(r.label){case 0:t=0,i=this.map.values();r.label=1;case 1:if(!(t<i.length))return[3,4];n=i[t];return[4,n.value];case 2:r.sent();r.label=3;case 3:t++;return[3,1];case 4:return[2]}}))};t.prototype.keys=function(){var t,i,n;return __generator(this,(function(r){switch(r.label){case 0:t=0,i=this.map.values();r.label=1;case 1:if(!(t<i.length))return[3,4];n=i[t];return[4,n.uri];case 2:r.sent();r.label=3;case 3:t++;return[3,1];case 4:return[2]}}))};t.prototype.entries=function(){var t,i,n;return __generator(this,(function(r){switch(r.label){case 0:t=0,i=this.map.values();r.label=1;case 1:if(!(t<i.length))return[3,4];n=i[t];return[4,[n.uri,n.value]];case 2:r.sent();r.label=3;case 3:t++;return[3,1];case 4:return[2]}}))};t.prototype[(pv=Symbol.toStringTag,Symbol.iterator)]=function(){var t,i,n,r;return __generator(this,(function(e){switch(e.label){case 0:t=0,i=this.map;e.label=1;case 1:if(!(t<i.length))return[3,4];n=i[t],r=n[1];return[4,[r.uri,r.value]];case 2:e.sent();e.label=3;case 3:t++;return[3,1];case 4:return[2]}}))};return t}();yv.defaultToKey=function(t){return t.toString()};var kv=function(){function t(){this[mv]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}t.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++};t.prototype.isEmpty=function(){return!this._head&&!this._tail};Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"first",{get:function(){var t;return(t=this._head)===null||t===void 0?void 0:t.value},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"last",{get:function(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value},enumerable:false,configurable:true});t.prototype.has=function(t){return this._map.has(t)};t.prototype.get=function(t,i){if(i===void 0){i=0}var n=this._map.get(t);if(n)return i!==0&&this.touch(n,i),n.value};t.prototype.set=function(t,i,n){if(n===void 0){n=0}var r=this._map.get(t);if(r)r.value=i,n!==0&&this.touch(r,n);else{switch(r={key:t,value:i,next:void 0,previous:void 0},n){case 0:case 2:default:this.addItemLast(r);break;case 1:this.addItemFirst(r)}this._map.set(t,r),this._size++}return this};t.prototype.delete=function(t){return!!this.remove(t)};t.prototype.remove=function(t){var i=this._map.get(t);if(i)return this._map.delete(t),this.removeItem(i),this._size--,i.value};t.prototype.shift=function(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");var t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value};t.prototype.forEach=function(t,i){var n=this._state;var r=this._head;for(;r;){if(i?t.bind(i)(r.value,r.key,this):t(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}};t.prototype.keys=function(){var t;var i=this,n=this._state;var r=this._head;var e=(t={},t[Symbol.iterator]=function(){return e},t.next=function(){if(i._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){var t={value:r.key,done:!1};return r=r.next,t}return{value:void 0,done:!0}},t);return e};t.prototype.values=function(){var t;var i=this,n=this._state;var r=this._head;var e=(t={},t[Symbol.iterator]=function(){return e},t.next=function(){if(i._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){var t={value:r.value,done:!1};return r=r.next,t}return{value:void 0,done:!0}},t);return e};t.prototype.entries=function(){var t;var i=this,n=this._state;var r=this._head;var e=(t={},t[Symbol.iterator]=function(){return e},t.next=function(){if(i._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){var t={value:[r.key,r.value],done:!1};return r=r.next,t}return{value:void 0,done:!0}},t);return e};t.prototype[(mv=Symbol.toStringTag,Symbol.iterator)]=function(){return this.entries()};t.prototype.trimOld=function(t){if(t>=this.size)return;if(t===0)return void this.clear();var i=this._head,n=this.size;for(;i&&n>t;)this._map.delete(i.key),i=i.next,n--;this._head=i,this._size=n,i&&(i.previous=void 0),this._state++};t.prototype.addItemFirst=function(t){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");t.next=this._head,this._head.previous=t}else this._tail=t;this._head=t,this._state++};t.prototype.addItemLast=function(t){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");t.previous=this._tail,this._tail.next=t}else this._head=t;this._tail=t,this._state++};t.prototype.removeItem=function(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{var i=t.next,n=t.previous;if(!i||!n)throw new Error("Invalid list");i.previous=n,n.next=i}t.next=void 0,t.previous=void 0,this._state++};t.prototype.touch=function(t,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(i===1||i===2){if(i===1){if(t===this._head)return;var n=t.next,r=t.previous;t===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(i===2){if(t===this._tail)return;var n=t.next,r=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=r,r.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}};t.prototype.toJSON=function(){var t=[];return this.forEach((function(i,n){t.push([n,i])})),t};t.prototype.fromJSON=function(t){this.clear();for(var i=0,n=t;i<n.length;i++){var r=n[i],e=r[0],o=r[1];this.set(e,o)}};return t}();var xv=function(t){__extends(i,t);function i(i,n){if(n===void 0){n=1}var r=this;r=t.call(this)||this,r._limit=i,r._ratio=Math.min(Math.max(0,n),1);return r}Object.defineProperty(i.prototype,"limit",{get:function(){return this._limit},set:function(t){this._limit=t,this.checkTrim()},enumerable:false,configurable:true});i.prototype.get=function(i,n){if(n===void 0){n=2}return t.prototype.get.call(this,i,n)};i.prototype.peek=function(i){return t.prototype.get.call(this,i,0)};i.prototype.set=function(i,n){return t.prototype.set.call(this,i,n,2),this.checkTrim(),this};i.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))};return i}(kv);var Ev=function(){function t(t){if(this._m1=new Map,this._m2=new Map,t)for(var i=0,n=t;i<n.length;i++){var r=n[i],e=r[0],o=r[1];this.set(e,o)}}t.prototype.clear=function(){this._m1.clear(),this._m2.clear()};t.prototype.set=function(t,i){this._m1.set(t,i),this._m2.set(i,t)};t.prototype.get=function(t){return this._m1.get(t)};t.prototype.getKey=function(t){return this._m2.get(t)};t.prototype.delete=function(t){var i=this._m1.get(t);return i!==void 0&&(this._m1.delete(t),this._m2.delete(i),!0)};t.prototype.keys=function(){return this._m1.keys()};t.prototype.values=function(){return this._m1.values()};return t}();var Bv=function(){function t(){this.map=new Map}t.prototype.add=function(t,i){var n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(i)};t.prototype.delete=function(t,i){var n=this.map.get(t);n&&(n.delete(i),n.size===0&&this.map.delete(t))};t.prototype.forEach=function(t,i){var n=this.map.get(t);n&&n.forEach(i)};t.prototype.get=function(t){return this.map.get(t)||new Set};return t}();var Cv=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,0)||this,r._segmenter=null,r._cachedLine=null,r._cachedSegments=[],r.intlSegmenterLocales=n,r.intlSegmenterLocales.length>0?r._segmenter=new Intl.Segmenter(r.intlSegmenterLocales,{granularity:"word"}):r._segmenter=null;for(var e=0,o=i.length;e<o;e++)r.set(i.charCodeAt(e),2);r.set(32,1),r.set(9,1);return r}i.prototype.findPrevIntlWordBeforeOrAtOffset=function(t,i){var n=null;for(var r=0,e=this._getIntlSegmenterWordsOnLine(t);r<e.length;r++){var o=e[r];if(o.index>i)break;n=o}return n};i.prototype.findNextIntlWordAtOrAfterOffset=function(t,i){for(var n=0,r=this._getIntlSegmenterWordsOnLine(t);n<r.length;n++){var e=r[n];if(!(e.index<i))return e}return null};i.prototype._getIntlSegmenterWordsOnLine=function(t){return this._segmenter?(this._cachedLine===t||(this._cachedLine=t,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(t))),this._cachedSegments):[]};i.prototype._filterWordSegments=function(t){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];this._isWordLike(e)&&i.push(e)}return i};i.prototype._isWordLike=function(t){return!!t.isWordLike};return i}(hv);var Dv=new xv(10);function Mv(t,i){var n="".concat(t,"/").concat(i.join(","));var r=Dv.get(n);return r||(r=new Cv(t,i),Dv.set(n,r)),r}var _v,Fv,Sv;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(_v||(_v={})),function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(Fv||(Fv={})),function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"}(Sv||(Sv={}));var Iv=function(){function t(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|t.tabSize),t.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|t.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=!!t.insertSpaces,this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=!!t.trimAutoWhitespace,this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}Object.defineProperty(t.prototype,"originalIndentSize",{get:function(){return this._indentSizeIsTabSize?"tabSize":this.indentSize},enumerable:false,configurable:true});t.prototype.equals=function(t){return this.tabSize===t.tabSize&&this._indentSizeIsTabSize===t._indentSizeIsTabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&yt(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)};t.prototype.createChangeEvent=function(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}};return t}();var Qv=function(){function t(t,i){this._findMatchBrand=void 0,this.range=t,this.matches=i}return t}();var Ov=function(){function t(t,i,n,r,e,o){this.identifier=t,this.range=i,this.text=n,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=e,this._isTracked=o}return t}();var Nv=function(){function t(t,i,n){this.regex=t,this.wordSeparators=i,this.simpleSearch=n}return t}();var Rv=function(){function t(t,i,n){this.reverseEdits=t,this.changes=i,this.trimAutoWhitespaceLineNumbers=n}return t}();function Tv(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}var Lv=function(){function t(t,i,n,r){this.searchString=t,this.isRegex=i,this.matchCase=n,this.wordSeparators=r}t.prototype.parseSearchRequest=function(){if(this.searchString==="")return null;var t;t=this.isRegex?function(t){if(!t||t.length===0)return!1;for(var i=0,n=t.length;i<n;i++){var r=t.charCodeAt(i);if(r===10)return!0;if(r===92){if(i++,i>=n)break;var e=t.charCodeAt(i);if(e===110||e===114||e===87)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;var i=null;try{i=Mo(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(t){return null}if(!i)return null;var n=!this.isRegex&&!t;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new Nv(i,this.wordSeparators?Mv(this.wordSeparators,[]):null,n?this.searchString:null)};return t}();function jv(t,i,n){if(!n)return new Qv(t,null);var r=[];for(var e=0,o=i.length;e<o;e++)r[e]=i[e];return new Qv(t,r)}var zv=function(){function t(t){var i=[];var n=0;for(var r=0,e=t.length;r<e;r++)t.charCodeAt(r)===10&&(i[n++]=r);this._lineFeedsOffsets=i}t.prototype.findLineFeedCountBeforeOffset=function(t){var i=this._lineFeedsOffsets;var n=0,r=i.length-1;if(r===-1||t<=i[0])return 0;for(;n<r;){var e=n+((r-n)/2|0);i[e]>=t?r=e-1:i[e+1]>=t?(n=e,r=e):n=e+1}return n+1};return t}();var Uv=function(){function t(){}t.findMatches=function(t,i,n,r,e){var o=i.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(t,n,new Yv(o.wordSeparators,o.regex),r,e):this._doFindMatchesLineByLine(t,n,o,r,e):[]};t._getMultilineMatchRange=function(t,i,n,r,e,o){var s,u,a=0;if(r?(a=r.findLineFeedCountBeforeOffset(e),s=i+e+a):s=i+e,r){var c=r.findLineFeedCountBeforeOffset(e+o.length)-a;u=s+o.length+c}else u=s+o.length;var h=t.getPositionAt(s),f=t.getPositionAt(u);return new Zr(h.lineNumber,h.column,f.lineNumber,f.column)};t._doFindMatchesMultiline=function(t,i,n,r,e){var o=t.getOffsetAt(i.getStartPosition()),s=t.getValueInRange(i,1),u=t.getEOL()==="\r\n"?new zv(s):null,a=[];var c,h=0;for(n.reset(0);c=n.next(s);)if(a[h++]=jv(this._getMultilineMatchRange(t,o,s,u,c.index,c[0]),c,r),h>=e)return a;return a};t._doFindMatchesLineByLine=function(t,i,n,r,e){var o=[];var s=0;if(i.startLineNumber===i.endLineNumber){var u=t.getLineContent(i.startLineNumber).substring(i.startColumn-1,i.endColumn-1);return s=this._findMatchesInLine(n,u,i.startLineNumber,i.startColumn-1,s,o,r,e),o}var a=t.getLineContent(i.startLineNumber).substring(i.startColumn-1);s=this._findMatchesInLine(n,a,i.startLineNumber,i.startColumn-1,s,o,r,e);for(var u=i.startLineNumber+1;u<i.endLineNumber&&s<e;u++)s=this._findMatchesInLine(n,t.getLineContent(u),u,0,s,o,r,e);if(s<e){var u=t.getLineContent(i.endLineNumber).substring(0,i.endColumn-1);s=this._findMatchesInLine(n,u,i.endLineNumber,0,s,o,r,e)}return o};t._findMatchesInLine=function(t,i,n,r,e,o,s,u){var a=t.wordSeparators;if(!s&&t.simpleSearch){var c=t.simpleSearch,h=c.length,f=i.length;var l=-h;for(;(l=i.indexOf(c,l+h))!==-1;)if((!a||Hv(a,i,f,l,h))&&(o[e++]=new Qv(new Zr(n,l+1+r,n,l+1+h+r),null),e>=u))return e;return e}var d=new Yv(t.wordSeparators,t.regex);var v;d.reset(0);do{if(v=d.next(i),v&&(o[e++]=jv(new Zr(n,v.index+1+r,n,v.index+1+v[0].length+r),v,s),e>=u))return e}while(v);return e};t.findNextMatch=function(t,i,n,r){var e=i.parseSearchRequest();if(!e)return null;var o=new Yv(e.wordSeparators,e.regex);return e.regex.multiline?this._doFindNextMatchMultiline(t,n,o,r):this._doFindNextMatchLineByLine(t,n,o,r)};t._doFindNextMatchMultiline=function(t,i,n,r){var e=new qr(i.lineNumber,1),o=t.getOffsetAt(e),s=t.getLineCount(),u=t.getValueInRange(new Zr(e.lineNumber,e.column,s,t.getLineMaxColumn(s)),1),a=t.getEOL()==="\r\n"?new zv(u):null;n.reset(i.column-1);var c=n.next(u);return c?jv(this._getMultilineMatchRange(t,o,u,a,c.index,c[0]),c,r):i.lineNumber!==1||i.column!==1?this._doFindNextMatchMultiline(t,new qr(1,1),n,r):null};t._doFindNextMatchLineByLine=function(t,i,n,r){var e=t.getLineCount(),o=i.lineNumber,s=t.getLineContent(o),u=this._findFirstMatchInLine(n,s,o,i.column,r);if(u)return u;for(var a=1;a<=e;a++){var c=(o+a-1)%e,h=t.getLineContent(c+1),f=this._findFirstMatchInLine(n,h,c+1,1,r);if(f)return f}return null};t._findFirstMatchInLine=function(t,i,n,r,e){t.reset(r-1);var o=t.next(i);return o?jv(new Zr(n,o.index+1,n,o.index+1+o[0].length),o,e):null};t.findPreviousMatch=function(t,i,n,r){var e=i.parseSearchRequest();if(!e)return null;var o=new Yv(e.wordSeparators,e.regex);return e.regex.multiline?this._doFindPreviousMatchMultiline(t,n,o,r):this._doFindPreviousMatchLineByLine(t,n,o,r)};t._doFindPreviousMatchMultiline=function(t,i,n,r){var e=this._doFindMatchesMultiline(t,new Zr(1,1,i.lineNumber,i.column),n,r,9990);if(e.length>0)return e[e.length-1];var o=t.getLineCount();return i.lineNumber!==o||i.column!==t.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(t,new qr(o,t.getLineMaxColumn(o)),n,r):null};t._doFindPreviousMatchLineByLine=function(t,i,n,r){var e=t.getLineCount(),o=i.lineNumber,s=t.getLineContent(o).substring(0,i.column-1),u=this._findLastMatchInLine(n,s,o,r);if(u)return u;for(var a=1;a<=e;a++){var c=(e+o-a-1)%e,h=t.getLineContent(c+1),f=this._findLastMatchInLine(n,h,c+1,r);if(f)return f}return null};t._findLastMatchInLine=function(t,i,n,r){var e,o=null;for(t.reset(0);e=t.next(i);)o=jv(new Zr(n,e.index+1,n,e.index+1+e[0].length),e,r);return o};return t}();function Hv(t,i,n,r,e){return function(t,i,n,r,e){if(r===0)return!0;var o=i.charCodeAt(r-1);if(t.get(o)!==0||o===13||o===10)return!0;if(e>0){var s=i.charCodeAt(r);if(t.get(s)!==0)return!0}return!1}(t,i,0,r,e)&&function(t,i,n,r,e){if(r+e===n)return!0;var o=i.charCodeAt(r+e);if(t.get(o)!==0||o===13||o===10)return!0;if(e>0){var s=i.charCodeAt(r+e-1);if(t.get(s)!==0)return!0}return!1}(t,i,n,r,e)}var Yv=function(){function t(t,i){this._wordSeparators=t,this._searchRegex=i,this._prevMatchStartIndex=-1,this._prevMatchLength=0}t.prototype.reset=function(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0};t.prototype.next=function(t){var i=t.length;var n;do{if(this._prevMatchStartIndex+this._prevMatchLength===i||(n=this._searchRegex.exec(t),!n))return null;var r=n.index,e=n[0].length;if(r===this._prevMatchStartIndex&&e===this._prevMatchLength){if(e===0){Go(t,i,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=e,!this._wordSeparators||Hv(this._wordSeparators,t,i,r,e))return n}while(n);return null};return t}();var Jv=function(){function t(){}t.computeUnicodeHighlights=function(t,i,n){var r=n?n.startLineNumber:1,e=n?n.endLineNumber:t.getLineCount(),o=new Pv(i),s=o.getCandidateCodePoints();var u;u=s==="allNonBasicAscii"?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp("[".concat(Eo(Array.from(s).map((function(t){return String.fromCodePoint(t)})).join("")),"]"),"g");var a=new Yv(null,u),c=[];var h,f=!1,l=0,d=0,v=0;t:for(var A=r,g=e;A<=g;A++){var w=t.getLineContent(A),p=w.length;a.reset(0);do{if(h=a.next(w),h){var m=h.index,b=h.index+h[0].length;m>0&&Jo(w.charCodeAt(m-1))&&m--,b+1<p&&Jo(w.charCodeAt(b-1))&&b++;var y=w.substring(m,b);var k=yi(m+1,pi,w,0);k&&k.endColumn<=m+1&&(k=null);var x=o.shouldHighlightNonBasicASCII(y,k?k.word:null);if(x!==0){if(x===3?l++:x===2?d++:x===1?v++:wf(),c.length>=1e3){f=!0;break t}c.push(new Zr(A,m+1,A,b+1))}}}while(h)}return{ranges:c,hasMore:f,ambiguousCharacterCount:l,invisibleCharacterCount:d,nonBasicAsciiCharacterCount:v}};t.computeUnicodeHighlightReason=function(t,i){var n=new Pv(i);switch(n.shouldHighlightNonBasicASCII(t,null)){case 0:return null;case 2:return{kind:1};case 3:{var r=t.codePointAt(0),e=n.ambiguousCharacters.getPrimaryConfusable(r),o=ds.getLocales().filter((function(t){return!ds.getInstance(new Set(__spreadArray(__spreadArray([],i.allowedLocales,true),[t],false))).isAmbiguous(r)}));return{kind:0,confusableWith:String.fromCodePoint(e),notAmbiguousInLocales:o}}case 1:return{kind:2}}};return t}();var Pv=function(){function t(t){this.options=t,this.allowedCodePoints=new Set(t.allowedCodePoints),this.ambiguousCharacters=ds.getInstance(new Set(t.allowedLocales))}t.prototype.getCandidateCodePoints=function(){if(this.options.nonBasicASCII)return"allNonBasicAscii";var t=new Set;if(this.options.invisibleCharacters)for(var i=0,n=vs.codePoints;i<n.length;i++){var r=n[i];Wv(String.fromCodePoint(r))||t.add(r)}if(this.options.ambiguousCharacters)for(var e=0,o=this.ambiguousCharacters.getConfusableCodePoints();e<o.length;e++){var r=o[e];t.add(r)}for(var s=0,u=this.allowedCodePoints;s<u.length;s++){var r=u[s];t.delete(r)}return t};t.prototype.shouldHighlightNonBasicASCII=function(t,i){var n=t.codePointAt(0);if(this.allowedCodePoints.has(n))return 0;if(this.options.nonBasicASCII)return 1;var r=!1,e=!1;if(i)for(var o=0,s=i;o<s.length;o++){var u=s[o];var a=u.codePointAt(0),c=is(u);r=r||c,c||this.ambiguousCharacters.isAmbiguous(a)||vs.isInvisibleCharacter(a)||(e=!0)}return!r&&e?0:this.options.invisibleCharacters&&!Wv(t)&&vs.isInvisibleCharacter(n)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(n)?3:0};return t}();function Wv(t){return t===" "||t==="\n"||t==="\t"}var Gv=function(){function t(t,i,n){this.changes=t,this.moves=i,this.hitTimeout=n}return t}();var Vv=function(){function t(t,i){this.lineRangeMapping=t,this.changes=i}return t}();var Kv=function(){function t(t,i){if(this.start=t,this.endExclusive=i,t>i)throw new mn("Invalid range: ".concat(this.toString()))}t.addRange=function(i,n){var r=0;for(;r<n.length&&n[r].endExclusive<i.start;)r++;var e=r;for(;e<n.length&&n[e].start<=i.endExclusive;)e++;if(r===e)n.splice(r,0,i);else{var o=Math.min(i.start,n[r].start),s=Math.max(i.endExclusive,n[e-1].endExclusive);n.splice(r,e-r,new t(o,s))}};t.tryCreate=function(i,n){if(!(i>n))return new t(i,n)};t.ofLength=function(i){return new t(0,i)};t.ofStartAndLength=function(i,n){return new t(i,i+n)};Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.start===this.endExclusive},enumerable:false,configurable:true});t.prototype.delta=function(i){return new t(this.start+i,this.endExclusive+i)};t.prototype.deltaStart=function(i){return new t(this.start+i,this.endExclusive)};t.prototype.deltaEnd=function(i){return new t(this.start,this.endExclusive+i)};Object.defineProperty(t.prototype,"length",{get:function(){return this.endExclusive-this.start},enumerable:false,configurable:true});t.prototype.toString=function(){return"[".concat(this.start,", ").concat(this.endExclusive,")")};t.prototype.contains=function(t){return this.start<=t&&t<this.endExclusive};t.prototype.join=function(i){return new t(Math.min(this.start,i.start),Math.max(this.endExclusive,i.endExclusive))};t.prototype.intersect=function(i){var n=Math.max(this.start,i.start),r=Math.min(this.endExclusive,i.endExclusive);if(n<=r)return new t(n,r)};t.prototype.intersects=function(t){return Math.max(this.start,t.start)<Math.min(this.endExclusive,t.endExclusive)};t.prototype.isBefore=function(t){return this.endExclusive<=t.start};t.prototype.isAfter=function(t){return this.start>=t.endExclusive};t.prototype.slice=function(t){return t.slice(this.start,this.endExclusive)};t.prototype.substring=function(t){return t.substring(this.start,this.endExclusive)};t.prototype.clip=function(t){if(this.isEmpty)throw new mn("Invalid clipping range: ".concat(this.toString()));return Math.max(this.start,Math.min(this.endExclusive-1,t))};t.prototype.clipCyclic=function(t){if(this.isEmpty)throw new mn("Invalid clipping range: ".concat(this.toString()));return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t};t.prototype.forEach=function(t){for(var i=this.start;i<this.endExclusive;i++)t(i)};return t}();var Xv=function(){function t(){this._sortedRanges=[]}t.prototype.addRange=function(t){var i=0;for(;i<this._sortedRanges.length&&this._sortedRanges[i].endExclusive<t.start;)i++;var n=i;for(;n<this._sortedRanges.length&&this._sortedRanges[n].start<=t.endExclusive;)n++;if(i===n)this._sortedRanges.splice(i,0,t);else{var r=Math.min(t.start,this._sortedRanges[i].start),e=Math.max(t.endExclusive,this._sortedRanges[n-1].endExclusive);this._sortedRanges.splice(i,n-i,new Kv(r,e))}};t.prototype.toString=function(){return this._sortedRanges.map((function(t){return t.toString()})).join(", ")};t.prototype.intersectsStrict=function(t){var i=0;for(;i<this._sortedRanges.length&&this._sortedRanges[i].endExclusive<=t.start;)i++;return i<this._sortedRanges.length&&this._sortedRanges[i].start<t.endExclusive};t.prototype.intersectWithRange=function(i){var n=new t;for(var r=0,e=this._sortedRanges;r<e.length;r++){var o=e[r];var s=o.intersect(i);s&&n.addRange(s)}return n};t.prototype.intersectWithRangeLength=function(t){return this.intersectWithRange(t).length};Object.defineProperty(t.prototype,"length",{get:function(){return this._sortedRanges.reduce((function(t,i){return t+i.length}),0)},enumerable:false,configurable:true});return t}();function qv(t,i,n){var r=function(t,i,n){if(n===void 0){n=t.length-1}for(var r=n;r>=0;r--)if(i(t[r]))return r;return-1}(t,i);if(r!==-1)return t[r]}function Zv(t,i){var n=$v(t,i);return n===-1?void 0:t[n]}function $v(t,i,n,r){if(n===void 0){n=0}if(r===void 0){r=t.length}var e=n,o=r;for(;e<o;){var s=Math.floor((e+o)/2);i(t[s])?e=s+1:o=s}return e-1}function tA(t,i,n,r){if(n===void 0){n=0}if(r===void 0){r=t.length}var e=n,o=r;for(;e<o;){var s=Math.floor((e+o)/2);i(t[s])?o=s:e=s+1}return e}var iA=function(){function t(t){this._array=t,this._findLastMonotonousLastIdx=0}t.prototype.findLastMonotonous=function(i){if(t.assertInvariants){if(this._prevFindLastPredicate){for(var n=0,r=this._array;n<r.length;n++){var e=r[n];if(this._prevFindLastPredicate(e)&&!i(e))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}}this._prevFindLastPredicate=i}var o=$v(this._array,i,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=o+1,o===-1?void 0:this._array[o]};return t}();function nA(t,i){if(t.length===0)return;var n=t[0];for(var r=1;r<t.length;r++){var e=t[r];i(e,n)>0&&(n=e)}return n}function rA(t,i){if(t.length===0)return-1;var n=0;for(var r=1;r<t.length;r++)i(t[r],t[n])>0&&(n=r);return n}iA.assertInvariants=!1;var eA=function(){function t(t,i){if(t>i)throw new mn("startLineNumber ".concat(t," cannot be after endLineNumberExclusive ").concat(i));this.startLineNumber=t,this.endLineNumberExclusive=i}t.fromRangeInclusive=function(i){return new t(i.startLineNumber,i.endLineNumber+1)};t.joinMany=function(t){if(t.length===0)return[];var i=new oA(t[0].slice());for(var n=1;n<t.length;n++)i=i.getUnion(new oA(t[n].slice()));return i.ranges};t.join=function(i){if(i.length===0)throw new mn("lineRanges cannot be empty");var n=i[0].startLineNumber,r=i[0].endLineNumberExclusive;for(var e=1;e<i.length;e++)n=Math.min(n,i[e].startLineNumber),r=Math.max(r,i[e].endLineNumberExclusive);return new t(n,r)};t.ofLength=function(i,n){return new t(i,i+n)};t.deserialize=function(i){return new t(i[0],i[1])};t.prototype.contains=function(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive};Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.startLineNumber===this.endLineNumberExclusive},enumerable:false,configurable:true});t.prototype.delta=function(i){return new t(this.startLineNumber+i,this.endLineNumberExclusive+i)};t.prototype.deltaLength=function(i){return new t(this.startLineNumber,this.endLineNumberExclusive+i)};Object.defineProperty(t.prototype,"length",{get:function(){return this.endLineNumberExclusive-this.startLineNumber},enumerable:false,configurable:true});t.prototype.join=function(i){return new t(Math.min(this.startLineNumber,i.startLineNumber),Math.max(this.endLineNumberExclusive,i.endLineNumberExclusive))};t.prototype.toString=function(){return"[".concat(this.startLineNumber,",").concat(this.endLineNumberExclusive,")")};t.prototype.intersect=function(i){var n=Math.max(this.startLineNumber,i.startLineNumber),r=Math.min(this.endLineNumberExclusive,i.endLineNumberExclusive);if(n<=r)return new t(n,r)};t.prototype.intersectsStrict=function(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive};t.prototype.overlapOrTouch=function(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive};t.prototype.equals=function(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive};t.prototype.toInclusiveRange=function(){return this.isEmpty?null:new Zr(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)};t.prototype.toExclusiveRange=function(){return new Zr(this.startLineNumber,1,this.endLineNumberExclusive,1)};t.prototype.mapToLineArray=function(t){var i=[];for(var n=this.startLineNumber;n<this.endLineNumberExclusive;n++)i.push(t(n));return i};t.prototype.forEach=function(t){for(var i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t(i)};t.prototype.serialize=function(){return[this.startLineNumber,this.endLineNumberExclusive]};t.prototype.includes=function(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive};t.prototype.toOffsetRange=function(){return new Kv(this.startLineNumber-1,this.endLineNumberExclusive-1)};return t}();var oA=function(){function t(t){if(t===void 0){t=[]}this._normalizedRanges=t}Object.defineProperty(t.prototype,"ranges",{get:function(){return this._normalizedRanges},enumerable:false,configurable:true});t.prototype.addRange=function(t){if(t.length===0)return;var i=tA(this._normalizedRanges,(function(i){return i.endLineNumberExclusive>=t.startLineNumber})),n=$v(this._normalizedRanges,(function(i){return i.startLineNumber<=t.endLineNumberExclusive}))+1;if(i===n)this._normalizedRanges.splice(i,0,t);else if(i===n-1){var r=this._normalizedRanges[i];this._normalizedRanges[i]=r.join(t)}else{var r=this._normalizedRanges[i].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(i,n-i,r)}};t.prototype.contains=function(t){var i=Zv(this._normalizedRanges,(function(i){return i.startLineNumber<=t}));return!!i&&i.endLineNumberExclusive>t};t.prototype.intersects=function(t){var i=Zv(this._normalizedRanges,(function(i){return i.startLineNumber<t.endLineNumberExclusive}));return!!i&&i.endLineNumberExclusive>t.startLineNumber};t.prototype.getUnion=function(i){if(this._normalizedRanges.length===0)return i;if(i._normalizedRanges.length===0)return this;var n=[];var r=0,e=0,o=null;for(;r<this._normalizedRanges.length||e<i._normalizedRanges.length;){var s=null;if(r<this._normalizedRanges.length&&e<i._normalizedRanges.length){var u=this._normalizedRanges[r],a=i._normalizedRanges[e];u.startLineNumber<a.startLineNumber?(s=u,r++):(s=a,e++)}else r<this._normalizedRanges.length?(s=this._normalizedRanges[r],r++):(s=i._normalizedRanges[e],e++);o===null?o=s:o.endLineNumberExclusive>=s.startLineNumber?o=new eA(o.startLineNumber,Math.max(o.endLineNumberExclusive,s.endLineNumberExclusive)):(n.push(o),o=s)}return o!==null&&n.push(o),new t(n)};t.prototype.subtractFrom=function(i){var n=tA(this._normalizedRanges,(function(t){return t.endLineNumberExclusive>=i.startLineNumber})),r=$v(this._normalizedRanges,(function(t){return t.startLineNumber<=i.endLineNumberExclusive}))+1;if(n===r)return new t([i]);var e=[];var o=i.startLineNumber;for(var s=n;s<r;s++){var u=this._normalizedRanges[s];u.startLineNumber>o&&e.push(new eA(o,u.startLineNumber)),o=u.endLineNumberExclusive}return o<i.endLineNumberExclusive&&e.push(new eA(o,i.endLineNumberExclusive)),new t(e)};t.prototype.toString=function(){return this._normalizedRanges.map((function(t){return t.toString()})).join(", ")};t.prototype.getIntersection=function(i){var n=[];var r=0,e=0;for(;r<this._normalizedRanges.length&&e<i._normalizedRanges.length;){var o=this._normalizedRanges[r],s=i._normalizedRanges[e],u=o.intersect(s);u&&!u.isEmpty&&n.push(u),o.endLineNumberExclusive<s.endLineNumberExclusive?r++:e++}return new t(n)};t.prototype.getWithDelta=function(i){return new t(this._normalizedRanges.map((function(t){return t.delta(i)})))};return t}();var sA=function(){function t(t,i){this.original=t,this.modified=i}t.inverse=function(i,n,r){var e=[];var o=1,s=1;for(var u=0,a=i;u<a.length;u++){var c=a[u];var h=new t(new eA(o,c.original.startLineNumber),new eA(s,c.modified.startLineNumber));h.modified.isEmpty||e.push(h),o=c.original.endLineNumberExclusive,s=c.modified.endLineNumberExclusive}var f=new t(new eA(o,n+1),new eA(s,r+1));return f.modified.isEmpty||e.push(f),e};t.clip=function(i,n,r){var e=[];for(var o=0,s=i;o<s.length;o++){var u=s[o];var a=u.original.intersect(n),c=u.modified.intersect(r);a&&!a.isEmpty&&c&&!c.isEmpty&&e.push(new t(a,c))}return e};t.prototype.toString=function(){return"{".concat(this.original.toString(),"->").concat(this.modified.toString(),"}")};t.prototype.flip=function(){return new t(this.modified,this.original)};t.prototype.join=function(i){return new t(this.original.join(i.original),this.modified.join(i.modified))};return t}();var uA=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n)||this,e.innerChanges=r;return e}i.fromRangeMappings=function(t){var n=eA.join(t.map((function(t){return eA.fromRangeInclusive(t.originalRange)}))),r=eA.join(t.map((function(t){return eA.fromRangeInclusive(t.modifiedRange)})));return new i(n,r,t)};i.prototype.flip=function(){var t;return new i(this.modified,this.original,(t=this.innerChanges)===null||t===void 0?void 0:t.map((function(t){return t.flip()})))};i.prototype.withInnerChangesFromLineRanges=function(){return new i(this.original,this.modified,[new aA(this.original.toExclusiveRange(),this.modified.toExclusiveRange())])};return i}(sA);var aA=function(){function t(t,i){this.originalRange=t,this.modifiedRange=i}t.prototype.toString=function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")};t.prototype.flip=function(){return new t(this.modifiedRange,this.originalRange)};return t}();var cA=function(){function t(){}t.prototype.computeDiff=function(t,i,n){var r;var e=new AA(t,i,{maxComputationTime:n.maxComputationTimeMs,shouldIgnoreTrimWhitespace:n.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),o=[];var s=null;for(var u=0,a=e.changes;u<a.length;u++){var c=a[u];var h=void 0,f=void 0;h=c.originalEndLineNumber===0?new eA(c.originalStartLineNumber+1,c.originalStartLineNumber+1):new eA(c.originalStartLineNumber,c.originalEndLineNumber+1),f=c.modifiedEndLineNumber===0?new eA(c.modifiedStartLineNumber+1,c.modifiedStartLineNumber+1):new eA(c.modifiedStartLineNumber,c.modifiedEndLineNumber+1);var l=new uA(h,f,(r=c.charChanges)===null||r===void 0?void 0:r.map((function(t){return new aA(new Zr(t.originalStartLineNumber,t.originalStartColumn,t.originalEndLineNumber,t.originalEndColumn),new Zr(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn))})));s&&(s.modified.endLineNumberExclusive!==l.modified.startLineNumber&&s.original.endLineNumberExclusive!==l.original.startLineNumber||(l=new uA(s.original.join(l.original),s.modified.join(l.modified),s.innerChanges&&l.innerChanges?s.innerChanges.concat(l.innerChanges):void 0),o.pop())),o.push(l),s=l}return mf((function(){return bf(o,(function(t,i){return i.original.startLineNumber-t.original.endLineNumberExclusive==i.modified.startLineNumber-t.modified.endLineNumberExclusive&&t.original.endLineNumberExclusive<i.original.startLineNumber&&t.modified.endLineNumberExclusive<i.modified.startLineNumber}))})),new Gv(o,[],e.quitEarly)};return t}();function hA(t,i,n,r){return new rv(t,i,n).ComputeDiff(r)}var fA=function(){function t(t){var i=[],n=[];for(var r=0,e=t.length;r<e;r++)i[r]=gA(t[r],1),n[r]=wA(t[r],1);this.lines=t,this._startColumns=i,this._endColumns=n}t.prototype.getElements=function(){var t=[];for(var i=0,n=this.lines.length;i<n;i++)t[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return t};t.prototype.getStrictElement=function(t){return this.lines[t]};t.prototype.getStartLineNumber=function(t){return t+1};t.prototype.getEndLineNumber=function(t){return t+1};t.prototype.createCharSequence=function(t,i,n){var r=[],e=[],o=[];var s=0;for(var u=i;u<=n;u++){var a=this.lines[u],c=t?this._startColumns[u]:1,h=t?this._endColumns[u]:a.length+1;for(var f=c;f<h;f++)r[s]=a.charCodeAt(f-1),e[s]=u+1,o[s]=f,s++;!t&&u<n&&(r[s]=10,e[s]=u+1,o[s]=a.length+1,s++)}return new lA(r,e,o)};return t}();var lA=function(){function t(t,i,n){this._charCodes=t,this._lineNumbers=i,this._columns=n}t.prototype.toString=function(){var t=this;return"["+this._charCodes.map((function(i,n){return(i===10?"\\n":String.fromCharCode(i))+"-(".concat(t._lineNumbers[n],",").concat(t._columns[n],")")})).join(", ")+"]"};t.prototype._assertIndex=function(t,i){if(t<0||t>=i.length)throw new Error("Illegal index")};t.prototype.getElements=function(){return this._charCodes};t.prototype.getStartLineNumber=function(t){return t>0&&t===this._lineNumbers.length?this.getEndLineNumber(t-1):(this._assertIndex(t,this._lineNumbers),this._lineNumbers[t])};t.prototype.getEndLineNumber=function(t){return t===-1?this.getStartLineNumber(t+1):(this._assertIndex(t,this._lineNumbers),this._charCodes[t]===10?this._lineNumbers[t]+1:this._lineNumbers[t])};t.prototype.getStartColumn=function(t){return t>0&&t===this._columns.length?this.getEndColumn(t-1):(this._assertIndex(t,this._columns),this._columns[t])};t.prototype.getEndColumn=function(t){return t===-1?this.getStartColumn(t+1):(this._assertIndex(t,this._columns),this._charCodes[t]===10?1:this._columns[t]+1)};return t}();var dA=function(){function t(t,i,n,r,e,o,s,u){this.originalStartLineNumber=t,this.originalStartColumn=i,this.originalEndLineNumber=n,this.originalEndColumn=r,this.modifiedStartLineNumber=e,this.modifiedStartColumn=o,this.modifiedEndLineNumber=s,this.modifiedEndColumn=u}t.createFromDiffChange=function(i,n,r){var e=n.getStartLineNumber(i.originalStart),o=n.getStartColumn(i.originalStart),s=n.getEndLineNumber(i.originalStart+i.originalLength-1),u=n.getEndColumn(i.originalStart+i.originalLength-1),a=r.getStartLineNumber(i.modifiedStart),c=r.getStartColumn(i.modifiedStart),h=r.getEndLineNumber(i.modifiedStart+i.modifiedLength-1),f=r.getEndColumn(i.modifiedStart+i.modifiedLength-1);return new t(e,o,s,u,a,c,h,f)};return t}();var vA=function(){function t(t,i,n,r,e){this.originalStartLineNumber=t,this.originalEndLineNumber=i,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=r,this.charChanges=e}t.createFromDiffResult=function(i,n,r,e,o,s,u){var a,c,h,f,l;if(n.originalLength===0?(a=r.getStartLineNumber(n.originalStart)-1,c=0):(a=r.getStartLineNumber(n.originalStart),c=r.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(h=e.getStartLineNumber(n.modifiedStart)-1,f=0):(h=e.getStartLineNumber(n.modifiedStart),f=e.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),s&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&o()){var d=r.createCharSequence(i,n.originalStart,n.originalStart+n.originalLength-1),v=e.createCharSequence(i,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);if(d.getElements().length>0&&v.getElements().length>0){var A=hA(d,v,o,!0).changes;u&&(A=function(t){if(t.length<=1)return t;var i=[t[0]];var n=i[0];for(var r=1,e=t.length;r<e;r++){var o=t[r],s=o.originalStart-(n.originalStart+n.originalLength),u=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(s,u)<3?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(i.push(o),n=o)}return i}(A)),l=[];for(var g=0,w=A.length;g<w;g++)l.push(dA.createFromDiffChange(A[g],d,v))}}return new t(a,c,h,f,l)};return t}();var AA=function(){function t(t,i,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=i,this.original=new fA(t),this.modified=new fA(i),this.continueLineDiff=pA(n.maxComputationTime),this.continueCharDiff=pA(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}t.prototype.computeDiff=function(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};var t=hA(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),i=t.changes,n=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){var r=[];for(var e=0,o=i.length;e<o;e++)r.push(vA.createFromDiffResult(this.shouldIgnoreTrimWhitespace,i[e],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:r}}var s=[];var u=0,a=0;for(var r=-1,e=i.length;r<e;r++){var o=r+1<e?i[r+1]:null,c=o?o.originalStart:this.originalLines.length,h=o?o.modifiedStart:this.modifiedLines.length;for(;u<c&&a<h;){var f=this.originalLines[u],l=this.modifiedLines[a];if(f!==l){{var d=gA(f,1),v=gA(l,1);for(;d>1&&v>1&&f.charCodeAt(d-2)===l.charCodeAt(v-2);)d--,v--;(d>1||v>1)&&this._pushTrimWhitespaceCharChange(s,u+1,1,d,a+1,1,v)}{var d=wA(f,1),v=wA(l,1);var A=f.length+1,g=l.length+1;for(;d<A&&v<g&&f.charCodeAt(d-1)===f.charCodeAt(v-1);)d++,v++;(d<A||v<g)&&this._pushTrimWhitespaceCharChange(s,u+1,d,A,a+1,v,g)}}u++,a++}o&&(s.push(vA.createFromDiffResult(this.shouldIgnoreTrimWhitespace,o,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),u+=o.originalLength,a+=o.modifiedLength)}return{quitEarly:n,changes:s}};t.prototype._pushTrimWhitespaceCharChange=function(t,i,n,r,e,o,s){if(this._mergeTrimWhitespaceCharChange(t,i,n,r,e,o,s))return;var u;this.shouldComputeCharChanges&&(u=[new dA(i,n,i,r,e,o,e,s)]),t.push(new vA(i,i,e,e,u))};t.prototype._mergeTrimWhitespaceCharChange=function(t,i,n,r,e,o,s){var u=t.length;if(u===0)return!1;var a=t[u-1];return a.originalEndLineNumber!==0&&a.modifiedEndLineNumber!==0&&(a.originalEndLineNumber===i&&a.modifiedEndLineNumber===e?(this.shouldComputeCharChanges&&a.charChanges&&a.charChanges.push(new dA(i,n,i,r,e,o,e,s)),!0):a.originalEndLineNumber+1===i&&a.modifiedEndLineNumber+1===e&&(a.originalEndLineNumber=i,a.modifiedEndLineNumber=e,this.shouldComputeCharChanges&&a.charChanges&&a.charChanges.push(new dA(i,n,i,r,e,o,e,s)),!0))};return t}();function gA(t,i){var n=Fo(t);return n===-1?i:n+1}function wA(t,i){var n=Io(t);return n===-1?i:n+2}function pA(t){if(t===0)return function(){return!0};var i=Date.now();return function(){return Date.now()-i<t}}var mA=function(){function t(t,i){this.diffs=t,this.hitTimeout=i}t.trivial=function(i,n){return new t([new bA(Kv.ofLength(i.length),Kv.ofLength(n.length))],!1)};t.trivialTimedOut=function(i,n){return new t([new bA(Kv.ofLength(i.length),Kv.ofLength(n.length))],!0)};return t}();var bA=function(){function t(t,i){this.seq1Range=t,this.seq2Range=i}t.invert=function(i,n){var r=[];return O(i,(function(i,e){r.push(t.fromOffsetPairs(i?i.getEndExclusives():yA.zero,e?e.getStarts():new yA(n,(i?i.seq2Range.endExclusive-i.seq1Range.endExclusive:0)+n)))})),r};t.fromOffsetPairs=function(i,n){return new t(new Kv(i.offset1,n.offset1),new Kv(i.offset2,n.offset2))};t.prototype.swap=function(){return new t(this.seq2Range,this.seq1Range)};t.prototype.toString=function(){return"".concat(this.seq1Range," <-> ").concat(this.seq2Range)};t.prototype.join=function(i){return new t(this.seq1Range.join(i.seq1Range),this.seq2Range.join(i.seq2Range))};t.prototype.delta=function(i){return i===0?this:new t(this.seq1Range.delta(i),this.seq2Range.delta(i))};t.prototype.deltaStart=function(i){return i===0?this:new t(this.seq1Range.deltaStart(i),this.seq2Range.deltaStart(i))};t.prototype.deltaEnd=function(i){return i===0?this:new t(this.seq1Range.deltaEnd(i),this.seq2Range.deltaEnd(i))};t.prototype.intersect=function(i){var n=this.seq1Range.intersect(i.seq1Range),r=this.seq2Range.intersect(i.seq2Range);if(n&&r)return new t(n,r)};t.prototype.getStarts=function(){return new yA(this.seq1Range.start,this.seq2Range.start)};t.prototype.getEndExclusives=function(){return new yA(this.seq1Range.endExclusive,this.seq2Range.endExclusive)};return t}();var yA=function(){function t(t,i){this.offset1=t,this.offset2=i}t.prototype.toString=function(){return"".concat(this.offset1," <-> ").concat(this.offset2)};t.prototype.delta=function(i){return i===0?this:new t(this.offset1+i,this.offset2+i)};t.prototype.equals=function(t){return this.offset1===t.offset1&&this.offset2===t.offset2};return t}();yA.zero=new yA(0,0),yA.max=new yA(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);var kA=function(){function t(){}t.prototype.isValid=function(){return!0};return t}();kA.instance=new kA;var xA=function(){function t(t){if(this.timeout=t,this.startTime=Date.now(),this.valid=!0,t<=0)throw new mn("timeout must be positive")}t.prototype.isValid=function(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid};return t}();var EA=function(){function t(t,i){this.width=t,this.height=i,this.array=[],this.array=new Array(t*i)}t.prototype.get=function(t,i){return this.array[t+i*this.width]};t.prototype.set=function(t,i,n){this.array[t+i*this.width]=n};return t}();function BA(t){return t===32||t===9}var CA=function(){function t(i,n,r){this.range=i,this.lines=n,this.source=r,this.histogram=[];var e=0;for(var o=i.startLineNumber-1;o<i.endLineNumberExclusive-1;o++){var s=n[o];for(var u=0;u<s.length;u++){e++;var a=s[u],c=t.getKey(a);this.histogram[c]=(this.histogram[c]||0)+1}e++;var h=t.getKey("\n");this.histogram[h]=(this.histogram[h]||0)+1}this.totalCount=e}t.getKey=function(t){var i=this.chrKeys.get(t);return i===void 0&&(i=this.chrKeys.size,this.chrKeys.set(t,i)),i};t.prototype.computeSimilarity=function(t){var i,n;var r=0;var e=Math.max(this.histogram.length,t.histogram.length);for(var o=0;o<e;o++)r+=Math.abs(((i=this.histogram[o])!==null&&i!==void 0?i:0)-((n=t.histogram[o])!==null&&n!==void 0?n:0));return 1-r/(this.totalCount+t.totalCount)};return t}();CA.chrKeys=new Map;var DA=function(){function t(){}t.prototype.compute=function(t,i,n,r){if(n===void 0){n=kA.instance}if(t.length===0||i.length===0)return mA.trivial(t,i);var e=new EA(t.length,i.length),o=new EA(t.length,i.length),s=new EA(t.length,i.length);for(var u=0;u<t.length;u++)for(var a=0;a<i.length;a++){if(!n.isValid())return mA.trivialTimedOut(t,i);var c=u===0?0:e.get(u-1,a),h=a===0?0:e.get(u,a-1);var f=void 0;t.getElement(u)===i.getElement(a)?(f=u===0||a===0?0:e.get(u-1,a-1),u>0&&a>0&&o.get(u-1,a-1)===3&&(f+=s.get(u-1,a-1)),f+=r?r(u,a):1):f=-1;var l=Math.max(c,h,f);if(l===f){var d=u>0&&a>0?s.get(u-1,a-1):0;s.set(u,a,d+1),o.set(u,a,3)}else l===c?(s.set(u,a,0),o.set(u,a,1)):l===h&&(s.set(u,a,0),o.set(u,a,2));e.set(u,a,l)}var v=[];var A=t.length,g=i.length;function w(t,i){t+1===A&&i+1===g||v.push(new bA(new Kv(t+1,A),new Kv(i+1,g))),A=t,g=i}var p=t.length-1,m=i.length-1;for(;p>=0&&m>=0;)o.get(p,m)===3?(w(p,m),p--,m--):o.get(p,m)===1?p--:m--;return w(-1,-1),v.reverse(),new mA(v,!1)};return t}();var MA=function(){function t(){}t.prototype.compute=function(t,i,n){if(n===void 0){n=kA.instance}if(t.length===0||i.length===0)return mA.trivial(t,i);var r=t,e=i;function o(t,i){for(;t<r.length&&i<e.length&&r.getElement(t)===e.getElement(i);)t++,i++;return t}var s=0;var u=new FA;u.set(0,o(0,0));var a=new SA;a.set(0,u.get(0)===0?null:new _A(null,0,0,u.get(0)));var c=0;t:for(;;){if(s++,!n.isValid())return mA.trivialTimedOut(r,e);var h=-Math.min(s,e.length+s%2),f=Math.min(s,r.length+s%2);for(c=h;c<=f;c+=2){var l=c===f?-1:u.get(c+1),d=c===h?-1:u.get(c-1)+1,v=Math.min(Math.max(l,d),r.length),A=v-c;if(v>r.length||A>e.length)continue;var g=o(v,A);u.set(c,g);var w=v===l?a.get(c+1):a.get(c-1);if(a.set(c,g!==v?new _A(w,v,A,g-v):w),u.get(c)===r.length&&u.get(c)-c===e.length)break t}}var p=a.get(c);var m=[];var b=r.length,y=e.length;for(;;){var h=p?p.x+p.length:0,f=p?p.y+p.length:0;if(h===b&&f===y||m.push(new bA(new Kv(h,b),new Kv(f,y))),!p)break;b=p.x,y=p.y,p=p.prev}return m.reverse(),new mA(m,!1)};return t}();var _A=function(){function t(t,i,n,r){this.prev=t,this.x=i,this.y=n,this.length=r}return t}();var FA=function(){function t(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}t.prototype.get=function(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]};t.prototype.set=function(t,i){if(t<0){if((t=-t-1)>=this.negativeArr.length){var n=this.negativeArr;this.negativeArr=new Int32Array(2*n.length),this.negativeArr.set(n)}this.negativeArr[t]=i}else{if(t>=this.positiveArr.length){var n=this.positiveArr;this.positiveArr=new Int32Array(2*n.length),this.positiveArr.set(n)}this.positiveArr[t]=i}};return t}();var SA=function(){function t(){this.positiveArr=[],this.negativeArr=[]}t.prototype.get=function(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]};t.prototype.set=function(t,i){t<0?(t=-t-1,this.negativeArr[t]=i):this.positiveArr[t]=i};return t}();var IA=function(){function t(t,i,n){this.lines=t,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];var r=!1;i.start>0&&i.endExclusive>=t.length&&(i=new Kv(i.start-1,i.endExclusive),r=!0),this.lineRange=i,this.firstCharOffsetByLine[0]=0;for(var e=this.lineRange.start;e<this.lineRange.endExclusive;e++){var o=t[e],s=0;if(r)s=o.length,o="",r=!1;else if(!n){var u=o.trimStart();s=o.length-u.length,o=u.trimEnd()}this.additionalOffsetByLine.push(s);for(var u=0;u<o.length;u++)this.elements.push(o.charCodeAt(u));e<t.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[e-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}t.prototype.toString=function(){return'Slice: "'.concat(this.text,'"')};Object.defineProperty(t.prototype,"text",{get:function(){return this.getText(new Kv(0,this.length))},enumerable:false,configurable:true});t.prototype.getText=function(t){return this.elements.slice(t.start,t.endExclusive).map((function(t){return String.fromCharCode(t)})).join("")};t.prototype.getElement=function(t){return this.elements[t]};Object.defineProperty(t.prototype,"length",{get:function(){return this.elements.length},enumerable:false,configurable:true});t.prototype.getBoundaryScore=function(t){var i=RA(t>0?this.elements[t-1]:-1),n=RA(t<this.elements.length?this.elements[t]:-1);if(i===7&&n===8)return 0;if(i===8)return 150;var r=0;return i!==n&&(r+=10,i===0&&n===1&&(r+=1)),r+=NA(i),r+=NA(n),r};t.prototype.translateOffset=function(t){if(this.lineRange.isEmpty)return new qr(this.lineRange.start+1,1);var i=$v(this.firstCharOffsetByLine,(function(i){return i<=t}));return new qr(this.lineRange.start+i+1,t-this.firstCharOffsetByLine[i]+this.additionalOffsetByLine[i]+1)};t.prototype.translateRange=function(t){return Zr.fromPositions(this.translateOffset(t.start),this.translateOffset(t.endExclusive))};t.prototype.findWordContaining=function(t){if(t<0||t>=this.elements.length||!QA(this.elements[t]))return;var i=t;for(;i>0&&QA(this.elements[i-1]);)i--;var n=t;for(;n<this.elements.length&&QA(this.elements[n]);)n++;return new Kv(i,n)};t.prototype.countLinesIn=function(t){return this.translateOffset(t.endExclusive).lineNumber-this.translateOffset(t.start).lineNumber};t.prototype.isStronglyEqual=function(t,i){return this.elements[t]===this.elements[i]};t.prototype.extendToFullLines=function(t){var i,n;var r=(i=Zv(this.firstCharOffsetByLine,(function(i){return i<=t.start})))!==null&&i!==void 0?i:0,e=(n=function(t,i){var n=tA(t,i);return n===t.length?void 0:t[n]}(this.firstCharOffsetByLine,(function(i){return t.endExclusive<=i})))!==null&&n!==void 0?n:this.elements.length;return new Kv(r,e)};return t}();function QA(t){return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57}var OA={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function NA(t){return OA[t]}function RA(t){return t===10?8:t===13?7:BA(t)?6:t>=97&&t<=122?0:t>=65&&t<=90?1:t>=48&&t<=57?2:t===-1?3:t===44||t===59?5:4}function TA(t,i,n,r,e,o){var s=function(t,i,n,r){var e=[],o=t.filter((function(t){return t.modified.isEmpty&&t.original.length>=3})).map((function(t){return new CA(t.original,i,t)})),s=new Set(t.filter((function(t){return t.original.isEmpty&&t.modified.length>=3})).map((function(t){return new CA(t.modified,n,t)}))),u=new Set;for(var a=0,c=o;a<c.length;a++){var h=c[a];var f=void 0,l=-1;for(var d=0,v=s;d<v.length;d++){var A=v[d];var g=h.computeSimilarity(A);g>l&&(l=g,f=A)}if(l>.9&&f&&(s.delete(f),e.push(new sA(h.range,f.range)),u.add(h.source),u.add(f.source)),!r.isValid())return{moves:e,excludedChanges:u}}return{moves:e,excludedChanges:u}}(t,i,n,o),u=s.moves,a=s.excludedChanges;if(!o.isValid())return[];var c=function(t,i,n,r,e,o){var s=[],u=new Bv;for(var a=0,c=t;a<c.length;a++){var h=c[a];for(var f=h.original.startLineNumber;f<h.original.endLineNumberExclusive-2;f++){var l="".concat(i[f-1],":").concat(i[f+1-1],":").concat(i[f+2-1]);u.add(l,{range:new eA(f,f+3)})}}var d=[];t.sort(X((function(t){return t.modified.startLineNumber}),q));var v=function(t){var i=[];var r=function(t){var r="".concat(n[t-1],":").concat(n[t+1-1],":").concat(n[t+2-1]),e=new eA(t,t+3),o=[];u.forEach(r,(function(t){var n=t.range;for(var r=0,s=i;r<s.length;r++){var u=s[r];if(u.originalLineRange.endLineNumberExclusive+1===n.endLineNumberExclusive&&u.modifiedLineRange.endLineNumberExclusive+1===e.endLineNumberExclusive)return u.originalLineRange=new eA(u.originalLineRange.startLineNumber,n.endLineNumberExclusive),u.modifiedLineRange=new eA(u.modifiedLineRange.startLineNumber,e.endLineNumberExclusive),void o.push(u)}var a={modifiedLineRange:e,originalLineRange:n};d.push(a),o.push(a)})),i=o};for(var e=t.modified.startLineNumber;e<t.modified.endLineNumberExclusive-2;e++){r(e)}if(!o.isValid())return{value:[]}};for(var A=0,g=t;A<g.length;A++){var h=g[A];var w=v(h);if(typeof w==="object")return w.value}d.sort($(X((function(t){return t.modifiedLineRange.length}),q)));var p=new oA,m=new oA;for(var b=0,y=d;b<y.length;b++){var h=y[b];var f=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,l=p.subtractFrom(h.modifiedLineRange),k=m.subtractFrom(h.originalLineRange).getWithDelta(f),x=l.getIntersection(k);for(var E=0,B=x.ranges;E<B.length;E++){var C=B[E];if(C.length<3)continue;var D=C,M=C.delta(-f);s.push(new sA(M,D)),p.addRange(D),m.addRange(M)}}s.sort(X((function(t){return t.original.startLineNumber}),q));var _=new iA(t);var F=function(i){var n=s[i],u=_.findLastMonotonous((function(t){return t.original.startLineNumber<=n.original.startLineNumber})),a=Zv(t,(function(t){return t.modified.startLineNumber<=n.modified.startLineNumber})),c=Math.max(n.original.startLineNumber-u.original.startLineNumber,n.modified.startLineNumber-a.modified.startLineNumber),h=_.findLastMonotonous((function(t){return t.original.startLineNumber<n.original.endLineNumberExclusive})),f=Zv(t,(function(t){return t.modified.startLineNumber<n.modified.endLineNumberExclusive})),l=Math.max(h.original.endLineNumberExclusive-n.original.endLineNumberExclusive,f.modified.endLineNumberExclusive-n.modified.endLineNumberExclusive);var d=void 0,v=void 0;for(d=0;d<c;d++){var A=n.original.startLineNumber-d-1,g=n.modified.startLineNumber-d-1;if(A>r.length||g>e.length||p.contains(g)||m.contains(A)||!LA(r[A-1],e[g-1],o))break}for(d>0&&(m.addRange(new eA(n.original.startLineNumber-d,n.original.startLineNumber)),p.addRange(new eA(n.modified.startLineNumber-d,n.modified.startLineNumber))),v=0;v<l;v++){var A=n.original.endLineNumberExclusive+v,g=n.modified.endLineNumberExclusive+v;if(A>r.length||g>e.length||p.contains(g)||m.contains(A)||!LA(r[A-1],e[g-1],o))break}v>0&&(m.addRange(new eA(n.original.endLineNumberExclusive,n.original.endLineNumberExclusive+v)),p.addRange(new eA(n.modified.endLineNumberExclusive,n.modified.endLineNumberExclusive+v))),(d>0||v>0)&&(s[i]=new sA(new eA(n.original.startLineNumber-d,n.original.endLineNumberExclusive+v),new eA(n.modified.startLineNumber-d,n.modified.endLineNumberExclusive+v)))};for(var h=0;h<s.length;h++){F(h)}return s}(t.filter((function(t){return!a.has(t)})),r,e,i,n,o);return P(u,c),u=function(t){if(t.length===0)return t;t.sort(X((function(t){return t.original.startLineNumber}),q));var i=[t[0]];for(var n=1;n<t.length;n++){var r=i[i.length-1],e=t[n],o=e.original.startLineNumber-r.original.endLineNumberExclusive,s=e.modified.startLineNumber-r.modified.endLineNumberExclusive;o>=0&&s>=0&&o+s<=2?i[i.length-1]=r.join(e):i.push(e)}return i}(u),u=u.filter((function(t){var n=t.original.toOffsetRange().slice(i).map((function(t){return t.trim()}));return n.join("\n").length>=15&&function(t,i){var n=0;for(var r=0,e=t;r<e.length;r++){var o=e[r];i(o)&&n++}return n}(n,(function(t){return t.length>=2}))>=2})),u=function(t,i){var n=new iA(t);return i=i.filter((function(i){return(n.findLastMonotonous((function(t){return t.original.startLineNumber<i.original.endLineNumberExclusive}))||new sA(new eA(1,1),new eA(1,1)))!==Zv(t,(function(t){return t.modified.startLineNumber<i.modified.endLineNumberExclusive}))})),i}(t,u),u}function LA(t,i,n){if(t.trim()===i.trim())return!0;if(t.length>300&&i.length>300)return!1;var r=(new MA).compute(new IA([t],new Kv(0,1),!1),new IA([i],new Kv(0,1),!1),n);var e=0;var o=bA.invert(r.diffs,t.length);for(var s=0,u=o;s<u.length;s++){var a=u[s];a.seq1Range.forEach((function(i){BA(t.charCodeAt(i))||e++}))}var c=function(i){var n=0;for(var r=0;r<t.length;r++)BA(i.charCodeAt(r))||n++;return n}(t.length>i.length?t:i);return e/c>.6&&c>10}function jA(t,i,n){var r=n;return r=zA(t,i,r),r=zA(t,i,r),r=function(t,i,n){if(!t.getBoundaryScore||!i.getBoundaryScore)return n;for(var r=0;r<n.length;r++){var e=r>0?n[r-1]:void 0,o=n[r],s=r+1<n.length?n[r+1]:void 0,u=new Kv(e?e.seq1Range.endExclusive+1:0,s?s.seq1Range.start-1:t.length),a=new Kv(e?e.seq2Range.endExclusive+1:0,s?s.seq2Range.start-1:i.length);o.seq1Range.isEmpty?n[r]=UA(o,t,i,u,a):o.seq2Range.isEmpty&&(n[r]=UA(o.swap(),i,t,a,u).swap())}return n}(t,i,r),r}function zA(t,i,n){if(n.length===0)return n;var r=[];r.push(n[0]);for(var e=1;e<n.length;e++){var o=r[r.length-1];var s=n[e];if(s.seq1Range.isEmpty||s.seq2Range.isEmpty){var u=s.seq1Range.start-o.seq1Range.endExclusive;var a=void 0;for(a=1;a<=u&&t.getElement(s.seq1Range.start-a)===t.getElement(s.seq1Range.endExclusive-a)&&i.getElement(s.seq2Range.start-a)===i.getElement(s.seq2Range.endExclusive-a);a++);if(a--,a===u){r[r.length-1]=new bA(new Kv(o.seq1Range.start,s.seq1Range.endExclusive-u),new Kv(o.seq2Range.start,s.seq2Range.endExclusive-u));continue}s=s.delta(-a)}r.push(s)}var c=[];for(var e=0;e<r.length-1;e++){var o=r[e+1];var s=r[e];if(s.seq1Range.isEmpty||s.seq2Range.isEmpty){var u=o.seq1Range.start-s.seq1Range.endExclusive;var a=void 0;for(a=0;a<u&&t.isStronglyEqual(s.seq1Range.start+a,s.seq1Range.endExclusive+a)&&i.isStronglyEqual(s.seq2Range.start+a,s.seq2Range.endExclusive+a);a++);if(a===u){r[e+1]=new bA(new Kv(s.seq1Range.start+u,o.seq1Range.endExclusive),new Kv(s.seq2Range.start+u,o.seq2Range.endExclusive));continue}a>0&&(s=s.delta(a))}c.push(s)}return r.length>0&&c.push(r[r.length-1]),c}function UA(t,i,n,r,e){var o=1;for(;t.seq1Range.start-o>=r.start&&t.seq2Range.start-o>=e.start&&n.isStronglyEqual(t.seq2Range.start-o,t.seq2Range.endExclusive-o)&&o<100;)o++;o--;var s=0;for(;t.seq1Range.start+s<r.endExclusive&&t.seq2Range.endExclusive+s<e.endExclusive&&n.isStronglyEqual(t.seq2Range.start+s,t.seq2Range.endExclusive+s)&&s<100;)s++;if(o===0&&s===0)return t;var u=0,a=-1;for(var c=-o;c<=s;c++){var h=t.seq2Range.start+c,f=t.seq2Range.endExclusive+c,l=t.seq1Range.start+c,d=i.getBoundaryScore(l)+n.getBoundaryScore(h)+n.getBoundaryScore(f);d>a&&(a=d,u=c)}return t.delta(u)}var HA=function(){function t(t,i){this.trimmedHash=t,this.lines=i}t.prototype.getElement=function(t){return this.trimmedHash[t]};Object.defineProperty(t.prototype,"length",{get:function(){return this.trimmedHash.length},enumerable:false,configurable:true});t.prototype.getBoundaryScore=function(t){return 1e3-((t===0?0:YA(this.lines[t-1]))+(t===this.lines.length?0:YA(this.lines[t])))};t.prototype.getText=function(t){return this.lines.slice(t.start,t.endExclusive).join("\n")};t.prototype.isStronglyEqual=function(t,i){return this.lines[t]===this.lines[i]};return t}();function YA(t){var i=0;for(;i<t.length&&(t.charCodeAt(i)===32||t.charCodeAt(i)===9);)i++;return i}var JA=function(){function t(){this.dynamicProgrammingDiffing=new DA,this.myersDiffingAlgorithm=new MA}t.prototype.computeDiff=function(t,i,n){var r=this;if(t.length<=1&&_(t,i,(function(t,i){return t===i})))return new Gv([],[],!1);if(t.length===1&&t[0].length===0||i.length===1&&i[0].length===0)return new Gv([new uA(new eA(1,t.length+1),new eA(1,i.length+1),[new aA(new Zr(1,1,t.length,t[0].length+1),new Zr(1,1,i.length,i[0].length+1))])],[],!1);var e=n.maxComputationTimeMs===0?kA.instance:new xA(n.maxComputationTimeMs),o=!n.ignoreTrimWhitespace,s=new Map;function u(t){var i=s.get(t);return i===void 0&&(i=s.size,s.set(t,i)),i}var a=t.map((function(t){return u(t.trim())})),c=i.map((function(t){return u(t.trim())})),h=new HA(a,t),f=new HA(c,i),l=h.length+f.length<1700?this.dynamicProgrammingDiffing.compute(h,f,e,(function(n,r){return t[n]===i[r]?i[r].length===0?.1:1+Math.log(1+i[r].length):.99})):this.myersDiffingAlgorithm.compute(h,f);var d=l.diffs,v=l.hitTimeout;d=jA(h,f,d),d=function(t,i,n){var r=n;if(r.length===0)return r;var e,o=0;do{e=!1;var s=[r[0]];var u=function(i){var n=function(i,n){var r=new Kv(u.seq1Range.endExclusive,o.seq1Range.start);return t.getText(r).replace(/\s/g,"").length<=4&&(i.seq1Range.length+i.seq2Range.length>5||n.seq1Range.length+n.seq2Range.length>5)};var o=r[i],u=s[s.length-1];n(u,o)?(e=!0,s[s.length-1]=s[s.length-1].join(o)):s.push(o)};for(var a=1;a<r.length;a++){u(a)}r=s}while(o++<10&&e);return r}(h,0,d);var A=[],g=function(n){if(o)for(var s=0;s<n;s++){var u=w+s,a=p+s;if(t[u]!==i[a]){var c=r.refineDiff(t,i,new bA(new Kv(u,u+1),new Kv(a,a+1)),e,o);for(var h=0,f=c.mappings;h<f.length;h++){var l=f[h];A.push(l)}c.hitTimeout&&(v=!0)}}};var w=0,p=0;var m=function(n){mf((function(){return n.seq1Range.start-w==n.seq2Range.start-p})),g(n.seq1Range.start-w),w=n.seq1Range.endExclusive,p=n.seq2Range.endExclusive;var r=b.refineDiff(t,i,n,e,o);r.hitTimeout&&(v=!0);for(var s=0,u=r.mappings;s<u.length;s++){var a=u[s];A.push(a)}};var b=this;for(var y=0,k=d;y<k.length;y++){var x=k[y];m(x)}g(t.length-w);var E=PA(A,t,i);var B=[];return n.computeMoves&&(B=this.computeMoves(E,t,i,a,c,e,o)),mf((function(){function n(t,i){if(t.lineNumber<1||t.lineNumber>i.length)return!1;var n=i[t.lineNumber-1];return!(t.column<1||t.column>n.length+1)}function r(t,i){return!(t.startLineNumber<1||t.startLineNumber>i.length+1)&&!(t.endLineNumberExclusive<1||t.endLineNumberExclusive>i.length+1)}for(var e=0,o=E;e<o.length;e++){var s=o[e];if(!s.innerChanges)return!1;for(var u=0,a=s.innerChanges;u<a.length;u++){var c=a[u];if(!(n(c.modifiedRange.getStartPosition(),i)&&n(c.modifiedRange.getEndPosition(),i)&&n(c.originalRange.getStartPosition(),t)&&n(c.originalRange.getEndPosition(),t)))return!1}if(!r(s.modified,i)||!r(s.original,t))return!1}return!0})),new Gv(E,B,v)};t.prototype.computeMoves=function(t,i,n,r,e,o,s){var u=this;return TA(t,i,n,r,e,o).map((function(t){var r=PA(u.refineDiff(i,n,new bA(t.original.toOffsetRange(),t.modified.toOffsetRange()),o,s).mappings,i,n,!0);return new Vv(t,r)}))};t.prototype.refineDiff=function(t,i,n,r,e){var o=new IA(t,n.seq1Range,e),s=new IA(i,n.seq2Range,e),u=o.length+s.length<500?this.dynamicProgrammingDiffing.compute(o,s,r):this.myersDiffingAlgorithm.compute(o,s,r);var a=u.diffs;return a=jA(o,s,a),a=function(t,i,n){var r=bA.invert(n,t.length),e=[];var o=new yA(0,0);function s(n,s){if(n.offset1<o.offset1||n.offset2<o.offset2)return;var u=t.findWordContaining(n.offset1),a=i.findWordContaining(n.offset2);if(!u||!a)return;var c=new bA(u,a);var h=c.intersect(s);var f=h.seq1Range.length,l=h.seq2Range.length;for(;r.length>0;){var d=r[0];if(!d.seq1Range.intersects(c.seq1Range)&&!d.seq2Range.intersects(c.seq2Range))break;var v=t.findWordContaining(d.seq1Range.start),A=i.findWordContaining(d.seq2Range.start),g=new bA(v,A),w=g.intersect(d);if(f+=w.seq1Range.length,l+=w.seq2Range.length,c=c.join(g),!(c.seq1Range.endExclusive>=d.seq1Range.endExclusive))break;r.shift()}f+l<2*(c.seq1Range.length+c.seq2Range.length)/3&&e.push(c),o=c.getEndExclusives()}for(;r.length>0;){var u=r.shift();u.seq1Range.isEmpty||(s(u.getStarts(),u),s(u.getEndExclusives().delta(-1),u))}return function(t,i){var n=[];for(;t.length>0||i.length>0;){var r=t[0],e=i[0];var o=void 0;o=r&&(!e||r.seq1Range.start<e.seq1Range.start)?t.shift():i.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=o.seq1Range.start?n[n.length-1]=n[n.length-1].join(o):n.push(o)}return n}(n,e)}(o,s,a),a=function(t,i,n){var r=[];for(var e=0,o=n;e<o.length;e++){var s=o[e];var u=r[r.length-1];u&&(s.seq1Range.start-u.seq1Range.endExclusive<=2||s.seq2Range.start-u.seq2Range.endExclusive<=2)?r[r.length-1]=new bA(u.seq1Range.join(s.seq1Range),u.seq2Range.join(s.seq2Range)):r.push(s)}return r}(0,0,a),a=function(t,i,n){var r=n;if(r.length===0)return r;var e,o=0;do{e=!1;var s=[r[0]];var u=function(n){var o=function(n,r){var e=new Kv(a.seq1Range.endExclusive,u.seq1Range.start);if(t.countLinesIn(e)>5||e.length>500)return!1;var o=t.getText(e).trim();if(o.length>20||o.split(/\r\n|\r|\n/).length>1)return!1;var s=t.countLinesIn(n.seq1Range),c=n.seq1Range.length,h=i.countLinesIn(n.seq2Range),f=n.seq2Range.length,l=t.countLinesIn(r.seq1Range),d=r.seq1Range.length,v=i.countLinesIn(r.seq2Range),A=r.seq2Range.length;function g(t){return Math.min(t,130)}return Math.pow(Math.pow(g(40*s+c),1.5)+Math.pow(g(40*h+f),1.5),1.5)+Math.pow(Math.pow(g(40*l+d),1.5)+Math.pow(g(40*v+A),1.5),1.5)>74184.96480721243};var u=r[n],a=s[s.length-1];o(a,u)?(e=!0,s[s.length-1]=s[s.length-1].join(u)):s.push(u)};for(var a=1;a<r.length;a++){u(a)}r=s}while(o++<10&&e);var c=[];return function(t,i){for(var n=0;n<t.length;n++)i(n===0?void 0:t[n-1],t[n],n+1===t.length?void 0:t[n+1])}(r,(function(i,n,r){var e=n;function o(t){return t.length>0&&t.trim().length<=3&&n.seq1Range.length+n.seq2Range.length>100}var s=t.extendToFullLines(n.seq1Range),u=t.getText(new Kv(s.start,n.seq1Range.start));o(u)&&(e=e.deltaStart(-u.length));var a=t.getText(new Kv(n.seq1Range.endExclusive,s.endExclusive));o(a)&&(e=e.deltaEnd(a.length));var h=bA.fromOffsetPairs(i?i.getEndExclusives():yA.zero,r?r.getStarts():yA.max),f=e.intersect(h);c.length>0&&f.getStarts().equals(c[c.length-1].getEndExclusives())?c[c.length-1]=c[c.length-1].join(f):c.push(f)})),c}(o,s,a),{mappings:a.map((function(t){return new aA(o.translateRange(t.seq1Range),s.translateRange(t.seq2Range))})),hitTimeout:u.hitTimeout}};return t}();function PA(t,i,n,r){if(r===void 0){r=!1}var e=[];for(var o=0,s=Q(t.map((function(t){return function(t,i,n){var r=0,e=0;t.modifiedRange.endColumn===1&&t.originalRange.endColumn===1&&t.originalRange.startLineNumber+r<=t.originalRange.endLineNumber&&t.modifiedRange.startLineNumber+r<=t.modifiedRange.endLineNumber&&(e=-1),t.modifiedRange.startColumn-1>=n[t.modifiedRange.startLineNumber-1].length&&t.originalRange.startColumn-1>=i[t.originalRange.startLineNumber-1].length&&t.originalRange.startLineNumber<=t.originalRange.endLineNumber+e&&t.modifiedRange.startLineNumber<=t.modifiedRange.endLineNumber+e&&(r=1);var o=new eA(t.originalRange.startLineNumber+r,t.originalRange.endLineNumber+1+e),s=new eA(t.modifiedRange.startLineNumber+r,t.modifiedRange.endLineNumber+1+e);return new uA(o,s,[t])}(t,i,n)})),(function(t,i){return t.original.overlapOrTouch(i.original)||t.modified.overlapOrTouch(i.modified)}));o<s.length;o++){var u=s[o];var a=u[0],c=u[u.length-1];e.push(new uA(a.original.join(c.original),a.modified.join(c.modified),u.map((function(t){return t.innerChanges[0]}))))}return mf((function(){return!r&&e.length>0&&(e[0].modified.startLineNumber!==e[0].original.startLineNumber||n.length-e[e.length-1].modified.endLineNumberExclusive!=i.length-e[e.length-1].original.endLineNumberExclusive)?!1:bf(e,(function(t,i){return i.original.startLineNumber-t.original.endLineNumberExclusive==i.modified.startLineNumber-t.modified.endLineNumberExclusive&&t.original.endLineNumberExclusive<i.original.startLineNumber&&t.modified.endLineNumberExclusive<i.modified.startLineNumber}))})),e}var WA=function(){return new cA},GA=function(){return new JA};function VA(t,i){var n=Math.pow(10,i);return Math.round(t*n)/n}var KA=function(){function t(t,i,n,r){if(r===void 0){r=1}this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,i)),this.b=0|Math.min(255,Math.max(0,n)),this.a=VA(Math.max(Math.min(1,r),0),3)}t.equals=function(t,i){return t.r===i.r&&t.g===i.g&&t.b===i.b&&t.a===i.a};return t}();var XA=function(){function t(t,i,n,r){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=VA(Math.max(Math.min(1,i),0),3),this.l=VA(Math.max(Math.min(1,n),0),3),this.a=VA(Math.max(Math.min(1,r),0),3)}t.equals=function(t,i){return t.h===i.h&&t.s===i.s&&t.l===i.l&&t.a===i.a};t.fromRGBA=function(i){var n=i.r/255,r=i.g/255,e=i.b/255,o=i.a,s=Math.max(n,r,e),u=Math.min(n,r,e);var a=0,c=0;var h=(u+s)/2,f=s-u;if(f>0){switch(c=Math.min(h<=.5?f/(2*h):f/(2-2*h),1),s){case n:a=(r-e)/f+(r<e?6:0);break;case r:a=(e-n)/f+2;break;case e:a=(n-r)/f+4}a*=60,a=Math.round(a)}return new t(a,c,h,o)};t._hue2rgb=function(t,i,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(i-t)*n:n<.5?i:n<2/3?t+(i-t)*(2/3-n)*6:t};t.toRGBA=function(i){var n=i.h/360,r=i.s,e=i.l,o=i.a;var s,u,a;if(r===0)s=u=a=e;else{var c=e<.5?e*(1+r):e+r-e*r,h=2*e-c;s=t._hue2rgb(h,c,n+1/3),u=t._hue2rgb(h,c,n),a=t._hue2rgb(h,c,n-1/3)}return new KA(Math.round(255*s),Math.round(255*u),Math.round(255*a),o)};return t}();var qA=function(){function t(t,i,n,r){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=VA(Math.max(Math.min(1,i),0),3),this.v=VA(Math.max(Math.min(1,n),0),3),this.a=VA(Math.max(Math.min(1,r),0),3)}t.equals=function(t,i){return t.h===i.h&&t.s===i.s&&t.v===i.v&&t.a===i.a};t.fromRGBA=function(i){var n=i.r/255,r=i.g/255,e=i.b/255,o=Math.max(n,r,e),s=o-Math.min(n,r,e),u=o===0?0:s/o;var a;return a=s===0?0:o===n?((r-e)/s%6+6)%6:o===r?(e-n)/s+2:(n-r)/s+4,new t(Math.round(60*a),u,o,i.a)};t.toRGBA=function(t){var i=t.h,n=t.s,r=t.v,e=t.a,o=r*n,s=o*(1-Math.abs(i/60%2-1)),u=r-o;var a=[0,0,0],c=a[0],h=a[1],f=a[2];return i<60?(c=o,h=s):i<120?(c=s,h=o):i<180?(h=o,f=s):i<240?(h=s,f=o):i<300?(c=s,f=o):i<=360&&(c=o,f=s),c=Math.round(255*(c+u)),h=Math.round(255*(h+u)),f=Math.round(255*(f+u)),new KA(c,h,f,e)};return t}();var ZA=function(){function t(t){if(!t)throw new Error("Color needs a value");if(t instanceof KA)this.rgba=t;else if(t instanceof XA)this._hsla=t,this.rgba=XA.toRGBA(t);else{if(!(t instanceof qA))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=qA.toRGBA(t)}}t.fromHex=function(i){return t.Format.CSS.parseHex(i)||t.red};t.equals=function(t,i){return!t&&!i||!(!t||!i)&&t.equals(i)};Object.defineProperty(t.prototype,"hsla",{get:function(){return this._hsla?this._hsla:XA.fromRGBA(this.rgba)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hsva",{get:function(){return this._hsva?this._hsva:qA.fromRGBA(this.rgba)},enumerable:false,configurable:true});t.prototype.equals=function(t){return!!t&&KA.equals(this.rgba,t.rgba)&&XA.equals(this.hsla,t.hsla)&&qA.equals(this.hsva,t.hsva)};t.prototype.getRelativeLuminance=function(){return VA(.2126*t._relativeLuminanceForComponent(this.rgba.r)+.7152*t._relativeLuminanceForComponent(this.rgba.g)+.0722*t._relativeLuminanceForComponent(this.rgba.b),4)};t._relativeLuminanceForComponent=function(t){var i=t/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)};t.prototype.isLighter=function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128};t.prototype.isLighterThan=function(t){return this.getRelativeLuminance()>t.getRelativeLuminance()};t.prototype.isDarkerThan=function(t){return this.getRelativeLuminance()<t.getRelativeLuminance()};t.prototype.lighten=function(i){return new t(new XA(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*i,this.hsla.a))};t.prototype.darken=function(i){return new t(new XA(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*i,this.hsla.a))};t.prototype.transparent=function(i){var n=this.rgba,r=n.r,e=n.g,o=n.b,s=n.a;return new t(new KA(r,e,o,s*i))};t.prototype.isTransparent=function(){return this.rgba.a===0};t.prototype.isOpaque=function(){return this.rgba.a===1};t.prototype.opposite=function(){return new t(new KA(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))};t.prototype.makeOpaque=function(i){if(this.isOpaque()||i.rgba.a!==1)return this;var n=this.rgba,r=n.r,e=n.g,o=n.b,s=n.a;return new t(new KA(i.rgba.r-s*(i.rgba.r-r),i.rgba.g-s*(i.rgba.g-e),i.rgba.b-s*(i.rgba.b-o),1))};t.prototype.toString=function(){return this._toString||(this._toString=t.Format.CSS.format(this)),this._toString};t.getLighterColor=function(t,i,n){if(t.isLighterThan(i))return t;n=n||.5;var r=t.getRelativeLuminance(),e=i.getRelativeLuminance();return n=n*(e-r)/e,t.lighten(n)};t.getDarkerColor=function(t,i,n){if(t.isDarkerThan(i))return t;n=n||.5;var r=t.getRelativeLuminance();return n=n*(r-i.getRelativeLuminance())/r,t.darken(n)};return t}();function $A(t){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];var o=Number(e);(o||o===0&&e.replace(/\s/g,"")!=="")&&i.push(o)}return i}function tg(t,i,n,r){return{red:t/255,blue:n/255,green:i/255,alpha:r}}function ig(t,i){var n=i.index,r=i[0].length;if(!n)return;var e=t.positionAt(n);return{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column+r}}function ng(t,i){if(!t)return;var n=ZA.Format.CSS.parseHex(i);return n?{range:t,color:tg(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}:void 0}function rg(t,i,n){if(!t||i.length!==1)return;var r=$A(i[0].values());return{range:t,color:tg(r[0],r[1],r[2],n?r[3]:1)}}function eg(t,i,n){if(!t||i.length!==1)return;var r=$A(i[0].values()),e=new ZA(new XA(r[0],r[1]/100,r[2]/100,n?r[3]:1));return{range:t,color:tg(e.rgba.r,e.rgba.g,e.rgba.b,e.rgba.a)}}function og(t,i){return typeof t=="string"?__spreadArray([],t.matchAll(i),true):t.findMatches(i)}function sg(t){return t&&typeof t.getValue=="function"&&typeof t.positionAt=="function"?function(t){var i=[],n=og(t,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(var r=0,e=n;r<e.length;r++){var o=e[r];var s=o.filter((function(t){return t!==void 0})),u=s[1],a=s[2];if(!a)continue;var c=void 0;if(u==="rgb"){var h=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;c=rg(ig(t,o),og(a,h),!1)}else if(u==="rgba"){var h=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;c=rg(ig(t,o),og(a,h),!0)}else if(u==="hsl"){var h=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;c=eg(ig(t,o),og(a,h),!1)}else if(u==="hsla"){var h=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;c=eg(ig(t,o),og(a,h),!0)}else u==="#"&&(c=ng(ig(t,o),u+a));c&&i.push(c)}return i}(t):[]}ZA.white=new ZA(new KA(255,255,255,1)),ZA.black=new ZA(new KA(0,0,0,1)),ZA.red=new ZA(new KA(255,0,0,1)),ZA.blue=new ZA(new KA(0,0,255,1)),ZA.green=new ZA(new KA(0,255,0,1)),ZA.cyan=new ZA(new KA(0,255,255,1)),ZA.lightgrey=new ZA(new KA(211,211,211,1)),ZA.transparent=new ZA(new KA(0,0,0,0)),function(t){var i;(function(i){function n(t){var i=t.toString(16);return i.length!==2?"0"+i:i}function r(t){switch(t){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}i.formatRGB=function(i){return i.rgba.a===1?"rgb(".concat(i.rgba.r,", ").concat(i.rgba.g,", ").concat(i.rgba.b,")"):t.Format.CSS.formatRGBA(i)},i.formatRGBA=function(t){return"rgba(".concat(t.rgba.r,", ").concat(t.rgba.g,", ").concat(t.rgba.b,", ").concat(+t.rgba.a.toFixed(2),")")},i.formatHSL=function(i){return i.hsla.a===1?"hsl(".concat(i.hsla.h,", ").concat((100*i.hsla.s).toFixed(2),"%, ").concat((100*i.hsla.l).toFixed(2),"%)"):t.Format.CSS.formatHSLA(i)},i.formatHSLA=function(t){return"hsla(".concat(t.hsla.h,", ").concat((100*t.hsla.s).toFixed(2),"%, ").concat((100*t.hsla.l).toFixed(2),"%, ").concat(t.hsla.a.toFixed(2),")")},i.formatHex=function(t){return"#".concat(n(t.rgba.r)).concat(n(t.rgba.g)).concat(n(t.rgba.b))},i.formatHexA=function(i,r){if(r===void 0){r=!1}return r&&i.rgba.a===1?t.Format.CSS.formatHex(i):"#".concat(n(i.rgba.r)).concat(n(i.rgba.g)).concat(n(i.rgba.b)).concat(n(Math.round(255*i.rgba.a)))},i.format=function(i){return i.isOpaque()?t.Format.CSS.formatHex(i):t.Format.CSS.formatRGBA(i)},i.parseHex=function(i){var n=i.length;if(n===0||i.charCodeAt(0)!==35)return null;if(n===7){var e=16*r(i.charCodeAt(1))+r(i.charCodeAt(2)),o=16*r(i.charCodeAt(3))+r(i.charCodeAt(4)),s=16*r(i.charCodeAt(5))+r(i.charCodeAt(6));return new t(new KA(e,o,s,1))}if(n===9){var e=16*r(i.charCodeAt(1))+r(i.charCodeAt(2)),o=16*r(i.charCodeAt(3))+r(i.charCodeAt(4)),s=16*r(i.charCodeAt(5))+r(i.charCodeAt(6)),u=16*r(i.charCodeAt(7))+r(i.charCodeAt(8));return new t(new KA(e,o,s,u/255))}if(n===4){var e=r(i.charCodeAt(1)),o=r(i.charCodeAt(2)),s=r(i.charCodeAt(3));return new t(new KA(16*e+e,16*o+o,16*s+s))}if(n===5){var e=r(i.charCodeAt(1)),o=r(i.charCodeAt(2)),s=r(i.charCodeAt(3)),a=r(i.charCodeAt(4));return new t(new KA(16*e+e,16*o+o,16*s+s,(16*a+a)/255))}return null}})((i=t.Format||(t.Format={})).CSS||(i.CSS={}))}(ZA||(ZA={}));var ug=new RegExp("\\bMARK:\\s*(.*)$","d"),ag=/^-+|-+$/g;function cg(t,i){var n;var r=[];if(i.findRegionSectionHeaders&&(!((n=i.foldingRules)===null||n===void 0)&&n.markers)){var e=function(t,i){var n=[],r=t.getLineCount();for(var e=1;e<=r;e++){var o=t.getLineContent(e),s=o.match(i.foldingRules.markers.start);if(s){var u={startLineNumber:e,startColumn:s[0].length+1,endLineNumber:e,endColumn:o.length+1};if(u.endColumn>u.startColumn){var a=__assign(__assign({range:u},fg(o.substring(s[0].length))),{shouldBeInComments:!1});(a.text||a.hasSeparatorLine)&&n.push(a)}}}return n}(t,i);r=r.concat(e)}if(i.findMarkSectionHeaders){var e=function(t){var i=[],n=t.getLineCount();for(var r=1;r<=n;r++)hg(t.getLineContent(r),r,i);return i}(t);r=r.concat(e)}return r}function hg(t,i,n){ug.lastIndex=0;var r=ug.exec(t);if(r){var e={startLineNumber:i,startColumn:r.indices[1][0]+1,endLineNumber:i,endColumn:r.indices[1][1]+1};if(e.endColumn>e.startColumn){var o=__assign(__assign({range:e},fg(r[1])),{shouldBeInComments:!0});(o.text||o.hasSeparatorLine)&&n.push(o)}}}function fg(t){var i=(t=t.trim()).startsWith("-");return{text:t=t.replace(ag,""),hasSeparatorLine:i}}var lg=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}Object.defineProperty(i.prototype,"uri",{get:function(){return this._uri},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"eol",{get:function(){return this._eol},enumerable:false,configurable:true});i.prototype.getValue=function(){return this.getText()};i.prototype.findMatches=function(t){var i=[];for(var n=0;n<this._lines.length;n++){var r=this._lines[n],e=this.offsetAt(new qr(n+1,1)),o=r.matchAll(t);for(var s=0,u=o;s<u.length;s++){var a=u[s];(a.index||a.index===0)&&(a.index=a.index+e),i.push(a)}}return i};i.prototype.getLinesContent=function(){return this._lines.slice(0)};i.prototype.getLineCount=function(){return this._lines.length};i.prototype.getLineContent=function(t){return this._lines[t-1]};i.prototype.getWordAtPosition=function(t,i){var n=yi(t.column,mi(i),this._lines[t.lineNumber-1],0);return n?new Zr(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn):null};i.prototype.words=function(t){var i;var n=this._lines,r=this._wordenize.bind(this);var e=0,o="",s=0,u=[];return i={},i[Symbol.iterator]=function(){var i;return __generator(this,(function(a){switch(a.label){case 0:if(!(s<u.length))return[3,2];i=o.substring(u[s].start,u[s].end);s+=1;return[4,i];case 1:a.sent();return[3,3];case 2:if(!(e<n.length))return[3,4];o=n[e],u=r(o,t),s=0,e+=1;a.label=3;case 3:return[3,0];case 4:return[2]}}))},i};i.prototype.getLineWords=function(t,i){var n=this._lines[t-1],r=this._wordenize(n,i),e=[];for(var o=0,s=r;o<s.length;o++){var u=s[o];e.push({word:n.substring(u.start,u.end),startColumn:u.start+1,endColumn:u.end+1})}return e};i.prototype._wordenize=function(t,i){var n=[];var r;for(i.lastIndex=0;(r=i.exec(t))&&r[0].length!==0;)n.push({start:r.index,end:r.index+r[0].length});return n};i.prototype.getValueInRange=function(t){if((t=this._validateRange(t)).startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);var i=this._eol,n=t.startLineNumber-1,r=t.endLineNumber-1,e=[];e.push(this._lines[n].substring(t.startColumn-1));for(var o=n+1;o<r;o++)e.push(this._lines[o]);return e.push(this._lines[r].substring(0,t.endColumn-1)),e.join(i)};i.prototype.offsetAt=function(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)};i.prototype.positionAt=function(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();var i=this._lineStarts.getIndexOf(t),n=this._lines[i.index].length;return{lineNumber:1+i.index,column:1+Math.min(i.remainder,n)}};i.prototype._validateRange=function(t){var i=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),n=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return i.lineNumber!==t.startLineNumber||i.column!==t.startColumn||n.lineNumber!==t.endLineNumber||n.column!==t.endColumn?{startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:n.lineNumber,endColumn:n.column}:t};i.prototype._validatePosition=function(t){if(!qr.isIPosition(t))throw new Error("bad position");var i=t.lineNumber,n=t.column,r=!1;if(i<1)i=1,n=1,r=!0;else if(i>this._lines.length)i=this._lines.length,n=this._lines[i-1].length+1,r=!0;else{var e=this._lines[i-1].length+1;n<1?(n=1,r=!0):n>e&&(n=e,r=!0)}return r?{lineNumber:i,column:n}:t};return i}(cv);var dg=function(){function t(t,i){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=i,this._foreignModule=null}t.prototype.dispose=function(){this._models=Object.create(null)};t.prototype._getModel=function(t){return this._models[t]};t.prototype._getModels=function(){var t=this;var i=[];return Object.keys(this._models).forEach((function(n){return i.push(t._models[n])})),i};t.prototype.acceptNewModel=function(t){this._models[t.url]=new lg(zr.parse(t.url),t.lines,t.EOL,t.versionId)};t.prototype.acceptModelChanged=function(t,i){this._models[t]&&this._models[t].onEvents(i)};t.prototype.acceptRemovedModel=function(t){this._models[t]&&delete this._models[t]};t.prototype.computeUnicodeHighlights=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(e){r=this._getModel(t);return[2,r?Jv.computeUnicodeHighlights(r,i,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}]}))}))};t.prototype.findSectionHeaders=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){n=this._getModel(t);return[2,n?cg(n,i):[]]}))}))};t.prototype.computeDiff=function(i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s;return __generator(this,(function(u){o=this._getModel(i),s=this._getModel(n);return[2,!o||!s?null:t.computeDiff(o,s,r,e)]}))}))};t.computeDiff=function(t,i,n,r){var e=r==="advanced"?GA():WA(),o=t.getLinesContent(),s=i.getLinesContent(),u=e.computeDiff(o,s,n);function a(t){return t.map((function(t){var i;return[t.original.startLineNumber,t.original.endLineNumberExclusive,t.modified.startLineNumber,t.modified.endLineNumberExclusive,(i=t.innerChanges)===null||i===void 0?void 0:i.map((function(t){return[t.originalRange.startLineNumber,t.originalRange.startColumn,t.originalRange.endLineNumber,t.originalRange.endColumn,t.modifiedRange.startLineNumber,t.modifiedRange.startColumn,t.modifiedRange.endLineNumber,t.modifiedRange.endColumn]}))]}))}return{identical:!(u.changes.length>0)&&this._modelsAreIdentical(t,i),quitEarly:u.hitTimeout,changes:a(u.changes),moves:u.moves.map((function(t){return[t.lineRangeMapping.original.startLineNumber,t.lineRangeMapping.original.endLineNumberExclusive,t.lineRangeMapping.modified.startLineNumber,t.lineRangeMapping.modified.endLineNumberExclusive,a(t.changes)]}))}};t._modelsAreIdentical=function(t,i){var n=t.getLineCount();if(n!==i.getLineCount())return!1;for(var r=1;r<=n;r++)if(t.getLineContent(r)!==i.getLineContent(r))return!1;return!0};t.prototype.computeMoreMinimalEdits=function(i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,a,l,d,v,A,g,w,p,m,b,y,k;return __generator(this,(function(x){e=this._getModel(i);if(!e)return[2,n];o=[];n=n.slice(0).sort((function(t,i){return t.range&&i.range?Zr.compareRangesUsingStarts(t.range,i.range):(t.range?0:1)-(i.range?0:1)}));u=0;for(a=1;a<n.length;a++)Zr.getEndPosition(n[u].range).equals(Zr.getStartPosition(n[a].range))?(n[u].range=Zr.fromPositions(Zr.getStartPosition(n[u].range),Zr.getEndPosition(n[a].range)),n[u].text+=n[a].text):(u++,n[u]=n[a]);n.length=u+1;for(c=0,h=n;c<h.length;c++){f=h[c],a=f.range,l=f.text,d=f.eol;if(typeof d=="number"&&(s=d),Zr.isEmpty(a)&&!l)continue;v=e.getValueInRange(a);if(l=l.replace(/\r\n|\n|\r/g,e.eol),v===l)continue;if(Math.max(l.length,v.length)>t._diffLimit){o.push({range:a,text:l});continue}A=$d(v,l,r),g=e.offsetAt(Zr.lift(a).getStartPosition());for(w=0,p=A;w<p.length;w++){m=p[w];b=e.positionAt(g+m.originalStart),y=e.positionAt(g+m.originalStart+m.originalLength),k={text:l.substr(m.modifiedStart,m.modifiedLength),range:{startLineNumber:b.lineNumber,startColumn:b.column,endLineNumber:y.lineNumber,endColumn:y.column}};e.getValueInRange(k.range)!==k.text&&o.push(k)}}return[2,(typeof s=="number"&&o.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o)]}))}))};t.prototype.computeLinks=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=this._getModel(t);return[2,i?function(t){return t&&typeof t.getLineCount=="function"&&typeof t.getLineContent=="function"?gv.computeLinks(t):[]}(i):null]}))}))};t.prototype.computeDefaultDocumentColors=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=this._getModel(t);return[2,i?sg(i):null]}))}))};t.prototype.textualSuggest=function(i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c,h,f,l,d,v;return __generator(this,(function(A){o=new In,s=new RegExp(r,e),u=new Set;t:for(a=0,c=i;a<c.length;a++){h=c[a];f=this._getModel(h);if(f){for(l=0,d=f.words(s);l<d.length;l++){v=d[l];if(v!==n&&isNaN(Number(v))&&(u.add(v),u.size>t._suggestionsLimit))break t}}}return[2,{words:Array.from(u),duration:o.elapsed()}]}))}))};t.prototype.computeWordRanges=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,l;return __generator(this,(function(d){e=this._getModel(t);if(!e)return[2,Object.create(null)];o=new RegExp(n,r),s=Object.create(null);for(u=i.startLineNumber;u<i.endLineNumber;u++){a=e.getLineWords(u,o);for(c=0,h=a;c<h.length;c++){f=h[c];if(!isNaN(Number(f.word)))continue;l=s[f.word];l||(l=[],s[f.word]=l),l.push({startLineNumber:u,startColumn:f.startColumn,endLineNumber:u,endColumn:f.endColumn})}}return[2,s]}))}))};t.prototype.navigateValueSet=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c;return __generator(this,(function(h){o=this._getModel(t);if(!o)return[2,null];s=new RegExp(r,e);i.startColumn===i.endColumn&&(i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn+1});u=o.getValueInRange(i),a=o.getWordAtPosition({lineNumber:i.startLineNumber,column:i.startColumn},s);if(!a)return[2,null];c=o.getValueInRange(a);return[2,wv.INSTANCE.navigateValueSet(i,u,a,c,n)]}))}))};t.prototype.loadForeignModule=function(t,i,n){var r=this;var e=function(t,i){var n=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);return i(t,n)}},r={};for(var e=0,o=t;e<o.length;e++){var s=o[e];r[s]=n(s)}return r}(n,(function(t,i){return r._host.fhr(t,i)})),o={host:e,getMirrorModels:function(){return r._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,i),Promise.resolve(kt(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))};t.prototype.fmr=function(t,i){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,i))}catch(t){return Promise.reject(t)}};return t}();dg._diffLimit=1e5,dg._suggestionsLimit=1e4,typeof importScripts=="function"&&(globalThis.monaco=Ao());var vg=lh("textResourceConfigurationService"),Ag=lh("textResourcePropertiesService"),gg=lh("ILanguageFeaturesService");var wg=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},pg=function(t,i){return function(n,r){i(n,r,t)}};var mg=3e5;function bg(t,i){var n=t.getModel(i);return!!n&&!n.isTooLargeForSyncing()}var yg=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._modelService=i,s._workerManager=s._register(new xg(s._modelService,e)),s._logService=r,s._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:function(t,i){return bg(s._modelService,t.uri)?s._workerManager.withWorker().then((function(i){return i.computeLinks(t.uri)})).then((function(t){return t&&{links:t}})):Promise.resolve({links:[]})}})),s._register(o.completionProvider.register("*",new kg(s._workerManager,n,s._modelService,e)));return s}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.canComputeUnicodeHighlights=function(t){return bg(this._modelService,t)};i.prototype.computedUnicodeHighlights=function(t,i,n){return this._workerManager.withWorker().then((function(r){return r.computedUnicodeHighlights(t,i,n)}))};i.prototype.computeDiff=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){function e(t){return t.map((function(t){var i;return new uA(new eA(t[0],t[1]),new eA(t[2],t[3]),(i=t[4])===null||i===void 0?void 0:i.map((function(t){return new aA(new Zr(t[0],t[1],t[2],t[3]),new Zr(t[4],t[5],t[6],t[7]))})))}))}var o;return __generator(this,(function(s){switch(s.label){case 0:return[4,this._workerManager.withWorker().then((function(e){return e.computeDiff(t,i,n,r)}))];case 1:o=s.sent();if(!o)return[2,null];return[2,{identical:o.identical,quitEarly:o.quitEarly,changes:e(o.changes),moves:o.moves.map((function(t){return new Vv(new sA(new eA(t[0],t[1]),new eA(t[2],t[3])),e(t[4]))}))}]}}))}))};i.prototype.computeMoreMinimalEdits=function(t,i,n){var r=this;if(n===void 0){n=!1}if(L(i)){if(!bg(this._modelService,t))return Promise.resolve(i);var e=In.create(),o=this._workerManager.withWorker().then((function(r){return r.computeMoreMinimalEdits(t,i,n)}));return o.finally((function(){return r._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),e.elapsed())})),Promise.race([o,Ws(1e3).then((function(){return i}))])}return Promise.resolve(void 0)};i.prototype.canNavigateValueSet=function(t){return bg(this._modelService,t)};i.prototype.navigateValueSet=function(t,i,n){return this._workerManager.withWorker().then((function(r){return r.navigateValueSet(t,i,n)}))};i.prototype.canComputeWordRanges=function(t){return bg(this._modelService,t)};i.prototype.computeWordRanges=function(t,i){return this._workerManager.withWorker().then((function(n){return n.computeWordRanges(t,i)}))};i.prototype.findSectionHeaders=function(t,i){return this._workerManager.withWorker().then((function(n){return n.findSectionHeaders(t,i)}))};return i}(Cn);yg=wg([pg(0,vh),pg(1,vg),pg(2,Lf),pg(3,jd),pg(4,gg)],yg);var kg=function(){function t(t,i,n,r){this.languageConfigurationService=r,this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=i,this._modelService=n}t.prototype.provideCompletionItems=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c,h,f,l;return __generator(this,(function(d){switch(d.label){case 0:n=this._configurationService.getValue(t.uri,i,"editor");if(n.wordBasedSuggestions==="off")return[2];r=[];if(n.wordBasedSuggestions==="currentDocument")bg(this._modelService,t.uri)&&r.push(t.uri);else for(e=0,o=this._modelService.getModels();e<o.length;e++){s=o[e];bg(this._modelService,s.uri)&&(s===t?r.unshift(s.uri):n.wordBasedSuggestions!=="allDocuments"&&s.getLanguageId()!==t.getLanguageId()||r.push(s.uri))}if(r.length===0)return[2];u=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition(),a=t.getWordAtPosition(i),c=a?new Zr(i.lineNumber,a.startColumn,i.lineNumber,a.endColumn):Zr.fromPositions(i),h=c.setEndPosition(i.lineNumber,i.column);return[4,this._workerManager.withWorker()];case 1:f=d.sent();return[4,f.textualSuggest(r,a==null?void 0:a.word,u)];case 2:l=d.sent();return[2,l?{duration:l.duration,suggestions:l.words.map((function(t){return{kind:18,label:t,insertText:t,range:{insert:h,replace:c}}}))}:void 0]}}))}))};return t}();var xg=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.languageConfigurationService=n,r._modelService=i,r._editorWorkerClient=null,r._lastWorkerUsedTime=(new Date).getTime(),r._register(new Ha).cancelAndSet((function(){return r._checkStopIdleWorker()}),Math.round(15e4),go),r._register(r._modelService.onModelRemoved((function(t){return r._checkStopEmptyWorker()})));return r}i.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),t.prototype.dispose.call(this)};i.prototype._checkStopEmptyWorker=function(){this._editorWorkerClient&&this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)};i.prototype._checkStopIdleWorker=function(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>mg&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)};i.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Dg(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)};return i}(Cn);var Eg=function(t){__extends(i,t);function i(i,n,r){var e=this;if(e=t.call(this)||this,e._syncedModels=Object.create(null),e._syncedModelsLastUsedTime=Object.create(null),e._proxy=i,e._modelService=n,!r){var o=new Xs;o.cancelAndSet((function(){return e._checkStopModelSync()}),Math.round(3e4)),e._register(o)}return e}i.prototype.dispose=function(){for(var i in this._syncedModels)kn(this._syncedModels[i]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),t.prototype.dispose.call(this)};i.prototype.ensureSyncedResources=function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];var o=e.toString();this._syncedModels[o]||this._beginModelSync(e,i),this._syncedModels[o]&&(this._syncedModelsLastUsedTime[o]=(new Date).getTime())}};i.prototype._checkStopModelSync=function(){var t=(new Date).getTime(),i=[];for(var n in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[n]>6e4&&i.push(n);for(var r=0,e=i;r<e.length;r++){var n=e[r];this._stopModelSync(n)}};i.prototype._beginModelSync=function(t,i){var n=this;var r=this._modelService.getModel(t);if(!r||!i&&r.isTooLargeForSyncing())return;var e=t.toString();this._proxy.acceptNewModel({url:r.uri.toString(),lines:r.getLinesContent(),EOL:r.getEOL(),versionId:r.getVersionId()});var o=new Bn;o.add(r.onDidChangeContent((function(t){n._proxy.acceptModelChanged(e.toString(),t)}))),o.add(r.onWillDispose((function(){n._stopModelSync(e)}))),o.add(En((function(){n._proxy.acceptRemovedModel(e)}))),this._syncedModels[e]=o};i.prototype._stopModelSync=function(t){var i=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],kn(i)};return i}(Cn);var Bg=function(){function t(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}t.prototype.dispose=function(){this._instance.dispose()};t.prototype.getProxyObject=function(){return this._proxyObj};return t}();var Cg=function(){function t(t){this._workerClient=t}t.prototype.fhr=function(t,i){return this._workerClient.fhr(t,i)};return t}();var Dg=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o.languageConfigurationService=e,o._disposed=!1,o._modelService=i,o._keepIdleModels=n,o._workerFactory=new kl(r),o._worker=null,o._modelManager=null;return o}i.prototype.fhr=function(t,i){throw new Error("Not implemented!")};i.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new gl(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Cg(this)))}catch(t){cl(t),this._worker=new Bg(new dg(new Cg(this),null))}return this._worker};i.prototype._getProxy=function(){var t=this;return this._getOrCreateWorker().getProxyObject().then(void 0,(function(i){return cl(i),t._worker=new Bg(new dg(new Cg(t),null)),t._getOrCreateWorker().getProxyObject()}))};i.prototype._getOrCreateModelManager=function(t){return this._modelManager||(this._modelManager=this._register(new Eg(t,this._modelService,this._keepIdleModels))),this._modelManager};i.prototype._withSyncedResources=function(t){return __awaiter(this,arguments,void 0,(function(t,i){var n=this;if(i===void 0){i=!1}return __generator(this,(function(r){return[2,this._disposed?Promise.reject(function(){var t=new Error(ln);return t.name=t.message,t}()):this._getProxy().then((function(r){return n._getOrCreateModelManager(r).ensureSyncedResources(t,i),r}))]}))}))};i.prototype.computedUnicodeHighlights=function(t,i,n){return this._withSyncedResources([t]).then((function(r){return r.computeUnicodeHighlights(t.toString(),i,n)}))};i.prototype.computeDiff=function(t,i,n,r){return this._withSyncedResources([t,i],!0).then((function(e){return e.computeDiff(t.toString(),i.toString(),n,r)}))};i.prototype.computeMoreMinimalEdits=function(t,i,n){return this._withSyncedResources([t]).then((function(r){return r.computeMoreMinimalEdits(t.toString(),i,n)}))};i.prototype.computeLinks=function(t){return this._withSyncedResources([t]).then((function(i){return i.computeLinks(t.toString())}))};i.prototype.computeDefaultDocumentColors=function(t){return this._withSyncedResources([t]).then((function(i){return i.computeDefaultDocumentColors(t.toString())}))};i.prototype.textualSuggest=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o;return __generator(this,(function(s){switch(s.label){case 0:return[4,this._withSyncedResources(t)];case 1:r=s.sent(),e=n.source,o=n.flags;return[2,r.textualSuggest(t.map((function(t){return t.toString()})),i,e,o)]}}))}))};i.prototype.computeWordRanges=function(t,i){var n=this;return this._withSyncedResources([t]).then((function(r){var e=n._modelService.getModel(t);if(!e)return Promise.resolve(null);var o=n.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=o.source,u=o.flags;return r.computeWordRanges(t.toString(),i,s,u)}))};i.prototype.navigateValueSet=function(t,i,n){var r=this;return this._withSyncedResources([t]).then((function(e){var o=r._modelService.getModel(t);if(!o)return null;var s=r.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),u=s.source,a=s.flags;return e.navigateValueSet(t.toString(),i,n,u,a)}))};i.prototype.findSectionHeaders=function(t,i){return this._withSyncedResources([t]).then((function(n){return n.findSectionHeaders(t.toString(),i)}))};i.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposed=!0};return i}(Cn);var Mg=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,r.keepIdleModels||!1,r.label,n)||this,e._foreignModuleId=r.moduleId,e._foreignModuleCreateData=r.createData||null,e._foreignModuleHost=r.host||null,e._foreignProxy=null;return e}i.prototype.fhr=function(t,i){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,i))}catch(t){return Promise.reject(t)}};i.prototype._getForeignProxy=function(){var t=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then((function(i){var n=t._foreignModuleHost?kt(t._foreignModuleHost):[];return i.loadForeignModule(t._foreignModuleId,t._foreignModuleCreateData,n).then((function(n){t._foreignModuleCreateData=null;var r=function(t,n){return i.fmr(t,n)},e=function(t,i){return function(){var n=Array.prototype.slice.call(arguments,0);return i(t,n)}},o={};for(var s=0,u=n;s<u.length;s++){var a=u[s];o[a]=e(a,r)}return o}))}))),this._foreignProxy};i.prototype.getProxy=function(){return this._getForeignProxy()};i.prototype.withSyncedResources=function(t){var i=this;return this._withSyncedResources(t).then((function(t){return i.getProxy()}))};return i}(Dg);var _g={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},Fg=new(function(){function t(){}t.prototype.clone=function(){return this};t.prototype.equals=function(t){return this===t};return t}());function Sg(t,i){return new se([new oe(0,"",t)],i)}function Ig(t,i){var n=new Uint32Array(2);return n[0]=0,n[1]=(32768|t|2<<24)>>>0,new ue(n,i===null?Fg:i)}var Qg=function(){function t(){}t.getLanguageId=function(t){return(255&t)>>>0};t.getTokenType=function(t){return(768&t)>>>8};t.containsBalancedBrackets=function(t){return!!(1024&t)};t.getFontStyle=function(t){return(30720&t)>>>11};t.getForeground=function(t){return(16744448&t)>>>15};t.getBackground=function(t){return(4278190080&t)>>>24};t.getClassNameFromMetadata=function(t){var i="mtk"+this.getForeground(t);var n=this.getFontStyle(t);return 1&n&&(i+=" mtki"),2&n&&(i+=" mtkb"),4&n&&(i+=" mtku"),8&n&&(i+=" mtks"),i};t.getInlineStyleFromMetadata=function(t,i){var n=this.getForeground(t),r=this.getFontStyle(t);var e="color: ".concat(i[n],";");1&r&&(e+="font-style: italic;"),2&r&&(e+="font-weight: bold;");var o="";return 4&r&&(o+=" underline"),8&r&&(o+=" line-through"),o&&(e+="text-decoration:".concat(o,";")),e};t.getPresentationFromMetadata=function(t){var i=this.getForeground(t),n=this.getFontStyle(t);return{foreground:i,italic:!!(1&n),bold:!!(2&n),underline:!!(4&n),strikethrough:!!(8&n)}};return t}();var Og=function(){function t(t,i,n){this._lineTokensBrand=void 0,this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=i,this._languageIdCodec=n}t.createEmpty=function(i,n){var r=t.defaultTokenMetadata,e=new Uint32Array(2);return e[0]=i.length,e[1]=r,new t(e,i,n)};t.prototype.equals=function(i){return i instanceof t&&this.slicedEquals(i,0,this._tokensCount)};t.prototype.slicedEquals=function(t,i,n){if(this._text!==t._text||this._tokensCount!==t._tokensCount)return!1;var r=i<<1,e=r+(n<<1);for(var o=r;o<e;o++)if(this._tokens[o]!==t._tokens[o])return!1;return!0};t.prototype.getLineContent=function(){return this._text};t.prototype.getCount=function(){return this._tokensCount};t.prototype.getStartOffset=function(t){return t>0?this._tokens[t-1<<1]:0};t.prototype.getMetadata=function(t){return this._tokens[1+(t<<1)]};t.prototype.getLanguageId=function(t){var i=this._tokens[1+(t<<1)],n=Qg.getLanguageId(i);return this._languageIdCodec.decodeLanguageId(n)};t.prototype.getStandardTokenType=function(t){var i=this._tokens[1+(t<<1)];return Qg.getTokenType(i)};t.prototype.getForeground=function(t){var i=this._tokens[1+(t<<1)];return Qg.getForeground(i)};t.prototype.getClassName=function(t){var i=this._tokens[1+(t<<1)];return Qg.getClassNameFromMetadata(i)};t.prototype.getInlineStyle=function(t,i){var n=this._tokens[1+(t<<1)];return Qg.getInlineStyleFromMetadata(n,i)};t.prototype.getPresentation=function(t){var i=this._tokens[1+(t<<1)];return Qg.getPresentationFromMetadata(i)};t.prototype.getEndOffset=function(t){return this._tokens[t<<1]};t.prototype.findTokenIndexAtOffset=function(i){return t.findIndexInTokensArray(this._tokens,i)};t.prototype.inflate=function(){return this};t.prototype.sliceAndInflate=function(t,i,n){return new Ng(this,t,i,n)};t.convertToEndOffset=function(t,i){var n=(t.length>>>1)-1;for(var r=0;r<n;r++)t[r<<1]=t[r+1<<1];t[n<<1]=i};t.findIndexInTokensArray=function(t,i){if(t.length<=2)return 0;var n=0,r=(t.length>>>1)-1;for(;n<r;){var e=n+Math.floor((r-n)/2),o=t[e<<1];if(o===i)return e+1;o<i?n=e+1:o>i&&(r=e)}return n};t.prototype.withInserted=function(i){if(i.length===0)return this;var n=0,r=0,e="";var o=new Array;var s=0;for(;;){var u=n<this._tokensCount?this._tokens[n<<1]:-1,a=r<i.length?i[r]:null;if(u!==-1&&(a===null||u<=a.offset)){e+=this._text.substring(s,u);var c=this._tokens[1+(n<<1)];o.push(e.length,c),n++,s=u}else{if(!a)break;if(a.offset>s){e+=this._text.substring(s,a.offset);var c=this._tokens[1+(n<<1)];o.push(e.length,c),s=a.offset}e+=a.text,o.push(e.length,a.tokenMetadata),r++}}return new t(new Uint32Array(o),e,this._languageIdCodec)};return t}();Og.defaultTokenMetadata=33587200;var Ng=function(){function t(t,i,n,r){this._source=t,this._startOffset=i,this._endOffset=n,this._deltaOffset=r,this._firstTokenIndex=t.findTokenIndexAtOffset(i),this._tokensCount=0;for(var e=this._firstTokenIndex,o=t.getCount();e<o&&!(t.getStartOffset(e)>=n);e++)this._tokensCount++}t.prototype.getMetadata=function(t){return this._source.getMetadata(this._firstTokenIndex+t)};t.prototype.getLanguageId=function(t){return this._source.getLanguageId(this._firstTokenIndex+t)};t.prototype.getLineContent=function(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)};t.prototype.equals=function(i){return i instanceof t&&this._startOffset===i._startOffset&&this._endOffset===i._endOffset&&this._deltaOffset===i._deltaOffset&&this._source.slicedEquals(i._source,this._firstTokenIndex,this._tokensCount)};t.prototype.getCount=function(){return this._tokensCount};t.prototype.getForeground=function(t){return this._source.getForeground(this._firstTokenIndex+t)};t.prototype.getEndOffset=function(t){var i=this._source.getEndOffset(this._firstTokenIndex+t);return Math.min(this._endOffset,i)-this._startOffset+this._deltaOffset};t.prototype.getClassName=function(t){return this._source.getClassName(this._firstTokenIndex+t)};t.prototype.getInlineStyle=function(t,i){return this._source.getInlineStyle(this._firstTokenIndex+t,i)};t.prototype.getPresentation=function(t){return this._source.getPresentation(this._firstTokenIndex+t)};t.prototype.findTokenIndexAtOffset=function(t){return this._source.findTokenIndexAtOffset(t+this._startOffset-this._deltaOffset)-this._firstTokenIndex};return t}();var Rg=function(){function t(t,i,n,r){this.startColumn=t,this.endColumn=i,this.className=n,this.type=r,this._lineDecorationBrand=void 0}t._equals=function(t,i){return t.startColumn===i.startColumn&&t.endColumn===i.endColumn&&t.className===i.className&&t.type===i.type};t.equalsArr=function(i,n){var r=i.length;if(r!==n.length)return!1;for(var e=0;e<r;e++)if(!t._equals(i[e],n[e]))return!1;return!0};t.extractWrapped=function(i,n,r){if(i.length===0)return i;var e=n+1,o=r+1,s=r-n,u=[];var a=0;for(var c=0,h=i;c<h.length;c++){var f=h[c];f.endColumn<=e||f.startColumn>=o||(u[a++]=new t(Math.max(1,f.startColumn-e+1),Math.min(s+1,f.endColumn-e+1),f.className,f.type))}return u};t.filter=function(i,n,r,e){if(i.length===0)return[];var o=[];var s=0;for(var u=0,a=i.length;u<a;u++){var c=i[u],h=c.range;if(h.endLineNumber<n||h.startLineNumber>n||h.isEmpty()&&(c.type===0||c.type===3))continue;var f=h.startLineNumber===n?h.startColumn:r,l=h.endLineNumber===n?h.endColumn:e;o[s++]=new t(f,l,c.inlineClassName,c.type)}return o};t._typeCompare=function(t,i){var n=[2,0,1,3];return n[t]-n[i]};t.compare=function(i,n){if(i.startColumn!==n.startColumn)return i.startColumn-n.startColumn;if(i.endColumn!==n.endColumn)return i.endColumn-n.endColumn;var r=t._typeCompare(i.type,n.type);return r!==0?r:i.className!==n.className?i.className<n.className?-1:1:0};return t}();var Tg=function(){function t(t,i,n,r){this.startOffset=t,this.endOffset=i,this.className=n,this.metadata=r}return t}();var Lg=function(){function t(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}t._metadata=function(t){var i=0;for(var n=0,r=t.length;n<r;n++)i|=t[n];return i};t.prototype.consumeLowerThan=function(i,n,r){for(;this.count>0&&this.stopOffsets[0]<i;){var e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;r.push(new Tg(n,this.stopOffsets[e],this.classNames.join(" "),t._metadata(this.metadata))),n=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&n<i&&(r.push(new Tg(n,i-1,this.classNames.join(" "),t._metadata(this.metadata))),n=i),n};t.prototype.insert=function(t,i,n){if(this.count===0||this.stopOffsets[this.count-1]<=t)this.stopOffsets.push(t),this.classNames.push(i),this.metadata.push(n);else for(var r=0;r<this.count;r++)if(this.stopOffsets[r]>=t){this.stopOffsets.splice(r,0,t),this.classNames.splice(r,0,i),this.metadata.splice(r,0,n);break}this.count++};return t}();var jg=function(){function t(){}t.normalize=function(t,i){if(i.length===0)return[];var n=[],r=new Lg;var e=0;for(var o=0,s=i.length;o<s;o++){var u=i[o];var a=u.startColumn,c=u.endColumn;var h=u.className,f=u.type===1?2:u.type===2?4:0;a>1&&Jo(t.charCodeAt(a-2))&&a--,c>1&&Jo(t.charCodeAt(c-2))&&c--;var l=a-1,d=c-2;e=r.consumeLowerThan(l,e,n),r.count===0&&(e=l),r.insert(d,h,f)}return r.consumeLowerThan(1073741824,e,n),n};return t}();var zg=function(){function t(t,i,n,r){this.endIndex=t,this.type=i,this.metadata=n,this.containsRTL=r,this._linePartBrand=void 0}t.prototype.isWhitespace=function(){return!!(1&this.metadata)};t.prototype.isPseudoAfter=function(){return!!(4&this.metadata)};return t}();var Ug=function(){function t(t,i){this.startOffset=t,this.endOffset=i}t.prototype.equals=function(t){return this.startOffset===t.startOffset&&this.endOffset===t.endOffset};return t}();var Hg=function(){function t(t,i,n,r,e,o,s,u,a,c,h,f,l,d,v,A,g,w,p){this.useMonospaceOptimizations=t,this.canUseHalfwidthRightwardsArrow=i,this.lineContent=n,this.continuesWithWrappedLine=r,this.isBasicASCII=e,this.containsRTL=o,this.fauxIndentLength=s,this.lineTokens=u,this.lineDecorations=a.sort(Rg.compare),this.tabSize=c,this.startVisibleColumn=h,this.spaceWidth=f,this.stopRenderingLineAfter=v,this.renderWhitespace=A==="all"?4:A==="boundary"?1:A==="selection"?2:A==="trailing"?3:0,this.renderControlCharacters=g,this.fontLigatures=w,this.selectionsOnLine=p&&p.sort((function(t,i){return t.startOffset<i.startOffset?-1:1})),Math.abs(d-f)<Math.abs(l-f)?(this.renderSpaceWidth=d,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=l,this.renderSpaceCharCode=183)}t.prototype.sameSelection=function(t){if(this.selectionsOnLine===null)return t===null;if(t===null||t.length!==this.selectionsOnLine.length)return!1;for(var i=0;i<this.selectionsOnLine.length;i++)if(!this.selectionsOnLine[i].equals(t[i]))return!1;return!0};t.prototype.equals=function(t){return this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineContent===t.lineContent&&this.continuesWithWrappedLine===t.continuesWithWrappedLine&&this.isBasicASCII===t.isBasicASCII&&this.containsRTL===t.containsRTL&&this.fauxIndentLength===t.fauxIndentLength&&this.tabSize===t.tabSize&&this.startVisibleColumn===t.startVisibleColumn&&this.spaceWidth===t.spaceWidth&&this.renderSpaceWidth===t.renderSpaceWidth&&this.renderSpaceCharCode===t.renderSpaceCharCode&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.fontLigatures===t.fontLigatures&&Rg.equalsArr(this.lineDecorations,t.lineDecorations)&&this.lineTokens.equals(t.lineTokens)&&this.sameSelection(t.selectionsOnLine)};return t}();var Yg=function(){function t(t,i){this.partIndex=t,this.charIndex=i}return t}();var Jg=function(){function t(t,i){this.length=t,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}t.getPartIndex=function(t){return(4294901760&t)>>>16};t.getCharIndex=function(t){return(65535&t)>>>0};t.prototype.setColumnInfo=function(t,i,n,r){var e=(i<<16|n)>>>0;this._data[t-1]=e,this._horizontalOffset[t-1]=r};t.prototype.getHorizontalOffset=function(t){return this._horizontalOffset.length===0?0:this._horizontalOffset[t-1]};t.prototype.charOffsetToPartData=function(t){return this.length===0?0:t<0?this._data[0]:t>=this.length?this._data[this.length-1]:this._data[t]};t.prototype.getDomPosition=function(i){var n=this.charOffsetToPartData(i-1),r=t.getPartIndex(n),e=t.getCharIndex(n);return new Yg(r,e)};t.prototype.getColumn=function(t,i){return this.partDataToCharOffset(t.partIndex,i,t.charIndex)+1};t.prototype.partDataToCharOffset=function(i,n,r){if(this.length===0)return 0;var e=(i<<16|r)>>>0;var o=0,s=this.length-1;for(;o+1<s;){var u=o+s>>>1,a=this._data[u];if(a===e)return u;a>e?s=u:o=u}if(o===s)return o;var c=this._data[o],h=this._data[s];if(c===e)return o;if(h===e)return s;var f=t.getPartIndex(c),l=t.getCharIndex(c);var d;return d=f!==t.getPartIndex(h)?n:t.getCharIndex(h),r-l<=d-r?o:s};return t}();var Pg=function(){function t(t,i,n){this._renderLineOutputBrand=void 0,this.characterMapping=t,this.containsRTL=i,this.containsForeignElements=n}return t}();function Wg(t,i){if(t.lineContent.length===0){if(t.lineDecorations.length>0){i.appendString("<span>");var n=0,r=0,e=0;for(var o=0,s=t.lineDecorations;o<s.length;o++){var u=s[o];u.type!==1&&u.type!==2||(i.appendString('<span class="'),i.appendString(u.className),i.appendString('"></span>'),u.type===1&&(e|=1,n++),u.type===2&&(e|=2,r++))}i.appendString("</span>");var a=new Jg(1,n+r);return a.setColumnInfo(1,n,0,0),new Pg(a,!1,e)}return i.appendString("<span><span></span></span>"),new Pg(new Jg(0,0),!1,0)}return function(t,i){var n=t.fontIsMonospace,r=t.canUseHalfwidthRightwardsArrow,e=t.containsForeignElements,o=t.lineContent,s=t.len,u=t.isOverflowing,a=t.overflowingCharCount,c=t.parts,h=t.fauxIndentLength,f=t.tabSize,l=t.startVisibleColumn,d=t.containsRTL,v=t.spaceWidth,A=t.renderSpaceCharCode,g=t.renderWhitespace,w=t.renderControlCharacters,p=new Jg(s+1,c.length);var m=!1,b=0,y=l,k=0,x=0,E=0;d?i.appendString('<span dir="ltr">'):i.appendString("<span>");for(var B=0,C=c.length;B<C;B++){var D=c[B],M=D.endIndex,_=D.type,F=D.containsRTL,S=g!==0&&D.isWhitespace(),I=S&&!n&&(_==="mtkw"||!e),Q=b===M&&D.isPseudoAfter();if(k=0,i.appendString("<span "),F&&i.appendString('style="unicode-bidi:isolate" '),i.appendString('class="'),i.appendString(I?"mtkz":_),i.appendASCIICharCode(34),S){var O=0;{var N=b,R=y;for(;N<M;N++){var T=0|(o.charCodeAt(N)===9?f-R%f:1);O+=T,N>=h&&(R+=T)}}for(I&&(i.appendString(' style="width:'),i.appendString(String(v*O)),i.appendString('px"')),i.appendASCIICharCode(62);b<M;b++){p.setColumnInfo(b+1,B-E,k,x),E=0;var N=void 0,R=void 0;if(o.charCodeAt(b)===9){N=f-y%f|0,R=N,!r||R>1?i.appendCharCode(8594):i.appendCharCode(65515);for(var T=2;T<=R;T++)i.appendCharCode(160)}else N=2,R=1,i.appendCharCode(A),i.appendCharCode(8204);k+=N,x+=R,b>=h&&(y+=R)}}else for(i.appendASCIICharCode(62);b<M;b++){p.setColumnInfo(b+1,B-E,k,x),E=0;var O=o.charCodeAt(b);var N=1,R=1;switch(O){case 9:N=f-y%f,R=N;for(var T=1;T<=N;T++)i.appendCharCode(160);break;case 32:i.appendCharCode(160);break;case 60:i.appendString("&lt;");break;case 62:i.appendString("&gt;");break;case 38:i.appendString("&amp;");break;case 0:w?i.appendCharCode(9216):i.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:i.appendCharCode(65533);break;default:es(O)&&R++,w&&O<32?i.appendCharCode(9216+O):w&&O===127?i.appendCharCode(9249):w&&Xg(O)?(i.appendString("[U+"),i.appendString(qg(O)),i.appendString("]"),N=8,R=N):i.appendCharCode(O)}k+=N,x+=R,b>=h&&(y+=R)}Q?E++:E=0,b>=s&&!m&&D.isPseudoAfter()&&(m=!0,p.setColumnInfo(b+1,B,k,x)),i.appendString("</span>")}return m||p.setColumnInfo(s+1,c.length-1,k,x),u&&(i.appendString('<span class="mtkoverflow">'),i.appendString(Bt(0,"Show more ({0})",function(t){return t<1024?Bt(0,"{0} chars",t):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1024/1024).toFixed(1)," MB")}(a))),i.appendString("</span>")),i.appendString("</span>"),new Pg(p,d,e)}(function(t){var i=t.lineContent;var n,r,e;t.stopRenderingLineAfter!==-1&&t.stopRenderingLineAfter<i.length?(n=!0,r=i.length-t.stopRenderingLineAfter,e=t.stopRenderingLineAfter):(n=!1,r=0,e=i.length);var o=function(t,i,n,r,e){var o=[];var s=0;r>0&&(o[s++]=new zg(r,"",0,!1));var u=r;for(var a=0,c=n.getCount();a<c;a++){var h=n.getEndOffset(a);if(h<=r)continue;var f=n.getClassName(a);if(h>=e){var l=!!i&&$o(t.substring(u,e));o[s++]=new zg(e,f,0,l);break}var d=!!i&&$o(t.substring(u,h));o[s++]=new zg(h,f,0,d),u=h}return o}(i,t.containsRTL,t.lineTokens,t.fauxIndentLength,e);t.renderControlCharacters&&!t.isBasicASCII&&(o=function(t,i){var n=[];var r=new zg(0,"",0,!1),e=0;for(var o=0,s=i;o<s.length;o++){var u=s[o];var a=u.endIndex;for(;e<a;e++)Xg(t.charCodeAt(e))&&(e>r.endIndex&&(r=new zg(e,u.type,u.metadata,u.containsRTL),n.push(r)),r=new zg(e+1,"mtkcontrol",u.metadata,!1),n.push(r));e>r.endIndex&&(r=new zg(a,u.type,u.metadata,u.containsRTL),n.push(r))}return n}(i,o)),(t.renderWhitespace===4||t.renderWhitespace===1||t.renderWhitespace===2&&t.selectionsOnLine||t.renderWhitespace===3&&!t.continuesWithWrappedLine)&&(o=function(t,i,n,r){var e=t.continuesWithWrappedLine,o=t.fauxIndentLength,s=t.tabSize,u=t.startVisibleColumn,a=t.useMonospaceOptimizations,c=t.selectionsOnLine,h=t.renderWhitespace===1,f=t.renderWhitespace===3,l=t.renderSpaceWidth!==t.spaceWidth,d=[];var v=0,A=0,g=r[A].type,w=r[A].containsRTL,p=r[A].endIndex;var m=r.length;var b,y=!1,k=Fo(i);k===-1?(y=!0,k=n,b=n):b=Io(i);var x=!1,E=0,B=c&&c[E],C=u%s;for(var D=o;D<n;D++){var M=i.charCodeAt(D);var _=void 0;if(B&&D>=B.endOffset&&(E++,B=c&&c[E]),D<k||D>b)_=!0;else if(M===9)_=!0;else if(M===32)if(h)if(x)_=!0;else{var F=D+1<n?i.charCodeAt(D+1):0;_=F===32||F===9}else _=!0;else _=!1;if(_&&c&&(_=!!B&&B.startOffset<=D&&B.endOffset>D),_&&f&&(_=y||D>b),_&&w&&D>=k&&D<=b&&(_=!1),x){if(!_||!a&&C>=s){if(l)for(var F=(v>0?d[v-1].endIndex:o)+1;F<=D;F++)d[v++]=new zg(F,"mtkw",1,!1);else d[v++]=new zg(D,"mtkw",1,!1);C%=s}}else(D===p||_&&D>o)&&(d[v++]=new zg(D,g,0,w),C%=s);for(M===9?C=s:es(M)?C+=2:C++,x=_;D===p&&(A++,A<m);)g=r[A].type,w=r[A].containsRTL,p=r[A].endIndex}var S=!1;if(x)if(e&&h){var D=n>0?i.charCodeAt(n-1):0,M=n>1?i.charCodeAt(n-2):0;D===32&&M!==32&&M!==9||(S=!0)}else S=!0;if(S)if(l)for(var D=(v>0?d[v-1].endIndex:o)+1;D<=n;D++)d[v++]=new zg(D,"mtkw",1,!1);else d[v++]=new zg(n,"mtkw",1,!1);else d[v++]=new zg(n,g,0,w);return d}(t,i,e,o));var s=0;if(t.lineDecorations.length>0){for(var u=0,a=t.lineDecorations.length;u<a;u++){var c=t.lineDecorations[u];c.type===3||c.type===1?s|=1:c.type===2&&(s|=2)}o=function(t,i,n,r){r.sort(Rg.compare);var e=jg.normalize(t,r),o=e.length;var s=0;var u=[];var a=0,c=0;for(var h=0,f=n.length;h<f;h++){var l=n[h],d=l.endIndex,v=l.type,A=l.metadata,g=l.containsRTL;for(;s<o&&e[s].startOffset<d;){var w=e[s];if(w.startOffset>c&&(c=w.startOffset,u[a++]=new zg(c,v,A,g)),!(w.endOffset+1<=d)){c=d,u[a++]=new zg(c,v+" "+w.className,A|w.metadata,g);break}c=w.endOffset+1,u[a++]=new zg(c,v+" "+w.className,A|w.metadata,g),s++}d>c&&(c=d,u[a++]=new zg(c,v,A,g))}var p=n[n.length-1].endIndex;if(s<o&&e[s].startOffset===p)for(;s<o&&e[s].startOffset===p;){var h=e[s];u[a++]=new zg(c,h.className,h.metadata,!1),s++}return u}(i,0,o,t.lineDecorations)}return t.containsRTL||(o=function(t,i,n){var r=0;var e=[];var o=0;if(n)for(var s=0,u=i.length;s<u;s++){var a=i[s],c=a.endIndex;if(r+50<c){var h=a.type,f=a.metadata,l=a.containsRTL;var d=-1,v=r;for(var A=r;A<c;A++)t.charCodeAt(A)===32&&(d=A),d!==-1&&A-v>=50&&(e[o++]=new zg(d+1,h,f,l),v=d+1,d=-1);v!==c&&(e[o++]=new zg(c,h,f,l))}else e[o++]=a;r=c}else for(var s=0,u=i.length;s<u;s++){var a=i[s],c=a.endIndex,h=c-r;if(h>50){var f=a.type,l=a.metadata,d=a.containsRTL,v=Math.ceil(h/50);for(var A=1;A<v;A++){var g=r+50*A;e[o++]=new zg(g,f,l,d)}e[o++]=new zg(c,f,l,d)}else e[o++]=a;r=c}return e}(i,o,!t.isBasicASCII||t.fontLigatures)),new Kg(t.useMonospaceOptimizations,t.canUseHalfwidthRightwardsArrow,i,e,n,r,o,s,t.fauxIndentLength,t.tabSize,t.startVisibleColumn,t.containsRTL,t.spaceWidth,t.renderSpaceCharCode,t.renderWhitespace,t.renderControlCharacters)}(t),i)}var Gg=function(){function t(t,i,n,r){this.characterMapping=t,this.html=i,this.containsRTL=n,this.containsForeignElements=r}return t}();function Vg(t){var i=new Wl(1e4),n=Wg(t,i);return new Gg(n.characterMapping,i.build(),n.containsRTL,n.containsForeignElements)}var Kg=function(){function t(t,i,n,r,e,o,s,u,a,c,h,f,l,d,v,A){this.fontIsMonospace=t,this.canUseHalfwidthRightwardsArrow=i,this.lineContent=n,this.len=r,this.isOverflowing=e,this.overflowingCharCount=o,this.parts=s,this.containsForeignElements=u,this.fauxIndentLength=a,this.tabSize=c,this.startVisibleColumn=h,this.containsRTL=f,this.spaceWidth=l,this.renderSpaceCharCode=d,this.renderWhitespace=v,this.renderControlCharacters=A}return t}();function Xg(t){return t<32?t!==9:t===127||t>=8234&&t<=8238||t>=8294&&t<=8297||t>=8206&&t<=8207||t===1564}function qg(t){return t.toString(16).toUpperCase().padStart(4,"0")}var Zg=function(){function t(t,i,n,r){this._viewportBrand=void 0,this.top=0|t,this.left=0|i,this.width=0|n,this.height=0|r}return t}();var $g=function(){function t(t,i){this.tabSize=t,this.data=i}return t}();var tw=function(){function t(t,i,n,r,e,o,s){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=i,this.minColumn=n,this.maxColumn=r,this.startVisibleColumn=e,this.tokens=o,this.inlineDecorations=s}return t}();var iw=function(){function t(i,n,r,e,o,s,u,a,c,h){this.minColumn=i,this.maxColumn=n,this.content=r,this.continuesWithWrappedLine=e,this.isBasicASCII=t.isBasicASCII(r,s),this.containsRTL=t.containsRTL(r,this.isBasicASCII,o),this.tokens=u,this.inlineDecorations=a,this.tabSize=c,this.startVisibleColumn=h}t.isBasicASCII=function(t,i){return!i||is(t)};t.containsRTL=function(t,i,n){return!(i||!n)&&$o(t)};return t}();var nw=function(){function t(t,i,n){this.range=t,this.inlineClassName=i,this.type=n}return t}();var rw=function(){function t(t,i,n,r){this.startOffset=t,this.endOffset=i,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=r}t.prototype.toInlineDecoration=function(t){return new nw(new Zr(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)};return t}();var ew=function(){function t(t,i){this._viewModelDecorationBrand=void 0,this.range=t,this.options=i}return t}();var ow=function(){function t(t,i,n){this.color=t,this.zIndex=i,this.data=n}t.compareByRenderingProps=function(t,i){return t.zIndex===i.zIndex?t.color<i.color?-1:t.color>i.color?1:0:t.zIndex-i.zIndex};t.equals=function(t,i){return t.color===i.color&&t.zIndex===i.zIndex&&_(t.data,i.data)};t.equalsArr=function(i,n){return _(i,n,t.equals)};return t}();function sw(t){return!function(t){return Array.isArray(t)}(t)}function uw(t){return typeof t=="string"}function aw(t){return!uw(t)}function cw(t){return!t}function hw(t,i){return t.ignoreCase&&i?i.toLowerCase():i}function fw(t){return t.replace(/[&<>'"_]/g,"-")}function lw(t,i){return new Error("".concat(t.languageId,": ").concat(i))}function dw(t,i,n,r,e){var o=null;return i.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(i,s,u,a,c,h,f,l,d){return cw(u)?cw(a)?!cw(c)&&c<r.length?hw(t,r[c]):!cw(f)&&t&&typeof t[f]=="string"?t[f]:(o===null&&(o=e.split("."),o.unshift(e)),!cw(h)&&h<o.length?hw(t,o[h]):""):hw(t,n):"$"}))}function vw(t,i){var n=i;for(;n&&n.length>0;){var r=t.tokenizer[n];if(r)return r;var e=n.lastIndexOf(".");n=e<0?null:n.substr(0,e)}return null}var Aw,gw=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},ww=function(t,i){return function(n,r){i(n,r,t)}};var pw=function(){function t(t){this._maxCacheDepth=t,this._entries=Object.create(null)}t.create=function(t,i){return this._INSTANCE.create(t,i)};t.prototype.create=function(t,i){if(t!==null&&t.depth>=this._maxCacheDepth)return new mw(t,i);var n=mw.getStackElementId(t);n.length>0&&(n+="|"),n+=i;var r=this._entries[n];return r||(r=new mw(t,i),this._entries[n]=r,r)};return t}();pw._INSTANCE=new pw(5);var mw=function(){function t(t,i){this.parent=t,this.state=i,this.depth=(this.parent?this.parent.depth:0)+1}t.getStackElementId=function(t){var i="";for(;t!==null;)i.length>0&&(i+="|"),i+=t.state,t=t.parent;return i};t._equals=function(t,i){for(;t!==null&&i!==null;){if(t===i)return!0;if(t.state!==i.state)return!1;t=t.parent,i=i.parent}return t===null&&i===null};t.prototype.equals=function(i){return t._equals(this,i)};t.prototype.push=function(t){return pw.create(this,t)};t.prototype.pop=function(){return this.parent};t.prototype.popall=function(){var t=this;for(;t.parent;)t=t.parent;return t};t.prototype.switchTo=function(t){return pw.create(this.parent,t)};return t}();var bw=function(){function t(t,i){this.languageId=t,this.state=i}t.prototype.equals=function(t){return this.languageId===t.languageId&&this.state.equals(t.state)};t.prototype.clone=function(){return this.state.clone()===this.state?this:new t(this.languageId,this.state)};return t}();var yw=function(){function t(t){this._maxCacheDepth=t,this._entries=Object.create(null)}t.create=function(t,i){return this._INSTANCE.create(t,i)};t.prototype.create=function(t,i){if(i!==null)return new kw(t,i);if(t!==null&&t.depth>=this._maxCacheDepth)return new kw(t,i);var n=mw.getStackElementId(t);var r=this._entries[n];return r||(r=new kw(t,null),this._entries[n]=r,r)};return t}();yw._INSTANCE=new yw(5);var kw=function(){function t(t,i){this.stack=t,this.embeddedLanguageData=i}t.prototype.clone=function(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:yw.create(this.stack,this.embeddedLanguageData)};t.prototype.equals=function(i){return i instanceof t&&!!this.stack.equals(i.stack)&&(this.embeddedLanguageData===null&&i.embeddedLanguageData===null||this.embeddedLanguageData!==null&&i.embeddedLanguageData!==null&&this.embeddedLanguageData.equals(i.embeddedLanguageData))};return t}();var xw=function(){function t(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}t.prototype.enterLanguage=function(t){this._languageId=t};t.prototype.emit=function(t,i){this._lastTokenType===i&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=i,this._lastTokenLanguage=this._languageId,this._tokens.push(new oe(t,i,this._languageId)))};t.prototype.nestedLanguageTokenize=function(t,i,n,r){var e=n.languageId,o=n.state,s=ye.get(e);if(!s)return this.enterLanguage(e),this.emit(r,""),o;var u=s.tokenize(t,i,o);if(r!==0)for(var a=0,c=u.tokens;a<c.length;a++){var h=c[a];this._tokens.push(new oe(h.offset+r,h.type,h.language))}else this._tokens=this._tokens.concat(u.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,u.endState};t.prototype.finalize=function(t){return new se(this._tokens,t)};return t}();var Ew=function(){function t(t,i){this._languageService=t,this._theme=i,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}t.prototype.enterLanguage=function(t){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(t)};t.prototype.emit=function(t,i){var n=1024|this._theme.match(this._currentLanguageId,i);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(t),this._tokens.push(n))};t._merge=function(t,i,n){var r=t!==null?t.length:0,e=i.length,o=n!==null?n.length:0;if(r===0&&e===0&&o===0)return new Uint32Array(0);if(r===0&&e===0)return n;if(e===0&&o===0)return t;var s=new Uint32Array(r+e+o);t!==null&&s.set(t);for(var u=0;u<e;u++)s[r+u]=i[u];return n!==null&&s.set(n,r+e),s};t.prototype.nestedLanguageTokenize=function(i,n,r,e){var o=r.languageId,s=r.state,u=ye.get(o);if(!u)return this.enterLanguage(o),this.emit(e,""),s;var a=u.tokenizeEncoded(i,n,s);if(e!==0)for(var c=0,h=a.tokens.length;c<h;c+=2)a.tokens[c]+=e;return this._prependTokens=t._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState};t.prototype.finalize=function(i){return new ue(t._merge(this._prependTokens,this._tokens,null),i)};return t}();var Bw=Aw=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._configurationService=o,s._languageService=i,s._standaloneThemeService=n,s._languageId=r,s._lexer=e,s._embeddedLanguages=Object.create(null),s.embeddedLoaded=Promise.resolve(void 0);var u=!1;s._register(ye.onDidChange((function(t){if(u)return;var i=!1;for(var n=0,r=t.changedLanguages.length;n<r;n++){var e=t.changedLanguages[n];if(s._embeddedLanguages[e]){i=!0;break}}i&&(u=!0,ye.handleChange([s._languageId]),u=!1)}))),s._maxTokenizationLineLength=s._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:s._languageId}),s._register(s._configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration("editor.maxTokenizationLineLength")&&(s._maxTokenizationLineLength=s._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:s._languageId}))})));return s}i.prototype.getLoadStatus=function(){var t=[];for(var n in this._embeddedLanguages){var r=ye.get(n);if(r){if(r instanceof i){var e=r.getLoadStatus();e.loaded===!1&&t.push(e.promise)}}else ye.isResolved(n)||t.push(ye.getOrCreate(n))}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then((function(t){}))}};i.prototype.getInitialState=function(){var t=pw.create(null,this._lexer.start);return yw.create(t,null)};i.prototype.tokenize=function(t,i,n){if(t.length>=this._maxTokenizationLineLength)return Sg(this._languageId,n);var r=new xw,e=this._tokenize(t,i,n,r);return r.finalize(e)};i.prototype.tokenizeEncoded=function(t,i,n){if(t.length>=this._maxTokenizationLineLength)return Ig(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),n);var r=new Ew(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),e=this._tokenize(t,i,n,r);return r.finalize(e)};i.prototype._tokenize=function(t,i,n,r){return n.embeddedLanguageData?this._nestedTokenize(t,i,n,0,r):this._myTokenize(t,i,n,0,r)};i.prototype._findLeavingNestedLanguageOffset=function(t,i){var n=this._lexer.tokenizer[i.stack.state];if(!n&&(n=vw(this._lexer,i.stack.state),!n))throw lw(this._lexer,"tokenizer state is not defined: "+i.stack.state);var r=-1,e=!1;for(var o=0,s=n;o<s.length;o++){var u=s[o];if(!aw(u.action)||u.action.nextEmbedded!=="@pop")continue;e=!0;var a=u.resolveRegex(i.stack.state);var c=a.source;if(c.substr(0,4)==="^(?:"&&c.substr(c.length-1,1)===")"){var h=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(c.substr(4,c.length-5),h)}var f=t.search(a);f===-1||f!==0&&u.matchOnlyAtLineStart||(r===-1||f<r)&&(r=f)}if(!e)throw lw(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+i.stack.state);return r};i.prototype._nestedTokenize=function(t,i,n,r,e){var o=this._findLeavingNestedLanguageOffset(t,n);if(o===-1){var s=e.nestedLanguageTokenize(t,i,n.embeddedLanguageData,r);return yw.create(n.stack,new bw(n.embeddedLanguageData.languageId,s))}var u=t.substring(0,o);u.length>0&&e.nestedLanguageTokenize(u,!1,n.embeddedLanguageData,r);var a=t.substring(o);return this._myTokenize(a,i,n,r+o,e)};i.prototype._safeRuleName=function(t){return t?t.name:"(unknown)"};i.prototype._myTokenize=function(t,i,n,r,e){var o=this;e.enterLanguage(this._languageId);var s=t.length,u=i&&this._lexer.includeLF?t+"\n":t,a=u.length;var c=n.embeddedLanguageData,h=n.stack,f=0,l=null,d=!0;for(;d||f<a;){var v=f,A=h.depth,g=l?l.groups.length:0,w=h.state;var p=null,m=null,b=null,y=null,k=null;if(l){p=l.matches;var x=l.groups.shift();m=x.matched,b=x.action,y=l.rule,l.groups.length===0&&(l=null)}else{if(!d&&f>=a)break;d=!1;var x=this._lexer.tokenizer[w];if(!x&&(x=vw(this._lexer,w),!x))throw lw(this._lexer,"tokenizer state is not defined: "+w);var E=u.substr(f);for(var B=0,C=x;B<C.length;B++){var D=C[B];if((f===0||!D.matchOnlyAtLineStart)&&(p=E.match(D.resolveRegex(w)),p)){m=p[0],b=D.action;break}}}if(p||(p=[""],m=""),b||(f<a&&(p=[u.charAt(f)],m=p[0]),b=this._lexer.defaultToken),m===null)break;for(f+=m.length;sw(b)&&aw(b)&&b.test;)b=b.test(m,p,w,f===a);var M=null;if(typeof b=="string"||Array.isArray(b))M=b;else if(b.group)M=b.group;else if(b.token!==null&&b.token!==void 0){if(M=b.tokenSubst?dw(this._lexer,b.token,m,p,w):b.token,b.nextEmbedded)if(b.nextEmbedded==="@pop"){if(!c)throw lw(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw lw(this._lexer,"cannot enter embedded language from within an embedded language");k=dw(this._lexer,b.nextEmbedded,m,p,w)}if(b.goBack&&(f=Math.max(0,f-b.goBack)),b.switchTo&&typeof b.switchTo=="string"){var x=dw(this._lexer,b.switchTo,m,p,w);if(x[0]==="@"&&(x=x.substr(1)),!vw(this._lexer,x))throw lw(this._lexer,"trying to switch to a state '"+x+"' that is undefined in rule: "+this._safeRuleName(y));h=h.switchTo(x)}else{if(b.transform&&typeof b.transform=="function")throw lw(this._lexer,"action.transform not supported");if(b.next)if(b.next==="@push"){if(h.depth>=this._lexer.maxStack)throw lw(this._lexer,"maximum tokenizer stack size reached: ["+h.state+","+h.parent.state+",...]");h=h.push(w)}else if(b.next==="@pop"){if(h.depth<=1)throw lw(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(y));h=h.pop()}else if(b.next==="@popall")h=h.popall();else{var x=dw(this._lexer,b.next,m,p,w);if(x[0]==="@"&&(x=x.substr(1)),!vw(this._lexer,x))throw lw(this._lexer,"trying to set a next state '"+x+"' that is undefined in rule: "+this._safeRuleName(y));h=h.push(x)}}b.log&&typeof b.log=="string"&&(F=this._lexer,S=this._lexer.languageId+": "+dw(this._lexer,b.log,m,p,w),console.log("".concat(F.languageId,": ").concat(S)))}if(M===null)throw lw(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(y));var _=function(n){var s=o._languageService.getLanguageIdByLanguageName(n)||o._languageService.getLanguageIdByMimeType(n)||n,u=o._getNestedEmbeddedLanguageData(s);if(f<a){var c=t.substr(f);return o._nestedTokenize(c,i,yw.create(h,u),r+f,e)}return yw.create(h,u)};if(Array.isArray(M)){if(l&&l.groups.length>0)throw lw(this._lexer,"groups cannot be nested: "+this._safeRuleName(y));if(p.length!==M.length+1)throw lw(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(y));var x=0;for(var E=1;E<p.length;E++)x+=p[E].length;if(x!==m.length)throw lw(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(y));l={rule:y,matches:p,groups:[]};for(var E=0;E<M.length;E++)l.groups[E]={action:M[E],matched:p[E+1]};f-=m.length}else{{if(M==="@rematch"&&(f-=m.length,m="",p=null,M="",k!==null))return _(k);if(m.length===0){if(a===0||A!==h.depth||w!==h.state||(l?l.groups.length:0)!==g)continue;throw lw(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(y))}var x=null;if(uw(M)&&M.indexOf("@brackets")===0){var E=M.substr(9),D=Cw(this._lexer,m);if(!D)throw lw(this._lexer,"@brackets token returned but no bracket defined as: "+m);x=fw(D.token+E)}else x=fw(M===""?"":M+this._lexer.tokenPostfix);v<s&&e.emit(v+r,x)}if(k!==null)return _(k)}}var F,S;return yw.create(h,c)};i.prototype._getNestedEmbeddedLanguageData=function(t){if(!this._languageService.isRegisteredLanguageId(t))return new bw(t,Fg);t!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(t),ye.getOrCreate(t),this._embeddedLanguages[t]=!0);var i=ye.get(t);return new bw(t,i?i.getInitialState():Fg)};return i}(Cn);function Cw(t,i){if(!i)return null;i=hw(t,i);var n=t.brackets;for(var r=0,e=n;r<e.length;r++){var o=e[r];if(o.open===i)return{token:o.token,bracketType:1};if(o.close===i)return{token:o.token,bracketType:-1}}return null}Bw=Aw=gw([ww(4,sd)],Bw);var Dw=ml("standaloneColorizer",{createHTML:function(t){return t}});var Mw=function(){function t(){}t.colorizeElement=function(t,i,n,r){var e=(r=r||{}).theme||"vs",o=r.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();var s=i.getLanguageIdByMimeType(o)||o;t.setTheme(e);var u=n.firstChild?n.firstChild.nodeValue:"";return n.className+=" "+e,this.colorize(i,u||"",s,r).then((function(t){var i;var r=(i=Dw==null?void 0:Dw.createHTML(t))!==null&&i!==void 0?i:t;n.innerHTML=r}),(function(t){return console.error(t)}))};t.colorize=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:e=t.languageIdCodec;o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),us(i)&&(i=i.substr(1));s=_o(i);if(!t.isRegisteredLanguageId(n))return[2,_w(s,o,e)];return[4,ye.getOrCreate(n)];case 1:u=a.sent();return[2,u?function(t,i,n,r){return new Promise((function(e,o){var s=function(){var u=function(t,i,n,r){var e=[],o=n.getInitialState();for(var s=0,u=t.length;s<u;s++){var a=t[s],c=n.tokenizeEncoded(a,!0,o);Og.convertToEndOffset(c.tokens,a.length);var h=new Og(c.tokens,a,r),f=iw.isBasicASCII(a,!0),l=iw.containsRTL(a,f,!0),d=Vg(new Hg(!1,!0,a,!1,f,l,0,h.inflate(),[],i,0,0,0,0,-1,"none",!1,!1,null));e=e.concat(d.html),e.push("<br/>"),o=c.endState}return e.join("")}(t,i,n,r);if(n instanceof Bw){var a=n.getLoadStatus();if(a.loaded===!1)return void a.promise.then(s,o)}e(u)};s()}))}(s,o,u,e):_w(s,o,e)]}}))}))};t.colorizeLine=function(t,i,n,r,e){if(e===void 0){e=4}var o=iw.isBasicASCII(t,i),s=iw.containsRTL(t,o,n);return Vg(new Hg(!1,!0,t,!1,o,s,0,r,[],e,0,0,0,0,-1,"none",!1,!1,null)).html};t.colorizeModelLine=function(t,i,n){if(n===void 0){n=4}var r=t.getLineContent(i);t.tokenization.forceTokenization(i);var e=t.tokenization.getLineTokens(i).inflate();return this.colorizeLine(r,t.mightContainNonBasicASCII(),t.mightContainRTL(),e,n)};return t}();function _w(t,i,n){var r=[];var e=new Uint32Array(2);e[0]=0,e[1]=33587200;for(var o=0,s=t.length;o<s;o++){var u=t[o];e[0]=u.length;var a=new Og(e,u,n),c=iw.isBasicASCII(u,!0),h=iw.containsRTL(u,c,!0),f=Vg(new Hg(!1,!0,u,!1,c,h,0,a,[],i,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(f.html),r.push("<br/>")}return r.join("")}var Fw=2e4;var Sw,Iw,Qw,Ow,Nw;function Rw(t){Sw&&(Iw.textContent!==t?(Ia(Qw),Lw(Iw,t)):(Ia(Iw),Lw(Qw,t)))}function Tw(t){Sw&&(Ow.textContent!==t?(Ia(Nw),Lw(Ow,t)):(Ia(Ow),Lw(Nw,t)))}function Lw(t,i){Ia(t),i.length>Fw&&(i=i.substr(0,Fw)),t.textContent=i,t.style.visibility="hidden",t.style.visibility="visible"}var jw=lh("markerDecorationsService");var zw=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Uw=function(t,i){return function(n,r){i(n,r,t)}};var Hw=function(){function t(t,i){}t.prototype.dispose=function(){};return t}();Hw.ID="editor.contrib.markerDecorations",Hw=zw([Uw(1,jw)],Hw),il(Hw.ID,Hw,0);var Yw=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._onDidChange=r._register(new Ln),r.onDidChange=r._onDidChange.event,r._referenceDomElement=i,r._width=-1,r._height=-1,r._resizeObserver=null,r.measureReferenceDomElement(!1,n);return r}i.prototype.dispose=function(){this.stopObserving(),t.prototype.dispose.call(this)};i.prototype.getWidth=function(){return this._width};i.prototype.getHeight=function(){return this._height};i.prototype.startObserving=function(){var t=this;if(!this._resizeObserver&&this._referenceDomElement){var i=null;var n=function(){i?t.observe({width:i.width,height:i.height}):t.observe()};var r=!1,e=!1;var o=function(){if(r&&!e)try{r=!1,e=!0,n()}finally{Ua(ka(t._referenceDomElement),(function(){e=!1,o()}))}};this._resizeObserver=new ResizeObserver((function(t){i=t&&t[0]&&t[0].contentRect?{width:t[0].contentRect.width,height:t[0].contentRect.height}:null,r=!0,o()})),this._resizeObserver.observe(this._referenceDomElement)}};i.prototype.stopObserving=function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)};i.prototype.observe=function(t){this.measureReferenceDomElement(!0,t)};i.prototype.measureReferenceDomElement=function(t,i){var n=0,r=0;i?(n=i.width,r=i.height):this._referenceDomElement&&(n=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),n=Math.max(5,n),r=Math.max(5,r),this._width===n&&this._height===r||(this._width=n,this._height=r,t&&this._onDidChange.fire())};return i}(Cn);var Jw=function(){function t(t,i){this.key=t,this.migrate=i}t.prototype.apply=function(i){var n=t._read(i,this.key);this.migrate(n,(function(n){return t._read(i,n)}),(function(n,r){return t._write(i,n,r)}))};t._read=function(t,i){if(t===void 0)return;var n=i.indexOf(".");if(n>=0){var r=i.substring(0,n);return this._read(t[r],i.substring(n+1))}return t[i]};t._write=function(t,i,n){var r=i.indexOf(".");if(r>=0){var e=i.substring(0,r);return t[e]=t[e]||{},void this._write(t[e],i.substring(r+1),n)}t[i]=n};return t}();function Pw(t,i){Jw.items.push(new Jw(t,i))}function Ww(t,i){Pw(t,(function(n,r,e){if(n!==void 0){for(var o=0,s=i;o<s.length;o++){var u=s[o],a=u[0],c=u[1];if(n===a)return void e(t,c)}}}))}Jw.items=[],Ww("wordWrap",[[!0,"on"],[!1,"off"]]),Ww("lineNumbers",[[!0,"on"],[!1,"off"]]),Ww("cursorBlinking",[["visible","solid"]]),Ww("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),Ww("renderLineHighlight",[[!0,"line"],[!1,"none"]]),Ww("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),Ww("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),Ww("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),Ww("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),Ww("autoIndent",[[!1,"advanced"],[!0,"full"]]),Ww("matchBrackets",[[!0,"always"],[!1,"never"]]),Ww("renderFinalNewline",[[!0,"on"],[!1,"off"]]),Ww("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),Ww("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),Ww("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),Pw("autoClosingBrackets",(function(t,i,n){t===!1&&(n("autoClosingBrackets","never"),i("autoClosingQuotes")===void 0&&n("autoClosingQuotes","never"),i("autoSurround")===void 0&&n("autoSurround","never"))})),Pw("renderIndentGuides",(function(t,i,n){t!==void 0&&(n("renderIndentGuides",void 0),i("guides.indentation")===void 0&&n("guides.indentation",!!t))})),Pw("highlightActiveIndentGuide",(function(t,i,n){t!==void 0&&(n("highlightActiveIndentGuide",void 0),i("guides.highlightActiveIndentation")===void 0&&n("guides.highlightActiveIndentation",!!t))}));var Gw={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Pw("suggest.filteredTypes",(function(t,i,n){if(t&&typeof t=="object"){for(var r=0,e=Object.entries(Gw);r<e.length;r++){var o=e[r];t[o[0]]===!1&&i("suggest.".concat(o[1]))===void 0&&n("suggest.".concat(o[1]),!1)}n("suggest.filteredTypes",void 0)}})),Pw("quickSuggestions",(function(t,i,n){if(typeof t=="boolean"){var r=t?"on":"off";n("quickSuggestions",{comments:r,strings:r,other:r})}})),Pw("experimental.stickyScroll.enabled",(function(t,i,n){typeof t=="boolean"&&(n("experimental.stickyScroll.enabled",void 0),i("stickyScroll.enabled")===void 0&&n("stickyScroll.enabled",t))})),Pw("experimental.stickyScroll.maxLineCount",(function(t,i,n){typeof t=="number"&&(n("experimental.stickyScroll.maxLineCount",void 0),i("stickyScroll.maxLineCount")===void 0&&n("stickyScroll.maxLineCount",t))})),Pw("codeActionsOnSave",(function(t,i,n){if(t&&typeof t=="object"){var r=!1;var e={};for(var o=0,s=Object.entries(t);o<s.length;o++){var u=s[o];typeof u[1]=="boolean"?(r=!0,e[u[0]]=u[1]?"explicit":"never"):e[u[0]]=u[1]}r&&n("codeActionsOnSave",e)}})),Pw("codeActionWidget.includeNearbyQuickfixes",(function(t,i,n){typeof t=="boolean"&&(n("codeActionWidget.includeNearbyQuickfixes",void 0),i("codeActionWidget.includeNearbyQuickFixes")===void 0&&n("codeActionWidget.includeNearbyQuickFixes",t))})),Pw("lightbulb.enabled",(function(t,i,n){typeof t=="boolean"&&n("lightbulb.enabled",t?void 0:"off")}));var Vw=new(function(){function t(){this._tabFocus=!1,this._onDidChangeTabFocus=new Ln,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}t.prototype.getTabFocusMode=function(){return this._tabFocus};t.prototype.setTabFocusMode=function(t){this._tabFocus=t,this._onDidChangeTabFocus.fire(this._tabFocus)};return t}()),Kw=lh("accessibilityService"),Xw=new cf("accessibilityModeEnabled",!1);var qw=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Zw=function(t,i){return function(n,r){i(n,r,t)}};var $w=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._accessibilityService=e,o._onDidChange=o._register(new Ln),o.onDidChange=o._onDidChange.event,o._onDidChangeFast=o._register(new Ln),o.onDidChangeFast=o._onDidChangeFast.event,o._isDominatedByLongLines=!1,o._viewLineCount=1,o._lineNumbersDigitCount=1,o._reservedHeight=0,o._glyphMarginDecorationLaneCount=1,o._computeOptionsMemory=new Ei,o.isSimpleWidget=i,o._containerObserver=o._register(new Yw(r,n.dimension)),o._targetWindowId=ka(r).vscodeWindowId,o._rawOptions=ep(n),o._validatedOptions=rp.validateOptions(o._rawOptions),o.options=o._computeOptions(),o.options.get(13)&&o._containerObserver.startObserving(),o._register(eh.onDidChangeZoomLevel((function(){return o._recomputeOptions()}))),o._register(Vw.onDidChangeTabFocus((function(){return o._recomputeOptions()}))),o._register(o._containerObserver.onDidChange((function(){return o._recomputeOptions()}))),o._register(ch.onDidChange((function(){return o._recomputeOptions()}))),o._register(qc.getInstance(ka(r)).onDidChange((function(){return o._recomputeOptions()}))),o._register(o._accessibilityService.onDidChangeScreenReaderOptimized((function(){return o._recomputeOptions()})));return o}i.prototype._recomputeOptions=function(){var t=this._computeOptions(),i=rp.checkEquals(this.options,t);i!==null&&(this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i))};i.prototype._computeOptions=function(){var t=this._readEnvConfiguration(),i=sh.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),n=this._readFontInfo(i),r={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:n,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:Vw.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return rp.computeOptions(this._validatedOptions,r)};i.prototype._readEnvConfiguration=function(){return{extraEditorClassName:tp(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:ms||ps,pixelRatio:qc.getInstance(Da(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}};i.prototype._readFontInfo=function(t){return ch.readFontInfo(Da(this._targetWindowId,!0).window,t)};i.prototype.getRawOptions=function(){return this._rawOptions};i.prototype.updateOptions=function(t){var i=ep(t);rp.applyUpdate(this._rawOptions,i)&&(this._validatedOptions=rp.validateOptions(this._rawOptions),this._recomputeOptions())};i.prototype.observeContainer=function(t){this._containerObserver.observe(t)};i.prototype.setIsDominatedByLongLines=function(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())};i.prototype.setModelLineCount=function(t){var i=function(t){var i=0;for(;t;)t=Math.floor(t/10),i++;return i||1}(t);this._lineNumbersDigitCount!==i&&(this._lineNumbersDigitCount=i,this._recomputeOptions())};i.prototype.setViewLineCount=function(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())};i.prototype.setReservedHeight=function(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())};i.prototype.setGlyphMarginDecorationLaneCount=function(t){this._glyphMarginDecorationLaneCount!==t&&(this._glyphMarginDecorationLaneCount=t,this._recomputeOptions())};return i}(Cn);function tp(){var t="";return ys||ks||(t+="no-user-select "),ys&&(t+="no-minimap-shadow ",t+="enable-user-select "),Gt&&(t+="mac "),t}$w=qw([Zw(3,Kw)],$w);var ip=function(){function t(){this._values=[]}t.prototype._read=function(t){return this._values[t]};t.prototype.get=function(t){return this._values[t]};t.prototype._write=function(t,i){this._values[t]=i};return t}();var np=function(){function t(){this._values=[]}t.prototype._read=function(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]};t.prototype.get=function(t){return this._read(t)};t.prototype._write=function(t,i){this._values[t]=i};return t}();var rp=function(){function t(){}t.validateOptions=function(t){var i=new ip;for(var n=0,r=on;n<r.length;n++){var e=r[n];var o=e.name==="_never_"?void 0:t[e.name];i._write(e.id,e.validate(o))}return i};t.computeOptions=function(t,i){var n=new np;for(var r=0,e=on;r<e.length;r++){var o=e[r];n._write(o.id,o.compute(i,n,t._read(o.id)))}return n};t._deepEquals=function(i,n){if(typeof i!="object"||typeof n!="object"||!i||!n)return i===n;if(Array.isArray(i)||Array.isArray(n))return!(!Array.isArray(i)||!Array.isArray(n))&&_(i,n);if(Object.keys(i).length!==Object.keys(n).length)return!1;for(var r in i)if(!t._deepEquals(i[r],n[r]))return!1;return!0};t.checkEquals=function(i,n){var r=[];var e=!1;for(var o=0,s=on;o<s.length;o++){var u=s[o];var a=!t._deepEquals(i._read(u.id),n._read(u.id));r[u.id]=a,a&&(e=!0)}return e?new xi(r):null};t.applyUpdate=function(t,i){var n=!1;for(var r=0,e=on;r<e.length;r++){var o=e[r];if(i.hasOwnProperty(o.name)){var s=o.applyUpdate(t[o.name],i[o.name]);t[o.name]=s.newValue,n=n||s.didChange}}return n};return t}();function ep(t){var i=gt(t);return function(t){Jw.items.forEach((function(i){return i.apply(t)}))}(i),i}var op;(function(t){var i={total:0,min:Number.MAX_VALUE,max:0},n=__assign({},i),r=__assign({},i),e=__assign({},i);var o=0;var s={keydown:0,input:0,render:0};function u(){s.keydown===1&&(performance.mark("keydown/end"),s.keydown=2)}function a(){performance.mark("input/start"),s.input=1,f()}function c(){s.input===1&&(performance.mark("input/end"),s.input=2)}function h(){s.render===1&&(performance.mark("render/end"),s.render=2)}function f(){setTimeout(l)}function l(){s.keydown===2&&s.input===2&&s.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),d("keydown",i),d("input",n),d("render",r),d("inputlatency",e),o++,performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),s.keydown=0,s.input=0,s.render=0)}function d(t,i){var n=performance.getEntriesByName(t)[0].duration;i.total+=n,i.min=Math.min(i.min,n),i.max=Math.max(i.max,n)}function v(t){return{average:t.total/o,max:t.max,min:t.min}}function A(t){t.total=0,t.min=Number.MAX_VALUE,t.max=0}t.onKeyDown=function(){l(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),s.keydown=1,queueMicrotask(u)},t.onBeforeInput=a,t.onInput=function(){s.input===0&&a(),queueMicrotask(c)},t.onKeyUp=function(){l()},t.onSelectionChange=function(){l()},t.onRenderStart=function(){s.keydown===2&&s.input===2&&s.render===0&&(performance.mark("render/start"),s.render=1,queueMicrotask(h),f())},t.getAndClearMeasurements=function(){if(o===0)return;var t={keydown:v(i),input:v(n),render:v(r),total:v(e),sampleCount:o};return A(i),A(n),A(r),A(e),o=0,t}})(op||(op={}));var sp=function(){function t(){this._hooks=new Bn,this._pointerMoveCallback=null,this._onStopCallback=null}t.prototype.dispose=function(){this.stopMonitoring(!1),this._hooks.dispose()};t.prototype.stopMonitoring=function(t,i){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;var n=this._onStopCallback;this._onStopCallback=null,t&&n&&n(i)};t.prototype.isMonitoring=function(){return!!this._pointerMoveCallback};t.prototype.startMonitoring=function(t,i,n,r,e){var o=this;this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=e;var s=t;try{t.setPointerCapture(i),this._hooks.add(En((function(){try{t.releasePointerCapture(i)}catch(t){}})))}catch(i){s=ka(t)}this._hooks.add(Oa(s,Ec.POINTER_MOVE,(function(t){t.buttons===n?(t.preventDefault(),o._pointerMoveCallback(t)):o.stopMonitoring(!0)}))),this._hooks.add(Oa(s,Ec.POINTER_UP,(function(t){return o.stopMonitoring(!0)})))};return t}();function up(t){return"--vscode-".concat(t.replace(/\./g,"-"))}function ap(t){return"var(".concat(up(t),")")}var cp="base.contributions.colors",hp=new(function(){function t(){this._onDidChangeSchema=new Ln,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}t.prototype.registerColor=function(t,i,n,r,e){if(r===void 0){r=!1}var o={id:t,description:n,defaults:i,needsTransparency:r,deprecationMessage:e};this.colorsById[t]=o;var s={type:"string",description:n,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return e&&(s.deprecationMessage=e),r&&(s.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",s.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[t]=s,this.colorReferenceSchema.enum.push(t),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),t};t.prototype.getColors=function(){var t=this;return Object.keys(this.colorsById).map((function(i){return t.colorsById[i]}))};t.prototype.resolveDefaultColor=function(t,i){var n=this.colorsById[t];if(n&&n.defaults)return wp(n.defaults[i.type],i)};t.prototype.getColorSchema=function(){return this.colorSchema};t.prototype.toString=function(){var t=this;return Object.keys(this.colorsById).sort((function(t,i){var n=t.indexOf(".")===-1?0:1,r=i.indexOf(".")===-1?0:1;return n!==r?n-r:t.localeCompare(i)})).map((function(i){return"- `".concat(i,"`: ").concat(t.colorsById[i].description)})).join("\n")};return t}());function fp(t,i,n,r,e){return hp.registerColor(t,i,n,r,e)}function lp(t,i){return{op:0,value:t,factor:i}}function dp(t,i){return{op:1,value:t,factor:i}}function vp(t,i){return{op:2,value:t,factor:i}}function Ap(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return{op:4,values:t}}function gp(t,i,n,r){return{op:5,value:t,background:i,factor:n,transparency:r}}function wp(t,i){if(t!==null)return typeof t=="string"?t[0]==="#"?ZA.fromHex(t):i.getColor(t):t instanceof ZA?t:typeof t=="object"?function(t,i){var n,r,e,o;switch(t.op){case 0:return(n=wp(t.value,i))===null||n===void 0?void 0:n.darken(t.factor);case 1:return(r=wp(t.value,i))===null||r===void 0?void 0:r.lighten(t.factor);case 2:return(e=wp(t.value,i))===null||e===void 0?void 0:e.transparent(t.factor);case 3:{var s=wp(t.background,i);return s?(o=wp(t.value,i))===null||o===void 0?void 0:o.makeOpaque(s):wp(t.value,i)}case 4:for(var u=0,a=t.values;u<a.length;u++){var s=a[u];var c=wp(s,i);if(c)return c}return;case 6:return wp(i.defines(t.if)?t.then:t.else,i);case 5:{var s=wp(t.value,i);if(!s)return;var c=wp(t.background,i);return c?s.isDarkerThan(c)?ZA.getLighterColor(s,c,t.factor).transparent(t.transparency):ZA.getDarkerColor(s,c,t.factor).transparent(t.transparency):s.transparent(t.factor*t.transparency)}default:throw wf()}}(t,i):void 0}yf.add(cp,hp);var pp="vscode://schemas/workbench-colors",mp=yf.as(pd);mp.registerSchema(pp,hp.getColorSchema());var bp=new qs((function(){return mp.notifySchemaChanged(pp)}),200);hp.onDidChangeSchema((function(){bp.isScheduled()||bp.schedule()}));var yp=fp("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},Bt(0,"Overall foreground color. This color is only used if not overridden by a component."));fp("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},Bt(0,"Overall foreground for disabled elements. This color is only used if not overridden by a component.")),fp("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},Bt(0,"Overall foreground color for error messages. This color is only used if not overridden by a component.")),fp("descriptionForeground",{light:"#717171",dark:vp(yp,.7),hcDark:vp(yp,.7),hcLight:vp(yp,.7)},Bt(0,"Foreground color for description text providing additional information, for example for a label."));var kp=fp("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},Bt(0,"The default color for icons in the workbench.")),xp=fp("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},Bt(0,"Overall border color for focused elements. This color is only used if not overridden by a component.")),Ep=fp("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},Bt(0,"An extra border around elements to separate them from others for greater contrast.")),Bp=fp("contrastActiveBorder",{light:null,dark:null,hcDark:xp,hcLight:xp},Bt(0,"An extra border around active elements to separate them from others for greater contrast."));fp("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},Bt(0,"The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));var Cp=fp("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},Bt(0,"Foreground color for links in text."));fp("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},Bt(0,"Foreground color for links in text when clicked on and on mouse hover.")),fp("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:ZA.black,hcLight:"#292929"},Bt(0,"Color for text separators.")),fp("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},Bt(0,"Foreground color for preformatted text segments.")),fp("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},Bt(0,"Background color for preformatted text segments.")),fp("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},Bt(0,"Background color for block quotes in text.")),fp("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:ZA.white,hcLight:"#292929"},Bt(0,"Border color for block quotes in text.")),fp("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:ZA.black,hcLight:"#F2F2F2"},Bt(0,"Background color for code blocks in text.")),fp("sash.hoverBorder",{dark:xp,light:xp,hcDark:xp,hcLight:xp},Bt(0,"Border color of active sashes."));var Dp=fp("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:ZA.black,hcLight:"#0F4A85"},Bt(0,"Badge background color. Badges are small information labels, e.g. for search results count.")),Mp=fp("badge.foreground",{dark:ZA.white,light:"#333",hcDark:ZA.white,hcLight:ZA.white},Bt(0,"Badge foreground color. Badges are small information labels, e.g. for search results count.")),_p=fp("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},Bt(0,"Scrollbar shadow to indicate that the view is scrolled.")),Fp=fp("scrollbarSlider.background",{dark:ZA.fromHex("#797979").transparent(.4),light:ZA.fromHex("#646464").transparent(.4),hcDark:vp(Ep,.6),hcLight:vp(Ep,.4)},Bt(0,"Scrollbar slider background color.")),Sp=fp("scrollbarSlider.hoverBackground",{dark:ZA.fromHex("#646464").transparent(.7),light:ZA.fromHex("#646464").transparent(.7),hcDark:vp(Ep,.8),hcLight:vp(Ep,.8)},Bt(0,"Scrollbar slider background color when hovering.")),Ip=fp("scrollbarSlider.activeBackground",{dark:ZA.fromHex("#BFBFBF").transparent(.4),light:ZA.fromHex("#000000").transparent(.6),hcDark:Ep,hcLight:Ep},Bt(0,"Scrollbar slider background color when clicked on.")),Qp=fp("progressBar.background",{dark:ZA.fromHex("#0E70C0"),light:ZA.fromHex("#0E70C0"),hcDark:Ep,hcLight:Ep},Bt(0,"Background color of the progress bar that can show for long running operations.")),Op=fp("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Editor background color.")),Np=fp("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:ZA.white,hcLight:yp},Bt(0,"Editor default foreground color."));fp("editorStickyScroll.background",{light:Op,dark:Op,hcDark:Op,hcLight:Op},Bt(0,"Background color of sticky scroll in the editor")),fp("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:ZA.fromHex("#0F4A85").transparent(.1)},Bt(0,"Background color of sticky scroll on hover in the editor")),fp("editorStickyScroll.border",{dark:null,light:null,hcDark:Ep,hcLight:Ep},Bt(0,"Border color of sticky scroll in the editor")),fp("editorStickyScroll.shadow",{dark:_p,light:_p,hcDark:_p,hcLight:_p},Bt(0," Shadow color of sticky scroll in the editor"));var Rp=fp("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:ZA.white},Bt(0,"Background color of editor widgets, such as find/replace.")),Tp=fp("editorWidget.foreground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"Foreground color of editor widgets, such as find/replace.")),Lp=fp("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Ep,hcLight:Ep},Bt(0,"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));fp("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},Bt(0,"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),fp("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);var jp=fp("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},Bt(0,"Foreground color of error squigglies in the editor.")),zp=fp("editorError.border",{dark:null,light:null,hcDark:ZA.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},Bt(0,"If set, color of double underlines for errors in the editor.")),Up=fp("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Hp=fp("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},Bt(0,"Foreground color of warning squigglies in the editor.")),Yp=fp("editorWarning.border",{dark:null,light:null,hcDark:ZA.fromHex("#FFCC00").transparent(.8),hcLight:ZA.fromHex("#FFCC00").transparent(.8)},Bt(0,"If set, color of double underlines for warnings in the editor."));fp("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);var Jp=fp("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},Bt(0,"Foreground color of info squigglies in the editor.")),Pp=fp("editorInfo.border",{dark:null,light:null,hcDark:ZA.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},Bt(0,"If set, color of double underlines for infos in the editor.")),Wp=fp("editorHint.foreground",{dark:ZA.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},Bt(0,"Foreground color of hint squigglies in the editor."));fp("editorHint.border",{dark:null,light:null,hcDark:ZA.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},Bt(0,"If set, color of double underlines for hints in the editor."));var Gp=fp("editorLink.activeForeground",{dark:"#4E94CE",light:ZA.blue,hcDark:ZA.cyan,hcLight:"#292929"},Bt(0,"Color of active links.")),Vp=fp("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},Bt(0,"Color of the editor selection.")),Kp=fp("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:ZA.white},Bt(0,"Color of the selected text for high contrast.")),Xp=fp("editor.inactiveSelectionBackground",{light:vp(Vp,.5),dark:vp(Vp,.5),hcDark:vp(Vp,.7),hcLight:vp(Vp,.5)},Bt(0,"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),qp=fp("editor.selectionHighlightBackground",{light:gp(Vp,Op,.3,.6),dark:gp(Vp,Op,.3,.6),hcDark:null,hcLight:null},Bt(0,"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);fp("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Bp,hcLight:Bp},Bt(0,"Border color for regions with the same content as the selection.")),fp("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},Bt(0,"Color of the current search match."));var Zp=fp("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},Bt(0,"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);fp("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},Bt(0,"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),fp("editor.findMatchBorder",{light:null,dark:null,hcDark:Bp,hcLight:Bp},Bt(0,"Border color of the current search match."));var $p=fp("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Bp,hcLight:Bp},Bt(0,"Border color of the other search matches.")),tm=fp("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:vp(Bp,.4),hcLight:vp(Bp,.4)},Bt(0,"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);fp("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},Bt(0,"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);var im=fp("editorHoverWidget.background",{light:Rp,dark:Rp,hcDark:Rp,hcLight:Rp},Bt(0,"Background color of the editor hover."));fp("editorHoverWidget.foreground",{light:Tp,dark:Tp,hcDark:Tp,hcLight:Tp},Bt(0,"Foreground color of the editor hover."));var nm=fp("editorHoverWidget.border",{light:Lp,dark:Lp,hcDark:Lp,hcLight:Lp},Bt(0,"Border color of the editor hover."));fp("editorHoverWidget.statusBarBackground",{dark:dp(im,.2),light:lp(im,.05),hcDark:Rp,hcLight:Rp},Bt(0,"Background color of the editor hover status bar."));var rm=fp("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:ZA.white,hcLight:ZA.black},Bt(0,"Foreground color of inline hints")),em=fp("editorInlayHint.background",{dark:vp(Dp,.1),light:vp(Dp,.1),hcDark:vp(ZA.white,.1),hcLight:vp(Dp,.1)},Bt(0,"Background color of inline hints")),om=fp("editorInlayHint.typeForeground",{dark:rm,light:rm,hcDark:rm,hcLight:rm},Bt(0,"Foreground color of inline hints for types")),sm=fp("editorInlayHint.typeBackground",{dark:em,light:em,hcDark:em,hcLight:em},Bt(0,"Background color of inline hints for types")),um=fp("editorInlayHint.parameterForeground",{dark:rm,light:rm,hcDark:rm,hcLight:rm},Bt(0,"Foreground color of inline hints for parameters")),am=fp("editorInlayHint.parameterBackground",{dark:em,light:em,hcDark:em,hcLight:em},Bt(0,"Background color of inline hints for parameters")),cm=fp("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},Bt(0,"The color used for the lightbulb actions icon."));fp("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Bt(0,"The color used for the lightbulb auto fix actions icon.")),fp("editorLightBulbAi.foreground",{dark:cm,light:cm,hcDark:cm,hcLight:cm},Bt(0,"The color used for the lightbulb AI icon.")),fp("editor.snippetTabstopHighlightBackground",{dark:new ZA(new KA(124,124,124,.3)),light:new ZA(new KA(10,50,100,.2)),hcDark:new ZA(new KA(124,124,124,.3)),hcLight:new ZA(new KA(10,50,100,.2))},Bt(0,"Highlight background color of a snippet tabstop.")),fp("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Highlight border color of a snippet tabstop.")),fp("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Highlight background color of the final tabstop of a snippet.")),fp("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new ZA(new KA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},Bt(0,"Highlight border color of the final tabstop of a snippet."));var hm=new ZA(new KA(155,185,85,.2)),fm=new ZA(new KA(255,0,0,.2)),lm=fp("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},Bt(0,"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),dm=fp("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},Bt(0,"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);fp("diffEditor.insertedLineBackground",{dark:hm,light:hm,hcDark:null,hcLight:null},Bt(0,"Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),fp("diffEditor.removedLineBackground",{dark:fm,light:fm,hcDark:null,hcLight:null},Bt(0,"Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),fp("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color for the margin where lines got inserted.")),fp("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color for the margin where lines got removed."));var vm=fp("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Diff overview ruler foreground for inserted content.")),Am=fp("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Diff overview ruler foreground for removed content."));fp("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},Bt(0,"Outline color for the text that got inserted.")),fp("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},Bt(0,"Outline color for text that got removed.")),fp("diffEditor.border",{dark:null,light:null,hcDark:Ep,hcLight:Ep},Bt(0,"Border color between the two text editors.")),fp("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},Bt(0,"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),fp("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},Bt(0,"The background color of unchanged blocks in the diff editor.")),fp("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},Bt(0,"The foreground color of unchanged blocks in the diff editor.")),fp("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},Bt(0,"The background color of unchanged code in the diff editor."));var gm=fp("widget.shadow",{dark:vp(ZA.black,.36),light:vp(ZA.black,.16),hcDark:null,hcLight:null},Bt(0,"Shadow color of widgets such as find/replace inside the editor.")),wm=fp("widget.border",{dark:null,light:null,hcDark:Ep,hcLight:Ep},Bt(0,"Border color of widgets such as find/replace inside the editor.")),pm=fp("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},Bt(0,"Toolbar background when hovering over actions using the mouse"));fp("toolbar.hoverOutline",{dark:null,light:null,hcDark:Bp,hcLight:Bp},Bt(0,"Toolbar outline when hovering over actions using the mouse")),fp("toolbar.activeBackground",{dark:dp(pm,.1),light:lp(pm,.1),hcDark:null,hcLight:null},Bt(0,"Toolbar background when holding the mouse over actions"));var mm=fp("breadcrumb.foreground",{light:vp(yp,.8),dark:vp(yp,.8),hcDark:vp(yp,.8),hcLight:vp(yp,.8)},Bt(0,"Color of focused breadcrumb items.")),bm=fp("breadcrumb.background",{light:Op,dark:Op,hcDark:Op,hcLight:Op},Bt(0,"Background color of breadcrumb items.")),ym=fp("breadcrumb.focusForeground",{light:lp(yp,.2),dark:dp(yp,.1),hcDark:dp(yp,.1),hcLight:dp(yp,.1)},Bt(0,"Color of focused breadcrumb items.")),km=fp("breadcrumb.activeSelectionForeground",{light:lp(yp,.2),dark:dp(yp,.1),hcDark:dp(yp,.1),hcLight:dp(yp,.1)},Bt(0,"Color of selected breadcrumb items."));fp("breadcrumbPicker.background",{light:Rp,dark:Rp,hcDark:Rp,hcLight:Rp},Bt(0,"Background color of breadcrumb item picker."));var xm=ZA.fromHex("#40C8AE").transparent(.5),Em=ZA.fromHex("#40A6FF").transparent(.5),Bm=ZA.fromHex("#606060").transparent(.4),Cm=.4,Dm=fp("merge.currentHeaderBackground",{dark:xm,light:xm,hcDark:null,hcLight:null},Bt(0,"Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);fp("merge.currentContentBackground",{dark:vp(Dm,Cm),light:vp(Dm,Cm),hcDark:vp(Dm,Cm),hcLight:vp(Dm,Cm)},Bt(0,"Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);var Mm=fp("merge.incomingHeaderBackground",{dark:Em,light:Em,hcDark:null,hcLight:null},Bt(0,"Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);fp("merge.incomingContentBackground",{dark:vp(Mm,Cm),light:vp(Mm,Cm),hcDark:vp(Mm,Cm),hcLight:vp(Mm,Cm)},Bt(0,"Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);var _m=fp("merge.commonHeaderBackground",{dark:Bm,light:Bm,hcDark:null,hcLight:null},Bt(0,"Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);fp("merge.commonContentBackground",{dark:vp(_m,Cm),light:vp(_m,Cm),hcDark:vp(_m,Cm),hcLight:vp(_m,Cm)},Bt(0,"Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);var Fm=fp("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},Bt(0,"Border color on headers and the splitter in inline merge-conflicts."));fp("editorOverviewRuler.currentContentForeground",{dark:vp(Dm,1),light:vp(Dm,1),hcDark:Fm,hcLight:Fm},Bt(0,"Current overview ruler foreground for inline merge-conflicts.")),fp("editorOverviewRuler.incomingContentForeground",{dark:vp(Mm,1),light:vp(Mm,1),hcDark:Fm,hcLight:Fm},Bt(0,"Incoming overview ruler foreground for inline merge-conflicts.")),fp("editorOverviewRuler.commonContentForeground",{dark:vp(_m,1),light:vp(_m,1),hcDark:Fm,hcLight:Fm},Bt(0,"Common ancestor overview ruler foreground for inline merge-conflicts."));var Sm=fp("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},Bt(0,"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Im=fp("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},Bt(0,"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Qm=fp("problemsErrorIcon.foreground",{dark:jp,light:jp,hcDark:jp,hcLight:jp},Bt(0,"The color used for the problems error icon.")),Om=fp("problemsWarningIcon.foreground",{dark:Hp,light:Hp,hcDark:Hp,hcLight:Hp},Bt(0,"The color used for the problems warning icon.")),Nm=fp("problemsInfoIcon.foreground",{dark:Jp,light:Jp,hcDark:Jp,hcLight:Jp},Bt(0,"The color used for the problems info icon.")),Rm=fp("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},Bt(0,"Minimap marker color for find matches."),!0),Tm=fp("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},Bt(0,"Minimap marker color for repeating editor selections."),!0),Lm=fp("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},Bt(0,"Minimap marker color for the editor selection."),!0),jm=fp("minimap.infoHighlight",{dark:Jp,light:Jp,hcDark:Pp,hcLight:Pp},Bt(0,"Minimap marker color for infos.")),zm=fp("minimap.warningHighlight",{dark:Hp,light:Hp,hcDark:Yp,hcLight:Yp},Bt(0,"Minimap marker color for warnings.")),Um=fp("minimap.errorHighlight",{dark:new ZA(new KA(255,18,18,.7)),light:new ZA(new KA(255,18,18,.7)),hcDark:new ZA(new KA(255,50,50,1)),hcLight:"#B5200D"},Bt(0,"Minimap marker color for errors.")),Hm=fp("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Minimap background color.")),Ym=fp("minimap.foregroundOpacity",{dark:ZA.fromHex("#000f"),light:ZA.fromHex("#000f"),hcDark:ZA.fromHex("#000f"),hcLight:ZA.fromHex("#000f")},Bt(0,'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));fp("minimapSlider.background",{light:vp(Fp,.5),dark:vp(Fp,.5),hcDark:vp(Fp,.5),hcLight:vp(Fp,.5)},Bt(0,"Minimap slider background color.")),fp("minimapSlider.hoverBackground",{light:vp(Sp,.5),dark:vp(Sp,.5),hcDark:vp(Sp,.5),hcLight:vp(Sp,.5)},Bt(0,"Minimap slider background color when hovering.")),fp("minimapSlider.activeBackground",{light:vp(Ip,.5),dark:vp(Ip,.5),hcDark:vp(Ip,.5),hcLight:vp(Ip,.5)},Bt(0,"Minimap slider background color when clicked on.")),fp("charts.foreground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color used in charts.")),fp("charts.lines",{dark:vp(yp,.5),light:vp(yp,.5),hcDark:vp(yp,.5),hcLight:vp(yp,.5)},Bt(0,"The color used for horizontal lines in charts.")),fp("charts.red",{dark:jp,light:jp,hcDark:jp,hcLight:jp},Bt(0,"The red color used in chart visualizations.")),fp("charts.blue",{dark:Jp,light:Jp,hcDark:Jp,hcLight:Jp},Bt(0,"The blue color used in chart visualizations.")),fp("charts.yellow",{dark:Hp,light:Hp,hcDark:Hp,hcLight:Hp},Bt(0,"The yellow color used in chart visualizations.")),fp("charts.orange",{dark:Rm,light:Rm,hcDark:Rm,hcLight:Rm},Bt(0,"The orange color used in chart visualizations.")),fp("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},Bt(0,"The green color used in chart visualizations.")),fp("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Bt(0,"The purple color used in chart visualizations."));var Jm=fp("input.background",{dark:"#3C3C3C",light:ZA.white,hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Input box background.")),Pm=fp("input.foreground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"Input box foreground.")),Wm=fp("input.border",{dark:null,light:null,hcDark:Ep,hcLight:Ep},Bt(0,"Input box border.")),Gm=fp("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Ep,hcLight:Ep},Bt(0,"Border color of activated options in input fields."));fp("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},Bt(0,"Background color of activated options in input fields."));var Vm=fp("inputOption.activeBackground",{dark:vp(xp,.4),light:vp(xp,.2),hcDark:ZA.transparent,hcLight:ZA.transparent},Bt(0,"Background hover color of options in input fields.")),Km=fp("inputOption.activeForeground",{dark:ZA.white,light:ZA.black,hcDark:yp,hcLight:yp},Bt(0,"Foreground color of activated options in input fields."));fp("input.placeholderForeground",{light:vp(yp,.5),dark:vp(yp,.5),hcDark:vp(yp,.7),hcLight:vp(yp,.7)},Bt(0,"Input box foreground color for placeholder text."));var Xm=fp("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Input validation background color for information severity.")),qm=fp("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:yp},Bt(0,"Input validation foreground color for information severity.")),Zm=fp("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Ep,hcLight:Ep},Bt(0,"Input validation border color for information severity.")),$m=fp("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Input validation background color for warning severity.")),tb=fp("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:yp},Bt(0,"Input validation foreground color for warning severity.")),ib=fp("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Ep,hcLight:Ep},Bt(0,"Input validation border color for warning severity.")),nb=fp("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Input validation background color for error severity.")),rb=fp("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:yp},Bt(0,"Input validation foreground color for error severity.")),eb=fp("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Ep,hcLight:Ep},Bt(0,"Input validation border color for error severity.")),ob=fp("dropdown.background",{dark:"#3C3C3C",light:ZA.white,hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Dropdown background.")),sb=fp("dropdown.listBackground",{dark:null,light:null,hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Dropdown list background.")),ub=fp("dropdown.foreground",{dark:"#F0F0F0",light:yp,hcDark:ZA.white,hcLight:yp},Bt(0,"Dropdown foreground.")),ab=fp("dropdown.border",{dark:ob,light:"#CECECE",hcDark:Ep,hcLight:Ep},Bt(0,"Dropdown border.")),cb=fp("button.foreground",{dark:ZA.white,light:ZA.white,hcDark:ZA.white,hcLight:ZA.white},Bt(0,"Button foreground color.")),hb=fp("button.separator",{dark:vp(cb,.4),light:vp(cb,.4),hcDark:vp(cb,.4),hcLight:vp(cb,.4)},Bt(0,"Button separator color.")),fb=fp("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},Bt(0,"Button background color.")),lb=fp("button.hoverBackground",{dark:dp(fb,.2),light:lp(fb,.2),hcDark:fb,hcLight:fb},Bt(0,"Button background color when hovering.")),db=fp("button.border",{dark:Ep,light:Ep,hcDark:Ep,hcLight:Ep},Bt(0,"Button border color.")),vb=fp("button.secondaryForeground",{dark:ZA.white,light:ZA.white,hcDark:ZA.white,hcLight:yp},Bt(0,"Secondary button foreground color.")),Ab=fp("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:ZA.white},Bt(0,"Secondary button background color.")),gb=fp("button.secondaryHoverBackground",{dark:dp(Ab,.2),light:lp(Ab,.2),hcDark:null,hcLight:null},Bt(0,"Secondary button background color when hovering.")),wb=fp("checkbox.background",{dark:ob,light:ob,hcDark:ob,hcLight:ob},Bt(0,"Background color of checkbox widget."));fp("checkbox.selectBackground",{dark:Rp,light:Rp,hcDark:Rp,hcLight:Rp},Bt(0,"Background color of checkbox widget when the element it's in is selected."));var pb=fp("checkbox.foreground",{dark:ub,light:ub,hcDark:ub,hcLight:ub},Bt(0,"Foreground color of checkbox widget.")),mb=fp("checkbox.border",{dark:ab,light:ab,hcDark:ab,hcLight:ab},Bt(0,"Border color of checkbox widget."));fp("checkbox.selectBorder",{dark:kp,light:kp,hcDark:kp,hcLight:kp},Bt(0,"Border color of checkbox widget when the element it's in is selected."));var bb=fp("keybindingLabel.background",{dark:new ZA(new KA(128,128,128,.17)),light:new ZA(new KA(221,221,221,.4)),hcDark:ZA.transparent,hcLight:ZA.transparent},Bt(0,"Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),yb=fp("keybindingLabel.foreground",{dark:ZA.fromHex("#CCCCCC"),light:ZA.fromHex("#555555"),hcDark:ZA.white,hcLight:yp},Bt(0,"Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),kb=fp("keybindingLabel.border",{dark:new ZA(new KA(51,51,51,.6)),light:new ZA(new KA(204,204,204,.4)),hcDark:new ZA(new KA(111,195,223)),hcLight:Ep},Bt(0,"Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),xb=fp("keybindingLabel.bottomBorder",{dark:new ZA(new KA(68,68,68,.6)),light:new ZA(new KA(187,187,187,.4)),hcDark:new ZA(new KA(111,195,223)),hcLight:yp},Bt(0,"Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Eb=fp("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bb=fp("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Cb=fp("list.focusOutline",{dark:xp,light:xp,hcDark:Bp,hcLight:Bp},Bt(0,"List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Db=fp("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Mb=fp("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:ZA.fromHex("#0F4A85").transparent(.1)},Bt(0,"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_b=fp("list.activeSelectionForeground",{dark:ZA.white,light:ZA.white,hcDark:null,hcLight:null},Bt(0,"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fb=fp("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Sb=fp("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:ZA.fromHex("#0F4A85").transparent(.1)},Bt(0,"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ib=fp("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Qb=fp("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ob=fp("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Nb=fp("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Rb=fp("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:ZA.white.transparent(.1),hcLight:ZA.fromHex("#0F4A85").transparent(.1)},Bt(0,"List/Tree background when hovering over items using the mouse.")),Tb=fp("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"List/Tree foreground when hovering over items using the mouse.")),Lb=fp("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},Bt(0,"List/Tree drag and drop background when moving items over other items when using the mouse.")),jb=fp("list.dropBetweenBackground",{dark:kp,light:kp,hcDark:null,hcLight:null},Bt(0,"List/Tree drag and drop border color when moving items between items when using the mouse.")),zb=fp("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:xp,hcLight:xp},Bt(0,"List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ub=fp("list.focusHighlightForeground",{dark:zb,light:(Hb=Mb,Yb=zb,Jb="#BBE7FF",{op:6,if:Hb,then:Yb,else:Jb}),hcDark:zb,hcLight:zb},Bt(0,"List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var Hb,Yb,Jb;fp("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},Bt(0,"List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),fp("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},Bt(0,"Foreground color of list items containing errors.")),fp("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},Bt(0,"Foreground color of list items containing warnings."));var Pb=fp("listFilterWidget.background",{light:lp(Rp,0),dark:dp(Rp,0),hcDark:Rp,hcLight:Rp},Bt(0,"Background color of the type filter widget in lists and trees.")),Wb=fp("listFilterWidget.outline",{dark:ZA.transparent,light:ZA.transparent,hcDark:"#f38518",hcLight:"#007ACC"},Bt(0,"Outline color of the type filter widget in lists and trees.")),Gb=fp("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Ep,hcLight:Ep},Bt(0,"Outline color of the type filter widget in lists and trees, when there are no matches.")),Vb=fp("listFilterWidget.shadow",{dark:gm,light:gm,hcDark:gm,hcLight:gm},Bt(0,"Shadow color of the type filter widget in lists and trees."));fp("list.filterMatchBackground",{dark:Zp,light:Zp,hcDark:null,hcLight:null},Bt(0,"Background color of the filtered match.")),fp("list.filterMatchBorder",{dark:$p,light:$p,hcDark:Ep,hcLight:Bp},Bt(0,"Border color of the filtered match.")),fp("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},Bt(0,"List/Tree foreground color for items that are deemphasized."));var Kb=fp("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},Bt(0,"Tree stroke color for the indentation guides.")),Xb=fp("tree.inactiveIndentGuidesStroke",{dark:vp(Kb,.4),light:vp(Kb,.4),hcDark:vp(Kb,.4),hcLight:vp(Kb,.4)},Bt(0,"Tree stroke color for the indentation guides that are not active.")),qb=fp("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},Bt(0,"Table border color between columns.")),Zb=fp("tree.tableOddRowsBackground",{dark:vp(yp,.04),light:vp(yp,.04),hcDark:null,hcLight:null},Bt(0,"Background color for odd table rows.")),$b=fp("menu.border",{dark:null,light:null,hcDark:Ep,hcLight:Ep},Bt(0,"Border color of menus.")),ty=fp("menu.foreground",{dark:ub,light:ub,hcDark:ub,hcLight:ub},Bt(0,"Foreground color of menu items.")),iy=fp("menu.background",{dark:ob,light:ob,hcDark:ob,hcLight:ob},Bt(0,"Background color of menu items.")),ny=fp("menu.selectionForeground",{dark:_b,light:_b,hcDark:_b,hcLight:_b},Bt(0,"Foreground color of the selected menu item in menus.")),ry=fp("menu.selectionBackground",{dark:Mb,light:Mb,hcDark:Mb,hcLight:Mb},Bt(0,"Background color of the selected menu item in menus.")),ey=fp("menu.selectionBorder",{dark:null,light:null,hcDark:Bp,hcLight:Bp},Bt(0,"Border color of the selected menu item in menus.")),oy=fp("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Ep,hcLight:Ep},Bt(0,"Color of a separator menu item in menus.")),sy=fp("quickInput.background",{dark:Rp,light:Rp,hcDark:Rp,hcLight:Rp},Bt(0,"Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),uy=fp("quickInput.foreground",{dark:Tp,light:Tp,hcDark:Tp,hcLight:Tp},Bt(0,"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),ay=fp("quickInputTitle.background",{dark:new ZA(new KA(255,255,255,.105)),light:new ZA(new KA(0,0,0,.06)),hcDark:"#000000",hcLight:ZA.white},Bt(0,"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),cy=fp("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:ZA.white,hcLight:"#0F4A85"},Bt(0,"Quick picker color for grouping labels.")),hy=fp("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:ZA.white,hcLight:"#0F4A85"},Bt(0,"Quick picker color for grouping borders.")),fy=fp("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,Bt(0,"Please use quickInputList.focusBackground instead")),ly=fp("quickInputList.focusForeground",{dark:_b,light:_b,hcDark:_b,hcLight:_b},Bt(0,"Quick picker foreground color for the focused item.")),dy=fp("quickInputList.focusIconForeground",{dark:Fb,light:Fb,hcDark:Fb,hcLight:Fb},Bt(0,"Quick picker icon foreground color for the focused item.")),vy=fp("quickInputList.focusBackground",{dark:Ap(fy,Mb),light:Ap(fy,Mb),hcDark:null,hcLight:null},Bt(0,"Quick picker background color for the focused item."));fp("search.resultsInfoForeground",{light:yp,dark:vp(yp,.65),hcDark:yp,hcLight:yp},Bt(0,"Color of the text in the search viewlet's completion message.")),fp("searchEditor.findMatchBackground",{light:vp(Zp,.66),dark:vp(Zp,.66),hcDark:Zp,hcLight:Zp},Bt(0,"Color of the Search Editor query matches.")),fp("searchEditor.findMatchBorder",{light:vp($p,.66),dark:vp($p,.66),hcDark:$p,hcLight:$p},Bt(0,"Border color of the Search Editor query matches."));var Ay=function(){function t(t,i){this.x=t,this.y=i,this._pageCoordinatesBrand=void 0}t.prototype.toClientCoordinates=function(t){return new gy(this.x-t.scrollX,this.y-t.scrollY)};return t}();var gy=function(){function t(t,i){this.clientX=t,this.clientY=i,this._clientCoordinatesBrand=void 0}t.prototype.toPageCoordinates=function(t){return new Ay(this.clientX+t.scrollX,this.clientY+t.scrollY)};return t}();var wy=function(){function t(t,i,n,r){this.x=t,this.y=i,this.width=n,this.height=r,this._editorPagePositionBrand=void 0}return t}();var py=function(){function t(t,i){this.x=t,this.y=i,this._positionRelativeToEditorBrand=void 0}return t}();function my(t){var i=Ka(t);return new wy(i.left,i.top,i.width,i.height)}function by(t,i,n){var r=i.width/t.offsetWidth,e=i.height/t.offsetHeight,o=(n.x-i.x)/r,s=(n.y-i.y)/e;return new py(o,s)}var yy=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,ka(r),i)||this,e._editorMouseEventBrand=void 0,e.isFromPointerCapture=n,e.pos=new Ay(e.posx,e.posy),e.editorPos=my(r),e.relativePos=by(r,e.editorPos,e.pos);return e}return i}(Ts);var ky=function(){function t(t){this._editorViewDomNode=t}t.prototype._create=function(t){return new yy(t,!1,this._editorViewDomNode)};t.prototype.onContextMenu=function(t,i){var n=this;return Oa(t,"contextmenu",(function(t){i(n._create(t))}))};t.prototype.onMouseUp=function(t,i){var n=this;return Oa(t,"mouseup",(function(t){i(n._create(t))}))};t.prototype.onMouseDown=function(t,i){var n=this;return Oa(t,Ec.MOUSE_DOWN,(function(t){i(n._create(t))}))};t.prototype.onPointerDown=function(t,i){var n=this;return Oa(t,Ec.POINTER_DOWN,(function(t){i(n._create(t),t.pointerId)}))};t.prototype.onMouseLeave=function(t,i){var n=this;return Oa(t,Ec.MOUSE_LEAVE,(function(t){i(n._create(t))}))};t.prototype.onMouseMove=function(t,i){var n=this;return Oa(t,"mousemove",(function(t){return i(n._create(t))}))};return t}();var xy=function(){function t(t){this._editorViewDomNode=t}t.prototype._create=function(t){return new yy(t,!1,this._editorViewDomNode)};t.prototype.onPointerUp=function(t,i){var n=this;return Oa(t,"pointerup",(function(t){i(n._create(t))}))};t.prototype.onPointerDown=function(t,i){var n=this;return Oa(t,Ec.POINTER_DOWN,(function(t){i(n._create(t),t.pointerId)}))};t.prototype.onPointerLeave=function(t,i){var n=this;return Oa(t,Ec.POINTER_LEAVE,(function(t){i(n._create(t))}))};t.prototype.onPointerMove=function(t,i){var n=this;return Oa(t,"pointermove",(function(t){return i(n._create(t))}))};return t}();var Ey=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editorViewDomNode=i,n._globalPointerMoveMonitor=n._register(new sp),n._keydownListener=null;return n}i.prototype.startMonitoring=function(t,i,n,r,e){var o=this;this._keydownListener=Ra(t.ownerDocument,"keydown",(function(t){t.toKeyCodeChord().isModifierKey()||o._globalPointerMoveMonitor.stopMonitoring(!0,t.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(t,i,n,(function(t){r(new yy(t,!0,o._editorViewDomNode))}),(function(t){o._keydownListener.dispose(),e(t)}))};i.prototype.stopMonitoring=function(){this._globalPointerMoveMonitor.stopMonitoring(!0)};return i}(Cn);var By=function(){function t(i){var n=this;this._editor=i,this._instanceId=++t._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new qs((function(){return n.garbageCollect()}),1e3)}t.prototype.createClassNameRef=function(t){var i=this;var n=this.getOrCreateRule(t);return n.increaseRefCount(),{className:n.className,dispose:function(){n.decreaseRefCount(),i._garbageCollectionScheduler.schedule()}}};t.prototype.getOrCreateRule=function(t){var i=this.computeUniqueKey(t);var n=this._rules.get(i);if(!n){var r=this._counter++;n=new Cy(i,"dyn-rule-".concat(this._instanceId,"-").concat(r),ec(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,t),this._rules.set(i,n)}return n};t.prototype.computeUniqueKey=function(t){return JSON.stringify(t)};t.prototype.garbageCollect=function(){for(var t=0,i=this._rules.values();t<i.length;t++){var n=i[t];n.hasReferences()||(this._rules.delete(n.key),n.dispose())}};return t}();By._idPool=0;var Cy=function(){function t(t,i,n,r){this.key=t,this.className=i,this.properties=r,this._referenceCount=0,this._styleElementDisposables=new Bn,this._styleElement=dc(n,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}t.prototype.getCssText=function(t,i){var n=".".concat(t," {");for(var r in i){var e=i[r];var o=void 0;o=typeof e=="object"?ap(e.id):e,n+="\n\t".concat(Dy(r),": ").concat(o,";")}return n+="\n}",n};t.prototype.dispose=function(){this._styleElementDisposables.dispose(),this._styleElement=void 0};t.prototype.increaseRefCount=function(){this._referenceCount++};t.prototype.decreaseRefCount=function(){this._referenceCount--};t.prototype.hasReferences=function(){return this._referenceCount>0};return t}();function Dy(t){return t.replace(/(^[A-Z])/,(function(t){var i=t[0];return i.toLowerCase()})).replace(/([A-Z])/g,(function(t){var i=t[0];return"-".concat(i.toLowerCase())}))}var My=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._shouldRender=!0;return i}i.prototype.shouldRender=function(){return this._shouldRender};i.prototype.forceShouldRender=function(){this._shouldRender=!0};i.prototype.setShouldRender=function(){this._shouldRender=!0};i.prototype.onDidRender=function(){this._shouldRender=!1};i.prototype.onCompositionStart=function(t){return!1};i.prototype.onCompositionEnd=function(t){return!1};i.prototype.onConfigurationChanged=function(t){return!1};i.prototype.onCursorStateChanged=function(t){return!1};i.prototype.onDecorationsChanged=function(t){return!1};i.prototype.onFlushed=function(t){return!1};i.prototype.onFocusChanged=function(t){return!1};i.prototype.onLanguageConfigurationChanged=function(t){return!1};i.prototype.onLineMappingChanged=function(t){return!1};i.prototype.onLinesChanged=function(t){return!1};i.prototype.onLinesDeleted=function(t){return!1};i.prototype.onLinesInserted=function(t){return!1};i.prototype.onRevealRangeRequest=function(t){return!1};i.prototype.onScrollChanged=function(t){return!1};i.prototype.onThemeChanged=function(t){return!1};i.prototype.onTokensChanged=function(t){return!1};i.prototype.onTokensColorsChanged=function(t){return!1};i.prototype.onZonesChanged=function(t){return!1};i.prototype.handleEvents=function(t){var i=!1;for(var n=0,r=t.length;n<r;n++){var e=t[n];switch(e.type){case 0:this.onCompositionStart(e)&&(i=!0);break;case 1:this.onCompositionEnd(e)&&(i=!0);break;case 2:this.onConfigurationChanged(e)&&(i=!0);break;case 3:this.onCursorStateChanged(e)&&(i=!0);break;case 4:this.onDecorationsChanged(e)&&(i=!0);break;case 5:this.onFlushed(e)&&(i=!0);break;case 6:this.onFocusChanged(e)&&(i=!0);break;case 7:this.onLanguageConfigurationChanged(e)&&(i=!0);break;case 8:this.onLineMappingChanged(e)&&(i=!0);break;case 9:this.onLinesChanged(e)&&(i=!0);break;case 10:this.onLinesDeleted(e)&&(i=!0);break;case 11:this.onLinesInserted(e)&&(i=!0);break;case 12:this.onRevealRangeRequest(e)&&(i=!0);break;case 13:this.onScrollChanged(e)&&(i=!0);break;case 15:this.onTokensChanged(e)&&(i=!0);break;case 14:this.onThemeChanged(e)&&(i=!0);break;case 16:this.onTokensColorsChanged(e)&&(i=!0);break;case 17:this.onZonesChanged(e)&&(i=!0);break;default:console.info("View received unknown event: "),console.info(e)}}i&&(this._shouldRender=!0)};return i}(Cn);var _y=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),t.prototype.dispose.call(this)};return i}(My);var Fy=function(){function t(){}t.write=function(t,i){t.setAttribute("data-mprt",String(i))};t.read=function(t){var i=t.getAttribute("data-mprt");return i===null?0:parseInt(i,10)};t.collect=function(t,i){var n=[];var r=0;for(;t&&t!==t.ownerDocument.body&&t!==i;)t.nodeType===t.ELEMENT_NODE&&(n[r++]=this.read(t)),t=t.parentElement;var e=new Uint8Array(r);for(var o=0;o<r;o++)e[o]=n[r-o-1];return e};return t}();var Sy=function(){function t(t,i){this._restrictedRenderingContextBrand=void 0,this._viewLayout=t,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}t.prototype.getScrolledTopFromAbsoluteTop=function(t){return t-this.scrollTop};t.prototype.getVerticalOffsetForLineNumber=function(t,i){return this._viewLayout.getVerticalOffsetForLineNumber(t,i)};t.prototype.getVerticalOffsetAfterLineNumber=function(t,i){return this._viewLayout.getVerticalOffsetAfterLineNumber(t,i)};t.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()};return t}();var Iy=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n)||this,e._renderingContextBrand=void 0,e._viewLines=r;return e}i.prototype.linesVisibleRangesForRange=function(t,i){return this._viewLines.linesVisibleRangesForRange(t,i)};i.prototype.visibleRangeForPosition=function(t){return this._viewLines.visibleRangeForPosition(t)};return i}(Sy);var Qy=function(){function t(t,i,n,r){this.outsideRenderedLine=t,this.lineNumber=i,this.ranges=n,this.continuesOnNextLine=r}return t}();var Oy=function(){function t(t,i){this._horizontalRangeBrand=void 0,this.left=Math.round(t),this.width=Math.round(i)}t.from=function(i){var n=new Array(i.length);for(var r=0,e=i.length;r<e;r++){var o=i[r];n[r]=new t(o.left,o.width)}return n};t.prototype.toString=function(){return"[".concat(this.left,",").concat(this.width,"]")};return t}();var Ny=function(){function t(t,i){this._floatHorizontalRangeBrand=void 0,this.left=t,this.width=i}t.prototype.toString=function(){return"[".concat(this.left,",").concat(this.width,"]")};t.compare=function(t,i){return t.left-i.left};return t}();var Ry=function(){function t(t,i){this.outsideRenderedLine=t,this.originalLeft=i,this.left=Math.round(this.originalLeft)}return t}();var Ty=function(){function t(t,i){this.outsideRenderedLine=t,this.ranges=i}return t}();var Ly=function(){function t(){}t._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange};t._detachRange=function(t,i){t.selectNodeContents(i)};t._readClientRects=function(t,i,n,r,e){var o=this._createRange();try{return o.setStart(t,i),o.setEnd(n,r),o.getClientRects()}catch(t){return null}finally{this._detachRange(o,e)}};t._mergeAdjacentRanges=function(t){if(t.length===1)return t;t.sort(Ny.compare);var i=[];var n=0,r=t[0];for(var e=1,o=t.length;e<o;e++){var s=t[e];r.left+r.width+.9>=s.left?r.width=Math.max(r.width,s.left+s.width-r.left):(i[n++]=r,r=s)}return i[n++]=r,i};t._createHorizontalRangesFromClientRects=function(t,i,n){if(!t||t.length===0)return null;var r=[];for(var e=0,o=t.length;e<o;e++){var s=t[e];r[e]=new Ny(Math.max(0,(s.left-i)/n),s.width/n)}return this._mergeAdjacentRanges(r)};t.readHorizontalRanges=function(t,i,n,r,e,o){var s=t.children.length-1;if(0>s)return null;if((i=Math.min(s,Math.max(0,i)))===(r=Math.min(s,Math.max(0,r)))&&n===e&&n===0&&!t.children[i].firstChild){var u=t.children[i].getClientRects();return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,o.clientRectDeltaLeft,o.clientRectScale)}i!==r&&r>0&&e===0&&(r--,e=1073741824);var a=t.children[i].firstChild,c=t.children[r].firstChild;if(a&&c||(!a&&n===0&&i>0&&(a=t.children[i-1].firstChild,n=1073741824),!c&&e===0&&r>0&&(c=t.children[r-1].firstChild,e=1073741824)),!a||!c)return null;n=Math.min(a.textContent.length,Math.max(0,n)),e=Math.min(c.textContent.length,Math.max(0,e));var h=this._readClientRects(a,n,c,e,o.endNode);return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,o.clientRectDeltaLeft,o.clientRectScale)};return t}();var jy;function zy(t){return t===jy.HIGH_CONTRAST_DARK||t===jy.HIGH_CONTRAST_LIGHT}function Uy(t){return t===jy.DARK||t===jy.HIGH_CONTRAST_DARK}(function(t){t.DARK="dark",t.LIGHT="light",t.HIGH_CONTRAST_DARK="hcDark",t.HIGH_CONTRAST_LIGHT="hcLight"})(jy||(jy={}));var Hy=!!Kt||!(Vt||ps||ys);var Yy=!0;var Jy=function(){function t(t,i){this.themeType=i;var n=t.options,r=n.get(50),e=n.get(38);this.renderWhitespace=e==="off"?n.get(99):"none",this.renderControlCharacters=n.get(94),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!n.get(33),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=n.get(67),this.stopRenderingLineAfter=n.get(117),this.fontLigatures=n.get(51)}t.prototype.equals=function(t){return this.themeType===t.themeType&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.fontLigatures===t.fontLigatures};return t}();var Py=function(){function t(t){this._options=t,this._isMaybeInvalid=!0,this._renderedViewLine=null}t.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null};t.prototype.setDomNode=function(t){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=th(t)};t.prototype.onContentChanged=function(){this._isMaybeInvalid=!0};t.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0};t.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0};t.prototype.onOptionsChanged=function(t){this._isMaybeInvalid=!0,this._options=t};t.prototype.onSelectionChanged=function(){return!(!zy(this._options.themeType)&&this._options.renderWhitespace!=="selection")&&(this._isMaybeInvalid=!0,!0)};t.prototype.renderLine=function(i,n,r,e,o){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var s=e.getViewLineRenderingData(i),u=this._options,a=Rg.filter(s.inlineDecorations,i,s.minColumn,s.maxColumn);var c=null;if(zy(u.themeType)||this._options.renderWhitespace==="selection"){var h=e.selections;for(var f=0,l=h;f<l.length;f++){var d=l[f];if(d.endLineNumber<i||d.startLineNumber>i)continue;var v=d.startLineNumber===i?d.startColumn:s.minColumn,A=d.endLineNumber===i?d.endColumn:s.maxColumn;v<A&&(zy(u.themeType)&&a.push(new Rg(v,A,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(c||(c=[]),c.push(new Ug(v-1,A-1))))}}var g=new Hg(u.useMonospaceOptimizations,u.canUseHalfwidthRightwardsArrow,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,s.minColumn-1,s.tokens,a,s.tabSize,s.startVisibleColumn,u.spaceWidth,u.middotWidth,u.wsmiddotWidth,u.stopRenderingLineAfter,u.renderWhitespace,u.renderControlCharacters,u.fontLigatures!==Hi.OFF,c);if(this._renderedViewLine&&this._renderedViewLine.input.equals(g))return!1;o.appendString('<div style="top:'),o.appendString(String(n)),o.appendString("px;height:"),o.appendString(String(r)),o.appendString('px;" class="'),o.appendString(t.CLASS_NAME),o.appendString('">');var w=Wg(g,o);o.appendString("</div>");var p=null;return Yy&&Hy&&s.isBasicASCII&&u.useMonospaceOptimizations&&w.containsForeignElements===0&&(p=new Wy(this._renderedViewLine?this._renderedViewLine.domNode:null,g,w.characterMapping)),p||(p=Ky(this._renderedViewLine?this._renderedViewLine.domNode:null,g,w.characterMapping,w.containsRTL,w.containsForeignElements)),this._renderedViewLine=p,!0};t.prototype.layoutLine=function(t,i,n){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(i),this._renderedViewLine.domNode.setHeight(n))};t.prototype.getWidth=function(t){return this._renderedViewLine?this._renderedViewLine.getWidth(t):0};t.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()};t.prototype.needsMonospaceFontCheck=function(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Wy};t.prototype.monospaceAssumptionsAreValid=function(){return this._renderedViewLine&&this._renderedViewLine instanceof Wy?this._renderedViewLine.monospaceAssumptionsAreValid():Yy};t.prototype.onMonospaceAssumptionsInvalidated=function(){this._renderedViewLine&&this._renderedViewLine instanceof Wy&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())};t.prototype.getVisibleRangesForRange=function(t,i,n,r){if(!this._renderedViewLine)return null;i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i)),n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n));var e=this._renderedViewLine.input.stopRenderingLineAfter;if(e!==-1&&i>e+1&&n>e+1)return new Ty(!0,[new Ny(this.getWidth(r),0)]);e!==-1&&i>e+1&&(i=e+1),e!==-1&&n>e+1&&(n=e+1);var o=this._renderedViewLine.getVisibleRangesForRange(t,i,n,r);return o&&o.length>0?new Ty(!1,o):null};t.prototype.getColumnOfNodeOffset=function(t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(t,i):1};return t}();Py.CLASS_NAME="view-line";var Wy=function(){function t(t,i,n){this._cachedWidth=-1,this.domNode=t,this.input=i;var r=Math.floor(i.lineContent.length/300);if(r>0){this._keyColumnPixelOffsetCache=new Float32Array(r);for(var e=0;e<r;e++)this._keyColumnPixelOffsetCache[e]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=n,this._charWidth=i.spaceWidth}t.prototype.getWidth=function(t){if(!this.domNode||this.input.lineContent.length<300){var i=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*i)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,t==null||t.markDidDomLayout()),this._cachedWidth};t.prototype.getWidthIsFast=function(){return this.input.lineContent.length<300||this._cachedWidth!==-1};t.prototype.monospaceAssumptionsAreValid=function(){if(!this.domNode)return Yy;if(this.input.lineContent.length<300){var t=this.getWidth(null),i=this.domNode.domNode.firstChild.offsetWidth;Math.abs(t-i)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Yy=!1)}return Yy};t.prototype.toSlowRenderedLine=function(){return Ky(this.domNode,this.input,this._characterMapping,!1,0)};t.prototype.getVisibleRangesForRange=function(t,i,n,r){var e=this._getColumnPixelOffset(t,i,r),o=this._getColumnPixelOffset(t,n,r);return[new Ny(e,o-e)]};t.prototype._getColumnPixelOffset=function(t,i,n){if(i<=300){var r=this._characterMapping.getHorizontalOffset(i);return this._charWidth*r}var e=Math.floor((i-1)/300)-1,o=300*(e+1)+1;var s=-1;if(this._keyColumnPixelOffsetCache&&(s=this._keyColumnPixelOffsetCache[e],s===-1&&(s=this._actualReadPixelOffset(t,o,n),this._keyColumnPixelOffsetCache[e]=s)),s===-1){var r=this._characterMapping.getHorizontalOffset(i);return this._charWidth*r}var u=this._characterMapping.getHorizontalOffset(o),a=this._characterMapping.getHorizontalOffset(i);return s+this._charWidth*(a-u)};t.prototype._getReadingTarget=function(t){return t.domNode.firstChild};t.prototype._actualReadPixelOffset=function(t,i,n){if(!this.domNode)return-1;var r=this._characterMapping.getDomPosition(i),e=Ly.readHorizontalRanges(this._getReadingTarget(this.domNode),r.partIndex,r.charIndex,r.partIndex,r.charIndex,n);return e&&e.length!==0?e[0].left:-1};t.prototype.getColumnOfNodeOffset=function(t,i){return Zy(this._characterMapping,t,i)};return t}();var Gy=function(){function t(t,i,n,r,e){if(this.domNode=t,this.input=i,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(i.lineContent),this._containsForeignElements=e,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(var o=0,s=this._characterMapping.length;o<=s;o++)this._pixelOffsetCache[o]=-1}}t.prototype._getReadingTarget=function(t){return t.domNode.firstChild};t.prototype.getWidth=function(t){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,t==null||t.markDidDomLayout()),this._cachedWidth):0};t.prototype.getWidthIsFast=function(){return this._cachedWidth!==-1};t.prototype.getVisibleRangesForRange=function(t,i,n,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){var e=this._readPixelOffset(this.domNode,t,i,r);if(e===-1)return null;var o=this._readPixelOffset(this.domNode,t,n,r);return o===-1?null:[new Ny(e,o-e)]}return this._readVisibleRangesForRange(this.domNode,t,i,n,r)};t.prototype._readVisibleRangesForRange=function(t,i,n,r,e){if(n===r){var o=this._readPixelOffset(t,i,n,e);return o===-1?null:[new Ny(o,0)]}return this._readRawVisibleRangesForRange(t,n,r,e)};t.prototype._readPixelOffset=function(t,i,n,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(r);var e=this._getReadingTarget(t);return e.firstChild?(r.markDidDomLayout(),e.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){var e=this._pixelOffsetCache[n];if(e!==-1)return e;var o=this._actualReadPixelOffset(t,i,n,r);return this._pixelOffsetCache[n]=o,o}return this._actualReadPixelOffset(t,i,n,r)};t.prototype._actualReadPixelOffset=function(t,i,n,r){if(this._characterMapping.length===0){var e=Ly.readHorizontalRanges(this._getReadingTarget(t),0,0,0,0,r);return e&&e.length!==0?e[0].left:-1}if(n===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(r);var o=this._characterMapping.getDomPosition(n),s=Ly.readHorizontalRanges(this._getReadingTarget(t),o.partIndex,o.charIndex,o.partIndex,o.charIndex,r);if(!s||s.length===0)return-1;var u=s[0].left;if(this.input.isBasicASCII){var e=this._characterMapping.getHorizontalOffset(n),a=Math.round(this.input.spaceWidth*e);if(Math.abs(a-u)<=1)return a}return u};t.prototype._readRawVisibleRangesForRange=function(t,i,n,r){if(i===1&&n===this._characterMapping.length)return[new Ny(0,this.getWidth(r))];var e=this._characterMapping.getDomPosition(i),o=this._characterMapping.getDomPosition(n);return Ly.readHorizontalRanges(this._getReadingTarget(t),e.partIndex,e.charIndex,o.partIndex,o.charIndex,r)};t.prototype.getColumnOfNodeOffset=function(t,i){return Zy(this._characterMapping,t,i)};return t}();var Vy=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._readVisibleRangesForRange=function(i,n,r,e,o){var s=t.prototype._readVisibleRangesForRange.call(this,i,n,r,e,o);if(!s||s.length===0||r===e||r===1&&e===this._characterMapping.length)return s;if(!this.input.containsRTL){var u=this._readPixelOffset(i,n,e,o);if(u!==-1){var a=s[s.length-1];a.left<u&&(a.width=u-a.left)}}return s};return i}(Gy);var Ky=ms?Xy:qy;function Xy(t,i,n,r,e){return new Vy(t,i,n,r,e)}function qy(t,i,n,r,e){return new Gy(t,i,n,r,e)}function Zy(t,i,n){var r=i.textContent.length;var e=-1;for(;i;)i=i.previousSibling,e++;return t.getColumn(new Yg(e,n),r)}var $y=function(){function t(){}t._nextVisibleColumn=function(i,n,r){return i===9?t.nextRenderTabStop(n,r):es(i)||os(i)?n+2:n+1};t.visibleColumnFromColumn=function(t,i,n){var r=Math.min(i-1,t.length),e=t.substring(0,r),o=new Ko(e);var s=0;for(;!o.eol();){var u=Go(e,r,o.offset);o.nextGraphemeLength(),s=this._nextVisibleColumn(u,s,n)}return s};t.columnFromVisibleColumn=function(t,i,n){if(i<=0)return 1;var r=t.length,e=new Ko(t);var o=0,s=1;for(;!e.eol();){var u=Go(t,r,e.offset);e.nextGraphemeLength();var a=this._nextVisibleColumn(u,o,n),c=e.offset+1;if(a>=i)return a-i<i-o?c:s;o=a,s=c}return r+1};t.nextRenderTabStop=function(t,i){return t+i-t%i};t.nextIndentTabStop=function(t,i){return t+i-t%i};t.prevRenderTabStop=function(t,i){return Math.max(0,t-1-(t-1)%i)};t.prevIndentTabStop=function(t,i){return Math.max(0,t-1-(t-1)%i)};return t}();var tk=function(){function t(){}t.whitespaceVisibleColumn=function(t,i,n){var r=t.length;var e=0,o=-1,s=-1;for(var u=0;u<r;u++){if(u===i)return[o,s,e];switch(e%n==0&&(o=u,s=e),t.charCodeAt(u)){case 32:e+=1;break;case 9:e=$y.nextRenderTabStop(e,n);break;default:return[-1,-1,-1]}}return i===r?[o,s,e]:[-1,-1,-1]};t.atomicPosition=function(i,n,r,e){var o=i.length,s=t.whitespaceVisibleColumn(i,n,r),u=s[0],a=s[1],c=s[2];if(c===-1)return-1;var h;switch(e){case 0:h=!0;break;case 1:h=!1;break;case 2:if(c%r==0)return n;h=c%r<=r/2}if(h){if(u===-1)return-1;var f=a;for(var l=u;l<o;++l){if(f===a+r)return u;switch(i.charCodeAt(l)){case 32:f+=1;break;case 9:f=$y.nextRenderTabStop(f,r);break;default:return-1}}return f===a+r?u:-1}var d=$y.nextRenderTabStop(c,r);var v=c;for(var f=n;f<o;f++){if(v===d)return f;switch(i.charCodeAt(f)){case 32:v+=1;break;case 9:v=$y.nextRenderTabStop(v,r);break;default:return-1}}return v===d?o:-1};return t}();var ik=function(){function t(t){if(t===void 0){t=null}this.hitTarget=t,this.type=0}return t}();var nk=function(){function t(t,i,n){this.position=t,this.spanNode=i,this.injectedText=n,this.type=1}Object.defineProperty(t.prototype,"hitTarget",{get:function(){return this.spanNode},enumerable:false,configurable:true});return t}();var rk;(function(t){t.createFromDOMInfo=function(t,i,n){var r=t.getPositionFromDOMInfo(i,n);return r?new nk(r,i,null):new ik(i)}})(rk||(rk={}));var ek=function(){function t(t,i){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=i}return t}();var ok=function(){function t(){}t._deduceRage=function(t,i){if(i===void 0){i=null}return!i&&t?new Zr(t.lineNumber,t.column,t.lineNumber,t.column):i!==null&&i!==void 0?i:null};t.createUnknown=function(t,i,n){return{type:0,element:t,mouseColumn:i,position:n,range:this._deduceRage(n)}};t.createTextarea=function(t,i){return{type:1,element:t,mouseColumn:i,position:null,range:null}};t.createMargin=function(t,i,n,r,e,o){return{type:t,element:i,mouseColumn:n,position:r,range:e,detail:o}};t.createViewZone=function(t,i,n,r,e){return{type:t,element:i,mouseColumn:n,position:r,range:this._deduceRage(r),detail:e}};t.createContentText=function(t,i,n,r,e){return{type:6,element:t,mouseColumn:i,position:n,range:this._deduceRage(n,r),detail:e}};t.createContentEmpty=function(t,i,n,r){return{type:7,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:r}};t.createContentWidget=function(t,i,n){return{type:9,element:t,mouseColumn:i,position:null,range:null,detail:n}};t.createScrollbar=function(t,i,n){return{type:11,element:t,mouseColumn:i,position:n,range:this._deduceRage(n)}};t.createOverlayWidget=function(t,i,n){return{type:12,element:t,mouseColumn:i,position:null,range:null,detail:n}};t.createOutsideEditor=function(t,i,n,r){return{type:13,element:null,mouseColumn:t,position:i,range:this._deduceRage(i),outsidePosition:n,outsideDistance:r}};t._typeToString=function(t){return t===1?"TEXTAREA":t===2?"GUTTER_GLYPH_MARGIN":t===3?"GUTTER_LINE_NUMBERS":t===4?"GUTTER_LINE_DECORATIONS":t===5?"GUTTER_VIEW_ZONE":t===6?"CONTENT_TEXT":t===7?"CONTENT_EMPTY":t===8?"CONTENT_VIEW_ZONE":t===9?"CONTENT_WIDGET":t===10?"OVERVIEW_RULER":t===11?"SCROLLBAR":t===12?"OVERLAY_WIDGET":"UNKNOWN"};t.toString=function(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)};return t}();var sk=function(){function t(){}t.isTextArea=function(t){return t.length===2&&t[0]===3&&t[1]===7};t.isChildOfViewLines=function(t){return t.length>=4&&t[0]===3&&t[3]===8};t.isStrictChildOfViewLines=function(t){return t.length>4&&t[0]===3&&t[3]===8};t.isChildOfScrollableElement=function(t){return t.length>=2&&t[0]===3&&t[1]===6};t.isChildOfMinimap=function(t){return t.length>=2&&t[0]===3&&t[1]===9};t.isChildOfContentWidgets=function(t){return t.length>=4&&t[0]===3&&t[3]===1};t.isChildOfOverflowGuard=function(t){return t.length>=1&&t[0]===3};t.isChildOfOverflowingContentWidgets=function(t){return t.length>=1&&t[0]===2};t.isChildOfOverlayWidgets=function(t){return t.length>=2&&t[0]===3&&t[1]===4};t.isChildOfOverflowingOverlayWidgets=function(t){return t.length>=1&&t[0]===5};return t}();var uk=function(){function t(t,i,n){this.viewModel=t.viewModel;var r=t.configuration.options;this.layoutInfo=r.get(145),this.viewDomNode=i.viewDomNode,this.lineHeight=r.get(67),this.stickyTabStops=r.get(116),this.typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=t,this._viewHelper=i}t.prototype.getZoneAtCoord=function(i){return t.getZoneAtCoord(this._context,i)};t.getZoneAtCoord=function(t,i){var n=t.viewLayout.getWhitespaceAtVerticalOffset(i);if(n){var r=n.verticalOffset+n.height/2,e=t.viewModel.getLineCount();var o=void 0,s=null,u=null;return n.afterLineNumber!==e&&(u=new qr(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(s=new qr(n.afterLineNumber,t.viewModel.getLineMaxColumn(n.afterLineNumber))),o=u===null?s:s===null?u:i<r?s:u,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:s,positionAfter:u,position:o}}return null};t.prototype.getFullLineRangeAtCoord=function(t){if(this._context.viewLayout.isAfterLines(t)){var i=this._context.viewModel.getLineCount(),n=this._context.viewModel.getLineMaxColumn(i);return{range:new Zr(i,n,i,n),isAfterLines:!0}}var r=this._context.viewLayout.getLineNumberAtVerticalOffset(t),e=this._context.viewModel.getLineMaxColumn(r);return{range:new Zr(r,1,r,e),isAfterLines:!1}};t.prototype.getLineNumberAtVerticalOffset=function(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)};t.prototype.isAfterLines=function(t){return this._context.viewLayout.isAfterLines(t)};t.prototype.isInTopPadding=function(t){return this._context.viewLayout.isInTopPadding(t)};t.prototype.isInBottomPadding=function(t){return this._context.viewLayout.isInBottomPadding(t)};t.prototype.getVerticalOffsetForLineNumber=function(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)};t.prototype.findAttribute=function(i,n){return t._findAttribute(i,n,this._viewHelper.viewDomNode)};t._findAttribute=function(t,i,n){for(;t&&t!==t.ownerDocument.body;){if(t.hasAttribute&&t.hasAttribute(i))return t.getAttribute(i);if(t===n)return null;t=t.parentNode}return null};t.prototype.getLineWidth=function(t){return this._viewHelper.getLineWidth(t)};t.prototype.visibleRangeForPosition=function(t,i){return this._viewHelper.visibleRangeForPosition(t,i)};t.prototype.getPositionFromDOMInfo=function(t,i){return this._viewHelper.getPositionFromDOMInfo(t,i)};t.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()};t.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()};return t}();var ak=function(){function t(t,i,n,r){this.editorPos=i,this.pos=n,this.relativePos=r,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,lk._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}return t}();var ck=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,i,n,r,e)||this,s.hitTestResult=new po((function(){return lk.doHitTest(s._ctx,s)})),s._targetPathCacheElement=null,s._targetPathCacheValue=new Uint8Array(0),s._ctx=i,s._eventTarget=o;var u=!!s._eventTarget;s._useHitTestTarget=!u;return s}Object.defineProperty(i.prototype,"target",{get:function(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"targetPath",{get:function(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=Fy.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue},enumerable:false,configurable:true});i.prototype.toString=function(){return"pos(".concat(this.pos.x,",").concat(this.pos.y,"), editorPos(").concat(this.editorPos.x,",").concat(this.editorPos.y,"), relativePos(").concat(this.relativePos.x,",").concat(this.relativePos.y,"), mouseVerticalOffset: ").concat(this.mouseVerticalOffset,", mouseContentHorizontalOffset: ").concat(this.mouseContentHorizontalOffset,"\n\ttarget: ").concat(this.target?this.target.outerHTML:null)};Object.defineProperty(i.prototype,"wouldBenefitFromHitTestTargetSwitch",{get:function(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget},enumerable:false,configurable:true});i.prototype.switchToHitTestTarget=function(){this._useHitTestTarget=!0};i.prototype._getMouseColumn=function(t){if(t===void 0){t=null}return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?$y.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn};i.prototype.fulfillUnknown=function(t){if(t===void 0){t=null}return ok.createUnknown(this.target,this._getMouseColumn(t),t)};i.prototype.fulfillTextarea=function(){return ok.createTextarea(this.target,this._getMouseColumn())};i.prototype.fulfillMargin=function(t,i,n,r){return ok.createMargin(t,this.target,this._getMouseColumn(i),i,n,r)};i.prototype.fulfillViewZone=function(t,i,n){return ok.createViewZone(t,this.target,this._getMouseColumn(i),i,n)};i.prototype.fulfillContentText=function(t,i,n){return ok.createContentText(this.target,this._getMouseColumn(t),t,i,n)};i.prototype.fulfillContentEmpty=function(t,i){return ok.createContentEmpty(this.target,this._getMouseColumn(t),t,i)};i.prototype.fulfillContentWidget=function(t){return ok.createContentWidget(this.target,this._getMouseColumn(),t)};i.prototype.fulfillScrollbar=function(t){return ok.createScrollbar(this.target,this._getMouseColumn(t),t)};i.prototype.fulfillOverlayWidget=function(t){return ok.createOverlayWidget(this.target,this._getMouseColumn(),t)};return i}(ak);var hk={isAfterLines:!0};function fk(t){return{isAfterLines:!1,horizontalDistanceToText:t}}var lk=function(){function t(t,i){this._context=t,this._viewHelper=i}t.prototype.mouseTargetIsWidget=function(t){var i=t.target,n=Fy.collect(i,this._viewHelper.viewDomNode);return!(!sk.isChildOfContentWidgets(n)&&!sk.isChildOfOverflowingContentWidgets(n))||!(!sk.isChildOfOverlayWidgets(n)&&!sk.isChildOfOverflowingOverlayWidgets(n))};t.prototype.createMouseTarget=function(i,n,r,e,o){var s=new uk(this._context,this._viewHelper,i),u=new ck(s,n,r,e,o);try{var a=t._createMouseTarget(s,u);if(a.type===6&&s.stickyTabStops&&a.position!==null){var c=t._snapToSoftTabBoundary(a.position,s.viewModel),h=Zr.fromPositions(c,c).plusRange(a.range);return u.fulfillContentText(c,h,a.detail)}return a}catch(t){return u.fulfillUnknown()}};t._createMouseTarget=function(i,n){if(n.target===null)return n.fulfillUnknown();var r=n;var e=null;return sk.isChildOfOverflowGuard(n.targetPath)||sk.isChildOfOverflowingContentWidgets(n.targetPath)||sk.isChildOfOverflowingOverlayWidgets(n.targetPath)||(e=e||n.fulfillUnknown()),e=e||t._hitTestContentWidget(i,r),e=e||t._hitTestOverlayWidget(i,r),e=e||t._hitTestMinimap(i,r),e=e||t._hitTestScrollbarSlider(i,r),e=e||t._hitTestViewZone(i,r),e=e||t._hitTestMargin(i,r),e=e||t._hitTestViewCursor(i,r),e=e||t._hitTestTextArea(i,r),e=e||t._hitTestViewLines(i,r),e=e||t._hitTestScrollbar(i,r),e||n.fulfillUnknown()};t._hitTestContentWidget=function(t,i){if(sk.isChildOfContentWidgets(i.targetPath)||sk.isChildOfOverflowingContentWidgets(i.targetPath)){var n=t.findAttribute(i.target,"widgetId");return n?i.fulfillContentWidget(n):i.fulfillUnknown()}return null};t._hitTestOverlayWidget=function(t,i){if(sk.isChildOfOverlayWidgets(i.targetPath)||sk.isChildOfOverflowingOverlayWidgets(i.targetPath)){var n=t.findAttribute(i.target,"widgetId");return n?i.fulfillOverlayWidget(n):i.fulfillUnknown()}return null};t._hitTestViewCursor=function(t,i){if(i.target){var n=t.lastRenderData.lastViewCursorsRenderData;for(var r=0,e=n;r<e.length;r++){var o=e[r];if(i.target===o.domNode)return i.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}}if(i.isInContentArea){var n=t.lastRenderData.lastViewCursorsRenderData,o=i.mouseContentHorizontalOffset,s=i.mouseVerticalOffset;for(var u=0,a=n;u<a.length;u++){var c=a[u];if(o<c.contentLeft||o>c.contentLeft+c.width)continue;var h=t.getVerticalOffsetForLineNumber(c.position.lineNumber);if(h<=s&&s<=h+c.height)return i.fulfillContentText(c.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null};t._hitTestViewZone=function(t,i){var n=t.getZoneAtCoord(i.mouseVerticalOffset);if(n){var r=i.isInContentArea?8:5;return i.fulfillViewZone(r,n.position,n)}return null};t._hitTestTextArea=function(t,i){return sk.isTextArea(i.targetPath)?t.lastRenderData.lastTextareaPosition?i.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):i.fulfillTextarea():null};t._hitTestMargin=function(t,i){if(i.isInMarginArea){var n=t.getFullLineRangeAtCoord(i.mouseVerticalOffset),r=n.range.getStartPosition();var e=Math.abs(i.relativePos.x);var o={isAfterLines:n.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:e};if(e-=t.layoutInfo.glyphMarginLeft,e<=t.layoutInfo.glyphMarginWidth){var s=t.viewModel.coordinatesConverter.convertViewPositionToModelPosition(n.range.getStartPosition()),u=t.viewModel.glyphLanes.getLanesAtLine(s.lineNumber);return o.glyphMarginLane=u[Math.floor(e/t.lineHeight)],i.fulfillMargin(2,r,n.range,o)}return e-=t.layoutInfo.glyphMarginWidth,e<=t.layoutInfo.lineNumbersWidth?i.fulfillMargin(3,r,n.range,o):(e-=t.layoutInfo.lineNumbersWidth,i.fulfillMargin(4,r,n.range,o))}return null};t._hitTestViewLines=function(i,n){if(!sk.isChildOfViewLines(n.targetPath))return null;if(i.isInTopPadding(n.mouseVerticalOffset))return n.fulfillContentEmpty(new qr(1,1),hk);if(i.isAfterLines(n.mouseVerticalOffset)||i.isInBottomPadding(n.mouseVerticalOffset)){var r=i.viewModel.getLineCount(),e=i.viewModel.getLineMaxColumn(r);return n.fulfillContentEmpty(new qr(r,e),hk)}if(sk.isStrictChildOfViewLines(n.targetPath)){var r=i.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(i.viewModel.getLineLength(r)===0){var o=i.getLineWidth(r),s=fk(n.mouseContentHorizontalOffset-o);return n.fulfillContentEmpty(new qr(r,1),s)}var e=i.getLineWidth(r);if(n.mouseContentHorizontalOffset>=e){var o=fk(n.mouseContentHorizontalOffset-e),s=new qr(r,i.viewModel.getLineMaxColumn(r));return n.fulfillContentEmpty(s,o)}}var u=n.hitTestResult.value;return u.type===1?t.createMouseTargetFromHitTestPosition(i,n,u.spanNode,u.position,u.injectedText):n.wouldBenefitFromHitTestTargetSwitch?(n.switchToHitTestTarget(),this._createMouseTarget(i,n)):n.fulfillUnknown()};t._hitTestMinimap=function(t,i){if(sk.isChildOfMinimap(i.targetPath)){var n=t.getLineNumberAtVerticalOffset(i.mouseVerticalOffset),r=t.viewModel.getLineMaxColumn(n);return i.fulfillScrollbar(new qr(n,r))}return null};t._hitTestScrollbarSlider=function(t,i){if(sk.isChildOfScrollableElement(i.targetPath)&&i.target&&i.target.nodeType===1){var n=i.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){var r=t.getLineNumberAtVerticalOffset(i.mouseVerticalOffset),e=t.viewModel.getLineMaxColumn(r);return i.fulfillScrollbar(new qr(r,e))}}return null};t._hitTestScrollbar=function(t,i){if(sk.isChildOfScrollableElement(i.targetPath)){var n=t.getLineNumberAtVerticalOffset(i.mouseVerticalOffset),r=t.viewModel.getLineMaxColumn(n);return i.fulfillScrollbar(new qr(n,r))}return null};t.prototype.getMouseColumn=function(i){var n=this._context.configuration.options,r=n.get(145),e=this._context.viewLayout.getCurrentScrollLeft()+i.x-r.contentLeft;return t._getMouseColumn(e,n.get(50).typicalHalfwidthCharacterWidth)};t._getMouseColumn=function(t,i){return t<0?1:Math.round(t/i)+1};t.createMouseTargetFromHitTestPosition=function(t,i,n,r,e){var o=r.lineNumber,s=r.column,u=t.getLineWidth(o);if(i.mouseContentHorizontalOffset>u){var a=fk(i.mouseContentHorizontalOffset-u);return i.fulfillContentEmpty(r,a)}var c=t.visibleRangeForPosition(o,s);if(!c)return i.fulfillUnknown(r);var h=c.left;if(Math.abs(i.mouseContentHorizontalOffset-h)<1)return i.fulfillContentText(r,null,{mightBeForeignElement:!!e,injectedText:e});var f=[];if(f.push({offset:c.left,column:s}),s>1){var a=t.visibleRangeForPosition(o,s-1);a&&f.push({offset:a.left,column:s-1})}if(s<t.viewModel.getLineMaxColumn(o)){var a=t.visibleRangeForPosition(o,s+1);a&&f.push({offset:a.left,column:s+1})}f.sort((function(t,i){return t.offset-i.offset}));var l=i.pos.toClientCoordinates(ka(t.viewDomNode)),d=n.getBoundingClientRect(),v=d.left<=l.clientX&&l.clientX<=d.right;var A=null;for(var a=1;a<f.length;a++){var g=f[a-1],w=f[a];if(g.offset<=i.mouseContentHorizontalOffset&&i.mouseContentHorizontalOffset<=w.offset){A=new Zr(o,g.column,o,w.column);var p=Math.abs(g.offset-i.mouseContentHorizontalOffset),m=Math.abs(w.offset-i.mouseContentHorizontalOffset);r=new qr(o,p<m?g.column:w.column);break}}return i.fulfillContentText(r,A,{mightBeForeignElement:!v||!!e,injectedText:e})};t._doHitTestWithCaretRangeFromPoint=function(t,i){var n=t.getLineNumberAtVerticalOffset(i.mouseVerticalOffset),r=t.getVerticalOffsetForLineNumber(n),e=r+t.lineHeight;if(!(n===t.viewModel.getLineCount()&&i.mouseVerticalOffset>e)){var o=Math.floor((r+e)/2);var s=i.pos.y+(o-i.mouseVerticalOffset);s<=i.editorPos.y&&(s=i.editorPos.y+1),s>=i.editorPos.y+i.editorPos.height&&(s=i.editorPos.y+i.editorPos.height-1);var u=new Ay(i.pos.x,s),a=this._actualDoHitTestWithCaretRangeFromPoint(t,u.toClientCoordinates(ka(t.viewDomNode)));if(a.type===1)return a}return this._actualDoHitTestWithCaretRangeFromPoint(t,i.pos.toClientCoordinates(ka(t.viewDomNode)))};t._actualDoHitTestWithCaretRangeFromPoint=function(t,i){var n=oc(t.viewDomNode);var r;if(r=n?n.caretRangeFromPoint===void 0?function(t,i,n){var r=document.createRange();var e=t.elementFromPoint(i,n);if(e!==null){for(;e&&e.firstChild&&e.firstChild.nodeType!==e.firstChild.TEXT_NODE&&e.lastChild&&e.lastChild.firstChild;)e=e.lastChild;var o=e.getBoundingClientRect(),s=ka(e),u="".concat(s.getComputedStyle(e,null).getPropertyValue("font-style")," ").concat(s.getComputedStyle(e,null).getPropertyValue("font-variant")," ").concat(s.getComputedStyle(e,null).getPropertyValue("font-weight")," ").concat(s.getComputedStyle(e,null).getPropertyValue("font-size"),"/").concat(s.getComputedStyle(e,null).getPropertyValue("line-height")," ").concat(s.getComputedStyle(e,null).getPropertyValue("font-family")),a=e.innerText;var c=void 0,h=o.left,f=0;if(i>o.left+o.width)f=a.length;else{var l=dk.getInstance();for(var d=0;d<a.length+1;d++){if(c=l.getCharWidth(a.charAt(d),u)/2,h+=c,i<h){f=d;break}h+=c}}r.setStart(e.firstChild,f),r.setEnd(e.firstChild,f)}return r}(n,i.clientX,i.clientY):n.caretRangeFromPoint(i.clientX,i.clientY):t.viewDomNode.ownerDocument.caretRangeFromPoint(i.clientX,i.clientY),!r||!r.startContainer)return new ik;var e=r.startContainer;if(e.nodeType===e.TEXT_NODE){var o=e.parentNode,s=o?o.parentNode:null,u=s?s.parentNode:null;return(u&&u.nodeType===u.ELEMENT_NODE?u.className:null)===Py.CLASS_NAME?rk.createFromDOMInfo(t,o,r.startOffset):new ik(e.parentNode)}if(e.nodeType===e.ELEMENT_NODE){var o=e.parentNode,s=o?o.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===Py.CLASS_NAME?rk.createFromDOMInfo(t,e,e.textContent.length):new ik(e)}return new ik};t._doHitTestWithCaretPositionFromPoint=function(t,i){var n=t.viewDomNode.ownerDocument.caretPositionFromPoint(i.clientX,i.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){var r=n.offsetNode.parentNode,e=r?r.parentNode:null,o=e?e.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Py.CLASS_NAME?rk.createFromDOMInfo(t,n.offsetNode.parentNode,n.offset):new ik(n.offsetNode.parentNode)}if(n.offsetNode.nodeType===n.offsetNode.ELEMENT_NODE){var r=n.offsetNode.parentNode,e=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,o=r?r.parentNode:null,s=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(e===Py.CLASS_NAME){var u=n.offsetNode.childNodes[Math.min(n.offset,n.offsetNode.childNodes.length-1)];if(u)return rk.createFromDOMInfo(t,u,0)}else if(s===Py.CLASS_NAME)return rk.createFromDOMInfo(t,n.offsetNode,0)}return new ik(n.offsetNode)};t._snapToSoftTabBoundary=function(t,i){var n=i.getLineContent(t.lineNumber),r=i.model.getOptions().tabSize,e=tk.atomicPosition(n,t.column-1,r,2);return e!==-1?new qr(t.lineNumber,e+1):t};t.doHitTest=function(t,i){var n=new ik;if(typeof t.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?n=this._doHitTestWithCaretRangeFromPoint(t,i):t.viewDomNode.ownerDocument.caretPositionFromPoint&&(n=this._doHitTestWithCaretPositionFromPoint(t,i.pos.toClientCoordinates(ka(t.viewDomNode)))),n.type===1){var r=t.viewModel.getInjectedTextAt(n.position),e=t.viewModel.normalizePosition(n.position,2);!r&&e.equals(n.position)||(n=new nk(e,n.spanNode,r))}return n};return t}();var dk=function(){function t(){this._cache={},this._canvas=document.createElement("canvas")}t.getInstance=function(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE};t.prototype.getCharWidth=function(t,i){var n=t+i;if(this._cache[n])return this._cache[n];var r=this._canvas.getContext("2d");r.font=i;var e=r.measureText(t).width;return this._cache[n]=e,e};return t}();function vk(t,i,n){var r=null,e=null;if(typeof n.value=="function"?(r="value",e=n.value,e.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof n.get=="function"&&(r="get",e=n.get),!e)throw new Error("not supported");var o="$memoize$".concat(i);n[r]=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:e.apply(this,t)}),this[o]}}dk._INSTANCE=null;var Ak,gk=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s};(function(t){t.Tap="-monaco-gesturetap",t.Change="-monaco-gesturechange",t.Start="-monaco-gesturestart",t.End="-monaco-gesturesend",t.Contextmenu="-monaco-gesturecontextmenu"})(Ak||(Ak={}));var wk=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i.dispatched=!1,i.targets=new gi,i.ignoreTargets=new gi,i.activeTouches={},i.handle=null,i._lastSetTapCountTime=0,i._register(Qn.runAndSubscribe(_a,(function(t){var n=t.window,r=t.disposables;r.add(Oa(n.document,"touchstart",(function(t){return i.onTouchStart(t)}),{passive:!1})),r.add(Oa(n.document,"touchend",(function(t){return i.onTouchEnd(n,t)}))),r.add(Oa(n.document,"touchmove",(function(t){return i.onTouchMove(t)}),{passive:!1}))}),{window:go,disposables:i._store}));return i}i.addTarget=function(t){return i.isTouchDevice()?(i.INSTANCE||(i.INSTANCE=new i),En(i.INSTANCE.targets.push(t))):Cn.None};i.ignoreTarget=function(t){return i.isTouchDevice()?(i.INSTANCE||(i.INSTANCE=new i),En(i.INSTANCE.ignoreTargets.push(t))):Cn.None};i.isTouchDevice=function(){return"ontouchstart"in go||navigator.maxTouchPoints>0};i.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),t.prototype.dispose.call(this)};i.prototype.onTouchStart=function(t){var i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var n=0,r=t.targetTouches.length;n<r;n++){var e=t.targetTouches.item(n);this.activeTouches[e.identifier]={id:e.identifier,initialTarget:e.target,initialTimeStamp:i,initialPageX:e.pageX,initialPageY:e.pageY,rollingTimestamps:[i],rollingPageX:[e.pageX],rollingPageY:[e.pageY]};var o=this.newGestureEvent(Ak.Start,e.target);o.pageX=e.pageX,o.pageY=e.pageY,this.dispatchEvent(o)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)};i.prototype.onTouchEnd=function(t,n){var r=Date.now(),e=Object.keys(this.activeTouches).length;var o=function(o,u){var a=n.changedTouches.item(o);if(!s.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);return"continue"}var c=s.activeTouches[a.identifier],h=Date.now()-c.initialTimeStamp;if(h<i.HOLD_DELAY&&Math.abs(c.initialPageX-M(c.rollingPageX))<30&&Math.abs(c.initialPageY-M(c.rollingPageY))<30){var f=s.newGestureEvent(Ak.Tap,c.initialTarget);f.pageX=M(c.rollingPageX),f.pageY=M(c.rollingPageY),s.dispatchEvent(f)}else if(h>=i.HOLD_DELAY&&Math.abs(c.initialPageX-M(c.rollingPageX))<30&&Math.abs(c.initialPageY-M(c.rollingPageY))<30){var l=s.newGestureEvent(Ak.Contextmenu,c.initialTarget);l.pageX=M(c.rollingPageX),l.pageY=M(c.rollingPageY),s.dispatchEvent(l)}else if(e===1){var d=M(c.rollingPageX),v=M(c.rollingPageY),A=M(c.rollingTimestamps)-c.rollingTimestamps[0],g=d-c.rollingPageX[0],w=v-c.rollingPageY[0],p=__spreadArray([],s.targets,true).filter((function(t){return c.initialTarget instanceof Node&&t.contains(c.initialTarget)}));s.inertia(t,p,r,Math.abs(g)/A,g>0?1:-1,d,Math.abs(w)/A,w>0?1:-1,v)}s.dispatchEvent(s.newGestureEvent(Ak.End,c.initialTarget)),delete s.activeTouches[a.identifier]};var s=this;for(var u=0,a=n.changedTouches.length;u<a;u++){o(u,a)}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)};i.prototype.newGestureEvent=function(t,i){var n=document.createEvent("CustomEvent");return n.initEvent(t,!1,!0),n.initialTarget=i,n.tapCount=0,n};i.prototype.dispatchEvent=function(t){if(t.type===Ak.Tap){var n=(new Date).getTime();var r=0;r=n-this._lastSetTapCountTime>i.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=n,t.tapCount=r}else t.type!==Ak.Change&&t.type!==Ak.Contextmenu||(this._lastSetTapCountTime=0);if(t.initialTarget instanceof Node){for(var e=0,o=this.ignoreTargets;e<o.length;e++){var r=o[e];if(r.contains(t.initialTarget))return}var n=[];for(var s=0,u=this.targets;s<u.length;s++){var r=u[s];if(r.contains(t.initialTarget)){var a=0,c=t.initialTarget;for(;c&&c!==r;)a++,c=c.parentElement;n.push([a,r])}}n.sort((function(t,i){return t[0]-i[0]}));for(var h=0,f=n;h<f.length;h++){var l=f[h],r=l[0],a=l[1];a.dispatchEvent(t),this.dispatched=!0}}};i.prototype.inertia=function(t,n,r,e,o,s,u,a,c){var h=this;this.handle=Ua(t,(function(){var f=Date.now(),l=f-r;var d=0,v=0,A=!0;e+=i.SCROLL_FRICTION*l,u+=i.SCROLL_FRICTION*l,e>0&&(A=!1,d=o*e*l),u>0&&(A=!1,v=a*u*l);var g=h.newGestureEvent(Ak.Change);g.translationX=d,g.translationY=v,n.forEach((function(t){return t.dispatchEvent(g)})),A||h.inertia(t,n,f,e,o,s+d,u,a,c+v)}))};i.prototype.onTouchMove=function(t){var i=Date.now();for(var n=0,r=t.changedTouches.length;n<r;n++){var e=t.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(e.identifier))){console.warn("end of an UNKNOWN touch",e);continue}var o=this.activeTouches[e.identifier],s=this.newGestureEvent(Ak.Change,o.initialTarget);s.translationX=e.pageX-M(o.rollingPageX),s.translationY=e.pageY-M(o.rollingPageY),s.pageX=e.pageX,s.pageY=e.pageY,this.dispatchEvent(s),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(e.pageX),o.rollingPageY.push(e.pageY),o.rollingTimestamps.push(i)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)};return i}(Cn);wk.SCROLL_FRICTION=-.005,wk.HOLD_DELAY=700,wk.CLEAR_TAP_COUNT_TIME=400,gk([vk],wk,"isTouchDevice",null);var pk=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.onclick=function(t,i){this._register(Oa(t,Ec.CLICK,(function(n){return i(new Ts(ka(t),n))})))};i.prototype.onmousedown=function(t,i){this._register(Oa(t,Ec.MOUSE_DOWN,(function(n){return i(new Ts(ka(t),n))})))};i.prototype.onmouseover=function(t,i){this._register(Oa(t,Ec.MOUSE_OVER,(function(n){return i(new Ts(ka(t),n))})))};i.prototype.onmouseleave=function(t,i){this._register(Oa(t,Ec.MOUSE_LEAVE,(function(n){return i(new Ts(ka(t),n))})))};i.prototype.onkeydown=function(t,i){this._register(Oa(t,Ec.KEY_DOWN,(function(t){return i(new Qs(t))})))};i.prototype.onkeyup=function(t,i){this._register(Oa(t,Ec.KEY_UP,(function(t){return i(new Qs(t))})))};i.prototype.oninput=function(t,i){this._register(Oa(t,Ec.INPUT,i))};i.prototype.onblur=function(t,i){this._register(Oa(t,Ec.BLUR,i))};i.prototype.onfocus=function(t,i){this._register(Oa(t,Ec.FOCUS,i))};i.prototype.ignoreGesture=function(t){return wk.ignoreTarget(t)};return i}(Cn);var mk=11;var bk=function(t){__extends(i,t);function i(i){var n;var r=this;r=t.call(this)||this,r._onActivate=i.onActivate,r.bgDomNode=document.createElement("div"),r.bgDomNode.className="arrow-background",r.bgDomNode.style.position="absolute",r.bgDomNode.style.width=i.bgWidth+"px",r.bgDomNode.style.height=i.bgHeight+"px",i.top!==void 0&&(r.bgDomNode.style.top="0px"),i.left!==void 0&&(r.bgDomNode.style.left="0px"),i.bottom!==void 0&&(r.bgDomNode.style.bottom="0px"),i.right!==void 0&&(r.bgDomNode.style.right="0px"),r.domNode=document.createElement("div"),r.domNode.className=i.className,(n=r.domNode.classList).add.apply(n,xh.asClassNameArray(i.icon)),r.domNode.style.position="absolute",r.domNode.style.width="11px",r.domNode.style.height="11px",i.top!==void 0&&(r.domNode.style.top=i.top+"px"),i.left!==void 0&&(r.domNode.style.left=i.left+"px"),i.bottom!==void 0&&(r.domNode.style.bottom=i.bottom+"px"),i.right!==void 0&&(r.domNode.style.right=i.right+"px"),r._pointerMoveMonitor=r._register(new sp),r._register(Ra(r.bgDomNode,Ec.POINTER_DOWN,(function(t){return r._arrowPointerDown(t)}))),r._register(Ra(r.domNode,Ec.POINTER_DOWN,(function(t){return r._arrowPointerDown(t)}))),r._pointerdownRepeatTimer=r._register(new Ha),r._pointerdownScheduleRepeatTimer=r._register(new Ks);return r}i.prototype._arrowPointerDown=function(t){var i=this;t.target&&t.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((function(){i._pointerdownRepeatTimer.cancelAndSet((function(){return i._onActivate()}),1e3/24,ka(t))}),200),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,(function(t){}),(function(){i._pointerdownRepeatTimer.cancel(),i._pointerdownScheduleRepeatTimer.cancel()})),t.preventDefault())};return i}(pk);var yk=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._visibility=i,e._visibleClassName=n,e._invisibleClassName=r,e._domNode=null,e._isVisible=!1,e._isNeeded=!1,e._rawShouldBeVisible=!1,e._shouldBeVisible=!1,e._revealTimer=e._register(new Ks);return e}i.prototype.setVisibility=function(t){this._visibility!==t&&(this._visibility=t,this._updateShouldBeVisible())};i.prototype.setShouldBeVisible=function(t){this._rawShouldBeVisible=t,this._updateShouldBeVisible()};i.prototype._applyVisibilitySetting=function(){return this._visibility!==2&&(this._visibility===3||this._rawShouldBeVisible)};i.prototype._updateShouldBeVisible=function(){var t=this._applyVisibilitySetting();this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())};i.prototype.setIsNeeded=function(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())};i.prototype.setDomNode=function(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)};i.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)};i.prototype._reveal=function(){var t=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((function(){var i;(i=t._domNode)===null||i===void 0||i.setClassName(t._visibleClassName)}),0))};i.prototype._hide=function(t){var i;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(i=this._domNode)===null||i===void 0||i.setClassName(this._invisibleClassName+(t?" fade":"")))};return i}(Cn);var kk=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._lazyRender=i.lazyRender,n._host=i.host,n._scrollable=i.scrollable,n._scrollByPage=i.scrollByPage,n._scrollbarState=i.scrollbarState,n._visibilityController=n._register(new yk(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),n._visibilityController.setIsNeeded(n._scrollbarState.isNeeded()),n._pointerMoveMonitor=n._register(new sp),n._shouldRender=!0,n.domNode=th(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n._register(Oa(n.domNode.domNode,Ec.POINTER_DOWN,(function(t){return n._domNodePointerDown(t)})));return n}i.prototype._createArrow=function(t){var i=this._register(new bk(t));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)};i.prototype._createSlider=function(t,i,n,r){var e=this;this.slider=th(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(i),typeof n=="number"&&this.slider.setWidth(n),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(Oa(this.slider.domNode,Ec.POINTER_DOWN,(function(t){t.button===0&&(t.preventDefault(),e._sliderPointerDown(t))}))),this.onclick(this.slider.domNode,(function(t){t.leftButton&&t.stopPropagation()}))};i.prototype._onElementSize=function(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender};i.prototype._onElementScrollSize=function(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender};i.prototype._onElementScrollPosition=function(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender};i.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)};i.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)};i.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))};i.prototype._domNodePointerDown=function(t){t.target===this.domNode.domNode&&this._onPointerDown(t)};i.prototype.delegatePointerDown=function(t){var i=this.domNode.domNode.getClientRects()[0].top,n=i+this._scrollbarState.getSliderPosition(),r=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),e=this._sliderPointerPosition(t);n<=e&&e<=r?t.button===0&&(t.preventDefault(),this._sliderPointerDown(t)):this._onPointerDown(t)};i.prototype._onPointerDown=function(t){var i,n;if(t.target===this.domNode.domNode&&typeof t.offsetX=="number"&&typeof t.offsetY=="number")i=t.offsetX,n=t.offsetY;else{var r=Ka(this.domNode.domNode);i=t.pageX-r.left,n=t.pageY-r.top}var e=this._pointerDownRelativePosition(i,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(e):this._scrollbarState.getDesiredScrollPositionFromOffset(e)),t.button===0&&(t.preventDefault(),this._sliderPointerDown(t))};i.prototype._sliderPointerDown=function(t){var i=this;if(!(t.target&&t.target instanceof Element))return;var n=this._sliderPointerPosition(t),r=this._sliderOrthogonalPointerPosition(t),e=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,(function(t){var o=i._sliderOrthogonalPointerPosition(t),s=Math.abs(o-r);if(Wt&&s>140)return void i._setDesiredScrollPositionNow(e.getScrollPosition());var u=i._sliderPointerPosition(t)-n;i._setDesiredScrollPositionNow(e.getDesiredScrollPositionFromDelta(u))}),(function(){i.slider.toggleClassName("active",!1),i._host.onDragEnd()})),this._host.onDragStart()};i.prototype._setDesiredScrollPositionNow=function(t){var i={};this.writeScrollPosition(i,t),this._scrollable.setScrollPositionNow(i)};i.prototype.updateScrollbarSize=function(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()};i.prototype.isNeeded=function(){return this._scrollbarState.isNeeded()};return i}(pk);var xk=function(){function t(t,i,n,r,e,o){this._scrollbarSize=Math.round(i),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(t),this._visibleSize=r,this._scrollSize=e,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}t.prototype.clone=function(){return new t(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)};t.prototype.setVisibleSize=function(t){var i=Math.round(t);return this._visibleSize!==i&&(this._visibleSize=i,this._refreshComputedValues(),!0)};t.prototype.setScrollSize=function(t){var i=Math.round(t);return this._scrollSize!==i&&(this._scrollSize=i,this._refreshComputedValues(),!0)};t.prototype.setScrollPosition=function(t){var i=Math.round(t);return this._scrollPosition!==i&&(this._scrollPosition=i,this._refreshComputedValues(),!0)};t.prototype.setScrollbarSize=function(t){this._scrollbarSize=Math.round(t)};t.prototype.setOppositeScrollbarSize=function(t){this._oppositeScrollbarSize=Math.round(t)};t._computeValues=function(t,i,n,r,e){var o=Math.max(0,n-t),s=Math.max(0,o-2*i),u=r>0&&r>n;if(!u)return{computedAvailableSize:Math.round(o),computedIsNeeded:u,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};var a=Math.round(Math.max(20,Math.floor(n*s/r))),c=(s-a)/(r-n),h=e*c;return{computedAvailableSize:Math.round(o),computedIsNeeded:u,computedSliderSize:Math.round(a),computedSliderRatio:c,computedSliderPosition:Math.round(h)}};t.prototype._refreshComputedValues=function(){var i=t._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=i.computedAvailableSize,this._computedIsNeeded=i.computedIsNeeded,this._computedSliderSize=i.computedSliderSize,this._computedSliderRatio=i.computedSliderRatio,this._computedSliderPosition=i.computedSliderPosition};t.prototype.getArrowSize=function(){return this._arrowSize};t.prototype.getScrollPosition=function(){return this._scrollPosition};t.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize};t.prototype.getRectangleSmallSize=function(){return this._scrollbarSize};t.prototype.isNeeded=function(){return this._computedIsNeeded};t.prototype.getSliderSize=function(){return this._computedSliderSize};t.prototype.getSliderPosition=function(){return this._computedSliderPosition};t.prototype.getDesiredScrollPositionFromOffset=function(t){if(!this._computedIsNeeded)return 0;var i=t-this._arrowSize-this._computedSliderSize/2;return Math.round(i/this._computedSliderRatio)};t.prototype.getDesiredScrollPositionFromOffsetPaged=function(t){if(!this._computedIsNeeded)return 0;var i=t-this._arrowSize;var n=this._scrollPosition;return i<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n};t.prototype.getDesiredScrollPositionFromDelta=function(t){if(!this._computedIsNeeded)return 0;var i=this._computedSliderPosition+t;return Math.round(i/this._computedSliderRatio)};return t}();var Ek=function(t){__extends(i,t);function i(i,n,r){var e=this;var o=i.getScrollDimensions(),s=i.getCurrentScrollPosition();if(e=t.call(this,{lazyRender:n.lazyRender,host:r,scrollbarState:new xk(n.horizontalHasArrows?n.arrowSize:0,n.horizontal===2?0:n.horizontalScrollbarSize,n.vertical===2?0:n.verticalScrollbarSize,o.width,o.scrollWidth,s.scrollLeft),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:i,scrollByPage:n.scrollByPage})||this,n.horizontalHasArrows){var u=(n.arrowSize-mk)/2,a=(n.horizontalScrollbarSize-mk)/2;e._createArrow({className:"scra",icon:re.scrollbarButtonLeft,top:a,left:u,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return e._host.onMouseWheel(new Ls(null,1,0))}}),e._createArrow({className:"scra",icon:re.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:u,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return e._host.onMouseWheel(new Ls(null,-1,0))}})}e._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,void 0,n.horizontalSliderSize);return e}i.prototype._updateSlider=function(t,i){this.slider.setWidth(t),this.slider.setLeft(i)};i.prototype._renderDomNode=function(t,i){this.domNode.setWidth(t),this.domNode.setHeight(i),this.domNode.setLeft(0),this.domNode.setBottom(0)};i.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender};i.prototype._pointerDownRelativePosition=function(t,i){return t};i.prototype._sliderPointerPosition=function(t){return t.pageX};i.prototype._sliderOrthogonalPointerPosition=function(t){return t.pageY};i.prototype._updateScrollbarSize=function(t){this.slider.setHeight(t)};i.prototype.writeScrollPosition=function(t,i){t.scrollLeft=i};i.prototype.updateOptions=function(t){this.updateScrollbarSize(t.horizontal===2?0:t.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._visibilityController.setVisibility(t.horizontal),this._scrollByPage=t.scrollByPage};return i}(kk);var Bk=function(t){__extends(i,t);function i(i,n,r){var e=this;var o=i.getScrollDimensions(),s=i.getCurrentScrollPosition();if(e=t.call(this,{lazyRender:n.lazyRender,host:r,scrollbarState:new xk(n.verticalHasArrows?n.arrowSize:0,n.vertical===2?0:n.verticalScrollbarSize,0,o.height,o.scrollHeight,s.scrollTop),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:i,scrollByPage:n.scrollByPage})||this,n.verticalHasArrows){var u=(n.arrowSize-mk)/2,a=(n.verticalScrollbarSize-mk)/2;e._createArrow({className:"scra",icon:re.scrollbarButtonUp,top:u,left:a,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return e._host.onMouseWheel(new Ls(null,0,1))}}),e._createArrow({className:"scra",icon:re.scrollbarButtonDown,top:void 0,left:a,bottom:u,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return e._host.onMouseWheel(new Ls(null,0,-1))}})}e._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,void 0);return e}i.prototype._updateSlider=function(t,i){this.slider.setHeight(t),this.slider.setTop(i)};i.prototype._renderDomNode=function(t,i){this.domNode.setWidth(i),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)};i.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender};i.prototype._pointerDownRelativePosition=function(t,i){return i};i.prototype._sliderPointerPosition=function(t){return t.pageY};i.prototype._sliderOrthogonalPointerPosition=function(t){return t.pageX};i.prototype._updateScrollbarSize=function(t){this.slider.setWidth(t)};i.prototype.writeScrollPosition=function(t,i){t.scrollTop=i};i.prototype.updateOptions=function(t){this.updateScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(t.vertical),this._scrollByPage=t.scrollByPage};return i}(kk);var Ck=function(){function t(t,i,n,r,e,o,s){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(i|=0,n|=0,r|=0,e|=0,o|=0,s|=0),this.rawScrollLeft=r,this.rawScrollTop=s,i<0&&(i=0),r+i>n&&(r=n-i),r<0&&(r=0),e<0&&(e=0),s+e>o&&(s=o-e),s<0&&(s=0),this.width=i,this.scrollWidth=n,this.scrollLeft=r,this.height=e,this.scrollHeight=o,this.scrollTop=s}t.prototype.equals=function(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop};t.prototype.withScrollDimensions=function(i,n){return new t(this._forceIntegerValues,i.width!==void 0?i.width:this.width,i.scrollWidth!==void 0?i.scrollWidth:this.scrollWidth,n?this.rawScrollLeft:this.scrollLeft,i.height!==void 0?i.height:this.height,i.scrollHeight!==void 0?i.scrollHeight:this.scrollHeight,n?this.rawScrollTop:this.scrollTop)};t.prototype.withScrollPosition=function(i){return new t(this._forceIntegerValues,this.width,this.scrollWidth,i.scrollLeft!==void 0?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,i.scrollTop!==void 0?i.scrollTop:this.rawScrollTop)};t.prototype.createScrollEvent=function(t,i){var n=this.width!==t.width,r=this.scrollWidth!==t.scrollWidth,e=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,s=this.scrollHeight!==t.scrollHeight,u=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:i,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:r,scrollLeftChanged:e,heightChanged:o,scrollHeightChanged:s,scrollTopChanged:u}};return t}();var Dk=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._scrollableBrand=void 0,n._onScroll=n._register(new Ln),n.onScroll=n._onScroll.event,n._smoothScrollDuration=i.smoothScrollDuration,n._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,n._state=new Ck(i.forceIntegerValues,0,0,0,0,0,0),n._smoothScrolling=null;return n}i.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),t.prototype.dispose.call(this)};i.prototype.setSmoothScrollDuration=function(t){this._smoothScrollDuration=t};i.prototype.validateScrollPosition=function(t){return this._state.withScrollPosition(t)};i.prototype.getScrollDimensions=function(){return this._state};i.prototype.setScrollDimensions=function(t,i){var n;var r=this._state.withScrollDimensions(t,i);this._setState(r,!!this._smoothScrolling),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)};i.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state};i.prototype.getCurrentScrollPosition=function(){return this._state};i.prototype.setScrollPositionNow=function(t){var i=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(i,!1)};i.prototype.setScrollPositionSmooth=function(t,i){var n=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:t.scrollLeft===void 0?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:t.scrollTop===void 0?this._smoothScrolling.to.scrollTop:t.scrollTop};var r=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;var e=void 0;e=i?new Fk(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=e}else{var r=this._state.withScrollPosition(t);this._smoothScrolling=Fk.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((function(){n._smoothScrolling&&(n._smoothScrolling.animationFrameDisposable=null,n._performSmoothScrolling())}))};i.prototype.hasPendingScrollAnimation=function(){return!!this._smoothScrolling};i.prototype._performSmoothScrolling=function(){var t=this;if(!this._smoothScrolling)return;var i=this._smoothScrolling.tick(),n=this._state.withScrollPosition(i);return this._setState(n,!0),this._smoothScrolling?i.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())}))):void 0};i.prototype._setState=function(t,i){var n=this._state;n.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(n,i)))};return i}(Cn);var Mk=function(){function t(t,i,n){this.scrollLeft=t,this.scrollTop=i,this.isDone=n}return t}();function _k(t,i){var n=i-t;return function(i){return t+n*(1-function(t){return Math.pow(t,3)}(1-i))}}var Fk=function(){function t(t,i,n,r){this.from=t,this.to=i,this.duration=r,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}t.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)};t.prototype._initAnimation=function(t,i,n){if(Math.abs(t-i)>2.5*n){var r=void 0,e=void 0;return t<i?(r=t+.75*n,e=i-.75*n):(r=t-.75*n,e=i+.75*n),o=_k(t,r),s=_k(e,i),u=.33,function(t){return t<u?o(t/u):s((t-u)/(1-u))}}var o,s,u;return _k(t,i)};t.prototype.dispose=function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)};t.prototype.acceptScrollDimensions=function(t){this.to=t.withScrollPosition(this.to),this._initAnimations()};t.prototype.tick=function(){return this._tick(Date.now())};t.prototype._tick=function(t){var i=(t-this.startTime)/this.duration;if(i<1){var n=this.scrollLeft(i),r=this.scrollTop(i);return new Mk(n,r,!1)}return new Mk(this.to.scrollLeft,this.to.scrollTop,!0)};t.prototype.combine=function(i,n,r){return t.start(i,n,r)};t.start=function(i,n,r){r+=10;var e=Date.now()-10;return new t(i,n,e,r)};return t}();var Sk=function(){function t(t,i,n){this.timestamp=t,this.deltaX=i,this.deltaY=n,this.score=0}return t}();var Ik=function(){function t(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}t.prototype.isPhysicalMouseWheel=function(){if(this._front===-1&&this._rear===-1)return!1;var t=1,i=0,n=1,r=this._rear;for(;;){var e=r===this._front?t:Math.pow(2,-n);if(t-=e,i+=this._memory[r].score*e,r===this._front)break;r=(this._capacity+r-1)%this._capacity,n++}return i<=.5};t.prototype.acceptStandardWheelEvent=function(t){if(bs){var i=function(t){return As.INSTANCE.getZoomFactor(t)}(ka(t.browserEvent));this.accept(Date.now(),t.deltaX*i,t.deltaY*i)}else this.accept(Date.now(),t.deltaX,t.deltaY)};t.prototype.accept=function(t,i,n){var r=null;var e=new Sk(t,i,n);this._front===-1&&this._rear===-1?(this._memory[0]=e,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=e),e.score=this._computeScore(e,r)};t.prototype._computeScore=function(t,i){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;var n=.5;if(this._isAlmostInt(t.deltaX)&&this._isAlmostInt(t.deltaY)||(n+=.25),i){var r=Math.abs(t.deltaX),e=Math.abs(t.deltaY),o=Math.abs(i.deltaX),s=Math.abs(i.deltaY),u=Math.max(Math.min(r,o),1),a=Math.max(Math.min(e,s),1),c=Math.max(r,o),h=Math.max(e,s);c%u==0&&h%a==0&&(n-=.5)}return Math.min(Math.max(n,0),1)};t.prototype._isAlmostInt=function(t){return Math.abs(Math.round(t)-t)<.01};return t}();Ik.INSTANCE=new Ik;var Qk=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._onScroll=e._register(new Ln),e.onScroll=e._onScroll.event,e._onWillScroll=e._register(new Ln),i.style.overflow="hidden",e._options=function(t){var i={lazyRender:t.lazyRender!==void 0&&t.lazyRender,className:t.className!==void 0?t.className:"",useShadows:t.useShadows===void 0||t.useShadows,handleMouseWheel:t.handleMouseWheel===void 0||t.handleMouseWheel,flipAxes:t.flipAxes!==void 0&&t.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:t.consumeMouseWheelIfScrollbarIsNeeded!==void 0&&t.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel!==void 0&&t.alwaysConsumeMouseWheel,scrollYToX:t.scrollYToX!==void 0&&t.scrollYToX,mouseWheelScrollSensitivity:t.mouseWheelScrollSensitivity!==void 0?t.mouseWheelScrollSensitivity:1,fastScrollSensitivity:t.fastScrollSensitivity!==void 0?t.fastScrollSensitivity:5,scrollPredominantAxis:t.scrollPredominantAxis===void 0||t.scrollPredominantAxis,mouseWheelSmoothScroll:t.mouseWheelSmoothScroll===void 0||t.mouseWheelSmoothScroll,arrowSize:t.arrowSize!==void 0?t.arrowSize:11,listenOnDomNode:t.listenOnDomNode!==void 0?t.listenOnDomNode:null,horizontal:t.horizontal!==void 0?t.horizontal:1,horizontalScrollbarSize:t.horizontalScrollbarSize!==void 0?t.horizontalScrollbarSize:10,horizontalSliderSize:t.horizontalSliderSize!==void 0?t.horizontalSliderSize:0,horizontalHasArrows:t.horizontalHasArrows!==void 0&&t.horizontalHasArrows,vertical:t.vertical!==void 0?t.vertical:1,verticalScrollbarSize:t.verticalScrollbarSize!==void 0?t.verticalScrollbarSize:10,verticalHasArrows:t.verticalHasArrows!==void 0&&t.verticalHasArrows,verticalSliderSize:t.verticalSliderSize!==void 0?t.verticalSliderSize:0,scrollByPage:t.scrollByPage!==void 0&&t.scrollByPage};return i.horizontalSliderSize=t.horizontalSliderSize!==void 0?t.horizontalSliderSize:i.horizontalScrollbarSize,i.verticalSliderSize=t.verticalSliderSize!==void 0?t.verticalSliderSize:i.verticalScrollbarSize,Gt&&(i.className+=" mac"),i}(n),e._scrollable=r,e._register(e._scrollable.onScroll((function(t){e._onWillScroll.fire(t),e._onDidScroll(t),e._onScroll.fire(t)})));var o={onMouseWheel:function(t){return e._onMouseWheel(t)},onDragStart:function(){return e._onDragStart()},onDragEnd:function(){return e._onDragEnd()}};e._verticalScrollbar=e._register(new Bk(e._scrollable,e._options,o)),e._horizontalScrollbar=e._register(new Ek(e._scrollable,e._options,o)),e._domNode=document.createElement("div"),e._domNode.className="monaco-scrollable-element "+e._options.className,e._domNode.setAttribute("role","presentation"),e._domNode.style.position="relative",e._domNode.style.overflow="hidden",e._domNode.appendChild(i),e._domNode.appendChild(e._horizontalScrollbar.domNode.domNode),e._domNode.appendChild(e._verticalScrollbar.domNode.domNode),e._options.useShadows?(e._leftShadowDomNode=th(document.createElement("div")),e._leftShadowDomNode.setClassName("shadow"),e._domNode.appendChild(e._leftShadowDomNode.domNode),e._topShadowDomNode=th(document.createElement("div")),e._topShadowDomNode.setClassName("shadow"),e._domNode.appendChild(e._topShadowDomNode.domNode),e._topLeftShadowDomNode=th(document.createElement("div")),e._topLeftShadowDomNode.setClassName("shadow"),e._domNode.appendChild(e._topLeftShadowDomNode.domNode)):(e._leftShadowDomNode=null,e._topShadowDomNode=null,e._topLeftShadowDomNode=null),e._listenOnDomNode=e._options.listenOnDomNode||e._domNode,e._mouseWheelToDispose=[],e._setListeningToMouseWheel(e._options.handleMouseWheel),e.onmouseover(e._listenOnDomNode,(function(t){return e._onMouseOver(t)})),e.onmouseleave(e._listenOnDomNode,(function(t){return e._onMouseLeave(t)})),e._hideTimeout=e._register(new Ks),e._isDragging=!1,e._mouseIsOver=!1,e._shouldRender=!0,e._revealOnScroll=!0;return e}Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:false,configurable:true});i.prototype.dispose=function(){this._mouseWheelToDispose=kn(this._mouseWheelToDispose),t.prototype.dispose.call(this)};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}};i.prototype.delegateVerticalScrollbarPointerDown=function(t){this._verticalScrollbar.delegatePointerDown(t)};i.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()};i.prototype.setScrollDimensions=function(t){this._scrollable.setScrollDimensions(t,!1)};i.prototype.updateClassName=function(t){this._options.className=t,Gt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className};i.prototype.updateOptions=function(t){t.handleMouseWheel!==void 0&&(this._options.handleMouseWheel=t.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),t.mouseWheelScrollSensitivity!==void 0&&(this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity),t.fastScrollSensitivity!==void 0&&(this._options.fastScrollSensitivity=t.fastScrollSensitivity),t.scrollPredominantAxis!==void 0&&(this._options.scrollPredominantAxis=t.scrollPredominantAxis),t.horizontal!==void 0&&(this._options.horizontal=t.horizontal),t.vertical!==void 0&&(this._options.vertical=t.vertical),t.horizontalScrollbarSize!==void 0&&(this._options.horizontalScrollbarSize=t.horizontalScrollbarSize),t.verticalScrollbarSize!==void 0&&(this._options.verticalScrollbarSize=t.verticalScrollbarSize),t.scrollByPage!==void 0&&(this._options.scrollByPage=t.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()};i.prototype.delegateScrollFromMouseWheelEvent=function(t){this._onMouseWheel(new Ls(t))};i.prototype._setListeningToMouseWheel=function(t){var i=this;if(this._mouseWheelToDispose.length>0!==t&&(this._mouseWheelToDispose=kn(this._mouseWheelToDispose),t)){var n=function(t){i._onMouseWheel(new Ls(t))};this._mouseWheelToDispose.push(Oa(this._listenOnDomNode,Ec.MOUSE_WHEEL,n,{passive:!1}))}};i.prototype._onMouseWheel=function(t){var i;var n;if(!((n=t.browserEvent)===null||n===void 0)&&n.defaultPrevented)return;var r=Ik.INSTANCE;r.acceptStandardWheelEvent(t);var e=!1;if(t.deltaY||t.deltaX){var o=t.deltaY*this._options.mouseWheelScrollSensitivity,s=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&s+o===0?s=o=0:Math.abs(o)>=Math.abs(s)?s=0:o=0),this._options.flipAxes&&(i=[s,o],o=i[0],s=i[1],i);var u=!Gt&&t.browserEvent&&t.browserEvent.shiftKey;!this._options.scrollYToX&&!u||s||(s=o,o=0),t.browserEvent&&t.browserEvent.altKey&&(s*=this._options.fastScrollSensitivity,o*=this._options.fastScrollSensitivity);var a=this._scrollable.getFutureScrollPosition();var c={};if(o){var h=50*o,f=a.scrollTop-(h<0?Math.floor(h):Math.ceil(h));this._verticalScrollbar.writeScrollPosition(c,f)}if(s){var h=50*s,f=a.scrollLeft-(h<0?Math.floor(h):Math.ceil(h));this._horizontalScrollbar.writeScrollPosition(c,f)}c=this._scrollable.validateScrollPosition(c),(a.scrollLeft!==c.scrollLeft||a.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&r.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),e=!0)}var l=e;!l&&this._options.alwaysConsumeMouseWheel&&(l=!0),!l&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(l=!0),l&&(t.preventDefault(),t.stopPropagation())};i.prototype._onDidScroll=function(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()};i.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()};i.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var t=this._scrollable.getCurrentScrollPosition(),i=t.scrollTop>0,n=t.scrollLeft>0,r=n?" left":"",e=i?" top":"",o=n||i?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(r)),this._topShadowDomNode.setClassName("shadow".concat(e)),this._topLeftShadowDomNode.setClassName("shadow".concat(o).concat(e).concat(r))}};i.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()};i.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()};i.prototype._onMouseLeave=function(t){this._mouseIsOver=!1,this._hide()};i.prototype._onMouseOver=function(t){this._mouseIsOver=!0,this._reveal()};i.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()};i.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())};i.prototype._scheduleHide=function(){var t=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((function(){return t._hide()}),500)};return i}(pk);var Ok=function(t){__extends(i,t);function i(i,n){var r=this;(n=n||{}).mouseWheelSmoothScroll=!1;var e=new Dk({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(t){return Ua(ka(i),t)}});r=t.call(this,i,n,e)||this,r._register(e);return r}i.prototype.setScrollPosition=function(t){this._scrollable.setScrollPositionNow(t)};return i}(Qk);var Nk=function(t){__extends(i,t);function i(i,n,r){return t.call(this,i,n,r)||this}i.prototype.setScrollPosition=function(t){t.reuseAnimation?this._scrollable.setScrollPositionSmooth(t,t.reuseAnimation):this._scrollable.setScrollPositionNow(t)};i.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()};return i}(Qk);var Rk=function(t){__extends(i,t);function i(i,n){var r=this;(n=n||{}).mouseWheelSmoothScroll=!1;var e=new Dk({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(t){return Ua(ka(i),t)}});r=t.call(this,i,n,e)||this,r._register(e),r._element=i,r._register(r.onScroll((function(t){t.scrollTopChanged&&(r._element.scrollTop=t.scrollTop),t.scrollLeftChanged&&(r._element.scrollLeft=t.scrollLeft)}))),r.scanDomNode();return r}i.prototype.setScrollPosition=function(t){this._scrollable.setScrollPositionNow(t)};i.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()};i.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})};return i}(Qk);var Tk=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._mouseLeaveMonitor=null,e._context=i,e.viewController=n,e.viewHelper=r,e.mouseTargetFactory=new lk(e._context,r),e._mouseDownOperation=e._register(new Lk(e._context,e.viewController,e.viewHelper,e.mouseTargetFactory,(function(t,i){return e._createMouseTarget(t,i)}),(function(t){return e._getMouseColumn(t)}))),e.lastMouseLeaveTime=-1,e._height=e._context.configuration.options.get(145).height;var o=new ky(e.viewHelper.viewDomNode);e._register(o.onContextMenu(e.viewHelper.viewDomNode,(function(t){return e._onContextMenu(t,!0)}))),e._register(o.onMouseMove(e.viewHelper.viewDomNode,(function(t){e._onMouseMove(t),e._mouseLeaveMonitor||(e._mouseLeaveMonitor=Oa(e.viewHelper.viewDomNode.ownerDocument,"mousemove",(function(t){e.viewHelper.viewDomNode.contains(t.target)||e._onMouseLeave(new yy(t,!1,e.viewHelper.viewDomNode))})))}))),e._register(o.onMouseUp(e.viewHelper.viewDomNode,(function(t){return e._onMouseUp(t)}))),e._register(o.onMouseLeave(e.viewHelper.viewDomNode,(function(t){return e._onMouseLeave(t)})));var s=0;e._register(o.onPointerDown(e.viewHelper.viewDomNode,(function(t,i){s=i}))),e._register(Oa(e.viewHelper.viewDomNode,Ec.POINTER_UP,(function(t){e._mouseDownOperation.onPointerUp()}))),e._register(o.onMouseDown(e.viewHelper.viewDomNode,(function(t){return e._onMouseDown(t,s)}))),e._setupMouseWheelZoomListener(),e._context.addEventHandler(e);return e}i.prototype._setupMouseWheelZoomListener=function(){var t=this;var i=Ik.INSTANCE;var n=0,r=eh.getZoomLevel(),e=!1,o=0;function s(t){return Gt?(t.metaKey||t.ctrlKey)&&!t.shiftKey&&!t.altKey:t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey}this._register(Oa(this.viewHelper.viewDomNode,Ec.MOUSE_WHEEL,(function(u){if(t.viewController.emitMouseWheel(u),!t._context.configuration.options.get(76))return;var a=new Ls(u);if(i.acceptStandardWheelEvent(a),i.isPhysicalMouseWheel()){if(s(u)){var c=eh.getZoomLevel(),h=a.deltaY>0?1:-1;eh.setZoomLevel(c+h),a.preventDefault(),a.stopPropagation()}}else Date.now()-n>50&&(r=eh.getZoomLevel(),e=s(u),o=0),n=Date.now(),o+=a.deltaY,e&&(eh.setZoomLevel(r+o/5),a.preventDefault(),a.stopPropagation())}),{capture:!0,passive:!1}))};i.prototype.dispose=function(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){if(t.hasChanged(145)){var i=this._context.configuration.options.get(145).height;this._height!==i&&(this._height=i,this._mouseDownOperation.onHeightChanged())}return!1};i.prototype.onCursorStateChanged=function(t){return this._mouseDownOperation.onCursorStateChanged(t),!1};i.prototype.onFocusChanged=function(t){return!1};i.prototype.getTargetAtClientPoint=function(t,i){var n=new gy(t,i).toPageCoordinates(ka(this.viewHelper.viewDomNode)),r=my(this.viewHelper.viewDomNode);if(n.y<r.y||n.y>r.y+r.height||n.x<r.x||n.x>r.x+r.width)return null;var e=by(this.viewHelper.viewDomNode,r,n);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r,n,e,null)};i.prototype._createMouseTarget=function(t,i){var n=this;var r=t.target;if(!this.viewHelper.viewDomNode.contains(r)){var e=oc(this.viewHelper.viewDomNode);e&&(r=e.elementsFromPoint(t.posx,t.posy).find((function(t){return n.viewHelper.viewDomNode.contains(t)})))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,i?r:null)};i.prototype._getMouseColumn=function(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)};i.prototype._onContextMenu=function(t,i){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,i)})};i.prototype._onMouseMove=function(t){this.mouseTargetFactory.mouseTargetIsWidget(t)||t.preventDefault(),!this._mouseDownOperation.isActive()&&(t.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)}))};i.prototype._onMouseLeave=function(t){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:t,target:null})};i.prototype._onMouseUp=function(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})};i.prototype._onMouseDown=function(t,i){var n=this;var r=this._createMouseTarget(t,!0),e=r.type===6||r.type===7,o=r.type===2||r.type===3||r.type===4,s=r.type===3,u=this._context.configuration.options.get(109),a=r.type===8||r.type===5,c=r.type===9;var h=t.leftButton||t.middleButton;Gt&&t.leftButton&&t.ctrlKey&&(h=!1);var f=function(){t.preventDefault(),n.viewHelper.focusTextArea()};if(h&&(e||s&&u))f(),this._mouseDownOperation.start(r.type,t,i);else if(o)t.preventDefault();else if(a){var l=r.detail;h&&this.viewHelper.shouldSuppressMouseDownOnViewZone(l.viewZoneId)&&(f(),this._mouseDownOperation.start(r.type,t,i),t.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(r.detail)&&(f(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:r})};return i}(My);var Lk=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._context=i,u._viewController=n,u._viewHelper=r,u._mouseTargetFactory=e,u._createMouseTarget=o,u._getMouseColumn=s,u._mouseMoveMonitor=u._register(new Ey(u._viewHelper.viewDomNode)),u._topBottomDragScrolling=u._register(new jk(u._context,u._viewHelper,u._mouseTargetFactory,(function(t,i,n){return u._dispatchMouse(t,i,n)}))),u._mouseState=new Uk,u._currentSelection=new $r(1,1,1,1),u._isActive=!1,u._lastMouseEvent=null;return u}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.isActive=function(){return this._isActive};i.prototype._onMouseDownThenMove=function(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);var i=this._findMousePosition(t,!1);i&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:i}):i.type!==13||i.outsidePosition!=="above"&&i.outsidePosition!=="below"?(this._topBottomDragScrolling.stop(),this._dispatchMouse(i,!0,1)):this._topBottomDragScrolling.start(i,t))};i.prototype.start=function(t,i,n){var r=this;this._lastMouseEvent=i,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(i),this._mouseState.setModifiers(i);var e=this._findMousePosition(i,!0);if(!e||!e.position)return;this._mouseState.trySetCount(i.detail,e.position),i.detail=this._mouseState.count;var o=this._context.configuration.options;if(!o.get(91)&&o.get(35)&&!o.get(22)&&!this._mouseState.altKey&&i.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&e.type===6&&e.position&&this._currentSelection.containsPosition(e.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,n,i.buttons,(function(t){return r._onMouseDownThenMove(t)}),(function(t){var i=r._findMousePosition(r._lastMouseEvent,!1);xc(t)?r._viewController.emitMouseDropCanceled():r._viewController.emitMouseDrop({event:r._lastMouseEvent,target:i?r._createMouseTarget(r._lastMouseEvent,!0):null}),r._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(e,i.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,n,i.buttons,(function(t){return r._onMouseDownThenMove(t)}),(function(){return r._stop()})))};i.prototype._stop=function(){this._isActive=!1,this._topBottomDragScrolling.stop()};i.prototype.onHeightChanged=function(){this._mouseMoveMonitor.stopMonitoring()};i.prototype.onPointerUp=function(){this._mouseMoveMonitor.stopMonitoring()};i.prototype.onCursorStateChanged=function(t){this._currentSelection=t.selections[0]};i.prototype._getPositionOutsideEditor=function(t){var i=t.editorPos,n=this._context.viewModel,r=this._context.viewLayout,e=this._getMouseColumn(t);if(t.posy<i.y){var o=i.y-t.posy,s=Math.max(r.getCurrentScrollTop()-o,0),u=uk.getZoneAtCoord(this._context,s);if(u){var a=this._helpPositionJumpOverViewZone(u);if(a)return ok.createOutsideEditor(e,a,"above",o)}var c=r.getLineNumberAtVerticalOffset(s);return ok.createOutsideEditor(e,new qr(c,1),"above",o)}if(t.posy>i.y+i.height){var o=t.posy-i.y-i.height,s=r.getCurrentScrollTop()+t.relativePos.y,u=uk.getZoneAtCoord(this._context,s);if(u){var a=this._helpPositionJumpOverViewZone(u);if(a)return ok.createOutsideEditor(e,a,"below",o)}var h=r.getLineNumberAtVerticalOffset(s);return ok.createOutsideEditor(e,new qr(h,n.getLineMaxColumn(h)),"below",o)}var f=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+t.relativePos.y);if(t.posx<i.x){var o=i.x-t.posx;return ok.createOutsideEditor(e,new qr(f,1),"left",o)}if(t.posx>i.x+i.width){var o=t.posx-i.x-i.width;return ok.createOutsideEditor(e,new qr(f,n.getLineMaxColumn(f)),"right",o)}return null};i.prototype._findMousePosition=function(t,i){var n=this._getPositionOutsideEditor(t);if(n)return n;var r=this._createMouseTarget(t,i);if(!r.position)return null;if(r.type===8||r.type===5){var e=this._helpPositionJumpOverViewZone(r.detail);if(e)return ok.createViewZone(r.type,r.element,r.mouseColumn,e,r.detail)}return r};i.prototype._helpPositionJumpOverViewZone=function(t){var i=new qr(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=t.positionBefore,r=t.positionAfter;return n&&r?n.isBefore(i)?n:r:null};i.prototype._dispatchMouse=function(t,i,n){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:n,inSelectionMode:i,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:t.type===6&&t.detail.injectedText!==null})};return i}(Cn);var jk=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._context=i,o._viewHelper=n,o._mouseTargetFactory=r,o._dispatchMouse=e,o._operation=null;return o}i.prototype.dispose=function(){t.prototype.dispose.call(this),this.stop()};i.prototype.start=function(t,i){this._operation?this._operation.setPosition(t,i):this._operation=new zk(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,t,i)};i.prototype.stop=function(){this._operation&&(this._operation.dispose(),this._operation=null)};return i}(Cn);var zk=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._context=i,u._viewHelper=n,u._mouseTargetFactory=r,u._dispatchMouse=e,u._position=o,u._mouseEvent=s,u._lastTime=Date.now(),u._animationFrameDisposable=Ua(ka(s.browserEvent),(function(){return u._execute()}));return u}i.prototype.dispose=function(){this._animationFrameDisposable.dispose(),t.prototype.dispose.call(this)};i.prototype.setPosition=function(t,i){this._position=t,this._mouseEvent=i};i.prototype._tick=function(){var t=Date.now(),i=t-this._lastTime;return this._lastTime=t,i};i.prototype._getScrollSpeed=function(){var t=this._context.configuration.options.get(67),i=this._context.configuration.options.get(145).height/t,n=this._position.outsideDistance/t;return n<=1.5?Math.max(30,i*(1+n)):n<=3?Math.max(60,i*(2+n)):Math.max(200,i*(7+n))};i.prototype._execute=function(){var t=this;var i=this._context.configuration.options.get(67),n=this._getScrollSpeed()*(this._tick()/1e3)*i,r=this._position.outsidePosition==="above"?-n:n;this._context.viewModel.viewLayout.deltaScrollNow(0,r),this._viewHelper.renderNow();var e=this._context.viewLayout.getLinesViewportData(),o=this._position.outsidePosition==="above"?e.startLineNumber:e.endLineNumber;var s;{var u=my(this._viewHelper.viewDomNode),a=this._context.configuration.options.get(145).horizontalScrollbarHeight,c=new Ay(this._mouseEvent.pos.x,u.y+u.height-a-.1),h=by(this._viewHelper.viewDomNode,u,c);s=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),u,c,h,null)}s.position&&s.position.lineNumber===o||(s=this._position.outsidePosition==="above"?ok.createOutsideEditor(this._position.mouseColumn,new qr(o,1),"above",this._position.outsideDistance):ok.createOutsideEditor(this._position.mouseColumn,new qr(o,this._context.viewModel.getLineMaxColumn(o)),"below",this._position.outsideDistance)),this._dispatchMouse(s,!0,2),this._animationFrameDisposable=Ua(ka(s.element),(function(){return t._execute()}))};return i}(Cn);var Uk=function(){function t(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}Object.defineProperty(t.prototype,"altKey",{get:function(){return this._altKey},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:false,configurable:true});t.prototype.setModifiers=function(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey};t.prototype.setStartButtons=function(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton};t.prototype.setStartedOnLineNumbers=function(t){this._startedOnLineNumbers=t};t.prototype.trySetCount=function(i,n){var r=(new Date).getTime();r-this._lastSetMouseDownCountTime>t.CLEAR_MOUSE_DOWN_COUNT_TIME&&(i=1),this._lastSetMouseDownCountTime=r,i>this._lastMouseDownCount+1&&(i=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(i,this._lastMouseDownPositionEqualCount)};return t}();Uk.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Hk=function(){function t(t,i,n){var r=this;var e=function(t){return r.emitter.fire(t)};this.emitter=new Ln({onWillAddFirstListener:function(){return t.addEventListener(i,e,n)},onDidRemoveLastListener:function(){return t.removeEventListener(i,e,n)}})}Object.defineProperty(t.prototype,"event",{get:function(){return this.emitter.event},enumerable:false,configurable:true});t.prototype.dispose=function(){this.emitter.dispose()};return t}();var Yk=function(){function t(t,i,n,r,e){this.value=t,this.selectionStart=i,this.selectionEnd=n,this.selection=r,this.newlineCountBeforeSelection=e}t.prototype.toString=function(){return"[ <".concat(this.value,">, selectionStart: ").concat(this.selectionStart,", selectionEnd: ").concat(this.selectionEnd,"]")};t.readFromTextArea=function(i,n){var r=i.getValue(),e=i.getSelectionStart(),o=i.getSelectionEnd();var s;return n&&r.substring(0,e)===n.value.substring(0,n.selectionStart)&&(s=n.newlineCountBeforeSelection),new t(r,e,o,null,s)};t.prototype.collapseSelection=function(){return this.selectionStart===this.value.length?this:new t(this.value,this.value.length,this.value.length,null,void 0)};t.prototype.writeToTextArea=function(t,i,n){i.setValue(t,this.value),n&&i.setSelectionRange(t,this.selectionStart,this.selectionEnd)};t.prototype.deduceEditorPosition=function(t){var i,n,r,e,o,s,u,a;if(t<=this.selectionStart){var c=this.value.substring(t,this.selectionStart);return this._finishDeduceEditorPosition((n=(i=this.selection)===null||i===void 0?void 0:i.getStartPosition())!==null&&n!==void 0?n:null,c,-1)}if(t>=this.selectionEnd){var c=this.value.substring(this.selectionEnd,t);return this._finishDeduceEditorPosition((e=(r=this.selection)===null||r===void 0?void 0:r.getEndPosition())!==null&&e!==void 0?e:null,c,1)}var h=this.value.substring(this.selectionStart,t);if(h.indexOf("…")===-1)return this._finishDeduceEditorPosition((s=(o=this.selection)===null||o===void 0?void 0:o.getStartPosition())!==null&&s!==void 0?s:null,h,1);var f=this.value.substring(t,this.selectionEnd);return this._finishDeduceEditorPosition((a=(u=this.selection)===null||u===void 0?void 0:u.getEndPosition())!==null&&a!==void 0?a:null,f,-1)};t.prototype._finishDeduceEditorPosition=function(t,i,n){var r=0,e=-1;for(;(e=i.indexOf("\n",e+1))!==-1;)r++;return[t,n*i.length,r]};t.deduceInput=function(t,i,n){if(!t)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};var r=Math.min(Ho(t.value,i.value),t.selectionStart,i.selectionStart),e=Math.min(Yo(t.value,i.value),t.value.length-t.selectionEnd,i.value.length-i.selectionEnd);t.value.substring(r,t.value.length-e);var o=i.value.substring(r,i.value.length-e),s=t.selectionStart-r,u=t.selectionEnd-r;return i.selectionStart-r===i.selectionEnd-r?{text:o,replacePrevCharCnt:t.selectionStart-r,replaceNextCharCnt:0,positionDelta:0}:{text:o,replacePrevCharCnt:u-s,replaceNextCharCnt:0,positionDelta:0}};t.deduceAndroidCompositionInput=function(t,i){if(!t)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(t.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-t.selectionEnd};var n=Math.min(Ho(t.value,i.value),t.selectionEnd),r=Math.min(Yo(t.value,i.value),t.value.length-t.selectionEnd),e=t.value.substring(n,t.value.length-r),o=i.value.substring(n,i.value.length-r);var s=t.selectionEnd-n;var u=i.selectionEnd-n;return{text:o,replacePrevCharCnt:s,replaceNextCharCnt:e.length-s,positionDelta:u-o.length}};return t}();Yk.EMPTY=new Yk("",0,0,null,void 0);var Jk=function(){function t(){}t._getPageOfLine=function(t,i){return Math.floor((t-1)/i)};t._getRangeForPage=function(t,i){var n=t*i;return new Zr(n+1,1,n+i+1,1)};t.fromEditorSelection=function(i,n,r,e){var o=t._getPageOfLine(n.startLineNumber,r),s=t._getRangeForPage(o,r),u=t._getPageOfLine(n.endLineNumber,r),a=t._getRangeForPage(u,r);var c=s.intersectRanges(new Zr(1,1,n.startLineNumber,n.startColumn));if(e&&i.getValueLengthInRange(c,1)>500){var h=i.modifyPosition(c.getEndPosition(),-500);c=Zr.fromPositions(h,c.getEndPosition())}var f=i.getValueInRange(c,1),l=i.getLineCount(),d=i.getLineMaxColumn(l);var v=a.intersectRanges(new Zr(n.endLineNumber,n.endColumn,l,d));if(e&&i.getValueLengthInRange(v,1)>500){var h=i.modifyPosition(v.getStartPosition(),500);v=Zr.fromPositions(v.getStartPosition(),h)}var A=i.getValueInRange(v,1);var g;if(o===u||o+1===u)g=i.getValueInRange(n,1);else{var h=s.intersectRanges(n),w=a.intersectRanges(n);g=i.getValueInRange(h,1)+"…"+i.getValueInRange(w,1)}return e&&g.length>1e3&&(g=g.substring(0,500)+"…"+g.substring(g.length-500,g.length)),new Yk(f+g+A,f.length,f.length+g.length,n,c.endLineNumber-c.startLineNumber)};return t}();var Pk,Wk=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Gk=function(t,i){return function(n,r){i(n,r,t)}};(function(t){t.Tap="-monaco-textarea-synthetic-tap"})(Pk||(Pk={}));var Vk={forceCopyWithSyntaxHighlighting:!1};var Kk=function(){function t(){this._lastState=null}t.prototype.set=function(t,i){this._lastState={lastCopiedValue:t,data:i}};t.prototype.get=function(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)};return t}();Kk.INSTANCE=new Kk;var Xk=function(){function t(){this._lastTypeTextLength=0}t.prototype.handleCompositionUpdate=function(t){var i={text:t=t||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=t.length,i};return t}();var qk=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._host=i,u._textArea=n,u._OS=r,u._browser=e,u._accessibilityService=o,u._logService=s,u._onFocus=u._register(new Ln),u.onFocus=u._onFocus.event,u._onBlur=u._register(new Ln),u.onBlur=u._onBlur.event,u._onKeyDown=u._register(new Ln),u.onKeyDown=u._onKeyDown.event,u._onKeyUp=u._register(new Ln),u.onKeyUp=u._onKeyUp.event,u._onCut=u._register(new Ln),u.onCut=u._onCut.event,u._onPaste=u._register(new Ln),u.onPaste=u._onPaste.event,u._onType=u._register(new Ln),u.onType=u._onType.event,u._onCompositionStart=u._register(new Ln),u.onCompositionStart=u._onCompositionStart.event,u._onCompositionUpdate=u._register(new Ln),u.onCompositionUpdate=u._onCompositionUpdate.event,u._onCompositionEnd=u._register(new Ln),u.onCompositionEnd=u._onCompositionEnd.event,u._onSelectionChangeRequest=u._register(new Ln),u.onSelectionChangeRequest=u._onSelectionChangeRequest.event,u._asyncFocusGainWriteScreenReaderContent=u._register(new Dn),u._asyncTriggerCut=u._register(new qs((function(){return u._onCut.fire()}),0)),u._textAreaState=Yk.EMPTY,u._selectionChangeListener=null,u._accessibilityService.isScreenReaderOptimized()&&u.writeNativeTextAreaContent("ctor"),u._register(Qn.runAndSubscribe(u._accessibilityService.onDidChangeScreenReaderOptimized,(function(){u._accessibilityService.isScreenReaderOptimized()&&!u._asyncFocusGainWriteScreenReaderContent.value?u._asyncFocusGainWriteScreenReaderContent.value=u._register(new qs((function(){return u.writeNativeTextAreaContent("asyncFocusGain")}),0)):u._asyncFocusGainWriteScreenReaderContent.clear()}))),u._hasFocus=!1,u._currentComposition=null;var a=null;u._register(u._textArea.onKeyDown((function(t){var i=new Qs(t);(i.keyCode===114||u._currentComposition&&i.keyCode===1)&&i.stopPropagation(),i.equals(9)&&i.preventDefault(),a=i,u._onKeyDown.fire(i)}))),u._register(u._textArea.onKeyUp((function(t){var i=new Qs(t);u._onKeyUp.fire(i)}))),u._register(u._textArea.onCompositionStart((function(t){var i=new Xk;if(u._currentComposition)u._currentComposition=i;else{if(u._currentComposition=i,u._OS===2&&a&&a.equals(114)&&u._textAreaState.selectionStart===u._textAreaState.selectionEnd&&u._textAreaState.selectionStart>0&&u._textAreaState.value.substr(u._textAreaState.selectionStart-1,1)===t.data&&(a.code==="ArrowRight"||a.code==="ArrowLeft"))return i.handleCompositionUpdate("x"),void u._onCompositionStart.fire({data:t.data});u._onCompositionStart.fire({data:t.data})}}))),u._register(u._textArea.onCompositionUpdate((function(t){var i=u._currentComposition;if(!i)return;if(u._browser.isAndroid){var n=Yk.readFromTextArea(u._textArea,u._textAreaState),r=Yk.deduceAndroidCompositionInput(u._textAreaState,n);return u._textAreaState=n,u._onType.fire(r),void u._onCompositionUpdate.fire(t)}var e=i.handleCompositionUpdate(t.data);u._textAreaState=Yk.readFromTextArea(u._textArea,u._textAreaState),u._onType.fire(e),u._onCompositionUpdate.fire(t)}))),u._register(u._textArea.onCompositionEnd((function(t){var i=u._currentComposition;if(!i)return;if(u._currentComposition=null,u._browser.isAndroid){var n=Yk.readFromTextArea(u._textArea,u._textAreaState),r=Yk.deduceAndroidCompositionInput(u._textAreaState,n);return u._textAreaState=n,u._onType.fire(r),void u._onCompositionEnd.fire()}var e=i.handleCompositionUpdate(t.data);u._textAreaState=Yk.readFromTextArea(u._textArea,u._textAreaState),u._onType.fire(e),u._onCompositionEnd.fire()}))),u._register(u._textArea.onInput((function(t){if(u._textArea.setIgnoreSelectionChangeTime("received input event"),u._currentComposition)return;var i=Yk.readFromTextArea(u._textArea,u._textAreaState),n=Yk.deduceInput(u._textAreaState,i,u._OS===2);(n.replacePrevCharCnt!==0||n.text.length!==1||!Jo(n.text.charCodeAt(0))&&n.text.charCodeAt(0)!==127)&&(u._textAreaState=i,n.text===""&&n.replacePrevCharCnt===0&&n.replaceNextCharCnt===0&&n.positionDelta===0||u._onType.fire(n))}))),u._register(u._textArea.onCut((function(t){u._textArea.setIgnoreSelectionChangeTime("received cut event"),u._ensureClipboardGetsEditorSelection(t),u._asyncTriggerCut.schedule()}))),u._register(u._textArea.onCopy((function(t){u._ensureClipboardGetsEditorSelection(t)}))),u._register(u._textArea.onPaste((function(t){if(u._textArea.setIgnoreSelectionChangeTime("received paste event"),t.preventDefault(),!t.clipboardData)return;var i=Zk.getTextData(t.clipboardData),n=i[0],r=i[1];n&&(r=r||Kk.INSTANCE.get(n),u._onPaste.fire({text:n,metadata:r}))}))),u._register(u._textArea.onFocus((function(){var t=u._hasFocus;u._setHasFocus(!0),u._accessibilityService.isScreenReaderOptimized()&&u._browser.isSafari&&!t&&u._hasFocus&&(u._asyncFocusGainWriteScreenReaderContent.value||(u._asyncFocusGainWriteScreenReaderContent.value=new qs((function(){return u.writeNativeTextAreaContent("asyncFocusGain")}),0)),u._asyncFocusGainWriteScreenReaderContent.value.schedule())}))),u._register(u._textArea.onBlur((function(){u._currentComposition&&(u._currentComposition=null,u.writeNativeTextAreaContent("blurWithoutCompositionEnd"),u._onCompositionEnd.fire()),u._setHasFocus(!1)}))),u._register(u._textArea.onSyntheticTap((function(){u._browser.isAndroid&&u._currentComposition&&(u._currentComposition=null,u.writeNativeTextAreaContent("tapWithoutCompositionEnd"),u._onCompositionEnd.fire())})));return u}Object.defineProperty(i.prototype,"textAreaState",{get:function(){return this._textAreaState},enumerable:false,configurable:true});i.prototype._installSelectionChangeListener=function(){var t=this;var i=0;return Oa(this._textArea.ownerDocument,"selectionchange",(function(n){if(op.onSelectionChange(),!t._hasFocus||t._currentComposition||!t._browser.isChrome)return;var r=Date.now(),e=r-i;if(i=r,e<5)return;var o=r-t._textArea.getIgnoreSelectionChangeTime();if(t._textArea.resetSelectionChangeTime(),o<100||!t._textAreaState.selection)return;var s=t._textArea.getValue();if(t._textAreaState.value!==s)return;var u=t._textArea.getSelectionStart(),a=t._textArea.getSelectionEnd();if(t._textAreaState.selectionStart===u&&t._textAreaState.selectionEnd===a)return;var c=t._textAreaState.deduceEditorPosition(u),h=t._host.deduceModelPosition(c[0],c[1],c[2]),f=t._textAreaState.deduceEditorPosition(a),l=t._host.deduceModelPosition(f[0],f[1],f[2]),d=new $r(h.lineNumber,h.column,l.lineNumber,l.column);t._onSelectionChangeRequest.fire(d)}))};i.prototype.dispose=function(){t.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)};i.prototype.focusTextArea=function(){this._setHasFocus(!0),this.refreshFocusState()};i.prototype.isFocused=function(){return this._hasFocus};i.prototype.refreshFocusState=function(){this._setHasFocus(this._textArea.hasFocus())};i.prototype._setHasFocus=function(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())};i.prototype._setAndWriteTextAreaState=function(t,i){this._hasFocus||(i=i.collapseSelection()),i.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=i};i.prototype.writeNativeTextAreaContent=function(t){!this._accessibilityService.isScreenReaderOptimized()&&t==="render"||this._currentComposition||(this._logService.trace("writeTextAreaState(reason: ".concat(t,")")),this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent()))};i.prototype._ensureClipboardGetsEditorSelection=function(t){var i=this._host.getDataToCopy(),n={version:1,isFromEmptySelection:i.isFromEmptySelection,multicursorText:i.multicursorText,mode:i.mode};Kk.INSTANCE.set(this._browser.isFirefox?i.text.replace(/\r\n/g,"\n"):i.text,n),t.preventDefault(),t.clipboardData&&Zk.setTextData(t.clipboardData,i.text,i.html,n)};return i}(Cn);qk=Wk([Gk(4,Kw),Gk(5,Lf)],qk);var Zk={getTextData:function(t){var i=t.getData(wd.text);var n=null;var r=t.getData("vscode-editor-data");if(typeof r=="string")try{n=JSON.parse(r),n.version!==1&&(n=null)}catch(t){}return i.length===0&&n===null&&t.files.length>0?[Array.prototype.slice.call(t.files,0).map((function(t){return t.name})).join("\n"),null]:[i,n]},setTextData:function(t,i,n,r){t.setData(wd.text,i),typeof n=="string"&&t.setData("text/html",n),t.setData("vscode-editor-data",JSON.stringify(r))}};var $k=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._actual=i,n.onKeyDown=n._register(new Hk(n._actual,"keydown")).event,n.onKeyUp=n._register(new Hk(n._actual,"keyup")).event,n.onCompositionStart=n._register(new Hk(n._actual,"compositionstart")).event,n.onCompositionUpdate=n._register(new Hk(n._actual,"compositionupdate")).event,n.onCompositionEnd=n._register(new Hk(n._actual,"compositionend")).event,n.onBeforeInput=n._register(new Hk(n._actual,"beforeinput")).event,n.onInput=n._register(new Hk(n._actual,"input")).event,n.onCut=n._register(new Hk(n._actual,"cut")).event,n.onCopy=n._register(new Hk(n._actual,"copy")).event,n.onPaste=n._register(new Hk(n._actual,"paste")).event,n.onFocus=n._register(new Hk(n._actual,"focus")).event,n.onBlur=n._register(new Hk(n._actual,"blur")).event,n._onSyntheticTap=n._register(new Ln),n.onSyntheticTap=n._onSyntheticTap.event,n._ignoreSelectionChangeTime=0,n._register(n.onKeyDown((function(){return op.onKeyDown()}))),n._register(n.onBeforeInput((function(){return op.onBeforeInput()}))),n._register(n.onInput((function(){return op.onInput()}))),n._register(n.onKeyUp((function(){return op.onKeyUp()}))),n._register(Oa(n._actual,Pk.Tap,(function(){return n._onSyntheticTap.fire()})));return n}Object.defineProperty(i.prototype,"ownerDocument",{get:function(){return this._actual.ownerDocument},enumerable:false,configurable:true});i.prototype.hasFocus=function(){var t=oc(this._actual);return t?t.activeElement===this._actual:!!this._actual.isConnected&&sc()===this._actual};i.prototype.setIgnoreSelectionChangeTime=function(t){this._ignoreSelectionChangeTime=Date.now()};i.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime};i.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0};i.prototype.getValue=function(){return this._actual.value};i.prototype.setValue=function(t,i){var n=this._actual;n.value!==i&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=i)};i.prototype.getSelectionStart=function(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart};i.prototype.getSelectionEnd=function(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd};i.prototype.setSelectionRange=function(t,i,n){var r=this._actual;var e=null;var o=oc(r);e=o?o.activeElement:sc();var s=ka(e),u=e===r,a=r.selectionStart,c=r.selectionEnd;if(u&&a===i&&c===n)ps&&s.parent!==s&&r.focus();else{if(u)return this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(i,n),void(ps&&s.parent!==s&&r.focus());try{var h=function(t){var i=[];for(var n=0;t&&t.nodeType===t.ELEMENT_NODE;n++)i[n]=t.scrollTop,t=t.parentNode;return i}(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(i,n),function(t,i){for(var n=0;t&&t.nodeType===t.ELEMENT_NODE;n++)t.scrollTop!==i[n]&&(t.scrollTop=i[n]),t=t.parentNode}(r,h)}catch(t){}}};return i}(Cn);var tx=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n,r)||this,e._register(wk.addTarget(e.viewHelper.linesContentDomNode)),e._register(Oa(e.viewHelper.linesContentDomNode,Ak.Tap,(function(t){return e.onTap(t)}))),e._register(Oa(e.viewHelper.linesContentDomNode,Ak.Change,(function(t){return e.onChange(t)}))),e._register(Oa(e.viewHelper.linesContentDomNode,Ak.Contextmenu,(function(t){return e._onContextMenu(new yy(t,!1,e.viewHelper.viewDomNode),!1)}))),e._lastPointerType="mouse",e._register(Oa(e.viewHelper.linesContentDomNode,"pointerdown",(function(t){var i=t.pointerType;e._lastPointerType=i!=="mouse"?i==="touch"?"touch":"pen":"mouse"})));var o=new xy(e.viewHelper.viewDomNode);e._register(o.onPointerMove(e.viewHelper.viewDomNode,(function(t){return e._onMouseMove(t)}))),e._register(o.onPointerUp(e.viewHelper.viewDomNode,(function(t){return e._onMouseUp(t)}))),e._register(o.onPointerLeave(e.viewHelper.viewDomNode,(function(t){return e._onMouseLeave(t)}))),e._register(o.onPointerDown(e.viewHelper.viewDomNode,(function(t,i){return e._onMouseDown(t,i)})));return e}i.prototype.onTap=function(t){t.initialTarget&&this.viewHelper.linesContentDomNode.contains(t.initialTarget)&&(t.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(t,!1))};i.prototype.onChange=function(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(t,!0)};i.prototype._dispatchGesture=function(t,i){var n=this._createMouseTarget(new yy(t,!1,this.viewHelper.viewDomNode),!1);n.position&&this.viewController.dispatchMouse({position:n.position,mouseColumn:n.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:i,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:n.type===6&&n.detail.injectedText!==null})};i.prototype._onMouseDown=function(i,n){i.browserEvent.pointerType!=="touch"&&t.prototype._onMouseDown.call(this,i,n)};return i}(Tk);var ix=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n,r)||this,e._register(wk.addTarget(e.viewHelper.linesContentDomNode)),e._register(Oa(e.viewHelper.linesContentDomNode,Ak.Tap,(function(t){return e.onTap(t)}))),e._register(Oa(e.viewHelper.linesContentDomNode,Ak.Change,(function(t){return e.onChange(t)}))),e._register(Oa(e.viewHelper.linesContentDomNode,Ak.Contextmenu,(function(t){return e._onContextMenu(new yy(t,!1,e.viewHelper.viewDomNode),!1)})));return e}i.prototype.onTap=function(t){t.preventDefault(),this.viewHelper.focusTextArea();var i=this._createMouseTarget(new yy(t,!1,this.viewHelper.viewDomNode),!1);if(i.position){var n=document.createEvent("CustomEvent");n.initEvent(Pk.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(n),this.viewController.moveTo(i.position,1)}};i.prototype.onChange=function(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)};return i}(Tk);var nx=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,(Zt||li&&$t)&&Es?e.handler=e._register(new tx(i,n,r)):go.TouchEvent?e.handler=e._register(new ix(i,n,r)):e.handler=e._register(new Tk(i,n,r));return e}i.prototype.getTargetAtClientPoint=function(t,i){return this.handler.getTargetAtClientPoint(t,i)};return i}(Cn);var rx=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i}(My);var ex=lh("themeService");function ox(t){return{id:t}}function sx(t){switch(t){case jy.DARK:return"vs-dark";case jy.HIGH_CONTRAST_DARK:return"hc-black";case jy.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}var ux="base.contributions.theming",ax=new(function(){function t(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Ln}t.prototype.onColorThemeChange=function(t){var i=this;return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),En((function(){var n=i.themingParticipants.indexOf(t);i.themingParticipants.splice(n,1)}))};t.prototype.getThemingParticipants=function(){return this.themingParticipants};return t}());function cx(t){return ax.onColorThemeChange(t)}yf.add(ux,ax);var hx=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.themeService=i,n.theme=i.getColorTheme(),n._register(n.themeService.onDidColorThemeChange((function(t){return n.onThemeChange(t)})));return n}i.prototype.onThemeChange=function(t){this.theme=t,this.updateStyles()};i.prototype.updateStyles=function(){};return i}(Cn);var fx=fp("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color for the highlight of line at the cursor position.")),lx=fp("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Ep},Bt(0,"Background color for the border around the line at the cursor position."));fp("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},Bt(0,"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),fp("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Bp,hcLight:Bp},Bt(0,"Background color of the border around highlighted ranges."),!0),fp("editor.symbolHighlightBackground",{dark:Zp,light:Zp,hcDark:null,hcLight:null},Bt(0,"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),fp("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Bp,hcLight:Bp},Bt(0,"Background color of the border around highlighted symbols."),!0);var dx=fp("editorCursor.foreground",{dark:"#AEAFAD",light:ZA.black,hcDark:ZA.white,hcLight:"#0F4A85"},Bt(0,"Color of the editor cursor.")),vx=fp("editorCursor.background",null,Bt(0,"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Ax=fp("editorMultiCursor.primary.foreground",{dark:dx,light:dx,hcDark:dx,hcLight:dx},Bt(0,"Color of the primary editor cursor when multiple cursors are present.")),gx=fp("editorMultiCursor.primary.background",{dark:vx,light:vx,hcDark:vx,hcLight:vx},Bt(0,"The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),wx=fp("editorMultiCursor.secondary.foreground",{dark:dx,light:dx,hcDark:dx,hcLight:dx},Bt(0,"Color of secondary editor cursors when multiple cursors are present.")),px=fp("editorMultiCursor.secondary.background",{dark:vx,light:vx,hcDark:vx,hcLight:vx},Bt(0,"The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),mx=fp("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},Bt(0,"Color of whitespace characters in the editor.")),bx=fp("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:ZA.white,hcLight:"#292929"},Bt(0,"Color of editor line numbers.")),yx=fp("editorIndentGuide.background",{dark:mx,light:mx,hcDark:mx,hcLight:mx},Bt(0,"Color of the editor indentation guides."),!1,Bt(0,"'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),kx=fp("editorIndentGuide.activeBackground",{dark:mx,light:mx,hcDark:mx,hcLight:mx},Bt(0,"Color of the active editor indentation guides."),!1,Bt(0,"'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),xx=fp("editorIndentGuide.background1",{dark:yx,light:yx,hcDark:yx,hcLight:yx},Bt(0,"Color of the editor indentation guides (1).")),Ex=fp("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the editor indentation guides (2).")),Bx=fp("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the editor indentation guides (3).")),Cx=fp("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the editor indentation guides (4).")),Dx=fp("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the editor indentation guides (5).")),Mx=fp("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the editor indentation guides (6).")),_x=fp("editorIndentGuide.activeBackground1",{dark:kx,light:kx,hcDark:kx,hcLight:kx},Bt(0,"Color of the active editor indentation guides (1).")),Fx=fp("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the active editor indentation guides (2).")),Sx=fp("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the active editor indentation guides (3).")),Ix=fp("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the active editor indentation guides (4).")),Qx=fp("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the active editor indentation guides (5).")),Ox=fp("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Color of the active editor indentation guides (6).")),Nx=fp("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Bp,hcLight:Bp},Bt(0,"Color of editor active line number"),!1,Bt(0,"Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));fp("editorLineNumber.activeForeground",{dark:Nx,light:Nx,hcDark:Nx,hcLight:Nx},Bt(0,"Color of editor active line number"));var Rx=fp("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Color of the final editor line when editor.renderFinalNewline is set to dimmed."));fp("editorRuler.foreground",{dark:"#5A5A5A",light:ZA.lightgrey,hcDark:ZA.white,hcLight:"#292929"},Bt(0,"Color of the editor rulers.")),fp("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},Bt(0,"Foreground color of editor CodeLens")),fp("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},Bt(0,"Background color behind matching brackets")),fp("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Ep,hcLight:Ep},Bt(0,"Color for matching brackets boxes"));var Tx=fp("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},Bt(0,"Color of the overview ruler border.")),Lx=fp("editorOverviewRuler.background",null,Bt(0,"Background color of the editor overview ruler."));fp("editorGutter.background",{dark:Op,light:Op,hcDark:Op,hcLight:Op},Bt(0,"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),fp("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:ZA.fromHex("#fff").transparent(.8),hcLight:Ep},Bt(0,"Border color of unnecessary (unused) source code in the editor."));var jx=fp("editorUnnecessaryCode.opacity",{dark:ZA.fromHex("#000a"),light:ZA.fromHex("#0007"),hcDark:null,hcLight:null},Bt(0,"Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."));fp("editorGhostText.border",{dark:null,light:null,hcDark:ZA.fromHex("#fff").transparent(.8),hcLight:ZA.fromHex("#292929").transparent(.8)},Bt(0,"Border color of ghost text in the editor.")),fp("editorGhostText.foreground",{dark:ZA.fromHex("#ffffff56"),light:ZA.fromHex("#0007"),hcDark:null,hcLight:null},Bt(0,"Foreground color of the ghost text in the editor.")),fp("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},Bt(0,"Background color of the ghost text in the editor."));var zx=new ZA(new KA(0,122,204,.6)),Ux=fp("editorOverviewRuler.rangeHighlightForeground",{dark:zx,light:zx,hcDark:zx,hcLight:zx},Bt(0,"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Hx=fp("editorOverviewRuler.errorForeground",{dark:new ZA(new KA(255,18,18,.7)),light:new ZA(new KA(255,18,18,.7)),hcDark:new ZA(new KA(255,50,50,1)),hcLight:"#B5200D"},Bt(0,"Overview ruler marker color for errors.")),Yx=fp("editorOverviewRuler.warningForeground",{dark:Hp,light:Hp,hcDark:Yp,hcLight:Yp},Bt(0,"Overview ruler marker color for warnings.")),Jx=fp("editorOverviewRuler.infoForeground",{dark:Jp,light:Jp,hcDark:Pp,hcLight:Pp},Bt(0,"Overview ruler marker color for infos.")),Px=fp("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},Bt(0,"Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Wx=fp("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},Bt(0,"Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Gx=fp("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},Bt(0,"Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Vx=fp("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Kx=fp("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Xx=fp("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Foreground color of brackets (6). Requires enabling bracket pair colorization.")),qx=fp("editorBracketHighlight.unexpectedBracket.foreground",{dark:new ZA(new KA(255,18,18,.8)),light:new ZA(new KA(255,18,18,.8)),hcDark:new ZA(new KA(255,50,50,1)),hcLight:""},Bt(0,"Foreground color of unexpected brackets.")),Zx=fp("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),$x=fp("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),tE=fp("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),iE=fp("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),nE=fp("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),rE=fp("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),eE=fp("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),oE=fp("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),sE=fp("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),uE=fp("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),aE=fp("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),cE=fp("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},Bt(0,"Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));fp("editorUnicodeHighlight.border",{dark:Hp,light:Hp,hcDark:Hp,hcLight:Hp},Bt(0,"Border color used to highlight unicode characters.")),fp("editorUnicodeHighlight.background",{dark:Up,light:Up,hcDark:Up,hcLight:Up},Bt(0,"Background color used to highlight unicode characters.")),cx((function(t,i){var n=t.getColor(Op),r=t.getColor(fx),e=r&&!r.isTransparent()?r:n;e&&i.addRule(".monaco-editor .inputarea.ime-input { background-color: ".concat(e,"; }"))}));var hE=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i,n._readConfig(),n._lastCursorModelPosition=new qr(1,1),n._renderResult=null,n._activeLineNumber=1,n._context.addEventHandler(n);return n}i.prototype._readConfig=function(){var t=this._context.configuration.options;this._lineHeight=t.get(67);var i=t.get(68);this._renderLineNumbers=i.renderType,this._renderCustomLineNumbers=i.renderFn,this._renderFinalNewline=t.get(95);var n=t.get(145);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth};i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){return this._readConfig(),!0};i.prototype.onCursorStateChanged=function(t){var i=t.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i);var n=!1;return this._activeLineNumber!==i.lineNumber&&(this._activeLineNumber=i.lineNumber,n=!0),this._renderLineNumbers!==2&&this._renderLineNumbers!==3||(n=!0),n};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.onDecorationsChanged=function(t){return t.affectsLineNumber};i.prototype._getLineRenderLineNumber=function(t){var i=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new qr(t,1));if(i.column!==1)return"";var n=i.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(this._renderLineNumbers===2){var r=Math.abs(this._lastCursorModelPosition.lineNumber-n);return r===0?'<span class="relative-current-line-number">'+n+"</span>":String(r)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===n||n%10==0||n===this._context.viewModel.getLineCount()?String(n):"":String(n)};i.prototype.prepareRender=function(t){if(this._renderLineNumbers===0)return void(this._renderResult=null);var n=Vt?this._lineHeight%2==0?" lh-even":" lh-odd":"",r=t.visibleRange.startLineNumber,e=t.visibleRange.endLineNumber,o=this._context.viewModel.getDecorationsInViewport(t.visibleRange).filter((function(t){return!!t.options.lineNumberClassName}));o.sort((function(t,i){return Zr.compareRangesUsingEnds(t.range,i.range)}));var s=0;var u=this._context.viewModel.getLineCount(),a=[];for(var c=r;c<=e;c++){var h=c-r;var f=this._getLineRenderLineNumber(c),l="";for(;s<o.length&&o[s].range.endLineNumber<c;)s++;for(var d=s;d<o.length;d++){var v=o[d],A=v.range,g=v.options;A.startLineNumber<=c&&(l+=" "+g.lineNumberClassName)}f||l?(c===u&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(f=""),this._renderFinalNewline==="dimmed"&&(l+=" dimmed-line-number")),c===this._activeLineNumber&&(l+=" active-line-number"),a[h]='<div class="'.concat(i.CLASS_NAME).concat(n).concat(l,'" style="left:').concat(this._lineNumbersLeft,"px;width:").concat(this._lineNumbersWidth,'px;">').concat(f,"</div>")):a[h]=""}this._renderResult=a};i.prototype.render=function(t,i){if(!this._renderResult)return"";var n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]};return i}(rx);hE.CLASS_NAME="line-numbers",cx((function(t,i){var n=t.getColor(bx),r=t.getColor(Rx);r?i.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(r,"; }")):n&&i.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(n.transparent(.4),"; }"))}));var fE=function(t){__extends(i,t);function i(n){var r=t.call(this,n)||this;var e=r._context.configuration.options,o=e.get(145);r._canUseLayerHinting=!e.get(32),r._contentLeft=o.contentLeft,r._glyphMarginLeft=o.glyphMarginLeft,r._glyphMarginWidth=o.glyphMarginWidth,r._domNode=th(document.createElement("div")),r._domNode.setClassName(i.OUTER_CLASS_NAME),r._domNode.setPosition("absolute"),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._glyphMarginBackgroundDomNode=th(document.createElement("div")),r._glyphMarginBackgroundDomNode.setClassName(i.CLASS_NAME),r._domNode.appendChild(r._glyphMarginBackgroundDomNode);return r}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.getDomNode=function(){return this._domNode};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(145);return this._canUseLayerHinting=!i.get(32),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0};i.prototype.onScrollChanged=function(i){return t.prototype.onScrollChanged.call(this,i)||i.scrollTopChanged};i.prototype.prepareRender=function(t){};i.prototype.render=function(t){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var i=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-i);var n=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)};return i}(_y);fE.CLASS_NAME="glyph-margin",fE.OUTER_CLASS_NAME="margin";var lE="monaco-mouse-cursor-text",dE=new(function(){function t(){this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this._enabled=!0}Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},enumerable:false,configurable:true});t.prototype.enable=function(){this._enabled=!0,this._onDidChange.fire()};t.prototype.disable=function(){this._enabled=!1,this._onDidChange.fire()};return t}()),vE=lh("keybindingService");var AE=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},gE=function(t,i){return function(n,r){i(n,r,t)}};var wE=function(){function t(t,i,n,r,e){this._context=t,this.modelLineNumber=i,this.distanceToModelLineStart=n,this.widthOfHiddenLineTextBefore=r,this.distanceToModelLineEnd=e,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}t.prototype.prepareRender=function(t){var i=new qr(this.modelLineNumber,this.distanceToModelLineStart+1),n=new qr(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)};t.prototype.definePresentation=function(t){return this._previousPresentation||(this._previousPresentation=t||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation};return t}();var pE=ps;var mE=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,i)||this,s._keybindingService=e,s._instantiationService=o,s._primaryCursorPosition=new qr(1,1),s._primaryCursorVisibleRange=null,s._viewController=n,s._visibleRangeProvider=r,s._scrollLeft=0,s._scrollTop=0;var u=s._context.configuration.options,a=u.get(145);s._setAccessibilityOptions(u),s._contentLeft=a.contentLeft,s._contentWidth=a.contentWidth,s._contentHeight=a.height,s._fontInfo=u.get(50),s._lineHeight=u.get(67),s._emptySelectionClipboard=u.get(37),s._copyWithSyntaxHighlighting=u.get(25),s._visibleTextArea=null,s._selections=[new $r(1,1,1,1)],s._modelSelections=[new $r(1,1,1,1)],s._lastRenderPosition=null,s.textArea=th(document.createElement("textarea")),Fy.write(s.textArea,7),s.textArea.setClassName("inputarea ".concat(lE)),s.textArea.setAttribute("wrap",s._textAreaWrapping&&!s._visibleTextArea?"on":"off");var c=s._context.viewModel.model.getOptions().tabSize;s.textArea.domNode.style.tabSize=c*s._fontInfo.spaceWidth+"px",s.textArea.setAttribute("autocorrect","off"),s.textArea.setAttribute("autocapitalize","off"),s.textArea.setAttribute("autocomplete","off"),s.textArea.setAttribute("spellcheck","false"),s.textArea.setAttribute("aria-label",s._getAriaLabel(u)),s.textArea.setAttribute("aria-required",u.get(5)?"true":"false"),s.textArea.setAttribute("tabindex",String(u.get(124))),s.textArea.setAttribute("role","textbox"),s.textArea.setAttribute("aria-roledescription",Bt(0,"editor")),s.textArea.setAttribute("aria-multiline","true"),s.textArea.setAttribute("aria-autocomplete",u.get(91)?"none":"both"),s._ensureReadOnlyAttribute(),s.textAreaCover=th(document.createElement("div")),s.textAreaCover.setPosition("absolute");var h={getLineCount:function(){return s._context.viewModel.getLineCount()},getLineMaxColumn:function(t){return s._context.viewModel.getLineMaxColumn(t)},getValueInRange:function(t,i){return s._context.viewModel.getValueInRange(t,i)},getValueLengthInRange:function(t,i){return s._context.viewModel.getValueLengthInRange(t,i)},modifyPosition:function(t,i){return s._context.viewModel.modifyPosition(t,i)}},f={getDataToCopy:function(){var t=s._context.viewModel.getPlainTextToCopy(s._modelSelections,s._emptySelectionClipboard,Wt),i=s._context.viewModel.model.getEOL(),n=s._emptySelectionClipboard&&s._modelSelections.length===1&&s._modelSelections[0].isEmpty(),r=Array.isArray(t)?t:null,e=Array.isArray(t)?t.join(i):t;var o,u=null;if(Vk.forceCopyWithSyntaxHighlighting||s._copyWithSyntaxHighlighting&&e.length<65536){var a=s._context.viewModel.getRichTextToCopy(s._modelSelections,s._emptySelectionClipboard);a&&(o=a.html,u=a.mode)}return{isFromEmptySelection:n,multicursorText:r,text:e,html:o,mode:u}},getScreenReaderContent:function(){if(s._accessibilitySupport===1){var t=s._selections[0];if(Gt&&t.isEmpty()){var i=t.getStartPosition();var n=s._getWordBeforePosition(i);if(n.length===0&&(n=s._getCharacterBeforePosition(i)),n.length>0)return new Yk(n,n.length,n.length,Zr.fromPositions(i),0)}if(Gt&&!t.isEmpty()&&h.getValueLengthInRange(t,0)<500){var i=h.getValueInRange(t,0);return new Yk(i,0,i.length,t,0)}if(ys&&!t.isEmpty()){var i="vscode-placeholder";return new Yk(i,0,i.length,null,void 0)}return Yk.EMPTY}if(xs){var t=s._selections[0];if(t.isEmpty()){var r=t.getStartPosition(),e=s._getAndroidWordAtPosition(r),i=e[0],n=e[1];if(i.length>0)return new Yk(i,n,n,Zr.fromPositions(r),0)}return Yk.EMPTY}return Jk.fromEditorSelection(h,s._selections[0],s._accessibilityPageSize,s._accessibilitySupport===0)},deduceModelPosition:function(t,i,n){return s._context.viewModel.deduceModelPositionRelativeToViewPosition(t,i,n)}},l=s._register(new $k(s.textArea.domNode));s._textAreaInput=s._register(s._instantiationService.createInstance(qk,f,l,ei,{isAndroid:xs,isChrome:bs,isFirefox:ps,isSafari:ys})),s._register(s._textAreaInput.onKeyDown((function(t){s._viewController.emitKeyDown(t)}))),s._register(s._textAreaInput.onKeyUp((function(t){s._viewController.emitKeyUp(t)}))),s._register(s._textAreaInput.onPaste((function(t){var i=!1,n=null,r=null;t.metadata&&(i=s._emptySelectionClipboard&&!!t.metadata.isFromEmptySelection,n=t.metadata.multicursorText!==void 0?t.metadata.multicursorText:null,r=t.metadata.mode),s._viewController.paste(t.text,i,n,r)}))),s._register(s._textAreaInput.onCut((function(){s._viewController.cut()}))),s._register(s._textAreaInput.onType((function(t){t.replacePrevCharCnt||t.replaceNextCharCnt||t.positionDelta?s._viewController.compositionType(t.text,t.replacePrevCharCnt,t.replaceNextCharCnt,t.positionDelta):s._viewController.type(t.text)}))),s._register(s._textAreaInput.onSelectionChangeRequest((function(t){s._viewController.setSelection(t)}))),s._register(s._textAreaInput.onCompositionStart((function(t){var i=s.textArea.domNode,n=s._modelSelections[0],r=function(){var t=i.value.substring(0,Math.min(i.selectionStart,i.selectionEnd)),r=t.lastIndexOf("\n"),e=t.substring(r+1),o=e.lastIndexOf("\t"),u=e.length-o-1,a=n.getStartPosition(),c=Math.min(a.column-1,u),h=a.column-1-c,f=e.substring(0,e.length-c),l=s._context.viewModel.model.getOptions().tabSize,d=function(t,i,n,r){if(i.length===0)return 0;var e=t.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var o=t.createElement("span");ih(o,n),o.style.whiteSpace="pre",o.style.tabSize=r*n.spaceWidth+"px",o.append(i),e.appendChild(o),t.body.appendChild(e);var s=o.offsetWidth;return t.body.removeChild(e),s}(s.textArea.domNode.ownerDocument,f,s._fontInfo,l);return{distanceToModelLineStart:h,widthOfHiddenTextBefore:d}}(),e=r.distanceToModelLineStart,o=r.widthOfHiddenTextBefore,u=function(){var t=i.value.substring(Math.max(i.selectionStart,i.selectionEnd)),r=t.indexOf("\n"),e=r===-1?t:t.substring(0,r),o=e.indexOf("\t"),u=o===-1?e.length:e.length-o-1,a=n.getEndPosition(),c=Math.min(s._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column,u);return{distanceToModelLineEnd:s._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column-c}}().distanceToModelLineEnd;s._context.viewModel.revealRange("keyboard",!0,Zr.fromPositions(s._selections[0].getStartPosition()),0,1),s._visibleTextArea=new wE(s._context,n.startLineNumber,e,o,u),s.textArea.setAttribute("wrap",s._textAreaWrapping&&!s._visibleTextArea?"on":"off"),s._visibleTextArea.prepareRender(s._visibleRangeProvider),s._render(),s.textArea.setClassName("inputarea ".concat(lE," ime-input")),s._viewController.compositionStart(),s._context.viewModel.onCompositionStart()}))),s._register(s._textAreaInput.onCompositionUpdate((function(t){s._visibleTextArea&&(s._visibleTextArea.prepareRender(s._visibleRangeProvider),s._render())}))),s._register(s._textAreaInput.onCompositionEnd((function(){s._visibleTextArea=null,s.textArea.setAttribute("wrap",s._textAreaWrapping&&!s._visibleTextArea?"on":"off"),s._render(),s.textArea.setClassName("inputarea ".concat(lE)),s._viewController.compositionEnd(),s._context.viewModel.onCompositionEnd()}))),s._register(s._textAreaInput.onFocus((function(){s._context.viewModel.setHasFocus(!0)}))),s._register(s._textAreaInput.onBlur((function(){s._context.viewModel.setHasFocus(!1)}))),s._register(dE.onDidChange((function(){s._ensureReadOnlyAttribute()})));return s}i.prototype.writeScreenReaderContent=function(t){this._textAreaInput.writeNativeTextAreaContent(t)};i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype._getAndroidWordAtPosition=function(t){var i=this._context.viewModel.getLineContent(t.lineNumber),n=Mv('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',[]);var r=!0,e=t.column,o=!0,s=t.column,u=0;for(;u<50&&(r||o);){if(r&&e<=1&&(r=!1),r){var a=i.charCodeAt(e-2);n.get(a)!==0?r=!1:e--}if(o&&s>i.length&&(o=!1),o){var a=i.charCodeAt(s-1);n.get(a)!==0?o=!1:s++}u++}return[i.substring(e-1,s-1),t.column-e]};i.prototype._getWordBeforePosition=function(t){var i=this._context.viewModel.getLineContent(t.lineNumber),n=Mv(this._context.configuration.options.get(131),[]);var r=t.column,e=0;for(;r>1;){var o=i.charCodeAt(r-2);if(n.get(o)!==0||e>50)return i.substring(r-1,t.column-1);e++,r--}return i.substring(0,t.column-1)};i.prototype._getCharacterBeforePosition=function(t){if(t.column>1){var i=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!Jo(i.charCodeAt(0)))return i}return""};i.prototype._getAriaLabel=function(t){var i,n,r;if(t.get(2)===1){var e=(i=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||i===void 0?void 0:i.getAriaLabel(),o=(n=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||n===void 0?void 0:n.getAriaLabel(),s=(r=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||r===void 0?void 0:r.getAriaLabel(),u=Bt(0,"The editor is not accessible at this time.");return e?Bt(0,"{0} To enable screen reader optimized mode, use {1}",u,e):o?Bt(0,"{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",u,o):s?Bt(0,"{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",u,s):u}return t.get(4)};i.prototype._setAccessibilityOptions=function(t){this._accessibilitySupport=t.get(2);var i=t.get(3);this._accessibilitySupport===2&&i===un.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=i;var n=t.get(145).wrappingColumn;if(n!==-1&&this._accessibilitySupport!==1){var r=t.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(n*r.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=pE?0:1};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(145);this._setAccessibilityOptions(i),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=i.get(50),this._lineHeight=i.get(67),this._emptySelectionClipboard=i.get(37),this._copyWithSyntaxHighlighting=i.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");var r=this._context.viewModel.model.getOptions().tabSize;return this.textArea.domNode.style.tabSize=r*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("aria-label",this._getAriaLabel(i)),this.textArea.setAttribute("aria-required",i.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(i.get(124))),(t.hasChanged(34)||t.hasChanged(91))&&this._ensureReadOnlyAttribute(),t.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0};i.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0};i.prototype.onZonesChanged=function(t){return!0};i.prototype.isFocused=function(){return this._textAreaInput.isFocused()};i.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()};i.prototype.getLastRenderData=function(){return this._lastRenderPosition};i.prototype.setAriaOptions=function(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)};i.prototype._ensureReadOnlyAttribute=function(){var t=this._context.configuration.options;!dE.enabled||t.get(34)&&t.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")};i.prototype.prepareRender=function(t){var i;this._primaryCursorPosition=new qr(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),(i=this._visibleTextArea)===null||i===void 0||i.prepareRender(t)};i.prototype.render=function(t){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()};i.prototype._render=function(){var t;if(this._visibleTextArea){var i=this._visibleTextArea.visibleTextareaStart,n=this._visibleTextArea.visibleTextareaEnd,r=this._visibleTextArea.startPosition,e=this._visibleTextArea.endPosition;if(r&&e&&i&&n&&n.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){var o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,s=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));var u=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+i.left-this._scrollLeft,c=n.left-i.left+1;if(a<this._contentLeft){var h=this._contentLeft-a;a+=h,u+=h,c-=h}c>this._contentWidth&&(c=this._contentWidth);var f=this._context.viewModel.getViewLineData(r.lineNumber),l=f.tokens.findTokenIndexAtOffset(r.column-1),d=l===f.tokens.findTokenIndexAtOffset(e.column-1),v=this._visibleTextArea.definePresentation(d?f.tokens.getPresentation(l):null);this.textArea.domNode.scrollTop=s*this._lineHeight,this.textArea.domNode.scrollLeft=u,this._doRender({lastRenderPosition:null,top:o,left:a,width:c,height:this._lineHeight,useCover:!1,color:(ye.getColorMap()||[])[v.foreground],italic:v.italic,bold:v.bold,underline:v.underline,strikethrough:v.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();var A=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(A<this._contentLeft||A>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();var g=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(g<0||g>this._contentHeight)this._renderAtTopLeft();else if(Gt||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:g,left:this._textAreaWrapping?this._contentLeft:A,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;var i=(t=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&t!==void 0?t:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:g,left:this._textAreaWrapping?this._contentLeft:A,width:this._textAreaWidth,height:pE?0:1,useCover:!1})};i.prototype._newlinecount=function(t){var i=0,n=-1;for(;n=t.indexOf("\n",n+1),n!==-1;)i++;return i};i.prototype._renderAtTopLeft=function(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:pE?0:1,useCover:!0})};i.prototype._doRender=function(t){this._lastRenderPosition=t.lastRenderPosition;var i=this.textArea,n=this.textAreaCover;ih(i,this._fontInfo),i.setTop(t.top),i.setLeft(t.left),i.setWidth(t.width),i.setHeight(t.height),i.setColor(t.color?ZA.Format.CSS.formatHex(t.color):""),i.setFontStyle(t.italic?"italic":""),t.bold&&i.setFontWeight("bold"),i.setTextDecoration("".concat(t.underline?" underline":"").concat(t.strikethrough?" line-through":"")),n.setTop(t.useCover?t.top:0),n.setLeft(t.useCover?t.left:0),n.setWidth(t.useCover?t.width:0),n.setHeight(t.useCover?t.height:0);var r=this._context.configuration.options;r.get(57)?n.setClassName("monaco-editor-background textAreaCover "+fE.OUTER_CLASS_NAME):r.get(68).renderType!==0?n.setClassName("monaco-editor-background textAreaCover "+hE.CLASS_NAME):n.setClassName("monaco-editor-background textAreaCover")};return i}(_y);function bE(t,i,n){var r=Fo(t);return r===-1&&(r=t.length),function(t,i,n){var r=0;for(var e=0;e<t.length;e++)t.charAt(e)==="\t"?r=$y.nextIndentTabStop(r,i):r++;var o="";if(!n){var e=Math.floor(r/i);r%=i;for(var s=0;s<e;s++)o+="\t"}for(var e=0;e<r;e++)o+=" ";return o}(t.substring(0,r),i,n)+t.substring(r)}mE=AE([gE(3,vE),gE(4,fh)],mE);var yE=function(){return!0},kE=function(){return!1},xE=function(t){return t===" "||t==="\t"};var EE=function(){function t(t,i,n,r){var e;this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=t;var o=n.options,s=o.get(145),u=o.get(50);this.readOnly=o.get(91),this.tabSize=i.tabSize,this.indentSize=i.indentSize,this.insertSpaces=i.insertSpaces,this.stickyTabStops=o.get(116),this.lineHeight=u.lineHeight,this.typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=o.get(128),this.wordSeparators=o.get(131),this.emptySelectionClipboard=o.get(37),this.copyWithSyntaxHighlighting=o.get(25),this.multiCursorMergeOverlapping=o.get(77),this.multiCursorPaste=o.get(79),this.multiCursorLimit=o.get(80),this.autoClosingBrackets=o.get(6),this.autoClosingComments=o.get(7),this.autoClosingQuotes=o.get(11),this.autoClosingDelete=o.get(9),this.autoClosingOvertype=o.get(10),this.autoSurround=o.get(14),this.autoIndent=o.get(12),this.wordSegmenterLocales=o.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(t,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(t,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(t,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(t).getAutoClosingPairs();var a=this.languageConfigurationService.getLanguageConfiguration(t).getSurroundingPairs();if(a)for(var c=0,h=a;c<h.length;c++){var f=h[c];this.surroundingPairs[f.open]=f.close}var l=this.languageConfigurationService.getLanguageConfiguration(t).comments;this.blockCommentStartToken=(e=l==null?void 0:l.blockCommentStartToken)!==null&&e!==void 0?e:null}t.shouldRecreate=function(t){return t.hasChanged(145)||t.hasChanged(131)||t.hasChanged(37)||t.hasChanged(77)||t.hasChanged(79)||t.hasChanged(80)||t.hasChanged(6)||t.hasChanged(7)||t.hasChanged(11)||t.hasChanged(9)||t.hasChanged(10)||t.hasChanged(14)||t.hasChanged(128)||t.hasChanged(50)||t.hasChanged(91)||t.hasChanged(130)};Object.defineProperty(t.prototype,"electricChars",{get:function(){var t;if(!this._electricChars){this._electricChars={};var i=(t=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||t===void 0?void 0:t.getElectricCharacters();if(i)for(var n=0,r=i;n<r.length;n++){var e=r[n];this._electricChars[e]=!0}}return this._electricChars},enumerable:false,configurable:true});t.prototype.onElectricCharacter=function(t,i,n){var r=Dl(i,n-1),e=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return e?e.onElectricCharacter(t,r,n-r.firstCharOffset):null};t.prototype.normalizeIndentation=function(t){return bE(t,this.indentSize,this.insertSpaces)};t.prototype._getShouldAutoClose=function(t,i,n){switch(i){case"beforeWhitespace":return xE;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(t,n);case"always":return yE;case"never":return kE}};t.prototype._getLanguageDefinedShouldAutoClose=function(t,i){var n=this.languageConfigurationService.getLanguageConfiguration(t).getAutoCloseBeforeSet(i);return function(t){return n.indexOf(t)!==-1}};t.prototype.visibleColumnFromColumn=function(t,i){return $y.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,this.tabSize)};t.prototype.columnFromVisibleColumn=function(t,i,n){var r=$y.columnFromVisibleColumn(t.getLineContent(i),n,this.tabSize),e=t.getLineMinColumn(i);if(r<e)return e;var o=t.getLineMaxColumn(i);return r>o?o:r};return t}();var BE=function(){function t(t,i){this._cursorStateBrand=void 0,this.modelState=t,this.viewState=i}t.fromModelState=function(t){return new CE(t)};t.fromViewState=function(t){return new DE(t)};t.fromModelSelection=function(i){var n=$r.liftSelection(i),r=new ME(Zr.fromPositions(n.getSelectionStart()),0,0,n.getPosition(),0);return t.fromModelState(r)};t.fromModelSelections=function(t){var i=[];for(var n=0,r=t.length;n<r;n++)i[n]=this.fromModelSelection(t[n]);return i};t.prototype.equals=function(t){return this.viewState.equals(t.viewState)&&this.modelState.equals(t.modelState)};return t}();var CE=function(){function t(t){this.modelState=t,this.viewState=null}return t}();var DE=function(){function t(t){this.modelState=null,this.viewState=t}return t}();var ME=function(){function t(i,n,r,e,o){this.selectionStart=i,this.selectionStartKind=n,this.selectionStartLeftoverVisibleColumns=r,this.position=e,this.leftoverVisibleColumns=o,this._singleCursorStateBrand=void 0,this.selection=t._computeSelection(this.selectionStart,this.position)}t.prototype.equals=function(t){return this.selectionStartLeftoverVisibleColumns===t.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===t.leftoverVisibleColumns&&this.selectionStartKind===t.selectionStartKind&&this.position.equals(t.position)&&this.selectionStart.equalsRange(t.selectionStart)};t.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()};t.prototype.move=function(i,n,r,e){return i?new t(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new qr(n,r),e):new t(new Zr(n,r,n,r),0,e,new qr(n,r),e)};t._computeSelection=function(t,i){return t.isEmpty()||!i.isBeforeOrEqual(t.getStartPosition())?$r.fromPositions(t.getStartPosition(),i):$r.fromPositions(t.getEndPosition(),i)};return t}();var _E=function(){function t(t,i,n){this._editOperationResultBrand=void 0,this.type=t,this.commands=i,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}return t}();function FE(t){return t==="'"||t==='"'||t==="`"}var SE=function(){function t(){}t.columnSelect=function(t,i,n,r,e,o){var s=Math.abs(e-n)+1,u=n>e,a=r>o,c=r<o,h=[];for(var f=0;f<s;f++){var l=n+(u?-f:f),d=t.columnFromVisibleColumn(i,l,r),v=t.columnFromVisibleColumn(i,l,o),A=t.visibleColumnFromColumn(i,new qr(l,d)),g=t.visibleColumnFromColumn(i,new qr(l,v));c&&(A>o||g<r)||a&&(g>r||A<o)||h.push(new ME(new Zr(l,d,l,d),0,0,new qr(l,v),0))}if(h.length===0)for(var f=0;f<s;f++){var l=n+(u?-f:f),d=i.getLineMaxColumn(l);h.push(new ME(new Zr(l,d,l,d),0,0,new qr(l,d),0))}return{viewStates:h,reversed:u,fromLineNumber:n,fromVisualColumn:r,toLineNumber:e,toVisualColumn:o}};t.columnSelectLeft=function(i,n,r){var e=r.toViewVisualColumn;return e>0&&e--,t.columnSelect(i,n,r.fromViewLineNumber,r.fromViewVisualColumn,r.toViewLineNumber,e)};t.columnSelectRight=function(t,i,n){var r=0;var e=Math.min(n.fromViewLineNumber,n.toViewLineNumber),o=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(var s=e;s<=o;s++){var u=i.getLineMaxColumn(s),a=t.visibleColumnFromColumn(i,new qr(s,u));r=Math.max(r,a)}var c=n.toViewVisualColumn;return c<r&&c++,this.columnSelect(t,i,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,c)};t.columnSelectUp=function(t,i,n,r){var e=r?t.pageSize:1,o=Math.max(1,n.toViewLineNumber-e);return this.columnSelect(t,i,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)};t.columnSelectDown=function(t,i,n,r){var e=r?t.pageSize:1,o=Math.min(i.getLineCount(),n.toViewLineNumber+e);return this.columnSelect(t,i,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)};return t}();var IE=function(){function t(t,i,n){if(n===void 0){n=!1}this._range=t,this._text=i,this.insertsAutoWhitespace=n}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(this._range,this._text)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations()[0].range;return $r.fromPositions(n.getEndPosition())};return t}();var QE=function(){function t(t,i){this._range=t,this._text=i}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(this._range,this._text)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations()[0].range;return $r.fromRange(n,0)};return t}();var OE=function(){function t(t,i,n){if(n===void 0){n=!1}this._range=t,this._text=i,this.insertsAutoWhitespace=n}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(this._range,this._text)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations()[0].range;return $r.fromPositions(n.getStartPosition())};return t}();var NE=function(){function t(t,i,n,r,e){if(e===void 0){e=!1}this._range=t,this._text=i,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=e}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(this._range,this._text)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations()[0].range;return $r.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))};return t}();var RE=function(){function t(t,i,n,r){if(r===void 0){r=!1}this._range=t,this._text=i,this._initialSelection=n,this._forceMoveMarkers=r,this._selectionId=null}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=i.trackSelection(this._initialSelection)};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this._selectionId)};return t}();var TE=function(){function t(t,i,n){this._cursorPositionBrand=void 0,this.lineNumber=t,this.column=i,this.leftoverVisibleColumns=n}return t}();var LE=function(){function t(){}t.leftPosition=function(t,i){if(i.column>t.getLineMinColumn(i.lineNumber))return i.delta(void 0,-qo(t.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){var n=i.lineNumber-1;return new qr(n,t.getLineMaxColumn(n))}return i};t.leftPositionAtomicSoftTabs=function(t,i,n){if(i.column<=t.getLineIndentColumn(i.lineNumber)){var r=t.getLineMinColumn(i.lineNumber),e=t.getLineContent(i.lineNumber),o=tk.atomicPosition(e,i.column-1,n,0);if(o!==-1&&o+1>=r)return new qr(i.lineNumber,o+1)}return this.leftPosition(t,i)};t.left=function(i,n,r){var e=i.stickyTabStops?t.leftPositionAtomicSoftTabs(n,r,i.tabSize):t.leftPosition(n,r);return new TE(e.lineNumber,e.column,0)};t.moveLeft=function(i,n,r,e,o){var s,u;if(r.hasSelection()&&!e)s=r.selection.startLineNumber,u=r.selection.startColumn;else{var a=r.position.delta(void 0,-(o-1)),c=n.normalizePosition(t.clipPositionColumn(a,n),0),h=t.left(i,n,c);s=h.lineNumber,u=h.column}return r.move(e,s,u,0)};t.clipPositionColumn=function(i,n){return new qr(i.lineNumber,t.clipRange(i.column,n.getLineMinColumn(i.lineNumber),n.getLineMaxColumn(i.lineNumber)))};t.clipRange=function(t,i,n){return t<i?i:t>n?n:t};t.rightPosition=function(t,i,n){return n<t.getLineMaxColumn(i)?n+=Xo(t.getLineContent(i),n-1):i<t.getLineCount()&&(i+=1,n=t.getLineMinColumn(i)),new qr(i,n)};t.rightPositionAtomicSoftTabs=function(t,i,n,r,e){if(n<t.getLineIndentColumn(i)){var o=t.getLineContent(i),s=tk.atomicPosition(o,n-1,r,1);if(s!==-1)return new qr(i,s+1)}return this.rightPosition(t,i,n)};t.right=function(i,n,r){var e=i.stickyTabStops?t.rightPositionAtomicSoftTabs(n,r.lineNumber,r.column,i.tabSize,i.indentSize):t.rightPosition(n,r.lineNumber,r.column);return new TE(e.lineNumber,e.column,0)};t.moveRight=function(i,n,r,e,o){var s,u;if(r.hasSelection()&&!e)s=r.selection.endLineNumber,u=r.selection.endColumn;else{var a=r.position.delta(void 0,o-1),c=n.normalizePosition(t.clipPositionColumn(a,n),1),h=t.right(i,n,c);s=h.lineNumber,u=h.column}return r.move(e,s,u,0)};t.vertical=function(t,i,n,r,e,o,s,u){var a=$y.visibleColumnFromColumn(i.getLineContent(n),r,t.tabSize)+e,c=i.getLineCount(),h=n===1&&r===1,f=n===c&&r===i.getLineMaxColumn(n),l=o<n?h:f;if((n=o)<1?(n=1,r=s?i.getLineMinColumn(n):Math.min(i.getLineMaxColumn(n),r)):n>c?(n=c,r=s?i.getLineMaxColumn(n):Math.min(i.getLineMaxColumn(n),r)):r=t.columnFromVisibleColumn(i,n,a),e=l?0:a-$y.visibleColumnFromColumn(i.getLineContent(n),r,t.tabSize),u!==void 0){var d=new qr(n,r),v=i.normalizePosition(d,u);e+=r-v.column,n=v.lineNumber,r=v.column}return new TE(n,r,e)};t.down=function(t,i,n,r,e,o,s){return this.vertical(t,i,n,r,e,n+o,s,4)};t.moveDown=function(i,n,r,e,o){var s,u;r.hasSelection()&&!e?(s=r.selection.endLineNumber,u=r.selection.endColumn):(s=r.position.lineNumber,u=r.position.column);var a,c=0;do{if(a=t.down(i,n,s+c,u,r.leftoverVisibleColumns,o,!0),n.normalizePosition(new qr(a.lineNumber,a.column),2).lineNumber>s)break}while(c++<10&&s+c<n.getLineCount());return r.move(e,a.lineNumber,a.column,a.leftoverVisibleColumns)};t.translateDown=function(i,n,r){var e=r.selection,o=t.down(i,n,e.selectionStartLineNumber,e.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=t.down(i,n,e.positionLineNumber,e.positionColumn,r.leftoverVisibleColumns,1,!1);return new ME(new Zr(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new qr(s.lineNumber,s.column),s.leftoverVisibleColumns)};t.up=function(t,i,n,r,e,o,s){return this.vertical(t,i,n,r,e,n-o,s,3)};t.moveUp=function(i,n,r,e,o){var s,u;r.hasSelection()&&!e?(s=r.selection.startLineNumber,u=r.selection.startColumn):(s=r.position.lineNumber,u=r.position.column);var a=t.up(i,n,s,u,r.leftoverVisibleColumns,o,!0);return r.move(e,a.lineNumber,a.column,a.leftoverVisibleColumns)};t.translateUp=function(i,n,r){var e=r.selection,o=t.up(i,n,e.selectionStartLineNumber,e.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=t.up(i,n,e.positionLineNumber,e.positionColumn,r.leftoverVisibleColumns,1,!1);return new ME(new Zr(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new qr(s.lineNumber,s.column),s.leftoverVisibleColumns)};t._isBlankLine=function(t,i){return t.getLineFirstNonWhitespaceColumn(i)===0};t.moveToPrevBlankLine=function(t,i,n,r){var e=n.position.lineNumber;for(;e>1&&this._isBlankLine(i,e);)e--;for(;e>1&&!this._isBlankLine(i,e);)e--;return n.move(r,e,i.getLineMinColumn(e),0)};t.moveToNextBlankLine=function(t,i,n,r){var e=i.getLineCount();var o=n.position.lineNumber;for(;o<e&&this._isBlankLine(i,o);)o++;for(;o<e&&!this._isBlankLine(i,o);)o++;return n.move(r,o,i.getLineMinColumn(o),0)};t.moveToBeginningOfLine=function(t,i,n,r){var e=n.position.lineNumber,o=i.getLineMinColumn(e),s=i.getLineFirstNonWhitespaceColumn(e)||o;var u;return u=n.position.column===s?o:s,n.move(r,e,u,0)};t.moveToEndOfLine=function(t,i,n,r,e){var o=n.position.lineNumber,s=i.getLineMaxColumn(o);return n.move(r,o,s,e?1073741824-s:0)};t.moveToBeginningOfBuffer=function(t,i,n,r){return n.move(r,1,1,0)};t.moveToEndOfBuffer=function(t,i,n,r){var e=i.getLineCount(),o=i.getLineMaxColumn(e);return n.move(r,e,o,0)};return t}();var jE=function(){function t(){}t.deleteRight=function(t,i,n,r){var e=[];var o=t!==3;for(var s=0,u=r.length;s<u;s++){var a=r[s];var c=a;if(c.isEmpty()){var h=a.getPosition(),f=LE.right(i,n,h);c=new Zr(f.lineNumber,f.column,h.lineNumber,h.column)}c.isEmpty()?e[s]=null:(c.startLineNumber!==c.endLineNumber&&(o=!0),e[s]=new IE(c,""))}return[o,e]};t.isAutoClosingPairDelete=function(t,i,n,r,e,o,s){if(i==="never"&&n==="never"||t==="never")return!1;for(var u=0,a=o.length;u<a;u++){var c=o[u],h=c.getPosition();if(!c.isEmpty())return!1;var f=e.getLineContent(h.lineNumber);if(h.column<2||h.column>=f.length+1)return!1;var l=f.charAt(h.column-2),d=r.get(l);if(!d)return!1;if(FE(l)){if(n==="never")return!1}else if(i==="never")return!1;var v=f.charAt(h.column-1);var A=!1;for(var g=0,w=d;g<w.length;g++){var p=w[g];p.open===l&&p.close===v&&(A=!0)}if(!A)return!1;if(t==="auto"){var p=!1;for(var m=0,b=s.length;m<b;m++){var y=s[m];if(h.lineNumber===y.startLineNumber&&h.column===y.startColumn){p=!0;break}}if(!p)return!1}}return!0};t._runAutoClosingPairDelete=function(t,i,n){var r=[];for(var e=0,o=n.length;e<o;e++){var s=n[e].getPosition(),u=new Zr(s.lineNumber,s.column-1,s.lineNumber,s.column+1);r[e]=new IE(u,"")}return[!0,r]};t.deleteLeft=function(i,n,r,e,o){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,r,e,o))return this._runAutoClosingPairDelete(n,r,e);var s=[];var u=i!==2;for(var a=0,c=e.length;a<c;a++){var h=t.getDeleteRange(e[a],r,n);h.isEmpty()?s[a]=null:(h.startLineNumber!==h.endLineNumber&&(u=!0),s[a]=new IE(h,""))}return[u,s]};t.getDeleteRange=function(i,n,r){if(!i.isEmpty())return i;var e=i.getPosition();if(r.useTabStops&&e.column>1){var o=n.getLineContent(e.lineNumber),s=Fo(o),u=s===-1?o.length+1:s+1;if(e.column<=u){var a=r.visibleColumnFromColumn(n,e),c=$y.prevIndentTabStop(a,r.indentSize),h=r.columnFromVisibleColumn(n,e.lineNumber,c);return new Zr(e.lineNumber,h,e.lineNumber,e.column)}}return Zr.fromPositions(t.getPositionAfterDeleteLeft(e,n),e)};t.getPositionAfterDeleteLeft=function(t,i){if(t.column>1){var n=fs(t.column-1,i.getLineContent(t.lineNumber));return t.with(void 0,n+1)}if(t.lineNumber>1){var n=t.lineNumber-1;return new qr(n,i.getLineMaxColumn(n))}return t};t.cut=function(t,i,n){var r=[];var e=null;n.sort((function(t,i){return qr.compare(t.getStartPosition(),i.getEndPosition())}));for(var o=0,s=n.length;o<s;o++){var u=n[o];if(u.isEmpty())if(t.emptySelectionClipboard){var a=u.getPosition();var c=void 0,h=void 0,f=void 0,l=void 0;a.lineNumber<i.getLineCount()?(c=a.lineNumber,h=1,f=a.lineNumber+1,l=1):a.lineNumber>1&&(e==null?void 0:e.endLineNumber)!==a.lineNumber?(c=a.lineNumber-1,h=i.getLineMaxColumn(a.lineNumber-1),f=a.lineNumber,l=i.getLineMaxColumn(a.lineNumber)):(c=a.lineNumber,h=1,f=a.lineNumber,l=i.getLineMaxColumn(a.lineNumber));var d=new Zr(c,h,f,l);e=d,d.isEmpty()?r[o]=null:r[o]=new IE(d,"")}else r[o]=null;else r[o]=new IE(u,"")}return new _E(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})};return t}();var zE=function(){function t(){}t._createWord=function(t,i,n,r,e){return{start:r,end:e,wordType:i,nextCharClass:n}};t._createIntlWord=function(t,i){return{start:t.index,end:t.index+t.segment.length,wordType:1,nextCharClass:i}};t._findPreviousWordOnLine=function(t,i,n){var r=i.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(r,t,n)};t._doFindPreviousWordOnLine=function(t,i,n){var r=0;var e=i.findPrevIntlWordBeforeOrAtOffset(t,n.column-2);for(var o=n.column-2;o>=0;o--){var s=t.charCodeAt(o),u=i.get(s);if(e&&o===e.index)return this._createIntlWord(e,u);if(u===0){if(r===2)return this._createWord(t,r,u,o+1,this._findEndOfWord(t,i,r,o+1));r=1}else if(u===2){if(r===1)return this._createWord(t,r,u,o+1,this._findEndOfWord(t,i,r,o+1));r=2}else if(u===1&&r!==0)return this._createWord(t,r,u,o+1,this._findEndOfWord(t,i,r,o+1))}return r!==0?this._createWord(t,r,1,0,this._findEndOfWord(t,i,r,0)):null};t._findEndOfWord=function(t,i,n,r){var e=i.findNextIntlWordAtOrAfterOffset(t,r),o=t.length;for(var s=r;s<o;s++){var u=t.charCodeAt(s),a=i.get(u);if(e&&s===e.index+e.segment.length||a===1||n===1&&a===2||n===2&&a===0)return s}return o};t._findNextWordOnLine=function(t,i,n){var r=i.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(r,t,n)};t._doFindNextWordOnLine=function(t,i,n){var r=0;var e=t.length,o=i.findNextIntlWordAtOrAfterOffset(t,n.column-1);for(var s=n.column-1;s<e;s++){var u=t.charCodeAt(s),a=i.get(u);if(o&&s===o.index)return this._createIntlWord(o,a);if(a===0){if(r===2)return this._createWord(t,r,a,this._findStartOfWord(t,i,r,s-1),s);r=1}else if(a===2){if(r===1)return this._createWord(t,r,a,this._findStartOfWord(t,i,r,s-1),s);r=2}else if(a===1&&r!==0)return this._createWord(t,r,a,this._findStartOfWord(t,i,r,s-1),s)}return r!==0?this._createWord(t,r,1,this._findStartOfWord(t,i,r,e-1),e):null};t._findStartOfWord=function(t,i,n,r){var e=i.findPrevIntlWordBeforeOrAtOffset(t,r);for(var o=r;o>=0;o--){var s=t.charCodeAt(o),u=i.get(s);if(e&&o===e.index)return o;if(u===1||n===1&&u===2||n===2&&u===0)return o+1}return 0};t.moveWordLeft=function(i,n,r,e){var o=r.lineNumber,s=r.column;s===1&&o>1&&(o-=1,s=n.getLineMaxColumn(o));var u=t._findPreviousWordOnLine(i,n,new qr(o,s));if(e===0)return new qr(o,u?u.start+1:1);if(e===1)return u&&u.wordType===2&&u.end-u.start==1&&u.nextCharClass===0&&(u=t._findPreviousWordOnLine(i,n,new qr(o,u.start+1))),new qr(o,u?u.start+1:1);if(e===3){for(;u&&u.wordType===2;)u=t._findPreviousWordOnLine(i,n,new qr(o,u.start+1));return new qr(o,u?u.start+1:1)}return u&&s<=u.end+1&&(u=t._findPreviousWordOnLine(i,n,new qr(o,u.start+1))),new qr(o,u?u.end+1:1)};t._moveWordPartLeft=function(t,i){var n=i.lineNumber,r=t.getLineMaxColumn(n);if(i.column===1)return n>1?new qr(n-1,t.getLineMaxColumn(n-1)):i;var e=t.getLineContent(n);for(var o=i.column-1;o>1;o--){var s=e.charCodeAt(o-2),u=e.charCodeAt(o-1);if(s===95&&u!==95)return new qr(n,o);if(s===45&&u!==45)return new qr(n,o);if((Lo(s)||To(s))&&jo(u))return new qr(n,o);if(jo(s)&&jo(u)&&o+1<r){var a=e.charCodeAt(o);if(Lo(a)||To(a))return new qr(n,o)}}return new qr(n,1)};t.moveWordRight=function(i,n,r,e){var o=r.lineNumber,s=r.column,u=!1;s===n.getLineMaxColumn(o)&&o<n.getLineCount()&&(u=!0,o+=1,s=1);var a=t._findNextWordOnLine(i,n,new qr(o,s));if(e===2)a&&a.wordType===2&&a.end-a.start==1&&a.nextCharClass===0&&(a=t._findNextWordOnLine(i,n,new qr(o,a.end+1))),s=a?a.end+1:n.getLineMaxColumn(o);else if(e===3){for(u&&(s=0);a&&(a.wordType===2||a.start+1<=s);)a=t._findNextWordOnLine(i,n,new qr(o,a.end+1));s=a?a.start+1:n.getLineMaxColumn(o)}else a&&!u&&s>=a.start+1&&(a=t._findNextWordOnLine(i,n,new qr(o,a.end+1))),s=a?a.start+1:n.getLineMaxColumn(o);return new qr(o,s)};t._moveWordPartRight=function(t,i){var n=i.lineNumber,r=t.getLineMaxColumn(n);if(i.column===r)return n<t.getLineCount()?new qr(n+1,1):i;var e=t.getLineContent(n);for(var o=i.column+1;o<r;o++){var s=e.charCodeAt(o-2),u=e.charCodeAt(o-1);if(s!==95&&u===95)return new qr(n,o);if(s!==45&&u===45)return new qr(n,o);if((Lo(s)||To(s))&&jo(u))return new qr(n,o);if(jo(s)&&jo(u)&&o+1<r){var a=e.charCodeAt(o);if(Lo(a)||To(a))return new qr(n,o)}}return new qr(n,r)};t._deleteWordLeftWhitespace=function(t,i){var n=t.getLineContent(i.lineNumber),r=i.column-2,e=Io(n,r);return e+1<r?new Zr(i.lineNumber,e+2,i.lineNumber,i.column):null};t.deleteWordLeft=function(i,n){var r=i.wordSeparators,e=i.model,o=i.selection,s=i.whitespaceHeuristics;if(!o.isEmpty())return o;if(jE.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){var u=i.selection.getPosition();return new Zr(u.lineNumber,u.column-1,u.lineNumber,u.column+1)}var a=new qr(o.positionLineNumber,o.positionColumn);var c=a.lineNumber,h=a.column;if(c===1&&h===1)return null;if(s){var u=this._deleteWordLeftWhitespace(e,a);if(u)return u}var f=t._findPreviousWordOnLine(r,e,a);return n===0?f?h=f.start+1:h>1?h=1:(c--,h=e.getLineMaxColumn(c)):(f&&h<=f.end+1&&(f=t._findPreviousWordOnLine(r,e,new qr(c,f.start+1))),f?h=f.end+1:h>1?h=1:(c--,h=e.getLineMaxColumn(c))),new Zr(c,h,a.lineNumber,a.column)};t.deleteInsideWord=function(t,i,n){if(!n.isEmpty())return n;var r=new qr(n.positionLineNumber,n.positionColumn);return this._deleteInsideWordWhitespace(i,r)||this._deleteInsideWordDetermineDeleteRange(t,i,r)};t._charAtIsWhitespace=function(t,i){var n=t.charCodeAt(i);return n===32||n===9};t._deleteInsideWordWhitespace=function(t,i){var n=t.getLineContent(i.lineNumber),r=n.length;if(r===0)return null;var e=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(n,e))return null;var o=Math.min(i.column-1,r-1);if(!this._charAtIsWhitespace(n,o))return null;for(;e>0&&this._charAtIsWhitespace(n,e-1);)e--;for(;o+1<r&&this._charAtIsWhitespace(n,o+1);)o++;return new Zr(i.lineNumber,e+1,i.lineNumber,o+2)};t._deleteInsideWordDetermineDeleteRange=function(i,n,r){var e=this;var o=n.getLineContent(r.lineNumber),s=o.length;if(s===0)return r.lineNumber>1?new Zr(r.lineNumber-1,n.getLineMaxColumn(r.lineNumber-1),r.lineNumber,1):r.lineNumber<n.getLineCount()?new Zr(r.lineNumber,1,r.lineNumber+1,1):new Zr(r.lineNumber,1,r.lineNumber,1);var u=function(t){return t.start+1<=r.column&&r.column<=t.end+1},a=function(t,i){return t=Math.min(t,r.column),i=Math.max(i,r.column),new Zr(r.lineNumber,t,r.lineNumber,i)},c=function(t){var i=t.start+1,n=t.end+1,r=!1;for(;n-1<s&&e._charAtIsWhitespace(o,n-1);)r=!0,n++;if(!r)for(;i>1&&e._charAtIsWhitespace(o,i-2);)i--;return a(i,n)},h=t._findPreviousWordOnLine(i,n,r);if(h&&u(h))return c(h);var f=t._findNextWordOnLine(i,n,r);return f&&u(f)?c(f):h&&f?a(h.end+1,f.start+1):h?a(h.start+1,h.end+1):f?a(f.start+1,f.end+1):a(1,s+1)};t._deleteWordPartLeft=function(i,n){if(!n.isEmpty())return n;var r=n.getPosition(),e=t._moveWordPartLeft(i,r);return new Zr(r.lineNumber,r.column,e.lineNumber,e.column)};t._findFirstNonWhitespaceChar=function(t,i){var n=t.length;for(var r=i;r<n;r++){var e=t.charAt(r);if(e!==" "&&e!=="\t")return r}return n};t._deleteWordRightWhitespace=function(t,i){var n=t.getLineContent(i.lineNumber),r=i.column-1,e=this._findFirstNonWhitespaceChar(n,r);return r+1<e?new Zr(i.lineNumber,i.column,i.lineNumber,e+1):null};t.deleteWordRight=function(i,n){var r=i.wordSeparators,e=i.model,o=i.selection,s=i.whitespaceHeuristics;if(!o.isEmpty())return o;var u=new qr(o.positionLineNumber,o.positionColumn);var a=u.lineNumber,c=u.column;var h=e.getLineCount(),f=e.getLineMaxColumn(a);if(a===h&&c===f)return null;if(s){var l=this._deleteWordRightWhitespace(e,u);if(l)return l}var d=t._findNextWordOnLine(r,e,u);return n===2?d?c=d.end+1:c<f||a===h?c=f:(a++,d=t._findNextWordOnLine(r,e,new qr(a,1)),c=d?d.start+1:e.getLineMaxColumn(a)):(d&&c>=d.start+1&&(d=t._findNextWordOnLine(r,e,new qr(a,d.end+1))),d?c=d.start+1:c<f||a===h?c=f:(a++,d=t._findNextWordOnLine(r,e,new qr(a,1)),c=d?d.start+1:e.getLineMaxColumn(a))),new Zr(a,c,u.lineNumber,u.column)};t._deleteWordPartRight=function(i,n){if(!n.isEmpty())return n;var r=n.getPosition(),e=t._moveWordPartRight(i,r);return new Zr(r.lineNumber,r.column,e.lineNumber,e.column)};t._createWordAtPosition=function(t,i,n){var r=new Zr(i,n.start+1,i,n.end+1);return{word:t.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}};t.getWordAtPosition=function(i,n,r,e){var o=Mv(n,r),s=t._findPreviousWordOnLine(o,i,e);if(s&&s.wordType===1&&s.start<=e.column-1&&e.column-1<=s.end)return t._createWordAtPosition(i,e.lineNumber,s);var u=t._findNextWordOnLine(o,i,e);return u&&u.wordType===1&&u.start<=e.column-1&&e.column-1<=u.end?t._createWordAtPosition(i,e.lineNumber,u):null};t.word=function(i,n,r,e,o){var s=Mv(i.wordSeparators,i.wordSegmenterLocales),u=t._findPreviousWordOnLine(s,n,o),a=t._findNextWordOnLine(s,n,o);if(!e){var c=void 0,h=void 0;return u&&u.wordType===1&&u.start<=o.column-1&&o.column-1<=u.end?(c=u.start+1,h=u.end+1):a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(c=a.start+1,h=a.end+1):(c=u?u.end+1:1,h=a?a.start+1:n.getLineMaxColumn(o.lineNumber)),new ME(new Zr(o.lineNumber,c,o.lineNumber,h),1,0,new qr(o.lineNumber,h),0)}var f,l;u&&u.wordType===1&&u.start<o.column-1&&o.column-1<u.end?(f=u.start+1,l=u.end+1):a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(f=a.start+1,l=a.end+1):(f=o.column,l=o.column);var d=o.lineNumber;var v;if(r.selectionStart.containsPosition(o))v=r.selectionStart.endColumn;else if(o.isBeforeOrEqual(r.selectionStart.getStartPosition())){v=f;var c=new qr(d,v);r.selectionStart.containsPosition(c)&&(v=r.selectionStart.endColumn)}else{v=l;var c=new qr(d,v);r.selectionStart.containsPosition(c)&&(v=r.selectionStart.startColumn)}return r.move(!0,d,v,0)};return t}();var UE=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.deleteWordPartLeft=function(t){var i=HE([zE.deleteWordLeft(t,0),zE.deleteWordLeft(t,2),zE._deleteWordPartLeft(t.model,t.selection)]);return i.sort(Zr.compareRangesUsingEnds),i[2]};i.deleteWordPartRight=function(t){var i=HE([zE.deleteWordRight(t,0),zE.deleteWordRight(t,2),zE._deleteWordPartRight(t.model,t.selection)]);return i.sort(Zr.compareRangesUsingStarts),i[0]};i.moveWordPartLeft=function(t,i,n){var r=HE([zE.moveWordLeft(t,i,n,0),zE.moveWordLeft(t,i,n,2),zE._moveWordPartLeft(i,n)]);return r.sort(qr.compare),r[2]};i.moveWordPartRight=function(t,i,n){var r=HE([zE.moveWordRight(t,i,n,0),zE.moveWordRight(t,i,n,2),zE._moveWordPartRight(i,n)]);return r.sort(qr.compare),r[0]};return i}(zE);function HE(t){return t.filter((function(t){return!!t}))}var YE=function(){function t(){}t.addCursorDown=function(t,i,n){var r=[];var e=0;for(var o=0,s=i.length;o<s;o++){var u=i[o];r[e++]=new BE(u.modelState,u.viewState),r[e++]=n?BE.fromModelState(LE.translateDown(t.cursorConfig,t.model,u.modelState)):BE.fromViewState(LE.translateDown(t.cursorConfig,t,u.viewState))}return r};t.addCursorUp=function(t,i,n){var r=[];var e=0;for(var o=0,s=i.length;o<s;o++){var u=i[o];r[e++]=new BE(u.modelState,u.viewState),r[e++]=n?BE.fromModelState(LE.translateUp(t.cursorConfig,t.model,u.modelState)):BE.fromViewState(LE.translateUp(t.cursorConfig,t,u.viewState))}return r};t.moveToBeginningOfLine=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e];r[e]=this._moveToLineStart(t,s,n)}return r};t._moveToLineStart=function(t,i,n){var r=i.viewState.position.column,e=r===i.modelState.position.column,o=i.viewState.position.lineNumber,s=t.getLineFirstNonWhitespaceColumn(o);return e||r===s?this._moveToLineStartByModel(t,i,n):this._moveToLineStartByView(t,i,n)};t._moveToLineStartByView=function(t,i,n){return BE.fromViewState(LE.moveToBeginningOfLine(t.cursorConfig,t,i.viewState,n))};t._moveToLineStartByModel=function(t,i,n){return BE.fromModelState(LE.moveToBeginningOfLine(t.cursorConfig,t.model,i.modelState,n))};t.moveToEndOfLine=function(t,i,n,r){var e=[];for(var o=0,s=i.length;o<s;o++){var u=i[o];e[o]=this._moveToLineEnd(t,u,n,r)}return e};t._moveToLineEnd=function(t,i,n,r){var e=i.viewState.position,o=t.getLineMaxColumn(e.lineNumber),s=e.column===o,u=i.modelState.position,a=t.model.getLineMaxColumn(u.lineNumber),c=o-e.column==a-u.column;return s||c?this._moveToLineEndByModel(t,i,n,r):this._moveToLineEndByView(t,i,n,r)};t._moveToLineEndByView=function(t,i,n,r){return BE.fromViewState(LE.moveToEndOfLine(t.cursorConfig,t,i.viewState,n,r))};t._moveToLineEndByModel=function(t,i,n,r){return BE.fromModelState(LE.moveToEndOfLine(t.cursorConfig,t.model,i.modelState,n,r))};t.expandLineSelection=function(t,i){var n=[];for(var r=0,e=i.length;r<e;r++){var o=i[r],s=o.modelState.selection.startLineNumber,u=t.model.getLineCount();var a=void 0,c=o.modelState.selection.endLineNumber;c===u?a=t.model.getLineMaxColumn(u):(c++,a=1),n[r]=BE.fromModelState(new ME(new Zr(s,1,s,1),0,0,new qr(c,a),0))}return n};t.moveToBeginningOfBuffer=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e];r[e]=BE.fromModelState(LE.moveToBeginningOfBuffer(t.cursorConfig,t.model,s.modelState,n))}return r};t.moveToEndOfBuffer=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e];r[e]=BE.fromModelState(LE.moveToEndOfBuffer(t.cursorConfig,t.model,s.modelState,n))}return r};t.selectAll=function(t,i){var n=t.model.getLineCount(),r=t.model.getLineMaxColumn(n);return BE.fromModelState(new ME(new Zr(1,1,1,1),0,0,new qr(n,r),0))};t.line=function(t,i,n,r,e){var o=t.model.validatePosition(r),s=e?t.coordinatesConverter.validateViewPosition(new qr(e.lineNumber,e.column),o):t.coordinatesConverter.convertModelPositionToViewPosition(o);if(!n){var u=t.model.getLineCount();var a=o.lineNumber+1,c=1;return a>u&&(a=u,c=t.model.getLineMaxColumn(a)),BE.fromModelState(new ME(new Zr(o.lineNumber,1,a,c),2,0,new qr(a,c),0))}var h=i.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<h)return BE.fromViewState(i.viewState.move(!0,s.lineNumber,1,0));if(o.lineNumber>h){var u=t.getLineCount();var f=s.lineNumber+1,c=1;return f>u&&(f=u,c=t.getLineMaxColumn(f)),BE.fromViewState(i.viewState.move(!0,f,c,0))}{var u=i.modelState.selectionStart.getEndPosition();return BE.fromModelState(i.modelState.move(!0,u.lineNumber,u.column,0))}};t.word=function(t,i,n,r){var e=t.model.validatePosition(r);return BE.fromModelState(zE.word(t.cursorConfig,t.model,i.modelState,n,e))};t.cancelSelection=function(t,i){if(!i.modelState.hasSelection())return new BE(i.modelState,i.viewState);var n=i.viewState.position.lineNumber,r=i.viewState.position.column;return BE.fromViewState(new ME(new Zr(n,r,n,r),0,0,new qr(n,r),0))};t.moveTo=function(t,i,n,r,e){if(n){if(i.modelState.selectionStartKind===1)return this.word(t,i,n,r);if(i.modelState.selectionStartKind===2)return this.line(t,i,n,r,e)}var o=t.model.validatePosition(r),s=e?t.coordinatesConverter.validateViewPosition(new qr(e.lineNumber,e.column),o):t.coordinatesConverter.convertModelPositionToViewPosition(o);return BE.fromViewState(i.viewState.move(n,s.lineNumber,s.column,0))};t.simpleMove=function(t,i,n,r,e,o){switch(n){case 0:return o===4?this._moveHalfLineLeft(t,i,r):this._moveLeft(t,i,r,e);case 1:return o===4?this._moveHalfLineRight(t,i,r):this._moveRight(t,i,r,e);case 2:return o===2?this._moveUpByViewLines(t,i,r,e):this._moveUpByModelLines(t,i,r,e);case 3:return o===2?this._moveDownByViewLines(t,i,r,e):this._moveDownByModelLines(t,i,r,e);case 4:return o===2?i.map((function(i){return BE.fromViewState(LE.moveToPrevBlankLine(t.cursorConfig,t,i.viewState,r))})):i.map((function(i){return BE.fromModelState(LE.moveToPrevBlankLine(t.cursorConfig,t.model,i.modelState,r))}));case 5:return o===2?i.map((function(i){return BE.fromViewState(LE.moveToNextBlankLine(t.cursorConfig,t,i.viewState,r))})):i.map((function(i){return BE.fromModelState(LE.moveToNextBlankLine(t.cursorConfig,t.model,i.modelState,r))}));case 6:return this._moveToViewMinColumn(t,i,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(t,i,r);case 8:return this._moveToViewCenterColumn(t,i,r);case 9:return this._moveToViewMaxColumn(t,i,r);case 10:return this._moveToViewLastNonWhitespaceColumn(t,i,r);default:return null}};t.viewportMove=function(t,i,n,r,e){var o=t.getCompletelyVisibleViewRange(),s=t.coordinatesConverter.convertViewRangeToModelRange(o);switch(n){case 11:{var u=this._firstLineNumberInRange(t.model,s,e),a=t.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(t,i[0],r,u,a)]}case 13:{var u=this._lastLineNumberInRange(t.model,s,e),a=t.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(t,i[0],r,u,a)]}case 12:{var u=Math.round((s.startLineNumber+s.endLineNumber)/2),a=t.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(t,i[0],r,u,a)]}case 14:{var u=[];for(var a=0,c=i.length;a<c;a++){var h=i[a];u[a]=this.findPositionInViewportIfOutside(t,h,o,r)}return u}default:return null}};t.findPositionInViewportIfOutside=function(t,i,n,r){var e=i.viewState.position.lineNumber;if(n.startLineNumber<=e&&e<=n.endLineNumber-1)return new BE(i.modelState,i.viewState);{var o=void 0;o=e>n.endLineNumber-1?n.endLineNumber-1:e<n.startLineNumber?n.startLineNumber:e;var s=LE.vertical(t.cursorConfig,t,e,i.viewState.position.column,i.viewState.leftoverVisibleColumns,o,!1);return BE.fromViewState(i.viewState.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns))}};t._firstLineNumberInRange=function(t,i,n){var r=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(r)&&r++,Math.min(i.endLineNumber,r+n-1)};t._lastLineNumberInRange=function(t,i,n){var r=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(r)&&r++,Math.max(r,i.endLineNumber-n+1)};t._moveLeft=function(t,i,n,r){return i.map((function(i){return BE.fromViewState(LE.moveLeft(t.cursorConfig,t,i.viewState,n,r))}))};t._moveHalfLineLeft=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=Math.round(t.getLineLength(u)/2);r[e]=BE.fromViewState(LE.moveLeft(t.cursorConfig,t,s.viewState,n,a))}return r};t._moveRight=function(t,i,n,r){return i.map((function(i){return BE.fromViewState(LE.moveRight(t.cursorConfig,t,i.viewState,n,r))}))};t._moveHalfLineRight=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=Math.round(t.getLineLength(u)/2);r[e]=BE.fromViewState(LE.moveRight(t.cursorConfig,t,s.viewState,n,a))}return r};t._moveDownByViewLines=function(t,i,n,r){var e=[];for(var o=0,s=i.length;o<s;o++){var u=i[o];e[o]=BE.fromViewState(LE.moveDown(t.cursorConfig,t,u.viewState,n,r))}return e};t._moveDownByModelLines=function(t,i,n,r){var e=[];for(var o=0,s=i.length;o<s;o++){var u=i[o];e[o]=BE.fromModelState(LE.moveDown(t.cursorConfig,t.model,u.modelState,n,r))}return e};t._moveUpByViewLines=function(t,i,n,r){var e=[];for(var o=0,s=i.length;o<s;o++){var u=i[o];e[o]=BE.fromViewState(LE.moveUp(t.cursorConfig,t,u.viewState,n,r))}return e};t._moveUpByModelLines=function(t,i,n,r){var e=[];for(var o=0,s=i.length;o<s;o++){var u=i[o];e[o]=BE.fromModelState(LE.moveUp(t.cursorConfig,t.model,u.modelState,n,r))}return e};t._moveToViewPosition=function(t,i,n,r,e){return BE.fromViewState(i.viewState.move(n,r,e,0))};t._moveToModelPosition=function(t,i,n,r,e){return BE.fromModelState(i.modelState.move(n,r,e,0))};t._moveToViewMinColumn=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=t.getLineMinColumn(u);r[e]=this._moveToViewPosition(t,s,n,u,a)}return r};t._moveToViewFirstNonWhitespaceColumn=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=t.getLineFirstNonWhitespaceColumn(u);r[e]=this._moveToViewPosition(t,s,n,u,a)}return r};t._moveToViewCenterColumn=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=Math.round((t.getLineMaxColumn(u)+t.getLineMinColumn(u))/2);r[e]=this._moveToViewPosition(t,s,n,u,a)}return r};t._moveToViewMaxColumn=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=t.getLineMaxColumn(u);r[e]=this._moveToViewPosition(t,s,n,u,a)}return r};t._moveToViewLastNonWhitespaceColumn=function(t,i,n){var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.viewState.position.lineNumber,a=t.getLineLastNonWhitespaceColumn(u);r[e]=this._moveToViewPosition(t,s,n,u,a)}return r};return t}();var JE;function PE(t,i,n,r){var e=Jd(i,n.startLineNumber,n.startColumn),o=r.getLanguageConfiguration(e.languageId);if(!o)return null;var s=e.getLineContent(),u=s.substr(0,n.startColumn-1-e.firstCharOffset);var a;n.isEmpty()?a=s.substr(n.startColumn-1-e.firstCharOffset):a=Jd(i,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-e.firstCharOffset);var c="";if(n.startLineNumber>1&&e.firstCharOffset===0){var h=Jd(i,n.startLineNumber-1);h.languageId===e.languageId&&(c=h.getLineContent())}var f=o.onEnter(t,c,u,a);if(!f)return null;var l=f.indentAction;var d=f.appendText;var v=f.removeText||0;d?l===xl.Indent&&(d="\t"+d):d=l===xl.Indent||l===xl.IndentOutdent?"\t":"";var A=Yd(i,n.startLineNumber,n.startColumn);return v&&(A=A.substring(0,A.length-v)),{indentAction:l,appendText:d,removeText:v,indentation:A}}(function(t){t.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(t){if(!et(t))return!1;var i=t;return!!rt(i.to)&&!(!ct(i.select)&&!at(i.select))&&!(!ct(i.by)&&!rt(i.by))&&!(!ct(i.value)&&!st(i.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},t.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},t.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},t.parse=function(i){if(!i.to)return null;var n;switch(i.to){case t.RawDirection.Left:n=0;break;case t.RawDirection.Right:n=1;break;case t.RawDirection.Up:n=2;break;case t.RawDirection.Down:n=3;break;case t.RawDirection.PrevBlankLine:n=4;break;case t.RawDirection.NextBlankLine:n=5;break;case t.RawDirection.WrappedLineStart:n=6;break;case t.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case t.RawDirection.WrappedLineColumnCenter:n=8;break;case t.RawDirection.WrappedLineEnd:n=9;break;case t.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case t.RawDirection.ViewPortTop:n=11;break;case t.RawDirection.ViewPortBottom:n=13;break;case t.RawDirection.ViewPortCenter:n=12;break;case t.RawDirection.ViewPortIfOutside:n=14;break;default:return null}var r=0;switch(i.by){case t.RawUnit.Line:r=1;break;case t.RawUnit.WrappedLine:r=2;break;case t.RawUnit.Character:r=3;break;case t.RawUnit.HalfLine:r=4}return{direction:n,unit:r,select:!!i.select,value:i.value||1}}})(JE||(JE={}));var WE,GE=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},VE=function(t,i){return function(n,r){i(n,r,t)}};var KE=Object.create(null);function XE(t,i){if(i<=0)return"";KE[t]||(KE[t]=["",t]);var n=KE[t];for(var r=n.length;r<=i;r++)n[r]=n[r-1]+t;return n[i]}var qE=WE=function(){function t(t,i,n){this._languageConfigurationService=n,this._opts=i,this._selection=t,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}t.unshiftIndent=function(t,i,n,r,e){var o=$y.visibleColumnFromColumn(t,i,n);if(e){var s=XE(" ",r);return XE(s,$y.prevIndentTabStop(o,r)/r)}return XE("\t",$y.prevRenderTabStop(o,n)/n)};t.shiftIndent=function(t,i,n,r,e){var o=$y.visibleColumnFromColumn(t,i,n);if(e){var s=XE(" ",r);return XE(s,$y.nextIndentTabStop(o,r)/r)}return XE("\t",$y.nextRenderTabStop(o,n)/n)};t.prototype._addEditOperation=function(t,i,n){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(i,n):t.addEditOperation(i,n)};t.prototype.getEditOperations=function(i,n){var r=this._selection.startLineNumber;var e=this._selection.endLineNumber;this._selection.endColumn===1&&r!==e&&(e-=1);var o=this._opts,s=o.tabSize,u=o.indentSize,a=o.insertSpaces,c=r===e;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);var h=0,f=0;for(var l=r;l<=e;l++,h=f){f=0;var d=i.getLineContent(l);var v=void 0,A=Fo(d);if((!this._opts.isUnshift||d.length!==0&&A!==0)&&(c||this._opts.isUnshift||d.length!==0)){if(A===-1&&(A=d.length),l>1&&$y.visibleColumnFromColumn(d,A+1,s)%u!=0&&i.tokenization.isCheapToTokenize(l-1)){var g=PE(this._opts.autoIndent,i,new Zr(l-1,i.getLineMaxColumn(l-1),l-1,i.getLineMaxColumn(l-1)),this._languageConfigurationService);if(g){if(f=h,g.appendText)for(var w=0,p=g.appendText.length;w<p&&f<u&&g.appendText.charCodeAt(w)===32;w++)f++;g.removeText&&(f=Math.max(0,f-g.removeText));for(var w=0;w<f&&A!==0&&d.charCodeAt(A-1)===32;w++)A--}}this._opts.isUnshift&&A===0||(v=this._opts.isUnshift?t.unshiftIndent(d,A+1,s,u,a):t.shiftIndent(d,A+1,s,u,a),this._addEditOperation(n,new Zr(l,1,l,A+1),v),l!==r||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=A+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(r)===0&&(this._useLastEditRangeForCursorEndPosition=!0);var h=a?XE(" ",u):"\t";for(var f=r;f<=e;f++){var m=i.getLineContent(f);var d=Fo(m);if((!this._opts.isUnshift||m.length!==0&&d!==0)&&(c||this._opts.isUnshift||m.length!==0)&&(d===-1&&(d=m.length),!this._opts.isUnshift||d!==0))if(this._opts.isUnshift){d=Math.min(d,u);for(var v=0;v<d;v++)if(m.charCodeAt(v)===9){d=v+1;break}this._addEditOperation(n,new Zr(f,1,f,d+1),"")}else this._addEditOperation(n,new Zr(f,1,f,1),h),f!==r||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=n.trackSelection(this._selection)};t.prototype.computeCursorState=function(t,i){if(this._useLastEditRangeForCursorEndPosition){var n=i.getInverseEditOperations()[0];return new $r(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}var r=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var n=this._selection.startColumn;return r.startColumn<=n?r:r.getDirection()===0?new $r(r.startLineNumber,n,r.endLineNumber,r.endColumn):new $r(r.endLineNumber,r.endColumn,r.startLineNumber,n)}return r};return t}();qE=WE=GE([VE(2,jd)],qE);var ZE=function(){function t(t,i,n){this._range=t,this._charBeforeSelection=i,this._charAfterSelection=n}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(new Zr(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),i.addTrackedEditOperation(new Zr(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations(),r=n[0].range,e=n[1].range;return new $r(r.endLineNumber,r.endColumn,e.endLineNumber,e.endColumn-this._charAfterSelection.length)};return t}();var $E=function(){function t(t,i,n){this._position=t,this._text=i,this._charAfter=n}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(new Zr(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations()[0].range;return new $r(n.endLineNumber,n.startColumn,n.endLineNumber,n.endColumn-this._charAfter.length)};return t}();function tB(t,i,n,r,e){if(r===void 0){r=!0}if(t<4)return null;var o=e.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(n<=1)return{indentation:"",action:null};for(var s=n-1;s>0&&i.getLineContent(s)==="";s--)if(s===1)return{indentation:"",action:null};var u=function(t,i,n){var r=t.tokenization.getLanguageIdAtPosition(i,0);if(i>1){var e=void 0,o=-1;for(e=i-1;e>=1;e--){if(t.tokenization.getLanguageIdAtPosition(e,0)!==r)return o;var s=t.getLineContent(e);if(!n.shouldIgnore(s)&&!/^\s+$/.test(s)&&s!=="")return e;o=e}}return-1}(i,n,o);if(u<0)return null;if(u<1)return{indentation:"",action:null};var a=i.getLineContent(u);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:So(a),action:xl.Indent,line:u};if(o.shouldDecrease(a))return{indentation:So(a),action:null,line:u};{if(u===1)return{indentation:So(i.getLineContent(u)),action:null,line:u};var s=u-1,c=o.getIndentMetadata(i.getLineContent(s));if(!(3&c)&&4&c){var h=0;for(var f=s-1;f>0;f--)if(!o.shouldIndentNextLine(i.getLineContent(f))){h=f;break}return{indentation:So(i.getLineContent(h+1)),action:null,line:h+1}}if(r)return{indentation:So(i.getLineContent(u)),action:null,line:u};for(var l=u;l>0;l--){var f=i.getLineContent(l);if(o.shouldIncrease(f))return{indentation:So(f),action:xl.Indent,line:l};if(o.shouldIndentNextLine(f)){var d=0;for(var v=l-1;v>0;v--)if(!o.shouldIndentNextLine(i.getLineContent(l))){d=v;break}return{indentation:So(i.getLineContent(d+1)),action:null,line:d+1}}if(o.shouldDecrease(f))return{indentation:So(f),action:null,line:l}}return{indentation:So(i.getLineContent(1)),action:null,line:1}}}function iB(t,i,n,r,e,o){if(t<4)return null;var s=o.getLanguageConfiguration(n);if(!s)return null;var u=o.getLanguageConfiguration(n).indentRulesSupport;if(!u)return null;var a=tB(t,i,r,void 0,o),c=i.getLineContent(r);if(a){var h=a.line;if(h!==void 0){var f=!0;for(var l=h;l<r-1;l++)if(!/^\s*$/.test(i.getLineContent(l))){f=!1;break}if(f){var l=s.onEnter(t,"",i.getLineContent(h),"");if(l){var d=So(i.getLineContent(h));return l.removeText&&(d=d.substring(0,d.length-l.removeText)),l.indentAction===xl.Indent||l.indentAction===xl.IndentOutdent?d=e.shiftIndent(d):l.indentAction===xl.Outdent&&(d=e.unshiftIndent(d)),u.shouldDecrease(c)&&(d=e.unshiftIndent(d)),l.appendText&&(d+=l.appendText),So(d)}}}return u.shouldDecrease(c)?a.action===xl.Indent?a.indentation:e.unshiftIndent(a.indentation):a.action===xl.Indent?e.shiftIndent(a.indentation):a.indentation}return null}function nB(t,i,n){var r=n.getLanguageConfiguration(t.getLanguageId()).indentRulesSupport;return r?i<1||i>t.getLineCount()?null:r.getIndentMetadata(t.getLineContent(i)):null}var rB=function(){function t(){}t.indent=function(t,i,n){if(i===null||n===null)return[];var r=[];for(var e=0,o=n.length;e<o;e++)r[e]=new qE(n[e],{isUnshift:!1,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent},t.languageConfigurationService);return r};t.outdent=function(t,i,n){var r=[];for(var e=0,o=n.length;e<o;e++)r[e]=new qE(n[e],{isUnshift:!0,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent},t.languageConfigurationService);return r};t.shiftIndent=function(t,i,n){return n=n||1,qE.shiftIndent(i,i.length+n,t.tabSize,t.indentSize,t.insertSpaces)};t.unshiftIndent=function(t,i,n){return n=n||1,qE.unshiftIndent(i,i.length+n,t.tabSize,t.indentSize,t.insertSpaces)};t._distributedPaste=function(t,i,n,r){var e=[];for(var o=0,s=n.length;o<s;o++)e[o]=new IE(n[o],r[o]);return new _E(0,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})};t._simplePaste=function(t,i,n,r,e){var o=[];for(var s=0,u=n.length;s<u;s++){var a=n[s],c=a.getPosition();if(e&&!a.isEmpty()&&(e=!1),e&&r.indexOf("\n")!==r.length-1&&(e=!1),e){var h=new Zr(c.lineNumber,1,c.lineNumber,1);o[s]=new RE(h,r,a,!0)}else o[s]=new IE(a,r)}return new _E(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})};t._distributePasteToCursors=function(t,i,n,r,e){if(r||i.length===1)return null;if(e&&e.length===i.length)return e;if(t.multiCursorPaste==="spread"){n.charCodeAt(n.length-1)===10&&(n=n.substr(0,n.length-1)),n.charCodeAt(n.length-1)===13&&(n=n.substr(0,n.length-1));var o=_o(n);if(o.length===i.length)return o}return null};t.paste=function(t,i,n,r,e,o){var s=this._distributePasteToCursors(t,n,r,e,o);return s?(n=n.sort(Zr.compareRangesUsingStarts),this._distributedPaste(t,i,n,s)):this._simplePaste(t,i,n,r,e)};t._goodIndentForLine=function(i,n,r){var e=null,o="";var s=tB(i.autoIndent,n,r,!1,i.languageConfigurationService);if(s)e=s.action,o=s.indentation;else if(r>1){var u=void 0;for(u=r-1;u>=1&&!(Io(n.getLineContent(u))>=0);u--);if(u<1)return null;var a=n.getLineMaxColumn(u),c=PE(i.autoIndent,n,new Zr(u,a,u,a),i.languageConfigurationService);c&&(o=c.indentation+c.appendText)}return e&&(e===xl.Indent&&(o=t.shiftIndent(i,o)),e===xl.Outdent&&(o=t.unshiftIndent(i,o)),o=i.normalizeIndentation(o)),o||null};t._replaceJumpToNextIndent=function(t,i,n,r){var e="";var o=n.getStartPosition();if(t.insertSpaces){var s=t.visibleColumnFromColumn(i,o),u=t.indentSize,a=u-s%u;for(var c=0;c<a;c++)e+=" "}else e="\t";return new IE(n,e,r)};t.tab=function(t,i,n){var r=[];for(var e=0,o=n.length;e<o;e++){var s=n[e];if(s.isEmpty()){var u=i.getLineContent(s.startLineNumber);if(/^\s*$/.test(u)&&i.tokenization.isCheapToTokenize(s.startLineNumber)){var a=this._goodIndentForLine(t,i,s.startLineNumber);a=a||"\t";var c=t.normalizeIndentation(a);if(!u.startsWith(c)){r[e]=new IE(new Zr(s.startLineNumber,1,s.startLineNumber,u.length+1),c,!0);continue}}r[e]=this._replaceJumpToNextIndent(t,i,s,!0)}else{if(s.startLineNumber===s.endLineNumber){var u=i.getLineMaxColumn(s.startLineNumber);if(s.startColumn!==1||s.endColumn!==u){r[e]=this._replaceJumpToNextIndent(t,i,s,!1);continue}}r[e]=new qE(s,{isUnshift:!1,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent},t.languageConfigurationService)}}return r};t.compositionType=function(t,i,n,r,e,o,s,u){var a=this;var c=r.map((function(t){return a._compositionType(n,t,e,o,s,u)}));return new _E(4,c,{shouldPushStackElementBefore:uB(t,4),shouldPushStackElementAfter:!1})};t._compositionType=function(t,i,n,r,e,o){if(!i.isEmpty())return null;var s=i.getPosition(),u=Math.max(1,s.column-r),a=Math.min(t.getLineMaxColumn(s.lineNumber),s.column+e),c=new Zr(s.lineNumber,u,s.lineNumber,a);return t.getValueInRange(c)===n&&o===0?null:new NE(c,n,0,o)};t._typeCommand=function(t,i,n){return n?new OE(t,i,!0):new IE(t,i,!0)};t._enter=function(i,n,r,e){if(i.autoIndent===0)return t._typeCommand(e,"\n",r);if(!n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)||i.autoIndent===1){var o=So(n.getLineContent(e.startLineNumber)).substring(0,e.startColumn-1);return t._typeCommand(e,"\n"+i.normalizeIndentation(o),r)}var s=PE(i.autoIndent,n,e,i.languageConfigurationService);if(s){if(s.indentAction===xl.None||s.indentAction===xl.Indent)return t._typeCommand(e,"\n"+i.normalizeIndentation(s.indentation+s.appendText),r);if(s.indentAction===xl.IndentOutdent){var o=i.normalizeIndentation(s.indentation),u=i.normalizeIndentation(s.indentation+s.appendText),a="\n"+u+"\n"+o;return r?new OE(e,a,!0):new NE(e,a,-1,u.length-o.length,!0)}if(s.indentAction===xl.Outdent){var o=t.unshiftIndent(i,s.indentation);return t._typeCommand(e,"\n"+i.normalizeIndentation(o+s.appendText),r)}}var c=So(n.getLineContent(e.startLineNumber)).substring(0,e.startColumn-1);if(i.autoIndent>=4){var o=function(t,i,n,r,e){if(t<4)return null;i.tokenization.forceTokenization(n.startLineNumber);var o=i.tokenization.getLineTokens(n.startLineNumber),s=Dl(o,n.startColumn-1),u=s.getLineContent();var a,c,h=!1;s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(h=!0,a=u.substr(0,n.startColumn-1-s.firstCharOffset)):a=o.getLineContent().substring(0,n.startColumn-1),c=n.isEmpty()?u.substr(n.startColumn-1-s.firstCharOffset):Jd(i,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset);var f=e.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!f)return null;var l=a,d=So(a),v={tokenization:{getLineTokens:function(t){return i.tokenization.getLineTokens(t)},getLanguageId:function(){return i.getLanguageId()},getLanguageIdAtPosition:function(t,n){return i.getLanguageIdAtPosition(t,n)}},getLineContent:function(t){return t===n.startLineNumber?l:i.getLineContent(t)}},A=So(o.getLineContent()),g=tB(t,v,n.startLineNumber+1,void 0,e);if(!g){var w=h?A:d;return{beforeEnter:w,afterEnter:w}}var p=h?A:g.indentation;return g.action===xl.Indent&&(p=r.shiftIndent(p)),f.shouldDecrease(c)&&(p=r.unshiftIndent(p)),{beforeEnter:h?A:d,afterEnter:p}}(i.autoIndent,n,e,{unshiftIndent:function(n){return t.unshiftIndent(i,n)},shiftIndent:function(n){return t.shiftIndent(i,n)},normalizeIndentation:function(t){return i.normalizeIndentation(t)}},i.languageConfigurationService);if(o){var u=i.visibleColumnFromColumn(n,e.getEndPosition());var a=e.endColumn,h=Fo(n.getLineContent(e.endLineNumber));if(e=h>=0?e.setEndPosition(e.endLineNumber,Math.max(e.endColumn,h+1)):e.setEndPosition(e.endLineNumber,n.getLineMaxColumn(e.endLineNumber)),r)return new OE(e,"\n"+i.normalizeIndentation(o.afterEnter),!0);{var f=0;return a<=h+1&&(i.insertSpaces||(u=Math.ceil(u/i.indentSize)),f=Math.min(u+1-i.normalizeIndentation(o.afterEnter).length-1,0)),new NE(e,"\n"+i.normalizeIndentation(o.afterEnter),0,f,!0)}}}return t._typeCommand(e,"\n"+i.normalizeIndentation(c),r)};t._isAutoIndentType=function(t,i,n){if(t.autoIndent<4)return!1;for(var r=0,e=n.length;r<e;r++)if(!i.tokenization.isCheapToTokenize(n[r].getEndPosition().lineNumber))return!1;return!0};t._runAutoIndentType=function(i,n,r,e){var o=Yd(n,r.startLineNumber,r.startColumn),s=function(t,i,n,r,e,o){if(t<4)return null;var s=Jd(i,n.startLineNumber,n.startColumn);if(s.firstCharOffset)return null;var u=o.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!u)return null;var a=s.getLineContent(),c=a.substr(0,n.startColumn-1-s.firstCharOffset);var h;if(h=n.isEmpty()?a.substr(n.startColumn-1-s.firstCharOffset):Jd(i,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset),!u.shouldDecrease(c+h)&&u.shouldDecrease(c+r+h)){var f=tB(t,i,n.startLineNumber,!1,o);if(!f)return null;var l=f.indentation;return f.action!==xl.Indent&&(l=e.unshiftIndent(l)),l}return null}(i.autoIndent,n,r,e,{shiftIndent:function(n){return t.shiftIndent(i,n)},unshiftIndent:function(n){return t.unshiftIndent(i,n)}},i.languageConfigurationService);if(s===null)return null;if(s!==i.normalizeIndentation(o)){var u=n.getLineFirstNonWhitespaceColumn(r.startLineNumber);return u===0?t._typeCommand(new Zr(r.startLineNumber,1,r.endLineNumber,r.endColumn),i.normalizeIndentation(s)+e,!1):t._typeCommand(new Zr(r.startLineNumber,1,r.endLineNumber,r.endColumn),i.normalizeIndentation(s)+n.getLineContent(r.startLineNumber).substring(u-1,r.startColumn-1)+e,!1)}return null};t._isAutoClosingOvertype=function(t,i,n,r,e){if(t.autoClosingOvertype==="never"||!t.autoClosingPairs.autoClosingPairsCloseSingleChar.has(e))return!1;for(var o=0,s=n.length;o<s;o++){var u=n[o];if(!u.isEmpty())return!1;var a=u.getPosition(),c=i.getLineContent(a.lineNumber);if(c.charAt(a.column-1)!==e)return!1;var h=FE(e);if((a.column>2?c.charCodeAt(a.column-2):0)===92&&h)return!1;if(t.autoClosingOvertype==="auto"){var f=!1;for(var l=0,d=r.length;l<d;l++){var v=r[l];if(a.lineNumber===v.startLineNumber&&a.column===v.startColumn){f=!0;break}}if(!f)return!1}}return!0};t._runAutoClosingOvertype=function(t,i,n,r,e){var o=[];for(var s=0,u=r.length;s<u;s++){var a=r[s].getPosition(),c=new Zr(a.lineNumber,a.column,a.lineNumber,a.column+1);o[s]=new IE(c,e)}return new _E(4,o,{shouldPushStackElementBefore:uB(t,4),shouldPushStackElementAfter:!1})};t._isBeforeClosingBrace=function(t,i){var n=i.charAt(0),r=t.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],e=t.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],o=r.some((function(t){return i.startsWith(t.open)})),s=e.some((function(t){return i.startsWith(t.close)}));return!o&&s};t._findAutoClosingPairOpen=function(t,i,n,r){var e=t.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!e)return null;var o=null;for(var s=0,u=e;s<u.length;s++){var a=u[s];if(o===null||a.open.length>o.open.length){var c=!0;for(var h=0,f=n;h<f.length;h++){var l=f[h];if(i.getValueInRange(new Zr(l.lineNumber,l.column-a.open.length+1,l.lineNumber,l.column))+r!==a.open){c=!1;break}}c&&(o=a)}}return o};t._findContainedAutoClosingPair=function(t,i){if(i.open.length<=1)return null;var n=i.close.charAt(i.close.length-1),r=t.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];var e=null;for(var o=0,s=r;o<s.length;o++){var u=s[o];u.open!==i.open&&i.open.includes(u.open)&&i.close.endsWith(u.close)&&(!e||u.open.length>e.open.length)&&(e=u)}return e};t._getAutoClosingPairClose=function(i,n,r,e,o){for(var s=0,u=r;s<u.length;s++){var a=u[s];if(!a.isEmpty())return null}var c=r.map((function(t){var i=t.getPosition();return o?{lineNumber:i.lineNumber,beforeColumn:i.column-e.length,afterColumn:i.column}:{lineNumber:i.lineNumber,beforeColumn:i.column,afterColumn:i.column}})),h=this._findAutoClosingPairOpen(i,n,c.map((function(t){return new qr(t.lineNumber,t.beforeColumn)})),e);if(!h)return null;var f,l;if(FE(e)?(f=i.autoClosingQuotes,l=i.shouldAutoCloseBefore.quote):i.blockCommentStartToken&&h.open.includes(i.blockCommentStartToken)?(f=i.autoClosingComments,l=i.shouldAutoCloseBefore.comment):(f=i.autoClosingBrackets,l=i.shouldAutoCloseBefore.bracket),f==="never")return null;var d=this._findContainedAutoClosingPair(i,h),v=d?d.close:"";var A=!0;for(var g=0,w=c;g<w.length;g++){var a=w[g];var p=a.lineNumber,m=a.beforeColumn,b=a.afterColumn,y=n.getLineContent(p),k=y.substring(0,m-1),x=y.substring(b-1);if(x.startsWith(v)||(A=!1),x.length>0){var E=x.charAt(0);if(!t._isBeforeClosingBrace(i,x)&&!l(E))return null}if(h.open.length===1&&(e==="'"||e==='"')&&f!=="always"){var E=Mv(i.wordSeparators,[]);if(k.length>0){var B=k.charCodeAt(k.length-1);if(E.get(B)===0)return null}}if(!n.tokenization.isCheapToTokenize(p))return null;n.tokenization.forceTokenization(p);var C=Dl(n.tokenization.getLineTokens(p),m-1);if(!h.shouldAutoClose(C,m-C.firstCharOffset))return null;var D=h.findNeutralCharacter();if(D){var E=n.tokenization.getTokenTypeIfInsertingCharacter(p,m,D);if(!h.isOK(E))return null}}return A?h.close.substring(0,h.close.length-v.length):h.close};t._runAutoClosingOpenCharType=function(t,i,n,r,e,o,s){var u=[];for(var a=0,c=r.length;a<c;a++){var h=r[a];u[a]=new eB(h,e,!o,s)}return new _E(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})};t._shouldSurroundChar=function(t,i){return FE(i)?t.autoSurround==="quotes"||t.autoSurround==="languageDefined":t.autoSurround==="brackets"||t.autoSurround==="languageDefined"};t._isSurroundSelectionType=function(i,n,r,e){if(!t._shouldSurroundChar(i,e)||!i.surroundingPairs.hasOwnProperty(e))return!1;var o=FE(e);for(var s=0,u=r;s<u.length;s++){var a=u[s];if(a.isEmpty())return!1;var c=!0;for(var h=a.startLineNumber;h<=a.endLineNumber;h++){var f=n.getLineContent(h),l=h===a.startLineNumber?a.startColumn-1:0,d=h===a.endLineNumber?a.endColumn-1:f.length,v=f.substring(l,d);if(/[^ \t]/.test(v)){c=!1;break}}if(c||o&&a.startLineNumber===a.endLineNumber&&a.startColumn+1===a.endColumn&&FE(n.getValueInRange(a)))return!1}return!0};t._runSurroundSelectionType=function(t,i,n,r,e){var o=[];for(var s=0,u=r.length;s<u;s++){var a=r[s],c=i.surroundingPairs[e];o[s]=new ZE(a,e,c)}return new _E(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})};t._isTypeInterceptorElectricChar=function(t,i,n){return!(n.length!==1||!i.tokenization.isCheapToTokenize(n[0].getEndPosition().lineNumber))};t._typeInterceptorElectricChar=function(t,i,n,r,e){if(!i.electricChars.hasOwnProperty(e)||!r.isEmpty())return null;var o=r.getPosition();n.tokenization.forceTokenization(o.lineNumber);var s=n.tokenization.getLineTokens(o.lineNumber);var u;try{u=i.onElectricCharacter(e,s,o.column)}catch(a){return cn(a),null}if(!u)return null;if(u.matchOpenBracket){var a=(s.getLineContent()+e).lastIndexOf(u.matchOpenBracket)+1,c=n.bracketPairs.findMatchingBracketUp(u.matchOpenBracket,{lineNumber:o.lineNumber,column:a},500);if(c){if(c.startLineNumber===o.lineNumber)return null;var h=So(n.getLineContent(c.startLineNumber)),f=i.normalizeIndentation(h),l=n.getLineContent(o.lineNumber),d=n.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,v=f+l.substring(d-1,o.column-1)+e,A=new Zr(o.lineNumber,1,o.lineNumber,o.column),g=new IE(A,v);return new _E(sB(v,t),[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null};t.compositionEndWithInterceptors=function(i,n,r,e,o,s){if(!e)return null;var u=null;for(var a=0,c=e;a<c.length;a++){var h=c[a];if(u===null)u=h.insertedText;else if(u!==h.insertedText)return null}if(!u||u.length!==1)return null;var f=u;var l=!1;for(var d=0,v=e;d<v.length;d++){var h=v[d];if(h.deletedText.length!==0){l=!0;break}}if(l){if(!t._shouldSurroundChar(n,f)||!n.surroundingPairs.hasOwnProperty(f))return null;var h=FE(f);for(var A=0,g=e;A<g.length;A++){var w=g[A];if(w.deletedSelectionStart!==0||w.deletedSelectionEnd!==w.deletedText.length||/^[ \t]+$/.test(w.deletedText)||h&&FE(w.deletedText))return null}var p=[];for(var m=0,b=o;m<b.length;m++){var w=b[m];if(!w.isEmpty())return null;p.push(w.getPosition())}if(p.length!==e.length)return null;var y=[];for(var w=0,k=p.length;w<k;w++)y.push(new $E(p[w],e[w].deletedText,n.surroundingPairs[f]));return new _E(4,y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,r,o,s,f)){var h=o.map((function(t){return new IE(new Zr(t.positionLineNumber,t.positionColumn,t.positionLineNumber,t.positionColumn+1),"",!1)}));return new _E(4,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var x=this._getAutoClosingPairClose(n,r,o,f,!0);return x!==null?this._runAutoClosingOpenCharType(i,n,r,o,f,!0,x):null};t.typeWithInterceptors=function(i,n,r,e,o,s,u){if(!i&&u==="\n"){var a=[];for(var c=0,h=o.length;c<h;c++)a[c]=t._enter(r,e,!1,o[c]);return new _E(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!i&&this._isAutoIndentType(r,e,o)){var f=[];var c=!1;for(var h=0,l=o.length;h<l;h++)if(f[h]=this._runAutoIndentType(r,e,o[h],u),!f[h]){c=!0;break}if(!c)return new _E(4,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(r,e,o,s,u))return this._runAutoClosingOvertype(n,r,e,o,u);if(!i){var d=this._getAutoClosingPairClose(r,e,o,u,!1);if(d)return this._runAutoClosingOpenCharType(n,r,e,o,u,!1,d)}if(!i&&this._isSurroundSelectionType(r,e,o,u))return this._runSurroundSelectionType(n,r,e,o,u);if(!i&&this._isTypeInterceptorElectricChar(r,e,o)){var v=this._typeInterceptorElectricChar(n,r,e,o[0],u);if(v)return v}var A=[];for(var g=0,c=o.length;g<c;g++)A[g]=new IE(o[g],u);var w=sB(u,n);return new _E(w,A,{shouldPushStackElementBefore:uB(n,w),shouldPushStackElementAfter:!1})};t.typeWithoutInterceptors=function(t,i,n,r,e){var o=[];for(var s=0,u=r.length;s<u;s++)o[s]=new IE(r[s],e);var a=sB(e,t);return new _E(a,o,{shouldPushStackElementBefore:uB(t,a),shouldPushStackElementAfter:!1})};t.lineInsertBefore=function(t,i,n){if(i===null||n===null)return[];var r=[];for(var e=0,o=n.length;e<o;e++){var s=n[e].positionLineNumber;if(s===1)r[e]=new OE(new Zr(1,1,1,1),"\n");else{s--;var u=i.getLineMaxColumn(s);r[e]=this._enter(t,i,!1,new Zr(s,u,s,u))}}return r};t.lineInsertAfter=function(t,i,n){if(i===null||n===null)return[];var r=[];for(var e=0,o=n.length;e<o;e++){var s=n[e].positionLineNumber,u=i.getLineMaxColumn(s);r[e]=this._enter(t,i,!1,new Zr(s,u,s,u))}return r};t.lineBreakInsert=function(t,i,n){var r=[];for(var e=0,o=n.length;e<o;e++)r[e]=this._enter(t,i,!0,n[e]);return r};return t}();var eB=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,(r?n:"")+e,0,-e.length)||this,o._openCharacter=n,o._closeCharacter=e,o.closeCharacterRange=null,o.enclosingRange=null;return o}i.prototype.computeCursorState=function(i,n){var r=n.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Zr(r.startLineNumber,r.endColumn-this._closeCharacter.length,r.endLineNumber,r.endColumn),this.enclosingRange=new Zr(r.startLineNumber,r.endColumn-this._openCharacter.length-this._closeCharacter.length,r.endLineNumber,r.endColumn),t.prototype.computeCursorState.call(this,i,n)};return i}(NE);var oB=function(){function t(t,i,n,r,e,o){this.deletedText=t,this.deletedSelectionStart=i,this.deletedSelectionEnd=n,this.insertedText=r,this.insertedSelectionStart=e,this.insertedSelectionEnd=o}return t}();function sB(t,i){return t===" "?i===5||i===6?6:5:4}function uB(t,i){return!(!cB(t)||cB(i))||t!==5&&aB(t)!==aB(i)}function aB(t){return t===6||t===5?"space":t}function cB(t){return t===4||t===5||t===6}var hB;(function(t){t.editorSimpleInput=new cf("editorSimpleInput",!1,!0),t.editorTextFocus=new cf("editorTextFocus",!1,Bt(0,"Whether the editor text has focus (cursor is blinking)")),t.focus=new cf("editorFocus",!1,Bt(0,"Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),t.textInputFocus=new cf("textInputFocus",!1,Bt(0,"Whether an editor or a rich text input has focus (cursor is blinking)")),t.readOnly=new cf("editorReadonly",!1,Bt(0,"Whether the editor is read-only")),t.inDiffEditor=new cf("inDiffEditor",!1,Bt(0,"Whether the context is a diff editor")),t.isEmbeddedDiffEditor=new cf("isEmbeddedDiffEditor",!1,Bt(0,"Whether the context is an embedded diff editor")),t.inMultiDiffEditor=new cf("inMultiDiffEditor",!1,Bt(0,"Whether the context is a multi diff editor")),t.multiDiffEditorAllCollapsed=new cf("multiDiffEditorAllCollapsed",void 0,Bt(0,"Whether all files in multi diff editor are collapsed")),t.hasChanges=new cf("diffEditorHasChanges",!1,Bt(0,"Whether the diff editor has changes")),t.comparingMovedCode=new cf("comparingMovedCode",!1,Bt(0,"Whether a moved code block is selected for comparison")),t.accessibleDiffViewerVisible=new cf("accessibleDiffViewerVisible",!1,Bt(0,"Whether the accessible diff viewer is visible")),t.diffEditorRenderSideBySideInlineBreakpointReached=new cf("diffEditorRenderSideBySideInlineBreakpointReached",!1,Bt(0,"Whether the diff editor render side by side inline breakpoint is reached")),t.diffEditorInlineMode=new cf("diffEditorInlineMode",!1,Bt(0,"Whether inline mode is active")),t.diffEditorOriginalWritable=new cf("diffEditorOriginalWritable",!1,Bt(0,"Whether modified is writable in the diff editor")),t.diffEditorModifiedWritable=new cf("diffEditorModifiedWritable",!1,Bt(0,"Whether modified is writable in the diff editor")),t.diffEditorOriginalUri=new cf("diffEditorOriginalUri","",Bt(0,"The uri of the original document")),t.diffEditorModifiedUri=new cf("diffEditorModifiedUri","",Bt(0,"The uri of the modified document")),t.columnSelection=new cf("editorColumnSelection",!1,Bt(0,"Whether `editor.columnSelection` is enabled")),t.writable=t.readOnly.toNegated(),t.hasNonEmptySelection=new cf("editorHasSelection",!1,Bt(0,"Whether the editor has text selected")),t.hasOnlyEmptySelection=t.hasNonEmptySelection.toNegated(),t.hasMultipleSelections=new cf("editorHasMultipleSelections",!1,Bt(0,"Whether the editor has multiple selections")),t.hasSingleSelection=t.hasMultipleSelections.toNegated(),t.tabMovesFocus=new cf("editorTabMovesFocus",!1,Bt(0,"Whether `Tab` will move focus out of the editor")),t.tabDoesNotMoveFocus=t.tabMovesFocus.toNegated(),t.isInEmbeddedEditor=new cf("isInEmbeddedEditor",!1,!0),t.canUndo=new cf("canUndo",!1,!0),t.canRedo=new cf("canRedo",!1,!0),t.hoverVisible=new cf("editorHoverVisible",!1,Bt(0,"Whether the editor hover is visible")),t.hoverFocused=new cf("editorHoverFocused",!1,Bt(0,"Whether the editor hover is focused")),t.stickyScrollFocused=new cf("stickyScrollFocused",!1,Bt(0,"Whether the sticky scroll is focused")),t.stickyScrollVisible=new cf("stickyScrollVisible",!1,Bt(0,"Whether the sticky scroll is visible")),t.standaloneColorPickerVisible=new cf("standaloneColorPickerVisible",!1,Bt(0,"Whether the standalone color picker is visible")),t.standaloneColorPickerFocused=new cf("standaloneColorPickerFocused",!1,Bt(0,"Whether the standalone color picker is focused")),t.inCompositeEditor=new cf("inCompositeEditor",void 0,Bt(0,"Whether the editor is part of a larger editor (e.g. notebooks)")),t.notInCompositeEditor=t.inCompositeEditor.toNegated(),t.languageId=new cf("editorLangId","",Bt(0,"The language identifier of the editor")),t.hasCompletionItemProvider=new cf("editorHasCompletionItemProvider",!1,Bt(0,"Whether the editor has a completion item provider")),t.hasCodeActionsProvider=new cf("editorHasCodeActionsProvider",!1,Bt(0,"Whether the editor has a code actions provider")),t.hasCodeLensProvider=new cf("editorHasCodeLensProvider",!1,Bt(0,"Whether the editor has a code lens provider")),t.hasDefinitionProvider=new cf("editorHasDefinitionProvider",!1,Bt(0,"Whether the editor has a definition provider")),t.hasDeclarationProvider=new cf("editorHasDeclarationProvider",!1,Bt(0,"Whether the editor has a declaration provider")),t.hasImplementationProvider=new cf("editorHasImplementationProvider",!1,Bt(0,"Whether the editor has an implementation provider")),t.hasTypeDefinitionProvider=new cf("editorHasTypeDefinitionProvider",!1,Bt(0,"Whether the editor has a type definition provider")),t.hasHoverProvider=new cf("editorHasHoverProvider",!1,Bt(0,"Whether the editor has a hover provider")),t.hasDocumentHighlightProvider=new cf("editorHasDocumentHighlightProvider",!1,Bt(0,"Whether the editor has a document highlight provider")),t.hasDocumentSymbolProvider=new cf("editorHasDocumentSymbolProvider",!1,Bt(0,"Whether the editor has a document symbol provider")),t.hasReferenceProvider=new cf("editorHasReferenceProvider",!1,Bt(0,"Whether the editor has a reference provider")),t.hasRenameProvider=new cf("editorHasRenameProvider",!1,Bt(0,"Whether the editor has a rename provider")),t.hasSignatureHelpProvider=new cf("editorHasSignatureHelpProvider",!1,Bt(0,"Whether the editor has a signature help provider")),t.hasInlayHintsProvider=new cf("editorHasInlayHintsProvider",!1,Bt(0,"Whether the editor has an inline hints provider")),t.hasDocumentFormattingProvider=new cf("editorHasDocumentFormattingProvider",!1,Bt(0,"Whether the editor has a document formatting provider")),t.hasDocumentSelectionFormattingProvider=new cf("editorHasDocumentSelectionFormattingProvider",!1,Bt(0,"Whether the editor has a document selection formatting provider")),t.hasMultipleDocumentFormattingProvider=new cf("editorHasMultipleDocumentFormattingProvider",!1,Bt(0,"Whether the editor has multiple document formatting providers")),t.hasMultipleDocumentSelectionFormattingProvider=new cf("editorHasMultipleDocumentSelectionFormattingProvider",!1,Bt(0,"Whether the editor has multiple document selection formatting providers"))})(hB||(hB={}));var fB=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.runEditorCommand=function(t,i,n){var r=i._getViewModel();r&&this.runCoreEditorCommand(r,n||{})};return i}(Gf);var lB,dB,vB;(function(t){t.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(t){if(!et(t))return!1;var i=t;return!!rt(i.to)&&!(!ct(i.by)&&!rt(i.by))&&!(!ct(i.value)&&!st(i.value))&&!(!ct(i.revealCursor)&&!at(i.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},t.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},t.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},t.parse=function(i){var n,r;switch(i.to){case t.RawDirection.Up:n=1;break;case t.RawDirection.Right:n=2;break;case t.RawDirection.Down:n=3;break;case t.RawDirection.Left:n=4;break;default:return null}switch(i.by){case t.RawUnit.Line:r=1;break;case t.RawUnit.WrappedLine:r=2;break;case t.RawUnit.Page:r=3;break;case t.RawUnit.HalfPage:r=4;break;case t.RawUnit.Editor:r=5;break;case t.RawUnit.Column:r=6;break;default:r=2}return{direction:n,unit:r,value:Math.floor(i.value||1),revealCursor:!!i.revealCursor,select:!!i.select}}})(lB||(lB={})),function(t){t.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(t){if(!et(t))return!1;var i=t;return!(!st(i.lineNumber)&&!rt(i.lineNumber))&&!(!ct(i.at)&&!rt(i.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},t.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(dB||(dB={}));var AB=function(){function t(t){var i=this;t.addImplementation(1e4,"code-editor",(function(t,n){var r=t.get(dh).getFocusedCodeEditor();return!(!r||!r.hasTextFocus())&&i._runEditorCommand(t,r,n)})),t.addImplementation(1e3,"generic-dom-input-textarea",(function(t,n){var r=sc();return!!(r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0)&&(i.runDOMCommand(r),!0)})),t.addImplementation(0,"generic-dom",(function(t,n){var r=t.get(dh).getActiveCodeEditor();return!!r&&(r.focus(),i._runEditorCommand(t,r,n))}))}t.prototype._runEditorCommand=function(t,i,n){return this.runEditorCommand(t,i,n)||!0};return t}();(function(t){var i=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){i.position&&(t.model.pushStackElement(),t.setCursorStates(i.source,3,[YE.moveTo(t,t.getPrimaryCursorState(),this._inSelectionMode,i.position,i.viewPosition)])&&i.revealType!==2&&t.revealAllCursors(i.source,!0,!0))};return i}(fB);t.MoveTo=Zf(new i({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),t.MoveToSelect=Zf(new i({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var n=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement();var n=this._getColumnSelectResult(t,t.getPrimaryCursorState(),t.getCursorColumnSelectData(),i);n!==null&&(t.setCursorStates(i.source,3,n.viewStates.map((function(t){return BE.fromViewState(t)}))),t.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),n.reversed?t.revealTopMostCursor(i.source):t.revealBottomMostCursor(i.source))};return i}(fB);t.ColumnSelect=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"columnSelect",precondition:void 0})||this}i.prototype._getColumnSelectResult=function(t,i,n,r){if(r.position===void 0||r.viewPosition===void 0||r.mouseColumn===void 0)return null;var e=t.model.validatePosition(r.position),o=t.coordinatesConverter.validateViewPosition(new qr(r.viewPosition.lineNumber,r.viewPosition.column),e),s=r.doColumnSelect?n.fromViewLineNumber:o.lineNumber,u=r.doColumnSelect?n.fromViewVisualColumn:r.mouseColumn-1;return SE.columnSelect(t.cursorConfig,t,s,u,o.lineNumber,r.mouseColumn-1)};return i}(n))),t.CursorColumnSelectLeft=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3599,linux:{primary:0}}})||this}i.prototype._getColumnSelectResult=function(t,i,n,r){return SE.columnSelectLeft(t.cursorConfig,t,n)};return i}(n))),t.CursorColumnSelectRight=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3601,linux:{primary:0}}})||this}i.prototype._getColumnSelectResult=function(t,i,n,r){return SE.columnSelectRight(t.cursorConfig,t,n)};return i}(n)));var r=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._isPaged=i.isPaged;return n}i.prototype._getColumnSelectResult=function(t,i,n,r){return SE.columnSelectUp(t.cursorConfig,t,n,this._isPaged)};return i}(n);t.CursorColumnSelectUp=Zf(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3600,linux:{primary:0}}})),t.CursorColumnSelectPageUp=Zf(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3595,linux:{primary:0}}}));var e=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._isPaged=i.isPaged;return n}i.prototype._getColumnSelectResult=function(t,i,n,r){return SE.columnSelectDown(t.cursorConfig,t,n,this._isPaged)};return i}(n);t.CursorColumnSelectDown=Zf(new e({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3602,linux:{primary:0}}})),t.CursorColumnSelectPageDown=Zf(new e({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3596,linux:{primary:0}}}));var o=function(t){__extends(i,t);function i(){return t.call(this,{id:"cursorMove",precondition:void 0,metadata:JE.metadata})||this}i.prototype.runCoreEditorCommand=function(t,i){var n=JE.parse(i);n&&this._runCursorMove(t,i.source,n)};i.prototype._runCursorMove=function(t,n,r){t.model.pushStackElement(),t.setCursorStates(n,3,i._move(t,t.getCursorStates(),r)),t.revealAllCursors(n,!0)};i._move=function(t,i,n){var r=n.select,e=n.value;switch(n.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return YE.simpleMove(t,i,n.direction,r,e,n.unit);case 11:case 13:case 12:case 14:return YE.viewportMove(t,i,n.direction,r,e);default:return null}};return i}(fB);t.CursorMoveImpl=o,t.CursorMove=Zf(new o);var s=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._staticArgs=i.args;return n}i.prototype.runCoreEditorCommand=function(t,i){var n=this._staticArgs;this._staticArgs.value===-1&&(n={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:i.pageSize||t.cursorConfig.pageSize}),t.model.pushStackElement(),t.setCursorStates(i.source,3,YE.simpleMove(t,t.getCursorStates(),n.direction,n.select,n.value,n.unit)),t.revealAllCursors(i.source,!0)};return i}(fB);t.CursorLeft=Zf(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),t.CursorLeftSelect=Zf(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1039}})),t.CursorRight=Zf(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),t.CursorRightSelect=Zf(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1041}})),t.CursorUp=Zf(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),t.CursorUpSelect=Zf(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),t.CursorPageUp=Zf(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:11}})),t.CursorPageUpSelect=Zf(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1035}})),t.CursorDown=Zf(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),t.CursorDownSelect=Zf(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),t.CursorPageDown=Zf(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:12}})),t.CursorPageDownSelect=Zf(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1036}})),t.CreateCursor=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"createCursor",precondition:void 0})||this}i.prototype.runCoreEditorCommand=function(t,i){if(!i.position)return;var n;n=i.wholeLine?YE.line(t,t.getPrimaryCursorState(),!1,i.position,i.viewPosition):YE.moveTo(t,t.getPrimaryCursorState(),!1,i.position,i.viewPosition);var r=t.getCursorStates();if(r.length>1){var e=n.modelState?n.modelState.position:null,o=n.viewState?n.viewState.position:null;for(var s=0,u=r.length;s<u;s++){var a=r[s];if((!e||a.modelState.selection.containsPosition(e))&&(!o||a.viewState.selection.containsPosition(o)))return r.splice(s,1),t.model.pushStackElement(),void t.setCursorStates(i.source,3,r)}}r.push(n),t.model.pushStackElement(),t.setCursorStates(i.source,3,r)};return i}(fB))),t.LastCursorMoveToSelect=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}i.prototype.runCoreEditorCommand=function(t,i){if(!i.position)return;var n=t.getLastAddedCursorIndex(),r=t.getCursorStates(),e=r.slice(0);e[n]=YE.moveTo(t,r[n],!0,i.position,i.viewPosition),t.model.pushStackElement(),t.setCursorStates(i.source,3,e)};return i}(fB)));var u=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,YE.moveToBeginningOfLine(t,t.getCursorStates(),this._inSelectionMode)),t.revealAllCursors(i.source,!0)};return i}(fB);t.CursorHome=Zf(new u({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),t.CursorHomeSelect=Zf(new u({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));var a=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,this._exec(t.getCursorStates())),t.revealAllCursors(i.source,!0)};i.prototype._exec=function(t){var i=[];for(var n=0,r=t.length;n<r;n++){var e=t[n],o=e.modelState.position.lineNumber;i[n]=BE.fromModelState(e.modelState.move(this._inSelectionMode,o,1,0))}return i};return i}(fB);t.CursorLineStart=Zf(new a({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:0,mac:{primary:287}}})),t.CursorLineStartSelect=Zf(new a({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:0,mac:{primary:1311}}}));var c=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,YE.moveToEndOfLine(t,t.getCursorStates(),this._inSelectionMode,i.sticky||!1)),t.revealAllCursors(i.source,!0)};return i}(fB);t.CursorEnd=Zf(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:hB.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:Bt(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),t.CursorEndSelect=Zf(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:hB.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:Bt(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));var h=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,this._exec(t,t.getCursorStates())),t.revealAllCursors(i.source,!0)};i.prototype._exec=function(t,i){var n=[];for(var r=0,e=i.length;r<e;r++){var o=i[r],s=o.modelState.position.lineNumber,u=t.model.getLineMaxColumn(s);n[r]=BE.fromModelState(o.modelState.move(this._inSelectionMode,s,u,0))}return n};return i}(fB);t.CursorLineEnd=Zf(new h({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:0,mac:{primary:291}}})),t.CursorLineEndSelect=Zf(new h({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:0,mac:{primary:1315}}}));var f=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,YE.moveToBeginningOfBuffer(t,t.getCursorStates(),this._inSelectionMode)),t.revealAllCursors(i.source,!0)};return i}(fB);t.CursorTop=Zf(new f({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2062,mac:{primary:2064}}})),t.CursorTopSelect=Zf(new f({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3086,mac:{primary:3088}}}));var l=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,YE.moveToEndOfBuffer(t,t.getCursorStates(),this._inSelectionMode)),t.revealAllCursors(i.source,!0)};return i}(fB);t.CursorBottom=Zf(new l({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2061,mac:{primary:2066}}})),t.CursorBottomSelect=Zf(new l({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:3085,mac:{primary:3090}}}));var d=function(t){__extends(i,t);function i(){return t.call(this,{id:"editorScroll",precondition:void 0,metadata:lB.metadata})||this}i.prototype.determineScrollMethod=function(t){return[6].includes(t.unit)&&[4,2].includes(t.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(t.unit)&&[1,3].includes(t.direction)?this._runVerticalEditorScroll.bind(this):null};i.prototype.runCoreEditorCommand=function(t,i){var n=lB.parse(i);if(!n)return;var r=this.determineScrollMethod(n);r&&r(t,i.source,n)};i.prototype._runVerticalEditorScroll=function(t,i,n){var r=this._computeDesiredScrollTop(t,n);if(n.revealCursor){var e=t.getCompletelyVisibleViewRangeAtScrollTop(r);t.setCursorStates(i,3,[YE.findPositionInViewportIfOutside(t,t.getPrimaryCursorState(),e,n.select)])}t.viewLayout.setScrollPosition({scrollTop:r},0)};i.prototype._computeDesiredScrollTop=function(t,i){if(i.unit===1){var n=t.viewLayout.getFutureViewport(),r=t.getCompletelyVisibleViewRangeAtScrollTop(n.top),e=t.coordinatesConverter.convertViewRangeToModelRange(r);var o=void 0;o=i.direction===1?Math.max(1,e.startLineNumber-i.value):Math.min(t.model.getLineCount(),e.startLineNumber+i.value);var s=t.coordinatesConverter.convertModelPositionToViewPosition(new qr(o,1));return t.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}if(i.unit===5){var n=0;return i.direction===3&&(n=t.model.getLineCount()-t.cursorConfig.pageSize),t.viewLayout.getVerticalOffsetForLineNumber(n)}var u;u=i.unit===3?t.cursorConfig.pageSize*i.value:i.unit===4?Math.round(t.cursorConfig.pageSize/2)*i.value:i.value;var a=(i.direction===1?-1:1)*u;return t.viewLayout.getCurrentScrollTop()+a*t.cursorConfig.lineHeight};i.prototype._runHorizontalEditorScroll=function(t,i,n){var r=this._computeDesiredScrollLeft(t,n);t.viewLayout.setScrollPosition({scrollLeft:r},0)};i.prototype._computeDesiredScrollLeft=function(t,i){var n=(i.direction===4?-1:1)*i.value;return t.viewLayout.getCurrentScrollLeft()+n*t.cursorConfig.typicalHalfwidthCharacterWidth};return i}(fB);t.EditorScrollImpl=d,t.EditorScroll=Zf(new d),t.ScrollLineUp=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2064,mac:{primary:267}}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Up,by:lB.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollPageUp=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Up,by:lB.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollEditorTop=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Up,by:lB.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollLineDown=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2066,mac:{primary:268}}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Down,by:lB.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollPageDown=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Down,by:lB.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollEditorBottom=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Down,by:lB.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollLeft=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Left,by:lB.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:n.source})};return n}(fB))),t.ScrollRight=Zf(new(function(i){__extends(n,i);function n(){return i.call(this,{id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus}})||this}n.prototype.runCoreEditorCommand=function(i,n){t.EditorScroll.runCoreEditorCommand(i,{to:lB.RawDirection.Right,by:lB.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:n.source})};return n}(fB)));var v=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){i.position&&(t.model.pushStackElement(),t.setCursorStates(i.source,3,[YE.word(t,t.getPrimaryCursorState(),this._inSelectionMode,i.position)]),i.revealType!==2&&t.revealAllCursors(i.source,!0,!0))};return i}(fB);t.WordSelect=Zf(new v({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),t.WordSelectDrag=Zf(new v({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),t.LastCursorWordSelect=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}i.prototype.runCoreEditorCommand=function(t,i){if(!i.position)return;var n=t.getLastAddedCursorIndex(),r=t.getCursorStates(),e=r.slice(0),o=r[n];e[n]=YE.word(t,o,o.modelState.hasSelection(),i.position),t.model.pushStackElement(),t.setCursorStates(i.source,3,e)};return i}(fB)));var A=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){i.position&&(t.model.pushStackElement(),t.setCursorStates(i.source,3,[YE.line(t,t.getPrimaryCursorState(),this._inSelectionMode,i.position,i.viewPosition)]),i.revealType!==2&&t.revealAllCursors(i.source,!1,!0))};return i}(fB);t.LineSelect=Zf(new A({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),t.LineSelectDrag=Zf(new A({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var g=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode;return n}i.prototype.runCoreEditorCommand=function(t,i){if(!i.position)return;var n=t.getLastAddedCursorIndex(),r=t.getCursorStates(),e=r.slice(0);e[n]=YE.line(t,r[n],this._inSelectionMode,i.position,i.viewPosition),t.model.pushStackElement(),t.setCursorStates(i.source,3,e)};return i}(fB);t.LastCursorLineSelect=Zf(new g({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),t.LastCursorLineSelectDrag=Zf(new g({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),t.CancelSelection=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"cancelSelection",precondition:hB.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:9,secondary:[1033]}})||this}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,[YE.cancelSelection(t,t.getPrimaryCursorState())]),t.revealAllCursors(i.source,!0)};return i}(fB))),t.RemoveSecondaryCursors=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"removeSecondaryCursors",precondition:hB.hasMultipleSelections,kbOpts:{weight:1,kbExpr:hB.textInputFocus,primary:9,secondary:[1033]}})||this}i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates(i.source,3,[t.getPrimaryCursorState()]),t.revealAllCursors(i.source,!0),Tw(Bt(0,"Removed secondary cursors"))};return i}(fB))),t.RevealLine=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"revealLine",precondition:void 0,metadata:dB.metadata})||this}i.prototype.runCoreEditorCommand=function(t,i){var n=i,r=n.lineNumber||0;var e=typeof r=="number"?r+1:parseInt(r)+1;e<1&&(e=1);var o=t.model.getLineCount();e>o&&(e=o);var s=new Zr(e,1,e,t.model.getLineMaxColumn(e));var u=0;if(n.at)switch(n.at){case dB.RawAtArgument.Top:u=3;break;case dB.RawAtArgument.Center:u=1;break;case dB.RawAtArgument.Bottom:u=4}var a=t.coordinatesConverter.convertModelRangeToViewRange(s);t.revealRange(i.source,!1,a,u,0)};return i}(fB))),t.SelectAll=new(function(t){__extends(i,t);function i(){return t.call(this,ul)||this}i.prototype.runDOMCommand=function(t){ps&&(t.focus(),t.select()),t.ownerDocument.execCommand("selectAll")};i.prototype.runEditorCommand=function(t,i,n){var r=i._getViewModel();r&&this.runCoreEditorCommand(r,n)};i.prototype.runCoreEditorCommand=function(t,i){t.model.pushStackElement(),t.setCursorStates("keyboard",3,[YE.selectAll(t,t.getPrimaryCursorState())])};return i}(AB)),t.SetSelection=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"setSelection",precondition:void 0})||this}i.prototype.runCoreEditorCommand=function(t,i){i.selection&&(t.model.pushStackElement(),t.setCursorStates(i.source,3,[BE.fromModelSelection(i.selection)]))};return i}(fB)))})(vB||(vB={}));var gB=Hh.and(hB.textInputFocus,hB.columnSelection);function wB(t,i){xf.registerKeybindingRule({id:t,primary:i,when:gB,weight:1})}function pB(t){return t.register(),t}var mB,bB;wB(vB.CursorColumnSelectLeft.id,1039),wB(vB.CursorColumnSelectRight.id,1041),wB(vB.CursorColumnSelectUp.id,1040),wB(vB.CursorColumnSelectPageUp.id,1035),wB(vB.CursorColumnSelectDown.id,1042),wB(vB.CursorColumnSelectPageDown.id,1036),function(t){var i=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.runEditorCommand=function(t,i,n){var r=i._getViewModel();r&&this.runCoreEditingCommand(i,r,n||{})};return i}(Gf);t.CoreEditingCommand=i,t.LineBreakInsert=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"lineBreakInsert",precondition:hB.writable,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:0,mac:{primary:301}}})||this}i.prototype.runCoreEditingCommand=function(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,rB.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map((function(t){return t.modelState.selection}))))};return i}(i))),t.Outdent=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"outdent",precondition:hB.writable,kbOpts:{weight:0,kbExpr:Hh.and(hB.editorTextFocus,hB.tabDoesNotMoveFocus),primary:1026}})||this}i.prototype.runCoreEditingCommand=function(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,rB.outdent(i.cursorConfig,i.model,i.getCursorStates().map((function(t){return t.modelState.selection})))),t.pushUndoStop()};return i}(i))),t.Tab=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"tab",precondition:hB.writable,kbOpts:{weight:0,kbExpr:Hh.and(hB.editorTextFocus,hB.tabDoesNotMoveFocus),primary:2}})||this}i.prototype.runCoreEditingCommand=function(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,rB.tab(i.cursorConfig,i.model,i.getCursorStates().map((function(t){return t.modelState.selection})))),t.pushUndoStop()};return i}(i))),t.DeleteLeft=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}i.prototype.runCoreEditingCommand=function(t,i,n){var r=jE.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map((function(t){return t.modelState.selection})),i.getCursorAutoClosedCharacters()),e=r[0],o=r[1];e&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(2)};return i}(i))),t.DeleteRight=Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}i.prototype.runCoreEditingCommand=function(t,i,n){var r=jE.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map((function(t){return t.modelState.selection}))),e=r[0],o=r[1];e&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(3)};return i}(i))),t.Undo=new(function(t){__extends(i,t);function i(){return t.call(this,ol)||this}i.prototype.runDOMCommand=function(t){t.ownerDocument.execCommand("undo")};i.prototype.runEditorCommand=function(t,i,n){if(i.hasModel()&&i.getOption(91)!==!0)return i.getModel().undo()};return i}(AB)),t.Redo=new(function(t){__extends(i,t);function i(){return t.call(this,sl)||this}i.prototype.runDOMCommand=function(t){t.ownerDocument.execCommand("redo")};i.prototype.runEditorCommand=function(t,i,n){if(i.hasModel()&&i.getOption(91)!==!0)return i.getModel().redo()};return i}(AB))}(mB||(mB={}));var yB=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,{id:i,precondition:void 0,metadata:r})||this,e._handlerId=n;return e}i.prototype.runCommand=function(t,i){var n=t.get(dh).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,i)};return i}(Jf);function kB(t,i){pB(new yB("default:"+t,t)),pB(new yB(t,t,i))}kB("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),kB("replacePreviousChar"),kB("compositionType"),kB("compositionStart"),kB("compositionEnd"),kB("paste"),kB("cut");var xB=function(){function t(t,i,n,r){this.configuration=t,this.viewModel=i,this.userInputEvents=n,this.commandDelegate=r}t.prototype.paste=function(t,i,n,r){this.commandDelegate.paste(t,i,n,r)};t.prototype.type=function(t){this.commandDelegate.type(t)};t.prototype.compositionType=function(t,i,n,r){this.commandDelegate.compositionType(t,i,n,r)};t.prototype.compositionStart=function(){this.commandDelegate.startComposition()};t.prototype.compositionEnd=function(){this.commandDelegate.endComposition()};t.prototype.cut=function(){this.commandDelegate.cut()};t.prototype.setSelection=function(t){vB.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})};t.prototype._validateViewColumn=function(t){var i=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<i?new qr(t.lineNumber,i):t};t.prototype._hasMulticursorModifier=function(t){switch(this.configuration.options.get(78)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}};t.prototype._hasNonMulticursorModifier=function(t){switch(this.configuration.options.get(78)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}};t.prototype.dispatchMouse=function(t){var i=this.configuration.options,n=Vt&&i.get(107),r=i.get(22);t.middleButton&&!n?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position,t.revealType):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount>=4?this._selectAll():t.mouseDownCount===3?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position,t.revealType):this._lastCursorLineSelect(t.position,t.revealType):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount===2?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position,t.revealType):t.inSelectionMode?this._wordSelectDrag(t.position,t.revealType):this._wordSelect(t.position,t.revealType)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position,t.revealType):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey||r?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position,t.revealType):this.moveTo(t.position,t.revealType)};t.prototype._usualArgs=function(t,i){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,revealType:i}};t.prototype.moveTo=function(t,i){vB.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._moveToSelect=function(t,i){vB.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._columnSelect=function(t,i,n){t=this._validateViewColumn(t),vB.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:i,doColumnSelect:n})};t.prototype._createCursor=function(t,i){t=this._validateViewColumn(t),vB.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:i})};t.prototype._lastCursorMoveToSelect=function(t,i){vB.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._wordSelect=function(t,i){vB.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._wordSelectDrag=function(t,i){vB.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._lastCursorWordSelect=function(t,i){vB.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._lineSelect=function(t,i){vB.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._lineSelectDrag=function(t,i){vB.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._lastCursorLineSelect=function(t,i){vB.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._lastCursorLineSelectDrag=function(t,i){vB.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,i))};t.prototype._selectAll=function(){vB.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})};t.prototype._convertViewToModelPosition=function(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)};t.prototype.emitKeyDown=function(t){this.userInputEvents.emitKeyDown(t)};t.prototype.emitKeyUp=function(t){this.userInputEvents.emitKeyUp(t)};t.prototype.emitContextMenu=function(t){this.userInputEvents.emitContextMenu(t)};t.prototype.emitMouseMove=function(t){this.userInputEvents.emitMouseMove(t)};t.prototype.emitMouseLeave=function(t){this.userInputEvents.emitMouseLeave(t)};t.prototype.emitMouseUp=function(t){this.userInputEvents.emitMouseUp(t)};t.prototype.emitMouseDown=function(t){this.userInputEvents.emitMouseDown(t)};t.prototype.emitMouseDrag=function(t){this.userInputEvents.emitMouseDrag(t)};t.prototype.emitMouseDrop=function(t){this.userInputEvents.emitMouseDrop(t)};t.prototype.emitMouseDropCanceled=function(){this.userInputEvents.emitMouseDropCanceled()};t.prototype.emitMouseWheel=function(t){this.userInputEvents.emitMouseWheel(t)};return t}();var EB=function(){function t(t){this._createLine=t,this._set(1,[])}t.prototype.flush=function(){this._set(1,[])};t.prototype._set=function(t,i){this._lines=i,this._rendLineNumberStart=t};t.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}};t.prototype.getStartLineNumber=function(){return this._rendLineNumberStart};t.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1};t.prototype.getCount=function(){return this._lines.length};t.prototype.getLine=function(t){var i=t-this._rendLineNumberStart;if(i<0||i>=this._lines.length)throw new mn("Illegal value for lineNumber");return this._lines[i]};t.prototype.onLinesDeleted=function(t,i){if(this.getCount()===0)return null;var n=this.getStartLineNumber(),r=this.getEndLineNumber();if(i<n){var e=i-t+1;return this._rendLineNumberStart-=e,null}if(t>r)return null;var o=0,s=0;for(var e=n;e<=r;e++){var u=e-this._rendLineNumberStart;t<=e&&e<=i&&(s===0?(o=u,s=1):s++)}if(t<n){var e=0;e=i<n?i-t+1:n-t,this._rendLineNumberStart-=e}return this._lines.splice(o,s)};t.prototype.onLinesChanged=function(t,i){var n=t+i-1;if(this.getCount()===0)return!1;var r=this.getStartLineNumber(),e=this.getEndLineNumber();var o=!1;for(var s=t;s<=n;s++)s>=r&&s<=e&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o};t.prototype.onLinesInserted=function(t,i){if(this.getCount()===0)return null;var n=i-t+1,r=this.getStartLineNumber(),e=this.getEndLineNumber();if(t<=r)return this._rendLineNumberStart+=n,null;if(t>e)return null;if(n+t>e)return this._lines.splice(t-this._rendLineNumberStart,e-t+1);var o=[];for(var s=0;s<n;s++)o[s]=this._createLine();var u=t-this._rendLineNumberStart,a=this._lines.slice(0,u),c=this._lines.slice(u,this._lines.length-n),h=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=a.concat(o).concat(c),h};t.prototype.onTokensChanged=function(t){if(this.getCount()===0)return!1;var i=this.getStartLineNumber(),n=this.getEndLineNumber();var r=!1;for(var e=0,o=t.length;e<o;e++){var s=t[e];if(s.toLineNumber<i||s.fromLineNumber>n)continue;var u=Math.max(i,s.fromLineNumber),a=Math.min(n,s.toLineNumber);for(var c=u;c<=a;c++){var h=c-this._rendLineNumberStart;this._lines[h].onTokensChanged(),r=!0}}return r};return t}();var BB=function(){function t(t){var i=this;this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new EB((function(){return i._host.createVisibleLine()}))}t.prototype._createDomNode=function(){var t=th(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t};t.prototype.onConfigurationChanged=function(t){return!!t.hasChanged(145)};t.prototype.onFlushed=function(t){return this._linesCollection.flush(),!0};t.prototype.onLinesChanged=function(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.count)};t.prototype.onLinesDeleted=function(t){var i=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(i)for(var n=0,r=i.length;n<r;n++){var e=i[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0};t.prototype.onLinesInserted=function(t){var i=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(i)for(var n=0,r=i.length;n<r;n++){var e=i[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0};t.prototype.onScrollChanged=function(t){return t.scrollTopChanged};t.prototype.onTokensChanged=function(t){return this._linesCollection.onTokensChanged(t.ranges)};t.prototype.onZonesChanged=function(t){return!0};t.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()};t.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()};t.prototype.getVisibleLine=function(t){return this._linesCollection.getLine(t)};t.prototype.renderLines=function(t){var i=this._linesCollection._get(),n=new CB(this.domNode.domNode,this._host,t),r={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines,linesLength:i.lines.length},e=n.render(r,t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(e.rendLineNumberStart,e.lines)};return t}();var CB=function(){function t(t,i,n){this.domNode=t,this.host=i,this.viewportData=n}t.prototype.render=function(t,i,n,r){var e={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(e.rendLineNumberStart+e.linesLength-1<i||n<e.rendLineNumberStart){e.rendLineNumberStart=i,e.linesLength=n-i+1,e.lines=[];for(var o=i;o<=n;o++)e.lines[o-i]=this.host.createVisibleLine();return this._finishRendering(e,!0,r),e}if(this._renderUntouchedLines(e,Math.max(i-e.rendLineNumberStart,0),Math.min(n-e.rendLineNumberStart,e.linesLength-1),r,i),e.rendLineNumberStart>i){var o=i,s=Math.min(n,e.rendLineNumberStart-1);o<=s&&(this._insertLinesBefore(e,o,s,r,i),e.linesLength+=s-o+1)}else if(e.rendLineNumberStart<i){var o=Math.min(e.linesLength,i-e.rendLineNumberStart);o>0&&(this._removeLinesBefore(e,o),e.linesLength-=o)}if(e.rendLineNumberStart=i,e.rendLineNumberStart+e.linesLength-1<n){var o=e.rendLineNumberStart+e.linesLength,s=n;o<=s&&(this._insertLinesAfter(e,o,s,r,i),e.linesLength+=s-o+1)}else if(e.rendLineNumberStart+e.linesLength-1>n){var o=Math.max(0,n-e.rendLineNumberStart+1),s=e.linesLength-1-o+1;s>0&&(this._removeLinesAfter(e,s),e.linesLength-=s)}return this._finishRendering(e,!1,r),e};t.prototype._renderUntouchedLines=function(t,i,n,r,e){var o=t.rendLineNumberStart,s=t.lines;for(var u=i;u<=n;u++){var a=o+u;s[u].layoutLine(a,r[a-e],this.viewportData.lineHeight)}};t.prototype._insertLinesBefore=function(t,i,n,r,e){var o=[];var s=0;for(var u=i;u<=n;u++)o[s++]=this.host.createVisibleLine();t.lines=o.concat(t.lines)};t.prototype._removeLinesBefore=function(t,i){for(var n=0;n<i;n++){var r=t.lines[n].getDomNode();r&&this.domNode.removeChild(r)}t.lines.splice(0,i)};t.prototype._insertLinesAfter=function(t,i,n,r,e){var o=[];var s=0;for(var u=i;u<=n;u++)o[s++]=this.host.createVisibleLine();t.lines=t.lines.concat(o)};t.prototype._removeLinesAfter=function(t,i){var n=t.linesLength-i;for(var r=0;r<i;r++){var e=t.lines[n+r].getDomNode();e&&this.domNode.removeChild(e)}t.lines.splice(n,i)};t.prototype._finishRenderingNewLines=function(i,n,r,e){t._ttPolicy&&(r=t._ttPolicy.createHTML(r));var o=this.domNode.lastChild;n||!o?this.domNode.innerHTML=r:o.insertAdjacentHTML("afterend",r);var s=this.domNode.lastChild;for(var u=i.linesLength-1;u>=0;u--){var a=i.lines[u];e[u]&&(a.setDomNode(s),s=s.previousSibling)}};t.prototype._finishRenderingInvalidLines=function(i,n,r){var e=document.createElement("div");t._ttPolicy&&(n=t._ttPolicy.createHTML(n)),e.innerHTML=n;for(var o=0;o<i.linesLength;o++){var s=i.lines[o];if(r[o]){var u=e.firstChild,a=s.getDomNode();a.parentNode.replaceChild(u,a),s.setDomNode(u)}}};t.prototype._finishRendering=function(i,n,r){var e=t._sb,o=i.linesLength,s=i.lines,u=i.rendLineNumberStart,a=[];{e.reset();var c=!1;for(var h=0;h<o;h++){var f=s[h];a[h]=!1,!f.getDomNode()&&f.renderLine(h+u,r[h],this.viewportData.lineHeight,this.viewportData,e)&&(a[h]=!0,c=!0)}c&&this._finishRenderingNewLines(i,n,e.build(),a)}{e.reset();var c=!1;var l=[];for(var f=0;f<o;f++){var d=s[f];l[f]=!1,!a[f]&&d.renderLine(f+u,r[f],this.viewportData.lineHeight,this.viewportData,e)&&(l[f]=!0,c=!0)}c&&this._finishRenderingInvalidLines(i,e.build(),l)}};return t}();CB._ttPolicy=ml("editorViewLayer",{createHTML:function(t){return t}}),CB._sb=new Wl(1e5);var DB=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._visibleLines=new BB(n),n.domNode=n._visibleLines.domNode;var r=n._context.configuration.options.get(50);ih(n.domNode,r),n._dynamicOverlays=[],n._isFocused=!1,n.domNode.setClassName("view-overlays");return n}i.prototype.shouldRender=function(){if(t.prototype.shouldRender.call(this))return!0;for(var i=0,n=this._dynamicOverlays.length;i<n;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1};i.prototype.dispose=function(){t.prototype.dispose.call(this);for(var i=0,n=this._dynamicOverlays.length;i<n;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]};i.prototype.getDomNode=function(){return this.domNode};i.prototype.createVisibleLine=function(){return new MB(this._dynamicOverlays)};i.prototype.addDynamicOverlay=function(t){this._dynamicOverlays.push(t)};i.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t);var i=this._context.configuration.options.get(50);return ih(this.domNode,i),!0};i.prototype.onFlushed=function(t){return this._visibleLines.onFlushed(t)};i.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!0};i.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)};i.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)};i.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)};i.prototype.onScrollChanged=function(t){return this._visibleLines.onScrollChanged(t)||!0};i.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)};i.prototype.onZonesChanged=function(t){return this._visibleLines.onZonesChanged(t)};i.prototype.prepareRender=function(t){var i=this._dynamicOverlays.filter((function(t){return t.shouldRender()}));for(var n=0,r=i.length;n<r;n++){var e=i[n];e.prepareRender(t),e.onDidRender()}};i.prototype.render=function(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)};i.prototype._viewOverlaysRender=function(t){this._visibleLines.renderLines(t.viewportData)};return i}(_y);var MB=function(){function t(t){this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}t.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null};t.prototype.setDomNode=function(t){this._domNode=th(t)};t.prototype.onContentChanged=function(){};t.prototype.onTokensChanged=function(){};t.prototype.renderLine=function(t,i,n,r,e){var o="";for(var s=0,u=this._dynamicOverlays.length;s<u;s++)o+=this._dynamicOverlays[s].render(r.startLineNumber,t);return this._renderedContent!==o&&(this._renderedContent=o,e.appendString('<div style="top:'),e.appendString(String(i)),e.appendString("px;height:"),e.appendString(String(n)),e.appendString('px;">'),e.appendString(o),e.appendString("</div>"),!0)};t.prototype.layoutLine=function(t,i,n){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(n))};return t}();var _B=function(t){__extends(i,t);function i(i){var n=t.call(this,i)||this;var r=n._context.configuration.options.get(145);n._contentWidth=r.contentWidth,n.domNode.setHeight(0);return n}i.prototype.onConfigurationChanged=function(i){var n=this._context.configuration.options.get(145);return this._contentWidth=n.contentWidth,t.prototype.onConfigurationChanged.call(this,i)||!0};i.prototype.onScrollChanged=function(i){return t.prototype.onScrollChanged.call(this,i)||i.scrollWidthChanged};i.prototype._viewOverlaysRender=function(i){t.prototype._viewOverlaysRender.call(this,i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))};return i}(DB);var FB=function(t){__extends(i,t);function i(i){var n=t.call(this,i)||this;var r=n._context.configuration.options,e=r.get(145);n._contentLeft=e.contentLeft,n.domNode.setClassName("margin-view-overlays"),n.domNode.setWidth(1),ih(n.domNode,r.get(50));return n}i.prototype.onConfigurationChanged=function(i){var n=this._context.configuration.options;ih(this.domNode,n.get(50));var r=n.get(145);return this._contentLeft=r.contentLeft,t.prototype.onConfigurationChanged.call(this,i)||!0};i.prototype.onScrollChanged=function(i){return t.prototype.onScrollChanged.call(this,i)||i.scrollHeightChanged};i.prototype._viewOverlaysRender=function(i){t.prototype._viewOverlaysRender.call(this,i);var n=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)};return i}(DB);var SB=function(){function t(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}t.prototype.emitKeyDown=function(t){var i;(i=this.onKeyDown)===null||i===void 0||i.call(this,t)};t.prototype.emitKeyUp=function(t){var i;(i=this.onKeyUp)===null||i===void 0||i.call(this,t)};t.prototype.emitContextMenu=function(t){var i;(i=this.onContextMenu)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseMove=function(t){var i;(i=this.onMouseMove)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseLeave=function(t){var i;(i=this.onMouseLeave)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseDown=function(t){var i;(i=this.onMouseDown)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseUp=function(t){var i;(i=this.onMouseUp)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseDrag=function(t){var i;(i=this.onMouseDrag)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseDrop=function(t){var i;(i=this.onMouseDrop)===null||i===void 0||i.call(this,this._convertViewToModelMouseEvent(t))};t.prototype.emitMouseDropCanceled=function(){var t;(t=this.onMouseDropCanceled)===null||t===void 0||t.call(this)};t.prototype.emitMouseWheel=function(t){var i;(i=this.onMouseWheel)===null||i===void 0||i.call(this,t)};t.prototype._convertViewToModelMouseEvent=function(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t};t.prototype._convertViewToModelMouseTarget=function(i){return t.convertViewToModelMouseTarget(i,this._coordinatesConverter)};t.convertViewToModelMouseTarget=function(t,i){var n=__assign({},t);return n.position&&(n.position=i.convertViewPositionToModelPosition(n.position)),n.range&&(n.range=i.convertViewRangeToModelRange(n.range)),n.type!==5&&n.type!==8||(n.detail=this.convertViewToModelViewZoneData(n.detail,i)),n};t.convertViewToModelViewZoneData=function(t,i){return{viewZoneId:t.viewZoneId,positionBefore:t.positionBefore?i.convertViewPositionToModelPosition(t.positionBefore):t.positionBefore,positionAfter:t.positionAfter?i.convertViewPositionToModelPosition(t.positionAfter):t.positionAfter,position:i.convertViewPositionToModelPosition(t.position),afterLineNumber:i.convertViewPositionToModelPosition(new qr(t.afterLineNumber,1)).lineNumber}};return t}();var IB=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n.blocks=[],n.contentWidth=-1,n.contentLeft=0,n.domNode=th(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.domNode.setClassName("blockDecorations-container"),n.update();return n}i.prototype.update=function(){var t=!1;var i=this._context.configuration.options.get(145),n=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==n&&(this.contentWidth=n,t=!0);var r=i.contentLeft;return this.contentLeft!==r&&(this.contentLeft=r,t=!0),t};i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){return this.update()};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollLeftChanged};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onZonesChanged=function(t){return!0};i.prototype.prepareRender=function(t){};i.prototype.render=function(t){var i;var n=0;var r=t.getDecorationsInViewport();for(var e=0,o=r;e<o.length;e++){var s=o[e];if(!s.options.blockClassName)continue;var u=void 0,a=void 0,c=this.blocks[n];c||(c=this.blocks[n]=th(document.createElement("div")),this.domNode.appendChild(c)),s.options.blockIsAfterEnd?(u=t.getVerticalOffsetAfterLineNumber(s.range.endLineNumber,!1),a=t.getVerticalOffsetAfterLineNumber(s.range.endLineNumber,!0)):(u=t.getVerticalOffsetForLineNumber(s.range.startLineNumber,!0),a=s.range.isEmpty()&&!s.options.blockDoesNotCollapse?t.getVerticalOffsetForLineNumber(s.range.startLineNumber,!1):t.getVerticalOffsetAfterLineNumber(s.range.endLineNumber,!0));var h=(i=s.options.blockPadding)!==null&&i!==void 0?i:[0,0,0,0],f=h[0],l=h[1],d=h[2],v=h[3];c.setClassName("blockDecorations-block "+s.options.blockClassName),c.setLeft(this.contentLeft-v),c.setWidth(this.contentWidth+v+l),c.setTop(u-t.scrollTop-f),c.setHeight(a-u+f+d),n++}for(var s=n;s<this.blocks.length;s++)this.blocks[s].domNode.remove();this.blocks.length=n};return i}(_y);var QB=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._viewDomNode=n,r._widgets={},r.domNode=th(document.createElement("div")),Fy.write(r.domNode,1),r.domNode.setClassName("contentWidgets"),r.domNode.setPosition("absolute"),r.domNode.setTop(0),r.overflowingContentWidgetsDomNode=th(document.createElement("div")),Fy.write(r.overflowingContentWidgetsDomNode,2),r.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets");return r}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._widgets={}};i.prototype.onConfigurationChanged=function(t){var i=Object.keys(this._widgets);for(var n=0,r=i;n<r.length;n++){var e=r[n];this._widgets[e].onConfigurationChanged(t)}return!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLineMappingChanged=function(t){return this._updateAnchorsViewPositions(),!0};i.prototype.onLinesChanged=function(t){return this._updateAnchorsViewPositions(),!0};i.prototype.onLinesDeleted=function(t){return this._updateAnchorsViewPositions(),!0};i.prototype.onLinesInserted=function(t){return this._updateAnchorsViewPositions(),!0};i.prototype.onScrollChanged=function(t){return!0};i.prototype.onZonesChanged=function(t){return!0};i.prototype._updateAnchorsViewPositions=function(){var t=Object.keys(this._widgets);for(var i=0,n=t;i<n.length;i++){var r=n[i];this._widgets[r].updateAnchorViewPosition()}};i.prototype.addWidget=function(t){var i=new OB(this._context,this._viewDomNode,t);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()};i.prototype.setWidgetPosition=function(t,i,n,r,e){this._widgets[t.getId()].setPosition(i,n,r,e),this.setShouldRender()};i.prototype.removeWidget=function(t){var i=t.getId();if(this._widgets.hasOwnProperty(i)){var n=this._widgets[i];delete this._widgets[i];var r=n.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}};i.prototype.shouldSuppressMouseDownOnWidget=function(t){return!!this._widgets.hasOwnProperty(t)&&this._widgets[t].suppressMouseDown};i.prototype.onBeforeRender=function(t){var i=Object.keys(this._widgets);for(var n=0,r=i;n<r.length;n++){var e=r[n];this._widgets[e].onBeforeRender(t)}};i.prototype.prepareRender=function(t){var i=Object.keys(this._widgets);for(var n=0,r=i;n<r.length;n++){var e=r[n];this._widgets[e].prepareRender(t)}};i.prototype.render=function(t){var i=Object.keys(this._widgets);for(var n=0,r=i;n<r.length;n++){var e=r[n];this._widgets[e].render(t)}};return i}(_y);var OB=function(){function t(t,i,n){this._primaryAnchor=new NB(null,null),this._secondaryAnchor=new NB(null,null),this._context=t,this._viewDomNode=i,this._actual=n,this.domNode=th(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var r=this._context.configuration.options,e=r.get(145);this._fixedOverflowWidgets=r.get(42),this._contentWidth=e.contentWidth,this._contentLeft=e.contentLeft,this._lineHeight=r.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}t.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;if(this._lineHeight=i.get(67),t.hasChanged(145)){var n=i.get(145);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}};t.prototype.updateAnchorViewPosition=function(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)};t.prototype._setPosition=function(t,i,n){function r(t,i,n){if(!t)return new NB(null,null);var r=i.model.validatePosition(t);if(i.coordinatesConverter.modelPositionIsVisible(r)){var e=i.coordinatesConverter.convertModelPositionToViewPosition(r,n!==null&&n!==void 0?n:void 0);return new NB(t,e)}return new NB(t,null)}this._affinity=t,this._primaryAnchor=r(i,this._context.viewModel,this._affinity),this._secondaryAnchor=r(n,this._context.viewModel,this._affinity)};t.prototype._getMaxWidth=function(){var t=this.domNode.domNode.ownerDocument,i=t.defaultView;return this.allowEditorOverflow?(i==null?void 0:i.innerWidth)||t.documentElement.offsetWidth||t.body.offsetWidth:this._contentWidth};t.prototype.setPosition=function(t,i,n,r){this._setPosition(r,t,i),this._preference=n,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1};t.prototype._layoutBoxInViewport=function(t,i,n,r){var e=t.top,o=e,s=t.top+t.height,u=e-n,a=o>=n,c=s,h=r.viewportHeight-s>=n;var f=t.left;return f+i>r.scrollLeft+r.viewportWidth&&(f=r.scrollLeft+r.viewportWidth-i),f<r.scrollLeft&&(f=r.scrollLeft),{fitsAbove:a,aboveTop:u,fitsBelow:h,belowTop:c,left:f}};t.prototype._layoutHorizontalSegmentInPage=function(t,i,n,r){var e;var o=Math.max(15,i.left-r),s=Math.min(i.left+i.width+r,t.width-15),u=this._viewDomNode.domNode.ownerDocument.defaultView;var a=i.left+n-((e=u==null?void 0:u.scrollX)!==null&&e!==void 0?e:0);if(a+r>s){var c=a-(s-r);a-=c,n-=c}if(a<o){var h=a-o;a-=h,n-=h}return[n,a]};t.prototype._layoutBoxInPage=function(t,i,n,r){var e,o;var s=t.top-n,u=t.top+t.height,a=Ka(this._viewDomNode.domNode),c=this._viewDomNode.domNode.ownerDocument,h=c.defaultView,f=a.top+s-((e=h==null?void 0:h.scrollY)!==null&&e!==void 0?e:0),l=a.top+u-((o=h==null?void 0:h.scrollY)!==null&&o!==void 0?o:0),d=Pa(c.body),v=this._layoutHorizontalSegmentInPage(d,a,t.left-r.scrollLeft+this._contentLeft,i),A=v[0],g=v[1],w=f>=22,p=l+n<=d.height-22;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(f,22),fitsBelow:p,belowTop:l,left:g}:{fitsAbove:w,aboveTop:s,fitsBelow:p,belowTop:u,left:A}};t.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(t){return new RB(t.top,t.left+this._contentLeft)};t.prototype._getAnchorsCoordinates=function(t){var i,n;return{primary:r(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),secondary:r(((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((n=this._primaryAnchor.viewPosition)===null||n===void 0?void 0:n.lineNumber)?this._secondaryAnchor.viewPosition:null,this._affinity,this._lineHeight)};function r(i,n,r){if(!i)return null;var e=t.visibleRangeForPosition(i);if(!e)return null;var o=i.column===1&&n===3?0:e.left,s=t.getVerticalOffsetForLineNumber(i.lineNumber)-t.scrollTop;return new TB(s,o,r)}};t.prototype._reduceAnchorCoordinates=function(t,i,n){if(!i)return t;var r=this._context.configuration.options.get(50);var e=i.left;return e=e<t.left?Math.max(e,t.left-n+r.typicalFullwidthCharacterWidth):Math.min(e,t.left+n-r.typicalFullwidthCharacterWidth),new TB(t.top,e,t.height)};t.prototype._prepareRenderWidget=function(t){if(!this._preference||this._preference.length===0)return null;var i=this._getAnchorsCoordinates(t),n=i.primary,r=i.secondary;if(!n)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){var e=null;if(typeof this._actual.beforeRender=="function"&&(e=LB(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeOffsetWidth=e.width,this._cachedDomNodeOffsetHeight=e.height;else{var o=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(o.width),this._cachedDomNodeOffsetHeight=Math.round(o.height)}}var s=this._reduceAnchorCoordinates(n,r,this._cachedDomNodeOffsetWidth);var u;u=this.allowEditorOverflow?this._layoutBoxInPage(s,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):this._layoutBoxInViewport(s,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(var e=1;e<=2;e++)for(var a=0,c=this._preference;a<c.length;a++){var o=c[a];if(o===1){if(!u)return null;if(e===2||u.fitsAbove)return{coordinate:new RB(u.aboveTop,u.left),position:1}}else{if(o!==2)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new RB(s.top,s.left)),position:0}:{coordinate:new RB(s.top,s.left),position:0};if(!u)return null;if(e===2||u.fitsBelow)return{coordinate:new RB(u.belowTop,u.left),position:2}}}return null};t.prototype.onBeforeRender=function(t){this._primaryAnchor.viewPosition&&this._preference&&(this._primaryAnchor.viewPosition.lineNumber<t.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))};t.prototype.prepareRender=function(t){this._renderData=this._prepareRenderWidget(t)};t.prototype.render=function(t){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void(typeof this._actual.afterRender=="function"&&LB(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&LB(this._actual.afterRender,this._actual,this._renderData.position)};return t}();var NB=function(){function t(t,i){this.modelPosition=t,this.viewPosition=i}return t}();var RB=function(){function t(t,i){this.top=t,this.left=i,this._coordinateBrand=void 0}return t}();var TB=function(){function t(t,i,n){this.top=t,this.left=i,this.height=n,this._anchorCoordinateBrand=void 0}return t}();function LB(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}try{return t.call.apply(t,__spreadArray([i],n,false))}catch(t){return null}}var jB=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i;var r=n._context.configuration.options,e=r.get(145);n._renderLineHighlight=r.get(96),n._renderLineHighlightOnlyWhenFocus=r.get(97),n._wordWrap=e.isViewportWrapping,n._contentLeft=e.contentLeft,n._contentWidth=e.contentWidth,n._selectionIsEmpty=!0,n._focused=!1,n._cursorLineNumbers=[1],n._selections=[new $r(1,1,1,1)],n._renderData=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),t.prototype.dispose.call(this)};i.prototype._readFromSelections=function(){var t=!1;var i=new Set;for(var n=0,r=this._selections;n<r.length;n++){var e=r[n];i.add(e.positionLineNumber)}var o=Array.from(i);o.sort((function(t,i){return t-i})),_(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,t=!0);var s=this._selections.every((function(t){return t.isEmpty()}));return this._selectionIsEmpty!==s&&(this._selectionIsEmpty=s,t=!0),t};i.prototype.onThemeChanged=function(t){return this._readFromSelections()};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(145);return this._renderLineHighlight=i.get(96),this._renderLineHighlightOnlyWhenFocus=i.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0};i.prototype.onCursorStateChanged=function(t){return this._selections=t.selections,this._readFromSelections()};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollWidthChanged||t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.onFocusChanged=function(t){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=t.isFocused,!0)};i.prototype.prepareRender=function(t){if(!this._shouldRenderThis())return void(this._renderData=null);var i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,r=[];for(var e=i;e<=n;e++)r[e-i]="";if(this._wordWrap){var e=this._renderOne(t,!1);for(var o=0,s=this._cursorLineNumbers;o<s.length;o++){var u=s[o];var a=this._context.viewModel.coordinatesConverter,c=a.convertViewPositionToModelPosition(new qr(u,1)).lineNumber,h=a.convertModelPositionToViewPosition(new qr(c,1)).lineNumber,f=a.convertModelPositionToViewPosition(new qr(c,this._context.viewModel.model.getLineMaxColumn(c))).lineNumber,l=Math.max(h,i),d=Math.min(f,n);for(var v=l;v<=d;v++)r[v-i]=e}}var A=this._renderOne(t,!0);for(var g=0,w=this._cursorLineNumbers;g<w.length;g++){var e=w[g];e<i||e>n||(r[e-i]=A)}this._renderData=r};i.prototype.render=function(t,i){if(!this._renderData)return"";var n=i-t;return n>=this._renderData.length?"":this._renderData[n]};i.prototype._shouldRenderInMargin=function(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)};i.prototype._shouldRenderInContent=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)};return i}(rx);var zB=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._renderOne=function(t,i){return'<div class="'.concat("current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(i?" current-line-exact":""),'" style="width:').concat(Math.max(t.scrollWidth,this._contentWidth),'px;"></div>')};i.prototype._shouldRenderThis=function(){return this._shouldRenderInContent()};i.prototype._shouldRenderOther=function(){return this._shouldRenderInMargin()};return i}(jB);var UB=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._renderOne=function(t,i){return'<div class="'.concat("current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&i?" current-line-exact-margin":""),'" style="width:').concat(this._contentLeft,'px"></div>')};i.prototype._shouldRenderThis=function(){return!0};i.prototype._shouldRenderOther=function(){return this._shouldRenderInContent()};return i}(jB);cx((function(t,i){var n=t.getColor(fx);if(n&&(i.addRule(".monaco-editor .view-overlays .current-line { background-color: ".concat(n,"; }")),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: ".concat(n,"; border: none; }"))),!n||n.isTransparent()||t.defines(lx)){var r=t.getColor(lx);r&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border: 2px solid ".concat(r,"; }")),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ".concat(r,"; }")),zy(t.type)&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}}));var HB=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i;var r=n._context.configuration.options;n._typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,n._renderResult=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.prepareRender=function(t){var i=t.getDecorationsInViewport();var n=[],r=0;for(var e=0,o=i.length;e<o;e++){var s=i[e];s.options.className&&(n[r++]=s)}n=n.sort((function(t,i){if(t.options.zIndex<i.options.zIndex)return-1;if(t.options.zIndex>i.options.zIndex)return 1;var n=t.options.className,r=i.options.className;return n<r?-1:n>r?1:Zr.compareRangesUsingStarts(t.range,i.range)}));var u=t.visibleRange.startLineNumber,a=t.visibleRange.endLineNumber,c=[];for(var e=u;e<=a;e++)c[e-u]="";this._renderWholeLineDecorations(t,n,c),this._renderNormalDecorations(t,n,c),this._renderResult=c};i.prototype._renderWholeLineDecorations=function(t,i,n){var r=t.visibleRange.startLineNumber,e=t.visibleRange.endLineNumber;for(var o=0,s=i.length;o<s;o++){var u=i[o];if(!u.options.isWholeLine)continue;var a='<div class="cdr '+u.options.className+'" style="left:0;width:100%;"></div>',c=Math.max(u.range.startLineNumber,r),h=Math.min(u.range.endLineNumber,e);for(var f=c;f<=h;f++)n[f-r]+=a}};i.prototype._renderNormalDecorations=function(t,i,n){var r;var e=t.visibleRange.startLineNumber;var o=null,s=!1,u=null,a=!1;for(var c=0,h=i.length;c<h;c++){var f=i[c];if(f.options.isWholeLine)continue;var l=f.options.className,d=!!f.options.showIfCollapsed;var v=f.range;d&&v.endColumn===1&&v.endLineNumber!==v.startLineNumber&&(v=new Zr(v.startLineNumber,v.startColumn,v.endLineNumber-1,this._context.viewModel.getLineMaxColumn(v.endLineNumber-1))),o===l&&s===d&&Zr.areIntersectingOrTouching(u,v)?u=Zr.plusRange(u,v):(o!==null&&this._renderNormalDecoration(t,u,o,a,s,e,n),o=l,s=d,u=v,a=(r=f.options.shouldFillLineOnLineBreak)!==null&&r!==void 0&&r)}o!==null&&this._renderNormalDecoration(t,u,o,a,s,e,n)};i.prototype._renderNormalDecoration=function(t,i,n,r,e,o,s){var u=t.linesVisibleRangesForRange(i,n==="findMatch");if(u)for(var a=0,c=u.length;a<c;a++){var h=u[a];if(h.outsideRenderedLine)continue;var f=h.lineNumber-o;if(e&&h.ranges.length===1){var l=h.ranges[0];if(l.width<this._typicalHalfwidthCharacterWidth){var d=Math.round(l.left+l.width/2),v=Math.max(0,Math.round(d-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new Oy(v,this._typicalHalfwidthCharacterWidth)}}for(var l=0,d=h.ranges.length;l<d;l++){var v=r&&h.continuesOnNextLine&&d===1,A=h.ranges[l],g='<div class="cdr '+n+'" style="left:'+String(A.left)+"px;width:"+(v?"100%;":String(A.width)+"px;")+'"></div>';s[f]+=g}}};i.prototype.render=function(t,i){if(!this._renderResult)return"";var n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]};return i}(rx);var YB=function(t){__extends(i,t);function i(i,n,r,e){var o=t.call(this,i)||this;var s=o._context.configuration.options,u=s.get(103),a=s.get(75),c=s.get(40),h=s.get(106),f={listenOnDomNode:r.domNode,className:"editor-scrollable "+sx(i.theme.type),useShadows:!1,lazyRender:!0,vertical:u.vertical,horizontal:u.horizontal,verticalHasArrows:u.verticalHasArrows,horizontalHasArrows:u.horizontalHasArrows,verticalScrollbarSize:u.verticalScrollbarSize,verticalSliderSize:u.verticalSliderSize,horizontalScrollbarSize:u.horizontalScrollbarSize,horizontalSliderSize:u.horizontalSliderSize,handleMouseWheel:u.handleMouseWheel,alwaysConsumeMouseWheel:u.alwaysConsumeMouseWheel,arrowSize:u.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:c,scrollPredominantAxis:h,scrollByPage:u.scrollByPage};o.scrollbar=o._register(new Nk(n.domNode,f,o._context.viewLayout.getScrollable())),Fy.write(o.scrollbar.getDomNode(),6),o.scrollbarDomNode=th(o.scrollbar.getDomNode()),o.scrollbarDomNode.setPosition("absolute"),o._setLayout();var l=function(t,i,n){var r={};if(i){var e=t.scrollTop;e&&(r.scrollTop=o._context.viewLayout.getCurrentScrollTop()+e,t.scrollTop=0)}if(n){var e=t.scrollLeft;e&&(r.scrollLeft=o._context.viewLayout.getCurrentScrollLeft()+e,t.scrollLeft=0)}o._context.viewModel.viewLayout.setScrollPosition(r,1)};o._register(Oa(r.domNode,"scroll",(function(t){return l(r.domNode,!0,!0)}))),o._register(Oa(n.domNode,"scroll",(function(t){return l(n.domNode,!0,!1)}))),o._register(Oa(e.domNode,"scroll",(function(t){return l(e.domNode,!0,!1)}))),o._register(Oa(o.scrollbarDomNode.domNode,"scroll",(function(t){return l(o.scrollbarDomNode.domNode,!0,!1)})));return o}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype._setLayout=function(){var t=this._context.configuration.options,i=t.get(145);this.scrollbarDomNode.setLeft(i.contentLeft),t.get(73).side==="right"?this.scrollbarDomNode.setWidth(i.contentWidth+i.minimap.minimapWidth):this.scrollbarDomNode.setWidth(i.contentWidth),this.scrollbarDomNode.setHeight(i.height)};i.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()};i.prototype.getDomNode=function(){return this.scrollbarDomNode};i.prototype.delegateVerticalScrollbarPointerDown=function(t){this.scrollbar.delegateVerticalScrollbarPointerDown(t)};i.prototype.delegateScrollFromMouseWheelEvent=function(t){this.scrollbar.delegateScrollFromMouseWheelEvent(t)};i.prototype.onConfigurationChanged=function(t){if(t.hasChanged(103)||t.hasChanged(75)||t.hasChanged(40)){var i=this._context.configuration.options,n=i.get(103),r=i.get(75),e=i.get(40),o=i.get(106),s={vertical:n.vertical,horizontal:n.horizontal,verticalScrollbarSize:n.verticalScrollbarSize,horizontalScrollbarSize:n.horizontalScrollbarSize,scrollByPage:n.scrollByPage,handleMouseWheel:n.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:e,scrollPredominantAxis:o};this.scrollbar.updateOptions(s)}return t.hasChanged(145)&&this._setLayout(),!0};i.prototype.onScrollChanged=function(t){return!0};i.prototype.onThemeChanged=function(t){return this.scrollbar.updateClassName("editor-scrollable "+sx(this._context.theme.type)),!0};i.prototype.prepareRender=function(t){};i.prototype.render=function(t){this.scrollbar.renderNow()};return i}(_y);var JB=function(){function t(t,i,n,r,e){this.startLineNumber=t,this.endLineNumber=i,this.className=n,this.tooltip=r,this._decorationToRenderBrand=void 0,this.zIndex=e!==null&&e!==void 0?e:0}return t}();var PB=function(){function t(t,i,n){this.className=t,this.zIndex=i,this.tooltip=n}return t}();var WB=function(){function t(){this.decorations=[]}t.prototype.add=function(t){this.decorations.push(t)};t.prototype.getDecorations=function(){return this.decorations};return t}();var GB=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._render=function(t,i,n){var r=[];for(var e=t;e<=i;e++)r[e-t]=new WB;if(n.length===0)return r;n.sort((function(t,i){return t.className===i.className?t.startLineNumber===i.startLineNumber?t.endLineNumber-i.endLineNumber:t.startLineNumber-i.startLineNumber:t.className<i.className?-1:1}));var o=null,s=0;for(var e=0,u=n.length;e<u;e++){var a=n[e],c=a.className,h=a.zIndex;var f=Math.max(a.startLineNumber,t)-t;var l=Math.min(a.endLineNumber,i)-t;o===c?(f=Math.max(s+1,f),s=Math.max(s,l)):(o=c,s=l);for(var d=f;d<=s;d++)r[d].add(new PB(c,h,a.tooltip))}return r};return i}(rx);var VB=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._widgets={},n._context=i;var r=n._context.configuration.options,e=r.get(145);n.domNode=th(document.createElement("div")),n.domNode.setClassName("glyph-margin-widgets"),n.domNode.setPosition("absolute"),n.domNode.setTop(0),n._lineHeight=r.get(67),n._glyphMargin=r.get(57),n._glyphMarginLeft=e.glyphMarginLeft,n._glyphMarginWidth=e.glyphMarginWidth,n._glyphMarginDecorationLaneCount=e.glyphMarginDecorationLaneCount,n._managedDomNodes=[],n._decorationGlyphsToRender=[];return n}i.prototype.dispose=function(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},t.prototype.dispose.call(this)};i.prototype.getWidgets=function(){return Object.values(this._widgets)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(145);return this._lineHeight=i.get(67),this._glyphMargin=i.get(57),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._glyphMarginDecorationLaneCount=n.glyphMarginDecorationLaneCount,!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.addWidget=function(t){var i=th(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:t.getPosition(),domNode:i,renderInfo:null},i.setPosition("absolute"),i.setDisplay("none"),i.setAttribute("widgetId",t.getId()),this.domNode.appendChild(i),this.setShouldRender()};i.prototype.setWidgetPosition=function(t,i){var n=this._widgets[t.getId()];return(n.preference.lane!==i.lane||n.preference.zIndex!==i.zIndex||!Zr.equalsRange(n.preference.range,i.range))&&(n.preference=i,this.setShouldRender(),!0)};i.prototype.removeWidget=function(t){var i;var n=t.getId();if(this._widgets[n]){var r=this._widgets[n].domNode.domNode;delete this._widgets[n],(i=r.parentNode)===null||i===void 0||i.removeChild(r),this.setShouldRender()}};i.prototype._collectDecorationBasedGlyphRenderRequest=function(t,i){var n,r,e;var o=t.visibleRange.startLineNumber,s=t.visibleRange.endLineNumber,u=t.getDecorationsInViewport();for(var a=0,c=u;a<c.length;a++){var h=c[a];var f=h.options.glyphMarginClassName;if(!f)continue;var l=Math.max(h.range.startLineNumber,o),d=Math.min(h.range.endLineNumber,s),v=(r=(n=h.options.glyphMargin)===null||n===void 0?void 0:n.position)!==null&&r!==void 0?r:Fv.Center,A=(e=h.options.zIndex)!==null&&e!==void 0?e:0;for(var g=l;g<=d;g++){var w=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new qr(g,0)),p=this._context.viewModel.glyphLanes.getLanesAtLine(w.lineNumber).indexOf(v);i.push(new KB(g,p,A,f))}}};i.prototype._collectWidgetBasedGlyphRenderRequest=function(t,i){var n=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber;for(var e=0,o=Object.values(this._widgets);e<o.length;e++){var s=o[e];var u=s.preference.range,a=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(Zr.lift(u)),c=a.startLineNumber,h=a.endLineNumber;if(!c||!h||h<n||c>r)continue;var f=Math.max(c,n),l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new qr(f,0)),d=this._context.viewModel.glyphLanes.getLanesAtLine(l.lineNumber).indexOf(s.preference.lane);i.push(new XB(f,d,s.preference.zIndex,s))}};i.prototype._collectSortedGlyphRenderRequests=function(t){var i=[];return this._collectDecorationBasedGlyphRenderRequest(t,i),this._collectWidgetBasedGlyphRenderRequest(t,i),i.sort((function(t,i){return t.lineNumber===i.lineNumber?t.laneIndex===i.laneIndex?t.zIndex===i.zIndex?i.type===t.type?t.type===0&&i.type===0?t.className<i.className?-1:1:0:i.type-t.type:i.zIndex-t.zIndex:t.laneIndex-i.laneIndex:t.lineNumber-i.lineNumber})),i};i.prototype.prepareRender=function(t){if(!this._glyphMargin)return void(this._decorationGlyphsToRender=[]);for(var i=0,n=Object.values(this._widgets);i<n.length;i++){var r=n[i];r.renderInfo=null}var e=new tt(this._collectSortedGlyphRenderRequests(t)),o=[];var s=function(){var t=e.peek();if(!t)return"break";var i=e.takeWhile((function(i){return i.lineNumber===t.lineNumber&&i.laneIndex===t.laneIndex}));if(!i||i.length===0)return"break";var n=i[0];if(n.type===0){var r=[];for(var s=0,u=i;s<u.length;s++){var a=u[s];if(a.zIndex!==n.zIndex||a.type!==n.type)break;r.length!==0&&r[r.length-1]===a.className||r.push(a.className)}o.push(n.accept(r.join(" ")))}else n.widget.renderInfo={lineNumber:n.lineNumber,laneIndex:n.laneIndex}};for(;e.length>0;){var u=s();if(u==="break")break}this._decorationGlyphsToRender=o};i.prototype.render=function(t){if(!this._glyphMargin){for(var i=0,n=Object.values(this._widgets);i<n.length;i++){var r=n[i];r.domNode.setDisplay("none")}for(;this._managedDomNodes.length>0;){var r=this._managedDomNodes.pop();r==null||r.domNode.remove()}return}var e=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(var o=0,s=Object.values(this._widgets);o<s.length;o++){var r=s[o];if(r.renderInfo){var u=t.viewportData.relativeVerticalOffset[r.renderInfo.lineNumber-t.viewportData.startLineNumber],a=this._glyphMarginLeft+r.renderInfo.laneIndex*this._lineHeight;r.domNode.setDisplay("block"),r.domNode.setTop(u),r.domNode.setLeft(a),r.domNode.setWidth(e),r.domNode.setHeight(this._lineHeight)}else r.domNode.setDisplay("none")}for(var r=0;r<this._decorationGlyphsToRender.length;r++){var u=this._decorationGlyphsToRender[r],a=t.viewportData.relativeVerticalOffset[u.lineNumber-t.viewportData.startLineNumber],c=this._glyphMarginLeft+u.laneIndex*this._lineHeight;var h=void 0;r<this._managedDomNodes.length?h=this._managedDomNodes[r]:(h=th(document.createElement("div")),this._managedDomNodes.push(h),this.domNode.appendChild(h)),h.setClassName("cgmr codicon "+u.combinedClassName),h.setPosition("absolute"),h.setTop(a),h.setLeft(c),h.setWidth(e),h.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){var r=this._managedDomNodes.pop();r==null||r.domNode.remove()}};return i}(_y);var KB=function(){function t(t,i,n,r){this.lineNumber=t,this.laneIndex=i,this.zIndex=n,this.className=r,this.type=0}t.prototype.accept=function(t){return new qB(this.lineNumber,this.laneIndex,t)};return t}();var XB=function(){function t(t,i,n,r){this.lineNumber=t,this.laneIndex=i,this.zIndex=n,this.widget=r,this.type=1}return t}();var qB=function(){function t(t,i,n){this.lineNumber=t,this.laneIndex=i,this.combinedClassName=n}return t}();var ZB=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._isDisposed=!1;return i}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._isDisposed=!0};i.prototype.assertNotDisposed=function(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")};return i}(Cn);function $B(t,i){var n=0,r=0;var e=t.length;for(;r<e;){var o=t.charCodeAt(r);if(o===32)n++;else{if(o!==9)break;n=n-n%i+i}r++}return r===e?-1:n}(function(t){t[t.Disabled=0]="Disabled",t[t.EnabledForActive=1]="EnabledForActive",t[t.Enabled=2]="Enabled"})(bB||(bB={}));var tC=function(){function t(t,i,n,r,e,o){if(this.visibleColumn=t,this.column=i,this.className=n,this.horizontalLine=r,this.forWrappedLinesAfterColumn=e,this.forWrappedLinesBeforeOrAtColumn=o,t!==-1==(i!==-1))throw new Error}return t}();var iC=function(){function t(t,i){this.top=t,this.endColumn=i}return t}();var nC=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.textModel=i,r.languageConfigurationService=n;return r}i.prototype.getLanguageConfiguration=function(t){return this.languageConfigurationService.getLanguageConfiguration(t)};i.prototype._computeIndentLevel=function(t){return $B(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)};i.prototype.getActiveIndentGuide=function(t,i,n){var r=this;this.assertNotDisposed();var e=this.textModel.getLineCount();if(t<1||t>e)throw new mn("Illegal value for lineNumber");var o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(o&&o.offSide);var u=-2,a=-1,c=-2,h=-1;var f=function(t){if(u!==-1&&(u===-2||u>t-1)){u=-1,a=-1;for(var i=t-2;i>=0;i--){var n=r._computeIndentLevel(i);if(n>=0){u=i,a=n;break}}}if(c===-2){c=-1,h=-1;for(var i=t;i<e;i++){var n=r._computeIndentLevel(i);if(n>=0){c=i,h=n;break}}}};var l=-2,d=-1,v=-2,A=-1;var g=function(t){if(l===-2){l=-1,d=-1;for(var i=t-2;i>=0;i--){var n=r._computeIndentLevel(i);if(n>=0){l=i,d=n;break}}}if(v!==-1&&(v===-2||v<t-1)){v=-1,A=-1;for(var i=t;i<e;i++){var n=r._computeIndentLevel(i);if(n>=0){v=i,A=n;break}}}};var w=0,p=!0,m=0,b=!0,y=0,k=0;for(var x=0;p||b;x++){var E=t-x,B=t+x;x>1&&(E<1||E<i)&&(p=!1),x>1&&(B>e||B>n)&&(b=!1),x>5e4&&(p=!1,b=!1);var C=-1;if(p&&E>=1){var D=this._computeIndentLevel(E-1);D>=0?(c=E-1,h=D,C=Math.ceil(D/this.textModel.getOptions().indentSize)):(f(E),C=this._getIndentLevelForWhitespaceLine(s,a,h))}var M=-1;if(b&&B<=e){var D=this._computeIndentLevel(B-1);D>=0?(l=B-1,d=D,M=Math.ceil(D/this.textModel.getOptions().indentSize)):(g(B),M=this._getIndentLevelForWhitespaceLine(s,d,A))}if(x!==0){if(x===1){if(B<=e&&M>=0&&k+1===M){p=!1,w=B,m=B,y=M;continue}if(E>=1&&C>=0&&C-1===k){b=!1,w=E,m=E,y=C;continue}if(w=t,m=t,y=k,y===0)return{startLineNumber:w,endLineNumber:m,indent:y}}p&&(C>=y?w=E:p=!1),b&&(M>=y?m=B:b=!1)}else k=C}return{startLineNumber:w,endLineNumber:m,indent:y}};i.prototype.getLinesBracketGuides=function(t,i,n,r){var e;var o=[];for(var s=t;s<=i;s++)o.push([]);var u=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new Zr(t,1,i,this.textModel.getLineMaxColumn(i))).toArray();var a;n&&u.length>0&&(a=(e=qv((t<=n.lineNumber&&n.lineNumber<=i?u:this.textModel.bracketPairs.getBracketPairsInRange(Zr.fromPositions(n)).toArray()).filter((function(t){return Zr.strictContainsPosition(t.range,n)})),(function(t){return!0})))===null||e===void 0?void 0:e.range);var c=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,h=new rC;for(var f=0,l=u;f<l.length;f++){var s=l[f];if(!s.closingBracketRange)continue;var d=a&&s.range.equalsRange(a);if(!d&&!r.includeInactive)continue;var v=h.getInlineClassName(s.nestingLevel,s.nestingLevelOfEqualBracketType,c)+(r.highlightActive&&d?" "+h.activeClassName:""),A=s.openingBracketRange.getStartPosition(),g=s.closingBracketRange.getStartPosition(),w=r.horizontalGuides===bB.Enabled||r.horizontalGuides===bB.EnabledForActive&&d;if(s.range.startLineNumber===s.range.endLineNumber){w&&o[s.range.startLineNumber-t].push(new tC(-1,s.openingBracketRange.getEndPosition().column,v,new iC(!1,g.column),-1,-1));continue}var p=this.getVisibleColumnFromPosition(g),m=this.getVisibleColumnFromPosition(s.openingBracketRange.getStartPosition()),b=Math.min(m,p,s.minVisibleColumnIndentation+1);var y=!1;Fo(this.textModel.getLineContent(s.closingBracketRange.startLineNumber))<s.closingBracketRange.startColumn-1&&(y=!0);var k=Math.max(A.lineNumber,t),x=Math.min(g.lineNumber,i),E=y?1:0;for(var B=k;B<x+E;B++)o[B-t].push(new tC(b,-1,v,null,B===A.lineNumber?A.column:-1,B===g.lineNumber?g.column:-1));w&&(A.lineNumber>=t&&m>b&&o[A.lineNumber-t].push(new tC(b,-1,v,new iC(!1,A.column),-1,-1)),g.lineNumber<=i&&p>b&&o[g.lineNumber-t].push(new tC(b,-1,v,new iC(!y,g.column),-1,-1)))}for(var C=0,D=o;C<D.length;C++){var s=D[C];s.sort((function(t,i){return t.visibleColumn-i.visibleColumn}))}return o};i.prototype.getVisibleColumnFromPosition=function(t){return $y.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1};i.prototype.getLinesIndentGuides=function(t,i){this.assertNotDisposed();var n=this.textModel.getLineCount();if(t<1||t>n)throw new Error("Illegal value for startLineNumber");if(i<1||i>n)throw new Error("Illegal value for endLineNumber");var r=this.textModel.getOptions(),e=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(e&&e.offSide),s=new Array(i-t+1);var u=-2,a=-1,c=-2,h=-1;for(var f=t;f<=i;f++){var l=f-t,d=this._computeIndentLevel(f-1);if(d>=0)u=f-1,a=d,s[l]=Math.ceil(d/r.indentSize);else{if(u===-2){u=-1,a=-1;for(var v=f-2;v>=0;v--){var A=this._computeIndentLevel(v);if(A>=0){u=v,a=A;break}}}if(c!==-1&&(c===-2||c<f-1)){c=-1,h=-1;for(var v=f;v<n;v++){var A=this._computeIndentLevel(v);if(A>=0){c=v,h=A;break}}}s[l]=this._getIndentLevelForWhitespaceLine(o,a,h)}}return s};i.prototype._getIndentLevelForWhitespaceLine=function(t,i,n){var r=this.textModel.getOptions();return i===-1||n===-1?0:i<n?1+Math.floor(i/r.indentSize):i===n||t?Math.ceil(n/r.indentSize):1+Math.floor(n/r.indentSize)};return i}(ZB);var rC=function(){function t(){this.activeClassName="indent-active"}t.prototype.getInlineClassName=function(t,i,n){return this.getInlineClassNameOfLevel(n?i:t)};t.prototype.getInlineClassNameOfLevel=function(t){return"bracket-indent-guide lvl-"+t%30};return t}();var eC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i,n._primaryPosition=null;var r=n._context.configuration.options,e=r.get(146),o=r.get(50);n._spaceWidth=o.spaceWidth,n._maxIndentLeft=e.wrappingColumn===-1?-1:e.wrappingColumn*o.typicalHalfwidthCharacterWidth,n._bracketPairGuideOptions=r.get(16),n._renderResult=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(146),r=i.get(50);return this._spaceWidth=r.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=i.get(16),!0};i.prototype.onCursorStateChanged=function(t){var i;var n=t.selections[0].getPosition();return!(!((i=this._primaryPosition)===null||i===void 0)&&i.equals(n))&&(this._primaryPosition=n,!0)};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.onLanguageConfigurationChanged=function(t){return!0};i.prototype.prepareRender=function(t){var i,n,r,e;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1)return void(this._renderResult=null);var o=t.visibleRange.startLineNumber,s=t.visibleRange.endLineNumber,u=t.scrollWidth,a=this._primaryPosition,c=this.getGuidesByLine(o,Math.min(s+1,this._context.viewModel.getLineCount()),a),h=[];for(var f=o;f<=s;f++){var l=f-o,d=c[l];var v="";var A=(n=(i=t.visibleRangeForPosition(new qr(f,1)))===null||i===void 0?void 0:i.left)!==null&&n!==void 0?n:0;for(var g=0,w=d;g<w.length;g++){var p=w[g];var m=p.column===-1?A+(p.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new qr(f,p.column)).left;if(m>u||this._maxIndentLeft>0&&m>this._maxIndentLeft)break;var b=p.horizontalLine?p.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",y=p.horizontalLine?((e=(r=t.visibleRangeForPosition(new qr(f,p.horizontalLine.endColumn)))===null||r===void 0?void 0:r.left)!==null&&e!==void 0?e:m+this._spaceWidth)-m:this._spaceWidth;v+='<div class="core-guide '.concat(p.className," ").concat(b,'" style="left:').concat(m,"px;width:").concat(y,'px"></div>')}h[l]=v}this._renderResult=h};i.prototype.getGuidesByLine=function(t,i,n){var r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,i,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?bB.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?bB.EnabledForActive:bB.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,e=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,i):null;var o=0,s=0,u=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&n){var a=this._context.viewModel.getActiveIndentGuide(n.lineNumber,t,i);o=a.startLineNumber,s=a.endLineNumber,u=a.indent}var c=this._context.viewModel.model.getOptions().indentSize,h=[];for(var a=t;a<=i;a++){var f=new Array;h.push(f);var l=r?r[a-t]:[],d=new tt(l),v=e?e[a-t]:0;var A=function(t){var i=(t-1)*c+1,n=(g._bracketPairGuideOptions.highlightActiveIndentation==="always"||l.length===0)&&o<=a&&a<=s&&t===u;f.push.apply(f,d.takeWhile((function(t){return t.visibleColumn<i}))||[]);var r=d.peek();r&&r.visibleColumn===i&&!r.horizontalLine||f.push(new tC(i,-1,"core-guide-indent lvl-"+(t-1)%30+(n?" indent-active":""),null,-1,-1))};var g=this;for(var w=1;w<=v;w++){A(w)}f.push.apply(f,d.takeWhile((function(t){return!0}))||[])}return h};i.prototype.render=function(t,i){if(!this._renderResult)return"";var n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]};return i}(rx);function oC(t){if(!t||!t.isTransparent())return t}cx((function(t,i){var n=[{bracketColor:Px,guideColor:Zx,guideColorActive:eE},{bracketColor:Wx,guideColor:$x,guideColorActive:oE},{bracketColor:Gx,guideColor:tE,guideColorActive:sE},{bracketColor:Vx,guideColor:iE,guideColorActive:uE},{bracketColor:Kx,guideColor:nE,guideColorActive:aE},{bracketColor:Xx,guideColor:rE,guideColorActive:cE}],r=new rC,e=[{indentColor:xx,indentColorActive:_x},{indentColor:Ex,indentColorActive:Fx},{indentColor:Bx,indentColorActive:Sx},{indentColor:Cx,indentColorActive:Ix},{indentColor:Dx,indentColorActive:Qx},{indentColor:Mx,indentColorActive:Ox}],o=n.map((function(i){var n,r;var e=t.getColor(i.bracketColor),o=t.getColor(i.guideColor),s=t.getColor(i.guideColorActive),u=oC((n=oC(o))!==null&&n!==void 0?n:e==null?void 0:e.transparent(.3)),a=oC((r=oC(s))!==null&&r!==void 0?r:e);if(u&&a)return{guideColor:u,guideColorActive:a}})).filter(ht),s=e.map((function(i){var n=t.getColor(i.indentColor),r=t.getColor(i.indentColorActive),e=oC(n),o=oC(r);if(e&&o)return{indentColor:e,indentColorActive:o}})).filter(ht);if(o.length>0){for(var u=0;u<30;u++){var a=o[u%o.length];i.addRule(".monaco-editor .".concat(r.getInlineClassNameOfLevel(u).replace(/ /g,".")," { --guide-color: ").concat(a.guideColor,"; --guide-color-active: ").concat(a.guideColorActive,"; }"))}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .vertical.".concat(r.activeClassName," { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }")),i.addRule(".monaco-editor .horizontal-top.".concat(r.activeClassName," { border-top: 1px solid var(--guide-color-active); }")),i.addRule(".monaco-editor .horizontal-bottom.".concat(r.activeClassName," { border-bottom: 1px solid var(--guide-color-active); }"))}if(s.length>0){for(var u=0;u<30;u++){var a=s[u%s.length];i.addRule(".monaco-editor .lines-content .core-guide-indent.lvl-".concat(u," { --indent-color: ").concat(a.indentColor,"; --indent-color-active: ").concat(a.indentColorActive,"; }"))}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}}));var sC=function(){function t(t,i){this._domNode=t,this.endNode=i,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}Object.defineProperty(t.prototype,"didDomLayout",{get:function(){return this._didDomLayout},enumerable:false,configurable:true});t.prototype.readClientRect=function(){if(!this._clientRectRead){this._clientRectRead=!0;var t=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}};Object.defineProperty(t.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"clientRectScale",{get:function(){return this._clientRectRead||this.readClientRect(),this._clientRectScale},enumerable:false,configurable:true});t.prototype.markDidDomLayout=function(){this._didDomLayout=!0};return t}();var uC=function(){function t(){this._currentVisibleRange=new Zr(1,1,1,1)}t.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange};t.prototype.setCurrentVisibleRange=function(t){this._currentVisibleRange=t};return t}();var aC=function(){function t(t,i,n,r,e,o,s){this.minimalReveal=t,this.lineNumber=i,this.startColumn=n,this.endColumn=r,this.startScrollTop=e,this.stopScrollTop=o,this.scrollType=s,this.type="range",this.minLineNumber=i,this.maxLineNumber=i}return t}();var cC=function(){function t(t,i,n,r,e){this.minimalReveal=t,this.selections=i,this.startScrollTop=n,this.stopScrollTop=r,this.scrollType=e,this.type="selections";var o=i[0].startLineNumber,s=i[0].endLineNumber;for(var u=1,a=i.length;u<a;u++){var c=i[u];o=Math.min(o,c.startLineNumber),s=Math.max(s,c.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=s}return t}();var hC=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._linesContent=n,r._textRangeRestingSpot=document.createElement("div"),r._visibleLines=new BB(r),r.domNode=r._visibleLines.domNode;var e=r._context.configuration,o=r._context.configuration.options,s=o.get(50),u=o.get(146);r._lineHeight=o.get(67),r._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,r._isViewportWrapping=u.isViewportWrapping,r._revealHorizontalRightPadding=o.get(100),r._cursorSurroundingLines=o.get(29),r._cursorSurroundingLinesStyle=o.get(30),r._canUseLayerHinting=!o.get(32),r._viewLineOptions=new Jy(e,r._context.theme.type),Fy.write(r.domNode,8),r.domNode.setClassName("view-lines ".concat(lE)),ih(r.domNode,s),r._maxLineWidth=0,r._asyncUpdateLineWidths=new qs((function(){r._updateLineWidthsSlow()}),200),r._asyncCheckMonospaceFontAssumptions=new qs((function(){r._checkMonospaceFontAssumptions()}),2e3),r._lastRenderedData=new uC,r._horizontalRevealRequest=null,r._stickyScrollEnabled=o.get(115).enabled,r._maxNumberStickyLines=o.get(115).maxLineCount;return r}i.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),t.prototype.dispose.call(this)};i.prototype.getDomNode=function(){return this.domNode};i.prototype.createVisibleLine=function(){return new Py(this._viewLineOptions)};i.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(146)&&(this._maxLineWidth=0);var i=this._context.configuration.options,n=i.get(50),r=i.get(146);return this._lineHeight=i.get(67),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=i.get(100),this._cursorSurroundingLines=i.get(29),this._cursorSurroundingLinesStyle=i.get(30),this._canUseLayerHinting=!i.get(32),this._stickyScrollEnabled=i.get(115).enabled,this._maxNumberStickyLines=i.get(115).maxLineCount,ih(this.domNode,n),this._onOptionsMaybeChanged(),t.hasChanged(145)&&(this._maxLineWidth=0),!0};i.prototype._onOptionsMaybeChanged=function(){var t=this._context.configuration,i=new Jy(t,this._context.theme.type);if(!this._viewLineOptions.equals(i)){this._viewLineOptions=i;var n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(var e=n;e<=r;e++)this._visibleLines.getVisibleLine(e).onOptionsChanged(this._viewLineOptions);return!0}return!1};i.prototype.onCursorStateChanged=function(t){var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();var r=!1;for(var e=i;e<=n;e++)r=this._visibleLines.getVisibleLine(e).onSelectionChanged()||r;return r};i.prototype.onDecorationsChanged=function(t){{var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(var r=i;r<=n;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0};i.prototype.onFlushed=function(t){var i=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,i};i.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)};i.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)};i.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)};i.prototype.onRevealRangeRequest=function(t){var i=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.minimalReveal,t.range,t.selections,t.verticalType);if(i===-1)return!1;var n=this._context.viewLayout.validateScrollPosition({scrollTop:i});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new aC(t.minimalReveal,t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new cC(t.minimalReveal,t.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;var r=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(n,r),!0};i.prototype.onScrollChanged=function(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){var i=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<i||t.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0};i.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)};i.prototype.onZonesChanged=function(t){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)};i.prototype.onThemeChanged=function(t){return this._onOptionsMaybeChanged()};i.prototype.getPositionFromDOMInfo=function(t,i){var n=this._getViewLineDomNode(t);if(n===null)return null;var r=this._getLineNumberFor(n);if(r===-1||r<1||r>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(r)===1)return new qr(r,1);var e=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<e||r>o)return null;var s=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(t,i);var u=this._context.viewModel.getLineMinColumn(r);return s<u&&(s=u),new qr(r,s)};i.prototype._getViewLineDomNode=function(t){for(;t&&t.nodeType===1;){if(t.className===Py.CLASS_NAME)return t;t=t.parentElement}return null};i.prototype._getLineNumberFor=function(t){var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(var r=i;r<=n;r++)if(t===this._visibleLines.getVisibleLine(r).getDomNode())return r;return-1};i.prototype.getLineWidth=function(t){var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();if(t<i||t>n)return-1;var r=new sC(this.domNode.domNode,this._textRangeRestingSpot),e=this._visibleLines.getVisibleLine(t).getWidth(r);return this._updateLineWidthsSlowIfDomDidLayout(r),e};i.prototype.linesVisibleRangesForRange=function(t,i){if(this.shouldRender())return null;var n=t.endLineNumber,r=Zr.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;var e=[];var o=0;var s=new sC(this.domNode.domNode,this._textRangeRestingSpot);var u=0;i&&(u=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new qr(r.startLineNumber,1)).lineNumber);var a=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(var h=r.startLineNumber;h<=r.endLineNumber;h++){if(h<a||h>c)continue;var f=h===r.startLineNumber?r.startColumn:1,l=h!==r.endLineNumber,d=l?this._context.viewModel.getLineMaxColumn(h):r.endColumn,v=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(h,f,d,s);if(v){if(i&&h<n){var A=u;u=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new qr(h+1,1)).lineNumber,A!==u&&(v.ranges[v.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}e[o++]=new Qy(v.outsideRenderedLine,h,Oy.from(v.ranges),l)}}return this._updateLineWidthsSlowIfDomDidLayout(s),o===0?null:e};i.prototype._visibleRangesForLineRange=function(t,i,n){if(this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber())return null;var r=new sC(this.domNode.domNode,this._textRangeRestingSpot),e=this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(t,i,n,r);return this._updateLineWidthsSlowIfDomDidLayout(r),e};i.prototype.visibleRangeForPosition=function(t){var i=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return i?new Ry(i.outsideRenderedLine,i.ranges[0].left):null};i.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)};i.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)};i.prototype._updateLineWidthsSlowIfDomDidLayout=function(t){t.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))};i.prototype._updateLineWidths=function(t){var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();var r=1,e=!0;for(var o=i;o<=n;o++){var s=this._visibleLines.getVisibleLine(o);!t||s.getWidthIsFast()?r=Math.max(r,s.getWidth(null)):e=!1}return e&&i===1&&n===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),e};i.prototype._checkMonospaceFontAssumptions=function(){var t=-1,i=-1;var n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(var e=n;e<=r;e++){var o=this._visibleLines.getVisibleLine(e);if(o.needsMonospaceFontCheck()){var s=o.getWidth(null);s>i&&(i=s,t=e)}}if(t!==-1&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(var e=n;e<=r;e++)this._visibleLines.getVisibleLine(e).onMonospaceAssumptionsInvalidated()};i.prototype.prepareRender=function(){throw new Error("Not supported")};i.prototype.render=function(){throw new Error("Not supported")};i.prototype.renderText=function(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var i=this._horizontalRevealRequest;if(t.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var n=this._computeScrollLeftToReveal(i);n&&(this._isViewportWrapping||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:n.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),Vt&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(var r=i;r<=n;r++)if(this._visibleLines.getVisibleLine(r).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var e=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-e),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())};i.prototype._ensureMaxLineWidth=function(t){var i=Math.ceil(t);this._maxLineWidth<i&&(this._maxLineWidth=i,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))};i.prototype._computeScrollTopToRevealRange=function(t,i,n,r,e,o){var s=t.top,u=t.height,a=s+u;var c,h,f;if(e&&e.length>0){var l=e[0].startLineNumber,d=e[0].endLineNumber;for(var v=1,A=e.length;v<A;v++){var g=e[v];l=Math.min(l,g.startLineNumber),d=Math.max(d,g.endLineNumber)}c=!1,h=this._context.viewLayout.getVerticalOffsetForLineNumber(l),f=this._context.viewLayout.getVerticalOffsetForLineNumber(d)+this._lineHeight}else{if(!r)return-1;c=!0,h=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),f=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight}var w,p=0,m=0;if((i==="mouse"||n)&&this._cursorSurroundingLinesStyle==="default")n||(p=this._lineHeight);else{var l=Math.min(u/this._lineHeight/2,this._cursorSurroundingLines);p=this._stickyScrollEnabled?Math.max(l,this._maxNumberStickyLines)*this._lineHeight:l*this._lineHeight,m=Math.max(0,l-1)*this._lineHeight}if(n||o!==0&&o!==4||(m+=this._lineHeight),h-=p,f+=m,f-h>u){if(!c)return-1;w=h}else if(o===5||o===6)if(o===6&&s<=h&&f<=a)w=s;else{var l=h-Math.max(5*this._lineHeight,.2*u),d=f-u;w=Math.max(d,l)}else if(o===1||o===2)if(o===2&&s<=h&&f<=a)w=s;else{var l=(h+f)/2;w=Math.max(0,l-u/2)}else w=this._computeMinimumScrolling(s,a,h,f,o===3,o===4);return w};i.prototype._computeScrollLeftToReveal=function(t){var n=this._context.viewLayout.getCurrentViewport(),r=this._context.configuration.options.get(145),e=n.left,o=e+n.width-r.verticalScrollbarWidth;var s=1073741824,u=0;if(t.type==="range"){var a=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!a)return null;for(var c=0,h=a.ranges;c<h.length;c++){var f=h[c];s=Math.min(s,Math.round(f.left)),u=Math.max(u,Math.round(f.left+f.width))}}else for(var l=0,d=t.selections;l<d.length;l++){var a=d[l];if(a.startLineNumber!==a.endLineNumber)return null;var f=this._visibleRangesForLineRange(a.startLineNumber,a.startColumn,a.endColumn);if(!f)return null;for(var v=0,A=f.ranges;v<A.length;v++){var g=A[v];s=Math.min(s,Math.round(g.left)),u=Math.max(u,Math.round(g.left+g.width))}}return t.minimalReveal||(s=Math.max(0,s-i.HORIZONTAL_EXTRA_PX),u+=this._revealHorizontalRightPadding),t.type==="selections"&&u-s>n.width?null:{scrollLeft:this._computeMinimumScrolling(e,o,s,u),maxHorizontalOffset:u}};i.prototype._computeMinimumScrolling=function(t,i,n,r,e,o){e=!!e,o=!!o;var s=(i|=0)-(t|=0);return(r|=0)-(n|=0)<s?e?n:o?Math.max(0,r-s):n<t?n:r>i?Math.max(0,r-s):t:n};return i}(_y);hC.HORIZONTAL_EXTRA_PX=30;var fC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i;var r=n._context.configuration.options.get(145);n._decorationsLeft=r.decorationsLeft,n._decorationsWidth=r.decorationsWidth,n._renderResult=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options.get(145);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype._getDecorations=function(t){var i,n;var r=t.getDecorationsInViewport(),e=[];var o=0;for(var s=0,u=r.length;s<u;s++){var a=r[s],c=a.options.linesDecorationsClassName,h=a.options.zIndex;c&&(e[o++]=new JB(a.range.startLineNumber,a.range.endLineNumber,c,(i=a.options.linesDecorationsTooltip)!==null&&i!==void 0?i:null,h));var f=a.options.firstLineDecorationClassName;f&&(e[o++]=new JB(a.range.startLineNumber,a.range.startLineNumber,f,(n=a.options.linesDecorationsTooltip)!==null&&n!==void 0?n:null,h))}return e};i.prototype.prepareRender=function(t){var i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,r=this._render(i,n,this._getDecorations(t)),e='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',o=[];for(var s=i;s<=n;s++){var u=s-i,a=r[u].getDecorations();var c="";for(var h=0,f=a;h<f.length;h++){var l=f[h];var d='<div class="cldr '+l.className;l.tooltip!==null&&(d+='" title="'+l.tooltip),d+=e,c+=d}o[u]=c}this._renderResult=o};i.prototype.render=function(t,i){return this._renderResult?this._renderResult[i-t]:""};return i}(GB);var lC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i,n._renderResult=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){return!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype._getDecorations=function(t){var i=t.getDecorationsInViewport(),n=[];var r=0;for(var e=0,o=i.length;e<o;e++){var s=i[e],u=s.options.marginClassName,a=s.options.zIndex;u&&(n[r++]=new JB(s.range.startLineNumber,s.range.endLineNumber,u,null,a))}return n};i.prototype.prepareRender=function(t){var i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,r=this._render(i,n,this._getDecorations(t)),e=[];for(var o=i;o<=n;o++){var s=o-i,u=r[s].getDecorations();var a="";for(var c=0,h=u;c<h.length;c++){var f=h[c];a+='<div class="cmdr '+f.className+'" style=""></div>'}e[s]=a}this._renderResult=e};i.prototype.render=function(t,i){return this._renderResult?this._renderResult[i-t]:""};return i}(GB);var dC=function(){function t(i,n,r,e){this._rgba8Brand=void 0,this.r=t._clamp(i),this.g=t._clamp(n),this.b=t._clamp(r),this.a=t._clamp(e)}t.prototype.equals=function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a};t._clamp=function(t){return t<0?0:t>255?255:0|t};return t}();dC.Empty=new dC(0,0,0,0);var vC=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._onDidChange=new Ln,i.onDidChange=i._onDidChange.event,i._updateColorMap(),i._register(ye.onDidChange((function(t){t.changedColorMap&&i._updateColorMap()})));return i}i.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new i),this._INSTANCE};i.prototype._updateColorMap=function(){var t=ye.getColorMap();if(!t)return this._colors=[dC.Empty],void(this._backgroundIsLight=!0);this._colors=[dC.Empty];for(var i=1;i<t.length;i++){var n=t[i].rgba;this._colors[i]=new dC(n.r,n.g,n.b,Math.round(255*n.a))}var r=t[2].getRelativeLuminance();this._backgroundIsLight=r>=.5,this._onDidChange.fire(void 0)};i.prototype.getColor=function(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]};i.prototype.backgroundIsLight=function(){return this._backgroundIsLight};return i}(Cn);vC._INSTANCE=null;var AC=function(){var t=[];for(var i=32;i<=126;i++)t.push(i);return t.push(65533),t}();var gC=function(){function t(i,n){this.scale=n,this._minimapCharRendererBrand=void 0,this.charDataNormal=t.soften(i,.8),this.charDataLight=t.soften(i,50/60)}t.soften=function(t,i){var n=new Uint8ClampedArray(t.length);for(var r=0,e=t.length;r<e;r++)n[r]=ev(t[r]*i);return n};t.prototype.renderChar=function(t,i,n,r,e,o,s,u,a,c,h){var f=1*this.scale,l=2*this.scale,d=h?1:l;if(i+f>t.width||n+d>t.height)return void console.warn("bad render request outside image data");var v=c?this.charDataLight:this.charDataNormal,A=function(t,i){return(t-=32)<0||t>96?i<=2?(t+96)%96:95:t}(r,a),g=4*t.width,w=s.r,p=s.g,m=s.b,b=e.r-w,y=e.g-p,k=e.b-m,x=Math.max(o,u),E=t.data;var B=A*f*l,C=n*g+4*i;for(var D=0;D<d;D++){var M=C;for(var _=0;_<f;_++){var F=v[B++]/255*(o/255);E[M++]=w+b*F,E[M++]=p+y*F,E[M++]=m+k*F,E[M++]=x}C+=g}};t.prototype.blockRenderChar=function(t,i,n,r,e,o,s,u){var a=1*this.scale,c=2*this.scale,h=u?1:c;if(i+a>t.width||n+h>t.height)return void console.warn("bad render request outside image data");var f=4*t.width,l=e/255*.5,d=o.r,v=o.g,A=o.b,g=d+(r.r-d)*l,w=v+(r.g-v)*l,p=A+(r.b-A)*l,m=Math.max(e,s),b=t.data;var y=n*f+4*i;for(var k=0;k<h;k++){var x=y;for(var E=0;E<a;E++)b[x++]=g,b[x++]=w,b[x++]=p,b[x++]=m;y+=f}};return t}();var wC={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},pC=function(t){var i=new Uint8ClampedArray(t.length/2);for(var n=0;n<t.length;n+=2)i[n>>1]=wC[t[n]]<<4|15&wC[t[n+1]];return i},mC={1:bn((function(){return pC("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")})),2:bn((function(){return pC("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")}))};var bC=function(){function t(){}t.create=function(i,n){if(this.lastCreated&&i===this.lastCreated.scale&&n===this.lastFontFamily)return this.lastCreated;var r;return r=mC[i]?new gC(mC[i](),i):t.createFromSampleData(t.createSampleData(n).data,i),this.lastFontFamily=n,this.lastCreated=r,r};t.createSampleData=function(t){var i=document.createElement("canvas"),n=i.getContext("2d");i.style.height="16px",i.height=16,i.width=960,i.style.width="960px",n.fillStyle="#ffffff",n.font="bold 16px ".concat(t),n.textBaseline="middle";var r=0;for(var e=0,o=AC;e<o.length;e++){var s=o[e];n.fillText(String.fromCharCode(s),r,8),r+=10}return n.getImageData(0,0,960,16)};t.createFromSampleData=function(i,n){if(i.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");var r=t._downsample(i,n);return new gC(r,n)};t._downsampleChar=function(t,i,n,r,e){var o=1*e,s=2*e;var u=r,a=0;for(var c=0;c<s;c++){var h=c/s*16,f=(c+1)/s*16;for(var l=0;l<o;l++){var d=l/o*10,v=(l+1)/o*10;var A=0,g=0;for(var w=h;w<f;w++){var p=i+3840*Math.floor(w),m=1-(w-Math.floor(w));for(var b=d;b<v;b++){var y=1-(b-Math.floor(b)),k=p+4*Math.floor(b),x=y*m;g+=x,A+=t[k]*t[k+3]/255*x}}var E=A/g;a=Math.max(a,E),n[u++]=ev(E)}}return a};t._downsample=function(t,i){var n=2*i*1*i,r=96*n,e=new Uint8ClampedArray(r);var o=0,s=0,u=0;for(var a=0;a<96;a++)u=Math.max(u,this._downsampleChar(t,s,e,o,i)),o+=n,s+=40;if(u>0){var a=255/u;for(var c=0;c<r;c++)e[c]*=a}return e};return t}();var yC=Wt?'"Segoe WPC", "Segoe UI", sans-serif':Gt?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif';var kC=function(){function t(i,n,r){var e=this;var o=i.options,s=o.get(143),u=o.get(145),a=u.minimap,c=o.get(50),h=o.get(73);this.renderMinimap=a.renderMinimap,this.size=h.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=o.get(105),this.paddingTop=o.get(84).top,this.paddingBottom=o.get(84).bottom,this.showSlider=h.showSlider,this.autohide=h.autohide,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this.lineHeight=o.get(67),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=u.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=u.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=yC,this.sectionHeaderFontSize=h.sectionHeaderFontSize*s,this.sectionHeaderFontColor=t._getSectionHeaderColor(n,r.getColor(1)),this.charRenderer=bn((function(){return bC.create(e.fontScale,c.fontFamily)})),this.defaultBackgroundColor=r.getColor(2),this.backgroundColor=t._getMinimapBackground(n,this.defaultBackgroundColor),this.foregroundAlpha=t._getMinimapForegroundOpacity(n)}t._getMinimapBackground=function(t,i){var n=t.getColor(Hm);return n?new dC(n.rgba.r,n.rgba.g,n.rgba.b,Math.round(255*n.rgba.a)):i};t._getMinimapForegroundOpacity=function(t){var i=t.getColor(Ym);return i?dC._clamp(Math.round(255*i.rgba.a)):255};t._getSectionHeaderColor=function(t,i){var n=t.getColor(Np);return n?new dC(n.rgba.r,n.rgba.g,n.rgba.b,Math.round(255*n.rgba.a)):i};t.prototype.equals=function(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.paddingTop===t.paddingTop&&this.paddingBottom===t.paddingBottom&&this.showSlider===t.showSlider&&this.autohide===t.autohide&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.sectionHeaderFontSize===t.sectionHeaderFontSize&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha};return t}();var xC=function(){function t(t,i,n,r,e,o,s,u,a){this.scrollTop=t,this.scrollHeight=i,this.sliderNeeded=n,this._computedSliderRatio=r,this.sliderTop=e,this.sliderHeight=o,this.topPaddingLineCount=s,this.startLineNumber=u,this.endLineNumber=a}t.prototype.getDesiredScrollTopFromDelta=function(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)};t.prototype.getDesiredScrollTopFromTouchLocation=function(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)};t.prototype.intersectWithViewport=function(t){var i=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumber,t.endLineNumber);return i>n?null:[i,n]};t.prototype.getYForLineNumber=function(t,i){return+(t-this.startLineNumber+this.topPaddingLineCount)*i};t.create=function(i,n,r,e,o,s,u,a,c,h,f){var l=i.pixelRatio,d=i.minimapLineHeight,v=Math.floor(i.canvasInnerHeight/d),A=i.lineHeight;if(i.minimapHeightIsEditorHeight){var g=a*i.lineHeight+i.paddingTop+i.paddingBottom;i.scrollBeyondLastLine&&(g+=Math.max(0,o-i.lineHeight-i.paddingBottom));var w=Math.max(1,Math.floor(o*o/g)),p=Math.max(0,i.minimapHeight-w),m=p/(h-o),b=c*m,y=p>0,k=Math.floor(i.canvasInnerHeight/i.minimapLineHeight),x=Math.floor(i.paddingTop/i.lineHeight);return new t(c,h,y,m,b,w,x,1,Math.min(u,k))}var E;if(s&&r!==u){var g=r-n+1;E=Math.floor(g*d/l)}else{var g=o/A;E=Math.floor(g*d/l)}var B=Math.floor(i.paddingTop/A);var C,D=Math.floor(i.paddingBottom/A);if(i.scrollBeyondLastLine){var g=o/A;D=Math.max(D,g-1)}D>0?C=(B+u+D-o/A-1)*d/l:C=Math.max(0,(B+u)*d/l-E),C=Math.min(i.minimapHeight-E,C);var M=C/(h-o),_=c*M;if(v>=B+u+D)return new t(c,h,C>0,M,_,E,B,1,u);{var g=void 0,w=void 0;g=n>1?n+B:Math.max(1,c/A);var p=Math.max(1,Math.floor(g-_*l/d));p<B?(w=B-p+1,p=1):(w=0,p=Math.max(1,p-B)),f&&f.scrollHeight===h&&(f.scrollTop>c&&(p=Math.min(p,f.startLineNumber),w=Math.max(w,f.topPaddingLineCount)),f.scrollTop<c&&(p=Math.max(p,f.startLineNumber),w=Math.min(w,f.topPaddingLineCount)));var m=Math.min(u,p-w+v-1),b=(c-e)/A;var y=void 0;return y=c>=i.paddingTop?(n-p+w+b)*d/l:c/i.paddingTop*(w+b)*d/l,new t(c,h,!0,M,y,E,w,p,m)}};return t}();var EC=function(){function t(t){this.dy=t}t.prototype.onContentChanged=function(){this.dy=-1};t.prototype.onTokensChanged=function(){this.dy=-1};return t}();EC.INVALID=new EC(-1);var BC=function(){function t(t,i,n){this.renderedLayout=t,this._imageData=i,this._renderedLines=new EB((function(){return EC.INVALID})),this._renderedLines._set(t.startLineNumber,n)}t.prototype.linesEquals=function(t){if(!this.scrollEquals(t))return!1;var i=this._renderedLines._get().lines;for(var n=0,r=i.length;n<r;n++)if(i[n].dy===-1)return!1;return!0};t.prototype.scrollEquals=function(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber};t.prototype._get=function(){var t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}};t.prototype.onLinesChanged=function(t,i){return this._renderedLines.onLinesChanged(t,i)};t.prototype.onLinesDeleted=function(t,i){this._renderedLines.onLinesDeleted(t,i)};t.prototype.onLinesInserted=function(t,i){this._renderedLines.onLinesInserted(t,i)};t.prototype.onTokensChanged=function(t){return this._renderedLines.onTokensChanged(t)};return t}();var CC=function(){function t(i,n,r,e){this._backgroundFillData=t._createBackgroundFillData(n,r,e),this._buffers=[i.createImageData(n,r),i.createImageData(n,r)],this._lastUsedBuffer=0}t.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t};t._createBackgroundFillData=function(t,i,n){var r=n.r,e=n.g,o=n.b,s=n.a,u=new Uint8ClampedArray(t*i*4);var a=0;for(var c=0;c<i;c++)for(var h=0;h<t;h++)u[a]=r,u[a+1]=e,u[a+2]=o,u[a+3]=s,a+=4;return u};return t}();var DC=function(){function t(t,i){this.samplingRatio=t,this.minimapLines=i}t.compute=function(i,n,r){if(i.renderMinimap===0||!i.isSampling)return[null,[]];var e=Pi.computeContainedMinimapLineCount({viewLineCount:n,scrollBeyondLastLine:i.scrollBeyondLastLine,paddingTop:i.paddingTop,paddingBottom:i.paddingBottom,height:i.editorHeight,lineHeight:i.lineHeight,pixelRatio:i.pixelRatio}).minimapLineCount,o=n/e,s=o/2;if(!r||r.minimapLines.length===0){var u=[];if(u[0]=1,e>1){for(var a=0,c=e-1;a<c;a++)u[a]=Math.round(a*o+s);u[e-1]=n}return[new t(o,u),[]]}var h=r.minimapLines,f=h.length,l=[];var d=0,v=0,A=1,g=[],w=null;for(var u=0;u<e;u++){var a=Math.max(A,Math.round(u*o)),c=Math.max(a,Math.round((u+1)*o));for(;d<f&&h[d]<a;){if(g.length<10){var p=d+1+v;w&&w.type==="deleted"&&w._oldIndex===d-1?w.deleteToLineNumber++:(w={type:"deleted",_oldIndex:d,deleteFromLineNumber:p,deleteToLineNumber:p},g.push(w)),v--}d++}var m=void 0;if(d<f&&h[d]<=c)m=h[d],d++;else if(m=u===0?1:u+1===e?n:Math.round(u*o+s),g.length<10){var p=d+1+v;w&&w.type==="inserted"&&w._i===u-1?w.insertToLineNumber++:(w={type:"inserted",_i:u,insertFromLineNumber:p,insertToLineNumber:p},g.push(w)),v++}l[u]=m,A=m}if(g.length<10)for(;d<f;){var u=d+1+v;w&&w.type==="deleted"&&w._oldIndex===d-1?w.deleteToLineNumber++:(w={type:"deleted",_oldIndex:d,deleteFromLineNumber:u,deleteToLineNumber:u},g.push(w)),v--,d++}else g=[{type:"flush"}];return[new t(o,l),g]};t.prototype.modelLineToMinimapLine=function(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))};t.prototype.modelLineRangeToMinimapLineRange=function(t,i){var n=this.modelLineToMinimapLine(t)-1;for(;n>0&&this.minimapLines[n-1]>=t;)n--;var r=this.modelLineToMinimapLine(i)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=i;)r++;if(n===r){var e=this.minimapLines[n];if(e<t||e>i)return null}return[n+1,r+1]};t.prototype.decorationLineRangeToMinimapLineRange=function(t,i){var n=this.modelLineToMinimapLine(t),r=this.modelLineToMinimapLine(i);return t!==i&&r===n&&(r===this.minimapLines.length?n>1&&n--:r++),[n,r]};t.prototype.onLinesDeleted=function(t){var i=t.toLineNumber-t.fromLineNumber+1;var n=this.minimapLines.length,r=0;for(var e=this.minimapLines.length-1;e>=0&&!(this.minimapLines[e]<t.fromLineNumber);e--)this.minimapLines[e]<=t.toLineNumber?(this.minimapLines[e]=Math.max(1,t.fromLineNumber-1),n=Math.min(n,e),r=Math.max(r,e)):this.minimapLines[e]-=i;return[n,r]};t.prototype.onLinesInserted=function(t){var i=t.toLineNumber-t.fromLineNumber+1;for(var n=this.minimapLines.length-1;n>=0&&!(this.minimapLines[n]<t.fromLineNumber);n--)this.minimapLines[n]+=i};return t}();var MC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._sectionHeaderCache=new xv(10,1.5),n.tokensColorTracker=vC.getInstance(),n._selections=[],n._minimapSelections=null,n.options=new kC(n._context.configuration,n._context.theme,n.tokensColorTracker);var r=DC.compute(n.options,n._context.viewModel.getLineCount(),null)[0];n._samplingState=r,n._shouldCheckSampling=!1,n._actual=new _C(i.theme,n);return n}i.prototype.dispose=function(){this._actual.dispose(),t.prototype.dispose.call(this)};i.prototype.getDomNode=function(){return this._actual.getDomNode()};i.prototype._onOptionsMaybeChanged=function(){var t=new kC(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(t)&&(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)};i.prototype.onConfigurationChanged=function(t){return this._onOptionsMaybeChanged()};i.prototype.onCursorStateChanged=function(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()};i.prototype.onDecorationsChanged=function(t){return!!t.affectsMinimap&&this._actual.onDecorationsChanged()};i.prototype.onFlushed=function(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()};i.prototype.onLinesChanged=function(t){if(this._samplingState){var i=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.fromLineNumber+t.count-1);return!!i&&this._actual.onLinesChanged(i[0],i[1]-i[0]+1)}return this._actual.onLinesChanged(t.fromLineNumber,t.count)};i.prototype.onLinesDeleted=function(t){if(this._samplingState){var i=this._samplingState.onLinesDeleted(t),n=i[0],r=i[1];return n<=r&&this._actual.onLinesChanged(n+1,r-n+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)};i.prototype.onLinesInserted=function(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)};i.prototype.onScrollChanged=function(t){return this._actual.onScrollChanged()};i.prototype.onThemeChanged=function(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0};i.prototype.onTokensChanged=function(t){if(this._samplingState){var i=[];for(var n=0,r=t.ranges;n<r.length;n++){var e=r[n];var o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);o&&i.push({fromLineNumber:o[0],toLineNumber:o[1]})}return!!i.length&&this._actual.onTokensChanged(i)}return this._actual.onTokensChanged(t.ranges)};i.prototype.onTokensColorsChanged=function(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()};i.prototype.onZonesChanged=function(t){return this._actual.onZonesChanged()};i.prototype.prepareRender=function(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())};i.prototype.render=function(t){var i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber;this._samplingState&&(i=this._samplingState.modelLineToMinimapLine(i),n=this._samplingState.modelLineToMinimapLine(n));var r={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:i,viewportEndLineNumber:n,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(i),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(r)};i.prototype._recreateLineSampling=function(){this._minimapSelections=null;var t=!!this._samplingState,i=DC.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState),n=i[0],r=i[1];if(this._samplingState=n,t&&this._samplingState)for(var e=0,o=r;e<o.length;e++){var s=o[e];switch(s.type){case"deleted":this._actual.onLinesDeleted(s.deleteFromLineNumber,s.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(s.insertFromLineNumber,s.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}};i.prototype.getLineCount=function(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()};i.prototype.getRealLineCount=function(){return this._context.viewModel.getLineCount()};i.prototype.getLineContent=function(t){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineContent(t)};i.prototype.getLineMaxColumn=function(t){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineMaxColumn(t)};i.prototype.getMinimapLinesRenderingData=function(t,i,n){if(this._samplingState){var r=[];for(var e=0,o=i-t+1;e<o;e++)n[e]?r[e]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+e-1]):r[e]=null;return r}return this._context.viewModel.getMinimapLinesRenderingData(t,i,n).data};i.prototype.getSelections=function(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(var t=0,i=this._selections;t<i.length;t++){var n=i[t];var r=this._samplingState.decorationLineRangeToMinimapLineRange(n.startLineNumber,n.endLineNumber),e=r[0],o=r[1];this._minimapSelections.push(new $r(e,n.startColumn,o,n.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections};i.prototype.getMinimapDecorationsInViewport=function(t,i){var n=this._getMinimapDecorationsInViewport(t,i).filter((function(t){var i;return!(!((i=t.options.minimap)===null||i===void 0)&&i.sectionHeaderStyle)}));if(this._samplingState){var r=[];for(var e=0,o=n;e<o.length;e++){var s=o[e];if(!s.options.minimap)continue;var u=s.range,a=this._samplingState.modelLineToMinimapLine(u.startLineNumber),c=this._samplingState.modelLineToMinimapLine(u.endLineNumber);r.push(new ew(new Zr(a,u.startColumn,c,u.endColumn),s.options))}return r}return n};i.prototype.getSectionHeaderDecorationsInViewport=function(t,i){var n=this.options.minimapLineHeight,r=this.options.sectionHeaderFontSize/n;return t=Math.floor(Math.max(1,t-r)),this._getMinimapDecorationsInViewport(t,i).filter((function(t){var i;return!!(!((i=t.options.minimap)===null||i===void 0)&&i.sectionHeaderStyle)}))};i.prototype._getMinimapDecorationsInViewport=function(t,i){var n;if(this._samplingState){var r=this._samplingState.minimapLines[t-1],e=this._samplingState.minimapLines[i-1];n=new Zr(r,1,e,this._context.viewModel.getLineMaxColumn(e))}else n=new Zr(t,1,i,this._context.viewModel.getLineMaxColumn(i));return this._context.viewModel.getMinimapDecorationsInRange(n)};i.prototype.getSectionHeaderText=function(t,i){var n;var r=(n=t.options.minimap)===null||n===void 0?void 0:n.sectionHeaderText;if(!r)return null;var e=this._sectionHeaderCache.get(r);if(e)return e;var o=i(r);return this._sectionHeaderCache.set(r,o),o};i.prototype.getOptions=function(){return this._context.viewModel.model.getOptions()};i.prototype.revealLineNumber=function(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new Zr(t,1,t,1),1,0)};i.prototype.setScrollTop=function(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)};return i}(_y);var _C=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._renderDecorations=!1,r._gestureInProgress=!1,r._theme=i,r._model=n,r._lastRenderData=null,r._buffers=null,r._selectionColor=r._theme.getColor(Lm),r._domNode=th(document.createElement("div")),Fy.write(r._domNode,9),r._domNode.setClassName(r._getMinimapDomNodeClassName()),r._domNode.setPosition("absolute"),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._shadow=th(document.createElement("div")),r._shadow.setClassName("minimap-shadow-hidden"),r._domNode.appendChild(r._shadow),r._canvas=th(document.createElement("canvas")),r._canvas.setPosition("absolute"),r._canvas.setLeft(0),r._domNode.appendChild(r._canvas),r._decorationsCanvas=th(document.createElement("canvas")),r._decorationsCanvas.setPosition("absolute"),r._decorationsCanvas.setClassName("minimap-decorations-layer"),r._decorationsCanvas.setLeft(0),r._domNode.appendChild(r._decorationsCanvas),r._slider=th(document.createElement("div")),r._slider.setPosition("absolute"),r._slider.setClassName("minimap-slider"),r._slider.setLayerHinting(!0),r._slider.setContain("strict"),r._domNode.appendChild(r._slider),r._sliderHorizontal=th(document.createElement("div")),r._sliderHorizontal.setPosition("absolute"),r._sliderHorizontal.setClassName("minimap-slider-horizontal"),r._slider.appendChild(r._sliderHorizontal),r._applyLayout(),r._pointerDownListener=Ra(r._domNode.domNode,Ec.POINTER_DOWN,(function(t){if(t.preventDefault(),r._model.options.renderMinimap===0||!r._lastRenderData)return;if(r._model.options.size!=="proportional"){if(t.button===0&&r._lastRenderData){var i=Ka(r._slider.domNode),n=i.top+i.height/2;r._startSliderDragging(t,n,r._lastRenderData.renderedLayout)}return}var e=r._model.options.minimapLineHeight,o=r._model.options.canvasInnerHeight/r._model.options.canvasOuterHeight*t.offsetY;var s=Math.floor(o/e)+r._lastRenderData.renderedLayout.startLineNumber-r._lastRenderData.renderedLayout.topPaddingLineCount;s=Math.min(s,r._model.getLineCount()),r._model.revealLineNumber(s)})),r._sliderPointerMoveMonitor=new sp,r._sliderPointerDownListener=Ra(r._slider.domNode,Ec.POINTER_DOWN,(function(t){t.preventDefault(),t.stopPropagation(),t.button===0&&r._lastRenderData&&r._startSliderDragging(t,t.pageY,r._lastRenderData.renderedLayout)})),r._gestureDisposable=wk.addTarget(r._domNode.domNode),r._sliderTouchStartListener=Oa(r._domNode.domNode,Ak.Start,(function(t){t.preventDefault(),t.stopPropagation(),r._lastRenderData&&(r._slider.toggleClassName("active",!0),r._gestureInProgress=!0,r.scrollDueToTouchEvent(t))}),{passive:!1}),r._sliderTouchMoveListener=Oa(r._domNode.domNode,Ak.Change,(function(t){t.preventDefault(),t.stopPropagation(),r._lastRenderData&&r._gestureInProgress&&r.scrollDueToTouchEvent(t)}),{passive:!1}),r._sliderTouchEndListener=Ra(r._domNode.domNode,Ak.End,(function(t){t.preventDefault(),t.stopPropagation(),r._gestureInProgress=!1,r._slider.toggleClassName("active",!1)}));return r}i.prototype._startSliderDragging=function(t,i,n){var r=this;if(!(t.target&&t.target instanceof Element))return;var e=t.pageX;this._slider.toggleClassName("active",!0);var o=function(t,o){var s=Ka(r._domNode.domNode),u=Math.min(Math.abs(o-e),Math.abs(o-s.left),Math.abs(o-s.left-s.width));if(Wt&&u>140)return void r._model.setScrollTop(n.scrollTop);var a=t-i;r._model.setScrollTop(n.getDesiredScrollTopFromDelta(a))};t.pageY!==i&&o(t.pageY,e),this._sliderPointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,(function(t){return o(t.pageY,t.pageX)}),(function(){r._slider.toggleClassName("active",!1)}))};i.prototype.scrollDueToTouchEvent=function(t){var i=this._domNode.domNode.getBoundingClientRect().top,n=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-i);this._model.setScrollTop(n)};i.prototype.dispose=function(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),t.prototype.dispose.call(this)};i.prototype._getMinimapDomNodeClassName=function(){var t=["minimap"];return this._model.options.showSlider==="always"?t.push("slider-always"):t.push("slider-mouseover"),this._model.options.autohide&&t.push("autohide"),t.join(" ")};i.prototype.getDomNode=function(){return this._domNode};i.prototype._applyLayout=function(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)};i.prototype._getBuffer=function(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new CC(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null};i.prototype.onDidChangeOptions=function(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())};i.prototype.onSelectionChanged=function(){return this._renderDecorations=!0,!0};i.prototype.onDecorationsChanged=function(){return this._renderDecorations=!0,!0};i.prototype.onFlushed=function(){return this._lastRenderData=null,!0};i.prototype.onLinesChanged=function(t,i){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(t,i)};i.prototype.onLinesDeleted=function(t,i){var n;return(n=this._lastRenderData)===null||n===void 0||n.onLinesDeleted(t,i),!0};i.prototype.onLinesInserted=function(t,i){var n;return(n=this._lastRenderData)===null||n===void 0||n.onLinesInserted(t,i),!0};i.prototype.onScrollChanged=function(){return this._renderDecorations=!0,!0};i.prototype.onThemeChanged=function(){return this._selectionColor=this._theme.getColor(Lm),this._renderDecorations=!0,!0};i.prototype.onTokensChanged=function(t){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(t)};i.prototype.onTokensColorsChanged=function(){return this._lastRenderData=null,this._buffers=null,!0};i.prototype.onZonesChanged=function(){return this._lastRenderData=null,!0};i.prototype.render=function(t){if(this._model.options.renderMinimap===0)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var i=xC.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)};i.prototype.renderDecorations=function(t){if(this._renderDecorations){this._renderDecorations=!1;var i=this._model.getSelections();i.sort(Zr.compareRangesUsingStarts);var n=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);n.sort((function(t,i){return(t.options.zIndex||0)-(i.options.zIndex||0)}));var r=this._model.options,e=r.canvasInnerWidth,o=r.canvasInnerHeight,s=this._model.options.minimapLineHeight,u=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,e,o);var h=new FC(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(c,i,h,t,s),this._renderDecorationsLineHighlights(c,n,h,t,s);var f=new FC(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(c,i,f,t,s,a,u,e),this._renderDecorationsHighlights(c,n,f,t,s,a,u,e),this._renderSectionHeaders(t)}};i.prototype._renderSelectionLineHighlights=function(t,i,n,r,e){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();var o=0,s=0;for(var u=0,a=i;u<a.length;u++){var c=a[u];var h=r.intersectWithViewport(c);if(!h)continue;var f=h[0],l=h[1];for(var d=f;d<=l;d++)n.set(d,!0);var v=r.getYForLineNumber(f,e),A=r.getYForLineNumber(l,e);s>=v||(s>o&&t.fillRect(8,o,t.canvas.width,s-o),o=v),s=A}s>o&&t.fillRect(8,o,t.canvas.width,s-o)};i.prototype._renderDecorationsLineHighlights=function(t,i,n,r,e){var o=new Map;for(var s=i.length-1;s>=0;s--){var u=i[s],a=u.options.minimap;if(!a||a.position!==1)continue;var c=r.intersectWithViewport(u.range);if(!c)continue;var h=c[0],f=c[1],l=a.getColor(this._theme.value);if(!l||l.isTransparent())continue;var d=o.get(l.toString());d||(d=l.transparent(.5).toString(),o.set(l.toString(),d)),t.fillStyle=d;for(var v=h;v<=f;v++){if(n.has(v))continue;n.set(v,!0);var A=r.getYForLineNumber(h,e);t.fillRect(8,A,t.canvas.width,e)}}};i.prototype._renderSelectionsHighlights=function(t,i,n,r,e,o,s,u){if(this._selectionColor&&!this._selectionColor.isTransparent())for(var a=0,c=i;a<c.length;a++){var h=c[a];var f=r.intersectWithViewport(h);if(!f)continue;var l=f[0],d=f[1];for(var v=l;v<=d;v++)this.renderDecorationOnLine(t,n,h,this._selectionColor,r,v,e,e,o,s,u)}};i.prototype._renderDecorationsHighlights=function(t,i,n,r,e,o,s,u){for(var a=0,c=i;a<c.length;a++){var h=c[a];var f=h.options.minimap;if(!f)continue;var l=r.intersectWithViewport(h.range);if(!l)continue;var d=l[0],v=l[1],A=f.getColor(this._theme.value);if(A&&!A.isTransparent())for(var g=d;g<=v;g++)switch(f.position){case 1:this.renderDecorationOnLine(t,n,h.range,A,r,g,e,e,o,s,u);continue;case 2:{var w=r.getYForLineNumber(g,e);this.renderDecoration(t,A,2,w,2,e);continue}}}};i.prototype.renderDecorationOnLine=function(t,i,n,r,e,o,s,u,a,c,h){var f=e.getYForLineNumber(o,u);if(f+s<0||f>this._model.options.canvasInnerHeight)return;var l=n.startLineNumber,d=n.endLineNumber,v=l===o?n.startColumn:1,A=d===o?n.endColumn:this._model.getLineMaxColumn(o),g=this.getXOffsetForPosition(i,o,v,a,c,h),w=this.getXOffsetForPosition(i,o,A,a,c,h);this.renderDecoration(t,r,g,f,w-g,s)};i.prototype.getXOffsetForPosition=function(t,i,n,r,e,o){if(n===1)return 8;if((n-1)*e>=o)return o;var s=t.get(i);if(!s){var u=this._model.getLineContent(i);s=[8];var a=8;for(var c=1;c<u.length+1;c++){var h=u.charCodeAt(c-1),f=a+(h===9?r*e:es(h)?2*e:e);if(f>=o){s[c]=o;break}s[c]=f,a=f}t.set(i,s)}return n-1<s.length?s[n-1]:o};i.prototype.renderDecoration=function(t,i,n,r,e,o){t.fillStyle=i&&i.toString()||"",t.fillRect(n,r,e,o)};i.prototype._renderSectionHeaders=function(t){var n;var r=this._model.options.minimapLineHeight,e=this._model.options.sectionHeaderFontSize,o=1.5*e,s=this._model.options.canvasInnerWidth,u=this._model.options.backgroundColor,a="rgb(".concat(u.r," ").concat(u.g," ").concat(u.b," / .7)"),c=this._model.options.sectionHeaderFontColor,h="rgb(".concat(c.r," ").concat(c.g," ").concat(c.b,")"),f=h,l=this._decorationsCanvas.domNode.getContext("2d");l.font=e+"px "+this._model.options.sectionHeaderFontFamily,l.strokeStyle=f,l.lineWidth=.2;var d=this._model.getSectionHeaderDecorationsInViewport(t.startLineNumber,t.endLineNumber);d.sort((function(t,i){return t.range.startLineNumber-i.range.startLineNumber}));var v=i._fitSectionHeader.bind(null,l,s-8);for(var A=0,g=d;A<g.length;A++){var w=g[A];var p=t.getYForLineNumber(w.range.startLineNumber,r)+e,m=p-e,b=m+2,y=this._model.getSectionHeaderText(w,v);i._renderSectionLabel(l,y,((n=w.options.minimap)===null||n===void 0?void 0:n.sectionHeaderStyle)===2,a,h,s,m,o,p,b)}};i._fitSectionHeader=function(t,i,n){if(!n)return n;var r=t.measureText(n).width,e=t.measureText("…").width;if(r<=i||r<=e)return n;var o=n.length,s=r/n.length,u=Math.floor((i-e)/s)-1;var a=Math.ceil(u/2);for(;a>0&&/\s/.test(n[a-1]);)--a;return n.substring(0,a)+"…"+n.substring(o-(u-a))};i._renderSectionLabel=function(t,i,n,r,e,o,s,u,a,c){i&&(t.fillStyle=r,t.fillRect(0,s,o,u),t.fillStyle=e,t.fillText(i,8,a)),n&&(t.beginPath(),t.moveTo(0,c),t.lineTo(o,c),t.closePath(),t.stroke())};i.prototype.renderLines=function(t){var n=t.startLineNumber,r=t.endLineNumber,e=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){var o=this._lastRenderData._get();return new BC(t,o.imageData,o.lines)}var s=this._getBuffer();if(!s)return null;var u=i._renderUntouchedLines(s,t.topPaddingLineCount,n,r,e,this._lastRenderData),a=u[0],c=u[1],h=u[2],f=this._model.getMinimapLinesRenderingData(n,r,h),l=this._model.getOptions().tabSize,d=this._model.options.defaultBackgroundColor,v=this._model.options.backgroundColor,A=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,w=g.backgroundIsLight(),p=this._model.options.renderMinimap,m=this._model.options.charRenderer(),b=this._model.options.fontScale,y=this._model.options.minimapCharWidth,k=(p===1?2:3)*b,x=e>k?Math.floor((e-k)/2):0,E=v.a/255,B=new dC(Math.round((v.r-d.r)*E+d.r),Math.round((v.g-d.g)*E+d.g),Math.round((v.b-d.b)*E+d.b),255);var C=t.topPaddingLineCount*e;var D=[];for(var o=0,M=r-n+1;o<M;o++)h[o]&&i._renderLine(s,B,v.a,w,p,y,g,A,m,C,x,l,f[o],b,e),D[o]=new EC(C),C+=e;var _=a===-1?0:a,F=(c===-1?s.height:c)-_;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,_,s.width,F),new BC(t,s,D)};i._renderUntouchedLines=function(t,i,n,r,e,o){var s=[];if(!o){for(var u=0,a=r-n+1;u<a;u++)s[u]=!0;return[-1,-1,s]}var c=o._get(),h=c.imageData.data,f=c.rendLineNumberStart,l=c.lines,d=l.length,v=t.width,A=t.data,g=(r-n+1)*e*v*4;var w=-1,p=-1,m=-1,b=-1,y=-1,k=-1,x=i*e;for(var u=n;u<=r;u++){var a=u-n,E=u-f,B=E>=0&&E<d?l[E].dy:-1;if(B===-1){s[a]=!0,x+=e;continue}var C=B*v*4,D=(B+e)*v*4,M=x*v*4,_=(x+e)*v*4;b===C&&k===M?(b=D,k=_):(m!==-1&&(A.set(h.subarray(m,b),y),w===-1&&m===0&&m===y&&(w=b),p===-1&&b===g&&m===y&&(p=m)),m=C,b=D,y=M,k=_),s[a]=!1,x+=e}return m!==-1&&(A.set(h.subarray(m,b),y),w===-1&&m===0&&m===y&&(w=b),p===-1&&b===g&&m===y&&(p=m)),[w===-1?-1:w/(4*v),p===-1?-1:p/(4*v),s]};i._renderLine=function(t,i,n,r,e,o,s,u,a,c,h,f,l,d,v){var A=l.content,g=l.tokens,w=t.width-o,p=v===1;var m=8,b=0,y=0;for(var k=0,x=g.getCount();k<x;k++){var E=g.getEndOffset(k),B=g.getForeground(k),C=s.getColor(B);for(;b<E;b++){if(m>w)return;var D=A.charCodeAt(b);if(D===9){var M=f-(b+y)%f;y+=M-1,m+=M*o}else if(D===32)m+=o;else{var M=es(D)?2:1;for(var _=0;_<M;_++)if(e===2?a.blockRenderChar(t,m,c+h,C,u,i,n,p):a.renderChar(t,m,c+h,D,C,u,i,n,d,r,p),m+=o,m>w)return}}}};return i}(Cn);var FC=function(){function t(t,i,n){this._startLineNumber=t,this._endLineNumber=i,this._defaultValue=n,this._values=[];for(var r=0,e=this._endLineNumber-this._startLineNumber+1;r<e;r++)this._values[r]=n}t.prototype.has=function(t){return this.get(t)!==this._defaultValue};t.prototype.set=function(t,i){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=i)};t.prototype.get=function(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]};return t}();var SC=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._viewDomNode=n;var e=r._context.configuration.options.get(145);r._widgets={},r._verticalScrollbarWidth=e.verticalScrollbarWidth,r._minimapWidth=e.minimap.minimapWidth,r._horizontalScrollbarHeight=e.horizontalScrollbarHeight,r._editorHeight=e.height,r._editorWidth=e.width,r._viewDomNodeRect={top:0,left:0,width:0,height:0},r._domNode=th(document.createElement("div")),Fy.write(r._domNode,4),r._domNode.setClassName("overlayWidgets"),r.overflowingOverlayWidgetsDomNode=th(document.createElement("div")),Fy.write(r.overflowingOverlayWidgetsDomNode,5),r.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets");return r}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._widgets={}};i.prototype.getDomNode=function(){return this._domNode};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0};i.prototype.addWidget=function(t){var i=th(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:i},i.setPosition("absolute"),i.setAttribute("widgetId",t.getId()),t.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(i):this._domNode.appendChild(i),this.setShouldRender(),this._updateMaxMinWidth()};i.prototype.setWidgetPosition=function(t,i){var n=this._widgets[t.getId()];return n.preference===i?(this._updateMaxMinWidth(),!1):(n.preference=i,this.setShouldRender(),this._updateMaxMinWidth(),!0)};i.prototype.removeWidget=function(t){var i=t.getId();if(this._widgets.hasOwnProperty(i)){var n=this._widgets[i].domNode.domNode;delete this._widgets[i],n.remove(),this.setShouldRender(),this._updateMaxMinWidth()}};i.prototype._updateMaxMinWidth=function(){var t,i;var n=0;var r=Object.keys(this._widgets);for(var e=0,o=r.length;e<o;e++){var s=r[e],u=(i=(t=this._widgets[s].widget).getMinContentWidthInPx)===null||i===void 0?void 0:i.call(t);u!==void 0&&(n=Math.max(n,u))}this._context.viewLayout.setOverlayWidgetsMinWidth(n)};i.prototype._renderWidget=function(t){var i=t.domNode;if(t.preference!==null)if(t.preference===0)i.setTop(0),i.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){var n=i.domNode.clientHeight;i.setTop(this._editorHeight-n-2*this._horizontalScrollbarHeight),i.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(t.preference===2)i.setTop(0),i.domNode.style.right="50%";else{var r=t.preference,n=r.top,e=r.left;if(this._context.configuration.options.get(42)&&t.widget.allowEditorOverflow){var o=this._viewDomNodeRect;i.setTop(n+o.top),i.setLeft(e+o.left),i.setPosition("fixed")}else i.setTop(n),i.setLeft(e),i.setPosition("absolute")}else i.setTop("")};i.prototype.prepareRender=function(t){this._viewDomNodeRect=Ka(this._viewDomNode.domNode)};i.prototype.render=function(t){this._domNode.setWidth(this._editorWidth);var i=Object.keys(this._widgets);for(var n=0,r=i.length;n<r;n++){var e=i[n];this._renderWidget(this._widgets[e])}};return i}(_y);var IC=function(){function t(t,i){var n=t.options;this.lineHeight=n.get(67),this.pixelRatio=n.get(143),this.overviewRulerLanes=n.get(83),this.renderBorder=n.get(82);var r=i.getColor(Tx);this.borderColor=r?r.toString():null,this.hideCursor=n.get(59);var e=i.getColor(dx);this.cursorColorSingle=e?e.transparent(.7).toString():null;var o=i.getColor(Ax);this.cursorColorPrimary=o?o.transparent(.7).toString():null;var s=i.getColor(wx);this.cursorColorSecondary=s?s.transparent(.7).toString():null,this.themeType=i.type;var u=n.get(73),a=u.enabled,c=u.side,h=i.getColor(Lx),f=ye.getDefaultBackground();this.backgroundColor=h||(a&&c==="right"?f:null);var l=n.get(145).overviewRuler;this.top=l.top,this.right=l.right,this.domWidth=l.width,this.domHeight=l.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var d=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),v=d[0],A=d[1];this.x=v,this.w=A}t.prototype._initLanes=function(t,i,n){var r=i-t;if(n>=3){var e=Math.floor(r/3),o=Math.floor(r/3),s=r-e-o,u=t+e;return[[0,t,u,t,t+e+s,t,u,t],[0,e,s,e+s,o,e+s+o,s+o,e+s+o]]}if(n===2){var e=Math.floor(r/2),o=r-e;return[[0,t,t,t,t+e,t,t,t],[0,e,e,e,o,e+o,e+o,e+o]]}return[[0,t,t,t,t,t,t,t],[0,r,r,r,r,r,r,r]]};t.prototype.equals=function(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColorSingle===t.cursorColorSingle&&this.cursorColorPrimary===t.cursorColorPrimary&&this.cursorColorSecondary===t.cursorColorSecondary&&this.themeType===t.themeType&&ZA.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight};return t}();var QC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._actualShouldRender=0,n._renderedDecorations=[],n._renderedCursorPositions=[],n._domNode=th(document.createElement("canvas")),n._domNode.setClassName("decorationsOverviewRuler"),n._domNode.setPosition("absolute"),n._domNode.setLayerHinting(!0),n._domNode.setContain("strict"),n._domNode.setAttribute("aria-hidden","true"),n._updateSettings(!1),n._tokensColorTrackerListener=ye.onDidChange((function(t){t.changedColorMap&&n._updateSettings(!0)})),n._cursorPositions=[{position:new qr(1,1),color:n._settings.cursorColorSingle}];return n}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()};i.prototype._updateSettings=function(t){var i=new IC(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(i))&&(this._settings=i,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)};i.prototype._markRenderingIsNeeded=function(){return this._actualShouldRender=2,!0};i.prototype._markRenderingIsMaybeNeeded=function(){return this._actualShouldRender=1,!0};i.prototype.onConfigurationChanged=function(t){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()};i.prototype.onCursorStateChanged=function(t){this._cursorPositions=[];for(var i=0,n=t.selections.length;i<n;i++){var r=this._settings.cursorColorSingle;n>1&&(r=i===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:t.selections[i].getPosition(),color:r})}return this._cursorPositions.sort((function(t,i){return qr.compare(t.position,i.position)})),this._markRenderingIsMaybeNeeded()};i.prototype.onDecorationsChanged=function(t){return!!t.affectsOverviewRuler&&this._markRenderingIsMaybeNeeded()};i.prototype.onFlushed=function(t){return this._markRenderingIsNeeded()};i.prototype.onScrollChanged=function(t){return!!t.scrollHeightChanged&&this._markRenderingIsNeeded()};i.prototype.onZonesChanged=function(t){return this._markRenderingIsNeeded()};i.prototype.onThemeChanged=function(t){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()};i.prototype.getDomNode=function(){return this._domNode.domNode};i.prototype.prepareRender=function(t){};i.prototype.render=function(t){this._render(),this._actualShouldRender=0};i.prototype._render=function(){var t=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0)return this._domNode.setBackgroundColor(t?ZA.Format.CSS.formatHexA(t):""),void this._domNode.setDisplay("none");var i=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(i.sort(ow.compareByRenderingProps),this._actualShouldRender!==1||ow.equalsArr(this._renderedDecorations,i)||(this._actualShouldRender=2),this._actualShouldRender!==1||_(this._renderedCursorPositions,this._cursorPositions,(function(t,i){return t.position.lineNumber===i.position.lineNumber&&t.color===i.color}))||(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=i,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");var n=this._settings.canvasWidth,r=this._settings.canvasHeight,e=this._settings.lineHeight,o=this._context.viewLayout,s=r/this._context.viewLayout.getScrollHeight(),u=6*this._settings.pixelRatio|0,a=u/2|0,c=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(c.fillStyle=ZA.Format.CSS.formatHexA(t),c.fillRect(0,0,n,r)):(c.clearRect(0,0,n,r),c.fillStyle=ZA.Format.CSS.formatHexA(t),c.fillRect(0,0,n,r)):c.clearRect(0,0,n,r);var h=this._settings.x,f=this._settings.w;for(var l=0,d=i;l<d.length;l++){var v=d[l];var A=v.color,g=v.data;c.fillStyle=A;var w=0,p=0,m=0;for(var b=0,y=g.length/3;b<y;b++){var k=g[3*b],x=g[3*b+1],E=g[3*b+2];var B=o.getVerticalOffsetForLineNumber(x)*s|0,C=(o.getVerticalOffsetForLineNumber(E)+e)*s|0;if(C-B<u){var D=(B+C)/2|0;D<a?D=a:D+a>r&&(D=r-a),B=D-a,C=D+a}B>m+1||k!==w?(b!==0&&c.fillRect(h[w],p,f[w],m-p),w=k,p=B,m=C):C>m&&(m=C)}c.fillRect(h[w],p,f[w],m-p)}if(!this._settings.hideCursor){var v=2*this._settings.pixelRatio|0,A=v/2|0,g=this._settings.x[7],w=this._settings.w[7];var p=-100,m=-100,b=null;for(var y=0,k=this._cursorPositions.length;y<k;y++){var x=this._cursorPositions[y].color;if(!x)continue;var E=this._cursorPositions[y].position;var B=o.getVerticalOffsetForLineNumber(E.lineNumber)*s|0;B<A?B=A:B+A>r&&(B=r-A);var C=B-A,D=C+v;C>m+1||x!==b?(y!==0&&b&&c.fillRect(g,p,w,m-p),p=C,m=D):D>m&&(m=D),b=x,c.fillStyle=x}b&&c.fillRect(g,p,w,m-p)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,r),c.stroke(),c.moveTo(0,0),c.lineTo(n,0),c.stroke())};return i}(_y);var OC=function(){function t(t,i,n){this._colorZoneBrand=void 0,this.from=0|t,this.to=0|i,this.colorId=0|n}t.compare=function(t,i){return t.colorId===i.colorId?t.from===i.from?t.to-i.to:t.from-i.from:t.colorId-i.colorId};return t}();var NC=function(){function t(t,i,n,r){this._overviewRulerZoneBrand=void 0,this.startLineNumber=t,this.endLineNumber=i,this.heightInLines=n,this.color=r,this._colorZone=null}t.compare=function(t,i){return t.color===i.color?t.startLineNumber===i.startLineNumber?t.heightInLines===i.heightInLines?t.endLineNumber-i.endLineNumber:t.heightInLines-i.heightInLines:t.startLineNumber-i.startLineNumber:t.color<i.color?-1:1};t.prototype.setColorZone=function(t){this._colorZone=t};t.prototype.getColorZones=function(){return this._colorZone};return t}();var RC=function(){function t(t){this._getVerticalOffsetForLine=t,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}t.prototype.getId2Color=function(){return this._id2Color};t.prototype.setZones=function(t){this._zones=t,this._zones.sort(NC.compare)};t.prototype.setLineHeight=function(t){return this._lineHeight!==t&&(this._lineHeight=t,this._colorZonesInvalid=!0,!0)};t.prototype.setPixelRatio=function(t){this._pixelRatio=t,this._colorZonesInvalid=!0};t.prototype.getDOMWidth=function(){return this._domWidth};t.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio};t.prototype.setDOMWidth=function(t){return this._domWidth!==t&&(this._domWidth=t,this._colorZonesInvalid=!0,!0)};t.prototype.getDOMHeight=function(){return this._domHeight};t.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio};t.prototype.setDOMHeight=function(t){return this._domHeight!==t&&(this._domHeight=t,this._colorZonesInvalid=!0,!0)};t.prototype.getOuterHeight=function(){return this._outerHeight};t.prototype.setOuterHeight=function(t){return this._outerHeight!==t&&(this._outerHeight=t,this._colorZonesInvalid=!0,!0)};t.prototype.resolveColorZones=function(){var t=this._colorZonesInvalid,i=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),r=n/Math.floor(this._outerHeight),e=Math.floor(4*this._pixelRatio/2),o=[];for(var s=0,u=this._zones.length;s<u;s++){var a=this._zones[s];if(!t){var c=a.getColorZones();if(c){o.push(c);continue}}var h=this._getVerticalOffsetForLine(a.startLineNumber),f=a.heightInLines===0?this._getVerticalOffsetForLine(a.endLineNumber)+i:h+a.heightInLines*i,l=Math.floor(r*h),d=Math.floor(r*f);var v=Math.floor((l+d)/2),A=d-v;A<e&&(A=e),v-A<0&&(v=A),v+A>n&&(v=n-A);var g=a.color;var w=this._color2Id[g];w||(w=++this._lastAssignedId,this._color2Id[g]=w,this._id2Color[w]=g);var p=new OC(v-A,v+A,w);a.setColorZone(p),o.push(p)}return this._colorZonesInvalid=!1,o.sort(OC.compare),o};return t}();var TC=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._context=i;var e=r._context.configuration.options;r._domNode=th(document.createElement("canvas")),r._domNode.setClassName(n),r._domNode.setPosition("absolute"),r._domNode.setLayerHinting(!0),r._domNode.setContain("strict"),r._zoneManager=new RC((function(t){return r._context.viewLayout.getVerticalOffsetForLineNumber(t)})),r._zoneManager.setDOMWidth(0),r._zoneManager.setDOMHeight(0),r._zoneManager.setOuterHeight(r._context.viewLayout.getScrollHeight()),r._zoneManager.setLineHeight(e.get(67)),r._zoneManager.setPixelRatio(e.get(143)),r._context.addEventHandler(r);return r}i.prototype.dispose=function(){this._context.removeEventHandler(this),t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;return t.hasChanged(67)&&(this._zoneManager.setLineHeight(i.get(67)),this._render()),t.hasChanged(143)&&(this._zoneManager.setPixelRatio(i.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0};i.prototype.onFlushed=function(t){return this._render(),!0};i.prototype.onScrollChanged=function(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0};i.prototype.onZonesChanged=function(t){return this._render(),!0};i.prototype.getDomNode=function(){return this._domNode.domNode};i.prototype.setLayout=function(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);var i=!1;i=this._zoneManager.setDOMWidth(t.width)||i,i=this._zoneManager.setDOMHeight(t.height)||i,i&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())};i.prototype.setZones=function(t){this._zoneManager.setZones(t),this._render()};i.prototype._render=function(){if(this._zoneManager.getOuterHeight()===0)return!1;var t=this._zoneManager.getCanvasWidth(),i=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),e=this._domNode.domNode.getContext("2d");return e.clearRect(0,0,t,i),n.length>0&&this._renderOneLane(e,n,r,t),!0};i.prototype._renderOneLane=function(t,i,n,r){var e=0,o=0,s=0;for(var u=0,a=i;u<a.length;u++){var c=a[u];var h=c.colorId,f=c.from,l=c.to;h!==e?(t.fillRect(0,o,r,s-o),e=h,t.fillStyle=n[e],o=f,s=l):s>=f?s=Math.max(s,l):(t.fillRect(0,o,r,s-o),o=f,s=l)}t.fillRect(0,o,r,s-o)};return i}(My);var LC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n.domNode=th(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.domNode.setClassName("view-rulers"),n._renderedRulers=[];var r=n._context.configuration.options;n._rulers=r.get(102),n._typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth;return n}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;return this._rulers=i.get(102),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0};i.prototype.onScrollChanged=function(t){return t.scrollHeightChanged};i.prototype.prepareRender=function(t){};i.prototype._ensureRulersCount=function(){var t=this._renderedRulers.length,i=this._rulers.length;if(t===i)return;if(t<i){var n=this._context.viewModel.model.getOptions().tabSize,r=n;var e=i-t;for(;e>0;){var o=th(document.createElement("div"));o.setClassName("view-ruler"),o.setWidth(r),this.domNode.appendChild(o),this._renderedRulers.push(o),e--}return}var s=t-i;for(;s>0;){var n=this._renderedRulers.pop();this.domNode.removeChild(n),s--}};i.prototype.render=function(t){this._ensureRulersCount();for(var i=0,n=this._rulers.length;i<n;i++){var r=this._renderedRulers[i],e=this._rulers[i];r.setBoxShadow(e.color?"1px 0 0 0 ".concat(e.color," inset"):""),r.setHeight(Math.min(t.scrollHeight,1e6)),r.setLeft(e.column*this._typicalHalfwidthCharacterWidth)}};return i}(_y);var jC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._scrollTop=0,n._width=0,n._updateWidth(),n._shouldShow=!1;var r=n._context.configuration.options.get(103);n._useShadows=r.useShadows,n._domNode=th(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true");return n}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype._updateShouldShow=function(){var t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t&&(this._shouldShow=t,!0)};i.prototype.getDomNode=function(){return this._domNode};i.prototype._updateWidth=function(){var t=this._context.configuration.options.get(145);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options.get(103);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0};i.prototype.onScrollChanged=function(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()};i.prototype.prepareRender=function(t){};i.prototype.render=function(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")};return i}(_y);var zC=function(){function t(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}return t}();var UC=function(){function t(t,i){this.lineNumber=t,this.ranges=i}return t}();function HC(t){return new zC(t)}function YC(t){return new UC(t.lineNumber,t.ranges.map(HC))}var JC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._previousFrameVisibleRangesWithStyle=[],n._context=i;var r=n._context.configuration.options;n._roundedSelection=r.get(101),n._typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,n._selections=[],n._renderResult=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;return this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0};i.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype._visibleRangesHaveGaps=function(t){for(var i=0,n=t.length;i<n;i++)if(t[i].ranges.length>1)return!0;return!1};i.prototype._enrichVisibleRangesWithStyle=function(t,i,n){var r=this._typicalHalfwidthCharacterWidth/4;var e=null,o=null;if(n&&n.length>0&&i.length>0){var s=i[0].lineNumber;if(s===t.startLineNumber)for(var u=0;!e&&u<n.length;u++)n[u].lineNumber===s&&(e=n[u].ranges[0]);var a=i[i.length-1].lineNumber;if(a===t.endLineNumber)for(var u=n.length-1;!o&&u>=0;u--)n[u].lineNumber===a&&(o=n[u].ranges[0]);e&&!e.startStyle&&(e=null),o&&!o.startStyle&&(o=null)}for(var s=0,a=i.length;s<a;s++){var u=i[s].ranges[0],c=u.left,h=u.left+u.width,f={top:0,bottom:0},l={top:0,bottom:0};if(s>0){var d=i[s-1].ranges[0].left,v=i[s-1].ranges[0].left+i[s-1].ranges[0].width;PC(c-d)<r?f.top=2:c>d&&(f.top=1),PC(h-v)<r?l.top=2:d<h&&h<v&&(l.top=1)}else e&&(f.top=e.startStyle.top,l.top=e.endStyle.top);if(s+1<a){var d=i[s+1].ranges[0].left,v=i[s+1].ranges[0].left+i[s+1].ranges[0].width;PC(c-d)<r?f.bottom=2:d<c&&c<v&&(f.bottom=1),PC(h-v)<r?l.bottom=2:h<v&&(l.bottom=1)}else o&&(f.bottom=o.startStyle.bottom,l.bottom=o.endStyle.bottom);u.startStyle=f,u.endStyle=l}};i.prototype._getVisibleRangesWithStyle=function(t,i,n){var r=(i.linesVisibleRangesForRange(t,!0)||[]).map(YC);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,r,n),r};i.prototype._createSelectionPiece=function(t,i,n,r,e){return'<div class="cslr '+n+'" style="top:'+t.toString()+"px;bottom:"+i.toString()+"px;left:"+r.toString()+"px;width:"+e.toString()+'px;"></div>'};i.prototype._actualRenderOneSelection=function(t,n,r,e){if(e.length===0)return;var o=!!e[0].ranges[0].startStyle,s=e[0].lineNumber,u=e[e.length-1].lineNumber;for(var a=0,c=e.length;a<c;a++){var h=e[a],f=h.lineNumber,l=f-n,d=r&&f===s?1:0,v=r&&f!==s&&f===u?1:0;var A="",g="";for(var w=0,p=h.ranges.length;w<p;w++){var m=h.ranges[w];if(o){var b=m.startStyle,y=m.endStyle;if(b.top===1||b.bottom===1){A+=this._createSelectionPiece(d,v,i.SELECTION_CLASS_NAME,m.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);var k=i.EDITOR_BACKGROUND_CLASS_NAME;b.top===1&&(k+=" "+i.SELECTION_TOP_RIGHT),b.bottom===1&&(k+=" "+i.SELECTION_BOTTOM_RIGHT),A+=this._createSelectionPiece(d,v,k,m.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(y.top===1||y.bottom===1){A+=this._createSelectionPiece(d,v,i.SELECTION_CLASS_NAME,m.left+m.width,i.ROUNDED_PIECE_WIDTH);var k=i.EDITOR_BACKGROUND_CLASS_NAME;y.top===1&&(k+=" "+i.SELECTION_TOP_LEFT),y.bottom===1&&(k+=" "+i.SELECTION_BOTTOM_LEFT),A+=this._createSelectionPiece(d,v,k,m.left+m.width,i.ROUNDED_PIECE_WIDTH)}}var x=i.SELECTION_CLASS_NAME;if(o){var b=m.startStyle,y=m.endStyle;b.top===0&&(x+=" "+i.SELECTION_TOP_LEFT),b.bottom===0&&(x+=" "+i.SELECTION_BOTTOM_LEFT),y.top===0&&(x+=" "+i.SELECTION_TOP_RIGHT),y.bottom===0&&(x+=" "+i.SELECTION_BOTTOM_RIGHT)}g+=this._createSelectionPiece(d,v,x,m.left,m.width)}t[l][0]+=A,t[l][1]+=g}};i.prototype.prepareRender=function(t){var i=[],n=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber;for(var e=n;e<=r;e++)i[e-n]=["",""];var o=[];for(var e=0,s=this._selections.length;e<s;e++){var u=this._selections[e];if(u.isEmpty()){o[e]=null;continue}var a=this._getVisibleRangesWithStyle(u,t,this._previousFrameVisibleRangesWithStyle[e]);o[e]=a,this._actualRenderOneSelection(i,n,this._selections.length>1,a)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=i.map((function(t){var i=t[0],n=t[1];return i+n}))};i.prototype.render=function(t,i){if(!this._renderResult)return"";var n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]};return i}(rx);function PC(t){return t<0?-t:t}JC.SELECTION_CLASS_NAME="selected-text",JC.SELECTION_TOP_LEFT="top-left-radius",JC.SELECTION_BOTTOM_LEFT="bottom-left-radius",JC.SELECTION_TOP_RIGHT="top-right-radius",JC.SELECTION_BOTTOM_RIGHT="bottom-right-radius",JC.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",JC.ROUNDED_PIECE_WIDTH=10,cx((function(t,i){var n=t.getColor(Kp);n&&!n.isTransparent()&&i.addRule(".monaco-editor .view-line span.inline-selected-text { color: ".concat(n,"; }"))}));var WC=function(){function t(t,i,n,r,e,o,s){this.top=t,this.left=i,this.paddingLeft=n,this.width=r,this.height=e,this.textContent=o,this.textContentClassName=s}return t}();var GC;(function(t){t[t.Single=0]="Single",t[t.MultiPrimary=1]="MultiPrimary",t[t.MultiSecondary=2]="MultiSecondary"})(GC||(GC={}));var VC=function(){function t(t,i){this._context=t;var n=this._context.configuration.options,r=n.get(50);this._cursorStyle=n.get(28),this._lineHeight=n.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=th(document.createElement("div")),this._domNode.setClassName("cursor ".concat(lE)),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),ih(this._domNode,r),this._domNode.setDisplay("none"),this._position=new qr(1,1),this._pluralityClass="",this.setPlurality(i),this._lastRenderedContent="",this._renderData=null}t.prototype.getDomNode=function(){return this._domNode};t.prototype.getPosition=function(){return this._position};t.prototype.setPlurality=function(t){switch(t){default:case GC.Single:this._pluralityClass="";break;case GC.MultiPrimary:this._pluralityClass="cursor-primary";break;case GC.MultiSecondary:this._pluralityClass="cursor-secondary"}};t.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)};t.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)};t.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(50);return this._cursorStyle=i.get(28),this._lineHeight=i.get(67),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(i.get(31),this._typicalHalfwidthCharacterWidth),ih(this._domNode,n),!0};t.prototype.onCursorPositionChanged=function(t,i){return this._domNode.domNode.style.transitionProperty=i?"none":"",this._position=t,!0};t.prototype._getGraphemeAwarePosition=function(){var t=this._position,i=t.lineNumber,n=t.column,r=this._context.viewModel.getLineContent(i),e=function(t,i){i>0&&Po(t.charCodeAt(i))&&i--;var n=i+Xo(t,i);return[n-qo(t,n),n]}(r,n-1),o=e[0],s=e[1];return[new qr(i,o+1),r.substring(o,s)]};t.prototype._prepareRender=function(t){var i="",n="";var r=this._getGraphemeAwarePosition(),e=r[0],o=r[1];if(this._cursorStyle===zi.Line||this._cursorStyle===zi.LineThin){var s=t.visibleRangeForPosition(e);if(!s||s.outsideRenderedLine)return null;var u=ka(this._domNode.domNode);var a=void 0;this._cursorStyle===zi.Line?(a=Lc(u,this._lineCursorWidth>0?this._lineCursorWidth:2),a>2&&(i=o,n=this._getTokenClassName(e))):a=Lc(u,1);var c=s.left,h=0;a>=2&&c>=1&&(h=1,c-=h);var f=t.getVerticalOffsetForLineNumber(e.lineNumber)-t.bigNumbersDelta;return new WC(f,c,h,a,this._lineHeight,i,n)}var l=t.linesVisibleRangesForRange(new Zr(e.lineNumber,e.column,e.lineNumber,e.column+o.length),!1);if(!l||l.length===0)return null;var d=l[0];if(d.outsideRenderedLine||d.ranges.length===0)return null;var v=d.ranges[0],A=o==="\t"||v.width<1?this._typicalHalfwidthCharacterWidth:v.width;this._cursorStyle===zi.Block&&(i=o,n=this._getTokenClassName(e));var g=t.getVerticalOffsetForLineNumber(e.lineNumber)-t.bigNumbersDelta,w=this._lineHeight;return this._cursorStyle!==zi.Underline&&this._cursorStyle!==zi.UnderlineThin||(g+=this._lineHeight-2,w=2),new WC(g,v.left,0,A,w,i,n)};t.prototype._getTokenClassName=function(t){var i=this._context.viewModel.getViewLineData(t.lineNumber),n=i.tokens.findTokenIndexAtOffset(t.column-1);return i.tokens.getClassName(n)};t.prototype.prepareRender=function(t){this._renderData=this._prepareRender(t)};t.prototype.render=function(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor ".concat(this._pluralityClass," ").concat(lE," ").concat(this._renderData.textContentClassName)),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)};return t}();var KC=function(t){__extends(i,t);function i(i){var n=t.call(this,i)||this;var r=n._context.configuration.options;n._readOnly=r.get(91),n._cursorBlinking=r.get(26),n._cursorStyle=r.get(28),n._cursorSmoothCaretAnimation=r.get(27),n._selectionIsEmpty=!0,n._isComposingInput=!1,n._isVisible=!1,n._primaryCursor=new VC(n._context,GC.Single),n._secondaryCursors=[],n._renderData=[],n._domNode=th(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n._updateDomClassName(),n._domNode.appendChild(n._primaryCursor.getDomNode()),n._startCursorBlinkAnimation=new Ks,n._cursorFlatBlinkInterval=new Ha,n._blinkingEnabled=!1,n._editorHasFocus=!1,n._updateBlinking();return n}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()};i.prototype.getDomNode=function(){return this._domNode};i.prototype.onCompositionStart=function(t){return this._isComposingInput=!0,this._updateBlinking(),!0};i.prototype.onCompositionEnd=function(t){return this._isComposingInput=!1,this._updateBlinking(),!0};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;this._readOnly=i.get(91),this._cursorBlinking=i.get(26),this._cursorStyle=i.get(28),this._cursorSmoothCaretAnimation=i.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(var n=0,r=this._secondaryCursors.length;n<r;n++)this._secondaryCursors[n].onConfigurationChanged(t);return!0};i.prototype._onCursorPositionChanged=function(t,i,n){var r=this._secondaryCursors.length!==i.length||this._cursorSmoothCaretAnimation==="explicit"&&n!==3;if(this._primaryCursor.setPlurality(i.length?GC.MultiPrimary:GC.Single),this._primaryCursor.onCursorPositionChanged(t,r),this._updateBlinking(),this._secondaryCursors.length<i.length){var e=i.length-this._secondaryCursors.length;for(var o=0;o<e;o++){var s=new VC(this._context,GC.MultiSecondary);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}}else if(this._secondaryCursors.length>i.length){var e=this._secondaryCursors.length-i.length;for(var o=0;o<e;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(var e=0;e<i.length;e++)this._secondaryCursors[e].onCursorPositionChanged(i[e],r)};i.prototype.onCursorStateChanged=function(t){var i=[];for(var n=0,r=t.selections.length;n<r;n++)i[n]=t.selections[n].getPosition();this._onCursorPositionChanged(i[0],i.slice(1),t.reason);var e=t.selections[0].isEmpty();return this._selectionIsEmpty!==e&&(this._selectionIsEmpty=e,this._updateDomClassName()),!0};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onFocusChanged=function(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return!0};i.prototype.onTokensChanged=function(t){var i=function(i){for(var n=0,r=t.ranges.length;n<r;n++)if(t.ranges[n].fromLineNumber<=i.lineNumber&&i.lineNumber<=t.ranges[n].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(var n=0,r=this._secondaryCursors;n<r.length;n++){var e=r[n];if(i(e.getPosition()))return!0}return!1};i.prototype.onZonesChanged=function(t){return!0};i.prototype._getCursorBlinking=function(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0};i.prototype._updateBlinking=function(){var t=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var n=this._getCursorBlinking(),r=n===0,e=n===5;r?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),r||e||(n===1?this._cursorFlatBlinkInterval.cancelAndSet((function(){t._isVisible?t._hide():t._show()}),i.BLINK_INTERVAL,ka(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet((function(){t._blinkingEnabled=!0,t._updateDomClassName()}),i.BLINK_INTERVAL))};i.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())};i.prototype._getClassName=function(){var t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case zi.Line:t+=" cursor-line-style";break;case zi.Block:t+=" cursor-block-style";break;case zi.Underline:t+=" cursor-underline-style";break;case zi.LineThin:t+=" cursor-line-thin-style";break;case zi.BlockOutline:t+=" cursor-block-outline-style";break;case zi.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation!=="on"&&this._cursorSmoothCaretAnimation!=="explicit"||(t+=" cursor-smooth-caret-animation"),t};i.prototype._show=function(){this._primaryCursor.show();for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].show();this._isVisible=!0};i.prototype._hide=function(){this._primaryCursor.hide();for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].hide();this._isVisible=!1};i.prototype.prepareRender=function(t){this._primaryCursor.prepareRender(t);for(var i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].prepareRender(t)};i.prototype.render=function(t){var i=[];var n=0;var r=this._primaryCursor.render(t);r&&(i[n++]=r);for(var e=0,o=this._secondaryCursors.length;e<o;e++){var s=this._secondaryCursors[e].render(t);s&&(i[n++]=s)}this._renderData=i};i.prototype.getLastRenderData=function(){return this._renderData};return i}(_y);KC.BLINK_INTERVAL=500,cx((function(t,i){var n=[{class:".cursor",foreground:dx,background:vx},{class:".cursor-primary",foreground:Ax,background:gx},{class:".cursor-secondary",foreground:wx,background:px}];for(var r=0,e=n;r<e.length;r++){var o=e[r];var s=t.getColor(o.foreground);if(s){var u=t.getColor(o.background);u||(u=s.opposite()),i.addRule(".monaco-editor .cursors-layer ".concat(o.class," { background-color: ").concat(s,"; border-color: ").concat(s,"; color: ").concat(u,"; }")),zy(t.type)&&i.addRule(".monaco-editor .cursors-layer.has-selection ".concat(o.class," { border-left: 1px solid ").concat(u,"; border-right: 1px solid ").concat(u,"; }"))}}}));var XC=function(){throw new Error("Invalid change accessor")};var qC=function(t){__extends(i,t);function i(i){var n=t.call(this,i)||this;var r=n._context.configuration.options,e=r.get(145);n._lineHeight=r.get(67),n._contentWidth=e.contentWidth,n._contentLeft=e.contentLeft,n.domNode=th(document.createElement("div")),n.domNode.setClassName("view-zones"),n.domNode.setPosition("absolute"),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.marginDomNode=th(document.createElement("div")),n.marginDomNode.setClassName("margin-view-zones"),n.marginDomNode.setPosition("absolute"),n.marginDomNode.setAttribute("role","presentation"),n.marginDomNode.setAttribute("aria-hidden","true"),n._zones={};return n}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._zones={}};i.prototype._recomputeWhitespacesProps=function(){var t=this;var i=this._context.viewLayout.getWhitespaces(),n=new Map;for(var r=0,e=i;r<e.length;r++){var o=e[r];n.set(o.id,o)}var s=!1;return this._context.viewModel.changeWhitespace((function(i){var r=Object.keys(t._zones);for(var e=0,o=r.length;e<o;e++){var u=r[e],a=t._zones[u],c=t._computeWhitespaceProps(a.delegate);a.isInHiddenArea=c.isInHiddenArea;var h=n.get(u);!h||h.afterLineNumber===c.afterViewLineNumber&&h.height===c.heightInPx||(i.changeOneWhitespace(u,c.afterViewLineNumber,c.heightInPx),t._safeCallOnComputedHeight(a.delegate,c.heightInPx),s=!0)}})),s};i.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,n=i.get(145);return this._lineHeight=i.get(67),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,t.hasChanged(67)&&this._recomputeWhitespacesProps(),!0};i.prototype.onLineMappingChanged=function(t){return this._recomputeWhitespacesProps()};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype._getZoneOrdinal=function(t){var i,n;return(n=(i=t.ordinal)!==null&&i!==void 0?i:t.afterColumn)!==null&&n!==void 0?n:1e4};i.prototype._computeWhitespaceProps=function(t){if(t.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};var i,n;if(t.afterColumn!==void 0)i=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{var r=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;i=new qr(r,this._context.viewModel.model.getLineMaxColumn(r))}n=i.column===this._context.viewModel.model.getLineMaxColumn(i.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber,column:i.column+1});var e=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i,t.afterColumnAffinity,!0),o=t.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!o,afterViewLineNumber:e.lineNumber,heightInPx:o?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}};i.prototype.changeViewZones=function(t){var i=this;var n=!1;return this._context.viewModel.changeWhitespace((function(r){var e={addZone:function(t){return n=!0,i._addZone(r,t)},removeZone:function(t){t&&(n=i._removeZone(r,t)||n)},layoutZone:function(t){t&&(n=i._layoutZone(r,t)||n)}};(function(t,i){try{return t(i)}catch(t){cn(t)}})(t,e),e.addZone=XC,e.removeZone=XC,e.layoutZone=XC})),n};i.prototype._addZone=function(t,i){var n=this._computeWhitespaceProps(i),r={whitespaceId:t.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(i),n.heightInPx,n.minWidthInPx),delegate:i,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:th(i.domNode),marginDomNode:i.marginDomNode?th(i.marginDomNode):null};return this._safeCallOnComputedHeight(r.delegate,n.heightInPx),r.domNode.setPosition("absolute"),r.domNode.domNode.style.width="100%",r.domNode.setDisplay("none"),r.domNode.setAttribute("monaco-view-zone",r.whitespaceId),this.domNode.appendChild(r.domNode),r.marginDomNode&&(r.marginDomNode.setPosition("absolute"),r.marginDomNode.domNode.style.width="100%",r.marginDomNode.setDisplay("none"),r.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId),this.marginDomNode.appendChild(r.marginDomNode)),this._zones[r.whitespaceId]=r,this.setShouldRender(),r.whitespaceId};i.prototype._removeZone=function(t,i){if(this._zones.hasOwnProperty(i)){var n=this._zones[i];return delete this._zones[i],t.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1};i.prototype._layoutZone=function(t,i){if(this._zones.hasOwnProperty(i)){var n=this._zones[i],r=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=r.isInHiddenArea,t.changeOneWhitespace(n.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(n.delegate,r.heightInPx),this.setShouldRender(),!0}return!1};i.prototype.shouldSuppressMouseDownOnViewZone=function(t){return this._zones.hasOwnProperty(t)?!!this._zones[t].delegate.suppressMouseDown:!1};i.prototype._heightInPixels=function(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight};i.prototype._minWidthInPixels=function(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0};i.prototype._safeCallOnComputedHeight=function(t,i){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(i)}catch(t){cn(t)}};i.prototype._safeCallOnDomNodeTop=function(t,i){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(i)}catch(t){cn(t)}};i.prototype.prepareRender=function(t){};i.prototype.render=function(t){var i=t.viewportData.whitespaceViewportData,n={};var r=!1;for(var e=0,o=i;e<o.length;e++){var s=o[e];this._zones[s.id].isInHiddenArea||(n[s.id]=s,r=!0)}var u=Object.keys(this._zones);for(var s=0,a=u.length;s<a;s++){var c=u[s],h=this._zones[c];var f=0,l=0,d="none";n.hasOwnProperty(c)?(f=n[c].verticalOffset-t.bigNumbersDelta,l=n[c].height,d="block",h.isVisible||(h.domNode.setAttribute("monaco-visible-view-zone","true"),h.isVisible=!0),this._safeCallOnDomNodeTop(h.delegate,t.getScrolledTopFromAbsoluteTop(n[c].verticalOffset))):(h.isVisible&&(h.domNode.removeAttribute("monaco-visible-view-zone"),h.isVisible=!1),this._safeCallOnDomNodeTop(h.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),h.domNode.setTop(f),h.domNode.setHeight(l),h.domNode.setDisplay(d),h.marginDomNode&&(h.marginDomNode.setTop(f),h.marginDomNode.setHeight(l),h.marginDomNode.setDisplay(d))}r&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))};return i}(_y);var ZC=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._context=i,n._options=new $C(n._context.configuration),n._selection=[],n._renderResult=null,n._context.addEventHandler(n);return n}i.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)};i.prototype.onConfigurationChanged=function(t){var i=new $C(this._context.configuration);return this._options.equals(i)?t.hasChanged(145):(this._options=i,!0)};i.prototype.onCursorStateChanged=function(t){return this._selection=t.selections,this._options.renderWhitespace==="selection"};i.prototype.onDecorationsChanged=function(t){return!0};i.prototype.onFlushed=function(t){return!0};i.prototype.onLinesChanged=function(t){return!0};i.prototype.onLinesDeleted=function(t){return!0};i.prototype.onLinesInserted=function(t){return!0};i.prototype.onScrollChanged=function(t){return t.scrollTopChanged};i.prototype.onZonesChanged=function(t){return!0};i.prototype.prepareRender=function(t){if(this._options.renderWhitespace==="none")return void(this._renderResult=null);var i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber-i+1,r=new Array(n);for(var e=0;e<n;e++)r[e]=!0;var o=this._context.viewModel.getMinimapLinesRenderingData(t.viewportData.startLineNumber,t.viewportData.endLineNumber,r);this._renderResult=[];for(var e=t.viewportData.startLineNumber;e<=t.viewportData.endLineNumber;e++){var s=e-t.viewportData.startLineNumber,u=o.data[s];var a=null;if(this._options.renderWhitespace==="selection"){var c=this._selection;for(var h=0,f=c;h<f.length;h++){var l=f[h];if(l.endLineNumber<e||l.startLineNumber>e)continue;var d=l.startLineNumber===e?l.startColumn:u.minColumn,v=l.endLineNumber===e?l.endColumn:u.maxColumn;d<v&&(a||(a=[]),a.push(new Ug(d-1,v-1)))}}this._renderResult[s]=this._applyRenderWhitespace(t,e,a,u)}};i.prototype._applyRenderWhitespace=function(t,i,n,r){if(this._options.renderWhitespace==="selection"&&!n||this._options.renderWhitespace==="trailing"&&r.continuesWithWrappedLine)return"";var e=this._context.theme.getColor(mx),o=this._options.renderWithSVG,s=r.content,u=this._options.stopRenderingLineAfter===-1?s.length:Math.min(this._options.stopRenderingLineAfter,s.length),a=r.continuesWithWrappedLine,c=r.minColumn-1,h=this._options.renderWhitespace==="boundary",f=this._options.renderWhitespace==="trailing",l=this._options.lineHeight,d=this._options.middotWidth,v=this._options.wsmiddotWidth,A=this._options.spaceWidth,g=Math.abs(v-A)<Math.abs(d-A)?11825:183,w=this._options.canUseHalfwidthRightwardsArrow;var p,m="",b=!1,y=Fo(s);y===-1?(b=!0,y=u,p=u):p=Io(s);var k=0,x=n&&n[k],E=0;for(var B=c;B<u;B++){var C=s.charCodeAt(B);if(x&&B>=x.endOffset&&(k++,x=n&&n[k]),C!==9&&C!==32||f&&!b&&B<=p)continue;if(h&&B>=y&&B<=p&&C===32){var D=B-1>=0?s.charCodeAt(B-1):0,M=B+1<u?s.charCodeAt(B+1):0;if(D!==32&&M!==32)continue}if(h&&a&&B===u-1){var D=B-1>=0?s.charCodeAt(B-1):0;if(C===32&&D!==32&&D!==9)continue}if(n&&(!x||x.startOffset>B||x.endOffset<=B))continue;var _=t.visibleRangeForPosition(new qr(i,B+1));_&&(o?(E=Math.max(E,_.left),m+=C===9?this._renderArrow(l,A,_.left):'<circle cx="'.concat((_.left+A/2).toFixed(2),'" cy="').concat((l/2).toFixed(2),'" r="').concat((A/7).toFixed(2),'" />')):m+=C===9?'<div class="mwh" style="left:'.concat(_.left,"px;height:").concat(l,'px;">').concat(w?"￫":"→","</div>"):'<div class="mwh" style="left:'.concat(_.left,"px;height:").concat(l,'px;">').concat(String.fromCharCode(g),"</div>"))}return o?(E=Math.round(E+A),'<svg style="bottom:0;position:absolute;width:'.concat(E,"px;height:").concat(l,'px" viewBox="0 0 ').concat(E," ").concat(l,'" xmlns="http://www.w3.org/2000/svg" fill="').concat(e,'">')+m+"</svg>"):m};i.prototype._renderArrow=function(t,i,n){var r=t/2,e=n,o={x:0,y:i/7/2},s={x:.8*i,y:o.y},u={x:s.x-.2*s.x,y:s.y+.2*s.x},a={x:u.x+.1*s.x,y:u.y+.1*s.x},c={x:a.x+.35*s.x,y:a.y-.35*s.x};return'<path d="M '.concat([o,s,u,a,c,{x:c.x,y:-c.y},{x:a.x,y:-a.y},{x:u.x,y:-u.y},{x:s.x,y:-s.y},{x:o.x,y:-o.y}].map((function(t){return"".concat((e+t.x).toFixed(2)," ").concat((r+t.y).toFixed(2))})).join(" L "),'" />')};i.prototype.render=function(t,i){if(!this._renderResult)return"";var n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]};return i}(rx);var $C=function(){function t(t){var i=t.options,n=i.get(50),r=i.get(38);r==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):r==="svg"?(this.renderWhitespace=i.get(99),this.renderWithSVG=!0):(this.renderWhitespace=i.get(99),this.renderWithSVG=!1),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(67),this.stopRenderingLineAfter=i.get(117)}t.prototype.equals=function(t){return this.renderWhitespace===t.renderWhitespace&&this.renderWithSVG===t.renderWithSVG&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter};return t}();var tD=function(){function t(t,i,n,r){this.selections=t,this.startLineNumber=0|i.startLineNumber,this.endLineNumber=0|i.endLineNumber,this.relativeVerticalOffset=i.relativeVerticalOffset,this.bigNumbersDelta=0|i.bigNumbersDelta,this.lineHeight=0|i.lineHeight,this.whitespaceViewportData=n,this._model=r,this.visibleRange=new Zr(i.startLineNumber,this._model.getLineMinColumn(i.startLineNumber),i.endLineNumber,this._model.getLineMaxColumn(i.endLineNumber))}t.prototype.getViewLineRenderingData=function(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)};t.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)};return t}();var iD=function(){function t(t){this._theme=t}Object.defineProperty(t.prototype,"type",{get:function(){return this._theme.type},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"value",{get:function(){return this._theme},enumerable:false,configurable:true});t.prototype.update=function(t){this._theme=t};t.prototype.getColor=function(t){return this._theme.getColor(t)};return t}();var nD=function(){function t(t,i,n){this.configuration=t,this.theme=new iD(i),this.viewModel=n,this.viewLayout=n.viewLayout}t.prototype.addEventHandler=function(t){this.viewModel.addViewEventHandler(t)};t.prototype.removeEventHandler=function(t){this.viewModel.removeViewEventHandler(t)};return t}();var rD=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},eD=function(t,i){return function(n,r){i(n,r,t)}};var oD=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this)||this,a._instantiationService=u,a._shouldRecomputeGlyphMarginLanes=!1,a._selections=[new $r(1,1,1,1)],a._renderAnimationFrame=null;var c=new xB(n,e,o,i);a._context=new nD(n,r,e),a._context.addEventHandler(a),a._viewParts=[],a._textAreaHandler=a._instantiationService.createInstance(mE,a._context,c,a._createTextAreaHandlerHelper()),a._viewParts.push(a._textAreaHandler),a._linesContent=th(document.createElement("div")),a._linesContent.setClassName("lines-content monaco-editor-background"),a._linesContent.setPosition("absolute"),a.domNode=th(document.createElement("div")),a.domNode.setClassName(a._getEditorClassName()),a.domNode.setAttribute("role","code"),a._overflowGuardContainer=th(document.createElement("div")),Fy.write(a._overflowGuardContainer,3),a._overflowGuardContainer.setClassName("overflow-guard"),a._scrollbar=new YB(a._context,a._linesContent,a.domNode,a._overflowGuardContainer),a._viewParts.push(a._scrollbar),a._viewLines=new hC(a._context,a._linesContent),a._viewZones=new qC(a._context),a._viewParts.push(a._viewZones);var h=new QC(a._context);a._viewParts.push(h);var f=new jC(a._context);a._viewParts.push(f);var l=new _B(a._context);a._viewParts.push(l),l.addDynamicOverlay(new zB(a._context)),l.addDynamicOverlay(new JC(a._context)),l.addDynamicOverlay(new eC(a._context)),l.addDynamicOverlay(new HB(a._context)),l.addDynamicOverlay(new ZC(a._context));var d=new FB(a._context);a._viewParts.push(d),d.addDynamicOverlay(new UB(a._context)),d.addDynamicOverlay(new lC(a._context)),d.addDynamicOverlay(new fC(a._context)),d.addDynamicOverlay(new hE(a._context)),a._glyphMarginWidgets=new VB(a._context),a._viewParts.push(a._glyphMarginWidgets);var v=new fE(a._context);v.getDomNode().appendChild(a._viewZones.marginDomNode),v.getDomNode().appendChild(d.getDomNode()),v.getDomNode().appendChild(a._glyphMarginWidgets.domNode),a._viewParts.push(v),a._contentWidgets=new QB(a._context,a.domNode),a._viewParts.push(a._contentWidgets),a._viewCursors=new KC(a._context),a._viewParts.push(a._viewCursors),a._overlayWidgets=new SC(a._context,a.domNode),a._viewParts.push(a._overlayWidgets);var A=new LC(a._context);a._viewParts.push(A);var g=new IB(a._context);a._viewParts.push(g);var w=new MC(a._context);if(a._viewParts.push(w),h){var p=a._scrollbar.getOverviewRulerLayoutInfo();p.parent.insertBefore(h.getDomNode(),p.insertBefore)}a._linesContent.appendChild(l.getDomNode()),a._linesContent.appendChild(A.domNode),a._linesContent.appendChild(a._viewZones.domNode),a._linesContent.appendChild(a._viewLines.getDomNode()),a._linesContent.appendChild(a._contentWidgets.domNode),a._linesContent.appendChild(a._viewCursors.getDomNode()),a._overflowGuardContainer.appendChild(v.getDomNode()),a._overflowGuardContainer.appendChild(a._scrollbar.getDomNode()),a._overflowGuardContainer.appendChild(f.getDomNode()),a._overflowGuardContainer.appendChild(a._textAreaHandler.textArea),a._overflowGuardContainer.appendChild(a._textAreaHandler.textAreaCover),a._overflowGuardContainer.appendChild(a._overlayWidgets.getDomNode()),a._overflowGuardContainer.appendChild(w.getDomNode()),a._overflowGuardContainer.appendChild(g.domNode),a.domNode.appendChild(a._overflowGuardContainer),s?(s.appendChild(a._contentWidgets.overflowingContentWidgetsDomNode.domNode),s.appendChild(a._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(a.domNode.appendChild(a._contentWidgets.overflowingContentWidgetsDomNode),a.domNode.appendChild(a._overlayWidgets.overflowingOverlayWidgetsDomNode)),a._applyLayout(),a._pointerHandler=a._register(new nx(a._context,c,a._createPointerHandlerHelper()));return a}i.prototype._computeGlyphMarginLanes=function(){var t=this._context.viewModel.model,i=this._context.viewModel.glyphLanes;var n=[],r=0;n=n.concat(t.getAllMarginDecorations().map((function(t){var i,n,e;var o=(n=(i=t.options.glyphMargin)===null||i===void 0?void 0:i.position)!==null&&n!==void 0?n:Fv.Center;return r=Math.max(r,t.range.endLineNumber),{range:t.range,lane:o,persist:(e=t.options.glyphMargin)===null||e===void 0?void 0:e.persistLane}}))),n=n.concat(this._glyphMarginWidgets.getWidgets().map((function(i){var n=t.validateRange(i.preference.range);return r=Math.max(r,n.endLineNumber),{range:n,lane:i.preference.lane}}))),n.sort((function(t,i){return Zr.compareRangesUsingStarts(t.range,i.range)})),i.reset(r);for(var e=0,o=n;e<o.length;e++){var s=o[e];i.push(s.lane,s.range,s.persist)}return i};i.prototype._createPointerHandlerHelper=function(){var t=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:function(){t.focus()},dispatchTextAreaEvent:function(i){t._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:function(){var i=t._viewCursors.getLastRenderData()||[],n=t._textAreaHandler.getLastRenderData();return new ek(i,n)},renderNow:function(){t.render(!0,!1)},shouldSuppressMouseDownOnViewZone:function(i){return t._viewZones.shouldSuppressMouseDownOnViewZone(i)},shouldSuppressMouseDownOnWidget:function(i){return t._contentWidgets.shouldSuppressMouseDownOnWidget(i)},getPositionFromDOMInfo:function(i,n){return t._flushAccumulatedAndRenderNow(),t._viewLines.getPositionFromDOMInfo(i,n)},visibleRangeForPosition:function(i,n){return t._flushAccumulatedAndRenderNow(),t._viewLines.visibleRangeForPosition(new qr(i,n))},getLineWidth:function(i){return t._flushAccumulatedAndRenderNow(),t._viewLines.getLineWidth(i)}}};i.prototype._createTextAreaHandlerHelper=function(){var t=this;return{visibleRangeForPosition:function(i){return t._flushAccumulatedAndRenderNow(),t._viewLines.visibleRangeForPosition(i)}}};i.prototype._applyLayout=function(){var t=this._context.configuration.options.get(145);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)};i.prototype._getEditorClassName=function(){var t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+sx(this._context.theme.type)+t};i.prototype.handleEvents=function(i){t.prototype.handleEvents.call(this,i),this._scheduleRender()};i.prototype.onConfigurationChanged=function(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1};i.prototype.onCursorStateChanged=function(t){return this._selections=t.selections,!1};i.prototype.onDecorationsChanged=function(t){return t.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1};i.prototype.onFocusChanged=function(t){return this.domNode.setClassName(this._getEditorClassName()),!1};i.prototype.onThemeChanged=function(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1};i.prototype.dispose=function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(var i=0,n=this._viewParts;i<n.length;i++){var r=n[i];r.dispose()}t.prototype.dispose.call(this)};i.prototype._scheduleRender=function(){var t=this;if(this._store.isDisposed)throw new mn;if(this._renderAnimationFrame===null){var i=this._createCoordinatedRendering();this._renderAnimationFrame=uD.INSTANCE.scheduleCoordinatedRendering({window:ka(this.domNode.domNode),prepareRenderText:function(){if(t._store.isDisposed)throw new mn;try{return i.prepareRenderText()}finally{t._renderAnimationFrame=null}},renderText:function(){if(t._store.isDisposed)throw new mn;return i.renderText()},prepareRender:function(n,r){if(t._store.isDisposed)throw new mn;return i.prepareRender(n,r)},render:function(n,r){if(t._store.isDisposed)throw new mn;return i.render(n,r)}})}};i.prototype._flushAccumulatedAndRenderNow=function(){var t=this._createCoordinatedRendering();sD((function(){return t.prepareRenderText()}));var i=sD((function(){return t.renderText()}));if(i){var n=i[0],r=i[1];sD((function(){return t.prepareRender(n,r)})),sD((function(){return t.render(n,r)}))}};i.prototype._getViewPartsToRender=function(){var t=[];var i=0;for(var n=0,r=this._viewParts;n<r.length;n++){var e=r[n];e.shouldRender()&&(t[i++]=e)}return t};i.prototype._createCoordinatedRendering=function(){var t=this;return{prepareRenderText:function(){if(t._shouldRecomputeGlyphMarginLanes){t._shouldRecomputeGlyphMarginLanes=!1;var i=t._computeGlyphMarginLanes();t._context.configuration.setGlyphMarginDecorationLaneCount(i.requiredLanes)}op.onRenderStart()},renderText:function(){if(!t.domNode.domNode.isConnected)return null;var i=t._getViewPartsToRender();if(!t._viewLines.shouldRender()&&i.length===0)return null;var n=t._context.viewLayout.getLinesViewportData();t._context.viewModel.setViewport(n.startLineNumber,n.endLineNumber,n.centeredLineNumber);var r=new tD(t._selections,n,t._context.viewLayout.getWhitespaceViewportData(),t._context.viewModel);return t._contentWidgets.shouldRender()&&t._contentWidgets.onBeforeRender(r),t._viewLines.shouldRender()&&(t._viewLines.renderText(r),t._viewLines.onDidRender(),i=t._getViewPartsToRender()),[i,new Iy(t._context.viewLayout,r,t._viewLines)]},prepareRender:function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];e.prepareRender(i)}},render:function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];e.render(i),e.onDidRender()}}}};i.prototype.delegateVerticalScrollbarPointerDown=function(t){this._scrollbar.delegateVerticalScrollbarPointerDown(t)};i.prototype.delegateScrollFromMouseWheelEvent=function(t){this._scrollbar.delegateScrollFromMouseWheelEvent(t)};i.prototype.restoreState=function(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()};i.prototype.getOffsetForColumn=function(t,i){var n=this._context.viewModel.model.validatePosition({lineNumber:t,column:i}),r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();var e=this._viewLines.visibleRangeForPosition(new qr(r.lineNumber,r.column));return e?e.left:-1};i.prototype.getTargetAtClientPoint=function(t,i){var n=this._pointerHandler.getTargetAtClientPoint(t,i);return n?SB.convertViewToModelMouseTarget(n,this._context.viewModel.coordinatesConverter):null};i.prototype.createOverviewRuler=function(t){return new TC(this._context,t)};i.prototype.change=function(t){this._viewZones.changeViewZones(t),this._scheduleRender()};i.prototype.render=function(t,i){if(i){this._viewLines.forceShouldRender();for(var n=0,r=this._viewParts;n<r.length;n++){var e=r[n];e.forceShouldRender()}}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()};i.prototype.writeScreenReaderContent=function(t){this._textAreaHandler.writeScreenReaderContent(t)};i.prototype.focus=function(){this._textAreaHandler.focusTextArea()};i.prototype.isFocused=function(){return this._textAreaHandler.isFocused()};i.prototype.setAriaOptions=function(t){this._textAreaHandler.setAriaOptions(t)};i.prototype.addContentWidget=function(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()};i.prototype.layoutContentWidget=function(t){var i,n,r,e,o,s,u,a;this._contentWidgets.setWidgetPosition(t.widget,(n=(i=t.position)===null||i===void 0?void 0:i.position)!==null&&n!==void 0?n:null,(e=(r=t.position)===null||r===void 0?void 0:r.secondaryPosition)!==null&&e!==void 0?e:null,(s=(o=t.position)===null||o===void 0?void 0:o.preference)!==null&&s!==void 0?s:null,(a=(u=t.position)===null||u===void 0?void 0:u.positionAffinity)!==null&&a!==void 0?a:null),this._scheduleRender()};i.prototype.removeContentWidget=function(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()};i.prototype.addOverlayWidget=function(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()};i.prototype.layoutOverlayWidget=function(t){var i=t.position?t.position.preference:null;this._overlayWidgets.setWidgetPosition(t.widget,i)&&this._scheduleRender()};i.prototype.removeOverlayWidget=function(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()};i.prototype.addGlyphMarginWidget=function(t){this._glyphMarginWidgets.addWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()};i.prototype.layoutGlyphMarginWidget=function(t){var i=t.position;this._glyphMarginWidgets.setWidgetPosition(t.widget,i)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())};i.prototype.removeGlyphMarginWidget=function(t){this._glyphMarginWidgets.removeWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()};return i}(My);function sD(t){try{return t()}catch(t){return cn(t),null}}oD=rD([eD(6,fh)],oD);var uD=function(){function t(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}t.prototype.scheduleCoordinatedRendering=function(t){var i=this;return this._coordinatedRenderings.push(t),this._scheduleRender(t.window),{dispose:function(){var n=i._coordinatedRenderings.indexOf(t);if(n!==-1&&(i._coordinatedRenderings.splice(n,1),i._coordinatedRenderings.length===0)){for(var r=0,e=i._animationFrameRunners;r<e.length;r++){var o=e[r],s=o[0],u=o[1];u.dispose()}i._animationFrameRunners.clear()}}}};t.prototype._scheduleRender=function(t){var i=this;if(!this._animationFrameRunners.has(t)){var n=function(){i._animationFrameRunners.delete(t),i._onRenderScheduled()};this._animationFrameRunners.set(t,za(t,n,100))}};t.prototype._onRenderScheduled=function(){var t=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];var i=function(t){sD((function(){return t.prepareRenderText()}))};for(var n=0,r=t;n<r.length;n++){var e=r[n];i(e)}var o=[];var s=function(i,n){var r=t[i];o[i]=sD((function(){return r.renderText()}))};for(var e=0,u=t.length;e<u;e++){s(e,u)}var a=function(i,n){var r=t[i],e=o[i];if(!e)return"continue";var s=e[0],u=e[1];sD((function(){return r.prepareRender(s,u)}))};for(var e=0,u=t.length;e<u;e++){a(e,u)}var c=function(i,n){var r=t[i],e=o[i];if(!e)return"continue";var s=e[0],u=e[1];sD((function(){return r.render(s,u)}))};for(var e=0,u=t.length;e<u;e++){c(e,u)}};return t}();uD.INSTANCE=new uD;var aD=function(){function t(t,i,n,r,e){this.injectionOffsets=t,this.injectionOptions=i,this.breakOffsets=n,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=e}t.prototype.getOutputLineCount=function(){return this.breakOffsets.length};t.prototype.getMinOutputOffset=function(t){return t>0?this.wrappedTextIndentLength:0};t.prototype.getLineLength=function(t){var i=t>0?this.breakOffsets[t-1]:0;var n=this.breakOffsets[t]-i;return t>0&&(n+=this.wrappedTextIndentLength),n};t.prototype.getMaxOutputOffset=function(t){return this.getLineLength(t)};t.prototype.translateToInputOffset=function(t,i){t>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));var n=t===0?i:this.breakOffsets[t-1]+i;if(this.injectionOffsets!==null)for(var r=0;r<this.injectionOffsets.length&&n>this.injectionOffsets[r];r++)n<this.injectionOffsets[r]+this.injectionOptions[r].content.length?n=this.injectionOffsets[r]:n-=this.injectionOptions[r].content.length;return n};t.prototype.translateToOutputPosition=function(t,i){if(i===void 0){i=2}var n=t;if(this.injectionOffsets!==null)for(var r=0;r<this.injectionOffsets.length&&!(t<this.injectionOffsets[r])&&(i===1||t!==this.injectionOffsets[r]);r++)n+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,i)};t.prototype.offsetInInputWithInjectionsToOutputPosition=function(t,i){if(i===void 0){i=2}var n=0,r=this.breakOffsets.length-1,e=0,o=0;for(;n<=r;){e=n+(r-n)/2|0;var s=this.breakOffsets[e];if(o=e>0?this.breakOffsets[e-1]:0,i===0)if(t<=o)r=e-1;else{if(!(t>s))break;n=e+1}else if(t<o)r=e-1;else{if(!(t>=s))break;n=e+1}}var u=t-o;return e>0&&(u+=this.wrappedTextIndentLength),new fD(e,u)};t.prototype.normalizeOutputPosition=function(t,i,n){if(this.injectionOffsets!==null){var r=this.outputPositionToOffsetInInputWithInjections(t,i),e=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,n);if(e!==r)return this.offsetInInputWithInjectionsToOutputPosition(e,n)}if(n===0){if(t>0&&i===this.getMinOutputOffset(t))return new fD(t-1,this.getMaxOutputOffset(t-1))}else if(n===1&&t<this.getOutputLineCount()-1&&i===this.getMaxOutputOffset(t))return new fD(t+1,this.getMinOutputOffset(t+1));return new fD(t,i)};t.prototype.outputPositionToOffsetInInputWithInjections=function(t,i){return t>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+i};t.prototype.normalizeOffsetInInputWithInjectionsAroundInjections=function(t,i){var n=this.getInjectedTextAtOffset(t);if(!n)return t;if(i===2){if(t===n.offsetInInputWithInjections+n.length&&cD(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{var r=n.offsetInInputWithInjections;if(hD(this.injectionOptions[n.injectedTextIndex].cursorStops))return r;var e=n.injectedTextIndex-1;for(;e>=0&&this.injectionOffsets[e]===this.injectionOffsets[n.injectedTextIndex]&&!cD(this.injectionOptions[e].cursorStops)&&(r-=this.injectionOptions[e].content.length,!hD(this.injectionOptions[e].cursorStops));)e--;return r}}if(i===1||i===4){var r=n.offsetInInputWithInjections+n.length,e=n.injectedTextIndex;for(;e+1<this.injectionOffsets.length&&this.injectionOffsets[e+1]===this.injectionOffsets[e];)r+=this.injectionOptions[e+1].content.length,e++;return r}if(i===0||i===3){var r=n.offsetInInputWithInjections,e=n.injectedTextIndex;for(;e-1>=0&&this.injectionOffsets[e-1]===this.injectionOffsets[e];)r-=this.injectionOptions[e-1].content.length,e--;return r}wf()};t.prototype.getInjectedText=function(t,i){var n=this.outputPositionToOffsetInInputWithInjections(t,i),r=this.getInjectedTextAtOffset(n);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null};t.prototype.getInjectedTextAtOffset=function(t){var i=this.injectionOffsets,n=this.injectionOptions;if(i!==null){var r=0;for(var e=0;e<i.length;e++){var o=n[e].content.length,s=i[e]+r,u=i[e]+r+o;if(s>t)break;if(t<=u)return{injectedTextIndex:e,offsetInInputWithInjections:s,length:o};r+=o}}};return t}();function cD(t){return t==null||t===Sv.Right||t===Sv.Both}function hD(t){return t==null||t===Sv.Left||t===Sv.Both}var fD=function(){function t(t,i){this.outputLineIndex=t,this.outputOffset=i}t.prototype.toString=function(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)};t.prototype.toPosition=function(t){return new qr(t+this.outputLineIndex,this.outputOffset+1)};return t}();var lD=function(){function t(){this.changeType=1}return t}();var dD=function(){function t(t,i,n,r,e){this.ownerId=t,this.lineNumber=i,this.column=n,this.options=r,this.order=e}t.applyInjectedText=function(t,i){if(!i||i.length===0)return t;var n="",r=0;for(var e=0,o=i;e<o.length;e++){var s=o[e];n+=t.substring(r,s.column-1),r=s.column-1,n+=s.options.content}return n+=t.substring(r),n};t.fromDecorations=function(i){var n=[];for(var r=0,e=i;r<e.length;r++){var o=e[r];o.options.before&&o.options.before.content.length>0&&n.push(new t(o.ownerId,o.range.startLineNumber,o.range.startColumn,o.options.before,0)),o.options.after&&o.options.after.content.length>0&&n.push(new t(o.ownerId,o.range.endLineNumber,o.range.endColumn,o.options.after,1))}return n.sort((function(t,i){return t.lineNumber===i.lineNumber?t.column===i.column?t.order-i.order:t.column-i.column:t.lineNumber-i.lineNumber})),n};return t}();var vD=function(){function t(t,i,n){this.changeType=2,this.lineNumber=t,this.detail=i,this.injectedText=n}return t}();var AD=function(){function t(t,i){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=i}return t}();var gD=function(){function t(t,i,n,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=t,this.toLineNumber=i,this.detail=n}return t}();var wD=function(){function t(){this.changeType=5}return t}();var pD=function(){function t(t,i,n,r){this.changes=t,this.versionId=i,this.isUndoing=n,this.isRedoing=r,this.resultingSelection=null}t.prototype.containsEvent=function(t){for(var i=0,n=this.changes.length;i<n;i++)if(this.changes[i].changeType===t)return!0;return!1};t.merge=function(i,n){var r=[].concat(i.changes).concat(n.changes),e=n.versionId,o=i.isUndoing||n.isUndoing,s=i.isRedoing||n.isRedoing;return new t(r,e,o,s)};return t}();var mD=function(){function t(t){this.changes=t}return t}();var bD=function(){function t(t,i){this.rawContentChangedEvent=t,this.contentChangedEvent=i}t.prototype.merge=function(i){var n=pD.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),r=t._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new t(n,r)};t._mergeChangeEvents=function(t,i){var n=[].concat(t.changes).concat(i.changes),r=i.eol,e=i.versionId,o=t.isUndoing||i.isUndoing,s=t.isRedoing||i.isRedoing,u=t.isFlush||i.isFlush;return{changes:n,eol:r,isEolChange:t.isEolChange&&i.isEolChange,versionId:e,isUndoing:o,isRedoing:s,isFlush:u}};return t}();var yD=ml("domLineBreaksComputer",{createHTML:function(t){return t}});var kD=function(){function t(t){this.targetWindow=t}t.create=function(i){return new t(new WeakRef(i))};t.prototype.createLineBreaksComputer=function(t,i,n,r,e){var o=this;var s=[],u=[];return{addRequest:function(t,i,n){s.push(t),u.push(i)},finalize:function(){return function(t,i,n,r,e,o,s,u){var a;function c(t){var n=u[t];if(n){var r=dD.applyInjectedText(i[t],n),e=n.map((function(t){return t.options})),o=n.map((function(t){return t.column-1}));return new aD(o,e,[r.length],[],0)}return null}if(e===-1){var h=[];for(var f=0,l=i.length;f<l;f++)h[f]=c(f);return h}var d=Math.round(e*n.typicalHalfwidthCharacterWidth),v=o===3?2:o===2?1:0,A=Math.round(r*v),g=Math.ceil(n.spaceWidth*A),w=document.createElement("div");ih(w,n);var p=new Wl(1e4),m=[],b=[],y=[],k=[],x=[];for(var h=0;h<i.length;h++){var f=dD.applyInjectedText(i[h],u[h]);var l=0,E=0,B=d;if(o!==0)if(l=Fo(f),l===-1)l=0;else{for(var C=0;C<l;C++)E+=f.charCodeAt(C)===9?r-E%r:1;var D=Math.ceil(n.spaceWidth*E);D+n.typicalFullwidthCharacterWidth>d?(l=0,E=0):B=d-D}var M=f.substr(l),_=xD(M,E,r,B,p,g);m[h]=l,b[h]=E,y[h]=M,k[h]=_[0],x[h]=_[1]}var F=p.build(),S=(a=yD==null?void 0:yD.createHTML(F))!==null&&a!==void 0?a:F;w.innerHTML=S,w.style.position="absolute",w.style.top="10000",s==="keepAll"?(w.style.wordBreak="keep-all",w.style.overflowWrap="anywhere"):(w.style.wordBreak="inherit",w.style.overflowWrap="break-word"),t.document.body.appendChild(w);var I=document.createRange(),Q=Array.prototype.slice.call(w.children,0),O=[];for(var h=0;h<i.length;h++){var f=ED(I,Q[h],y[h],k[h]);if(f===null){O[h]=c(h);continue}var l=m[h],E=b[h]+A,B=x[h],M=[];for(var N=0,R=f.length;N<R;N++)M[N]=B[f[N]];if(l!==0)for(var N=0,R=f.length;N<R;N++)f[N]+=l;var _=void 0,D=void 0;var C=u[h];C?(_=C.map((function(t){return t.options})),D=C.map((function(t){return t.column-1}))):(_=null,D=null),O[h]=new aD(D,_,f,M,E)}return t.document.body.removeChild(w),O}(dt(o.targetWindow.deref()),s,t,i,n,r,e,u)}}};return t}();function xD(t,i,n,r,e,o){if(o!==0){var s=String(o);e.appendString('<div style="text-indent: -'),e.appendString(s),e.appendString("px; padding-left: "),e.appendString(s),e.appendString("px; box-sizing: border-box; width:")}else e.appendString('<div style="width:');e.appendString(String(r)),e.appendString('px;">');var u=t.length;var a=i,c=0;var h=[],f=[];var l=0<u?t.charCodeAt(0):0;e.appendString("<span>");for(var s=0;s<u;s++){s!==0&&s%16384==0&&e.appendString("</span><span>"),h[s]=c,f[s]=a;var d=l;l=s+1<u?t.charCodeAt(s+1):0;var v=1,A=1;switch(d){case 9:v=n-a%n,A=v;for(var g=1;g<=v;g++)g<v?e.appendCharCode(160):e.appendASCIICharCode(32);break;case 32:l===32?e.appendCharCode(160):e.appendASCIICharCode(32);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:es(d)&&A++,d<32?e.appendCharCode(9216+d):e.appendCharCode(d)}c+=v,a+=A}return e.appendString("</span>"),h[t.length]=c,f[t.length]=a,e.appendString("</div>"),[h,f]}function ED(t,i,n,r){if(n.length<=1)return null;var e=Array.prototype.slice.call(i.children,0),o=[];try{BD(t,e,r,0,null,n.length-1,null,o)}catch(t){return console.log(t),null}return o.length===0?null:(o.push(n.length),o)}function BD(t,i,n,r,e,o,s,u){if(r===o||(e=e||CD(t,i,n[r],n[r+1]),s=s||CD(t,i,n[o],n[o+1]),Math.abs(e[0].top-s[0].top)<=.1))return;if(r+1===o)return void u.push(o);var a=r+(o-r)/2|0,c=CD(t,i,n[a],n[a+1]);BD(t,i,n,r,e,a,c,u),BD(t,i,n,a,c,o,s,u)}function CD(t,i,n,r){return t.setStart(i[n/16384|0].firstChild,n%16384),t.setEnd(i[r/16384|0].firstChild,r%16384),t.getClientRects()}var DD=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._editor=null,i._instantiationService=null,i._instances=i._register(new Fn),i._pending=new Map,i._finishedInstantiation=[],i._finishedInstantiation[0]=!1,i._finishedInstantiation[1]=!1,i._finishedInstantiation[2]=!1,i._finishedInstantiation[3]=!1;return i}i.prototype.initialize=function(t,i,n){var r=this;this._editor=t,this._instantiationService=n;for(var e=0,o=i;e<o.length;e++){var s=o[e];this._pending.has(s.id)?cn(new Error("Cannot have two contributions with the same id ".concat(s.id))):this._pending.set(s.id,s)}this._instantiateSome(0),this._register(La(ka(this._editor.getDomNode()),(function(){r._instantiateSome(1)}))),this._register(La(ka(this._editor.getDomNode()),(function(){r._instantiateSome(2)}))),this._register(La(ka(this._editor.getDomNode()),(function(){r._instantiateSome(3)}),5e3))};i.prototype.saveViewState=function(){var t={};for(var i=0,n=this._instances;i<n.length;i++){var r=n[i],e=r[0],o=r[1];typeof o.saveViewState=="function"&&(t[e]=o.saveViewState())}return t};i.prototype.restoreViewState=function(t){for(var i=0,n=this._instances;i<n.length;i++){var r=n[i],e=r[0],o=r[1];typeof o.restoreViewState=="function"&&o.restoreViewState(t[e])}};i.prototype.get=function(t){return this._instantiateById(t),this._instances.get(t)||null};i.prototype.onBeforeInteractionEvent=function(){this._instantiateSome(2)};i.prototype.onAfterModelAttached=function(){var t=this;var i;return La(ka((i=this._editor)===null||i===void 0?void 0:i.getDomNode()),(function(){t._instantiateSome(1)}),50)};i.prototype._instantiateSome=function(t){if(this._finishedInstantiation[t])return;this._finishedInstantiation[t]=!0;var i=this._findPendingContributionsByInstantiation(t);for(var n=0,r=i;n<r.length;n++){var e=r[n];this._instantiateById(e.id)}};i.prototype._findPendingContributionsByInstantiation=function(t){var i=[];for(var n=0,r=this._pending;n<r.length;n++){var e=r[n],o=e[1];o.instantiation===t&&i.push(o)}return i};i.prototype._instantiateById=function(t){var i=this._pending.get(t);if(i){if(this._pending.delete(t),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{var n=this._instantiationService.createInstance(i.ctor,this._editor);this._instances.set(i.id,n),typeof n.restoreViewState=="function"&&i.instantiation!==0&&console.warn("Editor contribution '".concat(i.id,"' should be eager instantiated because it uses saveViewState / restoreViewState."))}catch(n){cn(n)}}};return i}(Cn);var MD=function(){function t(t,i,n,r,e,o,s){this.id=t,this.label=i,this.alias=n,this.metadata=r,this._precondition=e,this._run=o,this._contextKeyService=s}t.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)};t.prototype.run=function(t){return this.isSupported()?this._run(t):Promise.resolve(void 0)};return t}();function _D(t){var i=0,n=0,r=0,e=0;for(var o=0,s=t.length;o<s;o++){var u=t.charCodeAt(o);u===13?(i===0&&(n=o),i++,o+1<s&&t.charCodeAt(o+1)===10?(e|=2,o++):e|=3,r=o+1):u===10&&(e|=1,i===0&&(n=o),i++,r=o+1)}return i===0&&(n=t.length),[i,n,t.length-r,e]}var FD=function(){function t(t,i,n,r){this.range=t,this.nestingLevel=i,this.nestingLevelOfEqualBracketType=n,this.isInvalid=r}return t}();var SD=function(){function t(t,i,n,r,e,o){this.range=t,this.openingBracketRange=i,this.closingBracketRange=n,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=e,this.bracketPairNode=o}Object.defineProperty(t.prototype,"openingBracketInfo",{get:function(){return this.bracketPairNode.openingBracket.bracketInfo},enumerable:false,configurable:true});return t}();var ID=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this,i,n,r,e,o,s)||this,a.minVisibleColumnIndentation=u;return a}return i}(SD);var QD=function(){function t(t,i){this.lineCount=t,this.columnCount=i}t.ofText=function(i){var n=0,r=0;for(var e=0,o=i;e<o.length;e++){var s=o[e];s==="\n"?(n++,r=0):r++}return new t(n,r)};t.prototype.createRange=function(t){return this.lineCount===0?new Zr(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new Zr(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)};t.prototype.addToPosition=function(t){return this.lineCount===0?new qr(t.lineNumber,t.column+this.columnCount):new qr(t.lineNumber+this.lineCount,this.columnCount+1)};t.prototype.toString=function(){return"".concat(this.lineCount,",").concat(this.columnCount)};return t}();QD.zero=new QD(0,0);var OD=0;function ND(t){return t===0}var RD=Math.pow(2,26);function TD(t,i){return t*RD+i}function LD(t){var i=t,n=Math.floor(i/RD);return new QD(n,i-n*RD)}function jD(t,i){var n=t+i;return i>=RD&&(n-=t%RD),n}function zD(t,i){return t.reduce((function(t,n){return jD(t,i(n))}),OD)}function UD(t,i){return t===i}function HD(t,i){var n=t,r=i;if(r-n<=0)return OD;var e=Math.floor(n/RD),o=Math.floor(r/RD),s=r-o*RD;return e===o?TD(0,s-(n-e*RD)):TD(o-e,s)}function YD(t,i){return t<i}function JD(t,i){return t<=i}function PD(t,i){return t>=i}function WD(t){return TD(t.lineNumber-1,t.column-1)}function GD(t,i){var n=t,r=Math.floor(n/RD),e=n-r*RD,o=i,s=Math.floor(o/RD);return new Zr(r+1,e+1,s+1,o-s*RD+1)}var VD=function(){function t(t,i,n){this.startOffset=t,this.endOffset=i,this.newLength=n}t.fromModelContentChanges=function(i){return i.map((function(i){var n=Zr.lift(i.range);return new t(WD(n.getStartPosition()),WD(n.getEndPosition()),function(t){var i=_o(t);return TD(i.length-1,i[i.length-1].length)}(i.text))})).reverse()};t.prototype.toString=function(){return"[".concat(LD(this.startOffset),"...").concat(LD(this.endOffset),") -> ").concat(LD(this.newLength))};return t}();var KD=function(){function t(t){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map((function(t){return XD.from(t)}))}t.prototype.getOffsetBeforeChange=function(t){return this.adjustNextEdit(t),this.translateCurToOld(t)};t.prototype.getDistanceToNextChange=function(t){this.adjustNextEdit(t);var i=this.edits[this.nextEditIdx],n=i?this.translateOldToCur(i.offsetObj):null;return n===null?null:HD(t,n)};t.prototype.translateOldToCur=function(t){return t.lineCount===this.deltaLineIdxInOld?TD(t.lineCount+this.deltaOldToNewLineCount,t.columnCount+this.deltaOldToNewColumnCount):TD(t.lineCount+this.deltaOldToNewLineCount,t.columnCount)};t.prototype.translateCurToOld=function(t){var i=LD(t);return i.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?TD(i.lineCount-this.deltaOldToNewLineCount,i.columnCount-this.deltaOldToNewColumnCount):TD(i.lineCount-this.deltaOldToNewLineCount,i.columnCount)};t.prototype.adjustNextEdit=function(t){for(;this.nextEditIdx<this.edits.length;){var i=this.edits[this.nextEditIdx],n=this.translateOldToCur(i.endOffsetAfterObj);if(!JD(n,t))break;{this.nextEditIdx++;var r=LD(n),e=LD(this.translateOldToCur(i.endOffsetBeforeObj)),o=r.lineCount-e.lineCount;this.deltaOldToNewLineCount+=o;var s=this.deltaLineIdxInOld===i.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,u=r.columnCount-e.columnCount;this.deltaOldToNewColumnCount=s+u,this.deltaLineIdxInOld=i.endOffsetBeforeObj.lineCount}}};return t}();var XD=function(){function t(t,i,n){this.endOffsetBeforeObj=LD(i),this.endOffsetAfterObj=LD(jD(t,n)),this.offsetObj=LD(t)}t.from=function(i){return new t(i.startOffset,i.endOffset,i.newLength)};return t}();var qD=[];var ZD=function(){function t(t,i){this.items=t,this.additionalItems=i}t.create=function(i,n){if(i<=128&&n.length===0){var r=t.cache[i];return r||(r=new t(i,n),t.cache[i]=r),r}return new t(i,n)};t.getEmpty=function(){return this.empty};t.prototype.add=function(i,n){var r=n.getKey(i);var e=r>>5;if(e===0){var o=1<<r|this.items;return o===this.items?this:t.create(o,this.additionalItems)}e--;var s=this.additionalItems.slice(0);for(;s.length<e;)s.push(0);return s[e]|=1<<(31&r),t.create(this.items,s)};t.prototype.merge=function(i){var n=this.items|i.items;if(this.additionalItems===qD&&i.additionalItems===qD)return n===this.items?this:n===i.items?i:t.create(n,qD);var r=[];for(var e=0;e<Math.max(this.additionalItems.length,i.additionalItems.length);e++){var o=this.additionalItems[e]||0,s=i.additionalItems[e]||0;r.push(o|s)}return t.create(n,r)};t.prototype.intersects=function(t){if(this.items&t.items)return!0;for(var i=0;i<Math.min(this.additionalItems.length,t.additionalItems.length);i++)if(this.additionalItems[i]&t.additionalItems[i])return!0;return!1};return t}();ZD.cache=new Array(129),ZD.empty=ZD.create(0,qD);var $D={getKey:function(t){return t}};var tM=function(){function t(){this.items=new Map}t.prototype.getKey=function(t){var i=this.items.get(t);return i===void 0&&(i=this.items.size,this.items.set(t,i)),i};return t}();var iM=function(){function t(t){this._length=t}Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:false,configurable:true});return t}();var nM=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,i)||this,s.openingBracket=n,s.child=r,s.closingBracket=e,s.missingOpeningBracketIds=o;return s}i.create=function(t,n,r){var e=t.length;return n&&(e=jD(e,n.length)),r&&(e=jD(e,r.length)),new i(e,t,n,r,n?n.missingOpeningBracketIds:ZD.getEmpty())};Object.defineProperty(i.prototype,"kind",{get:function(){return 2},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"listHeight",{get:function(){return 0},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"childrenLength",{get:function(){return 3},enumerable:false,configurable:true});i.prototype.getChild=function(t){switch(t){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")};Object.defineProperty(i.prototype,"children",{get:function(){var t=[];return t.push(this.openingBracket),this.child&&t.push(this.child),this.closingBracket&&t.push(this.closingBracket),t},enumerable:false,configurable:true});i.prototype.canBeReused=function(t){return this.closingBracket!==null&&!t.intersects(this.missingOpeningBracketIds)};i.prototype.deepClone=function(){return new i(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)};i.prototype.computeMinIndentation=function(t,i){return this.child?this.child.computeMinIndentation(jD(t,this.openingBracket.length),i):Number.MAX_SAFE_INTEGER};return i}(iM);var rM=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i)||this,e.listHeight=n,e._missingOpeningBracketIds=r,e.cachedMinIndentation=-1;return e}i.create23=function(t,i,n,r){if(r===void 0){r=!1}var e=t.length,o=t.missingOpeningBracketIds;if(t.listHeight!==i.listHeight)throw new Error("Invalid list heights");if(e=jD(e,i.length),o=o.merge(i.missingOpeningBracketIds),n){if(t.listHeight!==n.listHeight)throw new Error("Invalid list heights");e=jD(e,n.length),o=o.merge(n.missingOpeningBracketIds)}return r?new oM(e,t.listHeight+1,t,i,n,o):new eM(e,t.listHeight+1,t,i,n,o)};i.getEmpty=function(){return new uM(OD,0,[],ZD.getEmpty())};Object.defineProperty(i.prototype,"kind",{get:function(){return 4},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"missingOpeningBracketIds",{get:function(){return this._missingOpeningBracketIds},enumerable:false,configurable:true});i.prototype.throwIfImmutable=function(){};i.prototype.makeLastElementMutable=function(){this.throwIfImmutable();var t=this.childrenLength;if(t===0)return;var i=this.getChild(t-1),n=i.kind===4?i.toMutable():i;return i!==n&&this.setChild(t-1,n),n};i.prototype.makeFirstElementMutable=function(){if(this.throwIfImmutable(),this.childrenLength===0)return;var t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i};i.prototype.canBeReused=function(t){if(t.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;var i=this;for(;i.kind===4;){var n=i.childrenLength;if(n===0)throw new mn;i=i.getChild(n-1)}return i.canBeReused(t)};i.prototype.handleChildrenChanged=function(){this.throwIfImmutable();var t=this.childrenLength;var i=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(var r=1;r<t;r++){var e=this.getChild(r);i=jD(i,e.length),n=n.merge(e.missingOpeningBracketIds)}this._length=i,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1};i.prototype.computeMinIndentation=function(t,i){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;var n=Number.MAX_SAFE_INTEGER,r=t;for(var e=0;e<this.childrenLength;e++){var o=this.getChild(e);o&&(n=Math.min(n,o.computeMinIndentation(r,i)),r=jD(r,o.length))}return this.cachedMinIndentation=n,n};return i}(iM);var eM=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,i,n,s)||this,u._item1=r,u._item2=e,u._item3=o;return u}Object.defineProperty(i.prototype,"childrenLength",{get:function(){return this._item3!==null?3:2},enumerable:false,configurable:true});i.prototype.getChild=function(t){switch(t){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")};i.prototype.setChild=function(t,i){switch(t){case 0:return void(this._item1=i);case 1:return void(this._item2=i);case 2:return void(this._item3=i)}throw new Error("Invalid child index")};Object.defineProperty(i.prototype,"children",{get:function(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"item1",{get:function(){return this._item1},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"item2",{get:function(){return this._item2},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"item3",{get:function(){return this._item3},enumerable:false,configurable:true});i.prototype.deepClone=function(){return new i(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)};i.prototype.appendChildOfSameHeight=function(t){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=t,this.handleChildrenChanged()};i.prototype.unappendChild=function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var t=this._item3;return this._item3=null,this.handleChildrenChanged(),t};i.prototype.prependChildOfSameHeight=function(t){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=t,this.handleChildrenChanged()};i.prototype.unprependChild=function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var t=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),t};i.prototype.toMutable=function(){return this};return i}(rM);var oM=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.toMutable=function(){return new eM(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)};i.prototype.throwIfImmutable=function(){throw new Error("this instance is immutable")};return i}(eM);var sM=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,n,e)||this,o._children=r;return o}Object.defineProperty(i.prototype,"childrenLength",{get:function(){return this._children.length},enumerable:false,configurable:true});i.prototype.getChild=function(t){return this._children[t]};i.prototype.setChild=function(t,i){this._children[t]=i};Object.defineProperty(i.prototype,"children",{get:function(){return this._children},enumerable:false,configurable:true});i.prototype.deepClone=function(){var t=new Array(this._children.length);for(var n=0;n<this._children.length;n++)t[n]=this._children[n].deepClone();return new i(this.length,this.listHeight,t,this.missingOpeningBracketIds)};i.prototype.appendChildOfSameHeight=function(t){this.throwIfImmutable(),this._children.push(t),this.handleChildrenChanged()};i.prototype.unappendChild=function(){this.throwIfImmutable();var t=this._children.pop();return this.handleChildrenChanged(),t};i.prototype.prependChildOfSameHeight=function(t){this.throwIfImmutable(),this._children.unshift(t),this.handleChildrenChanged()};i.prototype.unprependChild=function(){this.throwIfImmutable();var t=this._children.shift();return this.handleChildrenChanged(),t};i.prototype.toMutable=function(){return this};return i}(rM);var uM=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.toMutable=function(){return new sM(this.length,this.listHeight,__spreadArray([],this.children,true),this.missingOpeningBracketIds)};i.prototype.throwIfImmutable=function(){throw new Error("this instance is immutable")};return i}(sM);var aM=[];var cM=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}Object.defineProperty(i.prototype,"listHeight",{get:function(){return 0},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"childrenLength",{get:function(){return 0},enumerable:false,configurable:true});i.prototype.getChild=function(t){return null};Object.defineProperty(i.prototype,"children",{get:function(){return aM},enumerable:false,configurable:true});i.prototype.deepClone=function(){return this};return i}(iM);var hM=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}Object.defineProperty(i.prototype,"kind",{get:function(){return 0},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"missingOpeningBracketIds",{get:function(){return ZD.getEmpty()},enumerable:false,configurable:true});i.prototype.canBeReused=function(t){return!0};i.prototype.computeMinIndentation=function(t,i){var n=LD(t),r=(n.columnCount===0?n.lineCount:n.lineCount+1)+1,e=function(t){return Math.floor(t/RD)}(jD(t,this.length))+1;var o=Number.MAX_SAFE_INTEGER;for(var s=r;s<=e;s++){var u=i.getLineFirstNonWhitespaceColumn(s),a=i.getLineContent(s);if(u===0)continue;var c=$y.visibleColumnFromColumn(a,u,i.getOptions().tabSize);o=Math.min(o,c)}return o};return i}(cM);var fM=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i)||this,e.bracketInfo=n,e.bracketIds=r;return e}i.create=function(t,n,r){return new i(t,n,r)};Object.defineProperty(i.prototype,"kind",{get:function(){return 1},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"missingOpeningBracketIds",{get:function(){return ZD.getEmpty()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"text",{get:function(){return this.bracketInfo.bracketText},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"languageId",{get:function(){return this.bracketInfo.languageId},enumerable:false,configurable:true});i.prototype.canBeReused=function(t){return!1};i.prototype.computeMinIndentation=function(t,i){return Number.MAX_SAFE_INTEGER};return i}(cM);var lM=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.missingOpeningBracketIds=i;return r}Object.defineProperty(i.prototype,"kind",{get:function(){return 3},enumerable:false,configurable:true});i.prototype.canBeReused=function(t){return!t.intersects(this.missingOpeningBracketIds)};i.prototype.computeMinIndentation=function(t,i){return Number.MAX_SAFE_INTEGER};return i}(cM);var dM=function(){function t(t,i,n,r,e){this.length=t,this.kind=i,this.bracketId=n,this.bracketIds=r,this.astNode=e}return t}();var vM=function(){function t(t,i){this.textModel=t,this.bracketTokens=i,this.reader=new AM(this.textModel,this.bracketTokens),this._offset=OD,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"length",{get:function(){return TD(this.textBufferLineCount-1,this.textBufferLastLineLength)},enumerable:false,configurable:true});t.prototype.skip=function(t){this.didPeek=!1,this._offset=jD(this._offset,t);var i=LD(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)};t.prototype.read=function(){var t;return this.peeked?(this.didPeek=!1,t=this.peeked):t=this.reader.read(),t&&(this._offset=jD(this._offset,t.length)),t};t.prototype.peek=function(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked};return t}();var AM=function(){function t(t,i){this.textModel=t,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}t.prototype.setPosition=function(t,i){t===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=t,this.lineCharOffset=i,this.line=null),this.peekedToken=null};t.prototype.read=function(){if(this.peekedToken){var t=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=t.length,t}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));var i=this.lineIdx,n=this.lineCharOffset;var r=0;for(;;){var t=this.lineTokens,e=t.getCount();var o=null;if(this.lineTokenOffset<e){var s=t.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<e&&s===t.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var u=Qg.getTokenType(s)===0,a=Qg.containsBalancedBrackets(s),c=t.getEndOffset(this.lineTokenOffset);if(a&&u&&this.lineCharOffset<c){var h=t.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,c),l=this.bracketTokens.getSingleLanguageBracketTokens(h),d=l.regExpGlobal;if(d){d.lastIndex=0;var v=d.exec(f);v&&(o=l.getToken(v[0]),o&&(this.lineCharOffset+=v.index))}}if(r+=c-this.lineCharOffset,o){if(i!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=o;break}return this.lineCharOffset+=o.length,o}this.lineTokenOffset++,this.lineCharOffset=c}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,r+=33,r>1e3))break;if(r>1500)break}var A=(g=i,w=n,p=this.lineIdx,m=this.lineCharOffset,g!==p?TD(p-g,m):TD(0,m-w));var g,w,p,m;return new dM(A,0,-1,ZD.getEmpty(),new hM(A))};return t}();var gM=function(){function t(t,i){this.text=t,this._offset=OD,this.idx=0;var n=i.getRegExpStr(),r=n?new RegExp(n+"|\n","gi"):null,e=[];var o,s=0,u=0,a=0,c=0;var h=[];for(var f=0;f<60;f++)h.push(new dM(TD(0,f),0,-1,ZD.getEmpty(),new hM(TD(0,f))));var l=[];for(var f=0;f<60;f++)l.push(new dM(TD(1,f),0,-1,ZD.getEmpty(),new hM(TD(1,f))));if(r)for(r.lastIndex=0;(o=r.exec(t))!==null;){var f=o.index,d=o[0];if(d==="\n")s++,u=f+1;else{if(a!==f){var v=void 0;if(c===s){var A=f-a;if(A<h.length)v=h[A];else{var g=TD(0,A);v=new dM(g,0,-1,ZD.getEmpty(),new hM(g))}}else{var A=s-c,g=f-u;if(A===1&&g<l.length)v=l[g];else{var w=TD(A,g);v=new dM(w,0,-1,ZD.getEmpty(),new hM(w))}}e.push(v)}e.push(i.getToken(d)),a=f+d.length,c=s}}var p=t.length;if(a!==p){var f=c===s?TD(0,p-a):TD(s-c,p-u);e.push(new dM(f,0,-1,ZD.getEmpty(),new hM(f)))}this.length=TD(s,p-u),this.tokens=e}Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:false,configurable:true});t.prototype.read=function(){return this.tokens[this.idx++]||null};t.prototype.peek=function(){return this.tokens[this.idx]||null};t.prototype.skip=function(t){throw new wn};return t}();var wM=function(){function t(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}t.createFromLanguage=function(i,n){function r(t){return n.getKey("".concat(t.languageId,":::").concat(t.bracketText))}var e=new Map;for(var o=0,s=i.bracketsNew.openingBrackets;o<s.length;o++){var u=s[o];var a=TD(0,u.bracketText.length),c=r(u),h=ZD.getEmpty().add(c,$D);e.set(u.bracketText,new dM(a,1,c,h,fM.create(a,u,h)))}for(var f=0,l=i.bracketsNew.closingBrackets;f<l.length;f++){var u=l[f];var a=TD(0,u.bracketText.length);var c=ZD.getEmpty();var h=u.getOpeningBrackets();for(var d=0,v=h;d<v.length;d++){var A=v[d];c=c.add(r(A),$D)}e.set(u.bracketText,new dM(a,2,r(h[0]),c,fM.create(a,u,c)))}return new t(e)};t.prototype.getRegExpStr=function(){if(this.isEmpty)return null;{var t=__spreadArray([],this.map.keys(),true);return t.sort(),t.reverse(),t.map((function(t){return function(t){var i=Eo(t);return/^[\w ]+/.test(t)&&(i="\\b".concat(i)),/[\w ]+$/.test(t)&&(i="".concat(i,"\\b")),i}(t)})).join("|")}};Object.defineProperty(t.prototype,"regExpGlobal",{get:function(){if(!this.hasRegExp){var t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal},enumerable:false,configurable:true});t.prototype.getToken=function(t){return this.map.get(t.toLowerCase())};t.prototype.findClosingTokenText=function(t){for(var i=0,n=this.map;i<n.length;i++){var r=n[i],e=r[0],o=r[1];if(o.kind===2&&o.bracketIds.intersects(t))return e}};Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.map.size===0},enumerable:false,configurable:true});return t}();var pM=function(){function t(t,i){this.denseKeyProvider=t,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}t.prototype.didLanguageChange=function(t){return this.languageIdToBracketTokens.has(t)};t.prototype.getSingleLanguageBracketTokens=function(t){var i=this.languageIdToBracketTokens.get(t);return i||(i=wM.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,i)),i};return t}();function mM(t,i){if(i===void 0){i=!1}if(t.length===0)return null;if(t.length===1)return t[0];var n=t.length;for(;n>3;){var r=n>>1;for(var e=0;e<r;e++){var o=e<<1;t[e]=rM.create23(t[o],t[o+1],o+3===n?t[o+2]:null,i)}n=r}return rM.create23(t[0],t[1],n>=3?t[2]:null,i)}function bM(t,i){return Math.abs(t.listHeight-i.listHeight)}function yM(t,i){return t.listHeight===i.listHeight?rM.create23(t,i,null,!1):t.listHeight>i.listHeight?function(t,i){var n=t=t.toMutable();var r=[];var e;for(;;){if(i.listHeight===n.listHeight){e=i;break}if(n.kind!==4)throw new Error("unexpected");r.push(n),n=n.makeLastElementMutable()}for(var o=r.length-1;o>=0;o--){var s=r[o];e?s.childrenLength>=3?e=rM.create23(s.unappendChild(),e,null,!1):(s.appendChildOfSameHeight(e),e=void 0):s.handleChildrenChanged()}return e?rM.create23(t,e,null,!1):t}(t,i):function(t,i){var n=t=t.toMutable();var r=[];for(;i.listHeight!==n.listHeight;){if(n.kind!==4)throw new Error("unexpected");r.push(n),n=n.makeFirstElementMutable()}var e=i;for(var o=r.length-1;o>=0;o--){var s=r[o];e?s.childrenLength>=3?e=rM.create23(e,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(e),e=void 0):s.handleChildrenChanged()}return e?rM.create23(e,t,null,!1):t}(i,t)}var kM=function(){function t(t){this.lastOffset=OD,this.nextNodes=[t],this.offsets=[OD],this.idxs=[]}t.prototype.readLongestNodeAt=function(t,i){if(YD(t,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=t;;){var n=EM(this.nextNodes);if(!n)return;var r=EM(this.offsets);if(YD(t,r))return;if(YD(r,t))if(jD(r,n.length)<=t)this.nextNodeAfterCurrent();else{var e=xM(n);e!==-1?(this.nextNodes.push(n.getChild(e)),this.offsets.push(r),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(i(n))return this.nextNodeAfterCurrent(),n;{var e=xM(n);if(e===-1)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(e)),this.offsets.push(r),this.idxs.push(e)}}}};t.prototype.nextNodeAfterCurrent=function(){for(;;){var t=EM(this.offsets),i=EM(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;var n=EM(this.nextNodes),r=xM(n,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(n.getChild(r)),this.offsets.push(jD(t,i.length)),this.idxs[this.idxs.length-1]=r;break}this.idxs.pop()}};return t}();function xM(t,i){if(i===void 0){i=-1}for(;;){if(++i>=t.childrenLength)return-1;if(t.getChild(i))return i}}function EM(t){return t.length>0?t[t.length-1]:void 0}function BM(t,i,n,r){return new CM(t,i,n,r).parseDocument()}var CM=function(){function t(t,i,n,r){if(this.tokenizer=t,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,n&&r)throw new Error("Not supported");this.oldNodeReader=n?new kM(n):void 0,this.positionMapper=new KD(i)}t.prototype.parseDocument=function(){this._itemsConstructed=0,this._itemsFromCache=0;var t=this.parseList(ZD.getEmpty(),0);return t||(t=rM.getEmpty()),t};t.prototype.parseList=function(t,i){var n=[];for(;;){var r=this.tryReadChildFromCache(t);if(!r){var e=this.tokenizer.peek();if(!e||e.kind===2&&e.bracketIds.intersects(t))break;r=this.parseChild(t,i+1)}r.kind===4&&r.childrenLength===0||n.push(r)}return this.oldNodeReader?function(t){if(t.length===0)return null;if(t.length===1)return t[0];var i=0;function n(){if(i>=t.length)return null;var n=i,r=t[n].listHeight;for(i++;i<t.length&&t[i].listHeight===r;)i++;return i-n>=2?mM(n===0&&i===t.length?t:t.slice(n,i),!1):t[n]}var r=n(),e=n();if(!e)return r;for(var o=n();o;o=n())bM(r,e)<=bM(e,o)?(r=yM(r,e),e=o):e=yM(e,o);return yM(r,e)}(n):mM(n,this.createImmutableLists)};t.prototype.tryReadChildFromCache=function(t){if(this.oldNodeReader){var i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(i===null||!ND(i)){var n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(function(n){return i!==null&&!YD(n.length,i)?!1:n.canBeReused(t)}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}};t.prototype.parseChild=function(t,i){this._itemsConstructed++;var n=this.tokenizer.read();switch(n.kind){case 2:return new lM(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(i>300)return new hM(n.length);var r=t.merge(n.bracketIds),e=this.parseList(r,i+1),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===n.bracketId||o.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),nM.create(n.astNode,e,o.astNode)):nM.create(n.astNode,e,null)}default:throw new Error("unexpected")}};return t}();function DM(t,i){if(t.length===0)return i;if(i.length===0)return t;var n=new tt(_M(t)),r=_M(i);r.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});var e=n.dequeue();function o(t){if(t===void 0){var i=n.takeWhile((function(t){return!0}))||[];return e&&i.unshift(e),i}var r=[];for(;e&&!ND(t);){var o=e.splitAt(t),i=o[0],s=o[1];r.push(i),t=HD(i.lengthAfter,t),e=s!==null&&s!==void 0?s:n.dequeue()}return ND(t)||r.push(new MM(!1,t,t)),r}var s=[];function u(t,i,n){if(s.length>0&&UD(s[s.length-1].endOffset,t)){var r=s[s.length-1];s[s.length-1]=new VD(r.startOffset,i,jD(r.newLength,n))}else s.push({startOffset:t,endOffset:i,newLength:n})}var a=OD;for(var c=0,h=r;c<h.length;c++){var f=h[c];var l=o(f.lengthBefore);if(f.modified){var d=jD(a,zD(l,(function(t){return t.lengthBefore})));u(a,d,f.lengthAfter),a=d}else for(var v=0,A=l;v<A.length;v++){var d=A[v];var g=a;a=jD(a,d.lengthBefore),d.modified&&u(g,a,d.lengthAfter)}}return s}var MM=function(){function t(t,i,n){this.modified=t,this.lengthBefore=i,this.lengthAfter=n}t.prototype.splitAt=function(i){var n=HD(i,this.lengthAfter);return UD(n,OD)?[this,void 0]:this.modified?[new t(this.modified,this.lengthBefore,i),new t(this.modified,OD,n)]:[new t(this.modified,i,i),new t(this.modified,n,n)]};t.prototype.toString=function(){return"".concat(this.modified?"M":"U",":").concat(LD(this.lengthBefore)," -> ").concat(LD(this.lengthAfter))};return t}();function _M(t){var i=[];var n=OD;for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=HD(n,o.startOffset);ND(s)||i.push(new MM(!1,s,s));var u=HD(o.startOffset,o.endOffset);i.push(new MM(!0,u,o.newLength)),n=o.endOffset}return i}var FM=function(t){__extends(i,t);function i(i,n){var r=this;if(r=t.call(this)||this,r.textModel=i,r.getLanguageConfiguration=n,r.didChangeEmitter=new Ln,r.denseKeyProvider=new tM,r.brackets=new pM(r.denseKeyProvider,r.getLanguageConfiguration),r.onDidChange=r.didChangeEmitter.event,r.queuedTextEditsForInitialAstWithoutTokens=[],r.queuedTextEdits=[],i.tokenization.hasTokens)i.tokenization.backgroundTokenizationState===2?(r.initialAstWithoutTokens=void 0,r.astWithTokens=r.parseDocumentFromTextBuffer([],void 0,!1)):(r.initialAstWithoutTokens=r.parseDocumentFromTextBuffer([],void 0,!0),r.astWithTokens=r.initialAstWithoutTokens);else{var e=r.brackets.getSingleLanguageBracketTokens(r.textModel.getLanguageId()),o=new gM(r.textModel.getValue(),e);r.initialAstWithoutTokens=BM(o,[],void 0,!0),r.astWithTokens=r.initialAstWithoutTokens}return r}i.prototype.didLanguageChange=function(t){return this.brackets.didLanguageChange(t)};i.prototype.handleDidChangeBackgroundTokenizationState=function(){if(this.textModel.tokenization.backgroundTokenizationState===2){var t=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire()}};i.prototype.handleDidChangeTokens=function(t){var i=t.ranges;var n=i.map((function(t){return new VD(TD(t.fromLineNumber-1,0),TD(t.toLineNumber,0),TD(t.toLineNumber-t.fromLineNumber+1,0))}));this.handleEdits(n,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()};i.prototype.handleContentChanged=function(t){var i=VD.fromModelContentChanges(t.changes);this.handleEdits(i,!1)};i.prototype.handleEdits=function(t,i){var n=DM(this.queuedTextEdits,t);this.queuedTextEdits=n,this.initialAstWithoutTokens&&!i&&(this.queuedTextEditsForInitialAstWithoutTokens=DM(this.queuedTextEditsForInitialAstWithoutTokens,t))};i.prototype.flushQueue=function(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])};i.prototype.parseDocumentFromTextBuffer=function(t,i,n){var r=i;return BM(new vM(this.textModel,this.brackets),t,r,n)};i.prototype.getBracketsInRange=function(t,i){var n=this;this.flushQueue();var r=TD(t.startLineNumber-1,t.startColumn-1),e=TD(t.endLineNumber-1,t.endColumn-1);return new it((function(t){var o=n.initialAstWithoutTokens||n.astWithTokens;QM(o,OD,o.length,r,e,t,0,0,new Map,i)}))};i.prototype.getBracketPairsInRange=function(t,i){var n=this;this.flushQueue();var r=WD(t.getStartPosition()),e=WD(t.getEndPosition());return new it((function(t){var o=n.initialAstWithoutTokens||n.astWithTokens,s=new OM(t,i,n.textModel);NM(o,OD,o.length,r,e,s,0,new Map)}))};i.prototype.getFirstBracketAfter=function(t){this.flushQueue();var i=this.initialAstWithoutTokens||this.astWithTokens;return IM(i,OD,i.length,WD(t))};i.prototype.getFirstBracketBefore=function(t){this.flushQueue();var i=this.initialAstWithoutTokens||this.astWithTokens;return SM(i,OD,i.length,WD(t))};return i}(Cn);function SM(t,i,n,r){if(t.kind===4||t.kind===2){var e=[];for(var o=0,s=t.children;o<s.length;o++){var u=s[o];n=jD(i,u.length),e.push({nodeOffsetStart:i,nodeOffsetEnd:n}),i=n}for(var u=e.length-1;u>=0;u--){var a=e[u],c=a.nodeOffsetStart,h=a.nodeOffsetEnd;if(YD(c,r)){var f=SM(t.children[u],c,h,r);if(f)return f}}return null}if(t.kind===3)return null;if(t.kind===1){var e=GD(i,n);return{bracketInfo:t.bracketInfo,range:e}}return null}function IM(t,i,n,r){if(t.kind===4||t.kind===2){for(var e=0,o=t.children;e<o.length;e++){var s=o[e];if(YD(r,n=jD(i,s.length))){var u=IM(s,i,n,r);if(u)return u}i=n}return null}if(t.kind===3)return null;if(t.kind===1){var s=GD(i,n);return{bracketInfo:t.bracketInfo,range:s}}return null}function QM(t,i,n,r,e,o,s,u,a,c,h){if(h===void 0){h=!1}if(s>200)return!0;t:for(;;)switch(t.kind){case 4:{var f=t.childrenLength;for(var l=0;l<f;l++){var d=t.getChild(l);if(d){if(n=jD(i,d.length),JD(i,e)&&PD(n,r)){if(PD(n,e)){t=d;continue t}if(!QM(d,i,n,r,e,o,s,0,a,c))return!1}i=n}}return!0}case 2:{var f=!c||!t.closingBracket||t.closingBracket.bracketInfo.closesColorized(t.openingBracket.bracketInfo);var l=0;if(a){var v=a.get(t.openingBracket.text);v===void 0&&(v=0),l=v,f&&(v++,a.set(t.openingBracket.text,v))}var d=t.childrenLength;for(var v=0;v<d;v++){var A=t.getChild(v);if(A){if(n=jD(i,A.length),JD(i,e)&&PD(n,r)){if(PD(n,e)&&A.kind!==1){t=A,f?(s++,u=l+1):u=l;continue t}if((f||A.kind!==1||!t.closingBracket)&&!QM(A,i,n,r,e,o,f?s+1:s,f?l+1:l,a,c,!t.closingBracket))return!1}i=n}}return a==null||a.set(t.openingBracket.text,l),!0}case 3:{var f=GD(i,n);return o(new FD(f,s-1,0,!0))}case 1:{var f=GD(i,n);return o(new FD(f,s-1,u-1,h))}case 0:return!0}}var OM=function(){function t(t,i,n){this.push=t,this.includeMinIndentation=i,this.textModel=n}return t}();function NM(t,i,n,r,e,o,s,u){var a;if(s>200)return!0;var c=!0;if(t.kind===2){var h=0;if(u){var f=u.get(t.openingBracket.text);f===void 0&&(f=0),h=f,f++,u.set(t.openingBracket.text,f)}var l=jD(i,t.openingBracket.length);var d=-1;if(o.includeMinIndentation&&(d=t.computeMinIndentation(i,o.textModel)),c=o.push(new ID(GD(i,n),GD(i,l),t.closingBracket?GD(jD(l,((a=t.child)===null||a===void 0?void 0:a.length)||OD),n):void 0,s,h,t,d)),i=l,c&&t.child){var f=t.child;if(n=jD(i,f.length),JD(i,e)&&PD(n,r)&&(c=NM(f,i,n,r,e,o,s+1,u),!c))return!1}u==null||u.set(t.openingBracket.text,h)}else{var v=i;for(var A=0,g=t.children;A<g.length;A++){var l=g[A];var d=v;if(v=jD(v,l.length),JD(d,e)&&JD(r,v)&&(c=NM(l,d,v,r,e,o,s,u),!c))return!1}}return c}var RM=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.textModel=i,r.languageConfigurationService=n,r.bracketPairsTree=r._register(new Dn),r.onDidChangeEmitter=new Ln,r.onDidChange=r.onDidChangeEmitter.event,r.bracketsRequested=!1,r._register(r.languageConfigurationService.onDidChange((function(t){var i;t.languageId&&!(!((i=r.bracketPairsTree.value)===null||i===void 0)&&i.object.didLanguageChange(t.languageId))||(r.bracketPairsTree.clear(),r.updateBracketPairsTree())})));return r}Object.defineProperty(i.prototype,"canBuildAST",{get:function(){return this.textModel.getValueLength()<=5e6},enumerable:false,configurable:true});i.prototype.handleDidChangeOptions=function(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()};i.prototype.handleDidChangeLanguage=function(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()};i.prototype.handleDidChangeContent=function(t){var i;(i=this.bracketPairsTree.value)===null||i===void 0||i.object.handleContentChanged(t)};i.prototype.handleDidChangeBackgroundTokenizationState=function(){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeBackgroundTokenizationState()};i.prototype.handleDidChangeTokens=function(t){var i;(i=this.bracketPairsTree.value)===null||i===void 0||i.object.handleDidChangeTokens(t)};i.prototype.updateBracketPairsTree=function(){var t=this;if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){var i=new Bn;this.bracketPairsTree.value=(n=i.add(new FM(this.textModel,(function(i){return t.languageConfigurationService.getLanguageConfiguration(i)}))),r=i,{object:n,dispose:function(){return r==null?void 0:r.dispose()}}),i.add(this.bracketPairsTree.value.object.onDidChange((function(i){return t.onDidChangeEmitter.fire(i)}))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var n,r};i.prototype.getBracketPairsInRange=function(t){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getBracketPairsInRange(t,!1))||it.empty};i.prototype.getBracketPairsInRangeWithMinIndentation=function(t){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getBracketPairsInRange(t,!0))||it.empty};i.prototype.getBracketsInRange=function(t,i){if(i===void 0){i=!1}var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketsInRange(t,i))||it.empty};i.prototype.findMatchingBracketUp=function(t,i,n){var r=this.textModel.validatePosition(i),e=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){var o=this.languageConfigurationService.getLanguageConfiguration(e).bracketsNew.getClosingBracketInfo(t);if(!o)return null;var s=this.getBracketPairsInRange(Zr.fromPositions(i,i)).findLast((function(t){return o.closes(t.openingBracketInfo)}));return s?s.openingBracketRange:null}{var u=t.toLowerCase(),s=this.languageConfigurationService.getLanguageConfiguration(e).brackets;if(!s)return null;var a=s.textIsBracket[u];return a?jM(this._findMatchingBracketUp(a,r,TM(n))):null}};i.prototype.matchBracket=function(t,i){if(this.canBuildAST){var n=this.getBracketPairsInRange(Zr.fromPositions(t,t)).filter((function(i){return i.closingBracketRange!==void 0&&(i.openingBracketRange.containsPosition(t)||i.closingBracketRange.containsPosition(t))})).findLastMaxBy(X((function(i){return i.openingBracketRange.containsPosition(t)?i.openingBracketRange:i.closingBracketRange}),Zr.compareRangesUsingStarts));return n?[n.openingBracketRange,n.closingBracketRange]:null}{var n=TM(i);return this._matchBracket(this.textModel.validatePosition(t),n)}};i.prototype._establishBracketSearchOffsets=function(t,i,n,r){var e=i.getCount(),o=i.getLanguageId(r);var s=Math.max(0,t.column-1-n.maxBracketLength);for(var u=r-1;u>=0;u--){var a=i.getEndOffset(u);if(a<=s)break;if(_l(i.getStandardTokenType(u))||i.getLanguageId(u)!==o){s=a;break}}var c=Math.min(i.getLineContent().length,t.column-1+n.maxBracketLength);for(var u=r+1;u<e;u++){var h=i.getStartOffset(u);if(h>=c)break;if(_l(i.getStandardTokenType(u))||i.getLanguageId(u)!==o){c=h;break}}return{searchStartOffset:s,searchEndOffset:c}};i.prototype._matchBracket=function(t,i){var n=t.lineNumber,r=this.textModel.tokenization.getLineTokens(n),e=this.textModel.getLineContent(n),o=r.findTokenIndexAtOffset(t.column-1);if(o<0)return null;var s=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(o)).brackets;if(s&&!_l(r.getStandardTokenType(o))){var u=this._establishBracketSearchOffsets(t,r,s,o),a=u.searchStartOffset,c=u.searchEndOffset,h=null;for(;;){var f=id.findNextBracketInRange(s.forwardRegex,n,e,a,c);if(!f)break;if(f.startColumn<=t.column&&t.column<=f.endColumn){var l=e.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),d=this._matchFoundBracket(f,s.textIsBracket[l],s.textIsOpenBracket[l],i);if(d){if(d instanceof LM)return null;h=d}}a=f.endColumn-1}if(h)return h}if(o>0&&r.getStartOffset(o)===t.column-1){var a=o-1,c=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(a)).brackets;if(c&&!_l(r.getStandardTokenType(a))){var v=this._establishBracketSearchOffsets(t,r,c,a),A=v.searchStartOffset,f=v.searchEndOffset,l=id.findPrevBracketInRange(c.reversedRegex,n,e,A,f);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn){var d=e.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),g=this._matchFoundBracket(l,c.textIsBracket[d],c.textIsOpenBracket[d],i);if(g)return g instanceof LM?null:g}}}return null};i.prototype._matchFoundBracket=function(t,i,n,r){if(!i)return null;var e=n?this._findMatchingBracketDown(i,t.getEndPosition(),r):this._findMatchingBracketUp(i,t.getStartPosition(),r);return e?e instanceof LM?e:[t,e]:null};i.prototype._findMatchingBracketUp=function(t,i,n){var r=t.languageId,e=t.reversedRegex;var o=-1,s=0;var u=function(i,r,u,a){for(;;){if(n&&++s%100==0&&!n())return LM.INSTANCE;var c=id.findPrevBracketInRange(e,i,r,u,a);if(!c)break;var h=r.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(t.isOpen(h)?o++:t.isClose(h)&&o--,o===0)return c;a=c.startColumn-1}return null};for(var a=i.lineNumber;a>=1;a--){var c=this.textModel.tokenization.getLineTokens(a),h=c.getCount(),f=this.textModel.getLineContent(a);var l=h-1,d=f.length,v=f.length;a===i.lineNumber&&(l=c.findTokenIndexAtOffset(i.column-1),d=i.column-1,v=i.column-1);var A=!0;for(;l>=0;l--){var g=c.getLanguageId(l)===r&&!_l(c.getStandardTokenType(l));if(g)A?d=c.getStartOffset(l):(d=c.getStartOffset(l),v=c.getEndOffset(l));else if(A&&d!==v){var w=u(a,f,d,v);if(w)return w}A=g}if(A&&d!==v){var g=u(a,f,d,v);if(g)return g}}return null};i.prototype._findMatchingBracketDown=function(t,i,n){var r=t.languageId,e=t.forwardRegex;var o=1,s=0;var u=function(i,r,u,a){for(;;){if(n&&++s%100==0&&!n())return LM.INSTANCE;var c=id.findNextBracketInRange(e,i,r,u,a);if(!c)break;var h=r.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(t.isOpen(h)?o++:t.isClose(h)&&o--,o===0)return c;u=c.endColumn-1}return null},a=this.textModel.getLineCount();for(var c=i.lineNumber;c<=a;c++){var h=this.textModel.tokenization.getLineTokens(c),f=h.getCount(),l=this.textModel.getLineContent(c);var d=0,v=0,A=0;c===i.lineNumber&&(d=h.findTokenIndexAtOffset(i.column-1),v=i.column-1,A=i.column-1);var g=!0;for(;d<f;d++){var w=h.getLanguageId(d)===r&&!_l(h.getStandardTokenType(d));if(w)g||(v=h.getStartOffset(d)),A=h.getEndOffset(d);else if(g&&v!==A){var p=u(c,l,v,A);if(p)return p}g=w}if(g&&v!==A){var w=u(c,l,v,A);if(w)return w}}return null};i.prototype.findPrevBracket=function(t){var i;var n=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getFirstBracketBefore(n))||null;var r=null,e=null,o=null;for(var s=n.lineNumber;s>=1;s--){var u=this.textModel.tokenization.getLineTokens(s),a=u.getCount(),c=this.textModel.getLineContent(s);var h=a-1,f=c.length,l=c.length;if(s===n.lineNumber){h=u.findTokenIndexAtOffset(n.column-1),f=n.column-1,l=n.column-1;var d=u.getLanguageId(h);r!==d&&(r=d,e=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}var v=!0;for(;h>=0;h--){var d=u.getLanguageId(h);if(r!==d){if(e&&o&&v&&f!==l){var A=id.findPrevBracketInRange(e.reversedRegex,s,c,f,l);if(A)return this._toFoundBracket(o,A);v=!1}r=d,e=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}var g=!!e&&!_l(u.getStandardTokenType(h));if(g)v?f=u.getStartOffset(h):(f=u.getStartOffset(h),l=u.getEndOffset(h));else if(o&&e&&v&&f!==l){var A=id.findPrevBracketInRange(e.reversedRegex,s,c,f,l);if(A)return this._toFoundBracket(o,A)}v=g}if(o&&e&&v&&f!==l){var d=id.findPrevBracketInRange(e.reversedRegex,s,c,f,l);if(d)return this._toFoundBracket(o,d)}}return null};i.prototype.findNextBracket=function(t){var i;var n=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getFirstBracketAfter(n))||null;var r=this.textModel.getLineCount();var e=null,o=null,s=null;for(var u=n.lineNumber;u<=r;u++){var a=this.textModel.tokenization.getLineTokens(u),c=a.getCount(),h=this.textModel.getLineContent(u);var f=0,l=0,d=0;if(u===n.lineNumber){f=a.findTokenIndexAtOffset(n.column-1),l=n.column-1,d=n.column-1;var v=a.getLanguageId(f);e!==v&&(e=v,o=this.languageConfigurationService.getLanguageConfiguration(e).brackets,s=this.languageConfigurationService.getLanguageConfiguration(e).bracketsNew)}var A=!0;for(;f<c;f++){var v=a.getLanguageId(f);if(e!==v){if(s&&o&&A&&l!==d){var g=id.findNextBracketInRange(o.forwardRegex,u,h,l,d);if(g)return this._toFoundBracket(s,g);A=!1}e=v,o=this.languageConfigurationService.getLanguageConfiguration(e).brackets,s=this.languageConfigurationService.getLanguageConfiguration(e).bracketsNew}var w=!!o&&!_l(a.getStandardTokenType(f));if(w)A||(l=a.getStartOffset(f)),d=a.getEndOffset(f);else if(s&&o&&A&&l!==d){var g=id.findNextBracketInRange(o.forwardRegex,u,h,l,d);if(g)return this._toFoundBracket(s,g)}A=w}if(s&&o&&A&&l!==d){var v=id.findNextBracketInRange(o.forwardRegex,u,h,l,d);if(v)return this._toFoundBracket(s,v)}}return null};i.prototype.findEnclosingBrackets=function(t,i){var n=this;var r=this.textModel.validatePosition(t);if(this.canBuildAST){var e=Zr.fromPositions(r),o=this.getBracketPairsInRange(Zr.fromPositions(r,r)).findLast((function(t){return t.closingBracketRange!==void 0&&t.range.strictContainsRange(e)}));return o?[o.openingBracketRange,o.closingBracketRange]:null}var s=TM(i),u=this.textModel.getLineCount(),a=new Map;var c=[];var h=function(t,i){if(!a.has(t)){var n=[];for(var r=0,e=i?i.brackets.length:0;r<e;r++)n[r]=0;a.set(t,n)}c=a.get(t)};var f=0;var l=function(t,i,r,e,o){for(;;){if(s&&++f%100==0&&!s())return LM.INSTANCE;var u=id.findNextBracketInRange(t.forwardRegex,i,r,e,o);if(!u)break;var a=r.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),h=t.textIsBracket[a];if(h&&(h.isOpen(a)?c[h.index]++:h.isClose(a)&&c[h.index]--,c[h.index]===-1))return n._matchFoundBracket(u,h,!1,s);e=u.endColumn-1}return null};var d=null,v=null;for(var A=r.lineNumber;A<=u;A++){var o=this.textModel.tokenization.getLineTokens(A),g=o.getCount(),w=this.textModel.getLineContent(A);var p=0,m=0,b=0;if(A===r.lineNumber){p=o.findTokenIndexAtOffset(r.column-1),m=r.column-1,b=r.column-1;var y=o.getLanguageId(p);d!==y&&(d=y,v=this.languageConfigurationService.getLanguageConfiguration(d).brackets,h(d,v))}var k=!0;for(;p<g;p++){var y=o.getLanguageId(p);if(d!==y){if(v&&k&&m!==b){var x=l(v,A,w,m,b);if(x)return jM(x);k=!1}d=y,v=this.languageConfigurationService.getLanguageConfiguration(d).brackets,h(d,v)}var E=!!v&&!_l(o.getStandardTokenType(p));if(E)k||(m=o.getStartOffset(p)),b=o.getEndOffset(p);else if(v&&k&&m!==b){var x=l(v,A,w,m,b);if(x)return jM(x)}k=E}if(v&&k&&m!==b){var y=l(v,A,w,m,b);if(y)return jM(y)}}return null};i.prototype._toFoundBracket=function(t,i){if(!i)return null;var n=this.textModel.getValueInRange(i);n=n.toLowerCase();var r=t.getBracketInfo(n);return r?{range:i,bracketInfo:r}:null};return i}(Cn);function TM(t){if(t===void 0)return function(){return!0};{var i=Date.now();return function(){return Date.now()-i<=t}}}var LM=function(){function t(){this._searchCanceledBrand=void 0}return t}();function jM(t){return t instanceof LM?null:t}LM.INSTANCE=new LM;var zM=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.textModel=i,n.colorProvider=new UM,n.onDidChangeEmitter=new Ln,n.onDidChange=n.onDidChangeEmitter.event,n.colorizationOptions=i.getOptions().bracketPairColorizationOptions,n._register(i.bracketPairs.onDidChange((function(t){n.onDidChangeEmitter.fire()})));return n}i.prototype.handleDidChangeOptions=function(t){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions};i.prototype.getDecorationsInRange=function(t,i,n,r){var e=this;return r?[]:i===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(t,!0).map((function(t){return{id:"bracket".concat(t.range.toString(),"-").concat(t.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:e.colorProvider.getInlineClassName(t,e.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:t.range}})).toArray():[]};i.prototype.getAllDecorations=function(t,i){return t===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new Zr(1,1,this.textModel.getLineCount(),1),t,i):[]};return i}(Cn);var UM=function(){function t(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}t.prototype.getInlineClassName=function(t,i){return t.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(i?t.nestingLevelOfEqualBracketType:t.nestingLevel)};t.prototype.getInlineClassNameOfLevel=function(t){return"bracket-highlighting-"+t%30};return t}();function HM(t){return t.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}cx((function(t,i){var n=[Px,Wx,Gx,Vx,Kx,Xx],r=new UM;i.addRule(".monaco-editor .".concat(r.unexpectedClosingBracketClassName," { color: ").concat(t.getColor(qx),"; }"));var e=n.map((function(i){return t.getColor(i)})).filter((function(t){return!!t})).filter((function(t){return!t.isTransparent()}));for(var o=0;o<30;o++){var s=e[o%e.length];i.addRule(".monaco-editor .".concat(r.getInlineClassNameOfLevel(o)," { color: ").concat(s,"; }"))}}));var YM=function(){function t(t,i,n,r){this.oldPosition=t,this.oldText=i,this.newPosition=n,this.newText=r}Object.defineProperty(t.prototype,"oldLength",{get:function(){return this.oldText.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"oldEnd",{get:function(){return this.oldPosition+this.oldText.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"newLength",{get:function(){return this.newText.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"newEnd",{get:function(){return this.newPosition+this.newText.length},enumerable:false,configurable:true});t.prototype.toString=function(){return this.oldText.length===0?"(insert@".concat(this.oldPosition,' "').concat(HM(this.newText),'")'):this.newText.length===0?"(delete@".concat(this.oldPosition,' "').concat(HM(this.oldText),'")'):"(replace@".concat(this.oldPosition,' "').concat(HM(this.oldText),'" with "').concat(HM(this.newText),'")')};t._writeStringSize=function(t){return 4+2*t.length};t._writeString=function(t,i,n){var r=i.length;zl(t,r,n),n+=4;for(var e=0;e<r;e++)Ll(t,i.charCodeAt(e),n),n+=2;return n};t._readString=function(t,i){var n=jl(t,i);return Pl(t,i+=4,n)};t.prototype.writeSize=function(){return 8+t._writeStringSize(this.oldText)+t._writeStringSize(this.newText)};t.prototype.write=function(i,n){return zl(i,this.oldPosition,n),n+=4,zl(i,this.newPosition,n),n+=4,n=t._writeString(i,this.oldText,n),n=t._writeString(i,this.newText,n)};t.read=function(i,n,r){var e=jl(i,n),o=jl(i,n+=4);n+=4;var s=t._readString(i,n);n+=t._writeStringSize(s);var u=t._readString(i,n);return n+=t._writeStringSize(u),r.push(new t(e,s,o,u)),n};return t}();var JM=function(){function t(t,i){this._prevEdits=t,this._currEdits=i,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}t.prototype.compress=function(){var i=0,n=0,r=this._getPrev(i),e=this._getCurr(n);for(;i<this._prevLen||n<this._currLen;){if(r===null){this._acceptCurr(e),e=this._getCurr(++n);continue}if(e===null){this._acceptPrev(r),r=this._getPrev(++i);continue}if(e.oldEnd<=r.newPosition){this._acceptCurr(e),e=this._getCurr(++n);continue}if(r.newEnd<=e.oldPosition){this._acceptPrev(r),r=this._getPrev(++i);continue}if(e.oldPosition<r.newPosition){var o=t._splitCurr(e,r.newPosition-e.oldPosition),s=o[0],u=o[1];this._acceptCurr(s),e=u;continue}if(r.newPosition<e.oldPosition){var a=t._splitPrev(r,e.oldPosition-r.newPosition),s=a[0],u=a[1];this._acceptPrev(s),r=u;continue}var c=void 0,h=void 0;if(e.oldEnd===r.newEnd)c=r,h=e,r=this._getPrev(++i),e=this._getCurr(++n);else if(e.oldEnd<r.newEnd){var f=t._splitPrev(r,e.oldLength),s=f[0],u=f[1];c=s,h=e,r=u,e=this._getCurr(++n)}else{var l=t._splitCurr(e,r.newLength),s=l[0],u=l[1];c=r,h=s,r=this._getPrev(++i),e=u}this._result[this._resultLen++]=new YM(c.oldPosition,c.oldText,h.newPosition,h.newText),this._prevDeltaOffset+=c.newLength-c.oldLength,this._currDeltaOffset+=h.newLength-h.oldLength}var d=t._merge(this._result);return t._removeNoOps(d)};t.prototype._acceptCurr=function(i){this._result[this._resultLen++]=t._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength};t.prototype._getCurr=function(t){return t<this._currLen?this._currEdits[t]:null};t.prototype._acceptPrev=function(i){this._result[this._resultLen++]=t._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength};t.prototype._getPrev=function(t){return t<this._prevLen?this._prevEdits[t]:null};t._rebaseCurr=function(t,i){return new YM(i.oldPosition-t,i.oldText,i.newPosition,i.newText)};t._rebasePrev=function(t,i){return new YM(i.oldPosition,i.oldText,i.newPosition+t,i.newText)};t._splitPrev=function(t,i){var n=t.newText.substr(0,i),r=t.newText.substr(i);return[new YM(t.oldPosition,t.oldText,t.newPosition,n),new YM(t.oldEnd,"",t.newPosition+i,r)]};t._splitCurr=function(t,i){var n=t.oldText.substr(0,i),r=t.oldText.substr(i);return[new YM(t.oldPosition,n,t.newPosition,t.newText),new YM(t.oldPosition+i,r,t.newEnd,"")]};t._merge=function(t){if(t.length===0)return t;var i=[];var n=0,r=t[0];for(var e=1;e<t.length;e++){var o=t[e];r.oldEnd===o.oldPosition?r=new YM(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(i[n++]=r,r=o)}return i[n++]=r,i};t._removeNoOps=function(t){if(t.length===0)return t;var i=[];var n=0;for(var r=0;r<t.length;r++){var e=t[r];e.oldText!==e.newText&&(i[n++]=e)}return i};return t}();function PM(t){return t===47||t===92}function WM(t){return t.replace(/[\\/]/g,Cr.sep)}function GM(t,i){if(i===void 0){i=Cr.sep}if(!t)return"";var n=t.length,r=t.charCodeAt(0);if(PM(r)){if(PM(t.charCodeAt(1))&&!PM(t.charCodeAt(2))){var e=3;var o=e;for(;e<n&&!PM(t.charCodeAt(e));e++);if(o!==e&&!PM(t.charCodeAt(e+1))){for(e+=1;e<n;e++)if(PM(t.charCodeAt(e)))return t.slice(0,e+1).replace(/[\\/]/g,i)}}return i}if(KM(r)&&t.charCodeAt(1)===58)return PM(t.charCodeAt(2))?t.slice(0,2)+i:t.slice(0,2);var s=t.indexOf("://");if(s!==-1){for(s+=3;s<n;s++)if(PM(t.charCodeAt(s)))return t.slice(0,s+1)}return""}function VM(t,i,n,r){if(r===void 0){r=Qr}if(t===i)return!0;if(!t||!i||i.length>t.length)return!1;if(n){if(!Uo(t,i))return!1;if(i.length===t.length)return!0;var e=i.length;return i.charAt(i.length-1)===r&&e--,t.charAt(e)===r}return i.charAt(i.length-1)!==r&&(i+=r),t.indexOf(i)===0}function KM(t){return t>=65&&t<=90||t>=97&&t<=122}function XM(t){return Wr(t,!0)}var qM=new(function(){function t(t){this._ignorePathCasing=t}t.prototype.compare=function(t,i,n){if(n===void 0){n=!1}return t===i?0:Qo(this.getComparisonKey(t,n),this.getComparisonKey(i,n))};t.prototype.isEqual=function(t,i,n){if(n===void 0){n=!1}return t===i||!(!t||!i)&&this.getComparisonKey(t,n)===this.getComparisonKey(i,n)};t.prototype.getComparisonKey=function(t,i){if(i===void 0){i=!1}return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()};t.prototype.isEqualOrParent=function(t,i,n){if(n===void 0){n=!1}if(t.scheme===i.scheme){if(t.scheme===oa.file)return VM(XM(t),XM(i),this._ignorePathCasing(t))&&t.query===i.query&&(n||t.fragment===i.fragment);if(u_(t.authority,i.authority))return VM(t.path,i.path,this._ignorePathCasing(t),"/")&&t.query===i.query&&(n||t.fragment===i.fragment)}return!1};t.prototype.joinPath=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return zr.joinPath.apply(zr,__spreadArray([t],i,false))};t.prototype.basenameOrAuthority=function(t){return t_(t)||t.authority};t.prototype.basename=function(t){return Cr.basename(t.path)};t.prototype.extname=function(t){return Cr.extname(t.path)};t.prototype.dirname=function(t){if(t.path.length===0)return t;var i;return t.scheme===oa.file?i=zr.file(Fr(XM(t))).path:(i=Cr.dirname(t.path),t.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error('dirname("'.concat(t.toString,")) resulted in a relative path")),i="/")),t.with({path:i})};t.prototype.normalizePath=function(t){if(!t.path.length)return t;var i;return i=t.scheme===oa.file?zr.file(Dr(XM(t))).path:Cr.normalize(t.path),t.with({path:i})};t.prototype.relativePath=function(t,i){if(t.scheme!==i.scheme||!u_(t.authority,i.authority))return;if(t.scheme===oa.file){var n=_r(XM(t),XM(i));return Wt?WM(n):n}var r=t.path||"/";var e=i.path||"/";if(this._ignorePathCasing(t)){var n=0;for(var o=Math.min(r.length,e.length);n<o&&(r.charCodeAt(n)===e.charCodeAt(n)||r.charAt(n).toLowerCase()===e.charAt(n).toLowerCase());n++);r=e.substr(0,n)+r.substr(n)}return Cr.relative(r,e)};t.prototype.resolvePath=function(t,i){if(t.scheme===oa.file){var n=zr.file(Mr(XM(t),i));return t.with({authority:n.authority,path:n.path})}var r;return(r=i).indexOf("/")===-1&&(r=WM(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),i=r,t.with({path:Cr.resolve(t.path,i)})};t.prototype.isAbsolutePath=function(t){return!!t.path&&t.path[0]==="/"};t.prototype.isEqualAuthority=function(t,i){return t===i||t!==void 0&&i!==void 0&&zo(t,i)};t.prototype.hasTrailingPathSeparator=function(t,i){if(i===void 0){i=Qr}if(t.scheme===oa.file){var n=XM(t);return n.length>GM(n).length&&n[n.length-1]===i}{var n=t.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}};t.prototype.removeTrailingPathSeparator=function(t,i){if(i===void 0){i=Qr}return a_(t,i)?t.with({path:t.path.substr(0,t.path.length-1)}):t};t.prototype.addTrailingPathSeparator=function(t,i){if(i===void 0){i=Qr}var n=!1;if(t.scheme===oa.file){var r=XM(t);n=r!==void 0&&r.length===GM(r).length&&r[r.length-1]===i}else{i="/";var r=t.path;n=r.length===1&&r.charCodeAt(r.length-1)===47}return n||a_(t,i)?t:t.with({path:t.path+"/"})};return t}())((function(){return!1})),ZM=qM.isEqual.bind(qM);qM.isEqualOrParent.bind(qM),qM.getComparisonKey.bind(qM);var $M=qM.basenameOrAuthority.bind(qM),t_=qM.basename.bind(qM),i_=qM.extname.bind(qM),n_=qM.dirname.bind(qM),r_=qM.joinPath.bind(qM),e_=qM.normalizePath.bind(qM),o_=qM.relativePath.bind(qM),s_=qM.resolvePath.bind(qM);qM.isAbsolutePath.bind(qM);var u_=qM.isEqualAuthority.bind(qM),a_=qM.hasTrailingPathSeparator.bind(qM);var c_;function h_(t){return t.toString()}qM.removeTrailingPathSeparator.bind(qM),qM.addTrailingPathSeparator.bind(qM),function(t){t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime",t.parseMetaData=function(i){var n=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach((function(t){var i=t.split(":"),r=i[0],e=i[1];r&&e&&n.set(r,e)}));var r=i.path.substring(0,i.path.indexOf(";"));return r&&n.set(t.META_DATA_MIME,r),n}}(c_||(c_={}));var f_=function(){function t(t,i,n,r,e,o,s){this.beforeVersionId=t,this.afterVersionId=i,this.beforeEOL=n,this.afterEOL=r,this.beforeCursorState=e,this.afterCursorState=o,this.changes=s}t.create=function(i,n){var r=i.getAlternativeVersionId(),e=v_(i);return new t(r,r,e,e,n,n,[])};t.prototype.append=function(t,i,n,r,e){var o,s;i.length>0&&(this.changes=(o=this.changes,s=i,o===null||o.length===0?s:new JM(o,s).compress())),this.afterEOL=n,this.afterVersionId=r,this.afterCursorState=e};t._writeSelectionsSize=function(t){return 4+16*(t?t.length:0)};t._writeSelections=function(t,i,n){if(zl(t,i?i.length:0,n),n+=4,i)for(var r=0,e=i;r<e.length;r++){var o=e[r];zl(t,o.selectionStartLineNumber,n),n+=4,zl(t,o.selectionStartColumn,n),n+=4,zl(t,o.positionLineNumber,n),n+=4,zl(t,o.positionColumn,n),n+=4}return n};t._readSelections=function(t,i,n){var r=jl(t,i);i+=4;for(var e=0;e<r;e++){var o=jl(t,i),s=jl(t,i+=4),u=jl(t,i+=4),a=jl(t,i+=4);i+=4,n.push(new $r(o,s,u,a))}return i};t.prototype.serialize=function(){var i=10+t._writeSelectionsSize(this.beforeCursorState)+t._writeSelectionsSize(this.afterCursorState)+4;for(var n=0,r=this.changes;n<r.length;n++){var e=r[n];i+=e.writeSize()}var o=new Uint8Array(i);var s=0;zl(o,this.beforeVersionId,s),s+=4,zl(o,this.afterVersionId,s),s+=4,Hl(o,this.beforeEOL,s),s+=1,Hl(o,this.afterEOL,s),s+=1,s=t._writeSelections(o,this.beforeCursorState,s),s=t._writeSelections(o,this.afterCursorState,s),zl(o,this.changes.length,s),s+=4;for(var u=0,a=this.changes;u<a.length;u++){var e=a[u];s=e.write(o,s)}return o.buffer};t.deserialize=function(i){var n=new Uint8Array(i);var r=0;var e=jl(n,r);r+=4;var o=jl(n,r);r+=4;var s=Ul(n,r);r+=1;var u=Ul(n,r);r+=1;var a=[];r=t._readSelections(n,r,a);var c=[];r=t._readSelections(n,r,c);var h=jl(n,r);r+=4;var f=[];for(var l=0;l<h;l++)r=YM.read(n,r,f);return new t(e,o,s,u,a,c,f)};return t}();var l_=function(){function t(t,i,n,r){this.label=t,this.code=i,this.model=n,this._data=f_.create(n,r)}Object.defineProperty(t.prototype,"type",{get:function(){return 0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"resource",{get:function(){return zr.isUri(this.model)?this.model:this.model.uri},enumerable:false,configurable:true});t.prototype.toString=function(){return(this._data instanceof f_?this._data:f_.deserialize(this._data)).changes.map((function(t){return t.toString()})).join(", ")};t.prototype.matchesResource=function(t){return(zr.isUri(this.model)?this.model:this.model.uri).toString()===t.toString()};t.prototype.setModel=function(t){this.model=t};t.prototype.canAppend=function(t){return this.model===t&&this._data instanceof f_};t.prototype.append=function(t,i,n,r,e){this._data instanceof f_&&this._data.append(t,i,n,r,e)};t.prototype.close=function(){this._data instanceof f_&&(this._data=this._data.serialize())};t.prototype.open=function(){this._data instanceof f_||(this._data=f_.deserialize(this._data))};t.prototype.undo=function(){if(zr.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof f_&&(this._data=this._data.serialize());var t=f_.deserialize(this._data);this.model._applyUndo(t.changes,t.beforeEOL,t.beforeVersionId,t.beforeCursorState)};t.prototype.redo=function(){if(zr.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof f_&&(this._data=this._data.serialize());var t=f_.deserialize(this._data);this.model._applyRedo(t.changes,t.afterEOL,t.afterVersionId,t.afterCursorState)};t.prototype.heapSize=function(){return this._data instanceof f_&&(this._data=this._data.serialize()),this._data.byteLength+168};return t}();var d_=function(){function t(t,i,n){this.label=t,this.code=i,this.type=1,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(var r=0,e=this._editStackElementsArr;r<e.length;r++){var o=e[r];var s=h_(o.resource);this._editStackElementsMap.set(s,o)}this._delegate=null}Object.defineProperty(t.prototype,"resources",{get:function(){return this._editStackElementsArr.map((function(t){return t.resource}))},enumerable:false,configurable:true});t.prototype.prepareUndoRedo=function(){if(this._delegate)return this._delegate.prepareUndoRedo(this)};t.prototype.matchesResource=function(t){var i=h_(t);return this._editStackElementsMap.has(i)};t.prototype.setModel=function(t){var i=h_(zr.isUri(t)?t:t.uri);this._editStackElementsMap.has(i)&&this._editStackElementsMap.get(i).setModel(t)};t.prototype.canAppend=function(t){if(!this._isOpen)return!1;var i=h_(t.uri);return this._editStackElementsMap.has(i)?this._editStackElementsMap.get(i).canAppend(t):!1};t.prototype.append=function(t,i,n,r,e){var o=h_(t.uri);this._editStackElementsMap.get(o).append(t,i,n,r,e)};t.prototype.close=function(){this._isOpen=!1};t.prototype.open=function(){};t.prototype.undo=function(){this._isOpen=!1;for(var t=0,i=this._editStackElementsArr;t<i.length;t++){var n=i[t];n.undo()}};t.prototype.redo=function(){for(var t=0,i=this._editStackElementsArr;t<i.length;t++){var n=i[t];n.redo()}};t.prototype.heapSize=function(t){var i=h_(t);return this._editStackElementsMap.has(i)?this._editStackElementsMap.get(i).heapSize():0};t.prototype.split=function(){return this._editStackElementsArr};t.prototype.toString=function(){var t=[];for(var i=0,n=this._editStackElementsArr;i<n.length;i++){var r=n[i];t.push("".concat(t_(r.resource),": ").concat(r))}return"{".concat(t.join(", "),"}")};return t}();function v_(t){return t.getEOL()==="\n"?0:1}function A_(t){return!!t&&(t instanceof l_||t instanceof d_)}var g_=function(){function t(t,i){this._model=t,this._undoRedoService=i}t.prototype.pushStackElement=function(){var t=this._undoRedoService.getLastElement(this._model.uri);A_(t)&&t.close()};t.prototype.popStackElement=function(){var t=this._undoRedoService.getLastElement(this._model.uri);A_(t)&&t.open()};t.prototype.clear=function(){this._undoRedoService.removeElements(this._model.uri)};t.prototype._getOrCreateEditStackElement=function(t,i){var n=this._undoRedoService.getLastElement(this._model.uri);if(A_(n)&&n.canAppend(this._model))return n;var r=new l_(Bt(0,"Typing"),"undoredo.textBufferEdit",this._model,t);return this._undoRedoService.pushElement(r,i),r};t.prototype.pushEOL=function(t){var i=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(t),i.append(this._model,[],v_(this._model),this._model.getAlternativeVersionId(),null)};t.prototype.pushEditOperation=function(i,n,r,e){var o=this._getOrCreateEditStackElement(i,e),s=this._model.applyEdits(n,!0),u=t._computeCursorState(r,s),a=s.map((function(t,i){return{index:i,textChange:t.textChange}}));return a.sort((function(t,i){return t.textChange.oldPosition===i.textChange.oldPosition?t.index-i.index:t.textChange.oldPosition-i.textChange.oldPosition})),o.append(this._model,a.map((function(t){return t.textChange})),v_(this._model),this._model.getAlternativeVersionId(),u),u};t._computeCursorState=function(t,i){try{return t?t(i):null}catch(t){return cn(t),null}};return t}();var w_=function(){function t(){this.spacesDiff=0,this.looksLikeAlignment=!1}return t}();function p_(t,i,n,r,e){var o;for(e.spacesDiff=0,e.looksLikeAlignment=!1,o=0;o<i&&o<r&&t.charCodeAt(o)===n.charCodeAt(o);o++);var s=0,u=0;for(var a=o;a<i;a++)t.charCodeAt(a)===32?s++:u++;var c=0,h=0;for(var a=o;a<r;a++)n.charCodeAt(a)===32?c++:h++;if(s>0&&u>0||c>0&&h>0)return;var f=Math.abs(u-h),l=Math.abs(s-c);if(f===0)return e.spacesDiff=l,void(l>0&&0<=c-1&&c-1<t.length&&c<n.length&&n.charCodeAt(c)!==32&&t.charCodeAt(c-1)===32&&t.charCodeAt(t.length-1)===44&&(e.looksLikeAlignment=!0));l%f!=0||(e.spacesDiff=l/f)}function m_(t,i,n){var r=Math.min(t.getLineCount(),1e4);var e=0,o=0,s="",u=0;var a=[2,4,6,8,3,5,7],c=[0,0,0,0,0,0,0,0,0],h=new w_;for(var f=1;f<=r;f++){var l=t.getLineLength(f),d=t.getLineContent(f),v=l<=65536;var A=!1,g=0,w=0,p=0;for(var m=0,b=l;m<b;m++){var y=v?d.charCodeAt(m):t.getLineCharCode(f,m);if(y===9)p++;else{if(y!==32){A=!0,g=m;break}w++}}if(!A||(p>0?e++:w>1&&o++,p_(s,u,d,g,h),h.looksLikeAlignment&&(!n||i!==h.spacesDiff)))continue;var k=h.spacesDiff;k<=8&&c[k]++,s=d,u=g}var x=n;e!==o&&(x=e<o);var E=i;if(x){var B=x?0:.1*r;a.forEach((function(t){var i=c[t];i>B&&(B=i,E=t)})),E===4&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(E=2)}return{insertSpaces:x,tabSize:E}}function b_(t){return(1&t.metadata)>>>0}function y_(t,i){t.metadata=254&t.metadata|i}function k_(t){return(2&t.metadata)>>>1==1}function x_(t,i){t.metadata=253&t.metadata|(i?1:0)<<1}function E_(t){return(4&t.metadata)>>>2==1}function B_(t,i){t.metadata=251&t.metadata|(i?1:0)<<2}function C_(t){return(64&t.metadata)>>>6==1}function D_(t,i){t.metadata=191&t.metadata|(i?1:0)<<6}function M_(t,i){t.metadata=231&t.metadata|i<<3}function __(t,i){t.metadata=223&t.metadata|(i?1:0)<<5}var F_=function(){function t(t,i,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,y_(this,1),this.start=i,this.end=n,this.delta=0,this.maxEnd=n,this.id=t,this.ownerId=0,this.options=null,B_(this,!1),D_(this,!1),M_(this,1),__(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=i,this.cachedAbsoluteEnd=n,this.range=null,x_(this,!1)}t.prototype.reset=function(t,i,n,r){this.start=i,this.end=n,this.maxEnd=n,this.cachedVersionId=t,this.cachedAbsoluteStart=i,this.cachedAbsoluteEnd=n,this.range=r};t.prototype.setOptions=function(t){this.options=t;var i=this.options.className;B_(this,i==="squiggly-error"||i==="squiggly-warning"||i==="squiggly-info"),D_(this,this.options.glyphMarginClassName!==null),M_(this,this.options.stickiness),__(this,this.options.collapseOnReplaceEdit)};t.prototype.setCachedOffsets=function(t,i,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i};t.prototype.detach=function(){this.parent=null,this.left=null,this.right=null};return t}();var S_=new F_(null,0,0);S_.parent=S_,S_.left=S_,S_.right=S_,y_(S_,0);var I_=function(){function t(){this.root=S_,this.requestNormalizeDelta=!1}t.prototype.intervalSearch=function(t,i,n,r,e,o){return this.root===S_?[]:function(t,i,n,r,e,o,s){var u=t.root,a=0,c=0,h=0,f=0;var l=[];var d=0;for(;u!==S_;)if(k_(u))x_(u.left,!1),x_(u.right,!1),u===u.parent.right&&(a-=u.parent.delta),u=u.parent;else{if(!k_(u.left)){if(c=a+u.maxEnd,c<i){x_(u,!0);continue}if(u.left!==S_){u=u.left;continue}}if(h=a+u.start,h>n)x_(u,!0);else{if(f=a+u.end,f>=i){u.setCachedOffsets(h,f,o);var v=!0;r&&u.ownerId&&u.ownerId!==r&&(v=!1),e&&E_(u)&&(v=!1),s&&!C_(u)&&(v=!1),v&&(l[d++]=u)}x_(u,!0),u.right===S_||k_(u.right)||(a+=u.delta,u=u.right)}}return x_(t.root,!1),l}(this,t,i,n,r,e,o)};t.prototype.search=function(t,i,n,r){return this.root===S_?[]:function(t,i,n,r,e){var o=t.root,s=0,u=0,a=0;var c=[];var h=0;for(;o!==S_;){if(k_(o)){x_(o.left,!1),x_(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==S_&&!k_(o.left)){o=o.left;continue}u=s+o.start,a=s+o.end,o.setCachedOffsets(u,a,r);var f=!0;i&&o.ownerId&&o.ownerId!==i&&(f=!1),n&&E_(o)&&(f=!1),e&&!C_(o)&&(f=!1),f&&(c[h++]=o),x_(o,!0),o.right===S_||k_(o.right)||(s+=o.delta,o=o.right)}return x_(t.root,!1),c}(this,t,i,n,r)};t.prototype.collectNodesFromOwner=function(t){return function(t,i){var n=t.root;var r=[];var e=0;for(;n!==S_;)k_(n)?(x_(n.left,!1),x_(n.right,!1),n=n.parent):n.left===S_||k_(n.left)?(n.ownerId===i&&(r[e++]=n),x_(n,!0),n.right===S_||k_(n.right)||(n=n.right)):n=n.left;return x_(t.root,!1),r}(this,t)};t.prototype.collectNodesPostOrder=function(){return function(t){var i=t.root;var n=[];var r=0;for(;i!==S_;)k_(i)?(x_(i.left,!1),x_(i.right,!1),i=i.parent):i.left===S_||k_(i.left)?i.right===S_||k_(i.right)?(n[r++]=i,x_(i,!0)):i=i.right:i=i.left;return x_(t.root,!1),n}(this)};t.prototype.insert=function(t){N_(this,t),this._normalizeDeltaIfNecessary()};t.prototype.delete=function(t){R_(this,t),this._normalizeDeltaIfNecessary()};t.prototype.resolveNode=function(t,i){var n=t;var r=0;for(;t!==this.root;)t===t.parent.right&&(r+=t.parent.delta),t=t.parent;var e=n.start+r,o=n.end+r;n.setCachedOffsets(e,o,i)};t.prototype.acceptReplace=function(t,i,n,r){var e=function(t,i,n){var r=t.root,e=0,o=0,s=0,u=0;var a=[];var c=0;for(;r!==S_;)if(k_(r))x_(r.left,!1),x_(r.right,!1),r===r.parent.right&&(e-=r.parent.delta),r=r.parent;else{if(!k_(r.left)){if(o=e+r.maxEnd,o<i){x_(r,!0);continue}if(r.left!==S_){r=r.left;continue}}s=e+r.start,s>n?x_(r,!0):(u=e+r.end,u>=i&&(r.setCachedOffsets(s,u,0),a[c++]=r),x_(r,!0),r.right===S_||k_(r.right)||(e+=r.delta,r=r.right))}return x_(t.root,!1),a}(this,t,t+i);for(var o=0,s=e.length;o<s;o++)R_(this,e[o]);this._normalizeDeltaIfNecessary(),function(t,i,n,r){var e=t.root,o=0,s=0,u=0;var a=r-(n-i);for(;e!==S_;)if(k_(e))x_(e.left,!1),x_(e.right,!1),e===e.parent.right&&(o-=e.parent.delta),U_(e),e=e.parent;else{if(!k_(e.left)){if(s=o+e.maxEnd,s<i){x_(e,!0);continue}if(e.left!==S_){e=e.left;continue}}u=o+e.start,u>n?(e.start+=a,e.end+=a,e.delta+=a,(e.delta<-1073741824||e.delta>1073741824)&&(t.requestNormalizeDelta=!0),x_(e,!0)):(x_(e,!0),e.right===S_||k_(e.right)||(o+=e.delta,e=e.right))}x_(t.root,!1)}(this,t,t+i,n),this._normalizeDeltaIfNecessary();for(var o=0,s=e.length;o<s;o++){var u=e[o];u.start=u.cachedAbsoluteStart,u.end=u.cachedAbsoluteEnd,O_(u,t,t+i,n,r),u.maxEnd=u.end,N_(this,u)}this._normalizeDeltaIfNecessary()};t.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(t){var i=t.root,n=0;for(;i!==S_;)i.left===S_||k_(i.left)?i.right===S_||k_(i.right)?(i.start=n+i.start,i.end=n+i.end,i.delta=0,U_(i),x_(i,!0),x_(i.left,!1),x_(i.right,!1),i===i.parent.right&&(n-=i.parent.delta),i=i.parent):(n+=i.delta,i=i.right):i=i.left;x_(t.root,!1)}(this))};return t}();function Q_(t,i,n,r){return t<n||!(t>n)&&r!==1&&(r===2||i)}function O_(t,i,n,r,e){var o=function(t){return(24&t.metadata)>>>3}(t),s=o===0||o===2,u=o===1||o===2,a=n-i,c=r,h=Math.min(a,c),f=t.start;var l=!1;var d=t.end;var v=!1;i<=f&&d<=n&&function(t){return(32&t.metadata)>>>5==1}(t)&&(t.start=i,l=!0,t.end=i,v=!0);{var A=e?1:a>0?2:0;!l&&Q_(f,s,i,A)&&(l=!0),!v&&Q_(d,u,i,A)&&(v=!0)}if(h>0&&!e){var A=a>c?2:0;!l&&Q_(f,s,i+h,A)&&(l=!0),!v&&Q_(d,u,i+h,A)&&(v=!0)}{var A=e?1:0;!l&&Q_(f,s,n,A)&&(t.start=i+c,l=!0),!v&&Q_(d,u,n,A)&&(t.end=i+c,v=!0)}var g=c-a;l||(t.start=Math.max(0,f+g)),v||(t.end=Math.max(0,d+g)),t.start>t.end&&(t.end=t.start)}function N_(t,i){if(t.root===S_)return i.parent=S_,i.left=S_,i.right=S_,y_(i,0),t.root=i,t.root;(function(t,i){var n=0,r=t.root;var e=i.start,o=i.end;for(;;)if(Y_(e,o,r.start+n,r.end+n)<0){if(r.left===S_){i.start-=n,i.end-=n,i.maxEnd-=n,r.left=i;break}r=r.left}else{if(r.right===S_){i.start-=n+r.delta,i.end-=n+r.delta,i.maxEnd-=n+r.delta,r.right=i;break}n+=r.delta,r=r.right}i.parent=r,i.left=S_,i.right=S_,y_(i,1)})(t,i),H_(i.parent);var n=i;for(;n!==t.root&&b_(n.parent)===1;)if(n.parent===n.parent.parent.left){var r=n.parent.parent.right;b_(r)===1?(y_(n.parent,0),y_(r,0),y_(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,L_(t,n)),y_(n.parent,0),y_(n.parent.parent,1),j_(t,n.parent.parent))}else{var r=n.parent.parent.left;b_(r)===1?(y_(n.parent,0),y_(r,0),y_(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,j_(t,n)),y_(n.parent,0),y_(n.parent.parent,1),L_(t,n.parent.parent))}return y_(t.root,0),i}function R_(t,i){var n,r;if(i.left===S_?(n=i.right,r=i,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0),n.start+=i.delta,n.end+=i.delta):i.right===S_?(n=i.left,r=i):(r=function(t){for(;t.left!==S_;)t=t.left;return t}(i.right),n=r.right,n.start+=r.delta,n.end+=r.delta,n.delta+=r.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0),r.start+=i.delta,r.end+=i.delta,r.delta=i.delta,(r.delta<-1073741824||r.delta>1073741824)&&(t.requestNormalizeDelta=!0)),r===t.root)return t.root=n,y_(n,0),i.detach(),T_(),U_(n),void(t.root.parent=S_);var e=b_(r)===1;if(r===r.parent.left?r.parent.left=n:r.parent.right=n,r===i?n.parent=r.parent:(r.parent===i?n.parent=r:n.parent=r.parent,r.left=i.left,r.right=i.right,r.parent=i.parent,y_(r,b_(i)),i===t.root?t.root=r:i===i.parent.left?i.parent.left=r:i.parent.right=r,r.left!==S_&&(r.left.parent=r),r.right!==S_&&(r.right.parent=r)),i.detach(),e)return H_(n.parent),r!==i&&(H_(r),H_(r.parent)),void T_();var o;for(H_(n),H_(n.parent),r!==i&&(H_(r),H_(r.parent));n!==t.root&&b_(n)===0;)n===n.parent.left?(o=n.parent.right,b_(o)===1&&(y_(o,0),y_(n.parent,1),L_(t,n.parent),o=n.parent.right),b_(o.left)===0&&b_(o.right)===0?(y_(o,1),n=n.parent):(b_(o.right)===0&&(y_(o.left,0),y_(o,1),j_(t,o),o=n.parent.right),y_(o,b_(n.parent)),y_(n.parent,0),y_(o.right,0),L_(t,n.parent),n=t.root)):(o=n.parent.left,b_(o)===1&&(y_(o,0),y_(n.parent,1),j_(t,n.parent),o=n.parent.left),b_(o.left)===0&&b_(o.right)===0?(y_(o,1),n=n.parent):(b_(o.left)===0&&(y_(o.right,0),y_(o,1),L_(t,o),o=n.parent.left),y_(o,b_(n.parent)),y_(n.parent,0),y_(o.left,0),j_(t,n.parent),n=t.root));y_(n,0),T_()}function T_(){S_.parent=S_,S_.delta=0,S_.start=0,S_.end=0}function L_(t,i){var n=i.right;n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0),n.start+=i.delta,n.end+=i.delta,i.right=n.left,n.left!==S_&&(n.left.parent=i),n.parent=i.parent,i.parent===S_?t.root=n:i===i.parent.left?i.parent.left=n:i.parent.right=n,n.left=i,i.parent=n,U_(i),U_(n)}function j_(t,i){var n=i.left;i.delta-=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(t.requestNormalizeDelta=!0),i.start-=n.delta,i.end-=n.delta,i.left=n.right,n.right!==S_&&(n.right.parent=i),n.parent=i.parent,i.parent===S_?t.root=n:i===i.parent.right?i.parent.right=n:i.parent.left=n,n.right=i,i.parent=n,U_(i),U_(n)}function z_(t){var i=t.end;if(t.left!==S_){var n=t.left.maxEnd;n>i&&(i=n)}if(t.right!==S_){var n=t.right.maxEnd+t.delta;n>i&&(i=n)}return i}function U_(t){t.maxEnd=z_(t)}function H_(t){for(;t!==S_;){var i=z_(t);if(t.maxEnd===i)return;t.maxEnd=i,t=t.parent}}function Y_(t,i,n,r){return t===n?i-r:t-n}var J_=function(){function t(t,i){this.piece=t,this.color=i,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}t.prototype.next=function(){if(this.right!==P_)return W_(this.right);var t=this;for(;t.parent!==P_&&t.parent.left!==t;)t=t.parent;return t.parent===P_?P_:t.parent};t.prototype.prev=function(){if(this.left!==P_)return G_(this.left);var t=this;for(;t.parent!==P_&&t.parent.right!==t;)t=t.parent;return t.parent===P_?P_:t.parent};t.prototype.detach=function(){this.parent=null,this.left=null,this.right=null};return t}();var P_=new J_(null,0);function W_(t){for(;t.left!==P_;)t=t.left;return t}function G_(t){for(;t.right!==P_;)t=t.right;return t}function V_(t){return t===P_?0:t.size_left+t.piece.length+V_(t.right)}function K_(t){return t===P_?0:t.lf_left+t.piece.lineFeedCnt+K_(t.right)}function X_(){P_.parent=P_}function q_(t,i){var n=i.right;n.size_left+=i.size_left+(i.piece?i.piece.length:0),n.lf_left+=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),i.right=n.left,n.left!==P_&&(n.left.parent=i),n.parent=i.parent,i.parent===P_?t.root=n:i.parent.left===i?i.parent.left=n:i.parent.right=n,n.left=i,i.parent=n}function Z_(t,i){var n=i.left;i.left=n.right,n.right!==P_&&(n.right.parent=i),n.parent=i.parent,i.size_left-=n.size_left+(n.piece?n.piece.length:0),i.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),i.parent===P_?t.root=n:i===i.parent.right?i.parent.right=n:i.parent.left=n,n.right=i,i.parent=n}function $_(t,i){var n,r;if(i.left===P_?(r=i,n=r.right):i.right===P_?(r=i,n=r.left):(r=W_(i.right),n=r.right),r===t.root)return t.root=n,n.color=0,i.detach(),X_(),void(t.root.parent=P_);var e=r.color===1;if(r===r.parent.left?r.parent.left=n:r.parent.right=n,r===i?(n.parent=r.parent,nF(t,n)):(r.parent===i?n.parent=r:n.parent=r.parent,nF(t,n),r.left=i.left,r.right=i.right,r.parent=i.parent,r.color=i.color,i===t.root?t.root=r:i===i.parent.left?i.parent.left=r:i.parent.right=r,r.left!==P_&&(r.left.parent=r),r.right!==P_&&(r.right.parent=r),r.size_left=i.size_left,r.lf_left=i.lf_left,nF(t,r)),i.detach(),n.parent.left===n){var o=V_(n),s=K_(n);if(o!==n.parent.size_left||s!==n.parent.lf_left){var u=o-n.parent.size_left,a=s-n.parent.lf_left;n.parent.size_left=o,n.parent.lf_left=s,iF(t,n.parent,u,a)}}if(nF(t,n.parent),e)return void X_();var c;for(;n!==t.root&&n.color===0;)n===n.parent.left?(c=n.parent.right,c.color===1&&(c.color=0,n.parent.color=1,q_(t,n.parent),c=n.parent.right),c.left.color===0&&c.right.color===0?(c.color=1,n=n.parent):(c.right.color===0&&(c.left.color=0,c.color=1,Z_(t,c),c=n.parent.right),c.color=n.parent.color,n.parent.color=0,c.right.color=0,q_(t,n.parent),n=t.root)):(c=n.parent.left,c.color===1&&(c.color=0,n.parent.color=1,Z_(t,n.parent),c=n.parent.left),c.left.color===0&&c.right.color===0?(c.color=1,n=n.parent):(c.left.color===0&&(c.right.color=0,c.color=1,q_(t,c),c=n.parent.left),c.color=n.parent.color,n.parent.color=0,c.left.color=0,Z_(t,n.parent),n=t.root));n.color=0,X_()}function tF(t,i){for(nF(t,i);i!==t.root&&i.parent.color===1;)if(i.parent===i.parent.parent.left){var n=i.parent.parent.right;n.color===1?(i.parent.color=0,n.color=0,i.parent.parent.color=1,i=i.parent.parent):(i===i.parent.right&&q_(t,i=i.parent),i.parent.color=0,i.parent.parent.color=1,Z_(t,i.parent.parent))}else{var n=i.parent.parent.left;n.color===1?(i.parent.color=0,n.color=0,i.parent.parent.color=1,i=i.parent.parent):(i===i.parent.left&&Z_(t,i=i.parent),i.parent.color=0,i.parent.parent.color=1,q_(t,i.parent.parent))}t.root.color=0}function iF(t,i,n,r){for(;i!==t.root&&i!==P_;)i.parent.left===i&&(i.parent.size_left+=n,i.parent.lf_left+=r),i=i.parent}function nF(t,i){var n=0,r=0;if(i!==t.root){for(;i!==t.root&&i===i.parent.right;)i=i.parent;if(i!==t.root)for(n=V_((i=i.parent).left)-i.size_left,r=K_(i.left)-i.lf_left,i.size_left+=n,i.lf_left+=r;i!==t.root&&(n!==0||r!==0);)i.parent.left===i&&(i.parent.size_left+=n,i.parent.lf_left+=r),i=i.parent}}P_.parent=P_,P_.left=P_,P_.right=P_,P_.color=0;var rF=65535;function eF(t){var i;return i=t[t.length-1]<65536?new Uint16Array(t.length):new Uint32Array(t.length),i.set(t,0),i}var oF=function(){function t(t,i,n,r,e){this.lineStarts=t,this.cr=i,this.lf=n,this.crlf=r,this.isBasicASCII=e}return t}();function sF(t,i){if(i===void 0){i=!0}var n=[0];var r=1;for(var e=0,o=t.length;e<o;e++){var s=t.charCodeAt(e);s===13?e+1<o&&t.charCodeAt(e+1)===10?(n[r++]=e+2,e++):n[r++]=e+1:s===10&&(n[r++]=e+1)}return i?eF(n):n}var uF=function(){function t(t,i,n,r,e){this.bufferIndex=t,this.start=i,this.end=n,this.lineFeedCnt=r,this.length=e}return t}();var aF=function(){function t(t,i){this.buffer=t,this.lineStarts=i}return t}();var cF=function(){function t(t,i){var n=this;this._pieces=[],this._tree=t,this._BOM=i,this._index=0,t.root!==P_&&t.iterate(t.root,(function(t){return t!==P_&&n._pieces.push(t.piece),!0}))}t.prototype.read=function(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])};return t}();var hF=function(){function t(t){this._limit=t,this._cache=[]}t.prototype.get=function(t){for(var i=this._cache.length-1;i>=0;i--){var n=this._cache[i];if(n.nodeStartOffset<=t&&n.nodeStartOffset+n.node.piece.length>=t)return n}return null};t.prototype.get2=function(t){for(var i=this._cache.length-1;i>=0;i--){var n=this._cache[i];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<t&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=t)return n}return null};t.prototype.set=function(t){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(t)};t.prototype.validate=function(t){var i=!1;var n=this._cache;for(var r=0;r<n.length;r++){var e=n[r];(e.node.parent===null||e.nodeStartOffset>=t)&&(n[r]=null,i=!0)}if(i){var r=[];for(var o=0,s=n;o<s.length;o++){var e=s[o];e!==null&&r.push(e)}this._cache=r}};return t}();var fF=function(){function t(t,i,n){this.create(t,i,n)}t.prototype.create=function(t,i,n){this._buffers=[new aF("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=P_,this._lineCnt=1,this._length=0,this._EOL=i,this._EOLLength=i.length,this._EOLNormalized=n;var r=null;for(var e=0,o=t.length;e<o;e++)if(t[e].buffer.length>0){t[e].lineStarts||(t[e].lineStarts=sF(t[e].buffer));var s=new uF(e+1,{line:0,column:0},{line:t[e].lineStarts.length-1,column:t[e].buffer.length-t[e].lineStarts[t[e].lineStarts.length-1]},t[e].lineStarts.length-1,t[e].buffer.length);this._buffers.push(t[e]),r=this.rbInsertRight(r,s)}this._searchCache=new hF(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()};t.prototype.normalizeEOL=function(t){var i=this;var n=rF,r=n-Math.floor(21845),e=2*r;var o="",s=0;var u=[];if(this.iterate(this.root,(function(n){var a=i.getNodeContent(n),c=a.length;if(s<=r||s+c<e)return o+=a,s+=c,!0;var h=o.replace(/\r\n|\r|\n/g,t);return u.push(new aF(h,sF(h))),o=a,s=c,!0})),s>0){var a=o.replace(/\r\n|\r|\n/g,t);u.push(new aF(a,sF(a)))}this.create(u,t,!0)};t.prototype.getEOL=function(){return this._EOL};t.prototype.setEOL=function(t){this._EOL=t,this._EOLLength=this._EOL.length,this.normalizeEOL(t)};t.prototype.createSnapshot=function(t){return new cF(this,t)};t.prototype.getOffsetAt=function(t,i){var n=0,r=this.root;for(;r!==P_;)if(r.left!==P_&&r.lf_left+1>=t)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt+1>=t)return n+=r.size_left,n+(this.getAccumulatedValue(r,t-r.lf_left-2)+i-1);t-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right}return n};t.prototype.getPositionAt=function(t){t=Math.floor(t),t=Math.max(0,t);var i=this.root,n=0;var r=t;for(;i!==P_;)if(i.size_left!==0&&i.size_left>=t)i=i.left;else{if(i.size_left+i.piece.length>=t){var e=this.getIndexOf(i,t-i.size_left);if(n+=i.lf_left+e.index,e.index===0){var o=this.getOffsetAt(n+1,1);return new qr(n+1,r-o+1)}return new qr(n+1,e.remainder+1)}if(t-=i.size_left+i.piece.length,n+=i.lf_left+i.piece.lineFeedCnt,i.right===P_){var e=this.getOffsetAt(n+1,1);return new qr(n+1,r-t-e+1)}i=i.right}return new qr(1,1)};t.prototype.getValueInRange=function(t,i){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";var n=this.nodeAt2(t.startLineNumber,t.startColumn),r=this.nodeAt2(t.endLineNumber,t.endColumn),e=this.getValueInRange2(n,r);return i?i===this._EOL&&this._EOLNormalized&&i===this.getEOL()&&this._EOLNormalized?e:e.replace(/\r\n|\r|\n/g,i):e};t.prototype.getValueInRange2=function(t,i){if(t.node===i.node){var n=t.node,r=this._buffers[n.piece.bufferIndex].buffer,e=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.substring(e+t.remainder,e+i.remainder)}var o=t.node;var s=this._buffers[o.piece.bufferIndex].buffer,u=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);var a=s.substring(u+t.remainder,u+o.piece.length);for(o=o.next();o!==P_;){var n=this._buffers[o.piece.bufferIndex].buffer,r=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===i.node){a+=n.substring(r,r+i.remainder);break}a+=n.substr(r,o.piece.length),o=o.next()}return a};t.prototype.getLinesContent=function(){var t=this;var i=[];var n=0,r="",e=!1;return this.iterate(this.root,(function(o){if(o===P_)return!0;var s=o.piece;var u=s.length;if(u===0)return!0;var a=t._buffers[s.bufferIndex].buffer,c=t._buffers[s.bufferIndex].lineStarts,h=s.start.line,f=s.end.line;var l=c[h]+s.start.column;if(e&&(a.charCodeAt(l)===10&&(l++,u--),i[n++]=r,r="",e=!1,u===0))return!0;if(h===f)return t._EOLNormalized||a.charCodeAt(l+u-1)!==13?r+=a.substr(l,u):(e=!0,r+=a.substr(l,u-1)),!0;r+=t._EOLNormalized?a.substring(l,Math.max(l,c[h+1]-t._EOLLength)):a.substring(l,c[h+1]).replace(/(\r\n|\r|\n)$/,""),i[n++]=r;for(var d=h+1;d<f;d++)r=t._EOLNormalized?a.substring(c[d],c[d+1]-t._EOLLength):a.substring(c[d],c[d+1]).replace(/(\r\n|\r|\n)$/,""),i[n++]=r;return t._EOLNormalized||a.charCodeAt(c[f]+s.end.column-1)!==13?r=a.substr(c[f],s.end.column):(e=!0,s.end.column===0?n--:r=a.substr(c[f],s.end.column-1)),!0})),e&&(i[n++]=r,r=""),i[n++]=r,i};t.prototype.getLength=function(){return this._length};t.prototype.getLineCount=function(){return this._lineCnt};t.prototype.getLineContent=function(t){return this._lastVisitedLine.lineNumber===t||(this._lastVisitedLine.lineNumber=t,t===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(t):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(t,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value};t.prototype._getCharCode=function(t){if(t.remainder===t.node.piece.length){var i=t.node.next();if(!i)return 0;var n=this._buffers[i.piece.bufferIndex],r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.buffer.charCodeAt(r)}{var i=this._buffers[t.node.piece.bufferIndex],n=this.offsetInBuffer(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return i.buffer.charCodeAt(n)}};t.prototype.getLineCharCode=function(t,i){var n=this.nodeAt2(t,i+1);return this._getCharCode(n)};t.prototype.getLineLength=function(t){if(t===this.getLineCount()){var i=this.getOffsetAt(t,1);return this.getLength()-i}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this._EOLLength};t.prototype.findMatchesInNode=function(t,i,n,r,e,o,s,u,a,c,h){var f=this._buffers[t.piece.bufferIndex],l=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),d=this.offsetInBuffer(t.piece.bufferIndex,e),v=this.offsetInBuffer(t.piece.bufferIndex,o);var A;var g={line:0,column:0};var w,p;i._wordSeparators?(w=f.buffer.substring(d,v),p=function(t){return t+d},i.reset(0)):(w=f.buffer,p=function(t){return t},i.reset(d));do{if(A=i.next(w),A){if(p(A.index)>=v)return c;this.positionInBuffer(t,p(A.index)-l,g);var m=this.getLineFeedCnt(t.piece.bufferIndex,e,g),b=g.line===e.line?g.column-e.column+r:g.column+1,y=b+A[0].length;if(h[c++]=jv(new Zr(n+m,b,n+m,y),A,u),p(A.index)+A[0].length>=v||c>=a)return c}}while(A);return c};t.prototype.findMatchesLineByLine=function(t,i,n,r){var e=[];var o=0;var s=new Yv(i.wordSeparators,i.regex);var u=this.nodeAt2(t.startLineNumber,t.startColumn);if(u===null)return[];var a=this.nodeAt2(t.endLineNumber,t.endColumn);if(a===null)return[];var c=this.positionInBuffer(u.node,u.remainder);var h=this.positionInBuffer(a.node,a.remainder);if(u.node===a.node)return this.findMatchesInNode(u.node,s,t.startLineNumber,t.startColumn,c,h,i,n,r,o,e),e;var f=t.startLineNumber,l=u.node;for(;l!==a.node;){var d=this.getLineFeedCnt(l.piece.bufferIndex,c,l.piece.end);if(d>=1){var v=this._buffers[l.piece.bufferIndex].lineStarts,A=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start),g=v[c.line+d],w=f===t.startLineNumber?t.startColumn:1;if(o=this.findMatchesInNode(l,s,f,w,c,this.positionInBuffer(l,g-A),i,n,r,o,e),o>=r)return e;f+=d}var p=f===t.startLineNumber?t.startColumn-1:0;if(f===t.endLineNumber){var v=this.getLineContent(f).substring(p,t.endColumn-1);return o=this._findMatchesInLine(i,s,v,t.endLineNumber,p,o,e,n,r),e}if(o=this._findMatchesInLine(i,s,this.getLineContent(f).substr(p),f,p,o,e,n,r),o>=r)return e;f++,u=this.nodeAt2(f,1),l=u.node,c=this.positionInBuffer(u.node,u.remainder)}if(f===t.endLineNumber){var d=f===t.startLineNumber?t.startColumn-1:0,p=this.getLineContent(f).substring(d,t.endColumn-1);return o=this._findMatchesInLine(i,s,p,t.endLineNumber,d,o,e,n,r),e}var m=f===t.startLineNumber?t.startColumn:1;return o=this.findMatchesInNode(a.node,s,f,m,c,h,i,n,r,o,e),e};t.prototype._findMatchesInLine=function(t,i,n,r,e,o,s,u,a){var c=t.wordSeparators;if(!u&&t.simpleSearch){var h=t.simpleSearch,f=h.length,l=n.length;var d=-f;for(;(d=n.indexOf(h,d+f))!==-1;)if((!c||Hv(c,n,l,d,f))&&(s[o++]=new Qv(new Zr(r,d+1+e,r,d+1+f+e),null),o>=a))return o;return o}var v;i.reset(0);do{if(v=i.next(n),v&&(s[o++]=jv(new Zr(r,v.index+1+e,r,v.index+1+v[0].length+e),v,u),o>=a))return o}while(v);return o};t.prototype.insert=function(t,i,n){if(n===void 0){n=!1}if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==P_){var r=this.nodeAt(t),e=r.node,o=r.remainder,s=r.nodeStartOffset,u=e.piece,a=u.bufferIndex,c=this.positionInBuffer(e,o);if(e.piece.bufferIndex===0&&u.end.line===this._lastChangeBufferPos.line&&u.end.column===this._lastChangeBufferPos.column&&s+u.length===t&&i.length<rF)return this.appendToNode(e,i),void this.computeBufferMetadata();if(s===t)this.insertContentToNodeLeft(i,e),this._searchCache.validate(t);else if(s+e.piece.length>t){var h=[];var f=new uF(u.bufferIndex,c,u.end,this.getLineFeedCnt(u.bufferIndex,c,u.end),this.offsetInBuffer(a,u.end)-this.offsetInBuffer(a,c));if(this.shouldCheckCRLF()&&this.endWithCR(i)&&this.nodeCharCodeAt(e,o)===10){var l={line:f.start.line+1,column:0};f=new uF(f.bufferIndex,l,f.end,this.getLineFeedCnt(f.bufferIndex,l,f.end),f.length-1),i+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(i))if(this.nodeCharCodeAt(e,o-1)===13){var l=this.positionInBuffer(e,o-1);this.deleteNodeTail(e,l),i="\r"+i,e.piece.length===0&&h.push(e)}else this.deleteNodeTail(e,c);else this.deleteNodeTail(e,c);var d=this.createNewPieces(i);f.length>0&&this.rbInsertRight(e,f);var v=e;for(var l=0;l<d.length;l++)v=this.rbInsertRight(v,d[l]);this.deleteNodes(h)}else this.insertContentToNodeRight(i,e)}else{var e=this.createNewPieces(i);var o=this.rbInsertLeft(null,e[0]);for(var s=1;s<e.length;s++)o=this.rbInsertRight(o,e[s])}this.computeBufferMetadata()};t.prototype.delete=function(t,i){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",i<=0||this.root===P_)return;var n=this.nodeAt(t),r=this.nodeAt(t+i),e=n.node,o=r.node;if(e===o){var s=this.positionInBuffer(e,n.remainder),u=this.positionInBuffer(e,r.remainder);if(n.nodeStartOffset===t){if(i===e.piece.length){var a=e.next();return $_(this,e),this.validateCRLFWithPrevNode(a),void this.computeBufferMetadata()}return this.deleteNodeHead(e,u),this._searchCache.validate(t),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return n.nodeStartOffset+e.piece.length===t+i?(this.deleteNodeTail(e,s),this.validateCRLFWithNextNode(e),void this.computeBufferMetadata()):(this.shrinkNode(e,s,u),void this.computeBufferMetadata())}var c=[],h=this.positionInBuffer(e,n.remainder);this.deleteNodeTail(e,h),this._searchCache.validate(t),e.piece.length===0&&c.push(e);var f=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,f),o.piece.length===0&&c.push(o);for(var s=e.next();s!==P_&&s!==o;s=s.next())c.push(s);var l=e.piece.length===0?e.prev():e;this.deleteNodes(c),this.validateCRLFWithNextNode(l),this.computeBufferMetadata()};t.prototype.insertContentToNodeLeft=function(t,i){var n=[];if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.startWithLF(i)){var r=i.piece,e={line:r.start.line+1,column:0},o=new uF(r.bufferIndex,e,r.end,this.getLineFeedCnt(r.bufferIndex,e,r.end),r.length-1);i.piece=o,t+="\n",iF(this,i,-1,-1),i.piece.length===0&&n.push(i)}var s=this.createNewPieces(t);var u=this.rbInsertLeft(i,s[s.length-1]);for(var r=s.length-2;r>=0;r--)u=this.rbInsertLeft(u,s[r]);this.validateCRLFWithPrevNode(u),this.deleteNodes(n)};t.prototype.insertContentToNodeRight=function(t,i){this.adjustCarriageReturnFromNext(t,i)&&(t+="\n");var n=this.createNewPieces(t),r=this.rbInsertRight(i,n[0]);var e=r;for(var o=1;o<n.length;o++)e=this.rbInsertRight(e,n[o]);this.validateCRLFWithPrevNode(r)};t.prototype.positionInBuffer=function(t,i,n){var r=t.piece,e=t.piece.bufferIndex,o=this._buffers[e].lineStarts,s=o[r.start.line]+r.start.column+i;var u=r.start.line,a=r.end.line,c=0,h=0,f=0;for(;u<=a&&(c=u+(a-u)/2|0,f=o[c],c!==a);)if(h=o[c+1],s<f)a=c-1;else{if(!(s>=h))break;u=c+1}return n?(n.line=c,n.column=s-f,null):{line:c,column:s-f}};t.prototype.getLineFeedCnt=function(t,i,n){if(n.column===0)return n.line-i.line;var r=this._buffers[t].lineStarts;if(n.line===r.length-1)return n.line-i.line;var e=r[n.line+1],o=r[n.line]+n.column;if(e>o+1)return n.line-i.line;var s=o-1;return this._buffers[t].buffer.charCodeAt(s)===13?n.line-i.line+1:n.line-i.line};t.prototype.offsetInBuffer=function(t,i){return this._buffers[t].lineStarts[i.line]+i.column};t.prototype.deleteNodes=function(t){for(var i=0;i<t.length;i++)$_(this,t[i])};t.prototype.createNewPieces=function(t){if(t.length>rF){var i=[];for(;t.length>rF;){var n=t.charCodeAt(65534);var r=void 0;n===13||n>=55296&&n<=56319?(r=t.substring(0,65534),t=t.substring(65534)):(r=t.substring(0,rF),t=t.substring(rF));var e=sF(r);i.push(new uF(this._buffers.length,{line:0,column:0},{line:e.length-1,column:r.length-e[e.length-1]},e.length-1,r.length)),this._buffers.push(new aF(r,e))}var o=sF(t);return i.push(new uF(this._buffers.length,{line:0,column:0},{line:o.length-1,column:t.length-o[o.length-1]},o.length-1,t.length)),this._buffers.push(new aF(t,o)),i}var s=this._buffers[0].buffer.length;var u=sF(t,!1);var a=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(t)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},a=this._lastChangeBufferPos;for(var i=0;i<u.length;i++)u[i]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+="_"+t,s+=1}else{if(s!==0)for(var i=0;i<u.length;i++)u[i]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+=t}var c=this._buffers[0].buffer.length,h=this._buffers[0].lineStarts.length-1,f={line:h,column:c-this._buffers[0].lineStarts[h]},l=new uF(0,a,f,this.getLineFeedCnt(0,a,f),c-s);return this._lastChangeBufferPos=f,[l]};t.prototype.getLineRawContent=function(t,i){if(i===void 0){i=0}var n=this.root,r="";var e=this._searchCache.get2(t);if(e){n=e.node;var o=this.getAccumulatedValue(n,t-e.nodeStartLineNumber-1),s=this._buffers[n.piece.bufferIndex].buffer,u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(e.nodeStartLineNumber+n.piece.lineFeedCnt!==t){var a=this.getAccumulatedValue(n,t-e.nodeStartLineNumber);return s.substring(u+o,u+a-i)}r=s.substring(u+o,u+n.piece.length)}else{var o=0;var s=t;for(;n!==P_;)if(n.left!==P_&&n.lf_left>=t-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>t-1){var u=this.getAccumulatedValue(n,t-n.lf_left-2),a=this.getAccumulatedValue(n,t-n.lf_left-1),c=this._buffers[n.piece.bufferIndex].buffer,h=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return o+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:o,nodeStartLineNumber:s-(t-1-n.lf_left)}),c.substring(h+u,h+a-i)}if(n.lf_left+n.piece.lineFeedCnt===t-1){var u=this.getAccumulatedValue(n,t-n.lf_left-2),a=this._buffers[n.piece.bufferIndex].buffer,f=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=a.substring(f+u,f+n.piece.length);break}t-=n.lf_left+n.piece.lineFeedCnt,o+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==P_;){var o=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){var s=this.getAccumulatedValue(n,0),u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=o.substring(u,u+s-i),r}{var s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=o.substr(s,n.piece.length)}n=n.next()}return r};t.prototype.computeBufferMetadata=function(){var t=this.root,i=1,n=0;for(;t!==P_;)i+=t.lf_left+t.piece.lineFeedCnt,n+=t.size_left+t.piece.length,t=t.right;this._lineCnt=i,this._length=n,this._searchCache.validate(this._length)};t.prototype.getIndexOf=function(t,i){var n=t.piece,r=this.positionInBuffer(t,i),e=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===i){var o=this.getLineFeedCnt(t.piece.bufferIndex,n.start,r);if(o!==e)return{index:o,remainder:0}}return{index:e,remainder:r.column}};t.prototype.getAccumulatedValue=function(t,i){if(i<0)return 0;var n=t.piece,r=this._buffers[n.bufferIndex].lineStarts,e=n.start.line+i+1;return e>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[e]-r[n.start.line]-n.start.column};t.prototype.deleteNodeTail=function(t,i){var n=t.piece,r=n.lineFeedCnt,e=this.offsetInBuffer(n.bufferIndex,n.end),o=i,s=this.offsetInBuffer(n.bufferIndex,o),u=this.getLineFeedCnt(n.bufferIndex,n.start,o),a=u-r,c=s-e,h=n.length+c;t.piece=new uF(n.bufferIndex,n.start,o,u,h),iF(this,t,c,a)};t.prototype.deleteNodeHead=function(t,i){var n=t.piece,r=n.lineFeedCnt,e=this.offsetInBuffer(n.bufferIndex,n.start),o=i,s=this.getLineFeedCnt(n.bufferIndex,o,n.end),u=s-r,a=e-this.offsetInBuffer(n.bufferIndex,o),c=n.length+a;t.piece=new uF(n.bufferIndex,o,n.end,s,c),iF(this,t,a,u)};t.prototype.shrinkNode=function(t,i,n){var r=t.piece,e=r.start,o=r.end,s=r.length,u=r.lineFeedCnt,a=i,c=this.getLineFeedCnt(r.bufferIndex,r.start,a),h=this.offsetInBuffer(r.bufferIndex,i)-this.offsetInBuffer(r.bufferIndex,e);t.piece=new uF(r.bufferIndex,r.start,a,c,h),iF(this,t,h-s,c-u);var f=new uF(r.bufferIndex,n,o,this.getLineFeedCnt(r.bufferIndex,n,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,n)),l=this.rbInsertRight(t,f);this.validateCRLFWithPrevNode(l)};t.prototype.appendToNode=function(t,i){this.adjustCarriageReturnFromNext(i,t)&&(i+="\n");var n=this.shouldCheckCRLF()&&this.startWithLF(i)&&this.endWithCR(t),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=i;var e=sF(i,!1);for(var o=0;o<e.length;o++)e[o]+=r;if(n){var o=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-o}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(e.slice(1));var s=this._buffers[0].lineStarts.length-1,u={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},a=t.piece.length+i.length,c=t.piece.lineFeedCnt,h=this.getLineFeedCnt(0,t.piece.start,u),f=h-c;t.piece=new uF(t.piece.bufferIndex,t.piece.start,u,h,a),this._lastChangeBufferPos=u,iF(this,t,i.length,f)};t.prototype.nodeAt=function(t){var i=this.root;var n=this._searchCache.get(t);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:t-n.nodeStartOffset};var r=0;for(;i!==P_;)if(i.size_left>t)i=i.left;else{if(i.size_left+i.piece.length>=t){r+=i.size_left;var e={node:i,remainder:t-i.size_left,nodeStartOffset:r};return this._searchCache.set(e),e}t-=i.size_left+i.piece.length,r+=i.size_left+i.piece.length,i=i.right}return null};t.prototype.nodeAt2=function(t,i){var n=this.root,r=0;for(;n!==P_;)if(n.left!==P_&&n.lf_left>=t-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>t-1){var e=this.getAccumulatedValue(n,t-n.lf_left-2),o=this.getAccumulatedValue(n,t-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(e+i-1,o),nodeStartOffset:r}}if(n.lf_left+n.piece.lineFeedCnt===t-1){var e=this.getAccumulatedValue(n,t-n.lf_left-2);if(e+i-1<=n.piece.length)return{node:n,remainder:e+i-1,nodeStartOffset:r};i-=n.piece.length-e;break}t-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==P_;){if(n.piece.lineFeedCnt>0){var e=this.getAccumulatedValue(n,0),o=this.offsetOfNode(n);return{node:n,remainder:Math.min(i-1,e),nodeStartOffset:o}}if(n.piece.length>=i-1)return{node:n,remainder:i-1,nodeStartOffset:this.offsetOfNode(n)};i-=n.piece.length,n=n.next()}return null};t.prototype.nodeCharCodeAt=function(t,i){if(t.piece.lineFeedCnt<1)return-1;var n=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start)+i;return n.buffer.charCodeAt(r)};t.prototype.offsetOfNode=function(t){if(!t)return 0;var i=t.size_left;for(;t!==this.root;)t.parent.right===t&&(i+=t.parent.size_left+t.parent.piece.length),t=t.parent;return i};t.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&this._EOL==="\n")};t.prototype.startWithLF=function(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===P_||t.piece.lineFeedCnt===0)return!1;var i=t.piece,n=this._buffers[i.bufferIndex].lineStarts,r=i.start.line,e=n[r]+i.start.column;return r===n.length-1?!1:!(n[r+1]>e+1)&&this._buffers[i.bufferIndex].buffer.charCodeAt(e)===10};t.prototype.endWithCR=function(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t!==P_&&t.piece.lineFeedCnt!==0&&this.nodeCharCodeAt(t,t.piece.length-1)===13};t.prototype.validateCRLFWithPrevNode=function(t){if(this.shouldCheckCRLF()&&this.startWithLF(t)){var i=t.prev();this.endWithCR(i)&&this.fixCRLF(i,t)}};t.prototype.validateCRLFWithNextNode=function(t){if(this.shouldCheckCRLF()&&this.endWithCR(t)){var i=t.next();this.startWithLF(i)&&this.fixCRLF(t,i)}};t.prototype.fixCRLF=function(t,i){var n=[],r=this._buffers[t.piece.bufferIndex].lineStarts;var e;e=t.piece.end.column===0?{line:t.piece.end.line-1,column:r[t.piece.end.line]-r[t.piece.end.line-1]-1}:{line:t.piece.end.line,column:t.piece.end.column-1};var o=t.piece.length-1,s=t.piece.lineFeedCnt-1;t.piece=new uF(t.piece.bufferIndex,t.piece.start,e,s,o),iF(this,t,-1,-1),t.piece.length===0&&n.push(t);var u={line:i.piece.start.line+1,column:0},a=i.piece.length-1,c=this.getLineFeedCnt(i.piece.bufferIndex,u,i.piece.end);i.piece=new uF(i.piece.bufferIndex,u,i.piece.end,c,a),iF(this,i,-1,-1),i.piece.length===0&&n.push(i);var h=this.createNewPieces("\r\n");this.rbInsertRight(t,h[0]);for(var f=0;f<n.length;f++)$_(this,n[f])};t.prototype.adjustCarriageReturnFromNext=function(t,i){if(this.shouldCheckCRLF()&&this.endWithCR(t)){var n=i.next();if(this.startWithLF(n)){if(t+="\n",n.piece.length===1)$_(this,n);else{var r=n.piece,e={line:r.start.line+1,column:0},o=r.length-1,s=this.getLineFeedCnt(r.bufferIndex,e,r.end);n.piece=new uF(r.bufferIndex,e,r.end,s,o),iF(this,n,-1,-1)}return!0}}return!1};t.prototype.iterate=function(t,i){if(t===P_)return i(P_);var n=this.iterate(t.left,i);return n&&i(t)&&this.iterate(t.right,i)};t.prototype.getNodeContent=function(t){if(t===P_)return"";var i=this._buffers[t.piece.bufferIndex],n=t.piece,r=this.offsetInBuffer(n.bufferIndex,n.start),e=this.offsetInBuffer(n.bufferIndex,n.end);return i.buffer.substring(r,e)};t.prototype.getPieceContent=function(t){var i=this._buffers[t.bufferIndex],n=this.offsetInBuffer(t.bufferIndex,t.start),r=this.offsetInBuffer(t.bufferIndex,t.end);return i.buffer.substring(n,r)};t.prototype.rbInsertRight=function(t,i){var n=new J_(i,1);if(n.left=P_,n.right=P_,n.parent=P_,n.size_left=0,n.lf_left=0,this.root===P_)this.root=n,n.color=0;else if(t.right===P_)t.right=n,n.parent=t;else{var r=W_(t.right);r.left=n,n.parent=r}return tF(this,n),n};t.prototype.rbInsertLeft=function(t,i){var n=new J_(i,1);if(n.left=P_,n.right=P_,n.parent=P_,n.size_left=0,n.lf_left=0,this.root===P_)this.root=n,n.color=0;else if(t.left===P_)t.left=n,n.parent=t;else{var r=G_(t.left);r.right=n,n.parent=r}return tF(this,n),n};return t}();var lF=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this)||this,a._onDidChangeContent=a._register(new Ln),a._BOM=n,a._mightContainNonBasicASCII=!s,a._mightContainRTL=e,a._mightContainUnusualLineTerminators=o,a._pieceTree=new fF(i,r,u);return a}i.prototype.mightContainRTL=function(){return this._mightContainRTL};i.prototype.mightContainUnusualLineTerminators=function(){return this._mightContainUnusualLineTerminators};i.prototype.resetMightContainUnusualLineTerminators=function(){this._mightContainUnusualLineTerminators=!1};i.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII};i.prototype.getBOM=function(){return this._BOM};i.prototype.getEOL=function(){return this._pieceTree.getEOL()};i.prototype.createSnapshot=function(t){return this._pieceTree.createSnapshot(t?this._BOM:"")};i.prototype.getOffsetAt=function(t,i){return this._pieceTree.getOffsetAt(t,i)};i.prototype.getPositionAt=function(t){return this._pieceTree.getPositionAt(t)};i.prototype.getRangeAt=function(t,i){var n=t+i,r=this.getPositionAt(t),e=this.getPositionAt(n);return new Zr(r.lineNumber,r.column,e.lineNumber,e.column)};i.prototype.getValueInRange=function(t,i){if(i===void 0){i=0}if(t.isEmpty())return"";var n=this._getEndOfLine(i);return this._pieceTree.getValueInRange(t,n)};i.prototype.getValueLengthInRange=function(t,i){if(i===void 0){i=0}if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;var n=this.getOffsetAt(t.startLineNumber,t.startColumn),r=this.getOffsetAt(t.endLineNumber,t.endColumn);var e=0;var o=this._getEndOfLine(i),s=this.getEOL();return o.length!==s.length&&(e=(o.length-s.length)*(t.endLineNumber-t.startLineNumber)),r-n+e};i.prototype.getCharacterCountInRange=function(t,i){if(i===void 0){i=0}if(this._mightContainNonBasicASCII){var n=0;var r=t.startLineNumber,e=t.endLineNumber;for(var o=r;o<=e;o++){var s=this.getLineContent(o),u=o===r?t.startColumn-1:0,a=o===e?t.endColumn-1:s.length;for(var c=u;c<a;c++)Jo(s.charCodeAt(c))?(n+=1,c+=1):n+=1}return n+=this._getEndOfLine(i).length*(e-r),n}return this.getValueLengthInRange(t,i)};i.prototype.getLength=function(){return this._pieceTree.getLength()};i.prototype.getLineCount=function(){return this._pieceTree.getLineCount()};i.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()};i.prototype.getLineContent=function(t){return this._pieceTree.getLineContent(t)};i.prototype.getLineCharCode=function(t,i){return this._pieceTree.getLineCharCode(t,i)};i.prototype.getLineLength=function(t){return this._pieceTree.getLineLength(t)};i.prototype.getLineFirstNonWhitespaceColumn=function(t){var i=Fo(this.getLineContent(t));return i===-1?0:i+1};i.prototype.getLineLastNonWhitespaceColumn=function(t){var i=Io(this.getLineContent(t));return i===-1?0:i+2};i.prototype._getEndOfLine=function(t){switch(t){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}};i.prototype.setEOL=function(t){this._pieceTree.setEOL(t)};i.prototype.applyEdits=function(t,n,r){var e;var o=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,u=this._mightContainNonBasicASCII,a=!0,c=[];for(var h=0;h<t.length;h++){var f=t[h];a&&f._isTracked&&(a=!1);var l=f.range;if(f.text){var d=!0;u||(d=!is(f.text),u=d),!o&&d&&(o=$o(f.text)),!s&&d&&(s=rs(f.text))}var v="",A=0,g=0,w=0;if(f.text){var d=void 0;e=_D(f.text),A=e[0],g=e[1],w=e[2],d=e[3];var p=this.getEOL();v=d===0||d===(p==="\r\n"?2:1)?f.text:f.text.replace(/\r\n|\r|\n/g,p)}c[h]={sortIndex:h,identifier:f.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),text:v,eolCount:A,firstLineLength:g,lastLineLength:w,forceMoveMarkers:!!f.forceMoveMarkers,isAutoWhitespaceEdit:f.isAutoWhitespaceEdit||!1}}c.sort(i._sortOpsAscending);var m=!1;for(var h=0,f=c.length-1;h<f;h++){var l=c[h].range.getEndPosition(),v=c[h+1].range.getStartPosition();if(v.isBeforeOrEqual(l)){if(v.isBefore(l))throw new Error("Overlapping ranges are not allowed!");m=!0}}a&&(c=this._reduceOperations(c));var b=r||n?i._getInverseEditRanges(c):[],y=[];if(n)for(var h=0;h<c.length;h++){var f=c[h],l=b[h];if(f.isAutoWhitespaceEdit&&f.range.isEmpty())for(var v=l.startLineNumber;v<=l.endLineNumber;v++){var A="";v===l.startLineNumber&&(A=this.getLineContent(f.range.startLineNumber),Fo(A)!==-1)||y.push({lineNumber:v,oldContent:A})}}var k=null;if(r){var h=0;k=[];for(var f=0;f<c.length;f++){var l=c[f],v=b[f],A=this.getValueInRange(l.range),g=l.rangeOffset+h;h+=l.text.length-A.length,k[f]={sortIndex:l.sortIndex,identifier:l.identifier,range:v,text:A,textChange:new YM(l.rangeOffset,A,g,l.text)}}m||k.sort((function(t,i){return t.sortIndex-i.sortIndex}))}this._mightContainRTL=o,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=u;var x=this._doApplyEdits(c);var E=null;if(n&&y.length>0){y.sort((function(t,i){return i.lineNumber-t.lineNumber})),E=[];for(var h=0,f=y.length;h<f;h++){var l=y[h].lineNumber;if(h>0&&y[h-1].lineNumber===l)continue;var v=y[h].oldContent,A=this.getLineContent(l);A.length!==0&&A!==v&&Fo(A)===-1&&E.push(l)}}return this._onDidChangeContent.fire(),new Rv(k,x,E)};i.prototype._reduceOperations=function(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]};i.prototype._toSingleEditOperation=function(t){var i=!1;var n=t[0].range,r=t[t.length-1].range,e=new Zr(n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn);var o=n.startLineNumber,s=n.startColumn;var u=[];for(var a=0,c=t.length;a<c;a++){var h=t[a],f=h.range;i=i||h.forceMoveMarkers,u.push(this.getValueInRange(new Zr(o,s,f.startLineNumber,f.startColumn))),h.text.length>0&&u.push(h.text),o=f.endLineNumber,s=f.endColumn}var l=u.join(""),d=_D(l),v=d[0],A=d[1],g=d[2];return{sortIndex:0,identifier:t[0].identifier,range:e,rangeOffset:this.getOffsetAt(e.startLineNumber,e.startColumn),rangeLength:this.getValueLengthInRange(e,0),text:l,eolCount:v,firstLineLength:A,lastLineLength:g,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}};i.prototype._doApplyEdits=function(t){t.sort(i._sortOpsDescending);var n=[];for(var r=0;r<t.length;r++){var e=t[r],o=e.range.startLineNumber,s=e.range.startColumn,u=e.range.endLineNumber,a=e.range.endColumn;if(o===u&&s===a&&e.text.length===0)continue;e.text?(this._pieceTree.delete(e.rangeOffset,e.rangeLength),this._pieceTree.insert(e.rangeOffset,e.text,!0)):this._pieceTree.delete(e.rangeOffset,e.rangeLength);var c=new Zr(o,s,u,a);n.push({range:c,rangeLength:e.rangeLength,text:e.text,rangeOffset:e.rangeOffset,forceMoveMarkers:e.forceMoveMarkers})}return n};i.prototype.findMatchesLineByLine=function(t,i,n,r){return this._pieceTree.findMatchesLineByLine(t,i,n,r)};i._getInverseEditRanges=function(t){var i=[];var n=0,r=0,e=null;for(var o=0,s=t.length;o<s;o++){var u=t[o];var a=void 0,c=void 0,h=void 0;if(e?e.range.endLineNumber===u.range.startLineNumber?(a=n,c=r+(u.range.startColumn-e.range.endColumn)):(a=n+(u.range.startLineNumber-e.range.endLineNumber),c=u.range.startColumn):(a=u.range.startLineNumber,c=u.range.startColumn),u.text.length>0){var f=u.eolCount+1;h=f===1?new Zr(a,c,a,c+u.firstLineLength):new Zr(a,c,a+f-1,u.lastLineLength+1)}else h=new Zr(a,c,a,c);n=h.endLineNumber,r=h.endColumn,i.push(h),e=u}return i};i._sortOpsAscending=function(t,i){var n=Zr.compareRangesUsingEnds(t.range,i.range);return n===0?t.sortIndex-i.sortIndex:n};i._sortOpsDescending=function(t,i){var n=Zr.compareRangesUsingEnds(t.range,i.range);return n===0?i.sortIndex-t.sortIndex:-n};return i}(Cn);var dF=function(){function t(t,i,n,r,e,o,s,u,a){this._chunks=t,this._bom=i,this._cr=n,this._lf=r,this._crlf=e,this._containsRTL=o,this._containsUnusualLineTerminators=s,this._isBasicASCII=u,this._normalizeEOL=a}t.prototype._getEOL=function(t){var i=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return i===0?t===1?"\n":"\r\n":n>i/2?"\r\n":"\n"};t.prototype.create=function(t){var i=this._getEOL(t),n=this._chunks;if(this._normalizeEOL&&(i==="\r\n"&&(this._cr>0||this._lf>0)||i==="\n"&&(this._cr>0||this._crlf>0)))for(var r=0,e=n.length;r<e;r++){var o=n[r].buffer.replace(/\r\n|\r|\n/g,i),s=sF(o);n[r]=new aF(o,s)}var u=new lF(n,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:u,disposable:u}};return t}();var vF=function(){function t(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}t.prototype.acceptChunk=function(t){if(t.length===0)return;this.chunks.length===0&&us(t)&&(this.BOM=ss,t=t.substr(1));var i=t.charCodeAt(t.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(t.substr(0,t.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(t,!1),this._hasPreviousChar=!1,this._previousChar=i)};t.prototype._acceptChunk1=function(t,i){(i||t.length!==0)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+t):this._acceptChunk2(t))};t.prototype._acceptChunk2=function(t){var i=function(t,i){t.length=0,t[0]=0;var n=1,r=0,e=0,o=0,s=!0;for(var u=0,a=i.length;u<a;u++){var c=i.charCodeAt(u);c===13?u+1<a&&i.charCodeAt(u+1)===10?(o++,t[n++]=u+2,u++):(r++,t[n++]=u+1):c===10?(e++,t[n++]=u+1):s&&c!==9&&(c<32||c>126)&&(s=!1)}var h=new oF(eF(t),r,e,o,s);return t.length=0,h}(this._tmpLineStarts,t);this.chunks.push(new aF(t,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,i.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=$o(t)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=rs(t)))};t.prototype.finish=function(t){if(t===void 0){t=!0}return this._finish(),new dF(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,t)};t.prototype._finish=function(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var t=this.chunks[this.chunks.length-1];t.buffer+=String.fromCharCode(this._previousChar);var i=sF(t.buffer);t.lineStarts=i,this._previousChar===13&&this.cr++}};return t}();var AF=function(){function t(t){this._default=t,this._store=[]}t.prototype.get=function(t){return t<this._store.length?this._store[t]:this._default};t.prototype.set=function(t,i){for(;t>=this._store.length;)this._store[this._store.length]=this._default;this._store[t]=i};t.prototype.replace=function(t,i,n){if(t>=this._store.length)return;if(i===0)return void this.insert(t,n);if(n===0)return void this.delete(t,i);var r=this._store.slice(0,t),e=this._store.slice(t+i),o=function(t,i){var n=[];for(var r=0;r<t;r++)n[r]=i;return n}(n,this._default);this._store=r.concat(o,e)};t.prototype.delete=function(t,i){i===0||t>=this._store.length||this._store.splice(t,i)};t.prototype.insert=function(t,i){if(i===0||t>=this._store.length)return;var n=[];for(var r=0;r<i;r++)n[r]=this._default;this._store=H(this._store,t,n)};return t}();var gF=function(){function t(t,i){this._startLineNumber=t,this._tokens=i}Object.defineProperty(t.prototype,"startLineNumber",{get:function(){return this._startLineNumber},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"endLineNumber",{get:function(){return this._startLineNumber+this._tokens.length-1},enumerable:false,configurable:true});t.prototype.getLineTokens=function(t){return this._tokens[t-this._startLineNumber]};t.prototype.appendLineTokens=function(t){this._tokens.push(t)};return t}();var wF=function(){function t(){this._tokens=[]}t.prototype.add=function(t,i){if(this._tokens.length>0){var n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===t)return void n.appendLineTokens(i)}this._tokens.push(new gF(t,[i]))};t.prototype.finalize=function(){return this._tokens};return t}();var pF=function(){function t(t,i){this.tokenizationSupport=i,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new bF(t)}t.prototype.getStartState=function(t){return this.store.getStartState(t,this.initialState)};t.prototype.getFirstInvalidLine=function(){return this.store.getFirstInvalidLine(this.initialState)};return t}();var mF=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,n)||this,o._textModel=r,o._languageIdCodec=e;return o}i.prototype.updateTokensUntilLine=function(t,i){var n=this._textModel.getLanguageId();for(;;){var r=this.getFirstInvalidLine();if(!r||r.lineNumber>i)break;var e=this._textModel.getLineContent(r.lineNumber),o=xF(this._languageIdCodec,n,this.tokenizationSupport,e,!0,r.startState);t.add(r.lineNumber,o.tokens),this.store.setEndState(r.lineNumber,o.endState)}};i.prototype.getTokenTypeIfInsertingCharacter=function(t,i){var n=this.getStartState(t.lineNumber);if(!n)return 0;var r=this._textModel.getLanguageId(),e=this._textModel.getLineContent(t.lineNumber),o=e.substring(0,t.column-1)+i+e.substring(t.column-1),s=xF(this._languageIdCodec,r,this.tokenizationSupport,o,!0,n),u=new Og(s.tokens,o,this._languageIdCodec);if(u.getCount()===0)return 0;var a=u.findTokenIndexAtOffset(t.column-1);return u.getStandardTokenType(a)};i.prototype.tokenizeLineWithEdit=function(t,i,n){var r=t.lineNumber,e=t.column,o=this.getStartState(r);if(!o)return null;var s=this._textModel.getLineContent(r),u=s.substring(0,e-1)+n+s.substring(e-1+i),a=this._textModel.getLanguageIdAtPosition(r,0),c=xF(this._languageIdCodec,a,this.tokenizationSupport,u,!0,o);return new Og(c.tokens,u,this._languageIdCodec)};i.prototype.hasAccurateTokensForLine=function(t){return t<this.store.getFirstInvalidEndStateLineNumberOrMax()};i.prototype.isCheapToTokenize=function(t){var i=this.store.getFirstInvalidEndStateLineNumberOrMax();return t<i||t===i&&this._textModel.getLineLength(t)<2048};i.prototype.tokenizeHeuristically=function(t,i,n){if(n<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(t,n),{heuristicTokens:!1};var r=this.guessStartState(i);var e=this._textModel.getLanguageId();for(var o=i;o<=n;o++){var s=this._textModel.getLineContent(o),u=xF(this._languageIdCodec,e,this.tokenizationSupport,s,!0,r);t.add(o,u.tokens),r=u.endState}return{heuristicTokens:!0}};i.prototype.guessStartState=function(t){var i=this._textModel.getLineFirstNonWhitespaceColumn(t);var n=[];var r=null;for(var e=t-1;i>1&&e>=1;e--){var o=this._textModel.getLineFirstNonWhitespaceColumn(e);if(o!==0&&o<i&&(n.push(this._textModel.getLineContent(e)),i=o,r=this.getStartState(e),r))break}r||(r=this.tokenizationSupport.getInitialState()),n.reverse();var s=this._textModel.getLanguageId();var u=r;for(var a=0,c=n;a<c.length;a++){var e=c[a];u=xF(this._languageIdCodec,s,this.tokenizationSupport,e,!1,u).endState}return u};return i}(pF);var bF=function(){function t(t){this.lineCount=t,this._tokenizationStateStore=new yF,this._invalidEndStatesLineNumbers=new kF,this._invalidEndStatesLineNumbers.addRange(new Kv(1,t+1))}t.prototype.getEndState=function(t){return this._tokenizationStateStore.getEndState(t)};t.prototype.setEndState=function(t,i){if(!i)throw new mn("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(t);var n=this._tokenizationStateStore.setEndState(t,i);return n&&t<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Kv(t+1,t+2)),n};t.prototype.acceptChange=function(t,i){this.lineCount+=i-t.length,this._tokenizationStateStore.acceptChange(t,i),this._invalidEndStatesLineNumbers.addRangeAndResize(new Kv(t.startLineNumber,t.endLineNumberExclusive),i)};t.prototype.acceptChanges=function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];var e=_D(r.text)[0];this.acceptChange(new eA(r.range.startLineNumber,r.range.endLineNumber+1),e+1)}};t.prototype.invalidateEndStateRange=function(t){this._invalidEndStatesLineNumbers.addRange(new Kv(t.startLineNumber,t.endLineNumberExclusive))};t.prototype.getFirstInvalidEndStateLineNumber=function(){return this._invalidEndStatesLineNumbers.min};t.prototype.getFirstInvalidEndStateLineNumberOrMax=function(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER};t.prototype.allStatesValid=function(){return this._invalidEndStatesLineNumbers.min===null};t.prototype.getStartState=function(t,i){return t===1?i:this.getEndState(t-1)};t.prototype.getFirstInvalidLine=function(t){var i=this.getFirstInvalidEndStateLineNumber();if(i===null)return null;var n=this.getStartState(i,t);if(!n)throw new mn("Start state must be defined");return{lineNumber:i,startState:n}};return t}();var yF=function(){function t(){this._lineEndStates=new AF(null)}t.prototype.getEndState=function(t){return this._lineEndStates.get(t)};t.prototype.setEndState=function(t,i){var n=this._lineEndStates.get(t);return(!n||!n.equals(i))&&(this._lineEndStates.set(t,i),!0)};t.prototype.acceptChange=function(t,i){var n=t.length;i>0&&n>0&&(n--,i--),this._lineEndStates.replace(t.startLineNumber,n,i)};return t}();var kF=function(){function t(){this._ranges=[]}Object.defineProperty(t.prototype,"min",{get:function(){return this._ranges.length===0?null:this._ranges[0].start},enumerable:false,configurable:true});t.prototype.delete=function(t){var i=this._ranges.findIndex((function(i){return i.contains(t)}));if(i!==-1){var n=this._ranges[i];n.start===t?n.endExclusive===t+1?this._ranges.splice(i,1):this._ranges[i]=new Kv(t+1,n.endExclusive):n.endExclusive===t+1?this._ranges[i]=new Kv(n.start,t):this._ranges.splice(i,1,new Kv(n.start,t),new Kv(t+1,n.endExclusive))}};t.prototype.addRange=function(t){Kv.addRange(t,this._ranges)};t.prototype.addRangeAndResize=function(t,i){var n=0;for(;!(n>=this._ranges.length||t.start<=this._ranges[n].endExclusive);)n++;var r=n;for(;!(r>=this._ranges.length||t.endExclusive<this._ranges[r].start);)r++;var e=i-t.length;for(var o=r;o<this._ranges.length;o++)this._ranges[o]=this._ranges[o].delta(e);if(n===r){var o=new Kv(t.start,t.start+i);o.isEmpty||this._ranges.splice(n,0,o)}else{var o=Math.min(t.start,this._ranges[n].start),s=Math.max(t.endExclusive,this._ranges[r-1].endExclusive),u=new Kv(o,s+e);u.isEmpty?this._ranges.splice(n,r-n):this._ranges.splice(n,r-n,u)}};t.prototype.toString=function(){return this._ranges.map((function(t){return t.toString()})).join(" + ")};return t}();function xF(t,i,n,r,e,o){var s=null;if(n)try{s=n.tokenizeEncoded(r,e,o.clone())}catch(t){cn(t)}return s||(s=Ig(t.encodeLanguageId(i),o)),Og.convertToEndOffset(s.tokens,r.length),s}var EF=function(){function t(t,i){this._tokenizerWithStateStore=t,this._backgroundTokenStore=i,this._isDisposed=!1,this._isScheduled=!1}t.prototype.dispose=function(){this._isDisposed=!0};t.prototype.handleChanges=function(){this._beginBackgroundTokenization()};t.prototype._beginBackgroundTokenization=function(){var t=this;!this._isScheduled&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,Zs((function(i){t._isScheduled=!1,t._backgroundTokenizeWithDeadline(i)})))};t.prototype._backgroundTokenizeWithDeadline=function(t){var i=this;var n=Date.now()+t.timeRemaining(),r=function(){!i._isDisposed&&i._tokenizerWithStateStore._textModel.isAttachedToEditor()&&i._hasLinesToTokenize()&&(i._backgroundTokenizeForAtLeast1ms(),Date.now()<n?ri(r):i._beginBackgroundTokenization())};r()};t.prototype._backgroundTokenizeForAtLeast1ms=function(){var t=this._tokenizerWithStateStore._textModel.getLineCount(),i=new wF,n=In.create(!1);do{if(n.elapsed()>1||this._tokenizeOneInvalidLine(i)>=t)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(i.finalize()),this.checkFinished()};t.prototype._hasLinesToTokenize=function(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()};t.prototype._tokenizeOneInvalidLine=function(t){var i;var n=(i=this._tokenizerWithStateStore)===null||i===void 0?void 0:i.getFirstInvalidLine();return n?(this._tokenizerWithStateStore.updateTokensUntilLine(t,n.lineNumber),n.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1};t.prototype.checkFinished=function(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()};t.prototype.requestTokens=function(t,i){this._tokenizerWithStateStore.store.invalidateEndStateRange(new eA(t,i))};return t}();var BF=new Uint32Array(0).buffer;var CF=function(){function t(){}t.deleteBeginning=function(i,n){return i===null||i===BF?i:t.delete(i,0,n)};t.deleteEnding=function(i,n){if(i===null||i===BF)return i;var r=DF(i),e=r[r.length-2];return t.delete(i,n,e)};t.delete=function(t,i,n){if(t===null||t===BF||i===n)return t;var r=DF(t),e=r.length>>>1;if(i===0&&r[r.length-2]===n)return BF;var o=Og.findIndexInTokensArray(r,i),s=o>0?r[o-1<<1]:0;if(n<r[o<<1]){var u=n-i;for(var a=o;a<e;a++)r[a<<1]-=u;return t}var c,h;s!==i?(r[o<<1]=i,c=o+1<<1,h=i):(c=o<<1,h=s);var f=n-i;for(var u=o+1;u<e;u++){var a=r[u<<1]-f;a>h&&(r[c++]=a,r[c++]=r[1+(u<<1)],h=a)}if(c===r.length)return t;var l=new Uint32Array(c);return l.set(r.subarray(0,c),0),l.buffer};t.append=function(t,i){if(i===BF)return t;if(t===BF)return i;if(t===null)return t;if(i===null)return null;var n=DF(t),r=DF(i),e=r.length>>>1,o=new Uint32Array(n.length+r.length);o.set(n,0);var s=n.length;var u=n[n.length-2];for(var a=0;a<e;a++)o[s++]=r[a<<1]+u,o[s++]=r[1+(a<<1)];return o.buffer};t.insert=function(t,i,n){if(t===null||t===BF)return t;var r=DF(t),e=r.length>>>1;var o=Og.findIndexInTokensArray(r,i);o>0&&r[o-1<<1]===i&&o--;for(var s=o;s<e;s++)r[s<<1]+=n;return t};return t}();function DF(t){return t instanceof Uint32Array?t:new Uint32Array(t)}var MF=function(){function t(t){this._lineTokens=[],this._len=0,this._languageIdCodec=t}t.prototype.flush=function(){this._lineTokens=[],this._len=0};Object.defineProperty(t.prototype,"hasTokens",{get:function(){return this._lineTokens.length>0},enumerable:false,configurable:true});t.prototype.getTokens=function(t,i,n){var r=null;if(i<this._len&&(r=this._lineTokens[i]),r!==null&&r!==BF)return new Og(DF(r),n,this._languageIdCodec);var e=new Uint32Array(2);return e[0]=n.length,e[1]=_F(this._languageIdCodec.encodeLanguageId(t)),new Og(e,n,this._languageIdCodec)};t._massageTokens=function(t,i,n){var r=n?DF(n):null;if(i===0){var e=!1;if(r&&r.length>1&&(e=Qg.getLanguageId(r[1])!==t),!e)return BF}if(!r||r.length===0){var e=new Uint32Array(2);return e[0]=i,e[1]=_F(t),e.buffer}return r[r.length-2]=i,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r};t.prototype._ensureLine=function(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++};t.prototype._deleteLines=function(t,i){i!==0&&(t+i>this._len&&(i=this._len-t),this._lineTokens.splice(t,i),this._len-=i)};t.prototype._insertLines=function(t,i){if(i===0)return;var n=[];for(var r=0;r<i;r++)n[r]=null;this._lineTokens=H(this._lineTokens,t,n),this._len+=i};t.prototype.setTokens=function(i,n,r,e,o){var s=t._massageTokens(this._languageIdCodec.encodeLanguageId(i),r,e);this._ensureLine(n);var u=this._lineTokens[n];return this._lineTokens[n]=s,!!o&&!t._equals(u,s)};t._equals=function(t,i){if(!t||!i)return!t&&!i;var n=DF(t),r=DF(i);if(n.length!==r.length)return!1;for(var e=0,o=n.length;e<o;e++)if(n[e]!==r[e])return!1;return!0};t.prototype.acceptEdit=function(t,i,n){this._acceptDeleteRange(t),this._acceptInsertText(new qr(t.startLineNumber,t.startColumn),i,n)};t.prototype._acceptDeleteRange=function(t){var i=t.startLineNumber-1;if(i>=this._len)return;if(t.startLineNumber===t.endLineNumber)return t.startColumn===t.endColumn?void 0:void(this._lineTokens[i]=CF.delete(this._lineTokens[i],t.startColumn-1,t.endColumn-1));this._lineTokens[i]=CF.deleteEnding(this._lineTokens[i],t.startColumn-1);var n=t.endLineNumber-1;var r=null;n<this._len&&(r=CF.deleteBeginning(this._lineTokens[n],t.endColumn-1)),this._lineTokens[i]=CF.append(this._lineTokens[i],r),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)};t.prototype._acceptInsertText=function(t,i,n){if(i===0&&n===0)return;var r=t.lineNumber-1;r>=this._len||(i!==0?(this._lineTokens[r]=CF.deleteEnding(this._lineTokens[r],t.column-1),this._lineTokens[r]=CF.insert(this._lineTokens[r],t.column-1,n),this._insertLines(t.lineNumber,i)):this._lineTokens[r]=CF.insert(this._lineTokens[r],t.column-1,n))};t.prototype.setMultilineTokens=function(t,i){if(t.length===0)return{changes:[]};var n=[];for(var r=0,e=t.length;r<e;r++){var o=t[r];var s=0,u=0,a=!1;for(var c=o.startLineNumber;c<=o.endLineNumber;c++)a?(this.setTokens(i.getLanguageId(),c-1,i.getLineLength(c),o.getLineTokens(c),!1),u=c):this.setTokens(i.getLanguageId(),c-1,i.getLineLength(c),o.getLineTokens(c),!0)&&(a=!0,s=c,u=c);a&&n.push({fromLineNumber:s,toLineNumber:u})}return{changes:n}};return t}();function _F(t){return(32768|t|2<<24|1024)>>>0}var FF=function(){function t(t){this._pieces=[],this._isComplete=!1,this._languageIdCodec=t}t.prototype.flush=function(){this._pieces=[],this._isComplete=!1};t.prototype.isEmpty=function(){return this._pieces.length===0};t.prototype.set=function(t,i){this._pieces=t||[],this._isComplete=i};t.prototype.setPartial=function(t,i){var n=t;if(i.length>0){var r=i[0].getRange(),e=i[i.length-1].getRange();if(!r||!e)return t;n=t.plusRange(r).plusRange(e)}var o=null;for(var r=0,e=this._pieces.length;r<e;r++){var s=this._pieces[r];if(s.endLineNumber<n.startLineNumber)continue;if(s.startLineNumber>n.endLineNumber){o=o||{index:r};break}if(s.removeTokens(n),s.isEmpty()){this._pieces.splice(r,1),r--,e--;continue}if(s.endLineNumber<n.startLineNumber)continue;if(s.startLineNumber>n.endLineNumber){o=o||{index:r};continue}var u=s.split(n),a=u[0],c=u[1];a.isEmpty()?o=o||{index:r}:c.isEmpty()||(this._pieces.splice(r,1,a,c),r++,e++,o=o||{index:r})}return o=o||{index:this._pieces.length},i.length>0&&(this._pieces=H(this._pieces,o.index,i)),n};t.prototype.isComplete=function(){return this._isComplete};t.prototype.addSparseTokens=function(i,n){if(n.getLineContent().length===0)return n;var r=this._pieces;if(r.length===0)return n;var e=r[t._findFirstPieceWithLine(r,i)].getLineTokens(i);if(!e)return n;var o=n.getCount(),s=e.getCount();var u=0;var a=[];var c=0,h=0;var f=function(t,i){t!==h&&(h=t,a[c++]=t,a[c++]=i)};for(var l=0;l<s;l++){var d=e.getStartCharacter(l),v=e.getEndCharacter(l),A=e.getMetadata(l),g=((1&A?2048:0)|(2&A?4096:0)|(4&A?8192:0)|(8&A?16384:0)|(16&A?16744448:0)|(32&A?4278190080:0))>>>0,w=~g>>>0;for(;u<o&&n.getEndOffset(u)<=d;)f(n.getEndOffset(u),n.getMetadata(u)),u++;for(u<o&&n.getStartOffset(u)<d&&f(d,n.getMetadata(u));u<o&&n.getEndOffset(u)<v;)f(n.getEndOffset(u),n.getMetadata(u)&w|A&g),u++;if(u<o)f(v,n.getMetadata(u)&w|A&g),n.getEndOffset(u)===v&&u++;else{var p=Math.min(Math.max(0,u-1),o-1);f(v,n.getMetadata(p)&w|A&g)}}for(;u<o;)f(n.getEndOffset(u),n.getMetadata(u)),u++;return new Og(new Uint32Array(a),n.getLineContent(),this._languageIdCodec)};t._findFirstPieceWithLine=function(t,i){var n=0,r=t.length-1;for(;n<r;){var e=n+Math.floor((r-n)/2);if(t[e].endLineNumber<i)n=e+1;else{if(!(t[e].startLineNumber>i)){for(;e>n&&t[e-1].startLineNumber<=i&&i<=t[e-1].endLineNumber;)e--;return e}r=e-1}}return n};t.prototype.acceptEdit=function(t,i,n,r,e){for(var o=0,s=this._pieces;o<s.length;o++){var u=s[o];u.acceptEdit(t,i,n,r,e)}};return t}();var SF=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._languageService=i,u._languageConfigurationService=n,u._textModel=r,u._bracketPairsTextModelPart=e,u._languageId=o,u._attachedViews=s,u._semanticTokens=new FF(u._languageService.languageIdCodec),u._onDidChangeLanguage=u._register(new Ln),u.onDidChangeLanguage=u._onDidChangeLanguage.event,u._onDidChangeLanguageConfiguration=u._register(new Ln),u.onDidChangeLanguageConfiguration=u._onDidChangeLanguageConfiguration.event,u._onDidChangeTokens=u._register(new Ln),u.onDidChangeTokens=u._onDidChangeTokens.event,u.grammarTokens=u._register(new IF(u._languageService.languageIdCodec,u._textModel,(function(){return u._languageId}),u._attachedViews)),u._register(u._languageConfigurationService.onDidChange((function(t){t.affects(u._languageId)&&u._onDidChangeLanguageConfiguration.fire({})}))),u._register(u.grammarTokens.onDidChangeTokens((function(t){u._emitModelTokensChangedEvent(t)}))),u._register(u.grammarTokens.onDidChangeBackgroundTokenizationState((function(t){u._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})));return u}i.prototype.handleDidChangeContent=function(t){if(t.isFlush)this._semanticTokens.flush();else if(!t.isEolChange)for(var i=0,n=t.changes;i<n.length;i++){var r=n[i];var e=_D(r.text),o=e[0],s=e[1],u=e[2];this._semanticTokens.acceptEdit(r.range,o,s,u,r.text.length>0?r.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(t)};i.prototype.handleDidChangeAttached=function(){this.grammarTokens.handleDidChangeAttached()};i.prototype.getLineTokens=function(t){this.validateLineNumber(t);var i=this.grammarTokens.getLineTokens(t);return this._semanticTokens.addSparseTokens(t,i)};i.prototype._emitModelTokensChangedEvent=function(t){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(t),this._onDidChangeTokens.fire(t))};i.prototype.validateLineNumber=function(t){if(t<1||t>this._textModel.getLineCount())throw new mn("Illegal value for lineNumber")};Object.defineProperty(i.prototype,"hasTokens",{get:function(){return this.grammarTokens.hasTokens},enumerable:false,configurable:true});i.prototype.resetTokenization=function(){this.grammarTokens.resetTokenization()};Object.defineProperty(i.prototype,"backgroundTokenizationState",{get:function(){return this.grammarTokens.backgroundTokenizationState},enumerable:false,configurable:true});i.prototype.forceTokenization=function(t){this.validateLineNumber(t),this.grammarTokens.forceTokenization(t)};i.prototype.hasAccurateTokensForLine=function(t){return this.validateLineNumber(t),this.grammarTokens.hasAccurateTokensForLine(t)};i.prototype.isCheapToTokenize=function(t){return this.validateLineNumber(t),this.grammarTokens.isCheapToTokenize(t)};i.prototype.tokenizeIfCheap=function(t){this.validateLineNumber(t),this.grammarTokens.tokenizeIfCheap(t)};i.prototype.getTokenTypeIfInsertingCharacter=function(t,i,n){return this.grammarTokens.getTokenTypeIfInsertingCharacter(t,i,n)};i.prototype.tokenizeLineWithEdit=function(t,i,n){return this.grammarTokens.tokenizeLineWithEdit(t,i,n)};i.prototype.setSemanticTokens=function(t,i){this._semanticTokens.set(t,i),this._emitModelTokensChangedEvent({semanticTokensApplied:t!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})};i.prototype.hasCompleteSemanticTokens=function(){return this._semanticTokens.isComplete()};i.prototype.hasSomeSemanticTokens=function(){return!this._semanticTokens.isEmpty()};i.prototype.setPartialSemanticTokens=function(t,i){if(this.hasCompleteSemanticTokens())return;var n=this._textModel.validateRange(this._semanticTokens.setPartial(t,i));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})};i.prototype.getWordAtPosition=function(t){this.assertNotDisposed();var n=this._textModel.validatePosition(t),r=this._textModel.getLineContent(n.lineNumber),e=this.getLineTokens(n.lineNumber),o=e.findTokenIndexAtOffset(n.column-1),s=i._findLanguageBoundaries(e,o),u=s[0],a=s[1],c=yi(n.column,this.getLanguageConfiguration(e.getLanguageId(o)).getWordDefinition(),r.substring(u,a),u);if(c&&c.startColumn<=t.column&&t.column<=c.endColumn)return c;if(o>0&&u===n.column-1){var h=i._findLanguageBoundaries(e,o-1),f=h[0],l=h[1],d=yi(n.column,this.getLanguageConfiguration(e.getLanguageId(o-1)).getWordDefinition(),r.substring(f,l),f);if(d&&d.startColumn<=t.column&&t.column<=d.endColumn)return d}return null};i.prototype.getLanguageConfiguration=function(t){return this._languageConfigurationService.getLanguageConfiguration(t)};i._findLanguageBoundaries=function(t,i){var n=t.getLanguageId(i);var r=0;for(var e=i;e>=0&&t.getLanguageId(e)===n;e--)r=t.getStartOffset(e);var o=t.getLineContent().length;for(var e=i,s=t.getCount();e<s&&t.getLanguageId(e)===n;e++)o=t.getEndOffset(e);return[r,o]};i.prototype.getWordUntilPosition=function(t){var i=this.getWordAtPosition(t);return i?{word:i.word.substr(0,t.column-i.startColumn),startColumn:i.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}};i.prototype.getLanguageId=function(){return this._languageId};i.prototype.getLanguageIdAtPosition=function(t,i){var n=this._textModel.validatePosition(new qr(t,i)),r=this.getLineTokens(n.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(n.column-1))};i.prototype.setLanguageId=function(t,i){if(i===void 0){i="api"}if(this._languageId===t)return;var n={oldLanguage:this._languageId,newLanguage:t,source:i};this._languageId=t,this._bracketPairsTextModelPart.handleDidChangeLanguage(n),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})};return i}(ZB);var IF=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._languageIdCodec=i,o._textModel=n,o.getLanguageId=r,o._tokenizer=null,o._defaultBackgroundTokenizer=null,o._backgroundTokenizer=o._register(new Dn),o._tokens=new MF(o._languageIdCodec),o._debugBackgroundTokenizer=o._register(new Dn),o._backgroundTokenizationState=1,o._onDidChangeBackgroundTokenizationState=o._register(new Ln),o.onDidChangeBackgroundTokenizationState=o._onDidChangeBackgroundTokenizationState.event,o._onDidChangeTokens=o._register(new Ln),o.onDidChangeTokens=o._onDidChangeTokens.event,o._attachedViewStates=o._register(new Fn),o._register(ye.onDidChange((function(t){var i=o.getLanguageId();t.changedLanguages.indexOf(i)!==-1&&o.resetTokenization()}))),o.resetTokenization(),o._register(e.onDidChangeVisibleRanges((function(t){var i=t.view,n=t.state;if(n){var r=o._attachedViewStates.get(i);r||(r=new QF((function(){return o.refreshRanges(r.lineRanges)})),o._attachedViewStates.set(i,r)),r.handleStateChange(n)}else o._attachedViewStates.deleteAndDispose(i)})));return o}Object.defineProperty(i.prototype,"backgroundTokenizationState",{get:function(){return this._backgroundTokenizationState},enumerable:false,configurable:true});i.prototype.resetTokenization=function(t){var i=this;if(t===void 0){t=!0}var n;this._tokens.flush(),(n=this._debugBackgroundTokens)===null||n===void 0||n.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new bF(this._textModel.getLineCount())),t&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});var r=function(){if(i._textModel.isTooLargeForTokenization())return[null,null];var t=ye.get(i.getLanguageId());if(!t)return[null,null];var n;try{n=t.getInitialState()}catch(t){return cn(t),[null,null]}return[t,n]}(),e=r[0],o=r[1];if(this._tokenizer=e&&o?new mF(this._textModel.getLineCount(),e,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){var s={setTokens:function(t){i.setTokens(t)},backgroundTokenizationFinished:function(){i._backgroundTokenizationState!==2&&(i._backgroundTokenizationState=2,i._onDidChangeBackgroundTokenizationState.fire())},setEndState:function(t,n){var r;if(!i._tokenizer)return;var e=i._tokenizer.store.getFirstInvalidEndStateLineNumber();e!==null&&t>=e&&((r=i._tokenizer)===null||r===void 0||r.store.setEndState(t,n))}};e&&e.createBackgroundTokenizer&&!e.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=e.createBackgroundTokenizer(this._textModel,s)),this._backgroundTokenizer.value||this._textModel.isTooLargeForTokenization()||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new EF(this._tokenizer,s),this._defaultBackgroundTokenizer.handleChanges()),e!=null&&e.backgroundTokenizerShouldOnlyVerifyTokens&&e.createBackgroundTokenizer?(this._debugBackgroundTokens=new MF(this._languageIdCodec),this._debugBackgroundStates=new bF(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=e.createBackgroundTokenizer(this._textModel,{setTokens:function(t){var n;(n=i._debugBackgroundTokens)===null||n===void 0||n.setMultilineTokens(t,i._textModel)},backgroundTokenizationFinished:function(){},setEndState:function(t,n){var r;(r=i._debugBackgroundStates)===null||r===void 0||r.setEndState(t,n)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()};i.prototype.handleDidChangeAttached=function(){var t;(t=this._defaultBackgroundTokenizer)===null||t===void 0||t.handleChanges()};i.prototype.handleDidChangeContent=function(t){var i,n,r;if(t.isFlush)this.resetTokenization(!1);else if(!t.isEolChange){for(var e=0,o=t.changes;e<o.length;e++){var s=o[e];var u=_D(s.text),a=u[0],c=u[1];this._tokens.acceptEdit(s.range,a,c),(i=this._debugBackgroundTokens)===null||i===void 0||i.acceptEdit(s.range,a,c)}(n=this._debugBackgroundStates)===null||n===void 0||n.acceptChanges(t.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(t.changes),(r=this._defaultBackgroundTokenizer)===null||r===void 0||r.handleChanges()}};i.prototype.setTokens=function(t){var i=this._tokens.setMultilineTokens(t,this._textModel).changes;return i.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:i}),{changes:i}};i.prototype.refreshAllVisibleLineTokens=function(){var t=eA.joinMany(__spreadArray([],this._attachedViewStates,true).map((function(t){var i=t[0],n=t[1];return n.lineRanges})));this.refreshRanges(t)};i.prototype.refreshRanges=function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];this.refreshRange(r.startLineNumber,r.endLineNumberExclusive-1)}};i.prototype.refreshRange=function(t,i){var n,r;if(!this._tokenizer)return;t=Math.max(1,Math.min(this._textModel.getLineCount(),t)),i=Math.min(this._textModel.getLineCount(),i);var e=new wF,o=this._tokenizer.tokenizeHeuristically(e,t,i).heuristicTokens,s=this.setTokens(e.finalize());if(o)for(var u=0,a=s.changes;u<a.length;u++){var c=a[u];(n=this._backgroundTokenizer.value)===null||n===void 0||n.requestTokens(c.fromLineNumber,c.toLineNumber+1)}(r=this._defaultBackgroundTokenizer)===null||r===void 0||r.checkFinished()};i.prototype.forceTokenization=function(t){var i,n;var r=new wF;(i=this._tokenizer)===null||i===void 0||i.updateTokensUntilLine(r,t),this.setTokens(r.finalize()),(n=this._defaultBackgroundTokenizer)===null||n===void 0||n.checkFinished()};i.prototype.hasAccurateTokensForLine=function(t){return!this._tokenizer||this._tokenizer.hasAccurateTokensForLine(t)};i.prototype.isCheapToTokenize=function(t){return!this._tokenizer||this._tokenizer.isCheapToTokenize(t)};i.prototype.tokenizeIfCheap=function(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)};i.prototype.getLineTokens=function(t){var i;var n=this._textModel.getLineContent(t),r=this._tokens.getTokens(this._textModel.getLanguageId(),t-1,n);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>t&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>t){var e=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),t-1,n);!r.equals(e)&&(!((i=this._debugBackgroundTokenizer.value)===null||i===void 0)&&i.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(t)}return r};i.prototype.getTokenTypeIfInsertingCharacter=function(t,i,n){if(!this._tokenizer)return 0;var r=this._textModel.validatePosition(new qr(t,i));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,n)};i.prototype.tokenizeLineWithEdit=function(t,i,n){if(!this._tokenizer)return null;var r=this._textModel.validatePosition(t);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,i,n)};Object.defineProperty(i.prototype,"hasTokens",{get:function(){return this._tokens.hasTokens},enumerable:false,configurable:true});return i}(Cn);var QF=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._refreshTokens=i,n.runner=n._register(new qs((function(){return n.update()}),50)),n._computedLineRanges=[],n._lineRanges=[];return n}Object.defineProperty(i.prototype,"lineRanges",{get:function(){return this._lineRanges},enumerable:false,configurable:true});i.prototype.update=function(){_(this._computedLineRanges,this._lineRanges,(function(t,i){return t.equals(i)}))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())};i.prototype.handleStateChange=function(t){this._lineRanges=t.visibleLineRanges,t.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()};return i}(Cn);var OF=lh("undoRedoService");var NF=function(){function t(t,i){this.resource=t,this.elements=i}return t}();var RF=function(){function t(){this.id=t._ID++,this.order=1}t.prototype.nextOrder=function(){return this.id===0?0:this.order++};return t}();RF._ID=0,RF.None=new RF;var TF=function(){function t(){this.id=t._ID++,this.order=1}t.prototype.nextOrder=function(){return this.id===0?0:this.order++};return t}();TF._ID=0,TF.None=new TF;var LF,jF=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},zF=function(t,i){return function(n,r){i(n,r,t)}};function UF(t,i){var n;var r;return typeof t=="string"?n=function(t){var i=new vF;return i.acceptChunk(t),i.finish()}(t):n=(r=t)&&typeof r.read=="function"?function(t){var i=new vF;var n;for(;typeof(n=t.read())=="string";)i.acceptChunk(n);return i.finish()}(t):t,n.create(i)}var HF=0;var YF=function(){function t(t){this._source=t,this._eos=!1}t.prototype.read=function(){if(this._eos)return null;var t=[];var i=0,n=0;for(;;){var r=this._source.read();if(r===null)return this._eos=!0,i===0?null:t.join("");if(r.length>0&&(t[i++]=r,n+=r.length),n>=65536)return t.join("")}};return t}();var JF=function(){throw new Error("Invalid change accessor")};var PF=LF=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){if(e===void 0){e=null}var a=this;a=t.call(this)||this,a._undoRedoService=o,a._languageService=s,a._languageConfigurationService=u,a._onWillDispose=a._register(new Ln),a.onWillDispose=a._onWillDispose.event,a._onDidChangeDecorations=a._register(new eS((function(t){return a.handleBeforeFireDecorationsChangedEvent(t)}))),a.onDidChangeDecorations=a._onDidChangeDecorations.event,a._onDidChangeOptions=a._register(new Ln),a.onDidChangeOptions=a._onDidChangeOptions.event,a._onDidChangeAttached=a._register(new Ln),a.onDidChangeAttached=a._onDidChangeAttached.event,a._onDidChangeInjectedText=a._register(new Ln),a._eventEmitter=a._register(new oS),a._languageSelectionListener=a._register(new Dn),a._deltaDecorationCallCnt=0,a._attachedViews=new sS,HF++,a.id="$model"+HF,a.isForSimpleWidget=r.isForSimpleWidget,a._associatedResource=e!==null&&e!==void 0?e:zr.parse("inmemory://model/"+HF),a._attachedEditorCount=0;var c=UF(i,r.defaultEOL),h=c.textBuffer,f=c.disposable;a._buffer=h,a._bufferDisposable=f,a._options=LF.resolveOptions(a._buffer,r);var l=typeof n=="string"?n:n.languageId;typeof n!="string"&&(a._languageSelectionListener.value=n.onDidChange((function(){return a._setLanguage(n.languageId)}))),a._bracketPairs=a._register(new RM(a,a._languageConfigurationService)),a._guidesTextModelPart=a._register(new nC(a,a._languageConfigurationService)),a._decorationProvider=a._register(new zM(a)),a._tokenizationTextModelPart=new SF(a._languageService,a._languageConfigurationService,a,a._bracketPairs,l,a._attachedViews);var d=a._buffer.getLineCount(),v=a._buffer.getValueLengthInRange(new Zr(1,1,d,a._buffer.getLineLength(d)+1),0);r.largeFileOptimizations?(a._isTooLargeForTokenization=v>LF.LARGE_FILE_SIZE_THRESHOLD||d>LF.LARGE_FILE_LINE_COUNT_THRESHOLD,a._isTooLargeForHeapOperation=v>LF.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(a._isTooLargeForTokenization=!1,a._isTooLargeForHeapOperation=!1),a._isTooLargeForSyncing=v>LF._MODEL_SYNC_LIMIT,a._versionId=1,a._alternativeVersionId=1,a._initialUndoRedoSnapshot=null,a._isDisposed=!1,a.__isDisposing=!1,a._instanceId=as(HF),a._lastDecorationId=0,a._decorations=Object.create(null),a._decorationsTree=new VF,a._commandManager=new g_(a,a._undoRedoService),a._isUndoing=!1,a._isRedoing=!1,a._trimAutoWhitespaceLines=null,a._register(a._decorationProvider.onDidChange((function(){a._onDidChangeDecorations.beginDeferredEmit(),a._onDidChangeDecorations.fire(),a._onDidChangeDecorations.endDeferredEmit()}))),a._languageService.requestRichLanguageFeatures(l);return a}i.resolveOptions=function(t,i){if(i.detectIndentation){var n=m_(t,i.tabSize,i.insertSpaces);return new Iv({tabSize:n.tabSize,indentSize:"tabSize",insertSpaces:n.insertSpaces,trimAutoWhitespace:i.trimAutoWhitespace,defaultEOL:i.defaultEOL,bracketPairColorizationOptions:i.bracketPairColorizationOptions})}return new Iv(i)};Object.defineProperty(i.prototype,"onDidChangeLanguage",{get:function(){return this._tokenizationTextModelPart.onDidChangeLanguage},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"onDidChangeLanguageConfiguration",{get:function(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"onDidChangeTokens",{get:function(){return this._tokenizationTextModelPart.onDidChangeTokens},enumerable:false,configurable:true});i.prototype.onDidChangeContent=function(t){return this._eventEmitter.slowEvent((function(i){return t(i.contentChangedEvent)}))};i.prototype.onDidChangeContentOrInjectedText=function(t){return xn(this._eventEmitter.fastEvent((function(i){return t(i)})),this._onDidChangeInjectedText.event((function(i){return t(i)})))};i.prototype._isDisposing=function(){return this.__isDisposing};Object.defineProperty(i.prototype,"tokenization",{get:function(){return this._tokenizationTextModelPart},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"bracketPairs",{get:function(){return this._bracketPairs},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"guides",{get:function(){return this._guidesTextModelPart},enumerable:false,configurable:true});i.prototype.dispose=function(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,t.prototype.dispose.call(this),this._bufferDisposable.dispose(),this.__isDisposing=!1;var i=new lF([],"","\n",!1,!1,!0,!0);i.dispose(),this._buffer=i,this._bufferDisposable=Cn.None};i.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")};i.prototype._emitContentChangedEvent=function(t,i){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(i),this._bracketPairs.handleDidChangeContent(i),this._eventEmitter.fire(new bD(t,i)))};i.prototype.setValue=function(t){if(this._assertNotDisposed(),t==null)throw An();var i=UF(t,this._options.defaultEOL),n=i.textBuffer,r=i.disposable;this._setValueFromTextBuffer(n,r)};i.prototype._createContentChanged2=function(t,i,n,r,e,o,s,u){return{changes:[{range:t,rangeOffset:i,rangeLength:n,text:r}],eol:this._buffer.getEOL(),isEolChange:u,versionId:this.getVersionId(),isUndoing:e,isRedoing:o,isFlush:s}};i.prototype._setValueFromTextBuffer=function(t,i){this._assertNotDisposed();var n=this.getFullModelRange(),r=this.getValueLengthInRange(n),e=this.getLineCount(),o=this.getLineMaxColumn(e);this._buffer=t,this._bufferDisposable.dispose(),this._bufferDisposable=i,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new VF,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new pD([new lD],this._versionId,!1,!1),this._createContentChanged2(new Zr(1,1,e,o),0,r,this.getValue(),!1,!1,!0,!1))};i.prototype.setEOL=function(t){this._assertNotDisposed();var i=t===1?"\r\n":"\n";if(this._buffer.getEOL()===i)return;var n=this.getFullModelRange(),r=this.getValueLengthInRange(n),e=this.getLineCount(),o=this.getLineMaxColumn(e);this._onBeforeEOLChange(),this._buffer.setEOL(i),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new pD([new wD],this._versionId,!1,!1),this._createContentChanged2(new Zr(1,1,e,o),0,r,this.getValue(),!1,!1,!1,!0))};i.prototype._onBeforeEOLChange=function(){this._decorationsTree.ensureAllNodesHaveRanges(this)};i.prototype._onAfterEOLChange=function(){var t=this.getVersionId(),i=this._decorationsTree.collectNodesPostOrder();for(var n=0,r=i.length;n<r;n++){var e=i[n],o=e.range,s=e.cachedAbsoluteStart-e.start,u=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);e.cachedAbsoluteStart=u,e.cachedAbsoluteEnd=a,e.cachedVersionId=t,e.start=u-s,e.end=a-s,U_(e)}};i.prototype.onBeforeAttached=function(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()};i.prototype.onBeforeDetached=function(t){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(t)};i.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0};i.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount};i.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing};i.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization};i.prototype.isTooLargeForHeapOperation=function(){return this._isTooLargeForHeapOperation};i.prototype.isDisposed=function(){return this._isDisposed};i.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;var t=0,i=0;var n=this._buffer.getLineCount();for(var r=1;r<=n;r++){var e=this._buffer.getLineLength(r);e>=1e4?i+=e:t+=e}return i>t};Object.defineProperty(i.prototype,"uri",{get:function(){return this._associatedResource},enumerable:false,configurable:true});i.prototype.getOptions=function(){return this._assertNotDisposed(),this._options};i.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}};i.prototype.updateOptions=function(t){this._assertNotDisposed();var i=t.tabSize!==void 0?t.tabSize:this._options.tabSize,n=t.indentSize!==void 0?t.indentSize:this._options.originalIndentSize,r=t.insertSpaces!==void 0?t.insertSpaces:this._options.insertSpaces,e=t.trimAutoWhitespace!==void 0?t.trimAutoWhitespace:this._options.trimAutoWhitespace,o=t.bracketColorizationOptions!==void 0?t.bracketColorizationOptions:this._options.bracketPairColorizationOptions,s=new Iv({tabSize:i,indentSize:n,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:e,bracketPairColorizationOptions:o});if(this._options.equals(s))return;var u=this._options.createChangeEvent(s);this._options=s,this._bracketPairs.handleDidChangeOptions(u),this._decorationProvider.handleDidChangeOptions(u),this._onDidChangeOptions.fire(u)};i.prototype.detectIndentation=function(t,i){this._assertNotDisposed();var n=m_(this._buffer,i,t);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})};i.prototype.normalizeIndentation=function(t){return this._assertNotDisposed(),bE(t,this._options.indentSize,this._options.insertSpaces)};i.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId};i.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()};i.prototype.mightContainUnusualLineTerminators=function(){return this._buffer.mightContainUnusualLineTerminators()};i.prototype.removeUnusualLineTerminators=function(t){if(t===void 0){t=null}var i=this.findMatches(ns.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(t,i.map((function(t){return{range:t.range,text:null}})),(function(){return null}))};i.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()};i.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId};i.prototype.getInitialUndoRedoSnapshot=function(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot};i.prototype.getOffsetAt=function(t){this._assertNotDisposed();var i=this._validatePosition(t.lineNumber,t.column,0);return this._buffer.getOffsetAt(i.lineNumber,i.column)};i.prototype.getPositionAt=function(t){this._assertNotDisposed();var i=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(i)};i.prototype._increaseVersionId=function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId};i.prototype._overwriteVersionId=function(t){this._versionId=t};i.prototype._overwriteAlternativeVersionId=function(t){this._alternativeVersionId=t};i.prototype._overwriteInitialUndoRedoSnapshot=function(t){this._initialUndoRedoSnapshot=t};i.prototype.getValue=function(t,i){if(i===void 0){i=!1}if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new mn("Operation would exceed heap memory limits");var n=this.getFullModelRange(),r=this.getValueInRange(n,t);return i?this._buffer.getBOM()+r:r};i.prototype.createSnapshot=function(t){if(t===void 0){t=!1}return new YF(this._buffer.createSnapshot(t))};i.prototype.getValueLength=function(t,i){if(i===void 0){i=!1}this._assertNotDisposed();var n=this.getFullModelRange(),r=this.getValueLengthInRange(n,t);return i?this._buffer.getBOM().length+r:r};i.prototype.getValueInRange=function(t,i){if(i===void 0){i=0}return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),i)};i.prototype.getValueLengthInRange=function(t,i){if(i===void 0){i=0}return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),i)};i.prototype.getCharacterCountInRange=function(t,i){if(i===void 0){i=0}return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(t),i)};i.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()};i.prototype.getLineContent=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new mn("Illegal value for lineNumber");return this._buffer.getLineContent(t)};i.prototype.getLineLength=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new mn("Illegal value for lineNumber");return this._buffer.getLineLength(t)};i.prototype.getLinesContent=function(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new mn("Operation would exceed heap memory limits");return this._buffer.getLinesContent()};i.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()};i.prototype.getEndOfLineSequence=function(){return this._assertNotDisposed(),this._buffer.getEOL()==="\n"?0:1};i.prototype.getLineMinColumn=function(t){return this._assertNotDisposed(),1};i.prototype.getLineMaxColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new mn("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1};i.prototype.getLineFirstNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new mn("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)};i.prototype.getLineLastNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new mn("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)};i.prototype._validateRangeRelaxedNoAllocations=function(t){var i=this._buffer.getLineCount(),n=t.startLineNumber,r=t.startColumn;var e=Math.floor(typeof n!="number"||isNaN(n)?1:n),o=Math.floor(typeof r!="number"||isNaN(r)?1:r);if(e<1)e=1,o=1;else if(e>i)e=i,o=this.getLineMaxColumn(e);else if(o<=1)o=1;else{var s=this.getLineMaxColumn(e);o>=s&&(o=s)}var u=t.endLineNumber,a=t.endColumn;var c=Math.floor(typeof u!="number"||isNaN(u)?1:u),h=Math.floor(typeof a!="number"||isNaN(a)?1:a);if(c<1)c=1,h=1;else if(c>i)c=i,h=this.getLineMaxColumn(c);else if(h<=1)h=1;else{var f=this.getLineMaxColumn(c);h>=f&&(h=f)}return n===e&&r===o&&u===c&&a===h&&t instanceof Zr&&!(t instanceof $r)?t:new Zr(e,o,c,h)};i.prototype._isValidPosition=function(t,i,n){return typeof t!="number"||typeof i!="number"||isNaN(t)||isNaN(i)||t<1||i<1||(0|t)!==t||(0|i)!==i||t>this._buffer.getLineCount()?!1:i===1?!0:!(i>this.getLineMaxColumn(t)||n===1&&Jo(this._buffer.getLineCharCode(t,i-2)))};i.prototype._validatePosition=function(t,i,n){var r=Math.floor(typeof t!="number"||isNaN(t)?1:t),e=Math.floor(typeof i!="number"||isNaN(i)?1:i),o=this._buffer.getLineCount();if(r<1)return new qr(1,1);if(r>o)return new qr(o,this.getLineMaxColumn(o));if(e<=1)return new qr(r,1);var s=this.getLineMaxColumn(r);return e>=s?new qr(r,s):n===1&&Jo(this._buffer.getLineCharCode(r,e-2))?new qr(r,e-1):new qr(r,e)};i.prototype.validatePosition=function(t){return this._assertNotDisposed(),t instanceof qr&&this._isValidPosition(t.lineNumber,t.column,1)?t:this._validatePosition(t.lineNumber,t.column,1)};i.prototype._isValidRange=function(t,i){var n=t.startLineNumber,r=t.startColumn,e=t.endLineNumber,o=t.endColumn;if(!this._isValidPosition(n,r,0)||!this._isValidPosition(e,o,0))return!1;if(i===1){var s=r>1?this._buffer.getLineCharCode(n,r-2):0,u=o>1&&o<=this._buffer.getLineLength(e)?this._buffer.getLineCharCode(e,o-2):0,a=Jo(s),c=Jo(u);return!a&&!c}return!0};i.prototype.validateRange=function(t){if(this._assertNotDisposed(),t instanceof Zr&&!(t instanceof $r)&&this._isValidRange(t,1))return t;var i=this._validatePosition(t.startLineNumber,t.startColumn,0),n=this._validatePosition(t.endLineNumber,t.endColumn,0),r=i.lineNumber,e=i.column,o=n.lineNumber,s=n.column;{var u=e>1?this._buffer.getLineCharCode(r,e-2):0,a=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,c=Jo(u),h=Jo(a);return c||h?r===o&&e===s?new Zr(r,e-1,o,s-1):c&&h?new Zr(r,e-1,o,s+1):c?new Zr(r,e-1,o,s):new Zr(r,e,o,s+1):new Zr(r,e,o,s)}};i.prototype.modifyPosition=function(t,i){this._assertNotDisposed();var n=this.getOffsetAt(t)+i;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))};i.prototype.getFullModelRange=function(){this._assertNotDisposed();var t=this.getLineCount();return new Zr(1,1,t,this.getLineMaxColumn(t))};i.prototype.findMatchesLineByLine=function(t,i,n,r){return this._buffer.findMatchesLineByLine(t,i,n,r)};i.prototype.findMatches=function(t,i,n,r,e,o,s){var u=this;if(s===void 0){s=999}this._assertNotDisposed();var a=null;i!==null&&(Array.isArray(i)||(i=[i]),i.every((function(t){return Zr.isIRange(t)}))&&(a=i.map((function(t){return u.validateRange(t)})))),a===null&&(a=[this.getFullModelRange()]),a=a.sort((function(t,i){return t.startLineNumber-i.startLineNumber||t.startColumn-i.startColumn}));var c=[];var h;if(c.push(a.reduce((function(t,i){return Zr.areIntersecting(t,i)?t.plusRange(i):(c.push(t),i)}))),!n&&t.indexOf("\n")<0){var f=new Lv(t,n,r,e).parseSearchRequest();if(!f)return[];h=function(t){return u.findMatchesLineByLine(t,f,o,s)}}else h=function(i){return Uv.findMatches(u,new Lv(t,n,r,e),i,o,s)};return c.map(h).reduce((function(t,i){return t.concat(i)}),[])};i.prototype.findNextMatch=function(t,i,n,r,e,o){this._assertNotDisposed();var s=this.validatePosition(i);if(!n&&t.indexOf("\n")<0){var u=new Lv(t,n,r,e).parseSearchRequest();if(!u)return null;var a=this.getLineCount();var c=new Zr(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),h=this.findMatchesLineByLine(c,u,o,1);return Uv.findNextMatch(this,new Lv(t,n,r,e),s,o),h.length>0?h[0]:(c=new Zr(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),h=this.findMatchesLineByLine(c,u,o,1),h.length>0?h[0]:null)}return Uv.findNextMatch(this,new Lv(t,n,r,e),s,o)};i.prototype.findPreviousMatch=function(t,i,n,r,e,o){this._assertNotDisposed();var s=this.validatePosition(i);return Uv.findPreviousMatch(this,new Lv(t,n,r,e),s,o)};i.prototype.pushStackElement=function(){this._commandManager.pushStackElement()};i.prototype.popStackElement=function(){this._commandManager.popStackElement()};i.prototype.pushEOL=function(t){if((this.getEOL()==="\n"?0:1)!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}};i.prototype._validateEditOperation=function(t){return t instanceof Ov?t:new Ov(t.identifier||null,this.validateRange(t.range),t.text,t.forceMoveMarkers||!1,t.isAutoWhitespaceEdit||!1,t._isTracked||!1)};i.prototype._validateEditOperations=function(t){var i=[];for(var n=0,r=t.length;n<r;n++)i[n]=this._validateEditOperation(t[n]);return i};i.prototype.pushEditOperations=function(t,i,n,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,this._validateEditOperations(i),n,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}};i.prototype._pushEditOperations=function(t,i,n,r){var e=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){var o=i.map((function(t){return{range:e.validateRange(t.range),text:t.text}}));var s=!0;if(t)for(var u=0,a=t.length;u<a;u++){var c=t[u];var h=!1;for(var f=0,l=o.length;f<l;f++){var d=o[f].range,v=d.startLineNumber>c.endLineNumber,A=c.startLineNumber>d.endLineNumber;if(!v&&!A){h=!0;break}}if(!h){s=!1;break}}if(s)for(var u=0,a=this._trimAutoWhitespaceLines.length;u<a;u++){var c=this._trimAutoWhitespaceLines[u],h=this.getLineMaxColumn(c);var g=!0;for(var l=0,d=o.length;l<d;l++){var v=o[l].range,A=o[l].text;if(!(c<v.startLineNumber||c>v.endLineNumber)&&!(c===v.startLineNumber&&v.startColumn===h&&v.isEmpty()&&A&&A.length>0&&A.charAt(0)==="\n"||c===v.startLineNumber&&v.startColumn===1&&v.isEmpty()&&A&&A.length>0&&A.charAt(A.length-1)==="\n")){g=!1;break}}if(g){var l=new Zr(c,1,c,h);i.push(new Ov(null,l,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(t,i,n,r)};i.prototype._applyUndo=function(t,i,n,r){var e=this;var o=t.map((function(t){var i=e.getPositionAt(t.newPosition),n=e.getPositionAt(t.newEnd);return{range:new Zr(i.lineNumber,i.column,n.lineNumber,n.column),text:t.oldText}}));this._applyUndoRedoEdits(o,i,!0,!1,n,r)};i.prototype._applyRedo=function(t,i,n,r){var e=this;var o=t.map((function(t){var i=e.getPositionAt(t.oldPosition),n=e.getPositionAt(t.oldEnd);return{range:new Zr(i.lineNumber,i.column,n.lineNumber,n.column),text:t.newText}}));this._applyUndoRedoEdits(o,i,!1,!0,n,r)};i.prototype._applyUndoRedoEdits=function(t,i,n,r,e,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=n,this._isRedoing=r,this.applyEdits(t,!1),this.setEOL(i),this._overwriteAlternativeVersionId(e)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}};i.prototype.applyEdits=function(t,i){if(i===void 0){i=!1}try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();var n=this._validateEditOperations(t);return this._doApplyEdits(n,i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}};i.prototype._doApplyEdits=function(t,i){var n=this._buffer.getLineCount(),r=this._buffer.applyEdits(t,this._options.trimAutoWhitespace,i),e=this._buffer.getLineCount(),o=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,o.length!==0){for(var s=0,u=o.length;s<u;s++){var a=o[s];this._decorationsTree.acceptReplace(a.rangeOffset,a.rangeLength,a.text.length,a.forceMoveMarkers)}var c=[];this._increaseVersionId();var h=n;for(var s=0,u=o.length;s<u;s++){var f=o[s],l=_D(f.text)[0];this._onDidChangeDecorations.fire();var d=f.range.startLineNumber,v=f.range.endLineNumber,A=v-d,g=l,w=Math.min(A,g),p=g-A,m=e-h-p+d,b=m,y=m+g,k=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new qr(b,1)),this.getOffsetAt(new qr(y,this.getLineMaxColumn(y))),0),x=dD.fromDecorations(k),E=new tt(x);var B=function(t){var i=d+t,n=m+t;E.takeFromEndWhile((function(t){return t.lineNumber>n}));var r=E.takeFromEndWhile((function(t){return t.lineNumber===n}));c.push(new vD(i,C.getLineContent(n),r))};var C=this;for(var D=w;D>=0;D--){B(D)}if(w<A){var D=d+w;c.push(new AD(D+1,v))}if(w<g){var D=new tt(x),M=d+w,_=g-w,F=e-h-_+M+1,S=[],I=[];var Q=function(t){var i=F+t;I[t]=O.getLineContent(i),D.takeWhile((function(t){return t.lineNumber<i})),S[t]=D.takeWhile((function(t){return t.lineNumber===i}))};var O=this;for(var N=0;N<_;N++){Q(N)}c.push(new gD(M+1,d+g,I,S))}h+=p}this._emitContentChangedEvent(new pD(c,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits};i.prototype.undo=function(){return this._undoRedoService.undo(this.uri)};i.prototype.canUndo=function(){return this._undoRedoService.canUndo(this.uri)};i.prototype.redo=function(){return this._undoRedoService.redo(this.uri)};i.prototype.canRedo=function(){return this._undoRedoService.canRedo(this.uri)};i.prototype.handleBeforeFireDecorationsChangedEvent=function(t){var i=this;if(t===null||t.size===0)return;var n=Array.from(t).map((function(t){return new vD(t,i.getLineContent(t),i._getInjectedTextInLine(t))}));this._onDidChangeInjectedText.fire(new mD(n))};i.prototype.changeDecorations=function(t,i){if(i===void 0){i=0}this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(i,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}};i.prototype._changeDecorations=function(t,i){var n=this;var r={addDecoration:function(i,r){return n._deltaDecorationsImpl(t,[],[{range:i,options:r}])[0]},changeDecoration:function(t,i){n._changeDecorationImpl(t,i)},changeDecorationOptions:function(t,i){n._changeDecorationOptionsImpl(t,rS(i))},removeDecoration:function(i){n._deltaDecorationsImpl(t,[i],[])},deltaDecorations:function(i,r){return i.length===0&&r.length===0?[]:n._deltaDecorationsImpl(t,i,r)}};var e=null;try{e=i(r)}catch(t){cn(t)}return r.addDecoration=JF,r.changeDecoration=JF,r.changeDecorationOptions=JF,r.removeDecoration=JF,r.deltaDecorations=JF,e};i.prototype.deltaDecorations=function(t,i,n){if(n===void 0){n=0}if(this._assertNotDisposed(),t||(t=[]),t.length===0&&i.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),cn(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(n,t,i)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}};i.prototype._getTrackedRange=function(t){return this.getDecorationRange(t)};i.prototype._setTrackedRange=function(t,i,n){var r=t?this._decorations[t]:null;if(!r)return i?this._deltaDecorationsImpl(0,[],[{range:i,options:nS[n]}],!0)[0]:null;if(!i)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;var e=this._validateRangeRelaxedNoAllocations(i),o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),o,s,e),r.setOptions(nS[n]),this._decorationsTree.insert(r),r.id};i.prototype.removeAllDecorationsWithOwnerId=function(t){if(this._isDisposed)return;var i=this._decorationsTree.collectNodesFromOwner(t);for(var n=0,r=i.length;n<r;n++){var e=i[n];this._decorationsTree.delete(e),delete this._decorations[e.id]}};i.prototype.getDecorationOptions=function(t){var i=this._decorations[t];return i?i.options:null};i.prototype.getDecorationRange=function(t){var i=this._decorations[t];return i?this._decorationsTree.getNodeRange(this,i):null};i.prototype.getLineDecorations=function(t,i,n){if(i===void 0){i=0}if(n===void 0){n=!1}return t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,i,n)};i.prototype.getLinesDecorations=function(t,i,n,r,e){if(n===void 0){n=0}if(r===void 0){r=!1}if(e===void 0){e=!1}var o=this.getLineCount(),s=Math.min(o,Math.max(1,t)),u=Math.min(o,Math.max(1,i)),a=this.getLineMaxColumn(u),c=new Zr(s,1,u,a),h=this._getDecorationsInRange(c,n,r,e);return P(h,this._decorationProvider.getDecorationsInRange(c,n,r)),h};i.prototype.getDecorationsInRange=function(t,i,n,r,e){if(i===void 0){i=0}if(n===void 0){n=!1}if(r===void 0){r=!1}if(e===void 0){e=!1}var o=this.validateRange(t),s=this._getDecorationsInRange(o,i,n,e);return P(s,this._decorationProvider.getDecorationsInRange(o,i,n,r)),s};i.prototype.getOverviewRulerDecorations=function(t,i){if(t===void 0){t=0}if(i===void 0){i=!1}return this._decorationsTree.getAll(this,t,i,!0,!1)};i.prototype.getInjectedTextDecorations=function(t){if(t===void 0){t=0}return this._decorationsTree.getAllInjectedText(this,t)};i.prototype._getInjectedTextInLine=function(t){var i=this._buffer.getOffsetAt(t,1),n=i+this._buffer.getLineLength(t),r=this._decorationsTree.getInjectedTextInInterval(this,i,n,0);return dD.fromDecorations(r).filter((function(i){return i.lineNumber===t}))};i.prototype.getAllDecorations=function(t,i){if(t===void 0){t=0}if(i===void 0){i=!1}var n=this._decorationsTree.getAll(this,t,i,!1,!1);return n=n.concat(this._decorationProvider.getAllDecorations(t,i)),n};i.prototype.getAllMarginDecorations=function(t){if(t===void 0){t=0}return this._decorationsTree.getAll(this,t,!1,!1,!0)};i.prototype._getDecorationsInRange=function(t,i,n,r){var e=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),o=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn);return this._decorationsTree.getAllInInterval(this,e,o,i,n,r)};i.prototype.getRangeAt=function(t,i){return this._buffer.getRangeAt(t,i-t)};i.prototype._changeDecorationImpl=function(t,i){var n=this._decorations[t];if(!n)return;if(n.options.after){var r=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber)}if(n.options.before){var r=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}var e=this._validateRangeRelaxedNoAllocations(i),o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),o,s,e),this._decorationsTree.insert(n),this._onDidChangeDecorations.checkAffectedAndFire(n.options),n.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber),n.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)};i.prototype._changeDecorationOptionsImpl=function(t,i){var n=this._decorations[t];if(!n)return;var r=!(!n.options.overviewRuler||!n.options.overviewRuler.color),e=!(!i.overviewRuler||!i.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(n.options),this._onDidChangeDecorations.checkAffectedAndFire(i),n.options.after||i.after){var o=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber)}if(n.options.before||i.before){var o=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)}var s=r!==e,u=function(t){return!!t.after||!!t.before}(i)!==GF(n);s||u?(this._decorationsTree.delete(n),n.setOptions(i),this._decorationsTree.insert(n)):n.setOptions(i)};i.prototype._deltaDecorationsImpl=function(t,i,n,r){if(r===void 0){r=!1}var e=this.getVersionId(),o=i.length;var s=0;var u=n.length;var a=0;this._onDidChangeDecorations.beginDeferredEmit();try{var c=new Array(u);for(;s<o||a<u;){var h=null;if(s<o){do{h=this._decorations[i[s++]]}while(!h&&s<o);if(h){if(h.options.after){var f=this._decorationsTree.getNodeRange(this,h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber)}if(h.options.before){var f=this._decorationsTree.getNodeRange(this,h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber)}this._decorationsTree.delete(h),r||this._onDidChangeDecorations.checkAffectedAndFire(h.options)}}if(a<u){if(!h){var l=++this._lastDecorationId,d="".concat(this._instanceId,";").concat(l);h=new F_(d,0,0),this._decorations[d]=h}var f=n[a],v=this._validateRangeRelaxedNoAllocations(f.range),A=rS(f.options),g=this._buffer.getOffsetAt(v.startLineNumber,v.startColumn),w=this._buffer.getOffsetAt(v.endLineNumber,v.endColumn);h.ownerId=t,h.reset(e,g,w,v),h.setOptions(A),h.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(v.endLineNumber),h.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(v.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(A),this._decorationsTree.insert(h),c[a]=h.id,a++}else h&&delete this._decorations[h.id]}return c}finally{this._onDidChangeDecorations.endDeferredEmit()}};i.prototype.getLanguageId=function(){return this.tokenization.getLanguageId()};i.prototype.setLanguage=function(t,i){var n=this;typeof t=="string"?(this._languageSelectionListener.clear(),this._setLanguage(t,i)):(this._languageSelectionListener.value=t.onDidChange((function(){return n._setLanguage(t.languageId,i)})),this._setLanguage(t.languageId,i))};i.prototype._setLanguage=function(t,i){this.tokenization.setLanguageId(t,i),this._languageService.requestRichLanguageFeatures(t)};i.prototype.getLanguageIdAtPosition=function(t,i){return this.tokenization.getLanguageIdAtPosition(t,i)};i.prototype.getWordAtPosition=function(t){return this._tokenizationTextModelPart.getWordAtPosition(t)};i.prototype.getWordUntilPosition=function(t){return this._tokenizationTextModelPart.getWordUntilPosition(t)};i.prototype.normalizePosition=function(t,i){return t};i.prototype.getLineIndentColumn=function(t){return function(t){var i=0;for(var n=0,r=t;n<r.length;n++){var e=r[n];if(e!==" "&&e!=="\t")break;i++}return i}(this.getLineContent(t))+1};return i}(Cn);function WF(t){return!(!t.options.overviewRuler||!t.options.overviewRuler.color)}function GF(t){return!!t.options.after||!!t.options.before}PF._MODEL_SYNC_LIMIT=52428800,PF.LARGE_FILE_SIZE_THRESHOLD=20971520,PF.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,PF.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456,PF.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:di.tabSize,indentSize:di.indentSize,insertSpaces:di.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:di.trimAutoWhitespace,largeFileOptimizations:di.largeFileOptimizations,bracketPairColorizationOptions:di.bracketPairColorizationOptions},PF=LF=jF([zF(4,OF),zF(5,ld),zF(6,jd)],PF);var VF=function(){function t(){this._decorationsTree0=new I_,this._decorationsTree1=new I_,this._injectedTextDecorationsTree=new I_}t.prototype.ensureAllNodesHaveRanges=function(t){this.getAll(t,0,!1,!1,!1)};t.prototype._ensureNodesHaveRanges=function(t,i){for(var n=0,r=i;n<r.length;n++){var e=r[n];e.range===null&&(e.range=t.getRangeAt(e.cachedAbsoluteStart,e.cachedAbsoluteEnd))}return i};t.prototype.getAllInInterval=function(t,i,n,r,e,o){var s=t.getVersionId(),u=this._intervalSearch(i,n,r,e,s,o);return this._ensureNodesHaveRanges(t,u)};t.prototype._intervalSearch=function(t,i,n,r,e,o){var s=this._decorationsTree0.intervalSearch(t,i,n,r,e,o),u=this._decorationsTree1.intervalSearch(t,i,n,r,e,o),a=this._injectedTextDecorationsTree.intervalSearch(t,i,n,r,e,o);return s.concat(u).concat(a)};t.prototype.getInjectedTextInInterval=function(t,i,n,r){var e=t.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(i,n,r,!1,e,!1);return this._ensureNodesHaveRanges(t,o).filter((function(t){return t.options.showIfCollapsed||!t.range.isEmpty()}))};t.prototype.getAllInjectedText=function(t,i){var n=t.getVersionId(),r=this._injectedTextDecorationsTree.search(i,!1,n,!1);return this._ensureNodesHaveRanges(t,r).filter((function(t){return t.options.showIfCollapsed||!t.range.isEmpty()}))};t.prototype.getAll=function(t,i,n,r,e){var o=t.getVersionId(),s=this._search(i,n,r,o,e);return this._ensureNodesHaveRanges(t,s)};t.prototype._search=function(t,i,n,r,e){if(n)return this._decorationsTree1.search(t,i,r,e);{var o=this._decorationsTree0.search(t,i,r,e),s=this._decorationsTree1.search(t,i,r,e),u=this._injectedTextDecorationsTree.search(t,i,r,e);return o.concat(s).concat(u)}};t.prototype.collectNodesFromOwner=function(t){var i=this._decorationsTree0.collectNodesFromOwner(t),n=this._decorationsTree1.collectNodesFromOwner(t),r=this._injectedTextDecorationsTree.collectNodesFromOwner(t);return i.concat(n).concat(r)};t.prototype.collectNodesPostOrder=function(){var t=this._decorationsTree0.collectNodesPostOrder(),i=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return t.concat(i).concat(n)};t.prototype.insert=function(t){GF(t)?this._injectedTextDecorationsTree.insert(t):WF(t)?this._decorationsTree1.insert(t):this._decorationsTree0.insert(t)};t.prototype.delete=function(t){GF(t)?this._injectedTextDecorationsTree.delete(t):WF(t)?this._decorationsTree1.delete(t):this._decorationsTree0.delete(t)};t.prototype.getNodeRange=function(t,i){var n=t.getVersionId();return i.cachedVersionId!==n&&this._resolveNode(i,n),i.range===null&&(i.range=t.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd)),i.range};t.prototype._resolveNode=function(t,i){GF(t)?this._injectedTextDecorationsTree.resolveNode(t,i):WF(t)?this._decorationsTree1.resolveNode(t,i):this._decorationsTree0.resolveNode(t,i)};t.prototype.acceptReplace=function(t,i,n,r){this._decorationsTree0.acceptReplace(t,i,n,r),this._decorationsTree1.acceptReplace(t,i,n,r),this._injectedTextDecorationsTree.acceptReplace(t,i,n,r)};return t}();function KF(t){return t.replace(/[^a-z0-9\-_]/gi," ")}var XF=function(){function t(t){this.color=t.color||"",this.darkColor=t.darkColor||""}return t}();var qF=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._resolvedColor=null,n.position=typeof i.position=="number"?i.position:_v.Center;return n}i.prototype.getColor=function(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor};i.prototype.invalidateCachedColor=function(){this._resolvedColor=null};i.prototype._resolveColor=function(t,i){if(typeof t=="string")return t;var n=t?i.getColor(t.id):null;return n?n.toString():""};return i}(XF);var ZF=function(){function t(t){var i;this.position=(i=t==null?void 0:t.position)!==null&&i!==void 0?i:Fv.Center,this.persistLane=t==null?void 0:t.persistLane}return t}();var $F=function(t){__extends(i,t);function i(i){var n=this;var r,e;n=t.call(this,i)||this,n.position=i.position,n.sectionHeaderStyle=(r=i.sectionHeaderStyle)!==null&&r!==void 0?r:null,n.sectionHeaderText=(e=i.sectionHeaderText)!==null&&e!==void 0?e:null;return n}i.prototype.getColor=function(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor};i.prototype.invalidateCachedColor=function(){this._resolvedColor=void 0};i.prototype._resolveColor=function(t,i){return typeof t=="string"?ZA.fromHex(t):i.getColor(t.id)};return i}(XF);var tS=function(){function t(t){this.content=t.content||"",this.inlineClassName=t.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=t.attachedData||null,this.cursorStops=t.cursorStops||null}t.from=function(i){return i instanceof t?i:new t(i)};return t}();var iS=function(){function t(t){var i,n,r,e,o,s;this.description=t.description,this.blockClassName=t.blockClassName?KF(t.blockClassName):null,this.blockDoesNotCollapse=(i=t.blockDoesNotCollapse)!==null&&i!==void 0?i:null,this.blockIsAfterEnd=(n=t.blockIsAfterEnd)!==null&&n!==void 0?n:null,this.blockPadding=(r=t.blockPadding)!==null&&r!==void 0?r:null,this.stickiness=t.stickiness||0,this.zIndex=t.zIndex||0,this.className=t.className?KF(t.className):null,this.shouldFillLineOnLineBreak=(e=t.shouldFillLineOnLineBreak)!==null&&e!==void 0?e:null,this.hoverMessage=t.hoverMessage||null,this.glyphMarginHoverMessage=t.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=t.lineNumberHoverMessage||null,this.isWholeLine=t.isWholeLine||!1,this.showIfCollapsed=t.showIfCollapsed||!1,this.collapseOnReplaceEdit=t.collapseOnReplaceEdit||!1,this.overviewRuler=t.overviewRuler?new qF(t.overviewRuler):null,this.minimap=t.minimap?new $F(t.minimap):null,this.glyphMargin=t.glyphMarginClassName?new ZF(t.glyphMargin):null,this.glyphMarginClassName=t.glyphMarginClassName?KF(t.glyphMarginClassName):null,this.linesDecorationsClassName=t.linesDecorationsClassName?KF(t.linesDecorationsClassName):null,this.lineNumberClassName=t.lineNumberClassName?KF(t.lineNumberClassName):null,this.linesDecorationsTooltip=t.linesDecorationsTooltip?t.linesDecorationsTooltip.replace(/[<>"'&]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return t})):null,this.firstLineDecorationClassName=t.firstLineDecorationClassName?KF(t.firstLineDecorationClassName):null,this.marginClassName=t.marginClassName?KF(t.marginClassName):null,this.inlineClassName=t.inlineClassName?KF(t.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=t.beforeContentClassName?KF(t.beforeContentClassName):null,this.afterContentClassName=t.afterContentClassName?KF(t.afterContentClassName):null,this.after=t.after?tS.from(t.after):null,this.before=t.before?tS.from(t.before):null,this.hideInCommentTokens=(o=t.hideInCommentTokens)!==null&&o!==void 0&&o,this.hideInStringTokens=(s=t.hideInStringTokens)!==null&&s!==void 0&&s}t.register=function(i){return new t(i)};t.createDynamic=function(i){return new t(i)};return t}();iS.EMPTY=iS.register({description:"empty"});var nS=[iS.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),iS.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),iS.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),iS.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function rS(t){return t instanceof iS?t:iS.createDynamic(t)}var eS=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.handleBeforeFire=i,n._actual=n._register(new Ln),n.event=n._actual.event,n._affectedInjectedTextLines=null,n._deferredCnt=0,n._shouldFireDeferred=!1,n._affectsMinimap=!1,n._affectsOverviewRuler=!1,n._affectsGlyphMargin=!1,n._affectsLineNumber=!1;return n}i.prototype.beginDeferredEmit=function(){this._deferredCnt++};i.prototype.endDeferredEmit=function(){var t;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(t=this._affectedInjectedTextLines)===null||t===void 0||t.clear(),this._affectedInjectedTextLines=null)};i.prototype.recordLineAffectedByInjectedText=function(t){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(t)};i.prototype.checkAffectedAndFire=function(t){var i,n;this._affectsMinimap||(this._affectsMinimap=!!(!((i=t.minimap)===null||i===void 0)&&i.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((n=t.overviewRuler)===null||n===void 0)&&n.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!t.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!t.lineNumberClassName),this.tryFire()};i.prototype.fire=function(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()};i.prototype.tryFire=function(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0};i.prototype.doFire=function(){this.handleBeforeFire(this._affectedInjectedTextLines);var t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(t)};return i}(Cn);var oS=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._fastEmitter=i._register(new Ln),i.fastEvent=i._fastEmitter.event,i._slowEmitter=i._register(new Ln),i.slowEvent=i._slowEmitter.event,i._deferredCnt=0,i._deferredEvent=null;return i}i.prototype.beginDeferredEmit=function(){this._deferredCnt++};i.prototype.endDeferredEmit=function(t){if(t===void 0){t=null}if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=t;var i=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(i),this._slowEmitter.fire(i)}};i.prototype.fire=function(t){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(t):this._deferredEvent=t:(this._fastEmitter.fire(t),this._slowEmitter.fire(t))};return i}(Cn);var sS=function(){function t(){this._onDidChangeVisibleRanges=new Ln,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}t.prototype.attachView=function(){var t=this;var i=new uS((function(n){t._onDidChangeVisibleRanges.fire({view:i,state:n})}));return this._views.add(i),i};t.prototype.detachView=function(t){this._views.delete(t),this._onDidChangeVisibleRanges.fire({view:t,state:void 0})};return t}();var uS=function(){function t(t){this.handleStateChange=t}t.prototype.setVisibleLines=function(t,i){var n=t.map((function(t){return new eA(t.startLineNumber,t.endLineNumber+1)}));this.handleStateChange({visibleLineRanges:n,stabilized:i})};return t}();var aS=function(){function t(t,i){this.classifier=new cS(t,i)}t.create=function(i){return new t(i.get(134),i.get(133))};t.prototype.createLineBreaksComputer=function(t,i,n,r,e){var o=this;var s=[],u=[],a=[];return{addRequest:function(t,i,n){s.push(t),u.push(i),a.push(n)},finalize:function(){var c=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,h=[];for(var f=0,l=s.length;f<l;f++){var d=u[f],v=a[f];!v||v.injectionOptions||d?h[f]=dS(o.classifier,s[f],d,i,n,c,r,e):h[f]=lS(o.classifier,v,s[f],i,n,c,r,e)}return hS.length=0,fS.length=0,h}}};return t}();var cS=function(t){__extends(i,t);function i(i,n){var r=t.call(this,0)||this;for(var e=0;e<i.length;e++)r.set(i.charCodeAt(e),1);for(var e=0;e<n.length;e++)r.set(n.charCodeAt(e),2);return r}i.prototype.get=function(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue};return i}(hv);var hS=[],fS=[];function lS(t,i,n,r,e,o,s,u){if(e===-1)return null;var a=n.length;if(a<=1)return null;var c=u==="keepAll",h=i.breakOffsets,f=i.breakOffsetsVisibleColumn,l=wS(n,r,e,o,s),d=e-l,v=hS,A=fS;var g=0,w=0,p=0,m=e;var b=h.length;var y=0;if(y>=0){var k=Math.abs(f[y]-m);for(;y+1<b;){var x=Math.abs(f[y+1]-m);if(x>=k)break;k=x,y++}}for(;y<b;){var k=y<0?0:h[y],x=y<0?0:f[y];w>k&&(k=w,x=p);var E=0,B=0,C=0,D=0;if(x<=m){var M=x,_=k===0?0:n.charCodeAt(k-1),F=k===0?0:t.get(_),S=!0;for(var I=k;I<a;I++){var Q=I,O=n.charCodeAt(I);var N=void 0,R=void 0;if(Jo(O)?(I++,N=0,R=2):(N=t.get(O),R=vS(O,M,r,o)),Q>w&&gS(_,F,O,N,c)&&(E=Q,B=M),M+=R,M>m){Q>w?(C=Q,D=M-R):(C=I+1,D=M),M-B>d&&(E=0),S=!1;break}_=O,F=N}if(S){g>0&&(v[g]=h[h.length-1],A[g]=f[h.length-1],g++);break}}if(E===0){var M=x,_=n.charCodeAt(k),F=t.get(_),S=!1;for(var I=k-1;I>=w;I--){var Q=I+1,O=n.charCodeAt(I);if(O===9){S=!0;break}var N=void 0,R=void 0;if(Po(O)?(I--,N=0,R=2):(N=t.get(O),R=es(O)?o:1),M<=m){if(C===0&&(C=Q,D=M),M<=m-d)break;if(gS(O,N,_,F,c)){E=Q,B=M;break}}M-=R,_=O,F=N}if(E!==0){var I=d-(D-B);if(I<=r){var Q=n.charCodeAt(C);var O=void 0;O=Jo(Q)?2:vS(Q,D,r,o),I-O<0&&(E=0)}}if(S){y--;continue}}if(E===0&&(E=C,B=D),E<=w){var M=n.charCodeAt(w);Jo(M)?(E=w+2,B=p+2):(E=w+1,B=p+vS(M,p,r,o))}for(w=E,v[g]=E,p=B,A[g]=B,g++,m=B+d;y<0||y<b&&f[y]<B;)y++;var T=Math.abs(f[y]-m);for(;y+1<b;){var M=Math.abs(f[y+1]-m);if(M>=T)break;T=M,y++}}return g===0?null:(v.length=g,A.length=g,hS=i.breakOffsets,fS=i.breakOffsetsVisibleColumn,i.breakOffsets=v,i.breakOffsetsVisibleColumn=A,i.wrappedTextIndentLength=l,i)}function dS(t,i,n,r,e,o,s,u){var a=dD.applyInjectedText(i,n);var c,h;if(n&&n.length>0?(c=n.map((function(t){return t.options})),h=n.map((function(t){return t.column-1}))):(c=null,h=null),e===-1)return c?new aD(h,c,[a.length],[],0):null;var f=a.length;if(f<=1)return c?new aD(h,c,[a.length],[],0):null;var l=u==="keepAll",d=wS(a,r,e,o,s),v=e-d,A=[],g=[];var w=0,p=0,m=0,b=e,y=a.charCodeAt(0),k=t.get(y),x=vS(y,0,r,o),E=1;Jo(y)&&(x+=1,y=a.charCodeAt(1),k=t.get(y),E++);for(var B=E;B<f;B++){var C=B,D=a.charCodeAt(B);var M=void 0,_=void 0;Jo(D)?(B++,M=0,_=2):(M=t.get(D),_=vS(D,x,r,o)),gS(y,k,D,M,l)&&(p=C,m=x),x+=_,x>b&&((p===0||x-m>v)&&(p=C,m=x-_),A[w]=p,g[w]=m,w++,b=m+v,p=0),y=D,k=M}return w!==0||n&&n.length!==0?(A[w]=f,g[w]=x,new aD(h,c,A,g,d)):null}function vS(t,i,n,r){return t===9?n-i%n:es(t)||t<32?r:1}function AS(t,i){return i-t%i}function gS(t,i,n,r,e){return n!==32&&(i===2&&r!==2||i!==1&&r===1||!e&&i===3&&r!==2||!e&&r===3&&i!==1)}function wS(t,i,n,r,e){var o=0;if(e!==0){var s=Fo(t);if(s!==-1){for(var u=0;u<s;u++)o+=t.charCodeAt(u)===9?AS(o,i):1;var a=e===3?2:e===2?1:0;for(var u=0;u<a;u++)o+=AS(o,i);o+r>n&&(o=0)}}return o}var pS=function(){function t(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new ME(new Zr(1,1,1,1),0,0,new qr(1,1),0),new ME(new Zr(1,1,1,1),0,0,new qr(1,1),0))}t.prototype.dispose=function(t){this._removeTrackedRange(t)};t.prototype.startTrackingSelection=function(t){this._trackSelection=!0,this._updateTrackedRange(t)};t.prototype.stopTrackingSelection=function(t){this._trackSelection=!1,this._removeTrackedRange(t)};t.prototype._updateTrackedRange=function(t){this._trackSelection&&(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))};t.prototype._removeTrackedRange=function(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)};t.prototype.asCursorState=function(){return new BE(this.modelState,this.viewState)};t.prototype.readSelectionFromMarkers=function(t){var i=t.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!i.isEmpty()?$r.fromRange(i.collapseToEnd(),this.modelState.selection.getDirection()):$r.fromRange(i,this.modelState.selection.getDirection())};t.prototype.ensureValidState=function(t){this._setState(t,this.modelState,this.viewState)};t.prototype.setState=function(t,i,n){this._setState(t,i,n)};t._validatePositionWithCache=function(t,i,n,r){return i.equals(n)?r:t.normalizePosition(i,2)};t._validateViewState=function(t,i){var n=i.position,r=i.selectionStart.getStartPosition(),e=i.selectionStart.getEndPosition(),o=t.normalizePosition(n,2),s=this._validatePositionWithCache(t,r,n,o),u=this._validatePositionWithCache(t,e,r,s);return n.equals(o)&&r.equals(s)&&e.equals(u)?i:new ME(Zr.fromPositions(s,u),i.selectionStartKind,i.selectionStartLeftoverVisibleColumns+r.column-s.column,o,i.leftoverVisibleColumns+n.column-o.column)};t.prototype._setState=function(i,n,r){if(r&&(r=t._validateViewState(i.viewModel,r)),n){var e=i.model.validateRange(n.selectionStart),o=n.selectionStart.equalsRange(e)?n.selectionStartLeftoverVisibleColumns:0,s=i.model.validatePosition(n.position),u=n.position.equals(s)?n.leftoverVisibleColumns:0;n=new ME(e,n.selectionStartKind,o,s,u)}else{if(!r)return;var e=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(r.selectionStart)),o=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(r.position));n=new ME(e,r.selectionStartKind,r.selectionStartLeftoverVisibleColumns,o,r.leftoverVisibleColumns)}if(r){var e=i.coordinatesConverter.validateViewRange(r.selectionStart,n.selectionStart),o=i.coordinatesConverter.validateViewPosition(r.position,n.position);r=new ME(e,n.selectionStartKind,n.selectionStartLeftoverVisibleColumns,o,n.leftoverVisibleColumns)}else{var e=i.coordinatesConverter.convertModelPositionToViewPosition(new qr(n.selectionStart.startLineNumber,n.selectionStart.startColumn)),o=i.coordinatesConverter.convertModelPositionToViewPosition(new qr(n.selectionStart.endLineNumber,n.selectionStart.endColumn)),s=new Zr(e.lineNumber,e.column,o.lineNumber,o.column),u=i.coordinatesConverter.convertModelPositionToViewPosition(n.position);r=new ME(s,n.selectionStartKind,n.selectionStartLeftoverVisibleColumns,u,n.leftoverVisibleColumns)}this.modelState=n,this.viewState=r,this._updateTrackedRange(i)};return t}();var mS=function(){function t(t){this.context=t,this.cursors=[new pS(t)],this.lastAddedCursorIndex=0}t.prototype.dispose=function(){for(var t=0,i=this.cursors;t<i.length;t++){var n=i[t];n.dispose(this.context)}};t.prototype.startTrackingSelections=function(){for(var t=0,i=this.cursors;t<i.length;t++){var n=i[t];n.startTrackingSelection(this.context)}};t.prototype.stopTrackingSelections=function(){for(var t=0,i=this.cursors;t<i.length;t++){var n=i[t];n.stopTrackingSelection(this.context)}};t.prototype.updateContext=function(t){this.context=t};t.prototype.ensureValidState=function(){for(var t=0,i=this.cursors;t<i.length;t++){var n=i[t];n.ensureValidState(this.context)}};t.prototype.readSelectionFromMarkers=function(){var t=this;return this.cursors.map((function(i){return i.readSelectionFromMarkers(t.context)}))};t.prototype.getAll=function(){return this.cursors.map((function(t){return t.asCursorState()}))};t.prototype.getViewPositions=function(){return this.cursors.map((function(t){return t.viewState.position}))};t.prototype.getTopMostViewPosition=function(){return function(t,i){return nA(t,(function(t,n){return-i(t,n)}))}(this.cursors,X((function(t){return t.viewState.position}),qr.compare)).viewState.position};t.prototype.getBottomMostViewPosition=function(){return function(t,i){if(t.length===0)return;var n=t[0];for(var r=1;r<t.length;r++){var e=t[r];i(e,n)>=0&&(n=e)}return n}(this.cursors,X((function(t){return t.viewState.position}),qr.compare)).viewState.position};t.prototype.getSelections=function(){return this.cursors.map((function(t){return t.modelState.selection}))};t.prototype.getViewSelections=function(){return this.cursors.map((function(t){return t.viewState.selection}))};t.prototype.setSelections=function(t){this.setStates(BE.fromModelSelections(t))};t.prototype.getPrimaryCursor=function(){return this.cursors[0].asCursorState()};t.prototype.setStates=function(t){t!==null&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))};t.prototype._setSecondaryStates=function(t){var i=this.cursors.length-1,n=t.length;if(i<n){var r=n-i;for(var e=0;e<r;e++)this._addSecondaryCursor()}else if(i>n){var r=i-n;for(var e=0;e<r;e++)this._removeSecondaryCursor(this.cursors.length-2)}for(var r=0;r<n;r++)this.cursors[r+1].setState(this.context,t[r].modelState,t[r].viewState)};t.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])};t.prototype._addSecondaryCursor=function(){this.cursors.push(new pS(this.context)),this.lastAddedCursorIndex=this.cursors.length-1};t.prototype.getLastAddedCursorIndex=function(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex};t.prototype._removeSecondaryCursor=function(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)};t.prototype.normalize=function(){if(this.cursors.length===1)return;var t=this.cursors.slice(0),i=[];for(var n=0,r=t.length;n<r;n++)i.push({index:n,selection:t[n].modelState.selection});i.sort(X((function(t){return t.selection}),Zr.compareRangesUsingStarts));for(var n=0;n<i.length-1;n++){var r=i[n],e=i[n+1],o=r.selection,s=e.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;var u=void 0;if(u=s.isEmpty()||o.isEmpty()?s.getStartPosition().isBeforeOrEqual(o.getEndPosition()):s.getStartPosition().isBefore(o.getEndPosition()),u){var a=r.index<e.index?n:n+1,c=r.index<e.index?n+1:n,h=i[c].index,f=i[a].index,l=i[c].selection,d=i[a].selection;if(!l.equalsSelection(d)){var v=l.plusRange(d),A=l.selectionStartLineNumber===l.startLineNumber&&l.selectionStartColumn===l.startColumn,g=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;var w=void 0,p=void 0;h===this.lastAddedCursorIndex?(w=A,this.lastAddedCursorIndex=f):w=g,p=w?new $r(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new $r(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn),i[a].selection=p;var m=BE.fromModelSelection(p);t[f].setState(this.context,m.modelState,m.viewState)}for(var b=0,y=i;b<y.length;b++){var v=y[b];v.index>h&&v.index--}t.splice(h,1),i.splice(c,1),this._removeSecondaryCursor(h-1),n--}}};return t}();var bS=function(){function t(t,i,n,r){this._cursorContextBrand=void 0,this.model=t,this.viewModel=i,this.coordinatesConverter=n,this.cursorConfig=r}return t}();var yS=function(){function t(){this.type=0}return t}();var kS=function(){function t(){this.type=1}return t}();var xS=function(){function t(t){this.type=2,this._source=t}t.prototype.hasChanged=function(t){return this._source.hasChanged(t)};return t}();var ES=function(){function t(t,i,n){this.selections=t,this.modelSelections=i,this.reason=n,this.type=3}return t}();var BS=function(){function t(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler,this.affectsGlyphMargin=t.affectsGlyphMargin,this.affectsLineNumber=t.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}return t}();var CS=function(){function t(){this.type=5}return t}();var DS=function(){function t(t){this.type=6,this.isFocused=t}return t}();var MS=function(){function t(){this.type=7}return t}();var _S=function(){function t(){this.type=8}return t}();var FS=function(){function t(t,i){this.fromLineNumber=t,this.count=i,this.type=9}return t}();var SS=function(){function t(t,i){this.type=10,this.fromLineNumber=t,this.toLineNumber=i}return t}();var IS=function(){function t(t,i){this.type=11,this.fromLineNumber=t,this.toLineNumber=i}return t}();var QS=function(){function t(t,i,n,r,e,o,s){this.source=t,this.minimalReveal=i,this.range=n,this.selections=r,this.verticalType=e,this.revealHorizontal=o,this.scrollType=s,this.type=12}return t}();var OS=function(){function t(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}return t}();var NS=function(){function t(t){this.theme=t,this.type=14}return t}();var RS=function(){function t(t){this.type=15,this.ranges=t}return t}();var TS=function(){function t(){this.type=16}return t}();var LS=function(){function t(){this.type=17}return t}();var jS=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._onEvent=i._register(new Ln),i.onEvent=i._onEvent.event,i._eventHandlers=[],i._viewEventQueue=null,i._isConsumingViewEventQueue=!1,i._collector=null,i._collectorCnt=0,i._outgoingEvents=[];return i}i.prototype.emitOutgoingEvent=function(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()};i.prototype._addOutgoingEvent=function(t){for(var i=0,n=this._outgoingEvents.length;i<n;i++){var r=this._outgoingEvents[i].kind===t.kind?this._outgoingEvents[i].attemptToMerge(t):null;if(r)return void(this._outgoingEvents[i]=r)}this._outgoingEvents.push(t)};i.prototype._emitOutgoingEvents=function(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;var t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}};i.prototype.addViewEventHandler=function(t){for(var i=0,n=this._eventHandlers.length;i<n;i++)this._eventHandlers[i]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)};i.prototype.removeViewEventHandler=function(t){for(var i=0;i<this._eventHandlers.length;i++)if(this._eventHandlers[i]===t){this._eventHandlers.splice(i,1);break}};i.prototype.beginEmitViewEvents=function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new zS),this._collector};i.prototype.endEmitViewEvents=function(){if(this._collectorCnt--,this._collectorCnt===0){var t=this._collector.outgoingEvents,i=this._collector.viewEvents;this._collector=null;for(var n=0,r=t;n<r.length;n++){var e=r[n];this._addOutgoingEvent(e)}i.length>0&&this._emitMany(i)}this._emitOutgoingEvents()};i.prototype.emitSingleViewEvent=function(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}};i.prototype._emitMany=function(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()};i.prototype._consumeViewEventQueue=function(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}};i.prototype._doConsumeQueue=function(){for(;this._viewEventQueue;){var t=this._viewEventQueue;this._viewEventQueue=null;var i=this._eventHandlers.slice(0);for(var n=0,r=i;n<r.length;n++){var e=r[n];e.handleEvents(t)}}};return i}(Cn);var zS=function(){function t(){this.viewEvents=[],this.outgoingEvents=[]}t.prototype.emitViewEvent=function(t){this.viewEvents.push(t)};t.prototype.emitOutgoingEvent=function(t){this.outgoingEvents.push(t)};return t}();var US=function(){function t(t,i,n,r){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=i,this.contentWidth=n,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}t.prototype.isNoOp=function(){return!this.contentWidthChanged&&!this.contentHeightChanged};t.prototype.attemptToMerge=function(i){return i.kind!==this.kind?null:new t(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)};return t}();var HS=function(){function t(t,i){this.kind=1,this.oldHasFocus=t,this.hasFocus=i}t.prototype.isNoOp=function(){return this.oldHasFocus===this.hasFocus};t.prototype.attemptToMerge=function(i){return i.kind!==this.kind?null:new t(this.oldHasFocus,i.hasFocus)};return t}();var YS=function(){function t(t,i,n,r,e,o,s,u){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=i,this._oldScrollHeight=n,this._oldScrollTop=r,this.scrollWidth=e,this.scrollLeft=o,this.scrollHeight=s,this.scrollTop=u,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}t.prototype.isNoOp=function(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)};t.prototype.attemptToMerge=function(i){return i.kind!==this.kind?null:new t(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)};return t}();var JS=function(){function t(){this.kind=3}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return t.kind!==this.kind?null:this};return t}();var PS=function(){function t(){this.kind=4}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return t.kind!==this.kind?null:this};return t}();var WS=function(){function t(t,i,n,r,e,o,s){this.kind=6,this.oldSelections=t,this.selections=i,this.oldModelVersionId=n,this.modelVersionId=r,this.source=e,this.reason=o,this.reachedMaxCursorCount=s}t._selectionsAreEqual=function(t,i){if(!t&&!i)return!0;if(!t||!i)return!1;var n=t.length;if(n!==i.length)return!1;for(var r=0;r<n;r++)if(!t[r].equalsSelection(i[r]))return!1;return!0};t.prototype.isNoOp=function(){return t._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId};t.prototype.attemptToMerge=function(i){return i.kind!==this.kind?null:new t(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)};return t}();var GS=function(){function t(){this.kind=5}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return t.kind!==this.kind?null:this};return t}();var VS=function(){function t(t){this.event=t,this.kind=7}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return null};return t}();var KS=function(){function t(t){this.event=t,this.kind=8}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return null};return t}();var XS=function(){function t(t){this.event=t,this.kind=9}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return null};return t}();var qS=function(){function t(t){this.event=t,this.kind=10}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return null};return t}();var ZS=function(){function t(t){this.event=t,this.kind=11}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return null};return t}();var $S=function(){function t(t){this.event=t,this.kind=12}t.prototype.isNoOp=function(){return!1};t.prototype.attemptToMerge=function(t){return null};return t}();var tI=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._model=i,o._knownModelVersionId=o._model.getVersionId(),o._viewModel=n,o._coordinatesConverter=r,o.context=new bS(o._model,o._viewModel,o._coordinatesConverter,e),o._cursors=new mS(o.context),o._hasFocus=!1,o._isHandling=!1,o._compositionState=null,o._columnSelectData=null,o._autoClosedActions=[],o._prevEditOperationType=0;return o}i.prototype.dispose=function(){this._cursors.dispose(),this._autoClosedActions=kn(this._autoClosedActions),t.prototype.dispose.call(this)};i.prototype.updateConfiguration=function(t){this.context=new bS(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)};i.prototype.onLineMappingChanged=function(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())};i.prototype.setHasFocus=function(t){this._hasFocus=t};i.prototype._validateAutoClosedActions=function(){if(this._autoClosedActions.length>0){var t=this._cursors.getSelections();for(var i=0;i<this._autoClosedActions.length;i++){var n=this._autoClosedActions[i];n.isValid(t)||(n.dispose(),this._autoClosedActions.splice(i,1),i--)}}};i.prototype.getPrimaryCursorState=function(){return this._cursors.getPrimaryCursor()};i.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()};i.prototype.getCursorStates=function(){return this._cursors.getAll()};i.prototype.setStates=function(t,i,n,r){var e=!1;var o=this.context.cursorConfig.multiCursorLimit;r!==null&&r.length>o&&(r=r.slice(0,o),e=!0);var s=iI.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,s,e)};i.prototype.setCursorColumnSelectData=function(t){this._columnSelectData=t};i.prototype.revealAll=function(t,i,n,r,e,o){var s=this._cursors.getViewPositions();var u=null,a=null;s.length>1?a=this._cursors.getViewSelections():u=Zr.fromPositions(s[0],s[0]),t.emitViewEvent(new QS(i,n,u,a,r,e,o))};i.prototype.revealPrimary=function(t,i,n,r,e,o){var s=[this._cursors.getPrimaryCursor().viewState.selection];t.emitViewEvent(new QS(i,n,null,s,r,e,o))};i.prototype.saveState=function(){var t=[],i=this._cursors.getSelections();for(var n=0,r=i.length;n<r;n++){var e=i[n];t.push({inSelectionMode:!e.isEmpty(),selectionStart:{lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn},position:{lineNumber:e.positionLineNumber,column:e.positionColumn}})}return t};i.prototype.restoreState=function(t,i){var n=[];for(var r=0,e=i.length;r<e;r++){var o=i[r];var s=1,u=1;o.position&&o.position.lineNumber&&(s=o.position.lineNumber),o.position&&o.position.column&&(u=o.position.column);var a=s,c=u;o.selectionStart&&o.selectionStart.lineNumber&&(a=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(c=o.selectionStart.column),n.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:s,positionColumn:u})}this.setStates(t,"restoreState",0,BE.fromModelSelections(n)),this.revealAll(t,"restoreState",!1,0,!0,1)};i.prototype.onModelContentChanged=function(t,i){if(i instanceof mD){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{var n=i.rawContentChangedEvent;if(this._knownModelVersionId=n.versionId,this._isHandling)return;var r=n.containsEvent(1);if(this._prevEditOperationType=0,r)this._cursors.dispose(),this._cursors=new mS(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){var e=BE.fromModelSelections(n.resultingSelection);this.setStates(t,"modelChange",n.isUndoing?5:n.isRedoing?6:2,e)&&this.revealAll(t,"modelChange",!1,0,!0,0)}else{var e=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,BE.fromModelSelections(e))}}};i.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection};i.prototype.getTopMostViewPosition=function(){return this._cursors.getTopMostViewPosition()};i.prototype.getBottomMostViewPosition=function(){return this._cursors.getBottomMostViewPosition()};i.prototype.getCursorColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var t=this._cursors.getPrimaryCursor(),i=t.viewState.selectionStart.getStartPosition(),n=t.viewState.position;return{isReal:!1,fromViewLineNumber:i.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i),toViewLineNumber:n.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,n)}};i.prototype.getSelections=function(){return this._cursors.getSelections()};i.prototype.setSelections=function(t,i,n,r){this.setStates(t,i,r,BE.fromModelSelections(n))};i.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType};i.prototype.setPrevEditOperationType=function(t){this._prevEditOperationType=t};i.prototype._pushAutoClosedAction=function(t,i){var n=[],r=[];for(var e=0,o=t.length;e<o;e++)n.push({range:t[e],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:i[e],options:{description:"auto-closed-enclosing",stickiness:1}});var s=this._model.deltaDecorations([],n),u=this._model.deltaDecorations([],r);this._autoClosedActions.push(new nI(this._model,s,u))};i.prototype._executeEditOperation=function(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();var i=rI.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(i){this._interpretCommandResult(i);var n=[],r=[];for(var e=0;e<t.commands.length;e++){var o=t.commands[e];o instanceof eB&&o.enclosingRange&&o.closeCharacterRange&&(n.push(o.closeCharacterRange),r.push(o.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,r),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()};i.prototype._interpretCommandResult=function(t){t&&t.length!==0||(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()};i.prototype._emitStateChangedIfNecessary=function(t,i,n,r,e){var o=iI.from(this._model,this);if(o.equals(r))return!1;var s=this._cursors.getSelections(),u=this._cursors.getViewSelections();if(t.emitViewEvent(new ES(u,s,n)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((function(t,i){return!t.modelState.equals(r.cursorState[i].modelState)}))){var a=r?r.cursorState.map((function(t){return t.modelState.selection})):null,c=r?r.modelVersionId:0;t.emitOutgoingEvent(new WS(a,s,c,o.modelVersionId,i||"keyboard",n,e))}return!0};i.prototype._findAutoClosingPairs=function(t){if(!t.length)return null;var i=[];for(var n=0,r=t.length;n<r;n++){var e=t[n];if(!e.text||e.text.indexOf("\n")>=0)return null;var o=e.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;var s=o[1],u=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(s);if(!u||u.length!==1)return null;var a=u[0].open,c=e.text.length-o[2].length-1,h=e.text.lastIndexOf(a,c-1);if(h===-1)return null;i.push([h,c])}return i};i.prototype.executeEdits=function(t,i,n,r){var e=this;var o=null;i==="snippet"&&(o=this._findAutoClosingPairs(n)),o&&(n[0]._isTracked=!0);var s=[],u=[],a=this._model.pushEditOperations(this.getSelections(),n,(function(t){if(o)for(var i=0,n=o.length;i<n;i++){var a=o[i],c=a[0],h=a[1],f=t[i],l=f.range.startLineNumber,d=f.range.startColumn-1+c,v=f.range.startColumn-1+h;s.push(new Zr(l,v+1,l,v+2)),u.push(new Zr(l,d+1,l,v+2))}var A=r(t);return A&&(e._isHandling=!0),A}));a&&(this._isHandling=!1,this.setSelections(t,i,a,0)),s.length>0&&this._pushAutoClosedAction(s,u)};i.prototype._executeEdit=function(t,i,n,r){if(r===void 0){r=0}if(this.context.cursorConfig.readOnly)return;var e=iI.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(t){cn(t)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,n,r,e,!1)&&this.revealAll(i,n,!1,0,!0,0)};i.prototype.getAutoClosedCharacters=function(){return nI.getAllAutoClosedCharacters(this._autoClosedActions)};i.prototype.startComposition=function(t){this._compositionState=new oI(this._model,this.getSelections())};i.prototype.endComposition=function(t,i){var n=this;var r=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit((function(){i==="keyboard"&&n._executeEditOperation(rB.compositionEndWithInterceptors(n._prevEditOperationType,n.context.cursorConfig,n._model,r,n.getSelections(),n.getAutoClosedCharacters()))}),t,i)};i.prototype.type=function(t,i,n){var r=this;this._executeEdit((function(){if(n==="keyboard"){var t=i.length;var e=0;for(;e<t;){var o=Xo(i,e),s=i.substr(e,o);r._executeEditOperation(rB.typeWithInterceptors(!!r._compositionState,r._prevEditOperationType,r.context.cursorConfig,r._model,r.getSelections(),r.getAutoClosedCharacters(),s)),e+=o}}else r._executeEditOperation(rB.typeWithoutInterceptors(r._prevEditOperationType,r.context.cursorConfig,r._model,r.getSelections(),i))}),t,n)};i.prototype.compositionType=function(t,i,n,r,e,o){var s=this;if(i.length!==0||n!==0||r!==0)this._executeEdit((function(){s._executeEditOperation(rB.compositionType(s._prevEditOperationType,s.context.cursorConfig,s._model,s.getSelections(),i,n,r,e))}),t,o);else if(e!==0){var u=this.getSelections().map((function(t){var i=t.getPosition();return new $r(i.lineNumber,i.column+e,i.lineNumber,i.column+e)}));this.setSelections(t,o,u,0)}};i.prototype.paste=function(t,i,n,r,e){var o=this;this._executeEdit((function(){o._executeEditOperation(rB.paste(o.context.cursorConfig,o._model,o.getSelections(),i,n,r||[]))}),t,e,4)};i.prototype.cut=function(t,i){var n=this;this._executeEdit((function(){n._executeEditOperation(jE.cut(n.context.cursorConfig,n._model,n.getSelections()))}),t,i)};i.prototype.executeCommand=function(t,i,n){var r=this;this._executeEdit((function(){r._cursors.killSecondaryCursors(),r._executeEditOperation(new _E(0,[i],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),t,n)};i.prototype.executeCommands=function(t,i,n){var r=this;this._executeEdit((function(){r._executeEditOperation(new _E(0,i,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),t,n)};return i}(Cn);var iI=function(){function t(t,i){this.modelVersionId=t,this.cursorState=i}t.from=function(i,n){return new t(i.getVersionId(),n.getCursorStates())};t.prototype.equals=function(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(var i=0,n=this.cursorState.length;i<n;i++)if(!this.cursorState[i].equals(t.cursorState[i]))return!1;return!0};return t}();var nI=function(){function t(t,i,n){this._model=t,this._autoClosedCharactersDecorations=i,this._autoClosedEnclosingDecorations=n}t.getAllAutoClosedCharacters=function(t){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];i=i.concat(e.getAutoClosedCharactersRanges())}return i};t.prototype.dispose=function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])};t.prototype.getAutoClosedCharactersRanges=function(){var t=[];for(var i=0;i<this._autoClosedCharactersDecorations.length;i++){var n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[i]);n&&t.push(n)}return t};t.prototype.isValid=function(t){var i=[];for(var n=0;n<this._autoClosedEnclosingDecorations.length;n++){var r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(r&&(i.push(r),r.startLineNumber!==r.endLineNumber))return!1}i.sort(Zr.compareRangesUsingStarts),t.sort(Zr.compareRangesUsingStarts);for(var n=0;n<t.length;n++)if(n>=i.length||!i[n].strictContainsRange(t[n]))return!1;return!0};return t}();var rI=function(){function t(){}t.executeCommands=function(t,i,n){var r={model:t,selectionsBefore:i,trackedRanges:[],trackedRangesDirection:[]},e=this._innerExecuteCommands(r,n);for(var o=0,s=r.trackedRanges.length;o<s;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return e};t._innerExecuteCommands=function(t,i){if(this._arrayIsEmpty(i))return null;var n=this._getEditOperations(t,i);if(n.operations.length===0)return null;var r=n.operations,e=this._getLoserCursorMap(r);if(e.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;var o=[];for(var s=0,u=r.length;s<u;s++)e.hasOwnProperty(r[s].identifier.major.toString())||o.push(r[s]);n.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);var a=t.model.pushEditOperations(t.selectionsBefore,o,(function(n){var r=[];for(var e=0;e<t.selectionsBefore.length;e++)r[e]=[];for(var o=0,s=n;o<s.length;o++){var e=s[o];e.identifier&&r[e.identifier.major].push(e)}var u=function(t,i){return t.identifier.minor-i.identifier.minor},a=[];var c=function(n){r[n].length>0?(r[n].sort(u),a[n]=i[n].computeCursorState(t.model,{getInverseEditOperations:function(){return r[n]},getTrackedSelection:function(i){var n=parseInt(i,10),r=t.model._getTrackedRange(t.trackedRanges[n]);return t.trackedRangesDirection[n]===0?new $r(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn):new $r(r.endLineNumber,r.endColumn,r.startLineNumber,r.startColumn)}})):a[n]=t.selectionsBefore[n]};for(var e=0;e<t.selectionsBefore.length;e++){c(e)}return a}));a||(a=t.selectionsBefore);var c=[];for(var s in e)e.hasOwnProperty(s)&&c.push(parseInt(s,10));c.sort((function(t,i){return i-t}));for(var h=0,f=c;h<f.length;h++){var s=f[h];a.splice(s,1)}return a};t._arrayIsEmpty=function(t){for(var i=0,n=t.length;i<n;i++)if(t[i])return!1;return!0};t._getEditOperations=function(t,i){var n=[],r=!1;for(var e=0,o=i.length;e<o;e++){var s=i[e];if(s){var u=this._getEditOperationsFromCommand(t,e,s);n=n.concat(u.operations),r=r||u.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:r}};t._getEditOperationsFromCommand=function(t,i,n){var r=[];var e=0;var o=function(t,o,s){if(s===void 0){s=!1}Zr.isEmpty(t)&&o===""||r.push({identifier:{major:i,minor:e++},range:t,text:o,forceMoveMarkers:s,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};var s=!1;var u={addEditOperation:o,addTrackedEditOperation:function(t,i,n){s=!0,o(t,i,n)},trackSelection:function(i,n){var r=$r.liftSelection(i);var e;if(r.isEmpty())if(typeof n=="boolean")e=n?2:3;else{var o=t.model.getLineMaxColumn(r.startLineNumber);e=r.startColumn===o?2:3}else e=1;var s=t.trackedRanges.length,u=t.model._setTrackedRange(null,r,e);return t.trackedRanges[s]=u,t.trackedRangesDirection[s]=r.getDirection(),s.toString()}};try{n.getEditOperations(t.model,u)}catch(t){return cn(t),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:s}};t._getLoserCursorMap=function(t){(t=t.slice(0)).sort((function(t,i){return-Zr.compareRangesUsingEnds(t.range,i.range)}));var i={};for(var n=1;n<t.length;n++){var r=t[n-1],e=t[n];if(Zr.getStartPosition(r.range).isBefore(Zr.getEndPosition(e.range))){var o=void 0;o=r.identifier.major>e.identifier.major?r.identifier.major:e.identifier.major,i[o.toString()]=!0;for(var s=0;s<t.length;s++)t[s].identifier.major===o&&(t.splice(s,1),s<n&&n--,s--);n>0&&n--}}return i};return t}();var eI=function(){function t(t,i,n){this.text=t,this.startSelection=i,this.endSelection=n}return t}();var oI=function(){function t(i,n){this._original=t._capture(i,n)}t._capture=function(t,i){var n=[];for(var r=0,e=i;r<e.length;r++){var o=e[r];if(o.startLineNumber!==o.endLineNumber)return null;n.push(new eI(t.getLineContent(o.startLineNumber),o.startColumn-1,o.endColumn-1))}return n};t.prototype.deduceOutcome=function(i,n){if(!this._original)return null;var r=t._capture(i,n);if(!r||this._original.length!==r.length)return null;var e=[];for(var o=0,s=this._original.length;o<s;o++)e.push(t._deduceOutcome(this._original[o],r[o]));return e};t._deduceOutcome=function(t,i){var n=Math.min(t.startSelection,i.startSelection,Ho(t.text,i.text)),r=Math.min(t.text.length-t.endSelection,i.text.length-i.endSelection,Yo(t.text,i.text)),e=t.text.substring(n,t.text.length-r),o=i.text.substring(n,i.text.length-r);return new oB(e,t.startSelection-n,t.endSelection-n,o,i.startSelection-n,i.endSelection-n)};return t}();var sI={getInitialState:function(){return Fg},tokenizeEncoded:function(t,i,n){return Ig(0,n)}};function uI(t,i,n,r,e,o,s){var u="<div>",a=r,c=0,h=!0;for(var f=0,l=i.getCount();f<l;f++){var d=i.getEndOffset(f);if(d<=r)continue;var v="";for(;a<d&&a<e;a++){var A=t.charCodeAt(a);switch(A){case 9:{var g=o-(a+c)%o;for(c+=g-1;g>0;)s&&h?(v+="&#160;",h=!1):(v+=" ",h=!0),g--;break}case 60:v+="&lt;",h=!1;break;case 62:v+="&gt;",h=!1;break;case 38:v+="&amp;",h=!1;break;case 0:v+="&#00;",h=!1;break;case 65279:case 8232:case 8233:case 133:v+="�",h=!1;break;case 13:v+="&#8203",h=!1;break;case 32:s&&h?(v+="&#160;",h=!1):(v+=" ",h=!0);break;default:v+=String.fromCharCode(A),h=!1}}if(u+='<span style="'.concat(i.getInlineStyle(f,n),'">').concat(v,"</span>"),d>e||a>=e)break}return u+="</div>",u}function aI(t,i,n){var r='<div class="monaco-tokenized-source">';var e=_o(t);var o=n.getInitialState();for(var s=0,u=e.length;s<u;s++){var a=e[s];s>0&&(r+="<br/>");var c=n.tokenizeEncoded(a,!0,o);Og.convertToEndOffset(c.tokens,a.length);var h=new Og(c.tokens,a,i).inflate();var f=0;for(var l=0,d=h.getCount();l<d;l++){var v=h.getClassName(l),A=h.getEndOffset(l);r+='<span class="'.concat(v,'">').concat(xo(a.substring(f,A)),"</span>"),f=A}o=c.endState}return r+="</div>",r}var cI=function(){function t(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}t.prototype.insert=function(t){this._hasPending=!0,this._inserts.push(t)};t.prototype.change=function(t){this._hasPending=!0,this._changes.push(t)};t.prototype.remove=function(t){this._hasPending=!0,this._removes.push(t)};t.prototype.mustCommit=function(){return this._hasPending};t.prototype.commit=function(t){if(!this._hasPending)return;var i=this._inserts,n=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(i,n,r)};return t}();var hI=function(){function t(t,i,n,r,e){this.id=t,this.afterLineNumber=i,this.ordinal=n,this.height=r,this.minWidth=e,this.prefixSum=0}return t}();var fI=function(){function t(i,n,r,e){this._instanceId=as(++t.INSTANCE_COUNT),this._pendingChanges=new cI,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=i,this._lineHeight=n,this._paddingTop=r,this._paddingBottom=e}t.findInsertionIndex=function(t,i,n){var r=0,e=t.length;for(;r<e;){var o=r+e>>>1;i===t[o].afterLineNumber?n<t[o].ordinal?e=o:r=o+1:i<t[o].afterLineNumber?e=o:r=o+1}return r};t.prototype.setLineHeight=function(t){this._checkPendingChanges(),this._lineHeight=t};t.prototype.setPadding=function(t,i){this._paddingTop=t,this._paddingBottom=i};t.prototype.onFlushed=function(t){this._checkPendingChanges(),this._lineCount=t};t.prototype.changeWhitespace=function(t){var i=this;var n=!1;try{t({insertWhitespace:function(t,r,e,o){n=!0,t|=0,r|=0,e|=0,o|=0;var s=i._instanceId+ ++i._lastWhitespaceId;return i._pendingChanges.insert(new hI(s,t,r,e,o)),s},changeOneWhitespace:function(t,r,e){n=!0,r|=0,e|=0,i._pendingChanges.change({id:t,newAfterLineNumber:r,newHeight:e})},removeWhitespace:function(t){n=!0,i._pendingChanges.remove({id:t})}})}finally{this._pendingChanges.commit(this)}return n};t.prototype._commitPendingChanges=function(t,i,n){if((t.length>0||n.length>0)&&(this._minWidth=-1),t.length+i.length+n.length<=1){for(var r=0,e=t;r<e.length;r++){var o=e[r];this._insertWhitespace(o)}for(var s=0,u=i;s<u.length;s++){var o=u[s];this._changeOneWhitespace(o.id,o.newAfterLineNumber,o.newHeight)}for(var a=0,c=n;a<c.length;a++){var o=c[a];var h=this._findWhitespaceIndex(o.id);h!==-1&&this._removeWhitespace(h)}return}var f=new Set;for(var l=0,d=n;l<d.length;l++){var o=d[l];f.add(o.id)}var v=new Map;for(var A=0,g=i;A<g.length;A++){var o=g[A];v.set(o.id,o)}var w=function(t){var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];if(!f.has(e.id)){if(v.has(e.id)){var o=v.get(e.id);e.afterLineNumber=o.newAfterLineNumber,e.height=o.newHeight}i.push(e)}}return i},p=w(this._arr).concat(w(t));p.sort((function(t,i){return t.afterLineNumber===i.afterLineNumber?t.ordinal-i.ordinal:t.afterLineNumber-i.afterLineNumber})),this._arr=p,this._prefixSumValidIndex=-1};t.prototype._checkPendingChanges=function(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)};t.prototype._insertWhitespace=function(i){var n=t.findInsertionIndex(this._arr,i.afterLineNumber,i.ordinal);this._arr.splice(n,0,i),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)};t.prototype._findWhitespaceIndex=function(t){var i=this._arr;for(var n=0,r=i.length;n<r;n++)if(i[n].id===t)return n;return-1};t.prototype._changeOneWhitespace=function(t,i,n){var r=this._findWhitespaceIndex(t);if(r!==-1&&(this._arr[r].height!==n&&(this._arr[r].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==i)){var e=this._arr[r];this._removeWhitespace(r),e.afterLineNumber=i,this._insertWhitespace(e)}};t.prototype._removeWhitespace=function(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)};t.prototype.onLinesDeleted=function(t,i){this._checkPendingChanges(),t|=0,i|=0,this._lineCount-=i-t+1;for(var n=0,r=this._arr.length;n<r;n++){var e=this._arr[n].afterLineNumber;t<=e&&e<=i?this._arr[n].afterLineNumber=t-1:e>i&&(this._arr[n].afterLineNumber-=i-t+1)}};t.prototype.onLinesInserted=function(t,i){this._checkPendingChanges(),t|=0,i|=0,this._lineCount+=i-t+1;for(var n=0,r=this._arr.length;n<r;n++)t<=this._arr[n].afterLineNumber&&(this._arr[n].afterLineNumber+=i-t+1)};t.prototype.getWhitespacesTotalHeight=function(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)};t.prototype.getWhitespacesAccumulatedHeight=function(t){this._checkPendingChanges(),t|=0;var i=Math.max(0,this._prefixSumValidIndex+1);i===0&&(this._arr[0].prefixSum=this._arr[0].height,i++);for(var n=i;n<=t;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum};t.prototype.getLinesTotalHeight=function(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom};t.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(t){this._checkPendingChanges(),t|=0;var i=this._findLastWhitespaceBeforeLineNumber(t);return i===-1?0:this.getWhitespacesAccumulatedHeight(i)};t.prototype._findLastWhitespaceBeforeLineNumber=function(t){t|=0;var i=this._arr;var n=0,r=i.length-1;for(;n<=r;){var e=n+((r-n|0)/2|0)|0;if(i[e].afterLineNumber<t){if(e+1>=i.length||i[e+1].afterLineNumber>=t)return e;n=e+1|0}else r=e-1|0}return-1};t.prototype._findFirstWhitespaceAfterLineNumber=function(t){t|=0;var i=this._findLastWhitespaceBeforeLineNumber(t)+1;return i<this._arr.length?i:-1};t.prototype.getFirstWhitespaceIndexAfterLineNumber=function(t){return this._checkPendingChanges(),t|=0,this._findFirstWhitespaceAfterLineNumber(t)};t.prototype.getVerticalOffsetForLineNumber=function(t,i){if(i===void 0){i=!1}var n;return this._checkPendingChanges(),n=(t|=0)>1?this._lineHeight*(t-1):0,n+this.getWhitespaceAccumulatedHeightBeforeLineNumber(t-(i?1:0))+this._paddingTop};t.prototype.getVerticalOffsetAfterLineNumber=function(t,i){if(i===void 0){i=!1}return this._checkPendingChanges(),t|=0,this._lineHeight*t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(t+(i?1:0))+this._paddingTop};t.prototype.getWhitespaceMinWidth=function(){if(this._checkPendingChanges(),this._minWidth===-1){var t=0;for(var i=0,n=this._arr.length;i<n;i++)t=Math.max(t,this._arr[i].minWidth);this._minWidth=t}return this._minWidth};t.prototype.isAfterLines=function(t){return this._checkPendingChanges(),t>this.getLinesTotalHeight()};t.prototype.isInTopPadding=function(t){return this._paddingTop!==0&&(this._checkPendingChanges(),t<this._paddingTop)};t.prototype.isInBottomPadding=function(t){return this._paddingBottom===0?!1:(this._checkPendingChanges(),t>=this.getLinesTotalHeight()-this._paddingBottom)};t.prototype.getLineNumberAtOrAfterVerticalOffset=function(t){if(this._checkPendingChanges(),(t|=0)<0)return 1;var i=0|this._lineCount,n=this._lineHeight;var r=1,e=i;for(;r<e;){var o=(r+e)/2|0,s=0|this.getVerticalOffsetForLineNumber(o);if(t>=s+n)r=o+1;else{if(t>=s)return o;e=o}}return r>i?i:r};t.prototype.getLinesViewportData=function(t,i){this._checkPendingChanges(),t|=0,i|=0;var n=this._lineHeight,r=0|this.getLineNumberAtOrAfterVerticalOffset(t),e=0|this.getVerticalOffsetForLineNumber(r);var o=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(r);var u=0|this.getWhitespacesCount();var a,c;s===-1?(s=u,c=o+1,a=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(s),a=0|this.getHeightForWhitespaceIndex(s));var h=e,f=h;var l=5e5;var d=0;e>=l&&(d=Math.floor(e/l)*l,d=Math.floor(d/n)*n,f-=d);var v=[],A=t+(i-t)/2;var g=-1;for(var w=r;w<=o;w++){for(g===-1&&(h<=A&&A<h+n||h>A)&&(g=w),h+=n,v[w-r]=f,f+=n;c===w;)f+=a,h+=a,s++,s>=u?c=o+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(s),a=0|this.getHeightForWhitespaceIndex(s));if(h>=i){o=w;break}}g===-1&&(g=o);var p=0|this.getVerticalOffsetForLineNumber(o);var m=r,b=o;return m<b&&e<t&&m++,m<b&&p+n>i&&b--,{bigNumbersDelta:d,startLineNumber:r,endLineNumber:o,relativeVerticalOffset:v,centeredLineNumber:g,completelyVisibleStartLineNumber:m,completelyVisibleEndLineNumber:b,lineHeight:this._lineHeight}};t.prototype.getVerticalOffsetForWhitespaceIndex=function(t){this._checkPendingChanges(),t|=0;var i=this.getAfterLineNumberForWhitespaceIndex(t);var n,r;return n=i>=1?this._lineHeight*i:0,r=t>0?this.getWhitespacesAccumulatedHeight(t-1):0,n+r+this._paddingTop};t.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(t){this._checkPendingChanges(),t|=0;var i=0,n=this.getWhitespacesCount()-1;if(n<0||t>=this.getVerticalOffsetForWhitespaceIndex(n)+this.getHeightForWhitespaceIndex(n))return-1;for(;i<n;){var r=Math.floor((i+n)/2),e=this.getVerticalOffsetForWhitespaceIndex(r);if(t>=e+this.getHeightForWhitespaceIndex(r))i=r+1;else{if(t>=e)return r;n=r}}return i};t.prototype.getWhitespaceAtVerticalOffset=function(t){this._checkPendingChanges(),t|=0;var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(i<0||i>=this.getWhitespacesCount())return null;var n=this.getVerticalOffsetForWhitespaceIndex(i);if(n>t)return null;var r=this.getHeightForWhitespaceIndex(i);return{id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:r}};t.prototype.getWhitespaceViewportData=function(t,i){this._checkPendingChanges(),t|=0,i|=0;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),r=this.getWhitespacesCount()-1;if(n<0)return[];var e=[];for(var o=n;o<=r;o++){var s=this.getVerticalOffsetForWhitespaceIndex(o),u=this.getHeightForWhitespaceIndex(o);if(s>=i)break;e.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:s,height:u})}return e};t.prototype.getWhitespaces=function(){return this._checkPendingChanges(),this._arr.slice(0)};t.prototype.getWhitespacesCount=function(){return this._checkPendingChanges(),this._arr.length};t.prototype.getIdForWhitespaceIndex=function(t){return this._checkPendingChanges(),t|=0,this._arr[t].id};t.prototype.getAfterLineNumberForWhitespaceIndex=function(t){return this._checkPendingChanges(),t|=0,this._arr[t].afterLineNumber};t.prototype.getHeightForWhitespaceIndex=function(t){return this._checkPendingChanges(),t|=0,this._arr[t].height};return t}();fI.INSTANCE_COUNT=0;var lI=function(){function t(t,i,n,r){(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),(r|=0)<0&&(r=0),this.width=t,this.contentWidth=i,this.scrollWidth=Math.max(t,i),this.height=n,this.contentHeight=r,this.scrollHeight=Math.max(n,r)}t.prototype.equals=function(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight};return t}();var dI=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._onDidContentSizeChange=r._register(new Ln),r.onDidContentSizeChange=r._onDidContentSizeChange.event,r._dimensions=new lI(0,0,0,0),r._scrollable=r._register(new Dk({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:n})),r.onDidScroll=r._scrollable.onScroll;return r}i.prototype.getScrollable=function(){return this._scrollable};i.prototype.setSmoothScrollDuration=function(t){this._scrollable.setSmoothScrollDuration(t)};i.prototype.validateScrollPosition=function(t){return this._scrollable.validateScrollPosition(t)};i.prototype.getScrollDimensions=function(){return this._dimensions};i.prototype.setScrollDimensions=function(t){if(this._dimensions.equals(t))return;var i=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);var n=i.contentWidth!==t.contentWidth,r=i.contentHeight!==t.contentHeight;(n||r)&&this._onDidContentSizeChange.fire(new US(i.contentWidth,i.contentHeight,t.contentWidth,t.contentHeight))};i.prototype.getFutureScrollPosition=function(){return this._scrollable.getFutureScrollPosition()};i.prototype.getCurrentScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()};i.prototype.setScrollPositionNow=function(t){this._scrollable.setScrollPositionNow(t)};i.prototype.setScrollPositionSmooth=function(t){this._scrollable.setScrollPositionSmooth(t)};i.prototype.hasPendingScrollAnimation=function(){return this._scrollable.hasPendingScrollAnimation()};return i}(Cn);var vI=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._configuration=i;var o=e._configuration.options,s=o.get(145),u=o.get(84);e._linesLayout=new fI(n,o.get(67),u.top,u.bottom),e._maxLineWidth=0,e._overlayWidgetsMinWidth=0,e._scrollable=e._register(new dI(0,r)),e._configureSmoothScrollDuration(),e._scrollable.setScrollDimensions(new lI(s.contentWidth,0,s.height,0)),e.onDidScroll=e._scrollable.onDidScroll,e.onDidContentSizeChange=e._scrollable.onDidContentSizeChange,e._updateHeight();return e}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.getScrollable=function(){return this._scrollable.getScrollable()};i.prototype.onHeightMaybeChanged=function(){this._updateHeight()};i.prototype._configureSmoothScrollDuration=function(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?125:0)};i.prototype.onConfigurationChanged=function(t){var i=this._configuration.options;if(t.hasChanged(67)&&this._linesLayout.setLineHeight(i.get(67)),t.hasChanged(84)){var n=i.get(84);this._linesLayout.setPadding(n.top,n.bottom)}if(t.hasChanged(145)){var n=i.get(145),r=n.contentWidth,e=n.height,o=this._scrollable.getScrollDimensions(),s=o.contentWidth;this._scrollable.setScrollDimensions(new lI(r,o.contentWidth,e,this._getContentHeight(r,e,s)))}else this._updateHeight();t.hasChanged(114)&&this._configureSmoothScrollDuration()};i.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t)};i.prototype.onLinesDeleted=function(t,i){this._linesLayout.onLinesDeleted(t,i)};i.prototype.onLinesInserted=function(t,i){this._linesLayout.onLinesInserted(t,i)};i.prototype._getHorizontalScrollbarHeight=function(t,i){var n=this._configuration.options.get(103);return n.horizontal===2||t>=i?0:n.horizontalScrollbarSize};i.prototype._getContentHeight=function(t,i,n){var r=this._configuration.options;var e=this._linesLayout.getLinesTotalHeight();return r.get(105)?e+=Math.max(0,i-r.get(67)-r.get(84).bottom):r.get(103).ignoreHorizontalScrollbarInContentHeight||(e+=this._getHorizontalScrollbarHeight(t,n)),e};i.prototype._updateHeight=function(){var t=this._scrollable.getScrollDimensions(),i=t.width,n=t.height,r=t.contentWidth;this._scrollable.setScrollDimensions(new lI(i,t.contentWidth,n,this._getContentHeight(i,n,r)))};i.prototype.getCurrentViewport=function(){var t=this._scrollable.getScrollDimensions(),i=this._scrollable.getCurrentScrollPosition();return new Zg(i.scrollTop,i.scrollLeft,t.width,t.height)};i.prototype.getFutureViewport=function(){var t=this._scrollable.getScrollDimensions(),i=this._scrollable.getFutureScrollPosition();return new Zg(i.scrollTop,i.scrollLeft,t.width,t.height)};i.prototype._computeContentWidth=function(){var t=this._configuration.options,i=this._maxLineWidth,n=t.get(146),r=t.get(50),e=t.get(145);if(n.isViewportWrapping){var o=t.get(73);return i>e.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?i+e.verticalScrollbarWidth:i}{var o=t.get(104)*r.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+o+e.verticalScrollbarWidth,s,this._overlayWidgetsMinWidth)}};i.prototype.setMaxLineWidth=function(t){this._maxLineWidth=t,this._updateContentWidth()};i.prototype.setOverlayWidgetsMinWidth=function(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()};i.prototype._updateContentWidth=function(){var t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new lI(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()};i.prototype.saveState=function(){var t=this._scrollable.getFutureScrollPosition(),i=t.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i);return{scrollTop:i,scrollTopWithoutViewZones:i-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:t.scrollLeft}};i.prototype.changeWhitespace=function(t){var i=this._linesLayout.changeWhitespace(t);return i&&this.onHeightMaybeChanged(),i};i.prototype.getVerticalOffsetForLineNumber=function(t,i){if(i===void 0){i=!1}return this._linesLayout.getVerticalOffsetForLineNumber(t,i)};i.prototype.getVerticalOffsetAfterLineNumber=function(t,i){if(i===void 0){i=!1}return this._linesLayout.getVerticalOffsetAfterLineNumber(t,i)};i.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)};i.prototype.isInTopPadding=function(t){return this._linesLayout.isInTopPadding(t)};i.prototype.isInBottomPadding=function(t){return this._linesLayout.isInBottomPadding(t)};i.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)};i.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)};i.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)};i.prototype.getLinesViewportDataAtScrollTop=function(t){var i=this._scrollable.getScrollDimensions();return t+i.height>i.scrollHeight&&(t=i.scrollHeight-i.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+i.height)};i.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)};i.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()};i.prototype.getContentWidth=function(){return this._scrollable.getScrollDimensions().contentWidth};i.prototype.getScrollWidth=function(){return this._scrollable.getScrollDimensions().scrollWidth};i.prototype.getContentHeight=function(){return this._scrollable.getScrollDimensions().contentHeight};i.prototype.getScrollHeight=function(){return this._scrollable.getScrollDimensions().scrollHeight};i.prototype.getCurrentScrollLeft=function(){return this._scrollable.getCurrentScrollPosition().scrollLeft};i.prototype.getCurrentScrollTop=function(){return this._scrollable.getCurrentScrollPosition().scrollTop};i.prototype.validateScrollPosition=function(t){return this._scrollable.validateScrollPosition(t)};i.prototype.setScrollPosition=function(t,i){i===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)};i.prototype.hasPendingScrollAnimation=function(){return this._scrollable.hasPendingScrollAnimation()};i.prototype.deltaScrollNow=function(t,i){var n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+t,scrollTop:n.scrollTop+i})};return i}(Cn);var AI=function(){function t(t,i,n,r,e){this.editorId=t,this.model=i,this.configuration=n,this._linesCollection=r,this._coordinatesConverter=e,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}t.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null};t.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()};t.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()};t.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()};t.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()};t.prototype._getOrCreateViewModelDecoration=function(t){var i=t.id;var n=this._decorationsCache[i];if(!n){var r=t.range,e=t.options;var o=void 0;if(e.isWholeLine){var s=this._coordinatesConverter.convertModelPositionToViewPosition(new qr(r.startLineNumber,1),0,!1,!0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new qr(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);o=new Zr(s.lineNumber,s.column,u.lineNumber,u.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(r,1);n=new ew(o,e),this._decorationsCache[i]=n}return n};t.prototype.getMinimapDecorationsInRange=function(t){return this._getDecorationsInRange(t,!0,!1).decorations};t.prototype.getDecorationsViewportData=function(t){var i=this._cachedModelDecorationsResolver!==null;return i=i&&t.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(t,!1,!1),this._cachedModelDecorationsResolverViewRange=t),this._cachedModelDecorationsResolver};t.prototype.getInlineDecorationsOnLine=function(t,i,n){if(i===void 0){i=!1}if(n===void 0){n=!1}var r=new Zr(t,this._linesCollection.getViewLineMinColumn(t),t,this._linesCollection.getViewLineMaxColumn(t));return this._getDecorationsInRange(r,i,n).inlineDecorations[0]};t.prototype._getDecorationsInRange=function(t,i,n){var r=this._linesCollection.getDecorationsInRange(t,this.editorId,Wi(this.configuration.options),i,n),e=t.startLineNumber,o=t.endLineNumber,s=[];var u=0;var a=[];for(var c=e;c<=o;c++)a[c-e]=[];for(var h=0,f=r.length;h<f;h++){var l=r[h],d=l.options;if(!gI(this.model,l))continue;var v=this._getOrCreateViewModelDecoration(l),A=v.range;if(s[u++]=v,d.inlineClassName){var g=new nw(A,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),w=Math.max(e,A.startLineNumber),p=Math.min(o,A.endLineNumber);for(var m=w;m<=p;m++)a[m-e].push(g)}if(d.beforeContentClassName&&e<=A.startLineNumber&&A.startLineNumber<=o){var g=new nw(new Zr(A.startLineNumber,A.startColumn,A.startLineNumber,A.startColumn),d.beforeContentClassName,1);a[A.startLineNumber-e].push(g)}if(d.afterContentClassName&&e<=A.endLineNumber&&A.endLineNumber<=o){var g=new nw(new Zr(A.endLineNumber,A.endColumn,A.endLineNumber,A.endColumn),d.afterContentClassName,2);a[A.endLineNumber-e].push(g)}}return{decorations:s,inlineDecorations:a}};return t}();function gI(t,i){return(!i.options.hideInCommentTokens||!wI(t,i))&&(!i.options.hideInStringTokens||!pI(t,i))}function wI(t,i){return mI(t,i.range,(function(t){return t===1}))}function pI(t,i){return mI(t,i.range,(function(t){return t===2}))}function mI(t,i,n){for(var r=i.startLineNumber;r<=i.endLineNumber;r++){var e=t.tokenization.getLineTokens(r),o=r===i.startLineNumber,s=r===i.endLineNumber;var u=o?e.findTokenIndexAtOffset(i.startColumn-1):0;for(;u<e.getCount()&&!(s&&e.getStartOffset(u)>i.endColumn-1);){if(!n(e.getStandardTokenType(u)))return!1;u++}}return!0}function bI(t,i){return t===null?i?kI.INSTANCE:xI.INSTANCE:new yI(t,i)}var yI=function(){function t(t,i){this._projectionData=t,this._isVisible=i}t.prototype.isVisible=function(){return this._isVisible};t.prototype.setVisible=function(t){return this._isVisible=t,this};t.prototype.getProjectionData=function(){return this._projectionData};t.prototype.getViewLineCount=function(){return this._isVisible?this._projectionData.getOutputLineCount():0};t.prototype.getViewLineContent=function(t,i,n){var r=this;this._assertVisible();var e=n>0?this._projectionData.breakOffsets[n-1]:0,o=this._projectionData.breakOffsets[n];var s;if(this._projectionData.injectionOffsets!==null){var u=this._projectionData.injectionOffsets.map((function(t,i){return new dD(0,0,t+1,r._projectionData.injectionOptions[i],0)}));s=dD.applyInjectedText(t.getLineContent(i),u).substring(e,o)}else s=t.getValueInRange({startLineNumber:i,startColumn:e+1,endLineNumber:i,endColumn:o+1});return n>0&&(s=BI(this._projectionData.wrappedTextIndentLength)+s),s};t.prototype.getViewLineLength=function(t,i,n){return this._assertVisible(),this._projectionData.getLineLength(n)};t.prototype.getViewLineMinColumn=function(t,i,n){return this._assertVisible(),this._projectionData.getMinOutputOffset(n)+1};t.prototype.getViewLineMaxColumn=function(t,i,n){return this._assertVisible(),this._projectionData.getMaxOutputOffset(n)+1};t.prototype.getViewLineData=function(t,i,n){var r=new Array;return this.getViewLinesData(t,i,n,1,0,[!0],r),r[0]};t.prototype.getViewLinesData=function(t,i,n,r,e,o,s){this._assertVisible();var u=this._projectionData,a=u.injectionOffsets,c=u.injectionOptions;var h,f=null;if(a){f=[];var l=0,d=0;for(var v=0;v<u.getOutputLineCount();v++){var A=new Array;f[v]=A;var g=v>0?u.breakOffsets[v-1]:0,w=u.breakOffsets[v];for(;d<a.length;){var p=c[d].content.length,m=a[d]+l,b=m+p;if(m>w)break;if(g<b){var y=c[d];if(y.inlineClassName){var k=v>0?u.wrappedTextIndentLength:0,x=k+Math.max(m-g,0),E=k+Math.min(b-g,w-g);x!==E&&A.push(new rw(x,E,y.inlineClassName,y.inlineClassNameAffectsLetterSpacing))}}if(!(b<=w))break;l+=p,d++}}}h=a?t.tokenization.getLineTokens(i).withInserted(a.map((function(t,i){return{offset:t,text:c[i].content,tokenMetadata:Og.defaultTokenMetadata}}))):t.tokenization.getLineTokens(i);for(var l=n;l<n+r;l++){var d=e+l-n;o[d]?s[d]=this._getViewLineData(h,f?f[l]:null,l):s[d]=null}};t.prototype._getViewLineData=function(t,i,n){this._assertVisible();var r=this._projectionData,e=n>0?r.wrappedTextIndentLength:0,o=n>0?r.breakOffsets[n-1]:0,s=r.breakOffsets[n],u=t.sliceAndInflate(o,s,e);var a=u.getLineContent();n>0&&(a=BI(r.wrappedTextIndentLength)+a);var c=this._projectionData.getMinOutputOffset(n)+1,h=a.length+1,f=n+1<this.getViewLineCount(),l=n===0?0:r.breakOffsetsVisibleColumn[n-1];return new tw(a,f,c,h,l,u,i)};t.prototype.getModelColumnOfViewPosition=function(t,i){return this._assertVisible(),this._projectionData.translateToInputOffset(t,i-1)+1};t.prototype.getViewPositionOfModelPosition=function(t,i,n){if(n===void 0){n=2}return this._assertVisible(),this._projectionData.translateToOutputPosition(i-1,n).toPosition(t)};t.prototype.getViewLineNumberOfModelPosition=function(t,i){return this._assertVisible(),t+this._projectionData.translateToOutputPosition(i-1).outputLineIndex};t.prototype.normalizePosition=function(t,i,n){var r=i.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,i.column-1,n).toPosition(r)};t.prototype.getInjectedTextAt=function(t,i){return this._projectionData.getInjectedText(t,i-1)};t.prototype._assertVisible=function(){if(!this._isVisible)throw new Error("Not supported")};return t}();var kI=function(){function t(){}t.prototype.isVisible=function(){return!0};t.prototype.setVisible=function(t){return t?this:xI.INSTANCE};t.prototype.getProjectionData=function(){return null};t.prototype.getViewLineCount=function(){return 1};t.prototype.getViewLineContent=function(t,i,n){return t.getLineContent(i)};t.prototype.getViewLineLength=function(t,i,n){return t.getLineLength(i)};t.prototype.getViewLineMinColumn=function(t,i,n){return t.getLineMinColumn(i)};t.prototype.getViewLineMaxColumn=function(t,i,n){return t.getLineMaxColumn(i)};t.prototype.getViewLineData=function(t,i,n){var r=t.tokenization.getLineTokens(i),e=r.getLineContent();return new tw(e,!1,1,e.length+1,0,r.inflate(),null)};t.prototype.getViewLinesData=function(t,i,n,r,e,o,s){o[e]?s[e]=this.getViewLineData(t,i,0):s[e]=null};t.prototype.getModelColumnOfViewPosition=function(t,i){return i};t.prototype.getViewPositionOfModelPosition=function(t,i){return new qr(t,i)};t.prototype.getViewLineNumberOfModelPosition=function(t,i){return t};t.prototype.normalizePosition=function(t,i,n){return i};t.prototype.getInjectedTextAt=function(t,i){return null};return t}();kI.INSTANCE=new kI;var xI=function(){function t(){}t.prototype.isVisible=function(){return!1};t.prototype.setVisible=function(t){return t?kI.INSTANCE:this};t.prototype.getProjectionData=function(){return null};t.prototype.getViewLineCount=function(){return 0};t.prototype.getViewLineContent=function(t,i,n){throw new Error("Not supported")};t.prototype.getViewLineLength=function(t,i,n){throw new Error("Not supported")};t.prototype.getViewLineMinColumn=function(t,i,n){throw new Error("Not supported")};t.prototype.getViewLineMaxColumn=function(t,i,n){throw new Error("Not supported")};t.prototype.getViewLineData=function(t,i,n){throw new Error("Not supported")};t.prototype.getViewLinesData=function(t,i,n,r,e,o,s){throw new Error("Not supported")};t.prototype.getModelColumnOfViewPosition=function(t,i){throw new Error("Not supported")};t.prototype.getViewPositionOfModelPosition=function(t,i){throw new Error("Not supported")};t.prototype.getViewLineNumberOfModelPosition=function(t,i){throw new Error("Not supported")};t.prototype.normalizePosition=function(t,i,n){throw new Error("Not supported")};t.prototype.getInjectedTextAt=function(t,i){throw new Error("Not supported")};return t}();xI.INSTANCE=new xI;var EI=[""];function BI(t){if(t>=EI.length)for(var i=1;i<=t;i++)EI[i]=CI(i);return EI[t]}function CI(t){return new Array(t+1).join(" ")}var DI=function(){function t(t,i,n,r,e,o,s,u,a,c){this._editorId=t,this.model=i,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=n,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=e,this.tabSize=o,this.wrappingStrategy=s,this.wrappingColumn=u,this.wrappingIndent=a,this.wordBreak=c,this._constructLines(!0,null)}t.prototype.dispose=function(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])};t.prototype.createCoordinatesConverter=function(){return new FI(this)};t.prototype._constructLines=function(t,i){var n=this;this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));var r=this.model.getLinesContent(),e=this.model.getInjectedTextDecorations(this._editorId),o=r.length,s=this.createLineBreaksComputer(),u=new tt(dD.fromDecorations(e));var a=function(t){var n=u.takeWhile((function(i){return i.lineNumber===t+1}));s.addRequest(r[t],n,i?i[t]:null)};for(var c=0;c<o;c++){a(c)}var h=s.finalize(),f=[],l=this.hiddenAreasDecorationIds.map((function(t){return n.model.getDecorationRange(t)})).sort(Zr.compareRangesUsingStarts);var d=1,v=0,A=-1,g=A+1<l.length?v+1:o+2;for(var c=0;c<o;c++){var w=c+1;w===g&&(A++,d=l[A].startLineNumber,v=l[A].endLineNumber,g=A+1<l.length?v+1:o+2);var p=w>=d&&w<=v,m=bI(h[c],!p);f[c]=m.getViewLineCount(),this.modelLineProjections[c]=m}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new uv(f)};t.prototype.getHiddenAreas=function(){var t=this;return this.hiddenAreasDecorationIds.map((function(i){return t.model.getDecorationRange(i)}))};t.prototype.setHiddenAreas=function(t){var i=this;var n=function(t){if(t.length===0)return[];var i=t.slice();i.sort(Zr.compareRangesUsingStarts);var n=[];var r=i[0].startLineNumber,e=i[0].endLineNumber;for(var o=1,s=i.length;o<s;o++){var u=i[o];u.startLineNumber>e+1?(n.push(new Zr(r,1,e,1)),r=u.startLineNumber,e=u.endLineNumber):u.endLineNumber>e&&(e=u.endLineNumber)}return n.push(new Zr(r,1,e,1)),n}(t.map((function(t){return i.model.validateRange(t)}))),r=this.hiddenAreasDecorationIds.map((function(t){return i.model.getDecorationRange(t)})).sort(Zr.compareRangesUsingStarts);if(n.length===r.length){var e=!1;for(var o=0;o<n.length;o++)if(!n[o].equalsRange(r[o])){e=!0;break}if(!e)return!1}var s=n.map((function(t){return{range:t,options:iS.EMPTY}}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);var u=n;var a=1,c=0,h=-1,f=h+1<u.length?c+1:this.modelLineProjections.length+2,l=!1;for(var e=0;e<this.modelLineProjections.length;e++){var o=e+1;o===f&&(h++,a=u[h].startLineNumber,c=u[h].endLineNumber,f=h+1<u.length?c+1:this.modelLineProjections.length+2);var d=!1;if(o>=a&&o<=c?this.modelLineProjections[e].isVisible()&&(this.modelLineProjections[e]=this.modelLineProjections[e].setVisible(!1),d=!0):(l=!0,this.modelLineProjections[e].isVisible()||(this.modelLineProjections[e]=this.modelLineProjections[e].setVisible(!0),d=!0)),d){var v=this.modelLineProjections[e].getViewLineCount();this.projectedModelLineLineCounts.setValue(e,v)}}return l||this.setHiddenAreas([]),!0};t.prototype.modelPositionIsVisible=function(t,i){return!(t<1||t>this.modelLineProjections.length)&&this.modelLineProjections[t-1].isVisible()};t.prototype.getModelLineViewLineCount=function(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()};t.prototype.setTabSize=function(t){return this.tabSize!==t&&(this.tabSize=t,this._constructLines(!1,null),!0)};t.prototype.setWrappingSettings=function(t,i,n,r,e){var o=this.fontInfo.equals(t),s=this.wrappingStrategy===i,u=this.wrappingColumn===n,a=this.wrappingIndent===r,c=this.wordBreak===e;if(o&&s&&u&&a&&c)return!1;var h=o&&s&&!u&&a&&c;this.fontInfo=t,this.wrappingStrategy=i,this.wrappingColumn=n,this.wrappingIndent=r,this.wordBreak=e;var f=null;if(h){f=[];for(var l=0,d=this.modelLineProjections.length;l<d;l++)f[l]=this.modelLineProjections[l].getProjectionData()}return this._constructLines(!1,f),!0};t.prototype.createLineBreaksComputer=function(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)};t.prototype.onModelFlushed=function(){this._constructLines(!0,null)};t.prototype.onModelLinesDeleted=function(t,i,n){if(!t||t<=this._validModelVersionId)return null;var r=i===1?1:this.projectedModelLineLineCounts.getPrefixSum(i-1)+1,e=this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections.splice(i-1,n-i+1),this.projectedModelLineLineCounts.removeValues(i-1,n-i+1),new SS(r,e)};t.prototype.onModelLinesInserted=function(t,i,n,r){if(!t||t<=this._validModelVersionId)return null;var e=i>2&&!this.modelLineProjections[i-2].isVisible(),o=i===1?1:this.projectedModelLineLineCounts.getPrefixSum(i-1)+1;var s=0;var u=[],a=[];for(var c=0,h=r.length;c<h;c++){var f=bI(r[c],!e);u.push(f);var l=f.getViewLineCount();s+=l,a[c]=l}return this.modelLineProjections=this.modelLineProjections.slice(0,i-1).concat(u).concat(this.modelLineProjections.slice(i-1)),this.projectedModelLineLineCounts.insertValues(i-1,a),new IS(o,o+s-1)};t.prototype.onModelLineChanged=function(t,i,n){if(t!==null&&t<=this._validModelVersionId)return[!1,null,null,null];var r=i-1,e=this.modelLineProjections[r].getViewLineCount(),o=bI(n,this.modelLineProjections[r].isVisible());this.modelLineProjections[r]=o;var s=this.modelLineProjections[r].getViewLineCount();var u=!1,a=0,c=-1,h=0,f=-1,l=0,d=-1;return e>s?(a=this.projectedModelLineLineCounts.getPrefixSum(i-1)+1,c=a+s-1,l=c+1,d=l+(e-s)-1,u=!0):e<s?(a=this.projectedModelLineLineCounts.getPrefixSum(i-1)+1,c=a+e-1,h=c+1,f=h+(s-e)-1,u=!0):(a=this.projectedModelLineLineCounts.getPrefixSum(i-1)+1,c=a+s-1),this.projectedModelLineLineCounts.setValue(r,s),[u,a<=c?new FS(a,c-a+1):null,h<=f?new IS(h,f):null,l<=d?new SS(l,d):null]};t.prototype.acceptVersionId=function(t){this._validModelVersionId=t,this.modelLineProjections.length!==1||this.modelLineProjections[0].isVisible()||this.setHiddenAreas([])};t.prototype.getViewLineCount=function(){return this.projectedModelLineLineCounts.getTotalSum()};t.prototype._toValidViewLineNumber=function(t){if(t<1)return 1;var i=this.getViewLineCount();return t>i?i:0|t};t.prototype.getActiveIndentGuide=function(t,i,n){t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i),n=this._toValidViewLineNumber(n);var r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),e=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),o=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),s=this.model.guides.getActiveIndentGuide(r.lineNumber,e.lineNumber,o.lineNumber),u=this.convertModelPositionToViewPosition(s.startLineNumber,1),a=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:u.lineNumber,endLineNumber:a.lineNumber,indent:s.indent}};t.prototype.getViewLineInfo=function(t){t=this._toValidViewLineNumber(t);var i=this.projectedModelLineLineCounts.getIndexOf(t-1),n=i.index,r=i.remainder;return new MI(n+1,r)};t.prototype.getMinColumnOfViewLine=function(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)};t.prototype.getMaxColumnOfViewLine=function(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)};t.prototype.getModelStartPositionOfViewLine=function(t){var i=this.modelLineProjections[t.modelLineNumber-1],n=i.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),r=i.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,n);return new qr(t.modelLineNumber,r)};t.prototype.getModelEndPositionOfViewLine=function(t){var i=this.modelLineProjections[t.modelLineNumber-1],n=i.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),r=i.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,n);return new qr(t.modelLineNumber,r)};t.prototype.getViewLineInfosGroupedByModelRanges=function(t,i){var n=this.getViewLineInfo(t),r=this.getViewLineInfo(i),e=new Array;var o=this.getModelStartPositionOfViewLine(n),s=new Array;for(var u=n.modelLineNumber;u<=r.modelLineNumber;u++){var a=this.modelLineProjections[u-1];if(a.isVisible()){var c=u===n.modelLineNumber?n.modelLineWrappedLineIdx:0,h=u===r.modelLineNumber?r.modelLineWrappedLineIdx+1:a.getViewLineCount();for(var f=c;f<h;f++)s.push(new MI(u,f))}if(!a.isVisible()&&o){var l=new qr(u-1,this.model.getLineMaxColumn(u-1)+1),h=Zr.fromPositions(o,l);e.push(new _I(h,s)),s=[],o=null}else a.isVisible()&&!o&&(o=new qr(u,1))}if(o){var u=Zr.fromPositions(o,this.getModelEndPositionOfViewLine(r));e.push(new _I(u,s))}return e};t.prototype.getViewLinesBracketGuides=function(t,i,n,r){var e=this;var o=n?this.convertViewPositionToModelPosition(n.lineNumber,n.column):null,s=[];for(var u=0,a=this.getViewLineInfosGroupedByModelRanges(t,i);u<a.length;u++){var c=a[u];var h=c.modelRange.startLineNumber,f=this.model.guides.getLinesBracketGuides(h,c.modelRange.endLineNumber,o,r);var l=function(t){var i=f[t.modelLineNumber-h].map((function(i){if(i.forWrappedLinesAfterColumn!==-1&&e.modelLineProjections[t.modelLineNumber-1].getViewPositionOfModelPosition(0,i.forWrappedLinesAfterColumn).lineNumber>=t.modelLineWrappedLineIdx||i.forWrappedLinesBeforeOrAtColumn!==-1&&e.modelLineProjections[t.modelLineNumber-1].getViewPositionOfModelPosition(0,i.forWrappedLinesBeforeOrAtColumn).lineNumber<t.modelLineWrappedLineIdx)return;if(!i.horizontalLine)return i;var n=-1;if(i.column!==-1){var r=e.modelLineProjections[t.modelLineNumber-1].getViewPositionOfModelPosition(0,i.column);if(r.lineNumber===t.modelLineWrappedLineIdx)n=r.column;else if(r.lineNumber<t.modelLineWrappedLineIdx)n=e.getMinColumnOfViewLine(t);else if(r.lineNumber>t.modelLineWrappedLineIdx)return}var o=e.convertModelPositionToViewPosition(t.modelLineNumber,i.horizontalLine.endColumn),s=e.modelLineProjections[t.modelLineNumber-1].getViewPositionOfModelPosition(0,i.horizontalLine.endColumn);return s.lineNumber===t.modelLineWrappedLineIdx?new tC(i.visibleColumn,n,i.className,new iC(i.horizontalLine.top,o.column),-1,-1):s.lineNumber<t.modelLineWrappedLineIdx||i.visibleColumn!==-1?void 0:new tC(i.visibleColumn,n,i.className,new iC(i.horizontalLine.top,e.getMaxColumnOfViewLine(t)),-1,-1)}));s.push(i.filter((function(t){return!!t})))};for(var d=0,v=c.viewLines;d<v.length;d++){var A=v[d];l(A)}}return s};t.prototype.getViewLinesIndentGuides=function(t,i){t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);var n=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMaxColumn(i));var e=[];var o=[],s=[],u=n.lineNumber-1,a=r.lineNumber-1;var c=null;for(var h=u;h<=a;h++){var f=this.modelLineProjections[h];if(f.isVisible()){var l=f.getViewLineNumberOfModelPosition(0,h===u?n.column:1),d=f.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(h+1)),v=d-l+1;var A=0;v>1&&f.getViewLineMinColumn(this.model,h+1,d)===1&&(A=l===0?1:2),o.push(v),s.push(A),c===null&&(c=new qr(h+1,0))}else c!==null&&(e=e.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,h)),c=null)}c!==null&&(e=e.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,r.lineNumber)),c=null);var g=i-t+1,w=new Array(g);var p=0;for(var h=0,f=e.length;h<f;h++){var l=e[h];var d=Math.min(g-p,o[h]),v=s[h];var A=void 0;A=v===2?0:v===1?1:d;for(var m=0;m<d;m++)m===A&&(l=0),w[p++]=l}return w};t.prototype.getViewLineContent=function(t){var i=this.getViewLineInfo(t);return this.modelLineProjections[i.modelLineNumber-1].getViewLineContent(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)};t.prototype.getViewLineLength=function(t){var i=this.getViewLineInfo(t);return this.modelLineProjections[i.modelLineNumber-1].getViewLineLength(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)};t.prototype.getViewLineMinColumn=function(t){var i=this.getViewLineInfo(t);return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)};t.prototype.getViewLineMaxColumn=function(t){var i=this.getViewLineInfo(t);return this.modelLineProjections[i.modelLineNumber-1].getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)};t.prototype.getViewLineData=function(t){var i=this.getViewLineInfo(t);return this.modelLineProjections[i.modelLineNumber-1].getViewLineData(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)};t.prototype.getViewLinesData=function(t,i,n){t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);var r=this.projectedModelLineLineCounts.getIndexOf(t-1);var e=t;var o=r.index,s=r.remainder,u=[];for(var a=o,c=this.model.getLineCount();a<c;a++){var h=this.modelLineProjections[a];if(!h.isVisible())continue;var f=a===o?s:0;var l=h.getViewLineCount()-f,d=!1;if(e+l>i&&(d=!0,l=i-e+1),h.getViewLinesData(this.model,a+1,f,l,e-t,n,u),e+=l,d)break}return u};t.prototype.validateViewPosition=function(t,i,n){t=this._toValidViewLineNumber(t);var r=this.projectedModelLineLineCounts.getIndexOf(t-1),e=r.index,o=r.remainder,s=this.modelLineProjections[e],u=s.getViewLineMinColumn(this.model,e+1,o),a=s.getViewLineMaxColumn(this.model,e+1,o);i<u&&(i=u),i>a&&(i=a);var c=s.getModelColumnOfViewPosition(o,i);return this.model.validatePosition(new qr(e+1,c)).equals(n)?new qr(t,i):this.convertModelPositionToViewPosition(n.lineNumber,n.column)};t.prototype.validateViewRange=function(t,i){var n=this.validateViewPosition(t.startLineNumber,t.startColumn,i.getStartPosition()),r=this.validateViewPosition(t.endLineNumber,t.endColumn,i.getEndPosition());return new Zr(n.lineNumber,n.column,r.lineNumber,r.column)};t.prototype.convertViewPositionToModelPosition=function(t,i){var n=this.getViewLineInfo(t),r=this.modelLineProjections[n.modelLineNumber-1].getModelColumnOfViewPosition(n.modelLineWrappedLineIdx,i);return this.model.validatePosition(new qr(n.modelLineNumber,r))};t.prototype.convertViewRangeToModelRange=function(t){var i=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),n=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new Zr(i.lineNumber,i.column,n.lineNumber,n.column)};t.prototype.convertModelPositionToViewPosition=function(t,i,n,r,e){if(n===void 0){n=2}if(r===void 0){r=!1}if(e===void 0){e=!1}var o=this.model.validatePosition(new qr(t,i)),s=o.lineNumber,u=o.column;var a=s-1,c=!1;if(e)for(;a<this.modelLineProjections.length&&!this.modelLineProjections[a].isVisible();)a++,c=!0;else for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,c=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new qr(r?0:1,1);var h=1+this.projectedModelLineLineCounts.getPrefixSum(a);var f;return f=c?e?this.modelLineProjections[a].getViewPositionOfModelPosition(h,1,n):this.modelLineProjections[a].getViewPositionOfModelPosition(h,this.model.getLineMaxColumn(a+1),n):this.modelLineProjections[s-1].getViewPositionOfModelPosition(h,u,n),f};t.prototype.convertModelRangeToViewRange=function(t,i){if(i===void 0){i=0}if(t.isEmpty()){var n=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,i);return Zr.fromPositions(n)}{var n=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),r=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new Zr(n.lineNumber,n.column,r.lineNumber,r.column)}};t.prototype.getViewLineNumberOfModelPosition=function(t,i){var n=t-1;if(this.modelLineProjections[n].isVisible()){var r=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(r,i)}for(;n>0&&!this.modelLineProjections[n].isVisible();)n--;if(n===0&&!this.modelLineProjections[n].isVisible())return 1;var e=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(e,this.model.getLineMaxColumn(n+1))};t.prototype.getDecorationsInRange=function(t,i,n,r,e){var o=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),s=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(s.lineNumber-o.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new Zr(o.lineNumber,1,s.lineNumber,s.column),i,n,r,e);var u=[];var a=o.lineNumber-1,c=s.lineNumber-1;var h=null;for(var f=a;f<=c;f++)if(this.modelLineProjections[f].isVisible())h===null&&(h=new qr(f+1,f===a?o.column:1));else if(h!==null){var l=this.model.getLineMaxColumn(f);u=u.concat(this.model.getDecorationsInRange(new Zr(h.lineNumber,h.column,f,l),i,n,r)),h=null}h!==null&&(u=u.concat(this.model.getDecorationsInRange(new Zr(h.lineNumber,h.column,s.lineNumber,s.column),i,n,r)),h=null),u.sort((function(t,i){var n=Zr.compareRangesUsingStarts(t.range,i.range);return n===0?t.id<i.id?-1:t.id>i.id?1:0:n}));var d=[];var v=0,A=null;for(var g=0,w=u;g<w.length;g++){var f=w[g];var l=f.id;A!==l&&(A=l,d[v++]=f)}return d};t.prototype.getInjectedTextAt=function(t){var i=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].getInjectedTextAt(i.modelLineWrappedLineIdx,t.column)};t.prototype.normalizePosition=function(t,i){var n=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[n.modelLineNumber-1].normalizePosition(n.modelLineWrappedLineIdx,t,i)};t.prototype.getLineIndentColumn=function(t){var i=this.getViewLineInfo(t);return i.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(i.modelLineNumber):0};return t}();var MI=function(){function t(t,i){this.modelLineNumber=t,this.modelLineWrappedLineIdx=i}return t}();var _I=function(){function t(t,i){this.modelRange=t,this.viewLines=i}return t}();var FI=function(){function t(t){this._lines=t}t.prototype.convertViewPositionToModelPosition=function(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)};t.prototype.convertViewRangeToModelRange=function(t){return this._lines.convertViewRangeToModelRange(t)};t.prototype.validateViewPosition=function(t,i){return this._lines.validateViewPosition(t.lineNumber,t.column,i)};t.prototype.validateViewRange=function(t,i){return this._lines.validateViewRange(t,i)};t.prototype.convertModelPositionToViewPosition=function(t,i,n,r){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,i,n,r)};t.prototype.convertModelRangeToViewRange=function(t,i){return this._lines.convertModelRangeToViewRange(t,i)};t.prototype.modelPositionIsVisible=function(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)};t.prototype.getModelLineViewLineCount=function(t){return this._lines.getModelLineViewLineCount(t)};t.prototype.getViewLineNumberOfModelPosition=function(t,i){return this._lines.getViewLineNumberOfModelPosition(t,i)};return t}();var SI=function(){function t(t){this.model=t}t.prototype.dispose=function(){};t.prototype.createCoordinatesConverter=function(){return new II(this)};t.prototype.getHiddenAreas=function(){return[]};t.prototype.setHiddenAreas=function(t){return!1};t.prototype.setTabSize=function(t){return!1};t.prototype.setWrappingSettings=function(t,i,n,r){return!1};t.prototype.createLineBreaksComputer=function(){var t=[];return{addRequest:function(i,n,r){t.push(null)},finalize:function(){return t}}};t.prototype.onModelFlushed=function(){};t.prototype.onModelLinesDeleted=function(t,i,n){return new SS(i,n)};t.prototype.onModelLinesInserted=function(t,i,n,r){return new IS(i,n)};t.prototype.onModelLineChanged=function(t,i,n){return[!1,new FS(i,1),null,null]};t.prototype.acceptVersionId=function(t){};t.prototype.getViewLineCount=function(){return this.model.getLineCount()};t.prototype.getActiveIndentGuide=function(t,i,n){return{startLineNumber:t,endLineNumber:t,indent:0}};t.prototype.getViewLinesBracketGuides=function(t,i,n){return new Array(i-t+1).fill([])};t.prototype.getViewLinesIndentGuides=function(t,i){var n=i-t+1,r=new Array(n);for(var e=0;e<n;e++)r[e]=0;return r};t.prototype.getViewLineContent=function(t){return this.model.getLineContent(t)};t.prototype.getViewLineLength=function(t){return this.model.getLineLength(t)};t.prototype.getViewLineMinColumn=function(t){return this.model.getLineMinColumn(t)};t.prototype.getViewLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)};t.prototype.getViewLineData=function(t){var i=this.model.tokenization.getLineTokens(t),n=i.getLineContent();return new tw(n,!1,1,n.length+1,0,i.inflate(),null)};t.prototype.getViewLinesData=function(t,i,n){var r=this.model.getLineCount();t=Math.min(Math.max(1,t),r),i=Math.min(Math.max(1,i),r);var e=[];for(var o=t;o<=i;o++){var s=o-t;e[s]=n[s]?this.getViewLineData(o):null}return e};t.prototype.getDecorationsInRange=function(t,i,n,r,e){return this.model.getDecorationsInRange(t,i,n,r,e)};t.prototype.normalizePosition=function(t,i){return this.model.normalizePosition(t,i)};t.prototype.getLineIndentColumn=function(t){return this.model.getLineIndentColumn(t)};t.prototype.getInjectedTextAt=function(t){return null};return t}();var II=function(){function t(t){this._lines=t}t.prototype._validPosition=function(t){return this._lines.model.validatePosition(t)};t.prototype._validRange=function(t){return this._lines.model.validateRange(t)};t.prototype.convertViewPositionToModelPosition=function(t){return this._validPosition(t)};t.prototype.convertViewRangeToModelRange=function(t){return this._validRange(t)};t.prototype.validateViewPosition=function(t,i){return this._validPosition(i)};t.prototype.validateViewRange=function(t,i){return this._validRange(i)};t.prototype.convertModelPositionToViewPosition=function(t){return this._validPosition(t)};t.prototype.convertModelRangeToViewRange=function(t){return this._validRange(t)};t.prototype.modelPositionIsVisible=function(t){var i=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>i)};t.prototype.getModelLineViewLineCount=function(t){return 1};t.prototype.getViewLineNumberOfModelPosition=function(t,i){return t};return t}();var QI=Fv.Right;var OI=function(){function t(t){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((t+1)*QI/8))}t.prototype.reset=function(t){var i=Math.ceil((t+1)*QI/8);this.lanes.length<i?this.lanes=new Uint8Array(i):this.lanes.fill(0),this._requiredLanes=1};Object.defineProperty(t.prototype,"requiredLanes",{get:function(){return this._requiredLanes},enumerable:false,configurable:true});t.prototype.push=function(t,i,n){n&&(this.persist|=1<<t-1);for(var r=i.startLineNumber;r<=i.endLineNumber;r++){var e=QI*r+(t-1);this.lanes[e>>>3]|=1<<e%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(r))}};t.prototype.getLanesAtLine=function(t){var i=[];var n=QI*t;for(var r=0;r<QI;r++)(this.persist&1<<r||this.lanes[n>>>3]&1<<n%8)&&i.push(r+1),n++;return i.length?i:[Fv.Center]};t.prototype.countAtLine=function(t){var i=QI*t,n=0;for(var r=0;r<QI;r++)(this.persist&1<<r||this.lanes[i>>>3]&1<<i%8)&&n++,i++;return n};return t}();var NI=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;if(h=t.call(this)||this,h.languageConfigurationService=u,h._themeService=a,h._attachedView=c,h.hiddenAreasModel=new LI,h.previousHiddenAreas=[],h._editorId=i,h._configuration=n,h.model=r,h._eventDispatcher=new jS,h.onEvent=h._eventDispatcher.onEvent,h.cursorConfig=new EE(h.model.getLanguageId(),h.model.getOptions(),h._configuration,h.languageConfigurationService),h._updateConfigurationViewLineCount=h._register(new qs((function(){return h._updateConfigurationViewLineCountNow()}),0)),h._hasFocus=!1,h._viewportStart=RI.create(h.model),h.glyphLanes=new OI(0),h.model.isTooLargeForTokenization())h._lines=new SI(h.model);else{var f=h._configuration.options,l=f.get(50),d=f.get(139),v=f.get(146),A=f.get(138),g=f.get(129);h._lines=new DI(h._editorId,h.model,e,o,l,h.model.getOptions().tabSize,d,v.wrappingColumn,A,g)}h.coordinatesConverter=h._lines.createCoordinatesConverter(),h._cursor=h._register(new tI(r,h,h.coordinatesConverter,h.cursorConfig)),h.viewLayout=h._register(new vI(h._configuration,h.getLineCount(),s)),h._register(h.viewLayout.onDidScroll((function(t){t.scrollTopChanged&&h._handleVisibleLinesChanged(),t.scrollTopChanged&&h._viewportStart.invalidate(),h._eventDispatcher.emitSingleViewEvent(new OS(t)),h._eventDispatcher.emitOutgoingEvent(new YS(t.oldScrollWidth,t.oldScrollLeft,t.oldScrollHeight,t.oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop))}))),h._register(h.viewLayout.onDidContentSizeChange((function(t){h._eventDispatcher.emitOutgoingEvent(t)}))),h._decorations=new AI(h._editorId,h.model,h._configuration,h._lines,h.coordinatesConverter),h._registerModelEvents(),h._register(h._configuration.onDidChangeFast((function(t){try{var i=h._eventDispatcher.beginEmitViewEvents();h._onConfigurationChanged(i,t)}finally{h._eventDispatcher.endEmitViewEvents()}}))),h._register(vC.getInstance().onDidChange((function(){h._eventDispatcher.emitSingleViewEvent(new TS)}))),h._register(h._themeService.onDidColorThemeChange((function(t){h._invalidateDecorationsColorCache(),h._eventDispatcher.emitSingleViewEvent(new NS(t))}))),h._updateConfigurationViewLineCountNow();return h}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()};i.prototype.createLineBreaksComputer=function(){return this._lines.createLineBreaksComputer()};i.prototype.addViewEventHandler=function(t){this._eventDispatcher.addViewEventHandler(t)};i.prototype.removeViewEventHandler=function(t){this._eventDispatcher.removeViewEventHandler(t)};i.prototype._updateConfigurationViewLineCountNow=function(){this._configuration.setViewLineCount(this._lines.getViewLineCount())};i.prototype.getModelVisibleRanges=function(){var t=this.viewLayout.getLinesViewportData(),i=new Zr(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber));return this._toModelVisibleRanges(i)};i.prototype.visibleLinesStabilized=function(){var t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!0)};i.prototype._handleVisibleLinesChanged=function(){var t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!1)};i.prototype.setHasFocus=function(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new DS(t)),this._eventDispatcher.emitOutgoingEvent(new HS(!t,t))};i.prototype.onCompositionStart=function(){this._eventDispatcher.emitSingleViewEvent(new yS)};i.prototype.onCompositionEnd=function(){this._eventDispatcher.emitSingleViewEvent(new kS)};i.prototype._captureStableViewport=function(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){var t=new qr(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),i=this.coordinatesConverter.convertViewPositionToModelPosition(t);return new zI(i,this._viewportStart.startLineDelta)}return new zI(null,0)};i.prototype._onConfigurationChanged=function(t,i){var n=this._captureStableViewport(),r=this._configuration.options,e=r.get(50),o=r.get(139),s=r.get(146),u=r.get(138),a=r.get(129);this._lines.setWrappingSettings(e,o,s.wrappingColumn,u,a)&&(t.emitViewEvent(new CS),t.emitViewEvent(new _S),t.emitViewEvent(new BS(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),i.hasChanged(91)&&(this._decorations.reset(),t.emitViewEvent(new BS(null))),i.hasChanged(98)&&(this._decorations.reset(),t.emitViewEvent(new BS(null))),t.emitViewEvent(new xS(i)),this.viewLayout.onConfigurationChanged(i),n.recoverViewportStart(this.coordinatesConverter,this.viewLayout),EE.shouldRecreate(i)&&(this.cursorConfig=new EE(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))};i.prototype._registerModelEvents=function(){var t=this;this._register(this.model.onDidChangeContentOrInjectedText((function(i){try{var n=t._eventDispatcher.beginEmitViewEvents();var r=!1,e=!1;var o=i instanceof bD?i.rawContentChangedEvent.changes:i.changes,s=i instanceof bD?i.rawContentChangedEvent.versionId:null,u=t._lines.createLineBreaksComputer();for(var a=0,c=o;a<c.length;a++){var h=c[a];switch(h.changeType){case 4:for(var f=0;f<h.detail.length;f++){var l=h.detail[f];var d=h.injectedTexts[f];d&&(d=d.filter((function(i){return!i.ownerId||i.ownerId===t._editorId}))),u.addRequest(l,d,null)}break;case 2:{var f=null;h.injectedText&&(f=h.injectedText.filter((function(i){return!i.ownerId||i.ownerId===t._editorId}))),u.addRequest(h.detail,f,null);break}}}var v=u.finalize(),A=new tt(v);for(var g=0,w=o;g<w.length;g++){var p=w[g];switch(p.changeType){case 1:t._lines.onModelFlushed(),n.emitViewEvent(new CS),t._decorations.reset(),t.viewLayout.onFlushed(t.getLineCount()),r=!0;break;case 3:{var f=t._lines.onModelLinesDeleted(s,p.fromLineNumber,p.toLineNumber);f!==null&&(n.emitViewEvent(f),t.viewLayout.onLinesDeleted(f.fromLineNumber,f.toLineNumber)),r=!0;break}case 4:{var f=A.takeCount(p.detail.length),l=t._lines.onModelLinesInserted(s,p.fromLineNumber,p.toLineNumber,f);l!==null&&(n.emitViewEvent(l),t.viewLayout.onLinesInserted(l.fromLineNumber,l.toLineNumber)),r=!0;break}case 2:{var f=A.dequeue(),m=t._lines.onModelLineChanged(s,p.lineNumber,f),l=m[0],d=m[1],b=m[2],y=m[3];e=l,d&&n.emitViewEvent(d),b&&(n.emitViewEvent(b),t.viewLayout.onLinesInserted(b.fromLineNumber,b.toLineNumber)),y&&(n.emitViewEvent(y),t.viewLayout.onLinesDeleted(y.fromLineNumber,y.toLineNumber));break}}}s!==null&&t._lines.acceptVersionId(s),t.viewLayout.onHeightMaybeChanged(),!r&&e&&(n.emitViewEvent(new _S),n.emitViewEvent(new BS(null)),t._cursor.onLineMappingChanged(n),t._decorations.onLineMappingChanged())}finally{t._eventDispatcher.endEmitViewEvents()}var k=t._viewportStart.isValid;if(t._viewportStart.invalidate(),t._configuration.setModelLineCount(t.model.getLineCount()),t._updateConfigurationViewLineCountNow(),!t._hasFocus&&t.model.getAttachedEditorCount()>=2&&k){var n=t.model._getTrackedRange(t._viewportStart.modelTrackedRange);if(n){var r=t.coordinatesConverter.convertModelPositionToViewPosition(n.getStartPosition()),e=t.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber);t.viewLayout.setScrollPosition({scrollTop:e+t._viewportStart.startLineDelta},1)}}try{var n=t._eventDispatcher.beginEmitViewEvents();i instanceof bD&&n.emitOutgoingEvent(new qS(i.contentChangedEvent)),t._cursor.onModelContentChanged(n,i)}finally{t._eventDispatcher.endEmitViewEvents()}t._handleVisibleLinesChanged()}))),this._register(this.model.onDidChangeTokens((function(i){var n=[];for(var r=0,e=i.ranges.length;r<e;r++){var o=i.ranges[r],s=t.coordinatesConverter.convertModelPositionToViewPosition(new qr(o.fromLineNumber,1)).lineNumber,u=t.coordinatesConverter.convertModelPositionToViewPosition(new qr(o.toLineNumber,t.model.getLineMaxColumn(o.toLineNumber))).lineNumber;n[r]={fromLineNumber:s,toLineNumber:u}}t._eventDispatcher.emitSingleViewEvent(new RS(n)),t._eventDispatcher.emitOutgoingEvent(new $S(i))}))),this._register(this.model.onDidChangeLanguageConfiguration((function(i){t._eventDispatcher.emitSingleViewEvent(new MS),t.cursorConfig=new EE(t.model.getLanguageId(),t.model.getOptions(),t._configuration,t.languageConfigurationService),t._cursor.updateConfiguration(t.cursorConfig),t._eventDispatcher.emitOutgoingEvent(new XS(i))}))),this._register(this.model.onDidChangeLanguage((function(i){t.cursorConfig=new EE(t.model.getLanguageId(),t.model.getOptions(),t._configuration,t.languageConfigurationService),t._cursor.updateConfiguration(t.cursorConfig),t._eventDispatcher.emitOutgoingEvent(new KS(i))}))),this._register(this.model.onDidChangeOptions((function(i){if(t._lines.setTabSize(t.model.getOptions().tabSize)){try{var n=t._eventDispatcher.beginEmitViewEvents();n.emitViewEvent(new CS),n.emitViewEvent(new _S),n.emitViewEvent(new BS(null)),t._cursor.onLineMappingChanged(n),t._decorations.onLineMappingChanged(),t.viewLayout.onFlushed(t.getLineCount())}finally{t._eventDispatcher.endEmitViewEvents()}t._updateConfigurationViewLineCount.schedule()}t.cursorConfig=new EE(t.model.getLanguageId(),t.model.getOptions(),t._configuration,t.languageConfigurationService),t._cursor.updateConfiguration(t.cursorConfig),t._eventDispatcher.emitOutgoingEvent(new ZS(i))}))),this._register(this.model.onDidChangeDecorations((function(i){t._decorations.onModelDecorationsChanged(),t._eventDispatcher.emitSingleViewEvent(new BS(i)),t._eventDispatcher.emitOutgoingEvent(new VS(i))})))};i.prototype.setHiddenAreas=function(t,i){var n;this.hiddenAreasModel.setHiddenAreas(i,t);var r=this.hiddenAreasModel.getMergedRanges();if(r===this.previousHiddenAreas)return;this.previousHiddenAreas=r;var e=this._captureStableViewport();var o=!1;try{var s=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(r),o&&(s.emitViewEvent(new CS),s.emitViewEvent(new _S),s.emitViewEvent(new BS(null)),this._cursor.onLineMappingChanged(s),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());var u=(n=e.viewportStartModelPosition)===null||n===void 0?void 0:n.lineNumber;u&&r.some((function(t){return t.startLineNumber<=u&&u<=t.endLineNumber}))||e.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new PS)};i.prototype.getVisibleRangesPlusViewportAboveBelow=function(){var t=this._configuration.options.get(145),i=this._configuration.options.get(67),n=Math.max(20,Math.round(t.height/i)),r=this.viewLayout.getLinesViewportData(),e=Math.max(1,r.completelyVisibleStartLineNumber-n),o=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new Zr(e,this.getLineMinColumn(e),o,this.getLineMaxColumn(o)))};i.prototype.getVisibleRanges=function(){var t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)};i.prototype.getHiddenAreas=function(){return this._lines.getHiddenAreas()};i.prototype._toModelVisibleRanges=function(t){var i=this.coordinatesConverter.convertViewRangeToModelRange(t),n=this._lines.getHiddenAreas();if(n.length===0)return[i];var r=[];var e=0,o=i.startLineNumber,s=i.startColumn;var u=i.endLineNumber,a=i.endColumn;for(var c=0,h=n.length;c<h;c++){var f=n[c].startLineNumber,l=n[c].endLineNumber;l<o||f>u||(o<f&&(r[e++]=new Zr(o,s,f-1,this.model.getLineMaxColumn(f-1))),o=l+1,s=1)}return(o<u||o===u&&s<a)&&(r[e++]=new Zr(o,s,u,a)),r};i.prototype.getCompletelyVisibleViewRange=function(){var t=this.viewLayout.getLinesViewportData(),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new Zr(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))};i.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){var i=this.viewLayout.getLinesViewportDataAtScrollTop(t),n=i.completelyVisibleStartLineNumber,r=i.completelyVisibleEndLineNumber;return new Zr(n,this.getLineMinColumn(n),r,this.getLineMaxColumn(r))};i.prototype.saveState=function(){var t=this.viewLayout.saveState(),i=t.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(i),r=this.coordinatesConverter.convertViewPositionToModelPosition(new qr(n,this.getLineMinColumn(n))),e=this.viewLayout.getVerticalOffsetForLineNumber(n)-i;return{scrollLeft:t.scrollLeft,firstPosition:r,firstPositionDeltaTop:e}};i.prototype.reduceRestoreState=function(t){if(t.firstPosition===void 0)return this._reduceRestoreStateCompatibility(t);var i=this.model.validatePosition(t.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(i),r=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:r}};i.prototype._reduceRestoreStateCompatibility=function(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}};i.prototype.getTabSize=function(){return this.model.getOptions().tabSize};i.prototype.getLineCount=function(){return this._lines.getViewLineCount()};i.prototype.setViewport=function(t,i,n){this._viewportStart.update(this,t)};i.prototype.getActiveIndentGuide=function(t,i,n){return this._lines.getActiveIndentGuide(t,i,n)};i.prototype.getLinesIndentGuides=function(t,i){return this._lines.getViewLinesIndentGuides(t,i)};i.prototype.getBracketGuidesInRangeByLine=function(t,i,n,r){return this._lines.getViewLinesBracketGuides(t,i,n,r)};i.prototype.getLineContent=function(t){return this._lines.getViewLineContent(t)};i.prototype.getLineLength=function(t){return this._lines.getViewLineLength(t)};i.prototype.getLineMinColumn=function(t){return this._lines.getViewLineMinColumn(t)};i.prototype.getLineMaxColumn=function(t){return this._lines.getViewLineMaxColumn(t)};i.prototype.getLineFirstNonWhitespaceColumn=function(t){var i=Fo(this.getLineContent(t));return i===-1?0:i+1};i.prototype.getLineLastNonWhitespaceColumn=function(t){var i=Io(this.getLineContent(t));return i===-1?0:i+2};i.prototype.getMinimapDecorationsInRange=function(t){return this._decorations.getMinimapDecorationsInRange(t)};i.prototype.getDecorationsInViewport=function(t){return this._decorations.getDecorationsViewportData(t).decorations};i.prototype.getInjectedTextAt=function(t){return this._lines.getInjectedTextAt(t)};i.prototype.getViewportViewLineRenderingData=function(t,i){var n=this._decorations.getDecorationsViewportData(t).inlineDecorations[i-t.startLineNumber];return this._getViewLineRenderingData(i,n)};i.prototype.getViewLineRenderingData=function(t){var i=this._decorations.getInlineDecorationsOnLine(t);return this._getViewLineRenderingData(t,i)};i.prototype._getViewLineRenderingData=function(t,i){var n=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),e=this.getTabSize(),o=this._lines.getViewLineData(t);return o.inlineDecorations&&(i=__spreadArray(__spreadArray([],i,true),o.inlineDecorations.map((function(i){return i.toInlineDecoration(t)})),true)),new iw(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,n,r,o.tokens,i,e,o.startVisibleColumn)};i.prototype.getViewLineData=function(t){return this._lines.getViewLineData(t)};i.prototype.getMinimapLinesRenderingData=function(t,i,n){var r=this._lines.getViewLinesData(t,i,n);return new $g(this.getTabSize(),r)};i.prototype.getAllOverviewRulerDecorations=function(t){var i=this.model.getOverviewRulerDecorations(this._editorId,Wi(this._configuration.options)),n=new TI;for(var r=0,e=i;r<e.length;r++){var o=e[r];var s=o.options,u=s.overviewRuler;if(!u)continue;var a=u.position;if(a===0)continue;var c=u.getColor(t.value),h=this.coordinatesConverter.getViewLineNumberOfModelPosition(o.range.startLineNumber,o.range.startColumn),f=this.coordinatesConverter.getViewLineNumberOfModelPosition(o.range.endLineNumber,o.range.endColumn);n.accept(c,s.zIndex,h,f,a)}return n.asArray};i.prototype._invalidateDecorationsColorCache=function(){var t=this.model.getOverviewRulerDecorations();for(var i=0,n=t;i<n.length;i++){var r=n[i];var e=r.options.overviewRuler;e==null||e.invalidateCachedColor();var o=r.options.minimap;o==null||o.invalidateCachedColor()}};i.prototype.getValueInRange=function(t,i){var n=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(n,i)};i.prototype.getValueLengthInRange=function(t,i){var n=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueLengthInRange(n,i)};i.prototype.modifyPosition=function(t,i){var n=this.coordinatesConverter.convertViewPositionToModelPosition(t),r=this.model.modifyPosition(n,i);return this.coordinatesConverter.convertModelPositionToViewPosition(r)};i.prototype.deduceModelPositionRelativeToViewPosition=function(t,i,n){var r=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(i<0?i-=n:i+=n);var e=this.model.getOffsetAt(r)+i;return this.model.getPositionAt(e)};i.prototype.getPlainTextToCopy=function(t,i,n){var r=n?"\r\n":this.model.getEOL();(t=t.slice(0)).sort(Zr.compareRangesUsingStarts);var e=!1,o=!1;for(var s=0,u=t;s<u.length;s++){var a=u[s];a.isEmpty()?e=!0:o=!0}if(!o){if(!i)return"";var a=t.map((function(t){return t.startLineNumber}));var c="";for(var h=0;h<a.length;h++)h>0&&a[h-1]===a[h]||(c+=this.model.getLineContent(a[h])+r);return c}if(e&&i){var a=[];var c=0;for(var f=0,l=t;f<l.length;f++){var h=l[f];var d=h.startLineNumber;h.isEmpty()?d!==c&&a.push(this.model.getLineContent(d)):a.push(this.model.getValueInRange(h,n?2:0)),c=d}return a.length===1?a[0]:a}var v=[];for(var A=0,g=t;A<g.length;A++){var a=g[A];a.isEmpty()||v.push(this.model.getValueInRange(a,n?2:0))}return v.length===1?v[0]:v};i.prototype.getRichTextToCopy=function(t,i){var n=this.model.getLanguageId();if(n===Fd||t.length!==1)return null;var r=t[0];if(r.isEmpty()){if(!i)return null;var e=r.startLineNumber;r=new Zr(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}var o=this._configuration.options.get(50),s=this._getColorMap();var u;return/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===en.fontFamily?u=en.fontFamily:(u=o.fontFamily,u=u.replace(/"/g,"'"),/[,']/.test(u)||/[+ ]/.test(u)&&(u="'".concat(u,"'")),u="".concat(u,", ").concat(en.fontFamily)),{mode:n,html:'<div style="color: '.concat(s[1],";background-color: ").concat(s[2],";font-family: ").concat(u,";font-weight: ").concat(o.fontWeight,";font-size: ").concat(o.fontSize,"px;line-height: ").concat(o.lineHeight,'px;white-space: pre;">')+this._getHTMLToCopy(r,s)+"</div>"}};i.prototype._getHTMLToCopy=function(t,i){var n=t.startLineNumber,r=t.startColumn,e=t.endLineNumber,o=t.endColumn,s=this.getTabSize();var u="";for(var a=n;a<=e;a++){var c=this.model.tokenization.getLineTokens(a),h=c.getLineContent(),f=a===n?r-1:0,l=a===e?o-1:h.length;u+=h===""?"<br>":uI(h,c.inflate(),i,f,l,s,Wt)}return u};i.prototype._getColorMap=function(){var t=ye.getColorMap(),i=["#000000"];if(t)for(var n=1,r=t.length;n<r;n++)i[n]=ZA.Format.CSS.formatHex(t[n]);return i};i.prototype.getPrimaryCursorState=function(){return this._cursor.getPrimaryCursorState()};i.prototype.getLastAddedCursorIndex=function(){return this._cursor.getLastAddedCursorIndex()};i.prototype.getCursorStates=function(){return this._cursor.getCursorStates()};i.prototype.setCursorStates=function(t,i,n){var r=this;return this._withViewEventsCollector((function(e){return r._cursor.setStates(e,t,i,n)}))};i.prototype.getCursorColumnSelectData=function(){return this._cursor.getCursorColumnSelectData()};i.prototype.getCursorAutoClosedCharacters=function(){return this._cursor.getAutoClosedCharacters()};i.prototype.setCursorColumnSelectData=function(t){this._cursor.setCursorColumnSelectData(t)};i.prototype.getPrevEditOperationType=function(){return this._cursor.getPrevEditOperationType()};i.prototype.setPrevEditOperationType=function(t){this._cursor.setPrevEditOperationType(t)};i.prototype.getSelection=function(){return this._cursor.getSelection()};i.prototype.getSelections=function(){return this._cursor.getSelections()};i.prototype.getPosition=function(){return this._cursor.getPrimaryCursorState().modelState.position};i.prototype.setSelections=function(t,i,n){var r=this;if(n===void 0){n=0}this._withViewEventsCollector((function(e){return r._cursor.setSelections(e,t,i,n)}))};i.prototype.saveCursorState=function(){return this._cursor.saveState()};i.prototype.restoreCursorState=function(t){var i=this;this._withViewEventsCollector((function(n){return i._cursor.restoreState(n,t)}))};i.prototype._executeCursorEdit=function(t){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new GS):this._withViewEventsCollector(t)};i.prototype.executeEdits=function(t,i,n){var r=this;this._executeCursorEdit((function(e){return r._cursor.executeEdits(e,t,i,n)}))};i.prototype.startComposition=function(){var t=this;this._executeCursorEdit((function(i){return t._cursor.startComposition(i)}))};i.prototype.endComposition=function(t){var i=this;this._executeCursorEdit((function(n){return i._cursor.endComposition(n,t)}))};i.prototype.type=function(t,i){var n=this;this._executeCursorEdit((function(r){return n._cursor.type(r,t,i)}))};i.prototype.compositionType=function(t,i,n,r,e){var o=this;this._executeCursorEdit((function(s){return o._cursor.compositionType(s,t,i,n,r,e)}))};i.prototype.paste=function(t,i,n,r){var e=this;this._executeCursorEdit((function(o){return e._cursor.paste(o,t,i,n,r)}))};i.prototype.cut=function(t){var i=this;this._executeCursorEdit((function(n){return i._cursor.cut(n,t)}))};i.prototype.executeCommand=function(t,i){var n=this;this._executeCursorEdit((function(r){return n._cursor.executeCommand(r,t,i)}))};i.prototype.executeCommands=function(t,i){var n=this;this._executeCursorEdit((function(r){return n._cursor.executeCommands(r,t,i)}))};i.prototype.revealAllCursors=function(t,i,n){var r=this;if(n===void 0){n=!1}this._withViewEventsCollector((function(e){return r._cursor.revealAll(e,t,n,0,i,0)}))};i.prototype.revealPrimaryCursor=function(t,i,n){var r=this;if(n===void 0){n=!1}this._withViewEventsCollector((function(e){return r._cursor.revealPrimary(e,t,n,0,i,0)}))};i.prototype.revealTopMostCursor=function(t){var i=this._cursor.getTopMostViewPosition(),n=new Zr(i.lineNumber,i.column,i.lineNumber,i.column);this._withViewEventsCollector((function(i){return i.emitViewEvent(new QS(t,!1,n,null,0,!0,0))}))};i.prototype.revealBottomMostCursor=function(t){var i=this._cursor.getBottomMostViewPosition(),n=new Zr(i.lineNumber,i.column,i.lineNumber,i.column);this._withViewEventsCollector((function(i){return i.emitViewEvent(new QS(t,!1,n,null,0,!0,0))}))};i.prototype.revealRange=function(t,i,n,r,e){this._withViewEventsCollector((function(o){return o.emitViewEvent(new QS(t,!1,n,null,r,i,e))}))};i.prototype.changeWhitespace=function(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new LS),this._eventDispatcher.emitOutgoingEvent(new JS))};i.prototype._withViewEventsCollector=function(t){try{return t(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}};i.prototype.normalizePosition=function(t,i){return this._lines.normalizePosition(t,i)};i.prototype.getLineIndentColumn=function(t){return this._lines.getLineIndentColumn(t)};return i}(Cn);var RI=function(){function t(t,i,n,r,e){this._model=t,this._viewLineNumber=i,this._isValid=n,this._modelTrackedRange=r,this._startLineDelta=e}t.create=function(i){var n=i._setTrackedRange(null,new Zr(1,1,1,1),1);return new t(i,1,!1,n,0)};Object.defineProperty(t.prototype,"viewLineNumber",{get:function(){return this._viewLineNumber},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isValid",{get:function(){return this._isValid},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"modelTrackedRange",{get:function(){return this._modelTrackedRange},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"startLineDelta",{get:function(){return this._startLineDelta},enumerable:false,configurable:true});t.prototype.dispose=function(){this._model._setTrackedRange(this._modelTrackedRange,null,1)};t.prototype.update=function(t,i){var n=t.coordinatesConverter.convertViewPositionToModelPosition(new qr(i,t.getLineMinColumn(i))),r=t.model._setTrackedRange(this._modelTrackedRange,new Zr(n.lineNumber,n.column,n.lineNumber,n.column),1),e=t.viewLayout.getVerticalOffsetForLineNumber(i),o=t.viewLayout.getCurrentScrollTop();this._viewLineNumber=i,this._isValid=!0,this._modelTrackedRange=r,this._startLineDelta=o-e};t.prototype.invalidate=function(){this._isValid=!1};return t}();var TI=function(){function t(){this._asMap=Object.create(null),this.asArray=[]}t.prototype.accept=function(t,i,n,r,e){var o=this._asMap[t];if(o){var s=o.data,u=s[s.length-3],a=s[s.length-1];if(u===e&&a+1>=n)return void(r>a&&(s[s.length-1]=r));s.push(e,n,r)}else{var s=new ow(t,i,[e,n,r]);this._asMap[t]=s,this.asArray.push(s)}};return t}();var LI=function(){function t(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}t.prototype.setHiddenAreas=function(t,i){var n=this.hiddenAreas.get(t);n&&jI(n,i)||(this.hiddenAreas.set(t,i),this.shouldRecompute=!0)};t.prototype.getMergedRanges=function(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;var t=Array.from(this.hiddenAreas.values()).reduce((function(t,i){return function(t,i){var n=[];var r=0,e=0;for(;r<t.length&&e<i.length;){var o=t[r],s=i[e];if(o.endLineNumber<s.startLineNumber-1)n.push(t[r++]);else if(s.endLineNumber<o.startLineNumber-1)n.push(i[e++]);else{var u=Math.min(o.startLineNumber,s.startLineNumber),a=Math.max(o.endLineNumber,s.endLineNumber);n.push(new Zr(u,1,a,1)),r++,e++}}for(;r<t.length;)n.push(t[r++]);for(;e<i.length;)n.push(i[e++]);return n}(t,i)}),[]);return jI(this.ranges,t)||(this.ranges=t),this.ranges};return t}();function jI(t,i){if(t.length!==i.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equalsRange(i[n]))return!1;return!0}var zI=function(){function t(t,i){this.viewportStartModelPosition=t,this.startLineDelta=i}t.prototype.recoverViewportStart=function(t,i){if(!this.viewportStartModelPosition)return;var n=t.convertModelPositionToViewPosition(this.viewportStartModelPosition),r=i.getVerticalOffsetForLineNumber(n.lineNumber);i.setScrollPosition({scrollTop:r+this.startLineDelta},1)};return t}();var UI=function(){function t(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}this._entries=new Map;for(var n=0,r=t;n<r.length;n++){var e=r[n],o=e[0],s=e[1];this.set(o,s)}}t.prototype.set=function(t,i){var n=this._entries.get(t);return this._entries.set(t,i),n};t.prototype.get=function(t){return this._entries.get(t)};return t}();var HI;(function(t){t[t.Ignore=0]="Ignore",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Error=3]="Error"})(HI||(HI={})),function(t){var i="error",n="warning",r="info";t.fromValue=function(e){return e?zo(i,e)?t.Error:zo(n,e)||zo("warn",e)?t.Warning:zo(r,e)?t.Info:t.Ignore:t.Ignore},t.toString=function(e){switch(e){case t.Error:return i;case t.Warning:return n;case t.Info:return r;default:return"ignore"}}}(HI||(HI={}));var YI=HI;var JI=YI;var PI=lh("notificationService");var WI,GI=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},VI=function(t,i){return function(n,r){i(n,r,t)}};var KI=WI=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l){var d=this;var v;d=t.call(this)||this,d.languageConfigurationService=f,d._deliveryQueue=new jn,d._contributions=d._register(new DD),d._onDidDispose=d._register(new Ln),d.onDidDispose=d._onDidDispose.event,d._onDidChangeModelContent=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModelContent=d._onDidChangeModelContent.event,d._onDidChangeModelLanguage=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModelLanguage=d._onDidChangeModelLanguage.event,d._onDidChangeModelLanguageConfiguration=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModelLanguageConfiguration=d._onDidChangeModelLanguageConfiguration.event,d._onDidChangeModelOptions=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModelOptions=d._onDidChangeModelOptions.event,d._onDidChangeModelDecorations=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModelDecorations=d._onDidChangeModelDecorations.event,d._onDidChangeModelTokens=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModelTokens=d._onDidChangeModelTokens.event,d._onDidChangeConfiguration=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeConfiguration=d._onDidChangeConfiguration.event,d._onWillChangeModel=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onWillChangeModel=d._onWillChangeModel.event,d._onDidChangeModel=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeModel=d._onDidChangeModel.event,d._onDidChangeCursorPosition=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeCursorPosition=d._onDidChangeCursorPosition.event,d._onDidChangeCursorSelection=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeCursorSelection=d._onDidChangeCursorSelection.event,d._onDidAttemptReadOnlyEdit=d._register(new $I(d._contributions,d._deliveryQueue)),d.onDidAttemptReadOnlyEdit=d._onDidAttemptReadOnlyEdit.event,d._onDidLayoutChange=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidLayoutChange=d._onDidLayoutChange.event,d._editorTextFocus=d._register(new ZI({deliveryQueue:d._deliveryQueue})),d.onDidFocusEditorText=d._editorTextFocus.onDidChangeToTrue,d.onDidBlurEditorText=d._editorTextFocus.onDidChangeToFalse,d._editorWidgetFocus=d._register(new ZI({deliveryQueue:d._deliveryQueue})),d.onDidFocusEditorWidget=d._editorWidgetFocus.onDidChangeToTrue,d.onDidBlurEditorWidget=d._editorWidgetFocus.onDidChangeToFalse,d._onWillType=d._register(new $I(d._contributions,d._deliveryQueue)),d.onWillType=d._onWillType.event,d._onDidType=d._register(new $I(d._contributions,d._deliveryQueue)),d.onDidType=d._onDidType.event,d._onDidCompositionStart=d._register(new $I(d._contributions,d._deliveryQueue)),d.onDidCompositionStart=d._onDidCompositionStart.event,d._onDidCompositionEnd=d._register(new $I(d._contributions,d._deliveryQueue)),d.onDidCompositionEnd=d._onDidCompositionEnd.event,d._onDidPaste=d._register(new $I(d._contributions,d._deliveryQueue)),d.onDidPaste=d._onDidPaste.event,d._onMouseUp=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseUp=d._onMouseUp.event,d._onMouseDown=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseDown=d._onMouseDown.event,d._onMouseDrag=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseDrag=d._onMouseDrag.event,d._onMouseDrop=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseDrop=d._onMouseDrop.event,d._onMouseDropCanceled=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseDropCanceled=d._onMouseDropCanceled.event,d._onDropIntoEditor=d._register(new $I(d._contributions,d._deliveryQueue)),d.onDropIntoEditor=d._onDropIntoEditor.event,d._onContextMenu=d._register(new $I(d._contributions,d._deliveryQueue)),d.onContextMenu=d._onContextMenu.event,d._onMouseMove=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseMove=d._onMouseMove.event,d._onMouseLeave=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseLeave=d._onMouseLeave.event,d._onMouseWheel=d._register(new $I(d._contributions,d._deliveryQueue)),d.onMouseWheel=d._onMouseWheel.event,d._onKeyUp=d._register(new $I(d._contributions,d._deliveryQueue)),d.onKeyUp=d._onKeyUp.event,d._onKeyDown=d._register(new $I(d._contributions,d._deliveryQueue)),d.onKeyDown=d._onKeyDown.event,d._onDidContentSizeChange=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidContentSizeChange=d._onDidContentSizeChange.event,d._onDidScrollChange=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidScrollChange=d._onDidScrollChange.event,d._onDidChangeViewZones=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeViewZones=d._onDidChangeViewZones.event,d._onDidChangeHiddenAreas=d._register(new Ln({deliveryQueue:d._deliveryQueue})),d.onDidChangeHiddenAreas=d._onDidChangeHiddenAreas.event,d._actions=new Map,d._bannerDomNode=null,d._dropIntoEditorDecorations=d.createDecorationsCollection(),o.willCreateCodeEditor();var A=__assign({},n);var g;d._domElement=i,d._overflowWidgetsDomNode=A.overflowWidgetsDomNode,delete A.overflowWidgetsDomNode,d._id=++XI,d._decorationTypeKeysToIds={},d._decorationTypeSubtypes={},d._telemetryData=r.telemetryData,d._configuration=d._register(d._createConfiguration(r.isSimpleWidget||!1,A,h)),d._register(d._configuration.onDidChange((function(t){d._onDidChangeConfiguration.fire(t);var i=d._configuration.options;if(t.hasChanged(145)){var n=i.get(145);d._onDidLayoutChange.fire(n)}}))),d._contextKeyService=d._register(u.createScoped(d._domElement)),d._notificationService=c,d._codeEditorService=o,d._commandService=s,d._themeService=a,d._register(new tQ(d,d._contextKeyService)),d._register(new iQ(d,d._contextKeyService,l)),d._instantiationService=e.createChild(new UI([hf,d._contextKeyService])),d._modelData=null,d._focusTracker=new nQ(i,d._overflowWidgetsDomNode),d._register(d._focusTracker.onChange((function(){d._editorWidgetFocus.setValue(d._focusTracker.hasFocus())}))),d._contentWidgets={},d._overlayWidgets={},d._glyphMarginWidgets={},g=Array.isArray(r.contributions)?r.contributions:nl.getEditorContributions(),d._contributions.initialize(d,g,d._instantiationService);var w=function(t){if(p._actions.has(t.id)){cn(new Error("Cannot have two actions with the same id ".concat(t.id)));return"continue"}var i=new MD(t.id,t.label,t.alias,t.metadata,(v=t.precondition)!==null&&v!==void 0?v:void 0,(function(i){return d._instantiationService.invokeFunction((function(n){return Promise.resolve(t.runEditorCommand(n,d,i))}))}),p._contextKeyService);p._actions.set(i.id,i)};var p=this;for(var m=0,b=nl.getEditorActions();m<b.length;m++){var y=b[m];w(y)}var k=function(){return!d._configuration.options.get(91)&&d._configuration.options.get(36).enabled};d._register(new Pc(d._domElement,{onDragOver:function(t){if(!k())return;var i=d.getTargetAtClientPoint(t.clientX,t.clientY);i!=null&&i.position&&d.showDropIndicatorAt(i.position)},onDrop:function(t){return __awaiter(d,void 0,void 0,(function(){var i;return __generator(this,(function(n){if(!k()||(this.removeDropIndicator(),!t.dataTransfer))return[2];i=this.getTargetAtClientPoint(t.clientX,t.clientY);i!=null&&i.position&&this._onDropIntoEditor.fire({position:i.position,event:t});return[2]}))}))},onDragLeave:function(){d.removeDropIndicator()},onDragEnd:function(){d.removeDropIndicator()}})),d._codeEditorService.addCodeEditor(d);return d}Object.defineProperty(i.prototype,"isSimpleWidget",{get:function(){return this._configuration.isSimpleWidget},enumerable:false,configurable:true});i.prototype.writeScreenReaderContent=function(t){var i;(i=this._modelData)===null||i===void 0||i.view.writeScreenReaderContent(t)};i.prototype._createConfiguration=function(t,i,n){return new $w(t,i,this._domElement,n)};i.prototype.getId=function(){return this.getEditorType()+":"+this._id};i.prototype.getEditorType=function(){return _g.ICodeEditor};i.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),t.prototype.dispose.call(this)};i.prototype.invokeWithinContext=function(t){return this._instantiationService.invokeFunction(t)};i.prototype.updateOptions=function(t){this._configuration.updateOptions(t||{})};i.prototype.getOptions=function(){return this._configuration.options};i.prototype.getOption=function(t){return this._configuration.options.get(t)};i.prototype.getRawOptions=function(){return this._configuration.getRawOptions()};i.prototype.getOverflowWidgetsDomNode=function(){return this._overflowWidgetsDomNode};i.prototype.getConfiguredWordAtPosition=function(t){return this._modelData?zE.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),t):null};i.prototype.getValue=function(t){if(t===void 0){t=null}if(!this._modelData)return"";var i=!(!t||!t.preserveBOM);var n=0;return t&&t.lineEnding&&t.lineEnding==="\n"?n=1:t&&t.lineEnding&&t.lineEnding==="\r\n"&&(n=2),this._modelData.model.getValue(n,i)};i.prototype.setValue=function(t){this._modelData&&this._modelData.model.setValue(t)};i.prototype.getModel=function(){return this._modelData?this._modelData.model:null};i.prototype.setModel=function(t){if(t===void 0){t=null}var i;var n=t;if(this._modelData===null&&n===null||this._modelData&&this._modelData.model===n)return;var r={oldModelUrl:((i=this._modelData)===null||i===void 0?void 0:i.model.uri)||null,newModelUrl:(n==null?void 0:n.uri)||null};this._onWillChangeModel.fire(r);var e=this.hasTextFocus(),o=this._detachModel();this._attachModel(n),e&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(o),this._contributionsDisposable=this._contributions.onAfterModelAttached()};i.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var i=this._decorationTypeSubtypes[t];for(var n in i)this._removeDecorationType(t+"-"+n)}this._decorationTypeSubtypes={}}};i.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]};i.prototype.getVisibleRangesPlusViewportAboveBelow=function(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]};i.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]};i._getVerticalOffsetAfterPosition=function(t,i,n,r){var e=t.model.validatePosition({lineNumber:i,column:n}),o=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e);return t.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(o.lineNumber,r)};i.prototype.getTopForLineNumber=function(t,i){if(i===void 0){i=!1}return this._modelData?WI._getVerticalOffsetForPosition(this._modelData,t,1,i):-1};i.prototype.getTopForPosition=function(t,i){return this._modelData?WI._getVerticalOffsetForPosition(this._modelData,t,i,!1):-1};i._getVerticalOffsetForPosition=function(t,i,n,r){if(r===void 0){r=!1}var e=t.model.validatePosition({lineNumber:i,column:n}),o=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber,r)};i.prototype.getBottomForLineNumber=function(t,i){if(i===void 0){i=!1}return this._modelData?WI._getVerticalOffsetAfterPosition(this._modelData,t,1,i):-1};i.prototype.setHiddenAreas=function(t,i){var n;(n=this._modelData)===null||n===void 0||n.viewModel.setHiddenAreas(t.map((function(t){return Zr.lift(t)})),i)};i.prototype.getVisibleColumnFromPosition=function(t){if(!this._modelData)return t.column;var i=this._modelData.model.validatePosition(t),n=this._modelData.model.getOptions().tabSize;return $y.visibleColumnFromColumn(this._modelData.model.getLineContent(i.lineNumber),i.column,n)+1};i.prototype.getPosition=function(){return this._modelData?this._modelData.viewModel.getPosition():null};i.prototype.setPosition=function(t,i){if(i===void 0){i="api"}if(this._modelData){if(!qr.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(i,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}};i.prototype._sendRevealRange=function(t,i,n,r){if(!this._modelData)return;if(!Zr.isIRange(t))throw new Error("Invalid arguments");var e=this._modelData.model.validateRange(t),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(e);this._modelData.viewModel.revealRange("api",n,o,i,r)};i.prototype.revealLine=function(t,i){if(i===void 0){i=0}this._revealLine(t,0,i)};i.prototype.revealLineInCenter=function(t,i){if(i===void 0){i=0}this._revealLine(t,1,i)};i.prototype.revealLineInCenterIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._revealLine(t,2,i)};i.prototype.revealLineNearTop=function(t,i){if(i===void 0){i=0}this._revealLine(t,5,i)};i.prototype._revealLine=function(t,i,n){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Zr(t,1,t,1),i,!1,n)};i.prototype.revealPosition=function(t,i){if(i===void 0){i=0}this._revealPosition(t,0,!0,i)};i.prototype.revealPositionInCenter=function(t,i){if(i===void 0){i=0}this._revealPosition(t,1,!0,i)};i.prototype.revealPositionInCenterIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._revealPosition(t,2,!0,i)};i.prototype.revealPositionNearTop=function(t,i){if(i===void 0){i=0}this._revealPosition(t,5,!0,i)};i.prototype._revealPosition=function(t,i,n,r){if(!qr.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new Zr(t.lineNumber,t.column,t.lineNumber,t.column),i,n,r)};i.prototype.getSelection=function(){return this._modelData?this._modelData.viewModel.getSelection():null};i.prototype.getSelections=function(){return this._modelData?this._modelData.viewModel.getSelections():null};i.prototype.setSelection=function(t,i){if(i===void 0){i="api"}var n=$r.isISelection(t),r=Zr.isIRange(t);if(!n&&!r)throw new Error("Invalid arguments");if(n)this._setSelectionImpl(t,i);else if(r){var e={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(e,i)}};i.prototype._setSelectionImpl=function(t,i){if(!this._modelData)return;var n=new $r(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(i,[n])};i.prototype.revealLines=function(t,i,n){if(n===void 0){n=0}this._revealLines(t,i,0,n)};i.prototype.revealLinesInCenter=function(t,i,n){if(n===void 0){n=0}this._revealLines(t,i,1,n)};i.prototype.revealLinesInCenterIfOutsideViewport=function(t,i,n){if(n===void 0){n=0}this._revealLines(t,i,2,n)};i.prototype.revealLinesNearTop=function(t,i,n){if(n===void 0){n=0}this._revealLines(t,i,5,n)};i.prototype._revealLines=function(t,i,n,r){if(typeof t!="number"||typeof i!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Zr(t,1,i,1),n,!1,r)};i.prototype.revealRange=function(t,i,n,r){if(i===void 0){i=0}if(n===void 0){n=!1}if(r===void 0){r=!0}this._revealRange(t,n?1:0,r,i)};i.prototype.revealRangeInCenter=function(t,i){if(i===void 0){i=0}this._revealRange(t,1,!0,i)};i.prototype.revealRangeInCenterIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._revealRange(t,2,!0,i)};i.prototype.revealRangeNearTop=function(t,i){if(i===void 0){i=0}this._revealRange(t,5,!0,i)};i.prototype.revealRangeNearTopIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._revealRange(t,6,!0,i)};i.prototype.revealRangeAtTop=function(t,i){if(i===void 0){i=0}this._revealRange(t,3,!0,i)};i.prototype._revealRange=function(t,i,n,r){if(!Zr.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(Zr.lift(t),i,n,r)};i.prototype.setSelections=function(t,i,n){if(i===void 0){i="api"}if(n===void 0){n=0}if(this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(var r=0,e=t.length;r<e;r++)if(!$r.isISelection(t[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(i,t,n)}};i.prototype.getContentWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1};i.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1};i.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1};i.prototype.getContentHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1};i.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1};i.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1};i.prototype.setScrollLeft=function(t,i){if(i===void 0){i=1}if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},i)}};i.prototype.setScrollTop=function(t,i){if(i===void 0){i=1}if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},i)}};i.prototype.setScrollPosition=function(t,i){if(i===void 0){i=1}this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(t,i)};i.prototype.hasPendingScrollAnimation=function(){return!!this._modelData&&this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()};i.prototype.saveViewState=function(){if(!this._modelData)return null;var t=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:t}};i.prototype.restoreViewState=function(t){if(!this._modelData||!this._modelData.hasRealView)return;var i=t;if(i&&i.cursorState&&i.viewState){var n=i.cursorState;Array.isArray(n)?n.length>0&&this._modelData.viewModel.restoreCursorState(n):this._modelData.viewModel.restoreCursorState([n]),this._contributions.restoreViewState(i.contributionsState||{});var r=this._modelData.viewModel.reduceRestoreState(i.viewState);this._modelData.view.restoreState(r)}};i.prototype.handleInitialized=function(){var t;(t=this._getViewModel())===null||t===void 0||t.visibleLinesStabilized()};i.prototype.getContribution=function(t){return this._contributions.get(t)};i.prototype.getActions=function(){return Array.from(this._actions.values())};i.prototype.getSupportedActions=function(){var t=this.getActions();return t=t.filter((function(t){return t.isSupported()})),t};i.prototype.getAction=function(t){return this._actions.get(t)||null};i.prototype.trigger=function(t,i,n){switch(n=n||{},i){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(t);case"type":{var r=n;return void this._type(t,r.text||"")}case"replacePreviousChar":{var r=n;return void this._compositionType(t,r.text||"",r.replaceCharCnt||0,0,0)}case"compositionType":{var r=n;return void this._compositionType(t,r.text||"",r.replacePrevCharCnt||0,r.replaceNextCharCnt||0,r.positionDelta||0)}case"paste":{var r=n;return void this._paste(t,r.text||"",r.pasteOnNewLine||!1,r.multicursorText||null,r.mode||null,r.clipboardEvent)}case"cut":return void this._cut(t)}var e=this.getAction(i);e?Promise.resolve(e.run(n)).then(void 0,cn):this._modelData&&(this._triggerEditorCommand(t,i,n)||this._triggerCommand(i,n))};i.prototype._triggerCommand=function(t,i){this._commandService.executeCommand(t,i)};i.prototype._startComposition=function(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())};i.prototype._endComposition=function(t){this._modelData&&(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())};i.prototype._type=function(t,i){this._modelData&&i.length!==0&&(t==="keyboard"&&this._onWillType.fire(i),this._modelData.viewModel.type(i,t),t==="keyboard"&&this._onDidType.fire(i))};i.prototype._compositionType=function(t,i,n,r,e){this._modelData&&this._modelData.viewModel.compositionType(i,n,r,e,t)};i.prototype._paste=function(t,i,n,r,e,o){if(!this._modelData)return;var s=this._modelData.viewModel,u=s.getSelection().getStartPosition();s.paste(i,n,r,t);var a=s.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire({clipboardEvent:o,range:new Zr(u.lineNumber,u.column,a.lineNumber,a.column),languageId:e})};i.prototype._cut=function(t){this._modelData&&this._modelData.viewModel.cut(t)};i.prototype._triggerEditorCommand=function(t,i,n){var r=this;var e=nl.getEditorCommand(i);return!!e&&((n=n||{}).source=t,this._instantiationService.invokeFunction((function(t){Promise.resolve(e.runEditorCommand(t,r,n)).then(void 0,cn)})),!0)};i.prototype._getViewModel=function(){return this._modelData?this._modelData.viewModel:null};i.prototype.pushUndoStop=function(){return!!this._modelData&&!this._configuration.options.get(91)&&(this._modelData.model.pushStackElement(),!0)};i.prototype.popUndoStop=function(){return!!this._modelData&&!this._configuration.options.get(91)&&(this._modelData.model.popStackElement(),!0)};i.prototype.executeEdits=function(t,i,n){if(!this._modelData||this._configuration.options.get(91))return!1;var r;return r=n?Array.isArray(n)?function(){return n}:n:function(){return null},this._modelData.viewModel.executeEdits(t,i,r),!0};i.prototype.executeCommand=function(t,i){this._modelData&&this._modelData.viewModel.executeCommand(i,t)};i.prototype.executeCommands=function(t,i){this._modelData&&this._modelData.viewModel.executeCommands(i,t)};i.prototype.createDecorationsCollection=function(t){return new rQ(this,t)};i.prototype.changeDecorations=function(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null};i.prototype.getLineDecorations=function(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,Wi(this._configuration.options)):null};i.prototype.getDecorationsInRange=function(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,Wi(this._configuration.options)):null};i.prototype.deltaDecorations=function(t,i){return this._modelData?t.length===0&&i.length===0?t:this._modelData.model.deltaDecorations(t,i,this._id):[]};i.prototype.removeDecorations=function(t){this._modelData&&t.length!==0&&this._modelData.model.changeDecorations((function(i){i.deltaDecorations(t,[])}))};i.prototype.removeDecorationsByType=function(t){var i=this._decorationTypeKeysToIds[t];i&&this.changeDecorations((function(t){return t.deltaDecorations(i,[])})),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]};i.prototype.getLayoutInfo=function(){return this._configuration.options.get(145)};i.prototype.createOverviewRuler=function(t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(t):null};i.prototype.getContainerDomNode=function(){return this._domElement};i.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null};i.prototype.delegateVerticalScrollbarPointerDown=function(t){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(t)};i.prototype.delegateScrollFromMouseWheelEvent=function(t){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateScrollFromMouseWheelEvent(t)};i.prototype.layout=function(t,i){if(i===void 0){i=!1}this._configuration.observeContainer(t),i||this.render()};i.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()};i.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()};i.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()};i.prototype.addContentWidget=function(t){var i={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id:"+t.getId()),this._contentWidgets[t.getId()]=i,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(i)};i.prototype.layoutContentWidget=function(t){var i=t.getId();if(this._contentWidgets.hasOwnProperty(i)){var n=this._contentWidgets[i];n.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(n)}};i.prototype.removeContentWidget=function(t){var i=t.getId();if(this._contentWidgets.hasOwnProperty(i)){var n=this._contentWidgets[i];delete this._contentWidgets[i],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(n)}};i.prototype.addOverlayWidget=function(t){var i={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=i,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(i)};i.prototype.layoutOverlayWidget=function(t){var i=t.getId();if(this._overlayWidgets.hasOwnProperty(i)){var n=this._overlayWidgets[i];n.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(n)}};i.prototype.removeOverlayWidget=function(t){var i=t.getId();if(this._overlayWidgets.hasOwnProperty(i)){var n=this._overlayWidgets[i];delete this._overlayWidgets[i],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(n)}};i.prototype.addGlyphMarginWidget=function(t){var i={widget:t,position:t.getPosition()};this._glyphMarginWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[t.getId()]=i,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(i)};i.prototype.layoutGlyphMarginWidget=function(t){var i=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(i)){var n=this._glyphMarginWidgets[i];n.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(n)}};i.prototype.removeGlyphMarginWidget=function(t){var i=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(i)){var n=this._glyphMarginWidgets[i];delete this._glyphMarginWidgets[i],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(n)}};i.prototype.changeViewZones=function(t){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(t)};i.prototype.getTargetAtClientPoint=function(t,i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(t,i):null};i.prototype.getScrolledVisiblePosition=function(t){if(!this._modelData||!this._modelData.hasRealView)return null;var i=this._modelData.model.validatePosition(t),n=this._configuration.options,r=n.get(145);return{top:WI._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft(),height:n.get(67)}};i.prototype.getOffsetForColumn=function(t,i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(t,i):-1};i.prototype.render=function(t){if(t===void 0){t=!1}this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,t)};i.prototype.setAriaOptions=function(t){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(t)};i.prototype.applyFontInfo=function(t){ih(t,this._configuration.options.get(50))};i.prototype.setBanner=function(t,i){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?i:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)};i.prototype._attachModel=function(t){var i=this;if(!t)return void(this._modelData=null);var n=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount());var r=t.onBeforeAttached(),e=new NI(this._id,this._configuration,t,kD.create(ka(this._domElement)),aS.create(this._configuration.options),(function(t){return Ua(ka(i._domElement),t)}),this.languageConfigurationService,this._themeService,r);n.push(t.onWillDispose((function(){return i.setModel(null)}))),n.push(e.onEvent((function(n){switch(n.kind){case 0:i._onDidContentSizeChange.fire(n);break;case 1:i._editorTextFocus.setValue(n.hasFocus);break;case 2:i._onDidScrollChange.fire(n);break;case 3:i._onDidChangeViewZones.fire();break;case 4:i._onDidChangeHiddenAreas.fire();break;case 5:i._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(n.reachedMaxCursorCount){var r=Bt(0,"The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",i.getOption(80));i._notificationService.prompt(JI.Warning,r,[{label:"Find and Replace",run:function(){i._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:Bt(0,"Increase Multi Cursor Limit"),run:function(){i._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}var e=[];for(var o=0,s=n.selections.length;o<s;o++)e[o]=n.selections[o].getPosition();var u={position:e[0],secondaryPositions:e.slice(1),reason:n.reason,source:n.source};i._onDidChangeCursorPosition.fire(u);var a={selection:n.selections[0],secondarySelections:n.selections.slice(1),modelVersionId:n.modelVersionId,oldSelections:n.oldSelections,oldModelVersionId:n.oldModelVersionId,source:n.source,reason:n.reason};i._onDidChangeCursorSelection.fire(a);break}case 7:i._onDidChangeModelDecorations.fire(n.event);break;case 8:i._domElement.setAttribute("data-mode-id",t.getLanguageId()),i._onDidChangeModelLanguage.fire(n.event);break;case 9:i._onDidChangeModelLanguageConfiguration.fire(n.event);break;case 10:i._onDidChangeModelContent.fire(n.event);break;case 11:i._onDidChangeModelOptions.fire(n.event);break;case 12:i._onDidChangeModelTokens.fire(n.event)}})));var o=this._createView(e),s=o[0],u=o[1];if(u){this._domElement.appendChild(s.domNode.domNode);var a=Object.keys(this._contentWidgets);for(var c=0,h=a.length;c<h;c++){var f=a[c];s.addContentWidget(this._contentWidgets[f])}a=Object.keys(this._overlayWidgets);for(var c=0,h=a.length;c<h;c++){var f=a[c];s.addOverlayWidget(this._overlayWidgets[f])}a=Object.keys(this._glyphMarginWidgets);for(var c=0,h=a.length;c<h;c++){var f=a[c];s.addGlyphMarginWidget(this._glyphMarginWidgets[f])}s.render(!1,!0),s.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new qI(t,e,s,u,n,r)};i.prototype._createView=function(t){var i=this;var n;n=this.isSimpleWidget?{paste:function(t,n,r,e){i._paste("keyboard",t,n,r,e)},type:function(t){i._type("keyboard",t)},compositionType:function(t,n,r,e){i._compositionType("keyboard",t,n,r,e)},startComposition:function(){i._startComposition()},endComposition:function(){i._endComposition("keyboard")},cut:function(){i._cut("keyboard")}}:{paste:function(t,n,r,e){var o={text:t,pasteOnNewLine:n,multicursorText:r,mode:e};i._commandService.executeCommand("paste",o)},type:function(t){var n={text:t};i._commandService.executeCommand("type",n)},compositionType:function(t,n,r,e){if(r||e){var o={text:t,replacePrevCharCnt:n,replaceNextCharCnt:r,positionDelta:e};i._commandService.executeCommand("compositionType",o)}else{var o={text:t,replaceCharCnt:n};i._commandService.executeCommand("replacePreviousChar",o)}},startComposition:function(){i._commandService.executeCommand("compositionStart",{})},endComposition:function(){i._commandService.executeCommand("compositionEnd",{})},cut:function(){i._commandService.executeCommand("cut",{})}};var r=new SB(t.coordinatesConverter);return r.onKeyDown=function(t){return i._onKeyDown.fire(t)},r.onKeyUp=function(t){return i._onKeyUp.fire(t)},r.onContextMenu=function(t){return i._onContextMenu.fire(t)},r.onMouseMove=function(t){return i._onMouseMove.fire(t)},r.onMouseLeave=function(t){return i._onMouseLeave.fire(t)},r.onMouseDown=function(t){return i._onMouseDown.fire(t)},r.onMouseUp=function(t){return i._onMouseUp.fire(t)},r.onMouseDrag=function(t){return i._onMouseDrag.fire(t)},r.onMouseDrop=function(t){return i._onMouseDrop.fire(t)},r.onMouseDropCanceled=function(t){return i._onMouseDropCanceled.fire(t)},r.onMouseWheel=function(t){return i._onMouseWheel.fire(t)},[new oD(n,this._configuration,this._themeService.getColorTheme(),t,r,this._overflowWidgetsDomNode,this._instantiationService),!0]};i.prototype._postDetachModelCleanup=function(t){t==null||t.removeAllDecorationsWithOwnerId(this._id)};i.prototype._detachModel=function(){var t;if((t=this._contributionsDisposable)===null||t===void 0||t.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;var i=this._modelData.model,n=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),n&&this._domElement.contains(n)&&this._domElement.removeChild(n),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),i};i.prototype._removeDecorationType=function(t){this._codeEditorService.removeDecorationType(t)};i.prototype.hasModel=function(){return this._modelData!==null};i.prototype.showDropIndicatorAt=function(t){var i=[{range:new Zr(t.lineNumber,t.column,t.lineNumber,t.column),options:WI.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(i),this.revealPosition(t,1)};i.prototype.removeDropIndicator=function(){this._dropIntoEditorDecorations.clear()};i.prototype.setContextValue=function(t,i){this._contextKeyService.createKey(t,i)};return i}(Cn);KI.dropIntoEditorDecorationOptions=iS.register({description:"workbench-dnd-target",className:"dnd-target"}),KI=WI=GI([VI(3,fh),VI(4,dh),VI(5,Eh),VI(6,hf),VI(7,ex),VI(8,PI),VI(9,Kw),VI(10,jd),VI(11,gg)],KI);var XI=0,qI=function(){function t(t,i,n,r,e,o){this.model=t,this.viewModel=i,this.view=n,this.hasRealView=r,this.listenersToRemove=e,this.attachedView=o}t.prototype.dispose=function(){kn(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()};return t}();var ZI=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._emitterOptions=i,n._onDidChangeToTrue=n._register(new Ln(n._emitterOptions)),n.onDidChangeToTrue=n._onDidChangeToTrue.event,n._onDidChangeToFalse=n._register(new Ln(n._emitterOptions)),n.onDidChangeToFalse=n._onDidChangeToFalse.event,n._value=0;return n}i.prototype.setValue=function(t){var i=t?2:1;this._value!==i&&(this._value=i,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())};return i}(Cn);var $I=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,{deliveryQueue:n})||this,r._contributions=i;return r}i.prototype.fire=function(i){this._contributions.onBeforeInteractionEvent(),t.prototype.fire.call(this,i)};return i}(Ln);var tQ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._editor=i,n.createKey("editorId",i.getId()),r._editorSimpleInput=hB.editorSimpleInput.bindTo(n),r._editorFocus=hB.focus.bindTo(n),r._textInputFocus=hB.textInputFocus.bindTo(n),r._editorTextFocus=hB.editorTextFocus.bindTo(n),r._tabMovesFocus=hB.tabMovesFocus.bindTo(n),r._editorReadonly=hB.readOnly.bindTo(n),r._inDiffEditor=hB.inDiffEditor.bindTo(n),r._editorColumnSelection=hB.columnSelection.bindTo(n),r._hasMultipleSelections=hB.hasMultipleSelections.bindTo(n),r._hasNonEmptySelection=hB.hasNonEmptySelection.bindTo(n),r._canUndo=hB.canUndo.bindTo(n),r._canRedo=hB.canRedo.bindTo(n),r._register(r._editor.onDidChangeConfiguration((function(){return r._updateFromConfig()}))),r._register(r._editor.onDidChangeCursorSelection((function(){return r._updateFromSelection()}))),r._register(r._editor.onDidFocusEditorWidget((function(){return r._updateFromFocus()}))),r._register(r._editor.onDidBlurEditorWidget((function(){return r._updateFromFocus()}))),r._register(r._editor.onDidFocusEditorText((function(){return r._updateFromFocus()}))),r._register(r._editor.onDidBlurEditorText((function(){return r._updateFromFocus()}))),r._register(r._editor.onDidChangeModel((function(){return r._updateFromModel()}))),r._register(r._editor.onDidChangeConfiguration((function(){return r._updateFromModel()}))),r._register(Vw.onDidChangeTabFocus((function(t){return r._tabMovesFocus.set(t)}))),r._updateFromConfig(),r._updateFromSelection(),r._updateFromFocus(),r._updateFromModel(),r._editorSimpleInput.set(r._editor.isSimpleWidget);return r}i.prototype._updateFromConfig=function(){var t=this._editor.getOptions();this._tabMovesFocus.set(Vw.getTabFocusMode()),this._editorReadonly.set(t.get(91)),this._inDiffEditor.set(t.get(61)),this._editorColumnSelection.set(t.get(22))};i.prototype._updateFromSelection=function(){var t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some((function(t){return!t.isEmpty()})))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())};i.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())};i.prototype._updateFromModel=function(){var t=this._editor.getModel();this._canUndo.set(!!(t&&t.canUndo())),this._canRedo.set(!!(t&&t.canRedo()))};return i}(Cn);var iQ=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._contextKeyService=n,e._languageFeaturesService=r,e._langId=hB.languageId.bindTo(n),e._hasCompletionItemProvider=hB.hasCompletionItemProvider.bindTo(n),e._hasCodeActionsProvider=hB.hasCodeActionsProvider.bindTo(n),e._hasCodeLensProvider=hB.hasCodeLensProvider.bindTo(n),e._hasDefinitionProvider=hB.hasDefinitionProvider.bindTo(n),e._hasDeclarationProvider=hB.hasDeclarationProvider.bindTo(n),e._hasImplementationProvider=hB.hasImplementationProvider.bindTo(n),e._hasTypeDefinitionProvider=hB.hasTypeDefinitionProvider.bindTo(n),e._hasHoverProvider=hB.hasHoverProvider.bindTo(n),e._hasDocumentHighlightProvider=hB.hasDocumentHighlightProvider.bindTo(n),e._hasDocumentSymbolProvider=hB.hasDocumentSymbolProvider.bindTo(n),e._hasReferenceProvider=hB.hasReferenceProvider.bindTo(n),e._hasRenameProvider=hB.hasRenameProvider.bindTo(n),e._hasSignatureHelpProvider=hB.hasSignatureHelpProvider.bindTo(n),e._hasInlayHintsProvider=hB.hasInlayHintsProvider.bindTo(n),e._hasDocumentFormattingProvider=hB.hasDocumentFormattingProvider.bindTo(n),e._hasDocumentSelectionFormattingProvider=hB.hasDocumentSelectionFormattingProvider.bindTo(n),e._hasMultipleDocumentFormattingProvider=hB.hasMultipleDocumentFormattingProvider.bindTo(n),e._hasMultipleDocumentSelectionFormattingProvider=hB.hasMultipleDocumentSelectionFormattingProvider.bindTo(n),e._isInEmbeddedEditor=hB.isInEmbeddedEditor.bindTo(n);var o=function(){return e._update()};e._register(i.onDidChangeModel(o)),e._register(i.onDidChangeModelLanguage(o)),e._register(r.completionProvider.onDidChange(o)),e._register(r.codeActionProvider.onDidChange(o)),e._register(r.codeLensProvider.onDidChange(o)),e._register(r.definitionProvider.onDidChange(o)),e._register(r.declarationProvider.onDidChange(o)),e._register(r.implementationProvider.onDidChange(o)),e._register(r.typeDefinitionProvider.onDidChange(o)),e._register(r.hoverProvider.onDidChange(o)),e._register(r.documentHighlightProvider.onDidChange(o)),e._register(r.documentSymbolProvider.onDidChange(o)),e._register(r.referenceProvider.onDidChange(o)),e._register(r.renameProvider.onDidChange(o)),e._register(r.documentFormattingEditProvider.onDidChange(o)),e._register(r.documentRangeFormattingEditProvider.onDidChange(o)),e._register(r.signatureHelpProvider.onDidChange(o)),e._register(r.inlayHintsProvider.onDidChange(o)),o();return e}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.reset=function(){var t=this;this._contextKeyService.bufferChangeEvents((function(){t._langId.reset(),t._hasCompletionItemProvider.reset(),t._hasCodeActionsProvider.reset(),t._hasCodeLensProvider.reset(),t._hasDefinitionProvider.reset(),t._hasDeclarationProvider.reset(),t._hasImplementationProvider.reset(),t._hasTypeDefinitionProvider.reset(),t._hasHoverProvider.reset(),t._hasDocumentHighlightProvider.reset(),t._hasDocumentSymbolProvider.reset(),t._hasReferenceProvider.reset(),t._hasRenameProvider.reset(),t._hasDocumentFormattingProvider.reset(),t._hasDocumentSelectionFormattingProvider.reset(),t._hasSignatureHelpProvider.reset(),t._isInEmbeddedEditor.reset()}))};i.prototype._update=function(){var t=this;var i=this._editor.getModel();i?this._contextKeyService.bufferChangeEvents((function(){t._langId.set(i.getLanguageId()),t._hasCompletionItemProvider.set(t._languageFeaturesService.completionProvider.has(i)),t._hasCodeActionsProvider.set(t._languageFeaturesService.codeActionProvider.has(i)),t._hasCodeLensProvider.set(t._languageFeaturesService.codeLensProvider.has(i)),t._hasDefinitionProvider.set(t._languageFeaturesService.definitionProvider.has(i)),t._hasDeclarationProvider.set(t._languageFeaturesService.declarationProvider.has(i)),t._hasImplementationProvider.set(t._languageFeaturesService.implementationProvider.has(i)),t._hasTypeDefinitionProvider.set(t._languageFeaturesService.typeDefinitionProvider.has(i)),t._hasHoverProvider.set(t._languageFeaturesService.hoverProvider.has(i)),t._hasDocumentHighlightProvider.set(t._languageFeaturesService.documentHighlightProvider.has(i)),t._hasDocumentSymbolProvider.set(t._languageFeaturesService.documentSymbolProvider.has(i)),t._hasReferenceProvider.set(t._languageFeaturesService.referenceProvider.has(i)),t._hasRenameProvider.set(t._languageFeaturesService.renameProvider.has(i)),t._hasSignatureHelpProvider.set(t._languageFeaturesService.signatureHelpProvider.has(i)),t._hasInlayHintsProvider.set(t._languageFeaturesService.inlayHintsProvider.has(i)),t._hasDocumentFormattingProvider.set(t._languageFeaturesService.documentFormattingEditProvider.has(i)||t._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),t._hasDocumentSelectionFormattingProvider.set(t._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),t._hasMultipleDocumentFormattingProvider.set(t._languageFeaturesService.documentFormattingEditProvider.all(i).length+t._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),t._hasMultipleDocumentSelectionFormattingProvider.set(t._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),t._isInEmbeddedEditor.set(i.uri.scheme===oa.walkThroughSnippet||i.uri.scheme===oa.vscodeChatCodeBlock)})):this.reset()};return i}(Cn);var nQ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._onChange=r._register(new Ln),r.onChange=r._onChange.event,r._hadFocus=void 0,r._hasDomElementFocus=!1,r._domFocusTracker=r._register(Mc(i)),r._overflowWidgetsDomNodeHasFocus=!1,r._register(r._domFocusTracker.onDidFocus((function(){r._hasDomElementFocus=!0,r._update()}))),r._register(r._domFocusTracker.onDidBlur((function(){r._hasDomElementFocus=!1,r._update()}))),n&&(r._overflowWidgetsDomNode=r._register(Mc(n)),r._register(r._overflowWidgetsDomNode.onDidFocus((function(){r._overflowWidgetsDomNodeHasFocus=!0,r._update()}))),r._register(r._overflowWidgetsDomNode.onDidBlur((function(){r._overflowWidgetsDomNodeHasFocus=!1,r._update()}))));return r}i.prototype._update=function(){var t=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==t&&(this._hadFocus=t,this._onChange.fire(void 0))};i.prototype.hasFocus=function(){var t;return(t=this._hadFocus)!==null&&t!==void 0&&t};return i}(Cn);var rQ=function(){function t(t,i){this._editor=t,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(i)&&i.length>0&&this.set(i)}Object.defineProperty(t.prototype,"length",{get:function(){return this._decorationIds.length},enumerable:false,configurable:true});t.prototype.onDidChange=function(t,i,n){var r=this;return this._editor.onDidChangeModelDecorations((function(n){r._isChangingDecorations||t.call(i,n)}),n)};t.prototype.getRange=function(t){return this._editor.hasModel()?t>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[t]):null};t.prototype.getRanges=function(){if(!this._editor.hasModel())return[];var t=this._editor.getModel(),i=[];for(var n=0,r=this._decorationIds;n<r.length;n++){var e=r[n];var o=t.getDecorationRange(e);o&&i.push(o)}return i};t.prototype.has=function(t){return this._decorationIds.includes(t.id)};t.prototype.clear=function(){this._decorationIds.length!==0&&this.set([])};t.prototype.set=function(t){var i=this;try{this._isChangingDecorations=!0,this._editor.changeDecorations((function(n){i._decorationIds=n.deltaDecorations(i._decorationIds,t)}))}finally{this._isChangingDecorations=!1}return this._decorationIds};t.prototype.append=function(t){var i=this;var n=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations((function(r){n=r.deltaDecorations([],t),i._decorationIds=i._decorationIds.concat(n)}))}finally{this._isChangingDecorations=!1}return n};return t}();var eQ=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),oQ=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function sQ(t){return eQ+encodeURIComponent(t.toString())+oQ}var uQ=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),aQ=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');cx((function(t,i){var n=t.getColor(jp);n&&i.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'.concat(sQ(n),'") repeat-x bottom left; }'));var r=t.getColor(Hp);r&&i.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'.concat(sQ(r),'") repeat-x bottom left; }'));var e=t.getColor(Jp);e&&i.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'.concat(sQ(e),'") repeat-x bottom left; }'));var o=t.getColor(Wp);var s;o&&i.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'.concat((s=o,uQ+encodeURIComponent(s.toString())+aQ),'") no-repeat bottom left; }'));var u=t.getColor(jx);u&&i.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ".concat(u.rgba.a,"; }"))}));var cQ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},hQ=function(t,i){return function(n,r){i(n,r,t)}};var fQ=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._themeService=i,n._onWillCreateCodeEditor=n._register(new Ln),n._onCodeEditorAdd=n._register(new Ln),n.onCodeEditorAdd=n._onCodeEditorAdd.event,n._onCodeEditorRemove=n._register(new Ln),n.onCodeEditorRemove=n._onCodeEditorRemove.event,n._onWillCreateDiffEditor=n._register(new Ln),n._onDiffEditorAdd=n._register(new Ln),n.onDiffEditorAdd=n._onDiffEditorAdd.event,n._onDiffEditorRemove=n._register(new Ln),n.onDiffEditorRemove=n._onDiffEditorRemove.event,n._decorationOptionProviders=new Map,n._codeEditorOpenHandlers=new gi,n._modelProperties=new Map,n._codeEditors=Object.create(null),n._diffEditors=Object.create(null),n._globalStyleSheet=null;return n}i.prototype.willCreateCodeEditor=function(){this._onWillCreateCodeEditor.fire()};i.prototype.addCodeEditor=function(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)};i.prototype.removeCodeEditor=function(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)};i.prototype.listCodeEditors=function(){var t=this;return Object.keys(this._codeEditors).map((function(i){return t._codeEditors[i]}))};i.prototype.willCreateDiffEditor=function(){this._onWillCreateDiffEditor.fire()};i.prototype.addDiffEditor=function(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)};i.prototype.listDiffEditors=function(){var t=this;return Object.keys(this._diffEditors).map((function(i){return t._diffEditors[i]}))};i.prototype.getFocusedCodeEditor=function(){var t=null;var i=this.listCodeEditors();for(var n=0,r=i;n<r.length;n++){var e=r[n];if(e.hasTextFocus())return e;e.hasWidgetFocus()&&(t=e)}return t};i.prototype.removeDecorationType=function(t){var i=this._decorationOptionProviders.get(t);i&&(i.refCount--,i.refCount<=0&&(this._decorationOptionProviders.delete(t),i.dispose(),this.listCodeEditors().forEach((function(i){return i.removeDecorationsByType(t)}))))};i.prototype.setModelProperty=function(t,i,n){var r=t.toString();var e;this._modelProperties.has(r)?e=this._modelProperties.get(r):(e=new Map,this._modelProperties.set(r,e)),e.set(i,n)};i.prototype.getModelProperty=function(t,i){var n=t.toString();if(this._modelProperties.has(n))return this._modelProperties.get(n).get(i)};i.prototype.openCodeEditor=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:r=0,e=this._codeEditorOpenHandlers;u.label=1;case 1:if(!(r<e.length))return[3,4];o=e[r];return[4,o(t,i,n)];case 2:s=u.sent();if(s!==null)return[2,s];u.label=3;case 3:r++;return[3,1];case 4:return[2,null]}}))}))};i.prototype.registerCodeEditorOpenHandler=function(t){return En(this._codeEditorOpenHandlers.unshift(t))};return i}(Cn);fQ=cQ([hQ(0,ex)],fQ);var lQ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},dQ=function(t,i){return function(n,r){i(n,r,t)}};var vQ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._register(r.onCodeEditorAdd((function(){return r._checkContextKey()}))),r._register(r.onCodeEditorRemove((function(){return r._checkContextKey()}))),r._editorIsOpen=i.createKey("editorIsOpen",!1),r._activeCodeEditor=null,r._register(r.registerCodeEditorOpenHandler((function(t,i,n){return __awaiter(r,void 0,void 0,(function(){return __generator(this,(function(n){return[2,i?this.doOpenEditor(i,t):null]}))}))})));return r}i.prototype._checkContextKey=function(){var t=!1;for(var i=0,n=this.listCodeEditors();i<n.length;i++){var r=n[i];if(!r.isSimpleWidget){t=!0;break}}this._editorIsOpen.set(t)};i.prototype.setActiveCodeEditor=function(t){this._activeCodeEditor=t};i.prototype.getActiveCodeEditor=function(){return this._activeCodeEditor};i.prototype.doOpenEditor=function(t,i){if(!this.findModel(t,i.resource)){if(i.resource){var n=i.resource.scheme;if(n===oa.http||n===oa.https)return jc(i.resource.toString()),t}return null}var r=i.options?i.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")t.setSelection(r),t.revealRangeInCenter(r,1);else{var n={lineNumber:r.startLineNumber,column:r.startColumn};t.setPosition(n),t.revealPositionInCenter(n,1)}return t};i.prototype.findModel=function(t,i){var n=t.getModel();return n&&n.uri.toString()!==i.toString()?null:n};return i}(fQ);vQ=lQ([dQ(0,hf),dQ(1,ex)],vQ),Ad(dh,vQ,0);var AQ=lh("layoutService");var gQ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},wQ=function(t,i){return function(n,r){i(n,r,t)}};var pQ=function(){function t(t){this._codeEditorService=t,this.onDidLayoutMainContainer=Qn.None,this.onDidLayoutActiveContainer=Qn.None,this.onDidLayoutContainer=Qn.None,this.onDidChangeActiveContainer=Qn.None,this.onDidAddContainer=Qn.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}Object.defineProperty(t.prototype,"mainContainer",{get:function(){var t,i;return(i=(t=z(this._codeEditorService.listCodeEditors()))===null||t===void 0?void 0:t.getContainerDomNode())!==null&&i!==void 0?i:go.document.body},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"activeContainer",{get:function(){var t,i;var n=(t=this._codeEditorService.getFocusedCodeEditor())!==null&&t!==void 0?t:this._codeEditorService.getActiveCodeEditor();return(i=n==null?void 0:n.getContainerDomNode())!==null&&i!==void 0?i:this.mainContainer},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"mainContainerDimension",{get:function(){return Pa(this.mainContainer)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"activeContainerDimension",{get:function(){return Pa(this.activeContainer)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"containers",{get:function(){return N(this._codeEditorService.listCodeEditors().map((function(t){return t.getContainerDomNode()})))},enumerable:false,configurable:true});t.prototype.getContainer=function(){return this.activeContainer};t.prototype.whenContainerStylesLoaded=function(){};t.prototype.focus=function(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()};return t}();pQ=gQ([wQ(0,dh)],pQ);var mQ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._container=i;return r}Object.defineProperty(i.prototype,"mainContainer",{get:function(){return this._container},enumerable:false,configurable:true});return i}(pQ);mQ=gQ([wQ(1,dh)],mQ),Ad(AQ,pQ,1);var bQ=lh("dialogService");var yQ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},kQ=function(t,i){return function(n,r){i(n,r,t)}};function xQ(t){return t.scheme===oa.file?t.fsPath:t.path}var EQ=0;var BQ=function(){function t(t,i,n,r,e,o,s){this.id=++EQ,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=i,this.strResource=n,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=e,this.sourceId=o,this.sourceOrder=s,this.isValid=!0}t.prototype.setValid=function(t){this.isValid=t};t.prototype.toString=function(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.isValid?"  VALID":"INVALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)};return t}();var CQ=function(){function t(t,i){this.resourceLabel=t,this.reason=i}return t}();var DQ=function(){function t(){this.elements=new Map}t.prototype.createMessage=function(){var t=[],i=[];for(var n=0,r=this.elements;n<r.length;n++){var e=r[n],o=e[1];(o.reason===0?t:i).push(o.resourceLabel)}var s=[];return t.length>0&&s.push(Bt(0,"The following files have been closed and modified on disk: {0}.",t.join(", "))),i.length>0&&s.push(Bt(0,"The following files have been modified in an incompatible way: {0}.",i.join(", "))),s.join("\n")};Object.defineProperty(t.prototype,"size",{get:function(){return this.elements.size},enumerable:false,configurable:true});t.prototype.has=function(t){return this.elements.has(t)};t.prototype.set=function(t,i){this.elements.set(t,i)};t.prototype.delete=function(t){return this.elements.delete(t)};return t}();var MQ=function(){function t(t,i,n,r,e,o,s){this.id=++EQ,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=i,this.strResources=n,this.groupId=r,this.groupOrder=e,this.sourceId=o,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}t.prototype.canSplit=function(){return typeof this.actual.split=="function"};t.prototype.removeResource=function(t,i,n){this.removedResources||(this.removedResources=new DQ),this.removedResources.has(i)||this.removedResources.set(i,new CQ(t,n))};t.prototype.setValid=function(t,i,n){n?this.invalidatedResources&&(this.invalidatedResources.delete(i),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new DQ),this.invalidatedResources.has(i)||this.invalidatedResources.set(i,new CQ(t,0)))};t.prototype.toString=function(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.invalidatedResources?"INVALID":"  VALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)};return t}();var _Q=function(){function t(t,i){this.resourceLabel=t,this.strResource=i,this._past=[],this._future=[],this.locked=!1,this.versionId=1}t.prototype.dispose=function(){for(var t=0,i=this._past;t<i.length;t++){var n=i[t];n.type===1&&n.removeResource(this.resourceLabel,this.strResource,0)}for(var r=0,e=this._future;r<e.length;r++){var n=e[r];n.type===1&&n.removeResource(this.resourceLabel,this.strResource,0)}this.versionId++};t.prototype.toString=function(){var t=[];t.push("* ".concat(this.strResource,":"));for(var i=0;i<this._past.length;i++)t.push("   * [UNDO] ".concat(this._past[i]));for(var i=this._future.length-1;i>=0;i--)t.push("   * [REDO] ".concat(this._future[i]));return t.join("\n")};t.prototype.flushAllElements=function(){this._past=[],this._future=[],this.versionId++};t.prototype._setElementValidFlag=function(t,i){t.type===1?t.setValid(this.resourceLabel,this.strResource,i):t.setValid(i)};t.prototype.setElementsValidFlag=function(t,i){for(var n=0,r=this._past;n<r.length;n++){var e=r[n];i(e.actual)&&this._setElementValidFlag(e,t)}for(var o=0,s=this._future;o<s.length;o++){var e=s[o];i(e.actual)&&this._setElementValidFlag(e,t)}};t.prototype.pushElement=function(t){for(var i=0,n=this._future;i<n.length;i++){var r=n[i];r.type===1&&r.removeResource(this.resourceLabel,this.strResource,1)}this._future=[],this._past.push(t),this.versionId++};t.prototype.createSnapshot=function(t){var i=[];for(var n=0,r=this._past.length;n<r;n++)i.push(this._past[n].id);for(var n=this._future.length-1;n>=0;n--)i.push(this._future[n].id);return new NF(t,i)};t.prototype.restoreSnapshot=function(t){var i=t.elements.length;var n=!0,r=0,e=-1;for(var o=0,s=this._past.length;o<s;o++,r++){var u=this._past[o];n&&(r>=i||u.id!==t.elements[r])&&(n=!1,e=0),n||u.type!==1||u.removeResource(this.resourceLabel,this.strResource,0)}var a=-1;for(var o=this._future.length-1;o>=0;o--,r++){var s=this._future[o];n&&(r>=i||s.id!==t.elements[r])&&(n=!1,a=o),n||s.type!==1||s.removeResource(this.resourceLabel,this.strResource,0)}e!==-1&&(this._past=this._past.slice(0,e)),a!==-1&&(this._future=this._future.slice(a+1)),this.versionId++};t.prototype.getElements=function(){var t=[],i=[];for(var n=0,r=this._past;n<r.length;n++){var e=r[n];t.push(e.actual)}for(var o=0,s=this._future;o<s.length;o++){var e=s[o];i.push(e.actual)}return{past:t,future:i}};t.prototype.getClosestPastElement=function(){return this._past.length===0?null:this._past[this._past.length-1]};t.prototype.getSecondClosestPastElement=function(){return this._past.length<2?null:this._past[this._past.length-2]};t.prototype.getClosestFutureElement=function(){return this._future.length===0?null:this._future[this._future.length-1]};t.prototype.hasPastElements=function(){return this._past.length>0};t.prototype.hasFutureElements=function(){return this._future.length>0};t.prototype.splitPastWorkspaceElement=function(t,i){for(var n=this._past.length-1;n>=0;n--)if(this._past[n]===t){i.has(this.strResource)?this._past[n]=i.get(this.strResource):this._past.splice(n,1);break}this.versionId++};t.prototype.splitFutureWorkspaceElement=function(t,i){for(var n=this._future.length-1;n>=0;n--)if(this._future[n]===t){i.has(this.strResource)?this._future[n]=i.get(this.strResource):this._future.splice(n,1);break}this.versionId++};t.prototype.moveBackward=function(t){this._past.pop(),this._future.push(t),this.versionId++};t.prototype.moveForward=function(t){this._future.pop(),this._past.push(t),this.versionId++};return t}();var FQ=function(){function t(t){this.editStacks=t,this._versionIds=[];for(var i=0,n=this.editStacks.length;i<n;i++)this._versionIds[i]=this.editStacks[i].versionId}t.prototype.isValid=function(){for(var t=0,i=this.editStacks.length;t<i;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0};return t}();var SQ=new _Q("","");SQ.locked=!0;var IQ=function(){function t(t,i){this._dialogService=t,this._notificationService=i,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}t.prototype.getUriComparisonKey=function(t){for(var i=0,n=this._uriComparisonKeyComputers;i<n.length;i++){var r=n[i];if(r[0]===t.scheme)return r[1].getComparisonKey(t)}return t.toString()};t.prototype._print=function(t){console.log("------------------------------------"),console.log("AFTER ".concat(t,": "));var i=[];for(var n=0,r=this._editStacks;n<r.length;n++){var e=r[n];i.push(e[1].toString())}console.log(i.join("\n"))};t.prototype.pushElement=function(t,i,n){if(i===void 0){i=RF.None}if(n===void 0){n=TF.None}if(t.type===0){var r=xQ(t.resource),e=this.getUriComparisonKey(t.resource);this._pushElement(new BQ(t,r,e,i.id,i.nextOrder(),n.id,n.nextOrder()))}else{var r=new Set,e=[],o=[];for(var s=0,u=t.resources;s<u.length;s++){var a=u[s];var c=xQ(a),h=this.getUriComparisonKey(a);r.has(h)||(r.add(h),e.push(c),o.push(h))}e.length===1?this._pushElement(new BQ(t,e[0],o[0],i.id,i.nextOrder(),n.id,n.nextOrder())):this._pushElement(new MQ(t,e,o,i.id,i.nextOrder(),n.id,n.nextOrder()))}};t.prototype._pushElement=function(t){for(var i=0,n=t.strResources.length;i<n;i++){var r=t.resourceLabels[i],e=t.strResources[i];var o=void 0;this._editStacks.has(e)?o=this._editStacks.get(e):(o=new _Q(r,e),this._editStacks.set(e,o)),o.pushElement(t)}};t.prototype.getLastElement=function(t){var i=this.getUriComparisonKey(t);if(this._editStacks.has(i)){var n=this._editStacks.get(i);if(n.hasFutureElements())return null;var r=n.getClosestPastElement();return r?r.actual:null}return null};t.prototype._splitPastWorkspaceElement=function(t,i){var n=t.actual.split(),r=new Map;for(var e=0,o=n;e<o.length;e++){var s=o[e];var u=xQ(s.resource),a=this.getUriComparisonKey(s.resource),c=new BQ(s,u,a,0,0,0,0);r.set(c.strResource,c)}for(var h=0,f=t.strResources;h<f.length;h++){var s=f[h];i&&i.has(s)||this._editStacks.get(s).splitPastWorkspaceElement(t,r)}};t.prototype._splitFutureWorkspaceElement=function(t,i){var n=t.actual.split(),r=new Map;for(var e=0,o=n;e<o.length;e++){var s=o[e];var u=xQ(s.resource),a=this.getUriComparisonKey(s.resource),c=new BQ(s,u,a,0,0,0,0);r.set(c.strResource,c)}for(var h=0,f=t.strResources;h<f.length;h++){var s=f[h];i&&i.has(s)||this._editStacks.get(s).splitFutureWorkspaceElement(t,r)}};t.prototype.removeElements=function(t){var i=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(i)&&(this._editStacks.get(i).dispose(),this._editStacks.delete(i))};t.prototype.setElementsValidFlag=function(t,i,n){var r=this.getUriComparisonKey(t);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(i,n)};t.prototype.createSnapshot=function(t){var i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).createSnapshot(t):new NF(t,[])};t.prototype.restoreSnapshot=function(t){var i=this.getUriComparisonKey(t.resource);if(this._editStacks.has(i)){var n=this._editStacks.get(i);n.restoreSnapshot(t),n.hasPastElements()||n.hasFutureElements()||(n.dispose(),this._editStacks.delete(i))}};t.prototype.getElements=function(t){var i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).getElements():{past:[],future:[]}};t.prototype._findClosestUndoElementWithSource=function(t){if(!t)return[null,null];var i=null,n=null;for(var r=0,e=this._editStacks;r<e.length;r++){var o=e[r],s=o[0],u=o[1];var a=u.getClosestPastElement();a&&a.sourceId===t&&(!i||a.sourceOrder>i.sourceOrder)&&(i=a,n=s)}return[i,n]};t.prototype.canUndo=function(t){if(t instanceof TF){var i=this._findClosestUndoElementWithSource(t.id),n=i[1];return!!n}var r=this.getUriComparisonKey(t);return this._editStacks.has(r)?this._editStacks.get(r).hasPastElements():!1};t.prototype._onError=function(t,i){cn(t);for(var n=0,r=i.strResources;n<r.length;n++){var e=r[n];this.removeElements(e)}this._notificationService.error(t)};t.prototype._acquireLocks=function(t){for(var i=0,n=t.editStacks;i<n.length;i++){var r=n[i];if(r.locked)throw new Error("Cannot acquire edit stack lock")}for(var e=0,o=t.editStacks;e<o.length;e++){var r=o[e];r.locked=!0}return function(){for(var i=0,n=t.editStacks;i<n.length;i++){var r=n[i];r.locked=!1}}};t.prototype._safeInvokeWithLocks=function(t,i,n,r,e){var o=this;var s=this._acquireLocks(n);var u;try{u=i()}catch(i){return s(),r.dispose(),this._onError(i,t)}return u?u.then((function(){return s(),r.dispose(),e()}),(function(i){return s(),r.dispose(),o._onError(i,t)})):(s(),r.dispose(),e())};t.prototype._invokeWorkspacePrepare=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){if(t.actual.prepareUndoRedo===void 0)return[2,Cn.None];i=t.actual.prepareUndoRedo();return[2,i===void 0?Cn.None:i]}))}))};t.prototype._invokeResourcePrepare=function(t,i){if(t.actual.type!==1||t.actual.prepareUndoRedo===void 0)return i(Cn.None);var n=t.actual.prepareUndoRedo();return n?yn(n)?i(n):n.then((function(t){return i(t)})):i(Cn.None)};t.prototype._getAffectedEditStacks=function(t){var i=[];for(var n=0,r=t.strResources;n<r.length;n++){var e=r[n];i.push(this._editStacks.get(e)||SQ)}return new FQ(i)};t.prototype._tryToSplitAndUndo=function(t,i,n,r){if(i.canSplit())return this._splitPastWorkspaceElement(i,n),this._notificationService.warn(r),new QQ(this._undo(t,0,!0));for(var e=0,o=i.strResources;e<o.length;e++){var s=o[e];this.removeElements(s)}return this._notificationService.warn(r),new QQ};t.prototype._checkWorkspaceUndo=function(t,i,n,r){if(i.removedResources)return this._tryToSplitAndUndo(t,i,i.removedResources,Bt(0,"Could not undo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(r&&i.invalidatedResources)return this._tryToSplitAndUndo(t,i,i.invalidatedResources,Bt(0,"Could not undo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));var e=[];for(var o=0,s=n.editStacks;o<s.length;o++){var u=s[o];u.getClosestPastElement()!==i&&e.push(u.resourceLabel)}if(e.length>0)return this._tryToSplitAndUndo(t,i,null,Bt(0,"Could not undo '{0}' across all files because changes were made to {1}",i.label,e.join(", ")));var a=[];for(var c=0,h=n.editStacks;c<h.length;c++){var u=h[c];u.locked&&a.push(u.resourceLabel)}return a.length>0?this._tryToSplitAndUndo(t,i,null,Bt(0,"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,a.join(", "))):n.isValid()?null:this._tryToSplitAndUndo(t,i,null,Bt(0,"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))};t.prototype._workspaceUndo=function(t,i,n){var r=this._getAffectedEditStacks(i),e=this._checkWorkspaceUndo(t,i,r,!1);return e?e.returnValue:this._confirmAndExecuteWorkspaceUndo(t,i,r,n)};t.prototype._isPartOfUndoGroup=function(t){if(!t.groupId)return!1;for(var i=0,n=this._editStacks;i<n.length;i++){var r=n[i],e=r[1];var o=e.getClosestPastElement();if(o){if(o===t){var s=e.getSecondClosestPastElement();if(s&&s.groupId===t.groupId)return!0}if(o.groupId===t.groupId)return!0}}return!1};t.prototype._confirmAndExecuteWorkspaceUndo=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,l;var d=this;return __generator(this,(function(v){switch(v.label){case 0:if(!(i.canSplit()&&!this._isPartOfUndoGroup(i)))return[3,2];(function(t){t[t.All=0]="All",t[t.This=1]="This",t[t.Cancel=2]="Cancel"})(e||(e={}));return[4,this._dialogService.prompt({type:YI.Info,message:Bt(0,"Would you like to undo '{0}' across all files?",i.label),buttons:[{label:Bt(0,"&&Undo in {0} Files",n.editStacks.length),run:function(){return e.All}},{label:Bt(0,"Undo this &&File"),run:function(){return e.This}}],cancelButton:{run:function(){return e.Cancel}}})];case 1:o=v.sent().result;if(o===e.Cancel)return[2];if(o===e.This)return[2,(this._splitPastWorkspaceElement(i,null),this._undo(t,0,!0))];s=this._checkWorkspaceUndo(t,i,n,!1);if(s)return[2,s.returnValue];r=!0;v.label=2;case 2:v.trys.push([2,4,,5]);return[4,this._invokeWorkspacePrepare(i)];case 3:u=v.sent();return[3,5];case 4:a=v.sent();return[2,this._onError(a,i)];case 5:c=this._checkWorkspaceUndo(t,i,n,!0);if(c)return[2,(u.dispose(),c.returnValue)];for(h=0,f=n.editStacks;h<f.length;h++){l=f[h];l.moveBackward(i)}return[2,this._safeInvokeWithLocks(i,(function(){return i.actual.undo()}),n,u,(function(){return d._continueUndoInGroup(i.groupId,r)}))]}}))}))};t.prototype._resourceUndo=function(t,i,n){var r=this;if(i.isValid){if(!t.locked)return this._invokeResourcePrepare(i,(function(e){return t.moveBackward(i),r._safeInvokeWithLocks(i,(function(){return i.actual.undo()}),new FQ([t]),e,(function(){return r._continueUndoInGroup(i.groupId,n)}))}));{var e=Bt(0,"Could not undo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(e)}}else t.flushAllElements()};t.prototype._findClosestUndoElementInGroup=function(t){if(!t)return[null,null];var i=null,n=null;for(var r=0,e=this._editStacks;r<e.length;r++){var o=e[r],s=o[0],u=o[1];var a=u.getClosestPastElement();a&&a.groupId===t&&(!i||a.groupOrder>i.groupOrder)&&(i=a,n=s)}return[i,n]};t.prototype._continueUndoInGroup=function(t,i){if(!t)return;var n=this._findClosestUndoElementInGroup(t),r=n[1];return r?this._undo(r,0,i):void 0};t.prototype.undo=function(t){if(t instanceof TF){var i=this._findClosestUndoElementWithSource(t.id),n=i[1];return n?this._undo(n,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)};t.prototype._undo=function(t,i,n){if(i===void 0){i=0}if(!this._editStacks.has(t))return;var r=this._editStacks.get(t),e=r.getClosestPastElement();if(e){if(e.groupId){var o=this._findClosestUndoElementInGroup(e.groupId),s=o[0],u=o[1];if(e!==s&&u)return this._undo(u,i,n)}if((e.sourceId!==i||e.confirmBeforeUndo)&&!n)return this._confirmAndContinueUndo(t,i,e);try{return e.type===1?this._workspaceUndo(t,e,n):this._resourceUndo(r,e,n)}finally{}}};t.prototype._confirmAndContinueUndo=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){switch(r.label){case 0:return[4,this._dialogService.confirm({message:Bt(0,"Would you like to undo '{0}'?",n.label),primaryButton:Bt(0,"&&Yes"),cancelButton:Bt(0,"No")})];case 1:if(r.sent().confirmed)return[2,this._undo(t,i,!0)];return[2]}}))}))};t.prototype._findClosestRedoElementWithSource=function(t){if(!t)return[null,null];var i=null,n=null;for(var r=0,e=this._editStacks;r<e.length;r++){var o=e[r],s=o[0],u=o[1];var a=u.getClosestFutureElement();a&&a.sourceId===t&&(!i||a.sourceOrder<i.sourceOrder)&&(i=a,n=s)}return[i,n]};t.prototype.canRedo=function(t){if(t instanceof TF){var i=this._findClosestRedoElementWithSource(t.id),n=i[1];return!!n}var r=this.getUriComparisonKey(t);return this._editStacks.has(r)?this._editStacks.get(r).hasFutureElements():!1};t.prototype._tryToSplitAndRedo=function(t,i,n,r){if(i.canSplit())return this._splitFutureWorkspaceElement(i,n),this._notificationService.warn(r),new QQ(this._redo(t));for(var e=0,o=i.strResources;e<o.length;e++){var s=o[e];this.removeElements(s)}return this._notificationService.warn(r),new QQ};t.prototype._checkWorkspaceRedo=function(t,i,n,r){if(i.removedResources)return this._tryToSplitAndRedo(t,i,i.removedResources,Bt(0,"Could not redo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(r&&i.invalidatedResources)return this._tryToSplitAndRedo(t,i,i.invalidatedResources,Bt(0,"Could not redo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));var e=[];for(var o=0,s=n.editStacks;o<s.length;o++){var u=s[o];u.getClosestFutureElement()!==i&&e.push(u.resourceLabel)}if(e.length>0)return this._tryToSplitAndRedo(t,i,null,Bt(0,"Could not redo '{0}' across all files because changes were made to {1}",i.label,e.join(", ")));var a=[];for(var c=0,h=n.editStacks;c<h.length;c++){var u=h[c];u.locked&&a.push(u.resourceLabel)}return a.length>0?this._tryToSplitAndRedo(t,i,null,Bt(0,"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,a.join(", "))):n.isValid()?null:this._tryToSplitAndRedo(t,i,null,Bt(0,"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))};t.prototype._workspaceRedo=function(t,i){var n=this._getAffectedEditStacks(i),r=this._checkWorkspaceRedo(t,i,n,!1);return r?r.returnValue:this._executeWorkspaceRedo(t,i,n)};t.prototype._executeWorkspaceRedo=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u,a;var c=this;return __generator(this,(function(h){switch(h.label){case 0:h.trys.push([0,2,,3]);return[4,this._invokeWorkspacePrepare(i)];case 1:r=h.sent();return[3,3];case 2:e=h.sent();return[2,this._onError(e,i)];case 3:o=this._checkWorkspaceRedo(t,i,n,!0);if(o)return[2,(r.dispose(),o.returnValue)];for(s=0,u=n.editStacks;s<u.length;s++){a=u[s];a.moveForward(i)}return[2,this._safeInvokeWithLocks(i,(function(){return i.actual.redo()}),n,r,(function(){return c._continueRedoInGroup(i.groupId)}))]}}))}))};t.prototype._resourceRedo=function(t,i){var n=this;if(i.isValid){if(!t.locked)return this._invokeResourcePrepare(i,(function(r){return t.moveForward(i),n._safeInvokeWithLocks(i,(function(){return i.actual.redo()}),new FQ([t]),r,(function(){return n._continueRedoInGroup(i.groupId)}))}));{var r=Bt(0,"Could not redo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(r)}}else t.flushAllElements()};t.prototype._findClosestRedoElementInGroup=function(t){if(!t)return[null,null];var i=null,n=null;for(var r=0,e=this._editStacks;r<e.length;r++){var o=e[r],s=o[0],u=o[1];var a=u.getClosestFutureElement();a&&a.groupId===t&&(!i||a.groupOrder<i.groupOrder)&&(i=a,n=s)}return[i,n]};t.prototype._continueRedoInGroup=function(t){if(!t)return;var i=this._findClosestRedoElementInGroup(t),n=i[1];return n?this._redo(n):void 0};t.prototype.redo=function(t){if(t instanceof TF){var i=this._findClosestRedoElementWithSource(t.id),n=i[1];return n?this._redo(n):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))};t.prototype._redo=function(t){if(!this._editStacks.has(t))return;var i=this._editStacks.get(t),n=i.getClosestFutureElement();if(n){if(n.groupId){var r=this._findClosestRedoElementInGroup(n.groupId),e=r[0],o=r[1];if(n!==e&&o)return this._redo(o)}try{return n.type===1?this._workspaceRedo(t,n):this._resourceRedo(i,n)}finally{}}};return t}();IQ=yQ([kQ(0,bQ),kQ(1,PI)],IQ);var QQ=function(){function t(t){this.returnValue=t}return t}();function OQ(t,i,n){return Math.min(Math.max(t,i),n)}Ad(OF,IQ,1);var NQ=function(){function t(){this._n=1,this._val=0}t.prototype.update=function(t){return this._val=this._val+(t-this._val)/this._n,this._n+=1,this._val};Object.defineProperty(t.prototype,"value",{get:function(){return this._val},enumerable:false,configurable:true});return t}();var RQ=function(){function t(t){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(t),this._values.fill(0,0,t)}t.prototype.update=function(t){var i=this._values[this._index];return this._values[this._index]=t,this._index=(this._index+1)%this._values.length,this._sum-=i,this._sum+=t,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val};Object.defineProperty(t.prototype,"value",{get:function(){return this._val},enumerable:false,configurable:true});return t}();var TQ=lh("environmentService");var LQ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},jQ=function(t,i){return function(n,r){i(n,r,t)}};var zQ=lh("ILanguageFeatureDebounceService");var UQ;(function(t){var i=new WeakMap;var n=0;t.of=function(t){var r=i.get(t);return r===void 0&&(r=++n,i.set(t,r)),r}})(UQ||(UQ={}));var HQ=function(){function t(t){this._default=t}t.prototype.get=function(t){return this._default};t.prototype.update=function(t,i){return this._default};t.prototype.default=function(){return this._default};return t}();var YQ=function(){function t(t,i,n,r,e,o){this._logService=t,this._name=i,this._registry=n,this._default=r,this._min=e,this._max=o,this._cache=new xv(50,.7)}t.prototype._key=function(t){return t.id+this._registry.all(t).reduce((function(t,i){return da(UQ.of(i),t)}),0)};t.prototype.get=function(t){var i=this._key(t),n=this._cache.get(i);return n?OQ(n.value,this._min,this._max):this.default()};t.prototype.update=function(t,i){var n=this._key(t);var r=this._cache.get(n);r||(r=new RQ(6),this._cache.set(n,r));var e=OQ(r.update(i),this._min,this._max);return sa(t.uri,"output")||this._logService.trace("[DEBOUNCE: ".concat(this._name,"] for ").concat(t.uri.toString()," is ").concat(e,"ms")),e};t.prototype._overall=function(){var t=new NQ;for(var i=0,n=this._cache;i<n.length;i++){var r=n[i],e=r[1];t.update(e.value)}return t.value};t.prototype.default=function(){return OQ(0|this._overall()||this._default,this._min,this._max)};return t}();var JQ=function(){function t(t,i){this._logService=t,this._data=new Map,this._isDev=i.isExtensionDevelopment||!i.isBuilt}t.prototype.for=function(t,i,n){var r,e,o;var s=(r=n==null?void 0:n.min)!==null&&r!==void 0?r:50,u=(e=n==null?void 0:n.max)!==null&&e!==void 0?e:Math.pow(s,2),a=(o=n==null?void 0:n.key)!==null&&o!==void 0?o:void 0,c="".concat(UQ.of(t),",").concat(s).concat(a?","+a:"");var h=this._data.get(c);return h||(this._isDev?h=new YQ(this._logService,i,t,0|this._overallAverage()||1.5*s,s,u):(this._logService.debug("[DEBOUNCE: ".concat(i,"] is disabled in developed mode")),h=new HQ(1.5*s)),this._data.set(c,h)),h};t.prototype._overallAverage=function(){var t=new NQ;for(var i=0,n=this._data.values();i<n.length;i++){var r=n[i];t.update(r.default())}return t.value};return t}();JQ=LQ([jQ(0,Lf),jQ(1,TQ)],JQ),Ad(zQ,JQ,1);var PQ=function(){function t(t,i){this._startLineNumber=t,this._tokens=i,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}t.create=function(i,n){return new t(i,new WQ(n))};Object.defineProperty(t.prototype,"startLineNumber",{get:function(){return this._startLineNumber},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"endLineNumber",{get:function(){return this._endLineNumber},enumerable:false,configurable:true});t.prototype.toString=function(){return this._tokens.toString(this._startLineNumber)};t.prototype._updateEndLineNumber=function(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()};t.prototype.isEmpty=function(){return this._tokens.isEmpty()};t.prototype.getLineTokens=function(t){return this._startLineNumber<=t&&t<=this._endLineNumber?this._tokens.getLineTokens(t-this._startLineNumber):null};t.prototype.getRange=function(){var t=this._tokens.getRange();return t&&new Zr(this._startLineNumber+t.startLineNumber,t.startColumn,this._startLineNumber+t.endLineNumber,t.endColumn)};t.prototype.removeTokens=function(t){var i=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(i,t.startColumn-1,n,t.endColumn-1),this._updateEndLineNumber()};t.prototype.split=function(i){var n=i.startLineNumber-this._startLineNumber,r=i.endLineNumber-this._startLineNumber,e=this._tokens.split(n,i.startColumn-1,r,i.endColumn-1),o=e[0],s=e[1],u=e[2];return[new t(this._startLineNumber,o),new t(this._startLineNumber+u,s)]};t.prototype.applyEdit=function(t,i){var n=_D(i),r=n[0],e=n[1],o=n[2];this.acceptEdit(t,r,e,o,i.length>0?i.charCodeAt(0):0)};t.prototype.acceptEdit=function(t,i,n,r,e){this._acceptDeleteRange(t),this._acceptInsertText(new qr(t.startLineNumber,t.startColumn),i,n,r,e),this._updateEndLineNumber()};t.prototype._acceptDeleteRange=function(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;var i=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;if(n<0){var r=n-i;return void(this._startLineNumber-=r)}var e=this._tokens.getMaxDeltaLine();if(!(i>=e+1)){if(i<0&&n>=e+1)return this._startLineNumber=0,void this._tokens.clear();if(i<0){var r=-i;this._startLineNumber-=r,this._tokens.acceptDeleteRange(t.startColumn-1,0,0,n,t.endColumn-1)}else this._tokens.acceptDeleteRange(0,i,t.startColumn-1,n,t.endColumn-1)}};t.prototype._acceptInsertText=function(t,i,n,r,e){if(i===0&&n===0)return;var o=t.lineNumber-this._startLineNumber;if(o<0)return void(this._startLineNumber+=i);o>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(o,t.column-1,i,n,r,e)};return t}();var WQ=function(){function t(t){this._tokens=t,this._tokenCount=t.length/4}t.prototype.toString=function(t){var i=[];for(var n=0;n<this._tokenCount;n++)i.push("(".concat(this._getDeltaLine(n)+t,",").concat(this._getStartCharacter(n),"-").concat(this._getEndCharacter(n),")"));return"[".concat(i.join(","),"]")};t.prototype.getMaxDeltaLine=function(){var t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)};t.prototype.getRange=function(){var t=this._getTokenCount();if(t===0)return null;var i=this._getStartCharacter(0),n=this._getDeltaLine(t-1),r=this._getEndCharacter(t-1);return new Zr(0,i+1,n,r+1)};t.prototype._getTokenCount=function(){return this._tokenCount};t.prototype._getDeltaLine=function(t){return this._tokens[4*t]};t.prototype._getStartCharacter=function(t){return this._tokens[4*t+1]};t.prototype._getEndCharacter=function(t){return this._tokens[4*t+2]};t.prototype.isEmpty=function(){return this._getTokenCount()===0};t.prototype.getLineTokens=function(t){var i=0,n=this._getTokenCount()-1;for(;i<n;){var r=i+Math.floor((n-i)/2),e=this._getDeltaLine(r);if(e<t)i=r+1;else{if(!(e>t)){var o=r;for(;o>i&&this._getDeltaLine(o-1)===t;)o--;var s=r;for(;s<n&&this._getDeltaLine(s+1)===t;)s++;return new GQ(this._tokens.subarray(4*o,4*s+4))}n=r-1}}return this._getDeltaLine(i)===t?new GQ(this._tokens.subarray(4*i,4*i+4)):null};t.prototype.clear=function(){this._tokenCount=0};t.prototype.removeTokens=function(t,i,n,r){var e=this._tokens,o=this._tokenCount;var s=0,u=!1,a=0;for(var c=0;c<o;c++){var h=4*c,f=e[h],l=e[h+1],d=e[h+2],v=e[h+3];if((f>t||f===t&&d>=i)&&(f<n||f===n&&l<=r))u=!0;else{if(s===0&&(a=f),u){var A=4*s;e[A]=f-a,e[A+1]=l,e[A+2]=d,e[A+3]=v}s++}}return this._tokenCount=s,a};t.prototype.split=function(i,n,r,e){var o=this._tokens,s=this._tokenCount,u=[],a=[];var c=u,h=0,f=0;for(var l=0;l<s;l++){var d=4*l,v=o[d],A=o[d+1],g=o[d+2],w=o[d+3];if(v>i||v===i&&g>=n){if(v<r||v===r&&A<=e)continue;c!==a&&(c=a,h=0,f=v)}c[h++]=v-f,c[h++]=A,c[h++]=g,c[h++]=w}return[new t(new Uint32Array(u)),new t(new Uint32Array(a)),f]};t.prototype.acceptDeleteRange=function(t,i,n,r,e){var o=this._tokens,s=this._tokenCount,u=r-i;var a=0,c=!1;for(var h=0;h<s;h++){var f=4*h;var l=o[f],d=o[f+1],v=o[f+2];var A=o[f+3];if(l<i||l===i&&v<=n){a++;continue}if(l===i&&d<n)l===r&&v>e?v-=e-n:v=n;else if(l===i&&d===n){if(!(l===r&&v>e)){c=!0;continue}v-=e-n}else if(l<r||l===r&&d<e){if(!(l===r&&v>e)){c=!0;continue}l=i,d=n,v=d+(v-e)}else if(l>r){if(u===0&&!c){a=s;break}l-=u}else{if(!(l===r&&d>=e))throw new Error("Not possible!");t&&l===0&&(d+=t,v+=t),l-=u,d-=e-n,v-=e-n}var g=4*a;o[g]=l,o[g+1]=d,o[g+2]=v,o[g+3]=A,a++}this._tokenCount=a};t.prototype.acceptInsertText=function(t,i,n,r,e,o){var s=n===0&&r===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),u=this._tokens,a=this._tokenCount;for(var c=0;c<a;c++){var h=4*c;var f=u[h],l=u[h+1],d=u[h+2];if(!(f<t||f===t&&d<i)){if(f===t&&d===i){if(!s)continue;d+=1}else if(f===t&&l<i&&i<d)n===0?d+=r:d=i;else{if(f===t&&l===i&&s)continue;if(f===t)if(f+=n,n===0)l+=r,d+=r;else{var v=d-l;l=e+(l-i),d=l+v}else f+=n}u[h]=f,u[h+1]=l,u[h+2]=d}}};return t}();var GQ=function(){function t(t){this._tokens=t}t.prototype.getCount=function(){return this._tokens.length/4};t.prototype.getStartCharacter=function(t){return this._tokens[4*t+1]};t.prototype.getEndCharacter=function(t){return this._tokens[4*t+2]};t.prototype.getMetadata=function(t){return this._tokens[4*t+3]};return t}();var VQ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},KQ=function(t,i){return function(n,r){i(n,r,t)}};var XQ=function(){function t(t,i,n,r){this._legend=t,this._themeService=i,this._languageService=n,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new $Q}t.prototype.getMetadata=function(t,i,n){var r=this._languageService.languageIdCodec.encodeLanguageId(n),e=this._hashTable.get(t,i,r);var o;if(e)o=e.metadata,this._logService.getLevel()===jf.Trace&&this._logService.trace("SemanticTokensProviderStyling [CACHED] ".concat(t," / ").concat(i,": foreground ").concat(Qg.getForeground(o),", fontStyle ").concat(Qg.getFontStyle(o).toString(2)));else{var s=this._legend.tokenTypes[t];var u=[];if(s){var a=i;for(var c=0;a>0&&c<this._legend.tokenModifiers.length;c++)1&a&&u.push(this._legend.tokenModifiers[c]),a>>=1;a>0&&this._logService.getLevel()===jf.Trace&&(this._logService.trace("SemanticTokensProviderStyling: unknown token modifier index: ".concat(i.toString(2)," for legend: ").concat(JSON.stringify(this._legend.tokenModifiers))),u.push("not-in-legend"));var h=this._themeService.getColorTheme().getTokenStyleMetadata(s,u,n);h===void 0?o=2147483647:(o=0,h.italic!==void 0&&(o|=1|(h.italic?1:0)<<11),h.bold!==void 0&&(o|=2|(h.bold?2:0)<<11),h.underline!==void 0&&(o|=4|(h.underline?4:0)<<11),h.strikethrough!==void 0&&(o|=8|(h.strikethrough?8:0)<<11),h.foreground&&(o|=16|h.foreground<<15),o===0&&(o=2147483647))}else this._logService.getLevel()===jf.Trace&&this._logService.trace("SemanticTokensProviderStyling: unknown token type index: ".concat(t," for legend: ").concat(JSON.stringify(this._legend.tokenTypes))),o=2147483647,s="not-in-legend";this._hashTable.add(t,i,r,o),this._logService.getLevel()===jf.Trace&&this._logService.trace("SemanticTokensProviderStyling ".concat(t," (").concat(s,") / ").concat(i," (").concat(u.join(" "),"): foreground ").concat(Qg.getForeground(o),", fontStyle ").concat(Qg.getFontStyle(o).toString(2)))}return o};t.prototype.warnOverlappingSemanticTokens=function(t,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn("Overlapping semantic tokens detected at lineNumber ".concat(t,", column ").concat(i)))};t.prototype.warnInvalidLengthSemanticTokens=function(t,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn("Semantic token with invalid length detected at lineNumber ".concat(t,", column ").concat(i)))};t.prototype.warnInvalidEditStart=function(t,i,n,r,e){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn("Invalid semantic tokens edit detected (previousResultId: ".concat(t,", resultId: ").concat(i,") at edit #").concat(n,": The provided start offset ").concat(r," is outside the previous data (length ").concat(e,").")))};return t}();function qQ(t,i,n){var r=t.data,e=t.data.length/5|0,o=Math.max(Math.ceil(e/1024),400),s=[];var u=0,a=1,c=0;for(;u<e;){var h=u;var f=Math.min(h+o,e);if(f<e){var l=f;for(;l-1>h&&r[5*l]===0;)l--;if(l-1===h){var d=f;for(;d+1<e&&r[5*d]===0;)d++;f=d}else f=l}var v=new Uint32Array(4*(f-h)),A=0,g=0,w=0,p=0;for(;u<f;){var l=5*u,d=r[l],m=r[l+1],b=a+d|0,y=d===0?c+m|0:m,k=y+r[l+2]|0,x=r[l+3],E=r[l+4];if(k<=y)i.warnInvalidLengthSemanticTokens(b,y+1);else if(w===b&&p>y)i.warnOverlappingSemanticTokens(b,y+1);else{var B=i.getMetadata(x,E,n);B!==2147483647&&(g===0&&(g=b),v[A]=b-g,v[A+1]=y,v[A+2]=k,v[A+3]=B,A+=4,w=b,p=k)}a=b,c=y,u++}A!==v.length&&(v=v.subarray(0,A));var C=PQ.create(g,v);s.push(C)}return s}XQ=VQ([KQ(1,ex),KQ(2,ld),KQ(3,Lf)],XQ);var ZQ=function(){function t(t,i,n,r){this.tokenTypeIndex=t,this.tokenModifierSet=i,this.languageId=n,this.metadata=r,this.next=null}return t}();var $Q=function(){function t(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=t._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<t._SIZES.length?2/3*this._currentLength:0),this._elements=[],t._nullOutEntries(this._elements,this._currentLength)}t._nullOutEntries=function(t,i){for(var n=0;n<i;n++)t[n]=null};t.prototype._hash2=function(t,i){return(t<<5)-t+i|0};t.prototype._hashFunc=function(t,i,n){return this._hash2(this._hash2(t,i),n)%this._currentLength};t.prototype.get=function(t,i,n){var r=this._hashFunc(t,i,n);var e=this._elements[r];for(;e;){if(e.tokenTypeIndex===t&&e.tokenModifierSet===i&&e.languageId===n)return e;e=e.next}return null};t.prototype.add=function(i,n,r,e){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){var o=this._elements;this._currentLengthIndex++,this._currentLength=t._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<t._SIZES.length?2/3*this._currentLength:0),this._elements=[],t._nullOutEntries(this._elements,this._currentLength);for(var s=0,u=o;s<u.length;s++){var a=u[s];var c=a;for(;c;){var h=c.next;c.next=null,this._add(c),c=h}}}this._add(new ZQ(i,n,r,e))};t.prototype._add=function(t){var i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t};return t}();$Q._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var tO=lh("semanticTokensStylingService");var iO=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},nO=function(t,i){return function(n,r){i(n,r,t)}};var rO=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._themeService=i,e._logService=n,e._languageService=r,e._caches=new WeakMap,e._register(e._themeService.onDidColorThemeChange((function(){e._caches=new WeakMap})));return e}i.prototype.getStyling=function(t){return this._caches.has(t)||this._caches.set(t,new XQ(t.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(t)};return i}(Cn);rO=iO([nO(0,ex),nO(1,Lf),nO(2,ld)],rO),Ad(tO,rO,1);var eO="**",oO="/",sO="[/\\\\]",uO="[^/\\\\]",aO=/\//g;function cO(t,i){switch(t){case 0:return"";case 1:return"".concat(uO,"*?");default:return"(?:".concat(sO,"|").concat(uO,"+").concat(sO).concat(i?"|".concat(sO).concat(uO,"+"):"",")*?")}}function hO(t,i){if(!t)return[];var n=[];var r=!1,e=!1,o="";for(var s=0,u=t;s<u.length;s++){var a=u[s];switch(a){case i:if(!r&&!e){n.push(o),o="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":e=!0;break;case"]":e=!1}o+=a}return o&&n.push(o),n}function fO(t){if(!t)return"";var i="";var n=hO(t,oO);if(n.every((function(t){return t===eO})))i=".*";else{var r=!1;n.forEach((function(t,e){if(t===eO){if(r)return;i+=cO(2,e===n.length-1)}else{var o=!1,s="",u=!1,a="";for(var c=0,h=t;c<h.length;c++){var f=h[c];if(f!=="}"&&o)s+=f;else if(!u||f==="]"&&a)switch(f){case"{":o=!0;continue;case"[":u=!0;continue;case"}":{var l="(?:".concat(hO(s,",").map((function(t){return fO(t)})).join("|"),")");i+=l,o=!1,s="";break}case"]":i+="["+a+"]",u=!1,a="";break;case"?":i+=uO;continue;case"*":i+=cO(1);continue;default:i+=Eo(f)}else{var l=void 0;l=f==="-"?f:f!=="^"&&f!=="!"||a?f===oO?"":Eo(f):"^",a+=l}}e<n.length-1&&(n[e+1]!==eO||e+2<n.length)&&(i+=sO)}r=t===eO}))}return i}var lO=/^\*\*\/\*\.[\w\.-]+$/,dO=/^\*\*\/([\w\.-]+)\/?$/,vO=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,AO=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,gO=/^\*\*((\/[\w\.-]+)+)\/?$/,wO=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,pO=new xv(1e4),mO=function(){return!1},bO=function(){return null};function yO(t,i){if(!t)return bO;var n;n=typeof t!="string"?t.pattern:t,n=n.trim();var r="".concat(n,"_").concat(!!i.trimForExclusions);var e,o=pO.get(r);return o||(o=lO.test(n)?function(t,i){return function(n,r){return typeof n=="string"&&n.endsWith(t)?i:null}}(n.substr(4),n):(e=dO.exec(xO(n,i)))?function(t,i){var n="/".concat(t),r="\\".concat(t),e=function(e,o){return typeof e!="string"?null:o?o===t?i:null:e===t||e.endsWith(n)||e.endsWith(r)?i:null},o=[t];return e.basenames=o,e.patterns=[i],e.allBasenames=o,e}(e[1],n):(i.trimForExclusions?AO:vO).test(n)?function(t,i){var n=CO(t.slice(1,-1).split(",").map((function(t){return yO(t,i)})).filter((function(t){return t!==bO})),t),r=n.length;if(!r)return bO;if(r===1)return n[0];var e=function(i,r){for(var e=0,o=n.length;e<o;e++)if(n[e](i,r))return t;return null},o=n.find((function(t){return!!t.allBasenames}));o&&(e.allBasenames=o.allBasenames);var s=n.reduce((function(t,i){return i.allPaths?t.concat(i.allPaths):t}),[]);return s.length&&(e.allPaths=s),e}(n,i):(e=gO.exec(xO(n,i)))?EO(e[1].substr(1),n,!0):(e=wO.exec(xO(n,i)))?EO(e[1],n,!1):function(t){try{var i=new RegExp("^".concat(fO(t),"$"));return function(n){return i.lastIndex=0,typeof n=="string"&&i.test(n)?t:null}}catch(t){return bO}}(n),pO.set(r,o)),kO(o,t)}function kO(t,i){if(typeof i=="string")return t;var n=function(n,r){return VM(n,i.base,!Vt)?t(Co(n.substr(i.base.length),Qr),r):null};return n.allBasenames=t.allBasenames,n.allPaths=t.allPaths,n.basenames=t.basenames,n.patterns=t.patterns,n}function xO(t,i){return i.trimForExclusions&&t.endsWith("/**")?t.substr(0,t.length-2):t}function EO(t,i,n){var r=Qr===Cr.sep,e=r?t:t.replace(aO,Qr),o=Qr+e,s=Cr.sep+t;var u;return u=n?function(n,u){return typeof n!="string"||n!==e&&!n.endsWith(o)&&(r||n!==t&&!n.endsWith(s))?null:i}:function(n,o){return typeof n!="string"||n!==e&&(r||n!==t)?null:i},u.allPaths=[(n?"*/":"./")+t],u}function BO(t,i){if(i===void 0){i={}}if(!t)return mO;if(typeof t=="string"||function(t){var i=t;return i?typeof i.base=="string"&&typeof i.pattern=="string":!1}(t)){var n=yO(t,i);if(n===bO)return mO;var r=function(t,i){return!!n(t,i)};return n.allBasenames&&(r.allBasenames=n.allBasenames),n.allPaths&&(r.allPaths=n.allPaths),r}return function(t,i){var n=CO(Object.getOwnPropertyNames(t).map((function(n){return function(t,i,n){if(i===!1)return bO;var r=yO(t,n);if(r===bO)return bO;if(typeof i=="boolean")return r;if(i){var e=i.when;if(typeof e=="string"){var o=function(i,n,o,s){if(!s||!r(i,n))return null;var u=s(e.replace("$(basename)",(function(){return o})));return zs(u)?u.then((function(i){return i?t:null})):u?t:null};return o.requiresSiblings=!0,o}}return r}(n,t[n],i)})).filter((function(t){return t!==bO}))),r=n.length;if(!r)return bO;if(!n.some((function(t){return!!t.requiresSiblings}))){if(r===1)return n[0];var e=function(t,i){var r=this;var e;for(var o=0,s=n.length;o<s;o++){var u=n[o](t,i);if(typeof u=="string")return u;zs(u)&&(e||(e=[]),e.push(u))}return e?function(){return __awaiter(r,void 0,void 0,(function(){var t,i,n,r;return __generator(this,(function(o){switch(o.label){case 0:t=0,i=e;o.label=1;case 1:if(!(t<i.length))return[3,4];n=i[t];return[4,n];case 2:r=o.sent();if(typeof r=="string")return[2,r];o.label=3;case 3:t++;return[3,1];case 4:return[2,null]}}))}))}():null},o=n.find((function(t){return!!t.allBasenames}));o&&(e.allBasenames=o.allBasenames);var s=n.reduce((function(t,i){return i.allPaths?t.concat(i.allPaths):t}),[]);return s.length&&(e.allPaths=s),e}var u=function(t,i,r){var e=this;var o,s;for(var u=0,a=n.length;u<a;u++){var c=n[u];c.requiresSiblings&&r&&(i||(i=Sr(t)),o||(o=i.substr(0,i.length-Ir(t).length)));var h=c(t,i,o,r);if(typeof h=="string")return h;zs(h)&&(s||(s=[]),s.push(h))}return s?function(){return __awaiter(e,void 0,void 0,(function(){var t,i,n,r;return __generator(this,(function(e){switch(e.label){case 0:t=0,i=s;e.label=1;case 1:if(!(t<i.length))return[3,4];n=i[t];return[4,n];case 2:r=e.sent();if(typeof r=="string")return[2,r];e.label=3;case 3:t++;return[3,1];case 4:return[2,null]}}))}))}():null},a=n.find((function(t){return!!t.allBasenames}));a&&(u.allBasenames=a.allBasenames);var c=n.reduce((function(t,i){return i.allPaths?t.concat(i.allPaths):t}),[]);return c.length&&(u.allPaths=c),u}(t,i)}function CO(t,i){var n=t.filter((function(t){return!!t.basenames}));if(n.length<2)return t;var r=n.reduce((function(t,i){var n=i.basenames;return n?t.concat(n):t}),[]);var e;if(i){e=[];for(var o=0,s=r.length;o<s;o++)e.push(i)}else e=n.reduce((function(t,i){var n=i.patterns;return n?t.concat(n):t}),[]);var u=function(t,i){if(typeof t!="string")return null;if(!i){var n;for(n=t.length;n>0;n--){var o=t.charCodeAt(n-1);if(o===47||o===92)break}i=t.substr(n)}var s=r.indexOf(i);return s!==-1?e[s]:null};u.basenames=r,u.patterns=e,u.allBasenames=r;var a=t.filter((function(t){return!t.basenames}));return a.push(u),a}function DO(t,i,n,r,e,o){if(Array.isArray(t)){var s=0;for(var u=0,a=t;u<a.length;u++){var c=a[u];var h=DO(c,i,n,r,e,o);if(h===10)return h;h>s&&(s=h)}return s}if(typeof t=="string")return r?t==="*"?5:t===n?10:0:0;if(t){var s=t.language,f=t.pattern,h=t.scheme,l=t.hasAccessToAllModels,d=t.notebookType;if(!r&&!l)return 0;d&&e&&(i=e);var v=0;if(h)if(h===i.scheme)v=10;else{if(h!=="*")return 0;v=5}if(s)if(s===n)v=10;else{if(s!=="*")return 0;v=Math.max(v,5)}if(d)if(d===o)v=10;else{if(d!=="*"||o===void 0)return 0;v=Math.max(v,5)}if(f){var A=void 0;if(A=typeof f=="string"?f:__assign(__assign({},f),{base:Dr(f.base)}),A!==i.fsPath&&(g=A,w=i.fsPath,!g||typeof w!="string"||!BO(g)(w,void 0,p)))return 0;v=10}return v}return 0;var g,w,p}function MO(t){return typeof t!="string"&&(Array.isArray(t)?t.every(MO):!!t.exclusive)}var _O=function(){function t(t,i,n,r){this.uri=t,this.languageId=i,this.notebookUri=n,this.notebookType=r}t.prototype.equals=function(t){var i,n;return this.notebookType===t.notebookType&&this.languageId===t.languageId&&this.uri.toString()===t.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((n=t.notebookUri)===null||n===void 0?void 0:n.toString())};return t}();var FO=function(){function t(t){this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event}t.prototype.register=function(t,i){var n=this;var r={selector:t,provider:i,_score:-1,_time:this._clock++};return this._entries.push(r),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),En((function(){if(r){var t=n._entries.indexOf(r);t>=0&&(n._entries.splice(t,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),r=void 0)}}))};t.prototype.has=function(t){return this.all(t).length>0};t.prototype.all=function(t){if(!t)return[];this._updateScores(t);var i=[];for(var n=0,r=this._entries;n<r.length;n++){var e=r[n];e._score>0&&i.push(e.provider)}return i};t.prototype.ordered=function(t){var i=[];return this._orderedForEach(t,(function(t){return i.push(t.provider)})),i};t.prototype.orderedGroups=function(t){var i=[];var n,r;return this._orderedForEach(t,(function(t){n&&r===t._score?n.push(t.provider):(r=t._score,n=[t.provider],i.push(n))})),i};t.prototype._orderedForEach=function(t,i){this._updateScores(t);for(var n=0,r=this._entries;n<r.length;n++){var e=r[n];e._score>0&&i(e)}};t.prototype._updateScores=function(i){var n,r;var e=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,i.uri),o=e?new _O(i.uri,i.getLanguageId(),e.uri,e.type):new _O(i.uri,i.getLanguageId(),void 0,void 0);if(!(!((r=this._lastCandidate)===null||r===void 0)&&r.equals(o))){this._lastCandidate=o;for(var s=0,u=this._entries;s<u.length;s++){var a=u[s];if(a._score=DO(a.selector,o.uri,o.languageId,Tv(i),o.notebookUri,o.notebookType),MO(a.selector)&&a._score>0){for(var c=0,h=this._entries;c<h.length;c++){var f=h[c];f._score=0}a._score=1e3;break}}this._entries.sort(t._compareByScoreAndTime)}};t._compareByScoreAndTime=function(t,i){return t._score<i._score?1:t._score>i._score?-1:SO(t.selector)&&!SO(i.selector)?1:!SO(t.selector)&&SO(i.selector)?-1:t._time<i._time?1:t._time>i._time?-1:0};return t}();function SO(t){return typeof t!="string"&&(Array.isArray(t)?t.some(SO):!!t.isBuiltin)}Ad(gg,function(){function t(){this.referenceProvider=new FO(this._score.bind(this)),this.renameProvider=new FO(this._score.bind(this)),this.newSymbolNamesProvider=new FO(this._score.bind(this)),this.codeActionProvider=new FO(this._score.bind(this)),this.definitionProvider=new FO(this._score.bind(this)),this.typeDefinitionProvider=new FO(this._score.bind(this)),this.declarationProvider=new FO(this._score.bind(this)),this.implementationProvider=new FO(this._score.bind(this)),this.documentSymbolProvider=new FO(this._score.bind(this)),this.inlayHintsProvider=new FO(this._score.bind(this)),this.colorProvider=new FO(this._score.bind(this)),this.codeLensProvider=new FO(this._score.bind(this)),this.documentFormattingEditProvider=new FO(this._score.bind(this)),this.documentRangeFormattingEditProvider=new FO(this._score.bind(this)),this.onTypeFormattingEditProvider=new FO(this._score.bind(this)),this.signatureHelpProvider=new FO(this._score.bind(this)),this.hoverProvider=new FO(this._score.bind(this)),this.documentHighlightProvider=new FO(this._score.bind(this)),this.multiDocumentHighlightProvider=new FO(this._score.bind(this)),this.selectionRangeProvider=new FO(this._score.bind(this)),this.foldingRangeProvider=new FO(this._score.bind(this)),this.linkProvider=new FO(this._score.bind(this)),this.inlineCompletionsProvider=new FO(this._score.bind(this)),this.inlineEditProvider=new FO(this._score.bind(this)),this.completionProvider=new FO(this._score.bind(this)),this.linkedEditingRangeProvider=new FO(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new FO(this._score.bind(this)),this.documentSemanticTokensProvider=new FO(this._score.bind(this)),this.documentOnDropEditProvider=new FO(this._score.bind(this)),this.documentPasteEditProvider=new FO(this._score.bind(this))}t.prototype._score=function(t){var i;return(i=this._notebookTypeResolver)===null||i===void 0?void 0:i.call(this,t)};return t}(),1);var IO=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},QO=function(t,i){return function(n,r){i(n,r,t)}};var OO=lh("hoverService");var NO=function(t){__extends(i,t);function i(i,n,r,e,o){if(r===void 0){r={}}var s=this;s=t.call(this)||this,s.placement=i,s.instantHover=n,s.overrideOptions=r,s.configurationService=e,s.hoverService=o,s.lastHoverHideTime=0,s.timeLimit=200,s.hoverDisposables=s._register(new Bn),s._delay=s.configurationService.getValue("workbench.hover.delay"),s._register(s.configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration("workbench.hover.delay")&&(s._delay=s.configurationService.getValue("workbench.hover.delay"))})));return s}Object.defineProperty(i.prototype,"delay",{get:function(){return this.isInstantlyHovering()?0:this._delay},enumerable:false,configurable:true});i.prototype.showHover=function(t,i){var n=this;var r=typeof this.overrideOptions=="function"?this.overrideOptions(t,i):this.overrideOptions;this.hoverDisposables.clear();var e=t.target instanceof HTMLElement?[t.target]:t.target.targetElements;for(var o=0,s=e;o<s.length;o++){var u=s[o];this.hoverDisposables.add(Ra(u,"keydown",(function(t){t.equals(9)&&n.hoverService.hideHover()})))}var a=t.content instanceof HTMLElement?void 0:t.content.toString();return this.hoverService.showHover(__assign(__assign(__assign({},t),r),{persistence:__assign({hideOnKeyDown:!0},r.persistence),id:a,appearance:__assign(__assign(__assign({},t.appearance),{compact:!0,skipFadeInAnimation:this.isInstantlyHovering()}),r.appearance)}),i)};i.prototype.isInstantlyHovering=function(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit};i.prototype.onDidHideHover=function(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())};return i}(Cn);NO=IO([QO(3,sd),QO(4,OO)],NO);var RO=lh("contextViewService"),TO=lh("contextMenuService"),LO=Nc;var jO=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i.containerDomNode=document.createElement("div"),i.containerDomNode.className="monaco-hover",i.containerDomNode.tabIndex=0,i.containerDomNode.setAttribute("role","tooltip"),i.contentsDomNode=document.createElement("div"),i.contentsDomNode.className="monaco-hover-content",i.scrollbar=i._register(new Rk(i.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),i.containerDomNode.appendChild(i.scrollbar.getDomNode());return i}i.prototype.onContentsChanged=function(){this.scrollbar.scanDomNode()};return i}(Cn);var zO=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.actionContainer=_c(i,LO("div.action-container")),e.actionContainer.setAttribute("tabindex","0"),e.action=_c(e.actionContainer,LO("a.action")),e.action.setAttribute("role","button"),n.iconClass&&_c(e.action,LO("span.icon.".concat(n.iconClass))),_c(e.action,LO("span")).textContent=r?"".concat(n.label," (").concat(r,")"):n.label,e._register(Oa(e.actionContainer,Ec.CLICK,(function(t){t.stopPropagation(),t.preventDefault(),n.run(e.actionContainer)}))),e._register(Oa(e.actionContainer,Ec.KEY_DOWN,(function(t){var i=new Qs(t);(i.equals(3)||i.equals(10))&&(t.stopPropagation(),t.preventDefault(),n.run(e.actionContainer))}))),e.setEnabled(!0);return e}i.render=function(t,n,r){return new i(t,n,r)};i.prototype.setEnabled=function(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))};return i}(Cn);function UO(t,i){return t&&i?Bt(0,"Inspect this in the accessible view with {0}.",i):t?Bt(0,"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}var HO=lh("openerService");function YO(t,i){if(i===void 0){i={}}var n=JO(i);return WO(n,function(t,i){var n={type:1,children:[]};var r=0,e=n;var o=[],s=new PO(t);for(;!s.eos();){var u=s.next();var a=u==="\\"&&VO(s.peek(),i)!==0;if(a&&(u=s.next()),!a&&GO(u,i)&&u===s.peek()){s.advance(),e.type===2&&(e=o.pop());var c=VO(u,i);if(e.type===c||e.type===5&&c===6)e=o.pop();else{var h={type:c,children:[]};c===5&&(h.index=r,r++),e.children.push(h),o.push(e),e=h}}else if(u==="\n")e.type===2&&(e=o.pop()),e.children.push({type:8});else if(e.type!==2){var c={type:2,content:u};e.children.push(c),o.push(e),e=c}else e.content+=u}return e.type===2&&(e=o.pop()),n}(t,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),n}function JO(t){var i=t.inline?"span":"div",n=document.createElement(i);return t.className&&(n.className=t.className),n}var PO=function(){function t(t){this.source=t,this.index=0}t.prototype.eos=function(){return this.index>=this.source.length};t.prototype.next=function(){var t=this.peek();return this.advance(),t};t.prototype.peek=function(){return this.source[this.index]};t.prototype.advance=function(){this.index++};return t}();function WO(t,i,n,r){var e;if(i.type===2)e=document.createTextNode(i.content||"");else if(i.type===3)e=document.createElement("b");else if(i.type===4)e=document.createElement("i");else if(i.type===7&&r)e=document.createElement("code");else if(i.type===5&&n){var o=document.createElement("a");n.disposables.add(Ra(o,"click",(function(t){n.callback(String(i.index),t)}))),e=o}else i.type===8?e=document.createElement("br"):i.type===1&&(e=t);e&&t!==e&&t.appendChild(e),e&&Array.isArray(i.children)&&i.children.forEach((function(t){WO(e,t,n,r)}))}function GO(t,i){return VO(t,i)!==0}function VO(t,i){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}var KO=new RegExp("(\\\\)?\\$\\((".concat(xh.iconNameExpression,"(?:").concat(xh.iconModifierExpression,")?)\\)"),"g");function XO(t){var i=new Array;var n,r=0,e=0;for(;(n=KO.exec(t))!==null;){e=n.index||0,r<e&&i.push(t.substring(r,e)),r=(n.index||0)+n[0].length;var o=n[1],s=n[2];i.push(o?"$(".concat(s,")"):qO({id:s}))}return r<t.length&&i.push(t.substring(r)),i}function qO(t){var i;var n=Nc("span");return(i=n.classList).add.apply(i,xh.asClassNameArray(t)),n}function ZO(t){var i=function(t){if($O=0,iN(t,nN,4352),$O>0||(iN(t,rN,4449),$O>0)||(iN(t,eN,4520),$O>0)||(iN(t,oN,12593),$O))return tN.subarray(0,$O);if(t>=44032&&t<=55203){var i=t-44032,n=i%588,r=Math.floor(i/588),e=Math.floor(n/28),o=n%28-1;if(r<nN.length?iN(r,nN,0):4352+r-12593<oN.length&&iN(4352+r,oN,12593),e<rN.length?iN(e,rN,0):4449+e-12593<oN.length&&iN(4449+e-12593,oN,12593),o>=0&&(o<eN.length?iN(o,eN,0):4520+o-12593<oN.length&&iN(4520+o-12593,oN,12593)),$O>0)return tN.subarray(0,$O)}}(t);if(i&&i.length>0)return new Uint32Array(i)}var $O=0;var tN=new Uint32Array(10);function iN(t,i,n){t>=n&&t<n+i.length&&function(t){t!==0&&(tN[$O++]=255&t,t>>8&&(tN[$O++]=t>>8&255),t>>16&&(tN[$O++]=t>>16&255))}(i[t-n])}var nN=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),rN=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),eN=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),oN=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function sN(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return function(i,n){for(var r=0,e=t.length;r<e;r++){var o=t[r](i,n);if(o)return o}return null}}aN.bind(void 0,!1);var uN=aN.bind(void 0,!0);function aN(t,i,n){if(!n||n.length<i.length)return null;var r;return r=t?Uo(n,i):n.indexOf(i)===0,r?i.length>0?[{start:0,end:i.length}]:[]:null}function cN(t,i){var n=i.toLowerCase().indexOf(t.toLowerCase());return n===-1?null:[{start:n,end:n+t.length}]}function hN(t,i){return fN(t.toLowerCase(),i.toLowerCase(),0,0)}function fN(t,i,n,r){if(n===t.length)return[];if(r===i.length)return null;if(t[n]===i[r]){var e=null;return(e=fN(t,i,n+1,r+1))?kN({start:r,end:r+1},e):null}return fN(t,i,n,r+1)}function lN(t){return 97<=t&&t<=122}function dN(t){return 65<=t&&t<=90}function vN(t){return 48<=t&&t<=57}function AN(t){return t===32||t===9||t===10||t===13}var gN=new Set;function wN(t){return AN(t)||gN.has(t)}function pN(t,i){return t===i||wN(t)&&wN(i)}"()[]{}<>`'\"-/;:,.?!".split("").forEach((function(t){return gN.add(t.charCodeAt(0))}));var mN=new Map;function bN(t){if(mN.has(t))return mN.get(t);var i;var n=ZO(t);return n&&(i=n),mN.set(t,i),i}function yN(t){return lN(t)||dN(t)||vN(t)}function kN(t,i){return i.length===0?i=[t]:t.end===i[0].start?i[0].start=t.start:i.unshift(t),i}function xN(t,i){for(var n=i;n<t.length;n++){var r=t.charCodeAt(n);if(dN(r)||vN(r)||n>0&&!yN(t.charCodeAt(n-1)))return n}return t.length}function EN(t,i,n,r){if(n===t.length)return[];if(r===i.length||t[n]!==i[r].toLowerCase())return null;{var e=null,o=r+1;for(e=EN(t,i,n+1,r+1);!e&&(o=xN(i,o))<i.length;)e=EN(t,i,n+1,o),o++;return e===null?null:kN({start:r,end:r+1},e)}}function BN(t,i){if(!i||(i=i.trim()).length===0||!function(t){var i=0,n=0,r=0,e=0;for(var o=0;o<t.length;o++)r=t.charCodeAt(o),dN(r)&&i++,lN(r)&&n++,AN(r)&&e++;return i!==0&&n!==0||e!==0?i<=5:t.length<=30}(t))return null;i.length>60&&(i=i.substring(0,60));var n=function(t){var i=0,n=0,r=0,e=0,o=0;for(var s=0;s<t.length;s++)o=t.charCodeAt(s),dN(o)&&i++,lN(o)&&n++,yN(o)&&r++,vN(o)&&e++;return{upperPercent:i/t.length,lowerPercent:n/t.length,alphaPercent:r/t.length,numericPercent:e/t.length}}(i);if(!function(t){var i=t.upperPercent,n=t.lowerPercent,r=t.alphaPercent,e=t.numericPercent;return n>.2&&i<.8&&r>.6&&e<.2}(n)){if(!function(t){var i=t.upperPercent,n=t.lowerPercent;return n===0&&i>.6}(n))return null;i=i.toLowerCase()}var r=null,e=0;for(t=t.toLowerCase();e<i.length&&(r=EN(t,i,0,e))===null;)e=xN(i,e+1);return r}function CN(t,i,n,r,e){var o=0;if(n===t.length)return[];if(r===i.length)return null;if(!pN(t.charCodeAt(n),i.charCodeAt(r))){var s=bN(t.charCodeAt(n));if(!s)return null;for(var u=0;u<s.length;u++)if(!pN(s[u],i.charCodeAt(r+u)))return null;o+=s.length-1}var a=null,c=r+o+1;if(a=CN(t,i,n+1,c,e),!e)for(;!a&&(c=DN(i,c))<i.length;)a=CN(t,i,n+1,c,e),c++;if(!a)return null;if(t.charCodeAt(n)!==i.charCodeAt(r)){var s=bN(t.charCodeAt(n));if(!s)return a;for(var u=0;u<s.length;u++)if(s[u]!==i.charCodeAt(r+u))return a}return kN({start:r,end:r+o+1},a)}function DN(t,i){for(var n=i;n<t.length;n++)if(wN(t.charCodeAt(n))||n>0&&wN(t.charCodeAt(n-1)))return n;return t.length}var MN=sN(uN,BN,cN),_N=sN(uN,BN,hN),FN=new xv(1e4);function SN(t,i,n){if(n===void 0){n=!1}if(typeof t!="string"||typeof i!="string")return null;var r=FN.get(t);r||(r=new RegExp(t.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),FN.set(t,r));var e=r.exec(i);return e?[{start:e.index,end:e.index+e[0].length}]:n?_N(t,i):MN(t,i)}function IN(t,i){var n=VN(t,t.toLowerCase(),0,i,i.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return n?ON(n):null}function QN(t,i,n,r,e,o){var s=Math.min(13,t.length);for(;n<s;n++){var u=VN(t,i,n,r,e,o,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(u)return u}return[0,o]}function ON(t){if(t===void 0)return[];var i=[],n=t[1];for(var r=t.length-1;r>1;r--){var e=t[r]+n,o=i[i.length-1];o&&o.end===e?o.end=e+1:i.push({start:e,end:e+1})}return i}var NN=128;function RN(){var t=[],i=[];for(var n=0;n<=NN;n++)i[n]=0;for(var n=0;n<=NN;n++)t.push(i.slice(0));return t}function TN(t){var i=[];for(var n=0;n<=t;n++)i[n]=0;return i}var LN=TN(2*NN),jN=TN(2*NN),zN=RN(),UN=RN(),HN=RN();function YN(t,i){if(i<0||i>=t.length)return!1;var n=t.codePointAt(i);switch(n){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!os(n)}}function JN(t,i){if(i<0||i>=t.length)return!1;switch(t.charCodeAt(i)){case 32:case 9:return!0;default:return!1}}function PN(t,i,n){return i[t]!==n[t]}var WN;(function(t){t.Default=[-100,0],t.isDefault=function(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}})(WN||(WN={}));var GN=function(){function t(t,i){this.firstMatchCanBeWeak=t,this.boostFullMatch=i}return t}();function VN(t,i,n,r,e,o,s){if(s===void 0){s=GN.default}var u=t.length>NN?NN:t.length,a=r.length>NN?NN:r.length;if(n>=u||o>=a||u-n>a-o||!function(t,i,n,r,e,o,s){if(s===void 0){s=!1}for(;i<n&&e<o;)t[i]===r[e]&&(s&&(LN[i]=e),i+=1),e+=1;return i===n}(i,n,u,e,o,a,!0))return;(function(t,i,n,r,e,o){var s=t-1,u=i-1;for(;s>=n&&u>=r;)e[s]===o[u]&&(jN[s]=u,s--),u--})(u,a,n,o,i,e);var c=1,h=1,f=n,l=o;var d=[!1];for(c=1,f=n;f<u;c++,f++){var v=LN[f],A=jN[f],g=f+1<u?jN[f+1]:a;for(h=v-o+1,l=v;l<g;h++,l++){var w=Number.MIN_SAFE_INTEGER,p=!1;l<=A&&(w=KN(t,i,f,n,r,e,l,a,o,zN[c-1][h-1]===0,d));var m=0;w!==Number.MAX_SAFE_INTEGER&&(p=!0,m=w+UN[c-1][h-1]);var b=l>v,y=b?UN[c][h-1]+(zN[c][h-1]>0?-5:0):0,k=l>v+1&&zN[c][h-1]>0,x=k?UN[c][h-2]+(zN[c][h-2]>0?-5:0):0;if(k&&(!b||x>=y)&&(!p||x>=m))UN[c][h]=x,HN[c][h]=3,zN[c][h]=0;else if(b&&(!p||y>=m))UN[c][h]=y,HN[c][h]=2,zN[c][h]=0;else{if(!p)throw new Error("not possible");UN[c][h]=m,HN[c][h]=1,zN[c][h]=zN[c-1][h-1]+1}}}if(!d[0]&&!s.firstMatchCanBeWeak)return;c--,h--;var E=[UN[c][h],o];var B=0,C=0;for(;c>=1;){var v=h;do{var A=HN[c][v];if(A===3)v-=2;else{if(A!==2)break;v-=1}}while(v>=1);B>1&&i[n+c-1]===e[o+h-1]&&!PN(v+o-1,r,e)&&B+1>zN[c][v]&&(v=h),v===h?B++:B=1,C||(C=v),c--,h=v-1,E.push(h)}a===u&&s.boostFullMatch&&(E[0]+=2);var D=C-u;return E[0]-=D,E}function KN(t,i,n,r,e,o,s,u,a,c,h){if(i[n]!==o[s])return Number.MIN_SAFE_INTEGER;var f=1,l=!1;return s===n-r?f=t[n]===e[s]?7:5:!PN(s,e,o)||s!==0&&PN(s-1,e,o)?!YN(o,s)||s!==0&&YN(o,s-1)?(YN(o,s-1)||JN(o,s-1))&&(f=5,l=!0):f=5:(f=t[n]===e[s]?7:5,l=!0),f>1&&n===r&&(h[0]=!0),l||(l=PN(s,e,o)||YN(o,s-1)||JN(o,s-1)),n===r?s>a&&(f-=l?3:5):f+=c?l?2:0:l?0:1,s+1===u&&(f-=l?3:5),f}function XN(t,i,n,r,e,o,s){return function(t,i,n,r,e,o,s,u){var a=VN(t,i,n,r,e,o,u);if(a&&!s)return a;if(t.length>=3){var c=Math.min(7,t.length-1);for(var h=n+1;h<c;h++){var f=qN(t,h);if(f){var l=VN(f,f.toLowerCase(),n,r,e,o,u);l&&(l[0]-=3,(!a||l[0]>a[0])&&(a=l))}}}return a}(t,i,n,r,e,o,!0,s)}function qN(t,i){if(i+1>=t.length)return;var n=t[i],r=t[i+1];return n!==r?t.slice(0,i)+r+n+t.slice(i+2):void 0}GN.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};var ZN="$(",$N=new RegExp("\\$\\(".concat(xh.iconNameExpression,"(?:").concat(xh.iconModifierExpression,")?\\)"),"g"),tR=new RegExp("(\\\\)?".concat($N.source),"g"),iR=new RegExp("\\\\".concat($N.source),"g"),nR=new RegExp("(\\s)?(\\\\)?".concat($N.source,"(\\s)?"),"g");function rR(t){return t.indexOf(ZN)===-1?t:t.replace(nR,(function(t,i,n,r){return n?t:i||r||""}))}var eR=new RegExp("\\$\\(".concat(xh.iconNameCharacter,"+\\)"),"g");function oR(t){eR.lastIndex=0;var i="";var n=[];var r=0;for(;;){var e=eR.lastIndex,o=eR.exec(t),s=t.substring(e,o==null?void 0:o.index);if(s.length>0){i+=s;for(var u=0;u<s.length;u++)n.push(r)}if(!o)break;r+=o[0].length}return{text:i,iconOffsets:n}}function sR(t,i,n){if(n===void 0){n=!1}var r=i.text,e=i.iconOffsets;if(!e||e.length===0)return SN(t,r,n);var o=Co(r," "),s=r.length-o.length,u=SN(t,o,n);if(u)for(var a=0,c=u;a<c.length;a++){var h=c[a];var f=e[h.start+s]+s;h.start+=f,h.end+=f}return u}var uR=function(){function t(t,i){if(t===void 0){t=""}if(i===void 0){i=!1}var n,r,e;if(this.value=t,typeof this.value!="string")throw An("value");typeof i=="boolean"?(this.isTrusted=i,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(n=i.isTrusted)!==null&&n!==void 0?n:void 0,this.supportThemeIcons=(r=i.supportThemeIcons)!==null&&r!==void 0&&r,this.supportHtml=(e=i.supportHtml)!==null&&e!==void 0&&e)}t.prototype.appendText=function(t,i){if(i===void 0){i=0}return this.value+=function(t){return t.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}(this.supportThemeIcons?function(t){return t.replace(tR,(function(t,i){return i?t:"\\".concat(t)}))}(t):t).replace(/([ \t]+)/g,(function(t,i){return"&nbsp;".repeat(i.length)})).replace(/\>/gm,"\\>").replace(/\n/g,i===1?"\\\n":"\n\n"),this};t.prototype.appendMarkdown=function(t){return this.value+=t,this};t.prototype.appendCodeblock=function(t,i){return this.value+="\n".concat(function(t,i){var n,r;var e=(r=(n=t.match(/^`+/gm))===null||n===void 0?void 0:n.reduce((function(t,i){return t.length>i.length?t:i})).length)!==null&&r!==void 0?r:0,o=e>=3?e+1:3;return["".concat("`".repeat(o)).concat(i),t,"".concat("`".repeat(o))].join("\n")}(i,t),"\n"),this};t.prototype.appendLink=function(t,i,n){return this.value+="[",this.value+=this._escape(i,"]"),this.value+="](",this.value+=this._escape(String(t),")"),n&&(this.value+=' "'.concat(this._escape(this._escape(n,'"'),")"),'"')),this.value+=")",this};t.prototype._escape=function(t,i){var n=new RegExp(Eo(i),"g");return t.replace(n,(function(i,n){return t.charAt(n-1)!=="\\"?"\\".concat(i):i}))};return t}();function aR(t){return cR(t)?!t.value:!Array.isArray(t)||t.every(aR)}function cR(t){return t instanceof uR||!(!t||typeof t!="object")&&!(typeof t.value!="string"||typeof t.isTrusted!="boolean"&&typeof t.isTrusted!="object"&&t.isTrusted!==void 0||typeof t.supportThemeIcons!="boolean"&&t.supportThemeIcons!==void 0)}function hR(t){return t.replace(/"/g,"&quot;")}function fR(t){return t&&t.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}var lR=function(){function t(t){this._prefix=t,this._lastId=0}t.prototype.nextId=function(){return this._prefix+ ++this._lastId};return t}();var dR=new lR("id#");var vR={};(function(){function n(t,i){i(vR)}var r,e;n.amd=!0,r=this,e=function(t){function i(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,i){(i==null||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function r(t,i){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,i){if(t){if(typeof t=="string")return n(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,i):void 0}}(t))||i&&t&&typeof t.length=="number"){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var o=/[&<>"']/,s=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=function(t){return c[t]};function f(t,i){if(i){if(o.test(t))return t.replace(s,h)}else if(u.test(t))return t.replace(a,h);return t}var l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function d(t){return t.replace(l,(function(t,i){return(i=i.toLowerCase())==="colon"?":":i.charAt(0)==="#"?i.charAt(1)==="x"?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""}))}var v=/(^|[^\[])\^/g;function A(t,i){t=typeof t=="string"?t:t.source,i=i||"";var n={replace:function(i,r){return r=(r=r.source||r).replace(v,"$1"),t=t.replace(i,r),n},getRegex:function(){return new RegExp(t,i)}};return n}var g=/[^\w:]/g,w=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function p(t,i,n){if(t){var r;try{r=decodeURIComponent(d(n)).replace(g,"").toLowerCase()}catch(t){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}i&&!w.test(n)&&(n=function(t,i){m[" "+t]||(b.test(t)?m[" "+t]=t+"/":m[" "+t]=C(t,"/",!0));var n=(t=m[" "+t]).indexOf(":")===-1;return i.substring(0,2)==="//"?n?i:t.replace(y,"$1")+i:i.charAt(0)==="/"?n?i:t.replace(k,"$1")+i:t+i}(i,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}var m={},b=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/,x={exec:function(){}};function E(t){for(var i,n,r=1;r<arguments.length;r++)for(n in i=arguments[r])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}function B(t,i){var n=t.replace(/\|/g,(function(t,i,n){for(var r=!1,e=i;--e>=0&&n[e]==="\\";)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>i)n.splice(i);else for(;n.length<i;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function C(t,i,n){var r=t.length;if(r===0)return"";for(var e=0;e<r;){var o=t.charAt(r-e-1);if(o!==i||n){if(o===i||!n)break;e++}else e++}return t.slice(0,r-e)}function D(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M(t,i){if(i<1)return"";for(var n="";i>1;)1&i&&(n+=t),i>>=1,t+=t;return n+t}function _(t,i,n,r){var e=i.href,o=i.title?f(i.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;var u={type:"link",raw:n,href:e,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,u}return{type:"image",raw:n,href:e,title:o,text:f(s)}}var F=function(){function i(i){this.options=i||t.defaults}var n=i.prototype;return n.space=function(t){var i=this.rules.block.newline.exec(t);if(i&&i[0].length>0)return{type:"space",raw:i[0]}},n.code=function(t){var i=this.rules.block.code.exec(t);if(i){var n=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?n:C(n,"\n")}}},n.fences=function(t){var i=this.rules.block.fences.exec(t);if(i){var n=i[0],r=function(t,i){var n=t.match(/^(\s+)(?:```)/);if(n===null)return i;var r=n[1];return i.split("\n").map((function(t){var i=t.match(/^\s+/);return i===null?t:i[0].length>=r.length?t.slice(r.length):t})).join("\n")}(n,i[3]||"");return{type:"code",raw:n,lang:i[2]?i[2].trim():i[2],text:r}}},n.heading=function(t){var i=this.rules.block.heading.exec(t);if(i){var n=i[2].trim();if(/#$/.test(n)){var r=C(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:n,tokens:this.lexer.inline(n)}}},n.hr=function(t){var i=this.rules.block.hr.exec(t);if(i)return{type:"hr",raw:i[0]}},n.blockquote=function(t){var i=this.rules.block.blockquote.exec(t);if(i){var n=i[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:i[0],tokens:this.lexer.blockTokens(n,[]),text:n}}},n.list=function(t){var i=this.rules.block.list.exec(t);if(i){var n,e,o,s,u,a,c,h,f,l,d,v,A=i[1].trim(),g=A.length>1,w={type:"list",raw:"",ordered:g,start:g?+A.slice(0,-1):"",loose:!1,items:[]};A=g?"\\d{1,9}\\"+A.slice(-1):"\\"+A,this.options.pedantic&&(A=g?A:"[*+-]");for(var p=new RegExp("^( {0,3}"+A+")((?:[\t ][^\\n]*)?(?:\\n|$))");t&&(v=!1,i=p.exec(t))&&!this.rules.block.hr.test(t);){if(n=i[0],t=t.substring(n.length),h=i[2].split("\n",1)[0],f=t.split("\n",1)[0],this.options.pedantic?(s=2,d=h.trimLeft()):(s=(s=i[2].search(/[^ ]/))>4?1:s,d=h.slice(s),s+=i[1].length),a=!1,!h&&/^ *$/.test(f)&&(n+=f+"\n",t=t.substring(f.length+1),v=!0),!v)for(var m=new RegExp("^ {0,"+Math.min(3,s-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),b=new RegExp("^ {0,"+Math.min(3,s-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),y=new RegExp("^ {0,"+Math.min(3,s-1)+"}(?:```|~~~)"),k=new RegExp("^ {0,"+Math.min(3,s-1)+"}#");t&&(h=l=t.split("\n",1)[0],this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!y.test(h))&&!k.test(h)&&!m.test(h)&&!b.test(t);){if(h.search(/[^ ]/)>=s||!h.trim())d+="\n"+h.slice(s);else{if(a)break;d+="\n"+h}a||h.trim()||(a=!0),n+=l+"\n",t=t.substring(l.length+1)}w.loose||(c?w.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(e=/^\[[ xX]\] /.exec(d))&&(o=e[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,"")),w.items.push({type:"list_item",raw:n,task:!!e,checked:o,loose:!1,text:d}),w.raw+=n}w.items[w.items.length-1].raw=n.trimRight(),w.items[w.items.length-1].text=d.trimRight(),w.raw=w.raw.trimRight();var x=w.items.length;for(u=0;u<x;u++){this.lexer.state.top=!1,w.items[u].tokens=this.lexer.blockTokens(w.items[u].text,[]);var E=w.items[u].tokens.filter((function(t){return t.type==="space"})),B=E.every((function(t){for(var i,n=0,e=r(t.raw.split(""));!(i=e()).done;)if(i.value==="\n"&&(n+=1),n>1)return!0;return!1}));!w.loose&&E.length&&B&&(w.loose=!0,w.items[u].loose=!0)}return w}},n.html=function(t){var i=this.rules.block.html.exec(t);if(i){var n={type:"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:i[0]};if(this.options.sanitize){var r=this.options.sanitizer?this.options.sanitizer(i[0]):f(i[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}},n.def=function(t){var i=this.rules.block.def.exec(t);if(i)return i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),{type:"def",tag:i[1].toLowerCase().replace(/\s+/g," "),raw:i[0],href:i[2],title:i[3]}},n.table=function(t){var i=this.rules.block.table.exec(t);if(i){var n={type:"table",header:B(i[1]).map((function(t){return{text:t}})),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=i[0];var r,e,o,s,u=n.align.length;for(r=0;r<u;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(u=n.rows.length,r=0;r<u;r++)n.rows[r]=B(n.rows[r],n.header.length).map((function(t){return{text:t}}));for(u=n.header.length,e=0;e<u;e++)n.header[e].tokens=this.lexer.inline(n.header[e].text);for(u=n.rows.length,e=0;e<u;e++)for(s=n.rows[e],o=0;o<s.length;o++)s[o].tokens=this.lexer.inline(s[o].text);return n}}},n.lheading=function(t){var i=this.rules.block.lheading.exec(t);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}},n.paragraph=function(t){var i=this.rules.block.paragraph.exec(t);if(i){var n=i[1].charAt(i[1].length-1)==="\n"?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:n,tokens:this.lexer.inline(n)}}},n.text=function(t){var i=this.rules.block.text.exec(t);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}},n.escape=function(t){var i=this.rules.inline.escape.exec(t);if(i)return{type:"escape",raw:i[0],text:f(i[1])}},n.tag=function(t){var i=this.rules.inline.tag.exec(t);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):f(i[0]):i[0]}},n.link=function(t){var i=this.rules.inline.link.exec(t);if(i){var n=i[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=C(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var e=function(t,i){if(t.indexOf(i[1])===-1)return-1;for(var n=t.length,r=0,e=0;e<n;e++)if(t[e]==="\\")e++;else if(t[e]===i[0])r++;else if(t[e]===i[1]&&--r<0)return e;return-1}(i[2],"()");if(e>-1){var o=(i[0].indexOf("!")===0?5:4)+i[1].length+e;i[2]=i[2].substring(0,e),i[0]=i[0].substring(0,o).trim(),i[3]=""}}var s=i[2],u="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],u=a[3])}else u=i[3]?i[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),_(i,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}},n.reflink=function(t,i){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=i[r.toLowerCase()])||!r.href){var e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return _(n,r,n[0],this.lexer)}},n.emStrong=function(t,i,n){n===void 0&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(t);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var e=r[1]||r[2]||"";if(!e||e&&(n===""||this.rules.inline.punctuation.exec(n))){var o,s,u=r[0].length-1,a=u,c=0,h=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,i=i.slice(-1*t.length+u);(r=h.exec(i))!=null;)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(s=o.length,r[3]||r[4])a+=s;else if(!((r[5]||r[6])&&u%3)||(u+s)%3){if(!((a-=s)>0)){if(s=Math.min(s,s+a+c),Math.min(u,s)%2){var f=t.slice(1,u+r.index+s);return{type:"em",raw:t.slice(0,u+r.index+s+1),text:f,tokens:this.lexer.inlineTokens(f)}}var l=t.slice(2,u+r.index+s-1);return{type:"strong",raw:t.slice(0,u+r.index+s+1),text:l,tokens:this.lexer.inlineTokens(l)}}}else c+=s}}},n.codespan=function(t){var i=this.rules.inline.code.exec(t);if(i){var n=i[2].replace(/\n/g," "),r=/[^ ]/.test(n),e=/^ /.test(n)&&/ $/.test(n);return r&&e&&(n=n.substring(1,n.length-1)),n=f(n,!0),{type:"codespan",raw:i[0],text:n}}},n.br=function(t){var i=this.rules.inline.br.exec(t);if(i)return{type:"br",raw:i[0]}},n.del=function(t){var i=this.rules.inline.del.exec(t);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}},n.autolink=function(t,i){var n,r,e=this.rules.inline.autolink.exec(t);if(e)return r=e[2]==="@"?"mailto:"+(n=f(this.options.mangle?i(e[1]):e[1])):n=f(e[1]),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},n.url=function(t,i){var n;if(n=this.rules.inline.url.exec(t)){var r,e;if(n[2]==="@")e="mailto:"+(r=f(this.options.mangle?i(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=f(n[0]),e=n[1]==="www."?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:e,tokens:[{type:"text",raw:r,text:r}]}}},n.inlineText=function(t,i){var n,r=this.rules.inline.text.exec(t);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):f(r[0]):r[0]:f(this.options.smartypants?i(r[0]):r[0]),{type:"text",raw:r[0],text:n}},i}(),S={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:x,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};S.def=A(S.def).replace("label",S._label).replace("title",S._title).getRegex(),S.bullet=/(?:[*+-]|\d{1,9}[.)])/,S.listItemStart=A(/^( *)(bull) */).replace("bull",S.bullet).getRegex(),S.list=A(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex(),S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",S._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,S.html=A(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S.paragraph=A(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.blockquote=A(S.blockquote).replace("paragraph",S.paragraph).getRegex(),S.normal=E({},S),S.gfm=E({},S.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),S.gfm.table=A(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.gfm.paragraph=A(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",S.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.pedantic=E({},S.normal,{html:A("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:x,paragraph:A(S.normal._paragraph).replace("hr",S.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var I={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:x,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:x,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Q(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function O(t){var i,n,r="",e=t.length;for(i=0;i<e;i++)n=t.charCodeAt(i),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}I._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",I.punctuation=A(I.punctuation).replace(/punctuation/g,I._punctuation).getRegex(),I.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,I.escapedEmSt=/\\\*|\\_/g,I._comment=A(S._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),I.emStrong.lDelim=A(I.emStrong.lDelim).replace(/punct/g,I._punctuation).getRegex(),I.emStrong.rDelimAst=A(I.emStrong.rDelimAst,"g").replace(/punct/g,I._punctuation).getRegex(),I.emStrong.rDelimUnd=A(I.emStrong.rDelimUnd,"g").replace(/punct/g,I._punctuation).getRegex(),I._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,I._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,I._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,I.autolink=A(I.autolink).replace("scheme",I._scheme).replace("email",I._email).getRegex(),I._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,I.tag=A(I.tag).replace("comment",I._comment).replace("attribute",I._attribute).getRegex(),I._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,I._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,I._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,I.link=A(I.link).replace("label",I._label).replace("href",I._href).replace("title",I._title).getRegex(),I.reflink=A(I.reflink).replace("label",I._label).replace("ref",S._label).getRegex(),I.nolink=A(I.nolink).replace("ref",S._label).getRegex(),I.reflinkSearch=A(I.reflinkSearch,"g").replace("reflink",I.reflink).replace("nolink",I.nolink).getRegex(),I.normal=E({},I),I.pedantic=E({},I.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",I._label).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",I._label).getRegex()}),I.gfm=E({},I.normal,{escape:A(I.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),I.gfm.url=A(I.gfm.url,"i").replace("email",I.gfm._extended_email).getRegex(),I.breaks=E({},I.gfm,{br:A(I.br).replace("{2,}","*").getRegex(),text:A(I.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var N=function(){function n(i){this.tokens=[],this.tokens.links=Object.create(null),this.options=i||t.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:S.normal,inline:I.normal};this.options.pedantic?(n.block=S.pedantic,n.inline=I.pedantic):this.options.gfm&&(n.block=S.gfm,this.options.breaks?n.inline=I.breaks:n.inline=I.gfm),this.tokenizer.rules=n}n.lex=function(t,i){return new n(i).lex(t)},n.lexInline=function(t,i){return new n(i).inlineTokens(t)};var r,e,o,s=n.prototype;return s.lex=function(t){var i;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens},s.blockTokens=function(t,i){var n,r,e,o,s=this;for(i===void 0&&(i=[]),t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(function(t,i,n){return i+"    ".repeat(n.length)}));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(n=r.call({lexer:s},t,i))&&(t=t.substring(n.raw.length),i.push(n),!0)})))){if(n=this.tokenizer.space(t))t=t.substring(n.raw.length),n.raw.length===1&&i.length>0?i[i.length-1].raw+="\n":i.push(n);else if(n=this.tokenizer.code(t))t=t.substring(n.raw.length),!(r=i[i.length-1])||r.type!=="paragraph"&&r.type!=="text"?i.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.heading(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.hr(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.blockquote(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.list(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.html(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.def(t))t=t.substring(n.raw.length),!(r=i[i.length-1])||r.type!=="paragraph"&&r.type!=="text"?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.lheading(t))t=t.substring(n.raw.length),i.push(n);else if(e=t,this.options.extensions&&this.options.extensions.startBlock&&function(){var i=1/0,n=t.slice(1),r=void 0;s.options.extensions.startBlock.forEach((function(t){typeof(r=t.call({lexer:this},n))=="number"&&r>=0&&(i=Math.min(i,r))})),i<1/0&&i>=0&&(e=t.substring(0,i+1))}(),this.state.top&&(n=this.tokenizer.paragraph(e)))r=i[i.length-1],o&&r.type==="paragraph"?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):i.push(n),o=e.length!==t.length,t=t.substring(n.raw.length);else if(n=this.tokenizer.text(t))t=t.substring(n.raw.length),(r=i[i.length-1])&&r.type==="text"?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):i.push(n);else if(t){var u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}return this.state.top=!0,i},s.inline=function(t,i){return i===void 0&&(i=[]),this.inlineQueue.push({src:t,tokens:i}),i},s.inlineTokens=function(t,i){var n,r,e,o=this;i===void 0&&(i=[]);var s,u,a,c=t;if(this.tokens.links){var h=Object.keys(this.tokens.links);if(h.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)h.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+M("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,s.index)+"["+M("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(u||(a=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(r){return!!(n=r.call({lexer:o},t,i))&&(t=t.substring(n.raw.length),i.push(n),!0)}))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),(r=i[i.length-1])&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):i.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),(r=i[i.length-1])&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):i.push(n);else if(n=this.tokenizer.emStrong(t,c,a))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),i.push(n);else if(n=this.tokenizer.autolink(t,O))t=t.substring(n.raw.length),i.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t,O))){if(e=t,this.options.extensions&&this.options.extensions.startInline&&function(){var i=1/0,n=t.slice(1),r=void 0;o.options.extensions.startInline.forEach((function(t){typeof(r=t.call({lexer:this},n))=="number"&&r>=0&&(i=Math.min(i,r))})),i<1/0&&i>=0&&(e=t.substring(0,i+1))}(),n=this.tokenizer.inlineText(e,Q))t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(a=n.raw.slice(-1)),u=!0,(r=i[i.length-1])&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):i.push(n);else if(t){var f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}else t=t.substring(n.raw.length),i.push(n);return i},r=n,o=[{key:"rules",get:function(){return{block:S,inline:I}}}],(e=null)&&i(r.prototype,e),o&&i(r,o),Object.defineProperty(r,"prototype",{writable:!1}),n}(),R=function(){function i(i){this.options=i||t.defaults}var n=i.prototype;return n.code=function(t,i,n){var r=(i||"").match(/\S*/)[0];if(this.options.highlight){var e=this.options.highlight(t,r);e!=null&&e!==t&&(n=!0,t=e)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+f(r,!0)+'">'+(n?t:f(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:f(t,!0))+"</code></pre>\n"},n.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.html=function(t){return t},n.heading=function(t,i,n,r){return this.options.headerIds?"<h"+i+' id="'+(this.options.headerPrefix+r.slug(n))+'">'+t+"</h"+i+">\n":"<h"+i+">"+t+"</h"+i+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(t,i,n){var r=i?"ol":"ul";return"<"+r+(i&&n!==1?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},n.listitem=function(t){return"<li>"+t+"</li>\n"},n.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(t){return"<p>"+t+"</p>\n"},n.table=function(t,i){return i&&(i="<tbody>"+i+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+i+"</table>\n"},n.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.tablecell=function(t,i){var n=i.header?"th":"td";return(i.align?"<"+n+' align="'+i.align+'">':"<"+n+">")+t+"</"+n+">\n"},n.strong=function(t){return"<strong>"+t+"</strong>"},n.em=function(t){return"<em>"+t+"</em>"},n.codespan=function(t){return"<code>"+t+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(t){return"<del>"+t+"</del>"},n.link=function(t,i,n){if((t=p(this.options.sanitize,this.options.baseUrl,t))===null)return n;var r='<a href="'+f(t)+'"';return i&&(r+=' title="'+i+'"'),r+=">"+n+"</a>"},n.image=function(t,i,n){if((t=p(this.options.sanitize,this.options.baseUrl,t))===null)return n;var r='<img src="'+t+'" alt="'+n+'"';return i&&(r+=' title="'+i+'"'),r+=this.options.xhtml?"/>":">"},n.text=function(t){return t},i}(),T=function(){function t(){}var i=t.prototype;return i.strong=function(t){return t},i.em=function(t){return t},i.codespan=function(t){return t},i.del=function(t){return t},i.html=function(t){return t},i.text=function(t){return t},i.link=function(t,i,n){return""+n},i.image=function(t,i,n){return""+n},i.br=function(){return""},t}(),L=function(){function t(){this.seen={}}var i=t.prototype;return i.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},i.getNextSafeSlug=function(t,i){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return i||(this.seen[t]=r,this.seen[n]=0),n},i.slug=function(t,i){i===void 0&&(i={});var n=this.serialize(t);return this.getNextSafeSlug(n,i.dryrun)},t}(),j=function(){function i(i){this.options=i||t.defaults,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new T,this.slugger=new L}i.parse=function(t,n){return new i(n).parse(t)},i.parseInline=function(t,n){return new i(n).parseInline(t)};var n=i.prototype;return n.parse=function(t,i){i===void 0&&(i=!0);var n,r,e,o,s,u,a,c,h,f,l,v,A,g,w,p,m,b,y,k="",x=t.length;for(n=0;n<x;n++)if(f=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type])||(y=this.options.extensions.renderers[f.type].call({parser:this},f))===!1&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))switch(f.type){case"space":continue;case"hr":k+=this.renderer.hr();continue;case"heading":k+=this.renderer.heading(this.parseInline(f.tokens),f.depth,d(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":k+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(c="",a="",o=f.header.length,r=0;r<o;r++)a+=this.renderer.tablecell(this.parseInline(f.header[r].tokens),{header:!0,align:f.align[r]});for(c+=this.renderer.tablerow(a),h="",o=f.rows.length,r=0;r<o;r++){for(a="",s=(u=f.rows[r]).length,e=0;e<s;e++)a+=this.renderer.tablecell(this.parseInline(u[e].tokens),{header:!1,align:f.align[e]});h+=this.renderer.tablerow(a)}k+=this.renderer.table(c,h);continue;case"blockquote":h=this.parse(f.tokens),k+=this.renderer.blockquote(h);continue;case"list":for(l=f.ordered,v=f.start,A=f.loose,o=f.items.length,h="",r=0;r<o;r++)p=(w=f.items[r]).checked,m=w.task,g="",w.task&&(b=this.renderer.checkbox(p),A?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=b+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=b+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:b}):g+=b),g+=this.parse(w.tokens,A),h+=this.renderer.listitem(g,m,p);k+=this.renderer.list(h,l,v);continue;case"html":k+=this.renderer.html(f.text);continue;case"paragraph":k+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(h=f.tokens?this.parseInline(f.tokens):f.text;n+1<x&&t[n+1].type==="text";)h+="\n"+((f=t[++n]).tokens?this.parseInline(f.tokens):f.text);k+=i?this.renderer.paragraph(h):h;continue;default:var E='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(E);throw new Error(E)}else k+=y||"";return k},n.parseInline=function(t,i){i=i||this.renderer;var n,r,e,o="",s=t.length;for(n=0;n<s;n++)if(r=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||(e=this.options.extensions.renderers[r.type].call({parser:this},r))===!1&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":case"text":o+=i.text(r.text);break;case"html":o+=i.html(r.text);break;case"link":o+=i.link(r.href,r.title,this.parseInline(r.tokens,i));break;case"image":o+=i.image(r.href,r.title,r.text);break;case"strong":o+=i.strong(this.parseInline(r.tokens,i));break;case"em":o+=i.em(this.parseInline(r.tokens,i));break;case"codespan":o+=i.codespan(r.text);break;case"br":o+=i.br();break;case"del":o+=i.del(this.parseInline(r.tokens,i));break;default:var u='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}else o+=e||"";return o},i}();function z(t,i,n){if(t==null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof i=="function"&&(n=i,i=null),D(i=E({},z.defaults,i||{})),n){var r,e=i.highlight;try{r=N.lex(t,i)}catch(t){return n(t)}var o=function(t){var o;if(!t)try{i.walkTokens&&z.walkTokens(r,i.walkTokens),o=j.parse(r,i)}catch(i){t=i}return i.highlight=e,t?n(t):n(null,o)};if(!e||e.length<3||(delete i.highlight,!r.length))return o();var s=0;return z.walkTokens(r,(function(t){t.type==="code"&&(s++,setTimeout((function(){e(t.text,t.lang,(function(i,n){if(i)return o(i);n!=null&&n!==t.text&&(t.text=n,t.escaped=!0),--s==0&&o()}))}),0))})),void(s===0&&o())}function u(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",i.silent)return"<p>An error occurred:</p><pre>"+f(t.message+"",!0)+"</pre>";throw t}try{var a=N.lex(t,i);if(i.walkTokens){if(i.async)return Promise.all(z.walkTokens(a,i.walkTokens)).then((function(){return j.parse(a,i)})).catch(u);z.walkTokens(a,i.walkTokens)}return j.parse(a,i)}catch(t){u(t)}}z.options=z.setOptions=function(i){var n;return E(z.defaults,i),n=z.defaults,t.defaults=n,z},z.getDefaults=e,z.defaults=t.defaults,z.use=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,e=E.apply(void 0,[{}].concat(i)),o=z.defaults.extensions||{renderers:{},childTokens:{}};i.forEach((function(t){if(t.extensions&&(r=!0,t.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var i=o.renderers?o.renderers[t.name]:null;o.renderers[t.name]=i?function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.renderer.apply(this,r);return o===!1&&(o=i.apply(this,r)),o}:t.renderer}if(t.tokenizer){if(!t.level||t.level!=="block"&&t.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");o[t.level]?o[t.level].unshift(t.tokenizer):o[t.level]=[t.tokenizer],t.start&&(t.level==="block"?o.startBlock?o.startBlock.push(t.start):o.startBlock=[t.start]:t.level==="inline"&&(o.startInline?o.startInline.push(t.start):o.startInline=[t.start]))}t.childTokens&&(o.childTokens[t.name]=t.childTokens)}))),t.renderer&&function(){var i=z.defaults.renderer||new R,n=function(n){var r=i[n];i[n]=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var u=t.renderer[n].apply(i,o);return u===!1&&(u=r.apply(i,o)),u}};for(var r in t.renderer)n(r);e.renderer=i}(),t.tokenizer&&function(){var i=z.defaults.tokenizer||new F,n=function(n){var r=i[n];i[n]=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var u=t.tokenizer[n].apply(i,o);return u===!1&&(u=r.apply(i,o)),u}};for(var r in t.tokenizer)n(r);e.tokenizer=i}(),t.walkTokens){var i=z.defaults.walkTokens;e.walkTokens=function(n){var r=[];return r.push(t.walkTokens.call(this,n)),i&&(r=r.concat(i.call(this,n))),r}}r&&(e.extensions=o),z.setOptions(e)}))},z.walkTokens=function(t,i){for(var n,e=[],o=function(){var t=n.value;switch(e=e.concat(i.call(z,t)),t.type){case"table":for(var o,s=r(t.header);!(o=s()).done;){var u=o.value;e=e.concat(z.walkTokens(u.tokens,i))}for(var a,c=r(t.rows);!(a=c()).done;)for(var h,f=r(a.value);!(h=f()).done;){var l=h.value;e=e.concat(z.walkTokens(l.tokens,i))}break;case"list":e=e.concat(z.walkTokens(t.items,i));break;default:z.defaults.extensions&&z.defaults.extensions.childTokens&&z.defaults.extensions.childTokens[t.type]?z.defaults.extensions.childTokens[t.type].forEach((function(n){e=e.concat(z.walkTokens(t[n],i))})):t.tokens&&(e=e.concat(z.walkTokens(t.tokens,i)))}},s=r(t);!(n=s()).done;)o();return e},z.parseInline=function(t,i){if(t==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");D(i=E({},z.defaults,i||{}));try{var n=N.lexInline(t,i);return i.walkTokens&&z.walkTokens(n,i.walkTokens),j.parseInline(n,i)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",i.silent)return"<p>An error occurred:</p><pre>"+f(t.message+"",!0)+"</pre>";throw t}},z.Parser=j,z.parser=j.parse,z.Renderer=R,z.TextRenderer=T,z.Lexer=N,z.lexer=N.lex,z.Tokenizer=F,z.Slugger=L,z.parse=z;var U=z.options,H=z.setOptions,Y=z.use,J=z.walkTokens,P=z.parseInline,W=z,G=j.parse,V=N.lex;t.Lexer=N,t.Parser=j,t.Renderer=R,t.Slugger=L,t.TextRenderer=T,t.Tokenizer=F,t.getDefaults=e,t.lexer=V,t.marked=z,t.options=U,t.parse=W,t.parseInline=P,t.parser=G,t.setOptions=H,t.use=Y,t.walkTokens=J,Object.defineProperty(t,"__esModule",{value:!0})},n.amd?n(0,e):e(typeof t=="object"&&typeof i<"u"?t:(r=typeof globalThis<"u"?globalThis:r||self).marked={})})(),vR.Lexer||t.Lexer,vR.Parser||t.Parser,vR.Renderer||t.Renderer,vR.Slugger||t.Slugger,vR.TextRenderer||t.TextRenderer,vR.Tokenizer||t.Tokenizer,vR.getDefaults||t.getDefaults,vR.lexer||t.lexer;var AR=vR.marked||t.marked;function gR(t){var i=JSON.parse(t);return i=pR(i),i}function wR(t,i){return i instanceof RegExp?{$mid:2,source:i.source,flags:i.flags}:i}function pR(t,i){if(i===void 0){i=0}if(!t||i>200)return t;if(typeof t=="object"){switch(t.$mid){case 1:return zr.revive(t);case 2:return new RegExp(t.source,t.flags);case 17:return new Date(t.source)}if(t instanceof Rl||t instanceof Uint8Array)return t;if(Array.isArray(t))for(var n=0;n<t.length;++n)t[n]=pR(t[n],i+1);else for(var n in t)Object.hasOwnProperty.call(t,n)&&(t[n]=pR(t[n],i+1))}return t}vR.options||t.options,vR.parse||t.parse,vR.parseInline||t.parseInline,vR.parser||t.parser,vR.setOptions||t.setOptions,vR.use||t.use,vR.walkTokens||t.walkTokens;var mR=Object.freeze({image:function(t,i,n){var r;var e=[],o=[];return t&&(r=function(t){var i=[],n=t.split("|").map((function(t){return t.trim()}));t=n[0];var r=n[1];if(r){var e=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),s=e?e[1]:"",u=o?o[1]:"",a=isFinite(parseInt(u)),c=isFinite(parseInt(s));a&&i.push('width="'.concat(u,'"')),c&&i.push('height="'.concat(s,'"'))}return{href:t,dimensions:i}}(t),t=r.href,e=r.dimensions,o.push('src="'.concat(hR(t),'"'))),n&&o.push('alt="'.concat(hR(n),'"')),i&&o.push('title="'.concat(hR(i),'"')),e.length&&(o=o.concat(e)),"<img "+o.join(" ")+">"},paragraph:function(t){return"<p>".concat(t,"</p>")},link:function(t,i,n){return typeof t!="string"?"":(t===n&&(n=fR(n)),i=typeof i=="string"?hR(fR(i)):"",'<a href="'.concat(t=(t=fR(t)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'" title="').concat(i||t,'" draggable="false">').concat(n,"</a>"))}});function bR(t,i,n){if(i===void 0){i={}}if(n===void 0){n={}}var r,e;var o=new Bn;var s=!1;var u=JO(i),a=function(i){var n;try{n=gR(decodeURIComponent(i))}catch(t){}return n?(n=pt(n,(function(i){return t.uris&&t.uris[i]?zr.revive(t.uris[i]):void 0})),encodeURIComponent(JSON.stringify(n))):i},c=function(i,n){var r=t.uris&&t.uris[i];var e=zr.revive(r);return n?i.startsWith(oa.data+":")?i:(e||(e=zr.parse(i)),ha.uriToBrowserUri(e).toString(!0)):e?zr.parse(i).toString()===e.toString()?i:(e.query&&(e=e.with({query:a(e.query)})),e.toString()):i},h=new AR.Renderer;h.image=mR.image,h.link=mR.link,h.paragraph=mR.paragraph;var f=[],l=[];if(i.codeBlockRendererSync?h.code=function(t,n){var r=dR.nextId(),e=i.codeBlockRendererSync(yR(n),t);return l.push([r,e]),'<div class="code" data-code="'.concat(r,'">').concat(xo(t),"</div>")}:i.codeBlockRenderer&&(h.code=function(t,n){var r=dR.nextId(),e=i.codeBlockRenderer(yR(n),t);return f.push(e.then((function(t){return[r,t]}))),'<div class="code" data-code="'.concat(r,'">').concat(xo(t),"</div>")}),i.actionHandler){var d=function(n){var r=n.target;if(r.tagName==="A"||(r=r.parentElement,r&&r.tagName==="A"))try{var e=r.dataset.href;e&&(t.baseUri&&(e=kR(zr.from(t.baseUri),e)),i.actionHandler.callback(e,n))}catch(e){cn(e)}finally{n.preventDefault()}},v=i.actionHandler.disposables.add(new Hk(u,"click")),A=i.actionHandler.disposables.add(new Hk(u,"auxclick"));i.actionHandler.disposables.add(Qn.any(v.event,A.event)((function(t){var i=new Ts(ka(u),t);(i.leftButton||i.middleButton)&&d(i)}))),i.actionHandler.disposables.add(Oa(u,"keydown",(function(t){var i=new Qs(t);(i.equals(10)||i.equals(3))&&d(i)})))}t.supportHtml||(n.sanitizer=function(i){return t.isTrusted&&i.match(/^(<span[^>]+>)|(<\/\s*span>)$/)?i:""},n.sanitize=!0,n.silent=!0),n.renderer=h;var g,w=(r=t.value)!==null&&r!==void 0?r:"";if(w.length>1e5&&(w="".concat(w.substr(0,1e5),"…")),t.supportThemeIcons&&(w=function(t){return t.replace(iR,(function(t){return"\\".concat(t)}))}(w)),i.fillInIncompleteTokens){var p=__assign(__assign({},AR.defaults),n),v=function(t){var i,n;for(i=0;i<t.length;i++){var r=t[i];var e=void 0;if(r.type==="paragraph"&&(e=r.raw.match(/(\n|^)(````*)/))){var o=e[2];n=SR(t.slice(i),o);break}if(r.type==="paragraph"&&r.raw.match(/(\n|^)\|/)){n=zR(t.slice(i));break}if(i===t.length-1&&r.type==="paragraph"){var o=_R(r);if(o){n=[o];break}}}if(n){var r=__spreadArray(__spreadArray([],t.slice(0,i),true),n,true);return r.links=t.links,r}return t}(AR.lexer(w,p));g=AR.parser(v,p)}else g=AR.parse(w,n);t.supportThemeIcons&&(g=XO(g).map((function(t){return typeof t=="string"?t:t.outerHTML})).join(""));var m=(new DOMParser).parseFromString(xR(t,g),"text/html");if(m.body.querySelectorAll("img").forEach((function(i){var n=i.getAttribute("src");if(n){var r=n;try{t.baseUri&&(r=kR(zr.from(t.baseUri),r))}catch(t){}i.src=c(r,!0)}})),m.body.querySelectorAll("a").forEach((function(i){var n=i.getAttribute("href");if(i.setAttribute("href",""),!n||/^data:|javascript:/i.test(n)||/^command:/i.test(n)&&!t.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(n))i.replaceWith.apply(i,i.childNodes);else{var r=c(n,!1);t.baseUri&&(r=kR(zr.from(t.baseUri),n)),i.dataset.href=r}})),u.innerHTML=xR(t,m.body.innerHTML),f.length>0)Promise.all(f).then((function(t){var n,r;if(s)return;var e=new Map(t),o=u.querySelectorAll("div[data-code]");for(var a=0,c=o;a<c.length;a++){var h=c[a];var f=e.get((n=h.dataset.code)!==null&&n!==void 0?n:"");f&&Sc(h,f)}(r=i.asyncRenderCallback)===null||r===void 0||r.call(i)}));else if(l.length>0){var p=new Map(l),v=u.querySelectorAll("div[data-code]");for(var d=0,b=v;d<b.length;d++){var A=b[d];var y=p.get((e=A.dataset.code)!==null&&e!==void 0?e:"");y&&Sc(A,y)}}if(i.asyncRenderCallback){var k=function(t){var n=o.add(Oa(t,"load",(function(){n.dispose(),i.asyncRenderCallback()})))};for(var x=0,E=u.getElementsByTagName("img");x<E.length;x++){var p=E[x];k(p)}}return{element:u,dispose:function(){s=!0,o.dispose()}}}function yR(t){if(!t)return"";var i=t.split(/[\s+|:|,|\{|\?]/,1);return i.length?i[0]:t}function kR(t,i){return/^\w[\w\d+.-]*:/.test(i)?i:t.path.endsWith("/")?s_(t,i).toString():s_(n_(t),i).toString()}function xR(t,i){var n=function(t){var i=[oa.http,oa.https,oa.mailto,oa.data,oa.file,oa.vscodeFileResource,oa.vscodeRemote,oa.vscodeRemoteResource];return t.isTrusted&&i.push(oa.command),{config:{ALLOWED_TAGS:__spreadArray([],Yc,true),ALLOWED_ATTR:ER,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:i}}(t),r=n.config,e=n.allowedSchemes;ra("uponSanitizeAttribute",(function(t,i){var n;if(i.attrName!=="style"&&i.attrName!=="class"){if(t.tagName==="INPUT"&&((n=t.attributes.getNamedItem("type"))===null||n===void 0?void 0:n.value)==="checkbox"){if(i.attrName==="type"&&i.attrValue==="checkbox"||i.attrName==="disabled"||i.attrName==="checked")return void(i.keepAttr=!0);i.keepAttr=!1}}else{if(t.tagName==="SPAN"){if(i.attrName==="style")return void(i.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(i.attrValue));if(i.attrName==="class")return void(i.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(i.attrValue))}i.keepAttr=!1}})),ra("uponSanitizeElement",(function(t,i){var n,r;i.tagName==="input"&&(((n=t.attributes.getNamedItem("type"))===null||n===void 0?void 0:n.value)==="checkbox"?t.setAttribute("disabled",""):(r=t.parentElement)===null||r===void 0||r.removeChild(t))}));var o=function(t,i){if(i===void 0){i=!1}var n=document.createElement("a");return ra("afterSanitizeAttributes",(function(r){for(var e=0,o=["href","src"];e<o.length;e++){var s=o[e];if(r.hasAttribute(s)){var u=r.getAttribute(s);if(s==="href"&&u.startsWith("#"))continue;if(n.href=u,!t.includes(n.protocol.replace(/:$/,""))){if(i&&s==="src"&&n.href.startsWith("data:"))continue;r.removeAttribute(s)}}}})),En((function(){ea("afterSanitizeAttributes")}))}(e);try{return na(i,__assign(__assign({},r),{RETURN_TRUSTED_TYPE:!0}))}finally{ea("uponSanitizeAttribute"),o.dispose()}}var ER=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function BR(t){return typeof t=="string"?t:function(t){var i;var n=(i=t.value)!==null&&i!==void 0?i:"";n.length>1e5&&(n="".concat(n.substr(0,1e5),"…"));var r=AR.parse(n,{renderer:DR.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(function(t){var i;return(i=CR.get(t))!==null&&i!==void 0?i:t}));return xR({isTrusted:!1},r).toString()}(t)}var CR=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),DR=new po((function(){var t=new AR.Renderer;return t.code=function(t){return t},t.blockquote=function(t){return t},t.html=function(t){return""},t.heading=function(t,i,n){return t+"\n"},t.hr=function(){return""},t.list=function(t,i){return t},t.listitem=function(t){return t+"\n"},t.paragraph=function(t){return t+"\n"},t.table=function(t,i){return t+i+"\n"},t.tablerow=function(t){return t},t.tablecell=function(t,i){return t+" "},t.strong=function(t){return t},t.em=function(t){return t},t.codespan=function(t){return t},t.br=function(){return"\n"},t.del=function(t){return t},t.image=function(t,i,n){return""},t.text=function(t){return t},t.link=function(t,i,n){return n},t}));function MR(t){var i="";return t.forEach((function(t){i+=t.raw})),i}function _R(t){var i,n;for(var r=0;r<t.tokens.length;r++){var e=t.tokens[r];if(e.type==="text"){var o=e.raw.split("\n"),s=o[o.length-1];if(s.includes("`"))return IR(t);if(s.includes("**"))return jR(t,"**");if(s.match(/\*\w/))return QR(t);if(s.match(/(^|\s)__\w/))return LR(t);if(s.match(/(^|\s)_\w/))return OR(t);if(s.match(/(^|\s)\[.*\]\(\w*/)){var u=t.tokens.slice(r+1);return((i=u[0])===null||i===void 0?void 0:i.type)==="link"&&((n=u[1])===null||n===void 0?void 0:n.type)==="text"&&u[1].raw.match(/^ *"[^"]*$/)?RR(t):NR(t)}if(FR(s))return NR(t);if(s.match(/(^|\s)\[\w/)&&!t.tokens.slice(r+1).some((function(t){return FR(t.raw)})))return TR(t)}}}function FR(t){return!!t.match(/^[^\[]*\]\([^\)]*$/)}function SR(t,i){var n=MR(t);return AR.lexer(n+"\n".concat(i))}function IR(t){return jR(t,"`")}function QR(t){return jR(t,"*")}function OR(t){return jR(t,"_")}function NR(t){return jR(t,")")}function RR(t){return jR(t,'")')}function TR(t){return jR(t,"](about:blank)")}function LR(t){return jR(t,"__")}function jR(t,i){var n=MR(Array.isArray(t)?t:[t]);return AR.lexer(n+i)[0]}function zR(t){var i=MR(t),n=i.split("\n");var r,e=!1;for(var o=0;o<n.length;o++){var s=n[o].trim();if(r===void 0&&s.match(/^\s*\|/)){var u=s.match(/(\|[^\|]+)(?=\||$)/g);u&&(r=u.length)}else if(typeof r=="number"){if(!s.match(/^\s*\|/)||o!==n.length-1)return;e=!0}}if(typeof r=="number"&&r>0){var o=e?n.slice(0,-1).join("\n"):i,s=!!o.match(/\|\s*$/),u=o+(s?"":"|")+"\n|".concat(" --- |".repeat(r));return AR.lexer(u)}}var UR,HR=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},YR=function(t,i){return function(n,r){i(n,r,t)}};var JR=UR=function(){function t(t,i,n){this._options=t,this._languageService=i,this._openerService=n,this._onDidRenderAsync=new Ln,this.onDidRenderAsync=this._onDidRenderAsync.event}t.prototype.dispose=function(){this._onDidRenderAsync.dispose()};t.prototype.render=function(t,i,n){if(!t)return{element:document.createElement("span"),dispose:function(){}};var r=new Bn,e=r.add(bR(t,__assign(__assign({},this._getRenderOptions(t,r)),i),n));return e.element.classList.add("rendered-markdown"),{element:e.element,dispose:function(){return r.dispose()}}};t.prototype._getRenderOptions=function(t,i){var n=this;return{codeBlockRenderer:function(t,i){return __awaiter(n,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:t?o=this._languageService.getLanguageIdByLanguageName(t):this._options.editor&&(o=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageId()),o||(o=Fd);return[4,function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(e){switch(e.label){case 0:if(!n)return[2,aI(i,t.languageIdCodec,sI)];return[4,ye.getOrCreate(n)];case 1:r=e.sent();return[2,aI(i,t.languageIdCodec,r||sI)]}}))}))}(this._languageService,i,o)];case 1:s=a.sent(),u=document.createElement("span");return[2,(u.innerHTML=(e=(r=UR._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(s))!==null&&e!==void 0?e:s,this._options.editor?ih(u,this._options.editor.getOption(50)):this._options.codeBlockFontFamily&&(u.style.fontFamily=this._options.codeBlockFontFamily),this._options.codeBlockFontSize!==void 0&&(u.style.fontSize=this._options.codeBlockFontSize),u)]}}))}))},asyncRenderCallback:function(){return n._onDidRenderAsync.fire()},actionHandler:{callback:function(i){return PR(n._openerService,i,t.isTrusted)},disposables:i}}};return t}();function PR(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(e){switch(e.label){case 0:e.trys.push([0,2,,3]);return[4,t.open(i,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:WR(n)})];case 1:return[2,e.sent()];case 2:r=e.sent();return[2,(cn(r),!1)];case 3:return[2]}}))}))}function WR(t){return t===!0||!(!t||!Array.isArray(t.enabledCommands))&&t.enabledCommands}JR._ttpTokenizer=ml("tokenizeToString",{createHTML:function(t){return t}}),JR=UR=HR([YR(1,ld),YR(2,HO)],JR);var GR=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},VR=function(t,i){return function(n,r){i(n,r,t)}};var KR=Nc;var XR=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u;var a=this;var c,h,f,l,d,v,A,g;a=t.call(this)||this,a._keybindingService=n,a._configurationService=r,a._openerService=e,a._instantiationService=o,a._accessibilityService=s,a._messageListeners=new Bn,a._isDisposed=!1,a._forcePosition=!1,a._x=0,a._y=0,a._isLocked=!1,a._enableFocusTraps=!1,a._addedFocusTrap=!1,a._onDispose=a._register(new Ln),a._onRequestLayout=a._register(new Ln),a._linkHandler=i.linkHandler||function(t){return PR(a._openerService,t,cR(i.content)?i.content.isTrusted:void 0)},a._target="targetElements"in i.target?i.target:new ZR(i.target),a._hoverPointer=!((c=i.appearance)===null||c===void 0)&&c.showPointer?KR("div.workbench-hover-pointer"):void 0,a._hover=a._register(new jO),a._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((h=i.appearance)===null||h===void 0)&&h.compact&&a._hover.containerDomNode.classList.add("workbench-hover","compact"),!((f=i.appearance)===null||f===void 0)&&f.skipFadeInAnimation&&a._hover.containerDomNode.classList.add("skip-fade-in"),i.additionalClasses&&(u=a._hover.containerDomNode.classList).add.apply(u,i.additionalClasses),!((l=i.position)===null||l===void 0)&&l.forcePosition&&(a._forcePosition=!0),i.trapFocus&&(a._enableFocusTraps=!0),a._hoverPosition=(v=(d=i.position)===null||d===void 0?void 0:d.hoverPosition)!==null&&v!==void 0?v:3,a.onmousedown(a._hover.containerDomNode,(function(t){return t.stopPropagation()})),a.onkeydown(a._hover.containerDomNode,(function(t){t.equals(9)&&a.dispose()})),a._register(Oa(a._targetWindow,"blur",(function(){return a.dispose()})));var w=KR("div.hover-row.markdown-hover"),p=KR("div.hover-contents");if(typeof i.content=="string")p.textContent=i.content,p.style.whiteSpace="pre-wrap";else if(i.content instanceof HTMLElement)p.appendChild(i.content),p.classList.add("html-hover-contents");else{var m=i.content,b=a._instantiationService.createInstance(JR,{codeBlockFontFamily:a._configurationService.getValue("editor").fontFamily||en.fontFamily}),y=b.render(m,{actionHandler:{callback:function(t){return a._linkHandler(t)},disposables:a._messageListeners},asyncRenderCallback:function(){p.classList.add("code-hover-contents"),a.layout(),a._onRequestLayout.fire()}}).element;p.appendChild(y)}if(w.appendChild(p),a._hover.contentsDomNode.appendChild(w),i.actions&&i.actions.length>0){var m=KR("div.hover-row.status-bar"),k=KR("div.actions");i.actions.forEach((function(t){var i=a._keybindingService.lookupKeybinding(t.commandId),n=i?i.getLabel():null;zO.render(k,{label:t.label,commandId:t.commandId,run:function(i){t.run(i),a.dispose()},iconClass:t.iconClass},n)})),m.appendChild(k),a._hover.containerDomNode.appendChild(m)}var x;if(a._hoverContainer=KR("div.workbench-hover-container"),a._hoverPointer&&a._hoverContainer.appendChild(a._hoverPointer),a._hoverContainer.appendChild(a._hover.containerDomNode),x=!(i.actions&&i.actions.length>0)&&(((A=i.persistence)===null||A===void 0?void 0:A.hideOnHover)===void 0?typeof i.content=="string"||cR(i.content)&&!i.content.value.includes("](")&&!i.content.value.includes("</a>"):i.persistence.hideOnHover),x&&((g=i.appearance)===null||g===void 0?void 0:g.showHoverHint)){var m=KR("div.hover-row.status-bar"),b=KR("div.info");b.textContent=Bt(0,"Hold {0} key to mouse over",Gt?"Option":"Alt"),m.appendChild(b),a._hover.containerDomNode.appendChild(m)}var E=__spreadArray([],a._target.targetElements,true);x||E.push(a._hoverContainer);var B=a._register(new qR(E));if(a._register(B.onMouseOut((function(){a._isLocked||a.dispose()}))),x){var m=__spreadArray(__spreadArray([],a._target.targetElements,true),[a._hoverContainer],false);a._lockMouseTracker=a._register(new qR(m)),a._register(a._lockMouseTracker.onMouseOut((function(){a._isLocked||a.dispose()})))}else a._lockMouseTracker=B;return a}Object.defineProperty(i.prototype,"_targetWindow",{get:function(){return ka(this._target.targetElements[0])},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"_targetDocumentElement",{get:function(){return ka(this._target.targetElements[0]).document.documentElement},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isMouseIn",{get:function(){return this._lockMouseTracker.isMouseIn},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"domNode",{get:function(){return this._hover.containerDomNode},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"onRequestLayout",{get:function(){return this._onRequestLayout.event},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"anchor",{get:function(){return this._hoverPosition===2?0:1},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"x",{get:function(){return this._x},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"y",{get:function(){return this._y},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isLocked",{get:function(){return this._isLocked},set:function(t){this._isLocked!==t&&(this._isLocked=t,this._hoverContainer.classList.toggle("locked",this._isLocked))},enumerable:false,configurable:true});i.prototype.addFocusTrap=function(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;var t=this._hover.containerDomNode,i=this.findLastFocusableChild(this._hover.containerDomNode);if(i){var n=Fc(this._hoverContainer,KR("div")),r=_c(this._hoverContainer,KR("div"));n.tabIndex=0,r.tabIndex=0,this._register(Oa(r,"focus",(function(i){t.focus(),i.preventDefault()}))),this._register(Oa(n,"focus",(function(t){i.focus(),t.preventDefault()})))}};i.prototype.findLastFocusableChild=function(t){if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes.item(t.childNodes.length-i-1);if(n.nodeType===n.ELEMENT_NODE){var r=n;if(typeof r.tabIndex=="number"&&r.tabIndex>=0)return r}var e=this.findLastFocusableChild(n);if(e)return e}};i.prototype.render=function(t){var i;t.appendChild(this._hoverContainer);var n=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&UO(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(i=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||i===void 0?void 0:i.getAriaLabel());n&&Tw(n),this.layout(),this.addFocusTrap()};i.prototype.layout=function(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";var t=this._target.targetElements.map((function(t){return function(t){var i=Xa(t),n=t.getBoundingClientRect();return{top:n.top*i,bottom:n.bottom*i,right:n.right*i,left:n.left*i}}(t)})),i=t[0],n=i.top,r=i.right,e=i.bottom,o=i.left,s=r-o,u=e-n,a={top:n,right:r,bottom:e,left:o,width:s,height:u,center:{x:o+s/2,y:n+u/2}};if(this.adjustHorizontalHoverPosition(a),this.adjustVerticalHoverPosition(a),this.adjustHoverMaxHeight(a),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:a.left+=3,a.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:a.left-=3,a.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:a.top+=3,a.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:a.top-=3,a.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px"}a.center.x=a.left+s/2,a.center.y=a.top+u/2}this.computeXCordinate(a),this.computeYCordinate(a),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(a)),this._hover.onContentsChanged()};i.prototype.computeXCordinate=function(t){var i=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=t.right:this._hoverPosition===0?this._x=t.left-i:(this._hoverPointer?this._x=t.center.x-this._hover.containerDomNode.clientWidth/2:this._x=t.left,this._x+i>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-i-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=t.left+2)};i.prototype.computeYCordinate=function(t){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=t.top:this._hoverPosition===2?this._y=t.bottom-2:this._hoverPointer?this._y=t.center.y+this._hover.containerDomNode.clientHeight/2:this._y=t.bottom,this._y>this._targetWindow.innerHeight&&(this._y=t.bottom)};i.prototype.adjustHorizontalHoverPosition=function(t){if(this._target.x!==void 0)return;var i=this._hoverPointer?3:0;if(this._forcePosition){var n=i+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=this._targetDocumentElement.clientWidth-t.right-n+"px":this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=t.left-n+"px")}else this._hoverPosition===1?this._targetDocumentElement.clientWidth-t.right<this._hover.containerDomNode.clientWidth+i&&(t.left>=this._hover.containerDomNode.clientWidth+i?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(t.left<this._hover.containerDomNode.clientWidth+i&&(this._targetDocumentElement.clientWidth-t.right>=this._hover.containerDomNode.clientWidth+i?this._hoverPosition=1:this._hoverPosition=2),t.left-this._hover.containerDomNode.clientWidth-i<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))};i.prototype.adjustVerticalHoverPosition=function(t){if(this._target.y!==void 0||this._forcePosition)return;var i=this._hoverPointer?3:0;this._hoverPosition===3?t.top-this._hover.containerDomNode.clientHeight-i<0&&(this._hoverPosition=2):this._hoverPosition===2&&t.bottom+this._hover.containerDomNode.clientHeight+i>this._targetWindow.innerHeight&&(this._hoverPosition=3)};i.prototype.adjustHoverMaxHeight=function(t){var i=this._targetWindow.innerHeight/2;if(this._forcePosition){var n=2+(this._hoverPointer?3:0);this._hoverPosition===3?i=Math.min(i,t.top-n):this._hoverPosition===2&&(i=Math.min(i,this._targetWindow.innerHeight-t.bottom-n))}if(this._hover.containerDomNode.style.maxHeight="".concat(i,"px"),this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){var n="".concat(this._hover.scrollbar.options.verticalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingRight!==n&&(this._hover.contentsDomNode.style.paddingRight=n)}};i.prototype.setHoverPointerPosition=function(t){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");var i=this._hover.containerDomNode.clientHeight;i>t.height?this._hoverPointer.style.top=t.center.y-(this._y-i)-3+"px":this._hoverPointer.style.top=Math.round(i/2)-3+"px";break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");var i=this._hover.containerDomNode.clientWidth;var n=Math.round(i/2)-3;var r=this._x+n;(r<t.left||r>t.right)&&(n=t.center.x-this._x-3),this._hoverPointer.style.left="".concat(n,"px");break}}};i.prototype.focus=function(){this._hover.containerDomNode.focus()};i.prototype.dispose=function(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),t.prototype.dispose.call(this)),this._isDisposed=!0};return i}(pk);XR=GR([VR(1,vE),VR(2,sd),VR(3,HO),VR(4,fh),VR(5,Kw)],XR);var qR=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._elements=i,n._isMouseIn=!0,n._onMouseOut=n._register(new Ln),n._elements.forEach((function(t){return n.onmouseover(t,(function(){return n._onTargetMouseOver(t)}))})),n._elements.forEach((function(t){return n.onmouseleave(t,(function(){return n._onTargetMouseLeave(t)}))}));return n}Object.defineProperty(i.prototype,"onMouseOut",{get:function(){return this._onMouseOut.event},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isMouseIn",{get:function(){return this._isMouseIn},enumerable:false,configurable:true});i.prototype._onTargetMouseOver=function(t){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(t)};i.prototype._onTargetMouseLeave=function(t){this._isMouseIn=!1,this._evaluateMouseState(t)};i.prototype._evaluateMouseState=function(t){var i=this;this._clearEvaluateMouseStateTimeout(t),this._mouseTimeout=ka(t).setTimeout((function(){return i._fireIfMouseOutside()}),0)};i.prototype._clearEvaluateMouseStateTimeout=function(t){this._mouseTimeout&&(ka(t).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)};i.prototype._fireIfMouseOutside=function(){this._isMouseIn||this._onMouseOut.fire()};return i}(pk);var ZR=function(){function t(t){this._element=t,this.targetElements=[this._element]}t.prototype.dispose=function(){};return t}();var $R,tT;function iT(t,i,n){var r=n.mode===tT.ALIGN?n.offset:n.offset+n.size,e=n.mode===tT.ALIGN?n.offset+n.size:n.offset;return n.position===0?i<=t-r?r:i<=e?e-i:Math.max(t-i,0):i<=e?e-i:i<=t-r?r:0}(function(t){function i(t,i){if(t.start>=i.end||i.start>=t.end)return{start:0,end:0};var n=Math.max(t.start,i.start),r=Math.min(t.end,i.end);return r-n<=0?{start:0,end:0}:{start:n,end:r}}function n(t){return t.end-t.start<=0}t.intersect=i,t.isEmpty=n,t.intersects=function(t,r){return!n(i(t,r))},t.relativeComplement=function(t,i){var r=[],e={start:t.start,end:Math.min(i.start,t.end)},o={start:Math.max(i.end,t.start),end:t.end};return n(e)||r.push(e),n(o)||r.push(o),r}})($R||($R={})),function(t){t[t.AVOID=0]="AVOID",t[t.ALIGN=1]="ALIGN"}(tT||(tT={}));var nT=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.container=null,r.useFixedPosition=!1,r.useShadowDOM=!1,r.delegate=null,r.toDisposeOnClean=Cn.None,r.toDisposeOnSetContainer=Cn.None,r.shadowRoot=null,r.shadowRootHostElement=null,r.view=Nc(".context-view"),Tc(r.view),r.setContainer(i,n),r._register(En((function(){return r.setContainer(null,1)})));return r}i.prototype.setContainer=function(t,n){var r=this;var e;this.useFixedPosition=n!==1;var o=this.useShadowDOM;if(this.useShadowDOM=n===3,(t!==this.container||o!==this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(e=this.shadowRootHostElement)===null||e===void 0||e.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t)){if(this.container=t,this.useShadowDOM){this.shadowRootHostElement=Nc(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});var s=document.createElement("style");s.textContent=rT,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Nc("slot"))}else this.container.appendChild(this.view);var u=new Bn;i.BUBBLE_UP_EVENTS.forEach((function(t){u.add(Ra(r.container,t,(function(t){r.onDOMEvent(t,!1)})))})),i.BUBBLE_DOWN_EVENTS.forEach((function(t){u.add(Ra(r.container,t,(function(t){r.onDOMEvent(t,!0)}),!0))})),this.toDisposeOnSetContainer=u}};i.prototype.show=function(t){var i,n,r;this.isVisible()&&this.hide(),Ia(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="".concat(2575+((i=t.layer)!==null&&i!==void 0?i:0)),this.view.style.position=this.useFixedPosition?"fixed":"absolute",Rc(this.view),this.toDisposeOnClean=t.render(this.view)||Cn.None,this.delegate=t,this.doLayout(),(r=(n=this.delegate).focus)===null||r===void 0||r.call(n)};i.prototype.getViewElement=function(){return this.view};i.prototype.layout=function(){var t,i;this.isVisible()&&(this.delegate.canRelayout!==!1||Zt&&Es?((i=(t=this.delegate)===null||t===void 0?void 0:t.layout)===null||i===void 0||i.call(t),this.doLayout()):this.hide())};i.prototype.doLayout=function(){if(!this.isVisible())return;var t=this.delegate.getAnchor();var i;if(t instanceof HTMLElement){var n=Ka(t),r=Xa(t);i={top:n.top*r,left:n.left*r,width:n.width*r,height:n.height*r}}else i=function(t){var i=t;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}(t)?{top:t.y,left:t.x,width:t.width||1,height:t.height||2}:{top:t.posy,left:t.posx,width:2,height:2};var e=qa(this.view),o=tc(this.view),s=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;var c,h;var f=function(){var t,i;return(i=(t=cc().defaultView)===null||t===void 0?void 0:t.window)!==null&&i!==void 0?i:go}();if(a===0){var n={offset:i.top-f.pageYOffset,size:i.height,position:s===0?0:1},r={offset:i.left,size:i.width,position:u===0?0:1,mode:tT.ALIGN};c=iT(f.innerHeight,o,n)+f.pageYOffset,$R.intersects({start:c,end:c+o},{start:n.offset,end:n.offset+n.size})&&(r.mode=tT.AVOID),h=iT(f.innerWidth,e,r)}else{var n={offset:i.left,size:i.width,position:u===0?0:1},r={offset:i.top,size:i.height,position:s===0?0:1,mode:tT.ALIGN};h=iT(f.innerWidth,e,n),$R.intersects({start:h,end:h+e},{start:n.offset,end:n.offset+n.size})&&(r.mode=tT.AVOID),c=iT(f.innerHeight,o,r)+f.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(u===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);var l=Ka(this.container);this.view.style.top=c-(this.useFixedPosition?Ka(this.view).top:l.top)+"px",this.view.style.left=h-(this.useFixedPosition?Ka(this.view).left:l.left)+"px",this.view.style.width="initial"};i.prototype.hide=function(t){var i=this.delegate;this.delegate=null,i!=null&&i.onHide&&i.onHide(t),this.toDisposeOnClean.dispose(),Tc(this.view)};i.prototype.isVisible=function(){return!!this.delegate};i.prototype.onDOMEvent=function(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,ka(t).document.activeElement):i&&!ic(t.target,this.container)&&this.hide())};i.prototype.dispose=function(){this.hide(),t.prototype.dispose.call(this)};return i}(Cn);nT.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],nT.BUBBLE_DOWN_EVENTS=["click"];var rT='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';var eT=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},oT=function(t,i){return function(n,r){i(n,r,t)}};var sT=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.layoutService=i,n.currentViewDisposable=n._register(new Dn),n.contextView=n._register(new nT(n.layoutService.mainContainer,1)),n.layout(),n._register(i.onDidLayoutContainer((function(){return n.layout()})));return n}i.prototype.showContextView=function(t,i,n){var r=this;var e;e=i?i===this.layoutService.getContainer(ka(i))?1:n?3:2:1,this.contextView.setContainer(i!==null&&i!==void 0?i:this.layoutService.activeContainer,e),this.contextView.show(t);var o=En((function(){r.currentViewDisposable===o&&r.hideContextView()}));return this.currentViewDisposable.value=o,o};i.prototype.layout=function(){this.contextView.layout()};i.prototype.hideContextView=function(t){this.contextView.hide(t)};return i}(Cn);sT=eT([oT(0,AQ)],sT);var uT=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.getContextViewElement=function(){return this.contextView.getViewElement()};return i}(sT);var aT=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},cT=function(t,i){return function(n,r){i(n,r,t)}};var hT=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._instantiationService=i,s._keybindingService=r,s._layoutService=e,s._accessibilityService=o,n.onDidShowContextMenu((function(){return s.hideHover()})),s._contextViewHandler=s._register(new sT(s._layoutService));return s}i.prototype.showHover=function(t,i,n){var r=this;var e,o,s,u;if(fT(this._currentHoverOptions)===fT(t)||this._currentHover&&(!((o=(e=this._currentHoverOptions)===null||e===void 0?void 0:e.persistence)===null||o===void 0)&&o.sticky))return;this._currentHoverOptions=t,this._lastHoverOptions=t;var a=t.trapFocus||this._accessibilityService.isScreenReaderOptimized(),c=sc();n||(this._lastFocusedElementBeforeOpen=a&&c?c:void 0);var h=new Bn,f=this._instantiationService.createInstance(XR,t);if(!((s=t.persistence)===null||s===void 0)&&s.sticky&&(f.isLocked=!0),f.onDispose((function(){var i,n;!((i=r._currentHover)===null||i===void 0)&&i.domNode&&ac(r._currentHover.domNode)&&((n=r._lastFocusedElementBeforeOpen)===null||n===void 0||n.focus()),r._currentHoverOptions===t&&(r._currentHoverOptions=void 0),h.dispose()})),!t.container){var l=t.target instanceof HTMLElement?t.target:t.target.targetElements[0];t.container=this._layoutService.getContainer(ka(l))}if(this._contextViewHandler.showContextView(new lT(f,i),t.container),f.onRequestLayout((function(){return r._contextViewHandler.layout()})),(u=t.persistence)===null||u===void 0?void 0:u.sticky)h.add(Oa(ka(t.container).document,Ec.MOUSE_DOWN,(function(t){ic(t.target,f.domNode)||r.doHideHover()})));else{if("targetElements"in t.target)for(var d=0,v=t.target.targetElements;d<v.length;d++){var A=v[d];h.add(Oa(A,Ec.CLICK,(function(){return r.hideHover()})))}else h.add(Oa(t.target,Ec.CLICK,(function(){return r.hideHover()})));var l=sc();if(l){var A=ka(l).document;h.add(Oa(l,Ec.KEY_DOWN,(function(i){var n;return r._keyDown(i,f,!!(!((n=t.persistence)===null||n===void 0)&&n.hideOnKeyDown))}))),h.add(Oa(A,Ec.KEY_DOWN,(function(i){var n;return r._keyDown(i,f,!!(!((n=t.persistence)===null||n===void 0)&&n.hideOnKeyDown))}))),h.add(Oa(l,Ec.KEY_UP,(function(t){return r._keyUp(t,f)}))),h.add(Oa(A,Ec.KEY_UP,(function(t){return r._keyUp(t,f)})))}}if("IntersectionObserver"in go){var g=new IntersectionObserver((function(t){return r._intersectionChange(t,f)}),{threshold:0}),A="targetElements"in t.target?t.target.targetElements[0]:t.target;g.observe(A),h.add(En((function(){return g.disconnect()})))}return this._currentHover=f,f};i.prototype.hideHover=function(){var t;!(!((t=this._currentHover)===null||t===void 0)&&t.isLocked)&&this._currentHoverOptions&&this.doHideHover()};i.prototype.doHideHover=function(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()};i.prototype._intersectionChange=function(t,i){t[t.length-1].isIntersecting||i.dispose()};i.prototype._keyDown=function(t,i,n){var r,e;if(t.key==="Alt")return void(i.isLocked=!0);var o=new Qs(t);this._keybindingService.resolveKeyboardEvent(o).getSingleModifierDispatchChords().some((function(t){return!!t}))||this._keybindingService.softDispatch(o,o.target).kind!==0||!n||!((r=this._currentHoverOptions)===null||r===void 0)&&r.trapFocus&&t.key==="Tab"||(this.hideHover(),(e=this._lastFocusedElementBeforeOpen)===null||e===void 0||e.focus())};i.prototype._keyUp=function(t,i){var n;t.key==="Alt"&&(i.isLocked=!1,i.isMouseIn||(this.hideHover(),(n=this._lastFocusedElementBeforeOpen)===null||n===void 0||n.focus()))};return i}(Cn);function fT(t){var i;if(t!==void 0)return(i=t==null?void 0:t.id)!==null&&i!==void 0?i:t}hT=aT([cT(0,fh),cT(1,TO),cT(2,vE),cT(3,AQ),cT(4,Kw)],hT);var lT=function(){function t(t,i){if(i===void 0){i=!1}this._hover=t,this._focus=i,this.layer=1}Object.defineProperty(t.prototype,"anchorPosition",{get:function(){return this._hover.anchor},enumerable:false,configurable:true});t.prototype.render=function(t){return this._hover.render(t),this._focus&&this._hover.focus(),this._hover};t.prototype.getAnchor=function(){return{x:this._hover.x,y:this._hover.y}};t.prototype.layout=function(){this._hover.layout()};return t}();Ad(OO,hT,1),cx((function(t,i){var n=t.getColor(nm);n&&(i.addRule(".monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(n.transparent(.5),"; }")),i.addRule(".monaco-workbench .workbench-hover hr { border-top: 1px solid ".concat(n.transparent(.5),"; }")))}));var dT=lh("IWorkspaceEditService");var vT=function(){function t(t){this.metadata=t}t.convert=function(t){return t.edits.map((function(t){if(AT.is(t))return AT.lift(t);if(gT.is(t))return gT.lift(t);throw new Error("Unsupported edit")}))};return t}();var AT=function(t){__extends(i,t);function i(i,n,r,e){if(r===void 0){r=void 0}var o=this;o=t.call(this,e)||this,o.resource=i,o.textEdit=n,o.versionId=r;return o}i.is=function(t){return t instanceof i||et(t)&&zr.isUri(t.resource)&&et(t.textEdit)};i.lift=function(t){return t instanceof i?t:new i(t.resource,t.textEdit,t.versionId,t.metadata)};return i}(vT);var gT=function(t){__extends(i,t);function i(i,n,r,e){if(r===void 0){r={}}var o=this;o=t.call(this,e)||this,o.oldResource=i,o.newResource=n,o.options=r;return o}i.is=function(t){return t instanceof i||et(t)&&(!!t.newResource||!!t.oldResource)};i.lift=function(t){return t instanceof i?t:new i(t.oldResource,t.newResource,t.options,t.metadata)};return i}(vT);var wT={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0},pT=Object.freeze({id:"editor",order:5,type:"object",title:Bt(0,"Editor"),scope:5}),mT=__assign(__assign({},pT),{properties:{"editor.tabSize":{type:"number",default:di.tabSize,minimum:1,markdownDescription:Bt(0,"The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:Bt(0,'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:di.insertSpaces,markdownDescription:Bt(0,"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:di.detectIndentation,markdownDescription:Bt(0,"Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:di.trimAutoWhitespace,description:Bt(0,"Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:di.largeFileOptimizations,description:Bt(0,"Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[Bt(0,"Turn off Word Based Suggestions."),Bt(0,"Only suggest words from the active document."),Bt(0,"Suggest words from all open documents of the same language."),Bt(0,"Suggest words from all open documents.")],description:Bt(0,"Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[Bt(0,"Semantic highlighting enabled for all color themes."),Bt(0,"Semantic highlighting disabled for all color themes."),Bt(0,"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:Bt(0,"Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:Bt(0,"Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:Bt(0,"Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:Bt(0,"Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:Bt(0,"Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:Bt(0,"Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:Bt(0,"Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:Bt(0,"The opening bracket character or string sequence.")},{type:"string",description:Bt(0,"The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:Bt(0,"Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:Bt(0,"The opening bracket character or string sequence.")},{type:"string",description:Bt(0,"The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:wT.maxComputationTime,description:Bt(0,"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:wT.maxFileSize,description:Bt(0,"Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:wT.renderSideBySide,description:Bt(0,"Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:wT.renderSideBySideInlineBreakpoint,description:Bt(0,"If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:wT.useInlineViewWhenSpaceIsLimited,description:Bt(0,"If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:wT.renderMarginRevertIcon,description:Bt(0,"When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:wT.renderGutterMenu,description:Bt(0,"When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:wT.ignoreTrimWhitespace,description:Bt(0,"When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:wT.renderIndicators,description:Bt(0,"Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:wT.diffCodeLens,description:Bt(0,"Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:wT.diffWordWrap,markdownEnumDescriptions:[Bt(0,"Lines will never wrap."),Bt(0,"Lines will wrap at the viewport width."),Bt(0,"Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:wT.diffAlgorithm,markdownEnumDescriptions:[Bt(0,"Uses the legacy diffing algorithm."),Bt(0,"Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:wT.hideUnchangedRegions.enabled,markdownDescription:Bt(0,"Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:wT.hideUnchangedRegions.revealLineCount,markdownDescription:Bt(0,"Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:wT.hideUnchangedRegions.minimumLineCount,markdownDescription:Bt(0,"Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:wT.hideUnchangedRegions.contextLineCount,markdownDescription:Bt(0,"Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:wT.experimental.showMoves,markdownDescription:Bt(0,"Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:wT.experimental.showEmptyDecorations,description:Bt(0,"Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});for(var bT=0,yT=on;bT<yT.length;bT++){var Yt=yT[bT];var Jt=Yt.schema;if(Jt!==void 0)if((kT=Jt).type!==void 0||kT.anyOf!==void 0)mT.properties["editor.".concat(Yt.name)]=Jt;else for(var Pt in Jt)Object.hasOwnProperty.call(Jt,Pt)&&(mT.properties[Pt]=Jt[Pt])}var kT;var xT=null;function ET(){return xT===null&&(xT=Object.create(null),Object.keys(mT.properties).forEach((function(t){xT[t]=!0}))),xT}yf.as(bd).registerConfiguration(mT);var BT=function(){function t(){}t.insert=function(t,i){return{range:new Zr(t.lineNumber,t.column,t.lineNumber,t.column),text:i,forceMoveMarkers:!0}};t.delete=function(t){return{range:t,text:null}};t.replace=function(t,i){return{range:t,text:i}};t.replaceMove=function(t,i){return{range:t,text:i,forceMoveMarkers:!0}};return t}();function CT(t){return Object.isFrozen(t)?t:function(t){if(!t||typeof t!="object")return t;var i=[t];for(;i.length>0;){var n=i.shift();Object.freeze(n);for(var r in n)if(wt.call(n,r)){var e=n[r];typeof e!="object"||Object.isFrozen(e)||ot(e)||i.push(e)}}return t}(t)}var DT=function(){function t(t,i,n,r){if(t===void 0){t={}}if(i===void 0){i=[]}if(n===void 0){n=[]}this._contents=t,this._keys=i,this._overrides=n,this.raw=r,this.overrideConfigurations=new Map}Object.defineProperty(t.prototype,"rawConfiguration",{get:function(){var i;if(!this._rawConfiguration)if(!((i=this.raw)===null||i===void 0)&&i.length){var n=this.raw.map((function(i){if(i instanceof t)return i;var n=new MT("");return n.parseRaw(i),n.configurationModel}));this._rawConfiguration=n.reduce((function(t,i){return i===t?i:t.merge(i)}),n[0])}else this._rawConfiguration=this;return this._rawConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"contents",{get:function(){return this._contents},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"overrides",{get:function(){return this._overrides},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"keys",{get:function(){return this._keys},enumerable:false,configurable:true});t.prototype.isEmpty=function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0};t.prototype.getValue=function(t){return t?fd(this.contents,t):this.contents};t.prototype.inspect=function(i,n){var r=this;return{get value(){return CT(r.rawConfiguration.getValue(i))},get override(){return n?CT(r.rawConfiguration.getOverrideValue(i,n)):void 0},get merged(){return CT(n?r.rawConfiguration.override(n).getValue(i):r.rawConfiguration.getValue(i))},get overrides(){var n=[];for(var e=0,o=r.rawConfiguration.overrides;e<o.length;e++){var s=o[e],u=s.contents,a=s.identifiers,c=s.keys;var h=new t(u,c).getValue(i);h!==void 0&&n.push({identifiers:a,value:h})}return n.length?CT(n):void 0}}};t.prototype.getOverrideValue=function(t,i){var n=this.getContentsForOverrideIdentifer(i);return n?t?fd(n,t):n:void 0};t.prototype.override=function(t){var i=this.overrideConfigurations.get(t);return i||(i=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,i)),i};t.prototype.merge=function(){var i=[];for(var n=0;n<arguments.length;n++){i[n]=arguments[n]}var r,e;var o=gt(this.contents),s=gt(this.overrides),u=__spreadArray([],this.keys,true),a=!((r=this.raw)===null||r===void 0)&&r.length?__spreadArray([],this.raw,true):[this];for(var c=0,h=i;c<h.length;c++){var f=h[c];if(a.push.apply(a,!((e=f.raw)===null||e===void 0)&&e.length?f.raw:[f]),!f.isEmpty()){this.mergeContents(o,f.contents);var l=function(t){var i;var n=s.filter((function(i){return _(i.identifiers,t.identifiers)}))[0];n?(d.mergeContents(n.contents,t.contents),(i=n.keys).push.apply(i,t.keys),n.keys=j(n.keys)):s.push(gt(t))};var d=this;for(var v=0,A=f.overrides;v<A.length;v++){var g=A[v];l(g)}for(var w=0,p=f.keys;w<p.length;w++){var g=p[w];u.indexOf(g)===-1&&u.push(g)}}}return new t(o,u,s,a.every((function(i){return i instanceof t}))?void 0:a)};t.prototype.createOverrideConfigurationModel=function(i){var n=this.getContentsForOverrideIdentifer(i);if(!n||typeof n!="object"||!Object.keys(n).length)return this;var r={};for(var e=0,o=j(__spreadArray(__spreadArray([],Object.keys(this.contents),true),Object.keys(n),true));e<o.length;e++){var s=o[e];var u=this.contents[s];var a=n[s];a&&(typeof u=="object"&&typeof a=="object"?(u=gt(u),this.mergeContents(u,a)):u=a),r[s]=u}return new t(r,this.keys,this.overrides)};t.prototype.mergeContents=function(t,i){for(var n=0,r=Object.keys(i);n<r.length;n++){var e=r[n];e in t&&et(t[e])&&et(i[e])?this.mergeContents(t[e],i[e]):t[e]=gt(i[e])}};t.prototype.getContentsForOverrideIdentifer=function(t){var i=this;var n=null,r=null;var e=function(t){t&&(r?i.mergeContents(r,t):r=gt(t))};for(var o=0,s=this.overrides;o<s.length;o++){var u=s[o];u.identifiers.length===1&&u.identifiers[0]===t?n=u.contents:u.identifiers.includes(t)&&e(u.contents)}return e(n),r};t.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}};t.prototype.addValue=function(t,i){this.updateValue(t,i,!0)};t.prototype.setValue=function(t,i){this.updateValue(t,i,!1)};t.prototype.removeValue=function(t){var i=this.keys.indexOf(t);i!==-1&&(this.keys.splice(i,1),cd(this.contents,t),Bd.test(t)&&this.overrides.splice(this.overrides.findIndex((function(i){return _(i.identifiers,Cd(t))})),1))};t.prototype.updateValue=function(t,i,n){ad(this.contents,t,i,(function(t){return console.error(t)})),(n=n||this.keys.indexOf(t)===-1)&&this.keys.push(t),Bd.test(t)&&this.overrides.push({identifiers:Cd(t),keys:Object.keys(this.contents[t]),contents:ud(this.contents[t],(function(t){return console.error(t)}))})};return t}();var MT=function(){function t(t){this._name=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}Object.defineProperty(t.prototype,"configurationModel",{get:function(){return this._configurationModel||new DT},enumerable:false,configurable:true});t.prototype.parseRaw=function(t,i){this._raw=t;var n=this.doParseRaw(t,i),r=n.contents,e=n.keys,o=n.overrides,s=n.restricted,u=n.hasExcludedProperties;this._configurationModel=new DT(r,e,o,u?[t]:void 0),this._restrictedConfigurations=s||[]};t.prototype.doParseRaw=function(t,i){var n=this;var r=yf.as(bd).getConfigurationProperties(),e=this.filter(t,r,!0,i);return{contents:ud(t=e.raw,(function(t){return console.error("Conflict in settings file ".concat(n._name,": ").concat(t))})),keys:Object.keys(t),overrides:this.toOverrides(t,(function(t){return console.error("Conflict in settings file ".concat(n._name,": ").concat(t))})),restricted:e.restricted,hasExcludedProperties:e.hasExcludedProperties}};t.prototype.filter=function(t,i,n,r){var e,o,s;var u=!1;if(!(r!=null&&r.scopes)&&!(r!=null&&r.skipRestricted)&&!(!((e=r==null?void 0:r.exclude)===null||e===void 0)&&e.length))return{raw:t,restricted:[],hasExcludedProperties:u};var a={},c=[];for(var h in t)if(Bd.test(h)&&n){var f=this.filter(t[h],i,!1,r);a[h]=f.raw,u=u||f.hasExcludedProperties,c.push.apply(c,f.restricted)}else{var f=i[h],l=f?f.scope!==void 0?f.scope:3:void 0;f!=null&&f.restricted&&c.push(h),!((o=r.exclude)===null||o===void 0)&&o.includes(h)||!(!((s=r.include)===null||s===void 0)&&s.includes(h))&&(l!==void 0&&r.scopes!==void 0&&!r.scopes.includes(l)||r.skipRestricted&&(f!=null&&f.restricted))?u=!0:a[h]=t[h]}return{raw:a,restricted:c,hasExcludedProperties:u}};t.prototype.toOverrides=function(t,i){var n=[];for(var r=0,e=Object.keys(t);r<e.length;r++){var o=e[r];if(Bd.test(o)){var s={};for(var u in t[o])s[u]=t[o][u];n.push({identifiers:Cd(o),keys:Object.keys(s),contents:ud(s,i)})}}return n};return t}();var _T=function(){function t(t,i,n,r,e,o,s,u,a,c,h,f,l){this.key=t,this.overrides=i,this._value=n,this.overrideIdentifiers=r,this.defaultConfiguration=e,this.policyConfiguration=o,this.applicationConfiguration=s,this.userConfiguration=u,this.localUserConfiguration=a,this.remoteUserConfiguration=c,this.workspaceConfiguration=h,this.folderConfigurationModel=f,this.memoryConfigurationModel=l}t.prototype.toInspectValue=function(t){return(t==null?void 0:t.value)!==void 0||(t==null?void 0:t.override)!==void 0||(t==null?void 0:t.overrides)!==void 0?t:void 0};Object.defineProperty(t.prototype,"userInspectValue",{get:function(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"user",{get:function(){return this.toInspectValue(this.userInspectValue)},enumerable:false,configurable:true});return t}();var FT=function(){function t(t,i,n,r,e,o,s,u,a){if(e===void 0){e=new DT}if(o===void 0){o=new DT}if(s===void 0){s=new yv}if(u===void 0){u=new DT}if(a===void 0){a=new yv}this._defaultConfiguration=t,this._policyConfiguration=i,this._applicationConfiguration=n,this._localUserConfiguration=r,this._remoteUserConfiguration=e,this._workspaceConfiguration=o,this._folderConfigurations=s,this._memoryConfiguration=u,this._memoryConfigurationByResource=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new yv,this._userConfiguration=null}t.prototype.getValue=function(t,i,n){return this.getConsolidatedConfigurationModel(t,i,n).getValue(t)};t.prototype.updateValue=function(t,i,n){if(n===void 0){n={}}var r;n.resource?(r=this._memoryConfigurationByResource.get(n.resource),r||(r=new DT,this._memoryConfigurationByResource.set(n.resource,r))):r=this._memoryConfiguration,i===void 0?r.removeValue(t):r.setValue(t,i),n.resource||(this._workspaceConsolidatedConfiguration=null)};t.prototype.inspect=function(t,i,n){var r=this.getConsolidatedConfigurationModel(t,i,n),e=this.getFolderConfigurationModelForResource(i.resource,n),o=i.resource&&this._memoryConfigurationByResource.get(i.resource)||this._memoryConfiguration,s=new Set;for(var u=0,a=r.overrides;u<a.length;u++){var c=a[u];for(var h=0,f=c.identifiers;h<f.length;h++){var l=f[h];r.getOverrideValue(t,l)!==void 0&&s.add(l)}}return new _T(t,i,r.getValue(t),s.size?__spreadArray([],s,true):void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,n?this._workspaceConfiguration:void 0,e||void 0,o)};Object.defineProperty(t.prototype,"applicationConfiguration",{get:function(){return this._applicationConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"userConfiguration",{get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"localUserConfiguration",{get:function(){return this._localUserConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"remoteUserConfiguration",{get:function(){return this._remoteUserConfiguration},enumerable:false,configurable:true});t.prototype.getConsolidatedConfigurationModel=function(t,i,n){var r=this.getConsolidatedConfigurationModelForResource(i,n);return i.overrideIdentifier&&(r=r.override(i.overrideIdentifier)),this._policyConfiguration.isEmpty()||this._policyConfiguration.getValue(t)===void 0||(r=r.merge(this._policyConfiguration)),r};t.prototype.getConsolidatedConfigurationModelForResource=function(t,i){var n=t.resource;var r=this.getWorkspaceConsolidatedConfiguration();if(i&&n){var e=i.getFolder(n);e&&(r=this.getFolderConsolidatedConfiguration(e.uri)||r);var o=this._memoryConfigurationByResource.get(n);o&&(r=r.merge(o))}return r};t.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration};t.prototype.getFolderConsolidatedConfiguration=function(t){var i=this._foldersConsolidatedConfigurations.get(t);if(!i){var n=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(t);r?(i=n.merge(r),this._foldersConsolidatedConfigurations.set(t,i)):i=n}return i};t.prototype.getFolderConfigurationModelForResource=function(t,i){if(i&&t){var n=i.getFolder(t);if(n)return this._folderConfigurations.get(n.uri)}};t.prototype.toData=function(){var t=this;return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:__spreadArray([],this._folderConfigurations.keys(),true).reduce((function(i,n){var r=t._folderConfigurations.get(n),e=r.contents,o=r.overrides,s=r.keys;return i.push([n,{contents:e,overrides:o,keys:s}]),i}),[])}};t.parse=function(i){var n=this;var r=this.parseConfigurationModel(i.defaults),e=this.parseConfigurationModel(i.policy),o=this.parseConfigurationModel(i.application),s=this.parseConfigurationModel(i.user),u=this.parseConfigurationModel(i.workspace),a=i.folders.reduce((function(t,i){return t.set(zr.revive(i[0]),n.parseConfigurationModel(i[1])),t}),new yv);return new t(r,e,o,s,new DT,u,a,new DT,new yv)};t.parseConfigurationModel=function(t){return new DT(t.contents,t.keys,t.overrides)};return t}();var ST=function(){function t(t,i,n,r){this.change=t,this.previous=i,this.currentConfiguraiton=n,this.currentWorkspace=r,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(var e=0,o=t.keys;e<o.length;e++){var s=o[e];this.affectedKeys.add(s)}for(var u=0,a=t.overrides;u<a.length;u++){var c=a[u],s=c[1];for(var h=0,f=s;h<f.length;h++){var l=f[h];this.affectedKeys.add(l)}}this._affectsConfigStr=this._marker;for(var d=0,v=this.affectedKeys;d<v.length;d++){var s=v[d];this._affectsConfigStr+=s+this._marker}}Object.defineProperty(t.prototype,"previousConfiguration",{get:function(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=FT.parse(this.previous.data)),this._previousConfiguration},enumerable:false,configurable:true});t.prototype.affectsConfiguration=function(t,i){var n;var r=this._marker+t,e=this._affectsConfigStr.indexOf(r);if(e<0)return!1;var o=e+r.length;if(o>=this._affectsConfigStr.length)return!1;var s=this._affectsConfigStr.charCodeAt(o);return s!==this._markerCode1&&s!==this._markerCode2?!1:i?!yt(this.previousConfiguration?this.previousConfiguration.getValue(t,i,(n=this.previous)===null||n===void 0?void 0:n.workspace):void 0,this.currentConfiguraiton.getValue(t,i,this.currentWorkspace)):!0};return t}();var IT={kind:0},QT={kind:1};var OT=function(){function t(i,n,r){var e;this._log=r,this._defaultKeybindings=i,this._defaultBoundCommands=new Map;for(var o=0,s=i;o<s.length;o++){var u=s[o];var a=u.command;a&&a.charAt(0)!=="-"&&this._defaultBoundCommands.set(a,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=t.handleRemovals([].concat(i).concat(n));for(var u=0,a=this._keybindings.length;u<a;u++){var c=this._keybindings[u];if(c.chords.length===0)continue;var h=(e=c.when)===null||e===void 0?void 0:e.substituteConstants();h&&h.type===0||this._addKeyPress(c.chords[0],c)}}t._isTargetedForRemoval=function(t,i,n){if(i){for(var r=0;r<i.length;r++)if(i[r]!==t.chords[r])return!1}return!(n&&n.type!==1&&(!t.when||!function(t,i){var n=t?t.substituteConstants():void 0,r=i?i.substituteConstants():void 0;return!n&&!r||!(!n||!r)&&n.equals(r)}(n,t.when)))};t.handleRemovals=function(t){var i=new Map;for(var n=0,r=t.length;n<r;n++){var e=t[n];if(e.command&&e.command.charAt(0)==="-"){var o=e.command.substring(1);i.has(o)?i.get(o).push(e):i.set(o,[e])}}if(i.size===0)return t;var s=[];for(var n=0,r=t.length;n<r;n++){var e=t[n];if(!e.command||e.command.length===0){s.push(e);continue}if(e.command.charAt(0)==="-")continue;var o=i.get(e.command);if(!o||!e.isDefault){s.push(e);continue}var u=!1;for(var a=0,c=o;a<c.length;a++){var h=c[a];var f=h.when;if(this._isTargetedForRemoval(e,h.chords,f)){u=!0;break}}u||s.push(e)}return s};t.prototype._addKeyPress=function(i,n){var r=this._map.get(i);if(r===void 0)return this._map.set(i,[n]),void this._addToLookupMap(n);for(var e=r.length-1;e>=0;e--){var o=r[e];if(o.command===n.command)continue;var s=!0;for(var u=1;u<o.chords.length&&u<n.chords.length;u++)if(o.chords[u]!==n.chords[u]){s=!1;break}s&&t.whenIsEntirelyIncluded(o.when,n.when)&&this._removeFromLookupMap(o)}r.push(n),this._addToLookupMap(n)};t.prototype._addToLookupMap=function(t){if(!t.command)return;var i=this._lookupMap.get(t.command);i===void 0?(i=[t],this._lookupMap.set(t.command,i)):i.push(t)};t.prototype._removeFromLookupMap=function(t){if(!t.command)return;var i=this._lookupMap.get(t.command);if(i!==void 0){for(var n=0,r=i.length;n<r;n++)if(i[n]===t)return void i.splice(n,1)}};t.whenIsEntirelyIncluded=function(t,i){return!i||i.type===1||!(!t||t.type===1)&&df(t,i)};t.prototype.getKeybindings=function(){return this._keybindings};t.prototype.lookupPrimaryKeybinding=function(t,i){var n=this._lookupMap.get(t);if(n===void 0||n.length===0)return null;if(n.length===1)return n[0];for(var r=n.length-1;r>=0;r--){var e=n[r];if(i.contextMatchesRules(e.when))return e}return n[n.length-1]};t.prototype.resolve=function(t,i,n){var r=__spreadArray(__spreadArray([],i,true),[n],false);this._log("| Resolving ".concat(r));var e=this._map.get(r[0]);if(e===void 0)return this._log("\\ No keybinding entries."),IT;var o=null;if(r.length<2)o=e;else{o=[];for(var s=0,u=e.length;s<u;s++){var a=e[s];if(r.length>a.chords.length)continue;var c=!0;for(var h=1;h<r.length;h++)if(a.chords[h]!==r[h]){c=!1;break}c&&o.push(a)}}var f=this._findCommand(t,o);return f?r.length<f.chords.length?(this._log("\\ From ".concat(o.length," keybinding entries, awaiting ").concat(f.chords.length-r.length," more chord(s), when: ").concat(NT(f.when),", source: ").concat(RT(f),".")),QT):(this._log("\\ From ".concat(o.length," keybinding entries, matched ").concat(f.command,", when: ").concat(NT(f.when),", source: ").concat(RT(f),".")),l=f.command,d=f.commandArgs,v=f.bubble,{kind:2,commandId:l,commandArgs:d,isBubble:v}):(this._log("\\ From ".concat(o.length," keybinding entries, no when clauses matched the context.")),IT);var l,d,v};t.prototype._findCommand=function(i,n){for(var r=n.length-1;r>=0;r--){var e=n[r];if(t._contextMatchesRules(i,e.when))return e}return null};t._contextMatchesRules=function(t,i){return!i||i.evaluate(t)};return t}();function NT(t){return t?"".concat(t.serialize()):"no when condition"}function RT(t){return t.extensionId?t.isBuiltinExtension?"built-in extension ".concat(t.extensionId):"user extension ".concat(t.extensionId):t.isDefault?"built-in":"user"}var TT=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;var LT=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._contextKeyService=i,s._commandService=n,s._telemetryService=r,s._notificationService=e,s._logService=o,s._onDidUpdateKeybindings=s._register(new Ln),s._currentChords=[],s._currentChordChecker=new Xs,s._currentChordStatusMessage=null,s._ignoreSingleModifiers=jT.EMPTY,s._currentSingleModifier=null,s._currentSingleModifierClearTimeout=new Ks,s._currentlyDispatchingCommandId=null,s._logging=!1;return s}Object.defineProperty(i.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Qn.None},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"inChordMode",{get:function(){return this._currentChords.length>0},enumerable:false,configurable:true});i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype._log=function(t){this._logging&&this._logService.info("[KeybindingService]: ".concat(t))};i.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()};i.prototype.lookupKeybinding=function(t,i){var n=this._getResolver().lookupPrimaryKeybinding(t,i||this._contextKeyService);if(n)return n.resolvedKeybinding};i.prototype.dispatchEvent=function(t,i){return this._dispatch(t,i)};i.prototype.softDispatch=function(t,i){this._log("/ Soft dispatching keyboard event");var n=this.resolveKeyboardEvent(t);if(n.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),IT;var r=n.getDispatchChords()[0];if(r===null)return this._log("\\ Keyboard event cannot be dispatched"),IT;var e=this._contextKeyService.getContext(i),o=this._currentChords.map((function(t){var i=t.keypress;return i}));return this._getResolver().resolve(e,o,r)};i.prototype._scheduleLeaveChordMode=function(){var t=this;var i=Date.now();this._currentChordChecker.cancelAndSet((function(){t._documentHasFocus()?Date.now()-i>5e3&&t._leaveChordMode():t._leaveChordMode()}),500)};i.prototype._expectAnotherChord=function(t,i){switch(this._currentChords.push({keypress:t,label:i}),this._currentChords.length){case 0:throw gn("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(Bt(0,"({0}) was pressed. Waiting for second key of chord...",i));break;default:{var n=this._currentChords.map((function(t){var i=t.label;return i})).join(", ");this._currentChordStatusMessage=this._notificationService.status(Bt(0,"({0}) was pressed. Waiting for next key of chord...",n))}}this._scheduleLeaveChordMode(),dE.enabled&&dE.disable()};i.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],dE.enable()};i.prototype._dispatch=function(t,i){return this._doDispatch(this.resolveKeyboardEvent(t),i,!1)};i.prototype._singleModifierDispatch=function(t,i){var n=this;var r=this.resolveKeyboardEvent(t),e=r.getSingleModifierDispatchChords()[0];if(e)return this._ignoreSingleModifiers.has(e)?(this._log("+ Ignoring single modifier ".concat(e," due to it being pressed together with other keys.")),this._ignoreSingleModifiers=jT.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=jT.EMPTY,this._currentSingleModifier===null?(this._log("+ Storing single modifier for possible chord ".concat(e,".")),this._currentSingleModifier=e,this._currentSingleModifierClearTimeout.cancelAndSet((function(){n._log("+ Clearing single modifier due to 300ms elapsed."),n._currentSingleModifier=null}),300),!1):e===this._currentSingleModifier?(this._log("/ Dispatching single modifier chord ".concat(e," ").concat(e)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(r,i,!0)):(this._log("+ Clearing single modifier due to modifier mismatch: ".concat(this._currentSingleModifier," ").concat(e)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));var o=r.getChords()[0];return this._ignoreSingleModifiers=new jT(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1};i.prototype._doDispatch=function(t,i,n){var r=this;if(n===void 0){n=!1}var e;var o=!1;if(t.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;var s=null,u=null;if(n){var a=t.getSingleModifierDispatchChords()[0];s=a,u=a?[a]:[]}else s=t.getDispatchChords()[0],u=this._currentChords.map((function(t){var i=t.keypress;return i}));if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;var c=this._contextKeyService.getContext(i),h=t.getLabel(),f=this._getResolver().resolve(c,u,s);switch(f.kind){case 0:if(this._logService.trace("KeybindingService#dispatch",h,"[ No matching keybinding ]"),this.inChordMode){var a=this._currentChords.map((function(t){var i=t.label;return i})).join(", ");this._log('+ Leaving multi-chord mode: Nothing bound to "'.concat(a,", ").concat(h,'".')),this._notificationService.status(Bt(0,"The key combination ({0}, {1}) is not a command.",a,h),{hideAfter:1e4}),this._leaveChordMode(),o=!0}return o;case 1:return this._logService.trace("KeybindingService#dispatch",h,"[ Several keybindings match - more chords needed ]"),o=!0,this._expectAnotherChord(s,h),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),o;case 2:if(this._logService.trace("KeybindingService#dispatch",h,"[ Will dispatch command ".concat(f.commandId," ]")),f.commandId===null||f.commandId===""){if(this.inChordMode){var a=this._currentChords.map((function(t){var i=t.label;return i})).join(", ");this._log('+ Leaving chord mode: Nothing bound to "'.concat(a,", ").concat(h,'".')),this._notificationService.status(Bt(0,"The key combination ({0}, {1}) is not a command.",a,h),{hideAfter:1e4}),this._leaveChordMode(),o=!0}}else{this.inChordMode&&this._leaveChordMode(),f.isBubble||(o=!0),this._log("+ Invoking command ".concat(f.commandId,".")),this._currentlyDispatchingCommandId=f.commandId;try{f.commandArgs===void 0?this._commandService.executeCommand(f.commandId).then(void 0,(function(t){return r._notificationService.warn(t)})):this._commandService.executeCommand(f.commandId,f.commandArgs).then(void 0,(function(t){return r._notificationService.warn(t)}))}finally{this._currentlyDispatchingCommandId=null}TT.test(f.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:f.commandId,from:"keybinding",detail:(e=t.getUserSettingsLabel())!==null&&e!==void 0?e:void 0})}return o}};i.prototype.mightProducePrintableCharacter=function(t){return!t.ctrlKey&&!t.metaKey&&(t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30)};return i}(Cn);var jT=function(){function t(t){this._ctrlKey=!!t&&t.ctrlKey,this._shiftKey=!!t&&t.shiftKey,this._altKey=!!t&&t.altKey,this._metaKey=!!t&&t.metaKey}t.prototype.has=function(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}};return t}();jT.EMPTY=new jT(null);var zT=function(){function t(t,i,n,r,e,o,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.chords=t?UT(t.getDispatchChords()):[],t&&this.chords.length===0&&(this.chords=UT(t.getSingleModifierDispatchChords())),this.bubble=!!i&&i.charCodeAt(0)===94,this.command=this.bubble?i.substr(1):i,this.commandArgs=n,this.when=r,this.isDefault=e,this.extensionId=o,this.isBuiltinExtension=s}return t}();function UT(t){var i=[];for(var n=0,r=t.length;n<r;n++){var e=t[n];if(!e)return[];i.push(e)}return i}var HT=function(){function t(t,i,n){if(n===void 0){n=i}this.modifierLabels=[null],this.modifierLabels[2]=t,this.modifierLabels[1]=i,this.modifierLabels[3]=n}t.prototype.toLabel=function(t,i,n){if(i.length===0)return null;var r=[];for(var e=0,o=i.length;e<o;e++){var s=i[e],u=n(s);if(u===null)return null;r[e]=GT(s,u,this.modifierLabels[t])}return r.join(" ")};return t}();var YT=new HT({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:Bt(0,"Ctrl"),shiftKey:Bt(0,"Shift"),altKey:Bt(0,"Alt"),metaKey:Bt(0,"Windows"),separator:"+"},{ctrlKey:Bt(0,"Ctrl"),shiftKey:Bt(0,"Shift"),altKey:Bt(0,"Alt"),metaKey:Bt(0,"Super"),separator:"+"}),JT=new HT({ctrlKey:Bt(0,"Control"),shiftKey:Bt(0,"Shift"),altKey:Bt(0,"Option"),metaKey:Bt(0,"Command"),separator:"+"},{ctrlKey:Bt(0,"Control"),shiftKey:Bt(0,"Shift"),altKey:Bt(0,"Alt"),metaKey:Bt(0,"Windows"),separator:"+"},{ctrlKey:Bt(0,"Control"),shiftKey:Bt(0,"Shift"),altKey:Bt(0,"Alt"),metaKey:Bt(0,"Super"),separator:"+"}),PT=new HT({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),WT=new HT({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function GT(t,i,n){if(i===null)return"";var r=[];return t.ctrlKey&&r.push(n.ctrlKey),t.shiftKey&&r.push(n.shiftKey),t.altKey&&r.push(n.altKey),t.metaKey&&r.push(n.metaKey),i!==""&&r.push(i),r.join(n.separator)}var VT=function(t){__extends(i,t);function i(i,n){var r=this;if(r=t.call(this)||this,n.length===0)throw An("chords");r._os=i,r._chords=n;return r}i.prototype.getLabel=function(){var t=this;return YT.toLabel(this._os,this._chords,(function(i){return t._getLabel(i)}))};i.prototype.getAriaLabel=function(){var t=this;return JT.toLabel(this._os,this._chords,(function(i){return t._getAriaLabel(i)}))};i.prototype.getElectronAccelerator=function(){var t=this;return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:PT.toLabel(this._os,this._chords,(function(i){return t._getElectronAccelerator(i)}))};i.prototype.getUserSettingsLabel=function(){var t=this;return WT.toLabel(this._os,this._chords,(function(i){return t._getUserSettingsLabel(i)}))};i.prototype.hasMultipleChords=function(){return this._chords.length>1};i.prototype.getChords=function(){var t=this;return this._chords.map((function(i){return t._getChord(i)}))};i.prototype._getChord=function(t){return new _s(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))};i.prototype.getDispatchChords=function(){var t=this;return this._chords.map((function(i){return t._getChordDispatch(i)}))};i.prototype.getSingleModifierDispatchChords=function(){var t=this;return this._chords.map((function(i){return t._getSingleModifierChordDispatch(i)}))};return i}(Fs);var KT=function(t){__extends(i,t);function i(i,n){return t.call(this,n,i)||this}i.prototype._keyCodeToUILabel=function(t){if(this._os===2)switch(t){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return er.toString(t)};i.prototype._getLabel=function(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)};i.prototype._getAriaLabel=function(t){return t.isDuplicateModifierCase()?"":er.toString(t.keyCode)};i.prototype._getElectronAccelerator=function(t){return er.toElectronAccelerator(t.keyCode)};i.prototype._getUserSettingsLabel=function(t){if(t.isDuplicateModifierCase())return"";var i=er.toUserSettingsUS(t.keyCode);return i&&i.toLowerCase()};i.prototype._getChordDispatch=function(t){return i.getDispatchStr(t)};i.getDispatchStr=function(t){if(t.isModifierKey())return null;var i="";return t.ctrlKey&&(i+="ctrl+"),t.shiftKey&&(i+="shift+"),t.altKey&&(i+="alt+"),t.metaKey&&(i+="meta+"),i+=er.toString(t.keyCode),i};i.prototype._getSingleModifierChordDispatch=function(t){return t.keyCode!==5||t.shiftKey||t.altKey||t.metaKey?t.keyCode!==4||t.ctrlKey||t.altKey||t.metaKey?t.keyCode!==6||t.ctrlKey||t.shiftKey||t.metaKey?t.keyCode!==57||t.ctrlKey||t.shiftKey||t.altKey?null:"meta":"alt":"shift":"ctrl"};i._scanCodeToKeyCode=function(t){var i=rr[t];if(i!==-1)return i;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0};i._toKeyCodeChord=function(t){if(!t)return null;if(t instanceof Ds)return t;var i=this._scanCodeToKeyCode(t.scanCode);return i===0?null:new Ds(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,i)};i.resolveKeybinding=function(t,n){var r=this;var e=UT(t.chords.map((function(t){return r._toKeyCodeChord(t)})));return e.length>0?[new i(e,n)]:[]};return i}(VT);var XT=lh("labelService"),qT=lh("progressService");var ZT=function(){function t(t){this.callback=t}t.prototype.report=function(t){this._value=t,this.callback(this._value)};return t}();ZT.None=Object.freeze({report:function(){}});var $T=lh("editorProgressService");var tL=function(){function t(){this._value="",this._pos=0}t.prototype.reset=function(t){return this._value=t,this._pos=0,this};t.prototype.next=function(){return this._pos+=1,this};t.prototype.hasNext=function(){return this._pos<this._value.length-1};t.prototype.cmp=function(t){return t.charCodeAt(0)-this._value.charCodeAt(this._pos)};t.prototype.value=function(){return this._value[this._pos]};return t}();var iL=function(){function t(t){if(t===void 0){t=!0}this._caseSensitive=t}t.prototype.reset=function(t){return this._value=t,this._from=0,this._to=0,this.next()};t.prototype.hasNext=function(){return this._to<this._value.length};t.prototype.next=function(){this._from=this._to;var t=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46){if(!t)break;this._from++}else t=!1;return this};t.prototype.cmp=function(t){return this._caseSensitive?Oo(t,this._value,0,t.length,this._from,this._to):Ro(t,this._value,0,t.length,this._from,this._to)};t.prototype.value=function(){return this._value.substring(this._from,this._to)};return t}();var nL=function(){function t(t,i){if(t===void 0){t=!0}if(i===void 0){i=!0}this._splitOnBackslash=t,this._caseSensitive=i}t.prototype.reset=function(t){this._from=0,this._to=0,this._value=t,this._valueLen=t.length;for(var i=t.length-1;i>=0;i--,this._valueLen--){var n=this._value.charCodeAt(i);if(!(n===47||this._splitOnBackslash&&n===92))break}return this.next()};t.prototype.hasNext=function(){return this._to<this._valueLen};t.prototype.next=function(){this._from=this._to;var t=!0;for(;this._to<this._valueLen;this._to++){var i=this._value.charCodeAt(this._to);if(i===47||this._splitOnBackslash&&i===92){if(!t)break;this._from++}else t=!1}return this};t.prototype.cmp=function(t){return this._caseSensitive?Oo(t,this._value,0,t.length,this._from,this._to):Ro(t,this._value,0,t.length,this._from,this._to)};t.prototype.value=function(){return this._value.substring(this._from,this._to)};return t}();var rL=function(){function t(t,i){this._ignorePathCasing=t,this._ignoreQueryAndFragment=i,this._states=[],this._stateIdx=0}t.prototype.reset=function(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new nL(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(t)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this};t.prototype.next=function(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this};t.prototype.hasNext=function(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1};t.prototype.cmp=function(t){if(this._states[this._stateIdx]===1)return No(t,this._value.scheme);if(this._states[this._stateIdx]===2)return No(t,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(t);if(this._states[this._stateIdx]===4)return Qo(t,this._value.query);if(this._states[this._stateIdx]===5)return Qo(t,this._value.fragment);throw new Error};t.prototype.value=function(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error};return t}();var eL=function(){function t(){this.height=1}t.prototype.rotateLeft=function(){var t=this.right;return this.right=t.left,t.left=this,this.updateHeight(),t.updateHeight(),t};t.prototype.rotateRight=function(){var t=this.left;return this.left=t.right,t.right=this,this.updateHeight(),t.updateHeight(),t};t.prototype.updateHeight=function(){this.height=1+Math.max(this.heightLeft,this.heightRight)};t.prototype.balanceFactor=function(){return this.heightRight-this.heightLeft};Object.defineProperty(t.prototype,"heightLeft",{get:function(){var t,i;return(i=(t=this.left)===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"heightRight",{get:function(){var t,i;return(i=(t=this.right)===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0},enumerable:false,configurable:true});return t}();var oL=function(){function t(t){this._iter=t}t.forUris=function(i,n){if(i===void 0){i=function(){return!1}}if(n===void 0){n=function(){return!1}}return new t(new rL(i,n))};t.forStrings=function(){return new t(new tL)};t.forConfigKeys=function(){return new t(new iL)};t.prototype.clear=function(){this._root=void 0};t.prototype.set=function(t,i){var n=this._iter.reset(t);var r;this._root||(this._root=new eL,this._root.segment=n.value());var e=[];for(r=this._root;;){var o=n.cmp(r.segment);if(o>0)r.left||(r.left=new eL,r.left.segment=n.value()),e.push([-1,r]),r=r.left;else if(o<0)r.right||(r.right=new eL,r.right.segment=n.value()),e.push([1,r]),r=r.right;else{if(!n.hasNext())break;n.next(),r.mid||(r.mid=new eL,r.mid.segment=n.value()),e.push([0,r]),r=r.mid}}var s=r.value;r.value=i,r.key=t;for(var o=e.length-1;o>=0;o--){var u=e[o][1];u.updateHeight();var a=u.balanceFactor();if(a<-1||a>1){var c=e[o][0],h=e[o+1][0];if(c===1&&h===1)e[o][1]=u.rotateLeft();else if(c===-1&&h===-1)e[o][1]=u.rotateRight();else if(c===1&&h===-1)u.right=e[o+1][1]=e[o+1][1].rotateRight(),e[o][1]=u.rotateLeft();else{if(c!==-1||h!==1)throw new Error;u.left=e[o+1][1]=e[o+1][1].rotateLeft(),e[o][1]=u.rotateRight()}if(o>0)switch(e[o-1][0]){case-1:e[o-1][1].left=e[o][1];break;case 1:e[o-1][1].right=e[o][1];break;case 0:e[o-1][1].mid=e[o][1]}else this._root=e[0][1]}}return s};t.prototype.get=function(t){var i;return(i=this._getNode(t))===null||i===void 0?void 0:i.value};t.prototype._getNode=function(t){var i=this._iter.reset(t);var n=this._root;for(;n;){var r=i.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else{if(!i.hasNext())break;i.next(),n=n.mid}}return n};t.prototype.has=function(t){var i=this._getNode(t);return!((i==null?void 0:i.value)===void 0&&(i==null?void 0:i.mid)===void 0)};t.prototype.delete=function(t){return this._delete(t,!1)};t.prototype.deleteSuperstr=function(t){return this._delete(t,!0)};t.prototype._delete=function(t,i){var n;var r=this._iter.reset(t),e=[];var o=this._root;for(;o;){var s=r.cmp(o.segment);if(s>0)e.push([-1,o]),o=o.left;else if(s<0)e.push([1,o]),o=o.right;else{if(!r.hasNext())break;r.next(),e.push([0,o]),o=o.mid}}if(o){if(i?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){var s=this._min(o.right);if(s.key){var u=s.key,a=s.value,c=s.segment;this._delete(s.key,!1),o.key=u,o.value=a,o.segment=c}}else{var s=(n=o.left)!==null&&n!==void 0?n:o.right;if(e.length>0){var h=e[e.length-1],u=h[0],a=h[1];switch(u){case-1:a.left=s;break;case 0:a.mid=s;break;case 1:a.right=s}}else this._root=s}for(var s=e.length-1;s>=0;s--){var u=e[s][1];u.updateHeight();var a=u.balanceFactor();if(a>1?(u.right.balanceFactor()>=0||(u.right=u.right.rotateRight()),e[s][1]=u.rotateLeft()):a<-1&&(u.left.balanceFactor()<=0||(u.left=u.left.rotateLeft()),e[s][1]=u.rotateRight()),s>0)switch(e[s-1][0]){case-1:e[s-1][1].left=e[s][1];break;case 1:e[s-1][1].right=e[s][1];break;case 0:e[s-1][1].mid=e[s][1]}else this._root=e[0][1]}}};t.prototype._min=function(t){for(;t.left;)t=t.left;return t};t.prototype.findSubstr=function(t){var i=this._iter.reset(t);var n,r=this._root;for(;r;){var e=i.cmp(r.segment);if(e>0)r=r.left;else if(e<0)r=r.right;else{if(!i.hasNext())break;i.next(),n=r.value||n,r=r.mid}}return r&&r.value||n};t.prototype.findSuperstr=function(t){return this._findSuperstrOrElement(t,!1)};t.prototype._findSuperstrOrElement=function(t,i){var n=this._iter.reset(t);var r=this._root;for(;r;){var e=n.cmp(r.segment);if(e>0)r=r.left;else if(e<0)r=r.right;else{if(!n.hasNext())return r.mid?this._entries(r.mid):i?r.value:void 0;n.next(),r=r.mid}}};t.prototype.forEach=function(t){for(var i=0,n=this;i<n.length;i++){var r=n[i],e=r[0],o=r[1];t(o,e)}};t.prototype[Symbol.iterator]=function(){return __generator(this,(function(t){switch(t.label){case 0:return[5,__values(this._entries(this._root))];case 1:t.sent();return[2]}}))};t.prototype._entries=function(t){var i=[];return this._dfsEntries(t,i),i[Symbol.iterator]()};t.prototype._dfsEntries=function(t,i){t&&(t.left&&this._dfsEntries(t.left,i),t.value&&i.push([t.key,t.value]),t.mid&&this._dfsEntries(t.mid,i),t.right&&this._dfsEntries(t.right,i))};return t}();var sL=lh("contextService");function uL(t){var i=t;return typeof(i==null?void 0:i.id)=="string"&&zr.isUri(i.uri)}function aL(t){var i=t;return typeof(i==null?void 0:i.id)=="string"&&!uL(t)&&!function(t){var i=t;return typeof(i==null?void 0:i.id)=="string"&&zr.isUri(i.configPath)}(t)}var cL={id:"ext-dev"},hL={id:"empty-window"};var fL=function(){function t(t,i){this.raw=i,this.uri=t.uri,this.index=t.index,this.name=t.name}t.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}};return t}();var lL="code-workspace";Bt(0,"Code Workspace");var dL="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var vL,AL,gL,wL,pL,mL,bL,yL;(function(t){t.inspectTokensAction=Bt(0,"Developer: Inspect Tokens")})(vL||(vL={})),function(t){t.gotoLineActionLabel=Bt(0,"Go to Line/Column...")}(AL||(AL={})),function(t){t.helpQuickAccessActionLabel=Bt(0,"Show all Quick Access Providers")}(gL||(gL={})),function(t){t.quickCommandActionLabel=Bt(0,"Command Palette"),t.quickCommandHelp=Bt(0,"Show And Run Commands")}(wL||(wL={})),function(t){t.quickOutlineActionLabel=Bt(0,"Go to Symbol..."),t.quickOutlineByCategoryActionLabel=Bt(0,"Go to Symbol by Category...")}(pL||(pL={})),function(t){t.editorViewAccessibleLabel=Bt(0,"Editor content"),t.accessibilityHelpMessage=Bt(0,"Press Alt+F1 for Accessibility Options.")}(mL||(mL={})),function(t){t.toggleHighContrast=Bt(0,"Toggle High Contrast Theme")}(bL||(bL={})),function(t){t.bulkEditServiceSummary=Bt(0,"Made {0} edits in {1} files")}(yL||(yL={}));var kL=lh("workspaceTrustManagementService");var xL=[],EL=[],BL=[];function CL(t,i){if(i===void 0){i=!1}(function(t,i,n){var r=function(t,i){return{id:t.id,mime:t.mime,filename:t.filename,extension:t.extension,filepattern:t.filepattern,firstline:t.firstline,userConfigured:i,filenameLowercase:t.filename?t.filename.toLowerCase():void 0,extensionLowercase:t.extension?t.extension.toLowerCase():void 0,filepatternLowercase:t.filepattern?BO(t.filepattern.toLowerCase()):void 0,filepatternOnPath:!!t.filepattern&&t.filepattern.indexOf(Cr.sep)>=0}}(t,i);xL.push(r),r.userConfigured?BL.push(r):EL.push(r),n&&!r.userConfigured&&xL.forEach((function(t){t.mime===r.mime||t.userConfigured||(r.extension&&t.extension===r.extension&&console.warn("Overwriting extension <<".concat(r.extension,">> to now point to mime <<").concat(r.mime,">>")),r.filename&&t.filename===r.filename&&console.warn("Overwriting filename <<".concat(r.filename,">> to now point to mime <<").concat(r.mime,">>")),r.filepattern&&t.filepattern===r.filepattern&&console.warn("Overwriting filepattern <<".concat(r.filepattern,">> to now point to mime <<").concat(r.mime,">>")),r.firstline&&t.firstline===r.firstline&&console.warn("Overwriting firstline <<".concat(r.firstline,">> to now point to mime <<").concat(r.mime,">>")))}))})(t,!1,i)}function DL(t,i){return function(t,i){var n;if(t)switch(t.scheme){case oa.file:n=t.fsPath;break;case oa.data:n=c_.parseMetaData(t).get(c_.META_DATA_LABEL);break;case oa.vscodeNotebookCell:n=void 0;break;default:n=t.path}if(!n)return[{id:"unknown",mime:wd.unknown}];n=n.toLowerCase();var r=Sr(n),e=ML(n,r,BL);if(e)return[e,{id:Fd,mime:wd.text}];var o=ML(n,r,EL);if(o)return[o,{id:Fd,mime:wd.text}];if(i){var s=function(t){if(us(t)&&(t=t.substr(1)),t.length>0)for(var i=xL.length-1;i>=0;i--){var n=xL[i];if(!n.firstline)continue;var r=t.match(n.firstline);if(r&&r.length>0)return n}}(i);if(s)return[s,{id:Fd,mime:wd.text}]}return[{id:"unknown",mime:wd.unknown}]}(t,i).map((function(t){return t.id}))}function ML(t,i,n){var r;var e,o,s;for(var u=n.length-1;u>=0;u--){var a=n[u];if(i===a.filenameLowercase){e=a;break}if(a.filepattern&&(!o||a.filepattern.length>o.filepattern.length)){var c=a.filepatternOnPath?t:i;!((r=a.filepatternLowercase)===null||r===void 0)&&r.call(a,c)&&(o=a)}a.extension&&(!s||a.extension.length>s.extension.length)&&i.endsWith(a.extensionLowercase)&&(s=a)}return e||o||s||void 0}var _L=Object.prototype.hasOwnProperty,FL="vs.editor.nullLanguage";var SL=function(){function t(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(FL,0),this._register(Fd,1),this._nextLanguageId=2}t.prototype._register=function(t,i){this._languageIdToLanguage[i]=t,this._languageToLanguageId.set(t,i)};t.prototype.register=function(t){if(this._languageToLanguageId.has(t))return;var i=this._nextLanguageId++;this._register(t,i)};t.prototype.encodeLanguageId=function(t){return this._languageToLanguageId.get(t)||0};t.prototype.decodeLanguageId=function(t){return this._languageIdToLanguage[t]||FL};return t}();var IL=function(t){__extends(i,t);function i(n,r){if(n===void 0){n=!0}if(r===void 0){r=!1}var e=this;e=t.call(this)||this,e._onDidChange=e._register(new Ln),e.onDidChange=e._onDidChange.event,i.instanceCount++,e._warnOnOverwrite=r,e.languageIdCodec=new SL,e._dynamicLanguages=[],e._languages={},e._mimeTypesMap={},e._nameMap={},e._lowercaseNameMap={},n&&(e._initializeFromRegistry(),e._register(_d.onDidChangeLanguages((function(t){e._initializeFromRegistry()}))));return e}i.prototype.dispose=function(){i.instanceCount--,t.prototype.dispose.call(this)};i.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},xL=xL.filter((function(t){return t.userConfigured})),EL=[];var t=[].concat(_d.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)};i.prototype._registerLanguages=function(t){var i=this;for(var n=0,r=t;n<r.length;n++){var e=r[n];this._registerLanguage(e)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((function(t){var n=i._languages[t];n.name&&(i._nameMap[n.name]=n.identifier),n.aliases.forEach((function(t){i._lowercaseNameMap[t.toLowerCase()]=n.identifier})),n.mimetypes.forEach((function(t){i._mimeTypesMap[t]=n.identifier}))})),yf.as(bd).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()};i.prototype._registerLanguage=function(t){var i=t.id;var n;_L.call(this._languages,i)?n=this._languages[i]:(this.languageIdCodec.register(i),n={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[i]=n),this._mergeLanguage(n,t)};i.prototype._mergeLanguage=function(t,i){var n;var r=i.id;var e=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&((n=t.mimetypes).push.apply(n,i.mimetypes),e=i.mimetypes[0]),e||(e="text/x-".concat(r),t.mimetypes.push(e)),Array.isArray(i.extensions)){i.configuration?t.extensions=i.extensions.concat(t.extensions):t.extensions=t.extensions.concat(i.extensions);for(var o=0,s=i.extensions;o<s.length;o++){var u=s[o];CL({id:r,mime:e,extension:u},this._warnOnOverwrite)}}if(Array.isArray(i.filenames))for(var a=0,c=i.filenames;a<c.length;a++){var u=c[a];CL({id:r,mime:e,filename:u},this._warnOnOverwrite),t.filenames.push(u)}if(Array.isArray(i.filenamePatterns))for(var h=0,f=i.filenamePatterns;h<f.length;h++){var u=f[h];CL({id:r,mime:e,filepattern:u},this._warnOnOverwrite)}if(typeof i.firstLine=="string"&&i.firstLine.length>0){var u=i.firstLine;u.charAt(0)!=="^"&&(u="^"+u);try{var l=new RegExp(u);(d=l).source!=="^"&&d.source!=="^$"&&d.source!=="$"&&d.source!=="^\\s*$"&&d.exec("")&&d.lastIndex===0||CL({id:r,mime:e,firstline:l},this._warnOnOverwrite)}catch(l){console.warn("[".concat(i.id,"]: Invalid regular expression `").concat(u,"`: "),l)}}var d;t.aliases.push(r);var v=null;if(i.aliases!==void 0&&Array.isArray(i.aliases)&&(v=i.aliases.length===0?[null]:i.aliases),v!==null)for(var A=0,g=v;A<g.length;A++){var u=g[A];u&&u.length!==0&&t.aliases.push(u)}var w=v!==null&&v.length>0;if(!(w&&v[0]===null)){var u=(w?v[0]:null)||r;!w&&t.name||(t.name=u)}i.configuration&&t.configurationFiles.push(i.configuration),i.icon&&t.icons.push(i.icon)};i.prototype.isRegisteredLanguageId=function(t){return!!t&&_L.call(this._languages,t)};i.prototype.getRegisteredLanguageIds=function(){return Object.keys(this._languages)};i.prototype.getLanguageIdByLanguageName=function(t){var i=t.toLowerCase();return _L.call(this._lowercaseNameMap,i)?this._lowercaseNameMap[i]:null};i.prototype.getLanguageIdByMimeType=function(t){return t&&_L.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null};i.prototype.guessLanguageIdByFilepathOrFirstLine=function(t,i){return t||i?DL(t,i):[]};return i}(Cn);IL.instanceCount=0;var QL=function(t){__extends(i,t);function i(n){if(n===void 0){n=!1}var r=this;r=t.call(this)||this,r._onDidRequestBasicLanguageFeatures=r._register(new Ln),r.onDidRequestBasicLanguageFeatures=r._onDidRequestBasicLanguageFeatures.event,r._onDidRequestRichLanguageFeatures=r._register(new Ln),r.onDidRequestRichLanguageFeatures=r._onDidRequestRichLanguageFeatures.event,r._onDidChange=r._register(new Ln({leakWarningThreshold:200})),r.onDidChange=r._onDidChange.event,r._requestedBasicLanguages=new Set,r._requestedRichLanguages=new Set,i.instanceCount++,r._registry=r._register(new IL(!0,n)),r.languageIdCodec=r._registry.languageIdCodec,r._register(r._registry.onDidChange((function(){return r._onDidChange.fire()})));return r}i.prototype.dispose=function(){i.instanceCount--,t.prototype.dispose.call(this)};i.prototype.isRegisteredLanguageId=function(t){return this._registry.isRegisteredLanguageId(t)};i.prototype.getLanguageIdByLanguageName=function(t){return this._registry.getLanguageIdByLanguageName(t)};i.prototype.getLanguageIdByMimeType=function(t){return this._registry.getLanguageIdByMimeType(t)};i.prototype.guessLanguageIdByFilepathOrFirstLine=function(t,i){return z(this._registry.guessLanguageIdByFilepathOrFirstLine(t,i),null)};i.prototype.createById=function(t){var i=this;return new OL(this.onDidChange,(function(){return i._createAndGetLanguageIdentifier(t)}))};i.prototype.createByFilepathOrFirstLine=function(t,i){var n=this;return new OL(this.onDidChange,(function(){var r=n.guessLanguageIdByFilepathOrFirstLine(t,i);return n._createAndGetLanguageIdentifier(r)}))};i.prototype._createAndGetLanguageIdentifier=function(t){return t&&this.isRegisteredLanguageId(t)||(t=Fd),t};i.prototype.requestBasicLanguageFeatures=function(t){this._requestedBasicLanguages.has(t)||(this._requestedBasicLanguages.add(t),this._onDidRequestBasicLanguageFeatures.fire(t))};i.prototype.requestRichLanguageFeatures=function(t){this._requestedRichLanguages.has(t)||(this._requestedRichLanguages.add(t),this.requestBasicLanguageFeatures(t),ye.getOrCreate(t),this._onDidRequestRichLanguageFeatures.fire(t))};return i}(Cn);QL.instanceCount=0;var OL=function(){function t(t,i){this._onDidChangeLanguages=t,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}t.prototype._dispose=function(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)};Object.defineProperty(t.prototype,"onDidChange",{get:function(){var t=this;return this._listener||(this._listener=this._onDidChangeLanguages((function(){return t._evaluate()}))),this._emitter||(this._emitter=new Ln({onDidRemoveLastListener:function(){t._dispose()}})),this._emitter.event},enumerable:false,configurable:true});t.prototype._evaluate=function(){var t;var i=this._selector();i!==this.languageId&&(this.languageId=i,(t=this._emitter)===null||t===void 0||t.fire(this.languageId))};return t}();var NL={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:wd.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};var RL=function(){return{get delay(){return-1},dispose:function(){},showHover:function(){}}};var TL=new po((function(){return RL("mouse",!1)})),LL=new po((function(){return RL("element",!1)}));function jL(t){return t==="element"?LL.value:TL.value}function zL(){return RL("element",!0)}var UL=function(){function t(t,i,n){this.hoverDelegate=t,this.target=i,this.fadeInAnimation=n}t.prototype.update=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o;return __generator(this,(function(s){switch(s.label){case 0:if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return[2];if(!(t===void 0||rt(t)||t instanceof HTMLElement))return[3,1];e=t;return[3,4];case 1:if(!vt(t.markdown))return[3,3];this._hoverWidget||this.show(Bt(0,"Loading..."),i),this._cancellationTokenSource=new Kn;o=this._cancellationTokenSource.token;return[4,t.markdown(o)];case 2:if(e=s.sent(),e===void 0&&(e=t.markdownNotSupportedFallback),this.isDisposed||o.isCancellationRequested)return[2];return[3,4];case 3:e=(r=t.markdown)!==null&&r!==void 0?r:t.markdownNotSupportedFallback;s.label=4;case 4:this.show(e,i,n);return[2]}}))}))};t.prototype.show=function(t,i,n){var r=this._hoverWidget;if(this.hasContent(t)){var e=__assign({content:t,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!r},position:{hoverPosition:2}},n);this._hoverWidget=this.hoverDelegate.showHover(e,i)}r==null||r.dispose()};t.prototype.hasContent=function(t){return!!t&&(!cR(t)||!!t.value)};Object.defineProperty(t.prototype,"isDisposed",{get:function(){var t;return(t=this._hoverWidget)===null||t===void 0?void 0:t.isDisposed},enumerable:false,configurable:true});t.prototype.dispose=function(){var t,i;(t=this._hoverWidget)===null||t===void 0||t.dispose(),(i=this._cancellationTokenSource)===null||i===void 0||i.dispose(!0),this._cancellationTokenSource=void 0};return t}();function HL(t,i){for(i=i!==null&&i!==void 0?i:ka(t).document.body;!t.hasAttribute("custom-hover")&&t!==i;)t=t.parentElement;return t}function YL(t,i,n,r){var e=this;var o,s;i.setAttribute("custom-hover","true"),i.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",i.title),i.title="");var u=function(i,n){var r;var e=s!==void 0;i&&(s==null||s.dispose(),s=void 0),n&&(o==null||o.dispose(),o=void 0),e&&((r=t.onDidHideHover)===null||r===void 0||r.call(t),s=void 0)},a=function(o,u,a){return new Ks((function(){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(c){switch(c.label){case 0:e=s&&!s.isDisposed;if(e)return[3,2];s=new UL(t,a||i,o>0);return[4,s.update(typeof n=="function"?n():n,u,r)];case 1:e=c.sent();c.label=2;case 2:e;return[2]}}))}))}),o)};var c=!1;var h=Oa(i,Ec.MOUSE_DOWN,(function(){c=!0,u(!0,!0)}),!0),f=Oa(i,Ec.MOUSE_UP,(function(){c=!1}),!0),l=Oa(i,Ec.MOUSE_LEAVE,(function(t){c=!1,u(!1,t.fromElement===i)}),!0),d=Oa(i,Ec.MOUSE_OVER,(function(n){if(o)return;var r=new Bn,e={targetElements:[i],dispose:function(){}};if(t.placement===void 0||t.placement==="mouse"){var s=function(t){e.x=t.x+10,t.target instanceof HTMLElement&&HL(t.target,i)!==i&&u(!0,!0)};r.add(Oa(i,Ec.MOUSE_MOVE,s,!0))}o=r,n.target instanceof HTMLElement&&HL(n.target,i)!==i||r.add(a(t.delay,!1,e))}),!0),v=function(){if(c||o)return;var n={targetElements:[i],dispose:function(){}},r=new Bn;r.add(Oa(i,Ec.BLUR,(function(){return u(!0,!0)}),!0)),r.add(a(t.delay,!1,n)),o=r};var A;var g=i.tagName.toLowerCase();return g!=="input"&&g!=="textarea"&&(A=Oa(i,Ec.FOCUS,v,!0)),{show:function(t){u(!1,!0),a(0,t)},hide:function(){u(!0,!0)},update:function(t,i){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(r){switch(r.label){case 0:n=t;return[4,s==null?void 0:s.update(n,void 0,i)];case 1:r.sent();return[2]}}))}))},dispose:function(){d.dispose(),l.dispose(),h.dispose(),f.dispose(),A==null||A.dispose(),u(!0,!0)}}}var JL=function(){function t(t){this.spliceables=t}t.prototype.splice=function(t,i,n){this.spliceables.forEach((function(r){return r.splice(t,i,n)}))};return t}();var PL=function(t){__extends(i,t);function i(i,n){return t.call(this,"ListError [".concat(i,"] ").concat(n))||this}return i}(Error);function WL(t,i){var n=[];for(var r=0,e=i;r<e.length;r++){var o=e[r];if(t.start>=o.range.end)continue;if(t.end<o.range.start)break;var s=$R.intersect(t,o.range);$R.isEmpty(s)||n.push({range:s,size:o.size})}return n}function GL(t,i){var n=t.start,r=t.end;return{start:n+i,end:r+i}}var VL=function(){function t(t){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=t!==null&&t!==void 0?t:0,this._size=this._paddingTop}Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._size=this._size+t-this._paddingTop,this._paddingTop=t},enumerable:false,configurable:true});t.prototype.splice=function(t,i,n){if(n===void 0){n=[]}var r=n.length-i,e=WL({start:0,end:t},this.groups),o=WL({start:t+i,end:Number.POSITIVE_INFINITY},this.groups).map((function(t){return{range:GL(t.range,r),size:t.size}})),s=n.map((function(i,n){return{range:{start:t+n,end:t+n+1},size:i.size}}));this.groups=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return function(t){var i=[];var n=null;for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=o.range.start,u=o.range.end,a=o.size;n&&a===n.size?n.range.end=u:(n={range:{start:s,end:u},size:a},i.push(n))}return i}(t.reduce((function(t,i){return t.concat(i)}),[]))}(e,s,o),this._size=this._paddingTop+this.groups.reduce((function(t,i){return t+i.size*(i.range.end-i.range.start)}),0)};Object.defineProperty(t.prototype,"count",{get:function(){var t=this.groups.length;return t?this.groups[t-1].range.end:0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});t.prototype.indexAt=function(t){if(t<0)return-1;if(t<this._paddingTop)return 0;var i=0,n=this._paddingTop;for(var r=0,e=this.groups;r<e.length;r++){var o=e[r];var s=o.range.end-o.range.start,u=n+s*o.size;if(t<u)return i+Math.floor((t-n)/o.size);i+=s,n=u}return i};t.prototype.indexAfter=function(t){return Math.min(this.indexAt(t)+1,this.count)};t.prototype.positionAt=function(t){if(t<0)return-1;var i=0,n=0;for(var r=0,e=this.groups;r<e.length;r++){var o=e[r];var s=o.range.end-o.range.start,u=n+s;if(t<u)return this._paddingTop+i+(t-n)*o.size;i+=s*o.size,n=u}return-1};return t}();var KL=function(){function t(t){this.renderers=t,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}t.prototype.alloc=function(t){var i=this.getTemplateCache(t).pop(),n=!1;if(i)n=this.transactionNodesPendingRemoval.has(i.domNode),n&&this.transactionNodesPendingRemoval.delete(i.domNode);else{var r=Nc(".monaco-list-row");i={domNode:r,templateId:t,templateData:this.getRenderer(t).renderTemplate(r)}}return{row:i,isReusingConnectedDomNode:n}};t.prototype.release=function(t){t&&this.releaseRow(t)};t.prototype.transact=function(t){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{t()}finally{for(var i=0,n=this.transactionNodesPendingRemoval;i<n.length;i++){var r=n[i];this.doRemoveNode(r)}this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}};t.prototype.releaseRow=function(t){var i=t.domNode,n=t.templateId;i&&(this.inTransaction?this.transactionNodesPendingRemoval.add(i):this.doRemoveNode(i)),this.getTemplateCache(n).push(t)};t.prototype.doRemoveNode=function(t){t.classList.remove("scrolling"),function(t){var i;try{(i=t.parentElement)===null||i===void 0||i.removeChild(t)}catch(t){}}(t)};t.prototype.getTemplateCache=function(t){var i=this.cache.get(t);return i||(i=[],this.cache.set(t,i)),i};t.prototype.dispose=function(){var t=this;this.cache.forEach((function(i,n){for(var r=0,e=i;r<e.length;r++){var o=e[r];t.getRenderer(n).disposeTemplate(o.templateData),o.templateData=null}})),this.cache.clear(),this.transactionNodesPendingRemoval.clear()};t.prototype.getRenderer=function(t){var i=this.renderers.get(t);if(!i)throw new Error("No renderer found for ".concat(t));return i};return t}();var XL=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s};var qL={CurrentDragAndDropData:void 0},ZL={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(t){return[t]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){},dispose:function(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};var $L=function(){function t(t){this.elements=t}t.prototype.update=function(){};t.prototype.getData=function(){return this.elements};return t}();var tj=function(){function t(t){this.elements=t}t.prototype.update=function(){};t.prototype.getData=function(){return this.elements};return t}();var ij=function(){function t(){this.types=[],this.files=[]}t.prototype.update=function(t){var i;if(t.types&&(i=this.types).splice.apply(i,__spreadArray([0,this.types.length],t.types,false)),t.files){this.files.splice(0,this.files.length);for(var n=0;n<t.files.length;n++){var r=t.files.item(n);r&&(r.size||r.type)&&this.files.push(r)}}};t.prototype.getData=function(){return{types:this.types,files:this.files}};return t}();var nj=function(){function t(t){t!=null&&t.getSetSize?this.getSetSize=t.getSetSize.bind(t):this.getSetSize=function(t,i,n){return n},t!=null&&t.getPosInSet?this.getPosInSet=t.getPosInSet.bind(t):this.getPosInSet=function(t,i){return i+1},t!=null&&t.getRole?this.getRole=t.getRole.bind(t):this.getRole=function(t){return"listitem"},t!=null&&t.isChecked?this.isChecked=t.isChecked.bind(t):this.isChecked=function(t){}}return t}();var rj=function(){function t(i,n,r,e){if(e===void 0){e=ZL}var o=this;var s,u,a,c,h,f,l,d,v,A,g,w,p;if(this.virtualDelegate=n,this.domId="list_id_"+ ++t.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Js(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Cn.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Cn.None,this.onDragLeaveTimeout=Cn.None,this.disposables=new Bn,this._onDidChangeContentHeight=new Ln,this._onDidChangeContentWidth=new Ln,this.onDidChangeContentHeight=Qn.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,e.horizontalScrolling&&e.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((s=e.paddingTop)!==null&&s!==void 0?s:0);for(var m=0,b=r;m<b.length;m++){var y=b[m];this.renderers.set(y.templateId,y)}this.cache=this.disposables.add(new KL(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof e.mouseSupport!="boolean"||e.mouseSupport),this._horizontalScrolling=(u=e.horizontalScrolling)!==null&&u!==void 0?u:ZL.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=e.paddingBottom===void 0?0:e.paddingBottom,this.accessibilityProvider=new nj(e.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((a=e.transformOptimization)!==null&&a!==void 0?a:ZL.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(wk.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Dk({forceIntegerValues:!0,smoothScrollDuration:(c=e.smoothScrolling)!==null&&c!==void 0&&c?125:0,scheduleAtNextAnimationFrame:function(t){return Ua(ka(o.domNode),t)}})),this.scrollableElement=this.disposables.add(new Nk(this.rowsContainer,{alwaysConsumeMouseWheel:(h=e.alwaysConsumeMouseWheel)!==null&&h!==void 0?h:ZL.alwaysConsumeMouseWheel,horizontal:1,vertical:(f=e.verticalScrollMode)!==null&&f!==void 0?f:ZL.verticalScrollMode,useShadows:(l=e.useShadows)!==null&&l!==void 0?l:ZL.useShadows,mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity,fastScrollSensitivity:e.fastScrollSensitivity,scrollByPage:e.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),i.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Oa(this.rowsContainer,Ak.Change,(function(t){return o.onTouchChange(t)}))),this.disposables.add(Oa(this.scrollableElement.getDomNode(),"scroll",(function(t){return t.target.scrollTop=0}))),this.disposables.add(Oa(this.domNode,"dragover",(function(t){return o.onDragOver(o.toDragEvent(t))}))),this.disposables.add(Oa(this.domNode,"drop",(function(t){return o.onDrop(o.toDragEvent(t))}))),this.disposables.add(Oa(this.domNode,"dragleave",(function(t){return o.onDragLeave(o.toDragEvent(t))}))),this.disposables.add(Oa(this.domNode,"dragend",(function(t){return o.onDragEnd(t)}))),this.setRowLineHeight=(d=e.setRowLineHeight)!==null&&d!==void 0?d:ZL.setRowLineHeight,this.setRowHeight=(v=e.setRowHeight)!==null&&v!==void 0?v:ZL.setRowHeight,this.supportDynamicHeights=(A=e.supportDynamicHeights)!==null&&A!==void 0?A:ZL.supportDynamicHeights,this.dnd=(g=e.dnd)!==null&&g!==void 0?g:this.disposables.add(ZL.dnd),this.layout((w=e.initialSize)===null||w===void 0?void 0:w.height,(p=e.initialSize)===null||p===void 0?void 0:p.width)}Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidScroll",{get:function(){return this.scrollableElement.onScroll},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollableElementDomNode",{get:function(){return this.scrollableElement.getDomNode()},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"horizontalScrolling",{get:function(){return this._horizontalScrolling},set:function(t){if(t!==this._horizontalScrolling){if(t&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=t,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(var i=0,n=this.items;i<n.length;i++){var r=n[i];this.measureItemWidth(r)}this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Za(this.domNode)}),this.rowsContainer.style.width="".concat(Math.max(this.scrollWidth||0,this.renderWidth),"px")}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){var i;if(t.paddingBottom!==void 0&&(this.paddingBottom=t.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),t.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(t.smoothScrolling?125:0),t.horizontalScrolling!==void 0&&(this.horizontalScrolling=t.horizontalScrolling),t.scrollByPage!==void 0&&(i=__assign(__assign({},i!==null&&i!==void 0?i:{}),{scrollByPage:t.scrollByPage})),t.mouseWheelScrollSensitivity!==void 0&&(i=__assign(__assign({},i!==null&&i!==void 0?i:{}),{mouseWheelScrollSensitivity:t.mouseWheelScrollSensitivity})),t.fastScrollSensitivity!==void 0&&(i=__assign(__assign({},i!==null&&i!==void 0?i:{}),{fastScrollSensitivity:t.fastScrollSensitivity})),i&&this.scrollableElement.updateOptions(i),t.paddingTop!==void 0&&t.paddingTop!==this.rangeMap.paddingTop){var n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=t.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=t.paddingTop,this.render(n,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}};t.prototype.createRangeMap=function(t){return new VL(t)};t.prototype.splice=function(t,i,n){if(n===void 0){n=[]}if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(t,i,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}};t.prototype._splice=function(t,i,n){var r;var e=this;if(n===void 0){n=[]}var o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:t,end:t+i},u=$R.intersect(o,s),a=new Map;for(var c=u.end-1;c>=u.start;c--){var h=this.items[c];if(h.dragStartDisposable.dispose(),h.checkedDisposable.dispose(),h.row){var f=a.get(h.templateId);f||(f=[],a.set(h.templateId,f));var l=this.renderers.get(h.templateId);l&&l.disposeElement&&l.disposeElement(h.element,c,h.row.templateData,h.size),f.push(h.row)}h.row=null,h.stale=!0}var d={start:t+i,end:this.items.length},v=$R.intersect(d,o),A=$R.relativeComplement(d,o),g=n.map((function(t){return{id:String(e.itemId++),element:t,templateId:e.virtualDelegate.getTemplateId(t),size:e.virtualDelegate.getHeight(t),width:void 0,hasDynamicHeight:!!e.virtualDelegate.hasDynamicHeight&&e.virtualDelegate.hasDynamicHeight(t),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Cn.None,checkedDisposable:Cn.None,stale:!1}}));var w;t===0&&i>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,g),w=this.items,this.items=g):(this.rangeMap.splice(t,i,g),w=(r=this.items).splice.apply(r,__spreadArray([t,i],g,false)));var p=n.length-i,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=GL(v,p),y=$R.intersect(m,b);for(var c=y.start;c<y.end;c++)this.updateItemInDOM(this.items[c],c);var k=$R.relativeComplement(b,m);for(var x=0,E=k;x<E.length;x++){var c=E[x];for(var h=c.start;h<c.end;h++)this.removeItemFromDOM(h)}var B=A.map((function(t){return GL(t,p)})),C=__spreadArray([{start:t,end:t+n.length}],B,true).map((function(t){return $R.intersect(m,t)})).reverse();for(var D=0,M=C;D<M.length;D++){var c=M[D];for(var h=c.end-1;h>=c.start;h--){var f=this.items[h],l=a.get(f.templateId),_=l==null?void 0:l.pop();this.insertItemInDOM(h,_)}}for(var F=0,S=a.values();F<S.length;F++){var c=S[F];for(var I=0,Q=c;I<Q.length;I++){var h=Q[I];this.cache.release(h)}}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),w.map((function(t){return t.element}))};t.prototype.eventuallyUpdateScrollDimensions=function(){var t=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height="".concat(this._scrollHeight,"px"),this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Ua(ka(this.domNode),(function(){t.scrollableElement.setScrollDimensions({scrollHeight:t.scrollHeight}),t.updateScrollWidth(),t.scrollableElementUpdateDisposable=null})))};t.prototype.eventuallyUpdateScrollWidth=function(){var t=this;this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((function(){return t.updateScrollWidth()})):this.scrollableElementWidthDelayer.cancel()};t.prototype.updateScrollWidth=function(){if(!this.horizontalScrolling)return;var t=0;for(var i=0,n=this.items;i<n.length;i++){var r=n[i];r.width!==void 0&&(t=Math.max(t,r.width))}this.scrollWidth=t,this.scrollableElement.setScrollDimensions({scrollWidth:t===0?0:t+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)};t.prototype.rerender=function(){if(this.supportDynamicHeights){for(var t=0,i=this.items;t<i.length;t++){var n=i[t];n.lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}};Object.defineProperty(t.prototype,"length",{get:function(){return this.items.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.scrollableElement.getScrollDimensions().height},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start},enumerable:false,configurable:true});t.prototype.element=function(t){return this.items[t].element};t.prototype.indexOf=function(t){return this.items.findIndex((function(i){return i.element===t}))};t.prototype.domElement=function(t){var i=this.items[t].row;return i&&i.domNode};t.prototype.elementHeight=function(t){return this.items[t].size};t.prototype.elementTop=function(t){return this.rangeMap.positionAt(t)};t.prototype.indexAt=function(t){return this.rangeMap.indexAt(t)};t.prototype.indexAfter=function(t){return this.rangeMap.indexAfter(t)};t.prototype.layout=function(t,i){var n={height:typeof t=="number"?t:$a(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),i!==void 0&&(this.renderWidth=i,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof i=="number"?i:Za(this.domNode)})};t.prototype.render=function(t,i,n,r,e,o){var s=this;if(o===void 0){o=!1}var u=this.getRenderRange(i,n),a=$R.relativeComplement(u,t).reverse(),c=$R.relativeComplement(t,u);if(o){var h=$R.intersect(t,u);for(var f=h.start;f<h.end;f++)this.updateItemInDOM(this.items[f],f)}this.cache.transact((function(){for(var t=0,i=c;t<i.length;t++){var n=i[t];for(var r=n.start;r<n.end;r++)s.removeItemFromDOM(r)}for(var e=0,o=a;e<o.length;e++){var u=o[e];for(var r=u.end-1;r>=u.start;r--)s.insertItemInDOM(r)}})),r!==void 0&&(this.rowsContainer.style.left="-".concat(r,"px")),this.rowsContainer.style.top="-".concat(i,"px"),this.horizontalScrolling&&e!==void 0&&(this.rowsContainer.style.width="".concat(Math.max(e,this.renderWidth),"px")),this.lastRenderTop=i,this.lastRenderHeight=n};t.prototype.insertItemInDOM=function(t,i){var n=this;var r,e,o;var s=this.items[t];if(!s.row)if(i)s.row=i,s.stale=!0;else{var u=this.cache.alloc(s.templateId);s.row=u.row,s.stale||(s.stale=u.isReusingConnectedDomNode)}var a=this.accessibilityProvider.getRole(s.element)||"listitem";s.row.domNode.setAttribute("role",a);var c=this.accessibilityProvider.isChecked(s.element);if(typeof c=="boolean")s.row.domNode.setAttribute("aria-checked",String(!!c));else if(c){var u=function(t){return s.row.domNode.setAttribute("aria-checked",String(!!t))};u(c.value),s.checkedDisposable=c.onDidChange(u)}if(s.stale||!s.row.domNode.parentElement){var u=(o=(e=(r=this.items.at(t+1))===null||r===void 0?void 0:r.row)===null||e===void 0?void 0:e.domNode)!==null&&o!==void 0?o:null;this.rowsContainer.insertBefore(s.row.domNode,u),s.stale=!1}this.updateItemInDOM(s,t);var h=this.renderers.get(s.templateId);if(!h)throw new Error("No renderer found for template id ".concat(s.templateId));h==null||h.renderElement(s.element,t,s.row.templateData,s.size);var f=this.dnd.getDragURI(s.element);s.dragStartDisposable.dispose(),s.row.domNode.draggable=!!f,f&&(s.dragStartDisposable=Oa(s.row.domNode,"dragstart",(function(t){return n.onDragStart(s.element,f,t)}))),this.horizontalScrolling&&(this.measureItemWidth(s),this.eventuallyUpdateScrollWidth())};t.prototype.measureItemWidth=function(t){if(!t.row||!t.row.domNode)return;t.row.domNode.style.width="fit-content",t.width=Za(t.row.domNode);var i=ka(t.row.domNode).getComputedStyle(t.row.domNode);i.paddingLeft&&(t.width+=parseFloat(i.paddingLeft)),i.paddingRight&&(t.width+=parseFloat(i.paddingRight)),t.row.domNode.style.width=""};t.prototype.updateItemInDOM=function(t,i){t.row.domNode.style.top="".concat(this.elementTop(i),"px"),this.setRowHeight&&(t.row.domNode.style.height="".concat(t.size,"px")),this.setRowLineHeight&&(t.row.domNode.style.lineHeight="".concat(t.size,"px")),t.row.domNode.setAttribute("data-index","".concat(i)),t.row.domNode.setAttribute("data-last-element",i===this.length-1?"true":"false"),t.row.domNode.setAttribute("data-parity",i%2==0?"even":"odd"),t.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t.element,i,this.length))),t.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t.element,i))),t.row.domNode.setAttribute("id",this.getElementDomId(i)),t.row.domNode.classList.toggle("drop-target",t.dropTarget)};t.prototype.removeItemFromDOM=function(t){var i=this.items[t];if(i.dragStartDisposable.dispose(),i.checkedDisposable.dispose(),i.row){var n=this.renderers.get(i.templateId);n&&n.disposeElement&&n.disposeElement(i.element,t,i.row.templateData,i.size),this.cache.release(i.row),i.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()};t.prototype.getScrollTop=function(){return this.scrollableElement.getScrollPosition().scrollTop};t.prototype.setScrollTop=function(t,i){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:t,reuseAnimation:i})};Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(t){this.setScrollTop(t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseClick",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.domNode,"click")).event,(function(i){return t.toMouseEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.domNode,"dblclick")).event,(function(i){return t.toMouseEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseMiddleClick",{get:function(){var t=this;return Qn.filter(Qn.map(this.disposables.add(new Hk(this.domNode,"auxclick")).event,(function(i){return t.toMouseEvent(i)}),this.disposables),(function(t){return t.browserEvent.button===1}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDown",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.domNode,"mousedown")).event,(function(i){return t.toMouseEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseOver",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.domNode,"mouseover")).event,(function(i){return t.toMouseEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseOut",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.domNode,"mouseout")).event,(function(i){return t.toMouseEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onContextMenu",{get:function(){var t=this;return Qn.any(Qn.map(this.disposables.add(new Hk(this.domNode,"contextmenu")).event,(function(i){return t.toMouseEvent(i)}),this.disposables),Qn.map(this.disposables.add(new Hk(this.domNode,Ak.Contextmenu)).event,(function(i){return t.toGestureEvent(i)}),this.disposables))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onTouchStart",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.domNode,"touchstart")).event,(function(i){return t.toTouchEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onTap",{get:function(){var t=this;return Qn.map(this.disposables.add(new Hk(this.rowsContainer,Ak.Tap)).event,(function(i){return t.toGestureEvent(i)}),this.disposables)},enumerable:false,configurable:true});t.prototype.toMouseEvent=function(t){var i=this.getItemIndexFromEventTarget(t.target||null),n=i===void 0?void 0:this.items[i];return{browserEvent:t,index:i,element:n&&n.element}};t.prototype.toTouchEvent=function(t){var i=this.getItemIndexFromEventTarget(t.target||null),n=i===void 0?void 0:this.items[i];return{browserEvent:t,index:i,element:n&&n.element}};t.prototype.toGestureEvent=function(t){var i=this.getItemIndexFromEventTarget(t.initialTarget||null),n=i===void 0?void 0:this.items[i];return{browserEvent:t,index:i,element:n&&n.element}};t.prototype.toDragEvent=function(t){var i=this.getItemIndexFromEventTarget(t.target||null),n=i===void 0?void 0:this.items[i];return{browserEvent:t,index:i,element:n&&n.element,sector:this.getTargetSector(t,i)}};t.prototype.onScroll=function(t){try{var i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(i,t.scrollTop,t.height,t.scrollLeft,t.scrollWidth),this.supportDynamicHeights&&this._rerender(t.scrollTop,t.height,t.inSmoothScrolling)}catch(i){throw console.error("Got bad scroll event:",t),i}};t.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY};t.prototype.onDragStart=function(t,i,n){var r=this;var e,o;if(!n.dataTransfer)return;var s=this.dnd.getDragElements(t);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(NL.TEXT,i),n.dataTransfer.setDragImage){var u=void 0;this.dnd.getDragLabel&&(u=this.dnd.getDragLabel(s,n)),u===void 0&&(u=String(s.length));var a=Nc(".monaco-drag-image");a.textContent=u;var c=function(t){for(;t&&!t.classList.contains("monaco-workbench");)t=t.parentElement;return t||r.domNode.ownerDocument}(this.domNode);c.appendChild(a),n.dataTransfer.setDragImage(a,-10,-10),setTimeout((function(){return c.removeChild(a)}),0)}this.domNode.classList.add("dragging"),this.currentDragData=new $L(s),qL.CurrentDragAndDropData=new tj(s),(o=(e=this.dnd).onDragStart)===null||o===void 0||o.call(e,this.currentDragData,n)};t.prototype.onDragOver=function(t){var i=this;var n,r;if(t.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),qL.CurrentDragAndDropData&&qL.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(t.browserEvent),!t.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(qL.CurrentDragAndDropData)this.currentDragData=qL.CurrentDragAndDropData;else{if(!t.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ij}var e=this.dnd.onDragOver(this.currentDragData,t.element,t.index,t.sector,t.browserEvent);if(this.canDrop=typeof e=="boolean"?e:e.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;var o;t.browserEvent.dataTransfer.dropEffect=typeof e!="boolean"&&((n=e.effect)===null||n===void 0?void 0:n.type)===0?"copy":"move",o=typeof e!="boolean"&&e.feedback?e.feedback:t.index===void 0?[-1]:[t.index],o=j(o).filter((function(t){return t>=-1&&t<i.length})).sort((function(t,i){return t-i})),o=o[0]===-1?[-1]:o;var s=typeof e!="boolean"&&e.effect&&e.effect.position?e.effect.position:"drop-target";if(u=this.currentDragFeedback,a=o,(Array.isArray(u)&&Array.isArray(a)?_(u,a):u===a)&&this.currentDragFeedbackPosition===s)return!0;var u,a;if(this.currentDragFeedback=o,this.currentDragFeedbackPosition=s,this.currentDragFeedbackDisposable.dispose(),o[0]===-1)this.domNode.classList.add(s),this.rowsContainer.classList.add(s),this.currentDragFeedbackDisposable=En((function(){i.domNode.classList.remove(s),i.rowsContainer.classList.remove(s)}));else{if(o.length>1&&s!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");s==="drop-target-after"&&o[0]<this.length-1&&(o[0]+=1,s="drop-target-before");for(var c=0,h=o;c<h.length;c++){var f=h[c];var l=this.items[f];l.dropTarget=!0,(r=l.row)===null||r===void 0||r.domNode.classList.add(s)}this.currentDragFeedbackDisposable=En((function(){var t;for(var n=0,r=o;n<r.length;n++){var e=r[n];var u=i.items[e];u.dropTarget=!1,(t=u.row)===null||t===void 0||t.domNode.classList.remove(s)}}))}return!0};t.prototype.onDragLeave=function(t){var i=this;var n,r;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Gs((function(){return i.clearDragOverFeedback()}),100,this.disposables),this.currentDragData&&((r=(n=this.dnd).onDragLeave)===null||r===void 0||r.call(n,this.currentDragData,t.element,t.index,t.browserEvent))};t.prototype.onDrop=function(t){if(!this.canDrop)return;var i=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,qL.CurrentDragAndDropData=void 0,i&&t.browserEvent.dataTransfer&&(t.browserEvent.preventDefault(),i.update(t.browserEvent.dataTransfer),this.dnd.drop(i,t.element,t.index,t.sector,t.browserEvent))};t.prototype.onDragEnd=function(t){var i,n;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,qL.CurrentDragAndDropData=void 0,(n=(i=this.dnd).onDragEnd)===null||n===void 0||n.call(i,t)};t.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Cn.None};t.prototype.setupDragAndDropScrollTopAnimation=function(t){var i=this;if(!this.dragOverAnimationDisposable){var n=Va(this.domNode).top;this.dragOverAnimationDisposable=function(t,i){var n=function(){i(),r=Ua(t,n)};var r=Ua(t,n);return En((function(){return r.dispose()}))}(ka(this.domNode),this.animateDragAndDropScrollTop.bind(this,n))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Gs((function(){i.dragOverAnimationDisposable&&(i.dragOverAnimationDisposable.dispose(),i.dragOverAnimationDisposable=void 0)}),1e3,this.disposables),this.dragOverMouseY=t.pageY};t.prototype.animateDragAndDropScrollTop=function(t){if(this.dragOverMouseY===void 0)return;var i=this.dragOverMouseY-t,n=this.renderHeight-35;i<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(i-35))):i>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(i-n))))};t.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)};t.prototype.getTargetSector=function(t,i){if(i===void 0)return;var n=t.offsetY/this.items[i].size;return OQ(Math.floor(n/.25),0,3)};t.prototype.getItemIndexFromEventTarget=function(t){var i=this.scrollableElement.getDomNode();var n=t;for(;n instanceof HTMLElement&&n!==this.rowsContainer&&i.contains(n);){var r=n.getAttribute("data-index");if(r){var e=Number(r);if(!isNaN(e))return e}n=n.parentElement}};t.prototype.getRenderRange=function(t,i){return{start:this.rangeMap.indexAt(t),end:this.rangeMap.indexAfter(t+i-1)}};t.prototype._rerender=function(t,i,n){var r=this.getRenderRange(t,i);var e,o;t===this.elementTop(r.start)?(e=r.start,o=0):r.end-r.start>1&&(e=r.start+1,o=this.elementTop(e)-t);var s=0;for(;;){var u=this.getRenderRange(t,i);var a=!1;for(var c=u.start;c<u.end;c++){var h=this.probeDynamicHeight(c);h!==0&&this.rangeMap.splice(c,1,[this.items[c]]),s+=h,a=a||h!==0}if(!a){s!==0&&this.eventuallyUpdateScrollDimensions();var f=$R.relativeComplement(r,u);for(var l=0,d=f;l<d.length;l++){var v=d[l];for(var A=v.start;A<v.end;A++)this.items[A].row&&this.removeItemFromDOM(A)}var h=$R.relativeComplement(u,r).reverse();for(var g=0,w=h;g<w.length;g++){var v=w[g];for(var A=v.end-1;A>=v.start;A--)this.insertItemInDOM(A)}for(var v=u.start;v<u.end;v++)this.items[v].row&&this.updateItemInDOM(this.items[v],v);if(typeof e=="number"){var v=this.scrollable.getFutureScrollPosition().scrollTop-t,A=this.elementTop(e)-o+v;this.setScrollTop(A,n)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}};t.prototype.probeDynamicHeight=function(t){var i,n,r;var e=this.items[t];if(this.virtualDelegate.getDynamicHeight){var o=this.virtualDelegate.getDynamicHeight(e.element);if(o!==null){var s=e.size;return e.size=o,e.lastDynamicHeightWidth=this.renderWidth,o-s}}if(!e.hasDynamicHeight||e.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(e.element))return 0;var u=e.size;if(e.row)return e.row.domNode.style.height="",e.size=e.row.domNode.offsetHeight,e.size!==0||ic(e.row.domNode,ka(e.row.domNode).document.body)||console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),e.lastDynamicHeightWidth=this.renderWidth,e.size-u;var a=this.cache.alloc(e.templateId).row;a.domNode.style.height="",this.rowsContainer.appendChild(a.domNode);var c=this.renderers.get(e.templateId);if(!c)throw new mn("Missing renderer for templateId: "+e.templateId);return c.renderElement(e.element,t,a.templateData,void 0),e.size=a.domNode.offsetHeight,(i=c.disposeElement)===null||i===void 0||i.call(c,e.element,t,a.templateData,void 0),(r=(n=this.virtualDelegate).setDynamicHeight)===null||r===void 0||r.call(n,e.element,e.size),e.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(a.domNode),this.cache.release(a),e.size-u};t.prototype.getElementDomId=function(t){return"".concat(this.domId,"_").concat(t)};t.prototype.dispose=function(){var t,i;for(var n=0,r=this.items;n<r.length;n++){var e=r[n];if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){var o=this.renderers.get(e.row.templateId);o&&((t=o.disposeElement)===null||t===void 0||t.call(o,e.element,-1,e.row.templateData,void 0),o.disposeTemplate(e.row.templateData))}}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(i=this.dragOverAnimationDisposable)===null||i===void 0||i.dispose(),this.disposables.dispose()};return t}();rj.InstanceCount=0,XL([vk],rj.prototype,"onMouseClick",null),XL([vk],rj.prototype,"onMouseDblClick",null),XL([vk],rj.prototype,"onMouseMiddleClick",null),XL([vk],rj.prototype,"onMouseDown",null),XL([vk],rj.prototype,"onMouseOver",null),XL([vk],rj.prototype,"onMouseOut",null),XL([vk],rj.prototype,"onContextMenu",null),XL([vk],rj.prototype,"onTouchStart",null),XL([vk],rj.prototype,"onTap",null);var ej=function(){function t(t,i,n){this.owner=t,this.debugNameSource=i,this.referenceFn=n}t.prototype.getDebugName=function(t){return function(t,i){var n;var r=sj.get(t);if(r)return r;var e=function(t,i){var n=sj.get(t);if(n)return n;var r=i.owner?function(t){var i;var n=aj.get(t);if(n)return n;var r=function(t){var i=t.constructor;return i?i.name:"Object"}(t);var e=(i=uj.get(r))!==null&&i!==void 0?i:0;e++,uj.set(r,e);var o=e===1?r:"".concat(r,"#").concat(e);return aj.set(t,o),o}(i.owner)+".":"";var e;var o=i.debugNameSource;if(o!==void 0){if(typeof o!="function")return r+o;if(e=o(),e!==void 0)return r+e}var s=i.referenceFn;if(s!==void 0&&(e=cj(s),e!==void 0))return r+e;if(i.owner!==void 0){var u=function(t,i){for(var n in t)if(t[n]===i)return n}(i.owner,t);if(u!==void 0)return r+u}}(t,i);if(e){var o=(n=oj.get(e))!==null&&n!==void 0?n:0;o++,oj.set(e,o);var s=o===1?e:"".concat(e,"#").concat(o);return sj.set(t,s),s}}(t,this)};return t}();var oj=new Map,sj=new WeakMap,uj=new Map,aj=new WeakMap;function cj(t){var i=t.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(i),r=n?n[1]:void 0;return r==null?void 0:r.trim()}var hj,fj,lj;var dj=function(){function t(){}Object.defineProperty(t.prototype,"TChange",{get:function(){return null},enumerable:false,configurable:true});t.prototype.reportChanges=function(){this.get()};t.prototype.read=function(t){return t?t.readObservable(this):this.get()};t.prototype.map=function(t,i){var n=this;var r=i===void 0?void 0:t,e=i===void 0?t:i;return fj({owner:r,debugName:function(){var t=cj(e);if(t!==void 0)return t;var i=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(e.toString());return i?"".concat(n.debugName,".").concat(i[2]):r?void 0:"".concat(n.debugName," (mapped)")}},(function(t){return e(n.read(t),t)}))};t.prototype.recomputeInitiallyAndOnChange=function(t,i){return t.add(hj(this,i)),this};return t}();var vj=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i.observers=new Set;return i}i.prototype.addObserver=function(t){var i=this.observers.size;this.observers.add(t),i===0&&this.onFirstObserverAdded()};i.prototype.removeObserver=function(t){this.observers.delete(t)&&this.observers.size===0&&this.onLastObserverRemoved()};i.prototype.onFirstObserverAdded=function(){};i.prototype.onLastObserverRemoved=function(){};return i}(dj);function Aj(t,i){var n=new pj(t,i);try{t(n)}finally{n.finish()}}function gj(t){if(lj)t(lj);else{var i=new pj(t,void 0);lj=i;try{t(i)}finally{i.finish(),lj=void 0}}}function wj(t,i,n){t?i(t):Aj(i,n)}var pj=function(){function t(t,i){var n;this._fn=t,this._getDebugName=i,this.updatingObservers=[],(n=void 0)===null||n===void 0||n.handleBeginTransaction(this)}t.prototype.getDebugName=function(){return this._getDebugName?this._getDebugName():cj(this._fn)};t.prototype.updateObserver=function(t,i){this.updatingObservers.push({observer:t,observable:i}),t.beginUpdate(i)};t.prototype.finish=function(){var t;var i=this.updatingObservers;for(var n=0;n<i.length;n++){var r=i[n],e=r.observer,o=r.observable;e.endUpdate(o)}this.updatingObservers=null,(t=void 0)===null||t===void 0||t.handleEndTransaction()};return t}();function mj(t,i){return typeof t=="string"?new bj(void 0,t,i):new bj(t,void 0,i)}var bj=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._owner=i,e._debugName=n,e._value=r;return e}Object.defineProperty(i.prototype,"debugName",{get:function(){var t;return(t=new ej(this._owner,this._debugName,void 0).getDebugName(this))!==null&&t!==void 0?t:"ObservableValue"},enumerable:false,configurable:true});i.prototype.get=function(){return this._value};i.prototype.set=function(t,i,n){var r=this;var e;if(this._value===t)return;var o;i||(i=o=new pj((function(){}),(function(){return"Setting ".concat(r.debugName)})));try{var s=this._value;this._setValue(t),(e=void 0)===null||e===void 0||e.handleObservableChanged(this,{oldValue:s,newValue:t,change:n,didChange:!0,hadValue:!0});for(var u=0,a=this.observers;u<a.length;u++){var c=a[u];i.updateObserver(c,this),c.handleChange(this,n)}}finally{o&&o.finish()}};i.prototype.toString=function(){return"".concat(this.debugName,": ").concat(this._value)};i.prototype._setValue=function(t){this._value=t};return i}(vj);function yj(t,i){return typeof t=="string"?new kj(void 0,t,i):new kj(t,void 0,i)}var kj=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._setValue=function(t){this._value!==t&&(this._value&&this._value.dispose(),this._value=t)};i.prototype.dispose=function(){var t;(t=this._value)===null||t===void 0||t.dispose()};return i}(bj);var xj=function(t,i){return t===i};function Ej(t,i){return i!==void 0?new Mj(new ej(t,void 0,i),i,void 0,void 0,void 0,xj):new Mj(new ej(void 0,void 0,t),t,void 0,void 0,void 0,xj)}function Bj(t,i){var n;return new Mj(new ej(t.owner,t.debugName,t.debugReferenceFn),i,void 0,void 0,t.onLastObserverRemoved,(n=t.equalityComparer)!==null&&n!==void 0?n:xj)}function Cj(t,i){var n,r;i===void 0?(n=t,r=void 0):(r=t,n=i);var e=new Bn;return new Mj(new ej(r,void 0,n),(function(t){return e.clear(),n(t,e)}),void 0,void 0,(function(){return e.dispose()}),xj)}function Dj(t,i){var n,r;i===void 0?(n=t,r=void 0):(r=t,n=i);var e=new Bn;return new Mj(new ej(r,void 0,n),(function(t){e.clear();var i=n(t);return i&&e.add(i),i}),void 0,void 0,(function(){return e.dispose()}),xj)}(function(t){fj=t})(Bj);var Mj=function(t){__extends(i,t);function i(i,n,r,e,o,s){if(o===void 0){o=void 0}var u=this;var a,c;u=t.call(this)||this,u._debugNameData=i,u._computeFn=n,u.createChangeSummary=r,u._handleChange=e,u._handleLastObserverRemoved=o,u._equalityComparator=s,u.state=0,u.value=void 0,u.updateCount=0,u.dependencies=new Set,u.dependenciesToBeRemoved=new Set,u.changeSummary=void 0,u.changeSummary=(a=u.createChangeSummary)===null||a===void 0?void 0:a.call(u),(c=void 0)===null||c===void 0||c.handleDerivedCreated(u);return u}Object.defineProperty(i.prototype,"debugName",{get:function(){var t;return(t=this._debugNameData.getDebugName(this))!==null&&t!==void 0?t:"(anonymous)"},enumerable:false,configurable:true});i.prototype.onLastObserverRemoved=function(){var t;this.state=0,this.value=void 0;for(var i=0,n=this.dependencies;i<n.length;i++){var r=n[i];r.removeObserver(this)}this.dependencies.clear(),(t=this._handleLastObserverRemoved)===null||t===void 0||t.call(this)};i.prototype.get=function(){var t;if(this.observers.size===0){var i=this._computeFn(this,(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this));return this.onLastObserverRemoved(),i}do{if(this.state===1){for(var n=0,r=this.dependencies;n<r.length;n++){var i=r[n];if(i.reportChanges(),this.state===2)break}}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value};i.prototype._recomputeIfNeeded=function(){var t,i;if(this.state===3)return;var n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n;var r=this.state!==0,e=this.value;this.state=3;var o=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this);try{this.value=this._computeFn(this,o)}finally{for(var s=0,u=this.dependenciesToBeRemoved;s<u.length;s++){var a=u[s];a.removeObserver(this)}this.dependenciesToBeRemoved.clear()}var c=r&&!this._equalityComparator(e,this.value);if((i=void 0)===null||i===void 0||i.handleDerivedRecomputed(this,{oldValue:e,newValue:this.value,change:void 0,didChange:c,hadValue:r}),c)for(var h=0,f=this.observers;h<f.length;h++){var a=f[h];a.handleChange(this,void 0)}};i.prototype.toString=function(){return"LazyDerived<".concat(this.debugName,">")};i.prototype.beginUpdate=function(t){this.updateCount++;var i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(var n=0,r=this.observers;n<r.length;n++){var e=r[n];e.handlePossibleChange(this)}if(i)for(var o=0,s=this.observers;o<s.length;o++){var e=s[o];e.beginUpdate(this)}};i.prototype.endUpdate=function(t){var i=this;if(this.updateCount--,this.updateCount===0){var n=__spreadArray([],this.observers,true);for(var r=0,e=n;r<e.length;r++){var o=e[r];o.endUpdate(this)}}mf((function(){return i.updateCount>=0}))};i.prototype.handlePossibleChange=function(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;for(var i=0,n=this.observers;i<n.length;i++){var r=n[i];r.handlePossibleChange(this)}}};i.prototype.handleChange=function(t,i){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){var n=!this._handleChange||this._handleChange({changedObservable:t,change:i,didChange:function(i){return i===t}},this.changeSummary),r=this.state===3;if(n&&(this.state===1||r)&&(this.state=2,r))for(var e=0,o=this.observers;e<o.length;e++){var s=o[e];s.handlePossibleChange(this)}}};i.prototype.readObservable=function(t){t.addObserver(this);var i=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),i};i.prototype.addObserver=function(i){var n=!this.observers.has(i)&&this.updateCount>0;t.prototype.addObserver.call(this,i),n&&i.beginUpdate(this)};i.prototype.removeObserver=function(i){var n=this.observers.has(i)&&this.updateCount>0;t.prototype.removeObserver.call(this,i),n&&i.endUpdate(this)};return i}(vj);function _j(t){return new Qj(new ej(void 0,void 0,t),t,void 0,void 0)}function Fj(t,i){var n;return new Qj(new ej(t.owner,t.debugName,(n=t.debugReferenceFn)!==null&&n!==void 0?n:i),i,void 0,void 0)}function Sj(t,i){var n;return new Qj(new ej(t.owner,t.debugName,(n=t.debugReferenceFn)!==null&&n!==void 0?n:i),i,t.createEmptyChangeSummary,t.handleChange)}function Ij(t){var i=new Bn,n=Fj({owner:void 0,debugName:void 0,debugReferenceFn:t},(function(n){i.clear(),t(n,i)}));return En((function(){n.dispose(),i.dispose()}))}var Qj=function(){function t(t,i,n,r){var e,o;this._debugNameData=t,this._runFn=i,this.createChangeSummary=n,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this),(o=void 0)===null||o===void 0||o.handleAutorunCreated(this),this._runIfNeeded()}Object.defineProperty(t.prototype,"debugName",{get:function(){var t;return(t=this._debugNameData.getDebugName(this))!==null&&t!==void 0?t:"(anonymous)"},enumerable:false,configurable:true});t.prototype.dispose=function(){this.disposed=!0;for(var t=0,i=this.dependencies;t<i.length;t++){var n=i[t];n.removeObserver(this)}this.dependencies.clear()};t.prototype._runIfNeeded=function(){var t,i,n;if(this.state===3)return;var r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r,this.state=3;var e=this.disposed;try{if(!e){(t=void 0)===null||t===void 0||t.handleAutorunTriggered(this);var o=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,o)}}finally{e||(n=void 0)===null||n===void 0||n.handleAutorunFinished(this);for(var s=0,u=this.dependenciesToBeRemoved;s<u.length;s++){var o=u[s];o.removeObserver(this)}this.dependenciesToBeRemoved.clear()}};t.prototype.toString=function(){return"Autorun<".concat(this.debugName,">")};t.prototype.beginUpdate=function(){this.state===3&&(this.state=1),this.updateCount++};t.prototype.endUpdate=function(){var t=this;if(this.updateCount===1)do{if(this.state===1){this.state=3;for(var i=0,n=this.dependencies;i<n.length;i++){var r=n[i];if(r.reportChanges(),this.state===2)break}}this._runIfNeeded()}while(this.state!==3);this.updateCount--,mf((function(){return t.updateCount>=0}))};t.prototype.handlePossibleChange=function(t){this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)&&(this.state=1)};t.prototype.handleChange=function(t,i){this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)&&(!this._handleChange||this._handleChange({changedObservable:t,change:i,didChange:function(i){return i===t}},this.changeSummary))&&(this.state=2)};t.prototype.readObservable=function(t){if(this.disposed)return t.get();t.addObserver(this);var i=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),i};return t}();function Oj(t){return new Nj(t)}(function(t){t.Observer=Qj})(_j||(_j={}));var Nj=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.value=i;return n}Object.defineProperty(i.prototype,"debugName",{get:function(){return this.toString()},enumerable:false,configurable:true});i.prototype.get=function(){return this.value};i.prototype.addObserver=function(t){};i.prototype.removeObserver=function(t){};i.prototype.toString=function(){return"Const: ".concat(this.value)};return i}(dj);function Rj(t,i){return new Tj(t,i)}var Tj=function(t){__extends(i,t);function i(n,r){var e=this;e=t.call(this)||this,e.event=n,e._getValue=r,e.hasValue=!1,e.handleEvent=function(t){var n;var r=e._getValue(t),o=e.value,s=!e.hasValue||o!==r;var u=!1;s&&(e.value=r,e.hasValue&&(u=!0,wj(i.globalTransaction,(function(t){var i;(i=void 0)===null||i===void 0||i.handleFromEventObservableTriggered(e,{oldValue:o,newValue:r,change:void 0,didChange:s,hadValue:e.hasValue});for(var n=0,u=e.observers;n<u.length;n++){var a=u[n];t.updateObserver(a,e),a.handleChange(e,void 0)}}),(function(){var t=e.getDebugName();return"Event fired"+(t?": ".concat(t):"")}))),e.hasValue=!0),u||(n=void 0)===null||n===void 0||n.handleFromEventObservableTriggered(e,{oldValue:o,newValue:r,change:void 0,didChange:s,hadValue:e.hasValue})};return e}i.prototype.getDebugName=function(){return cj(this._getValue)};Object.defineProperty(i.prototype,"debugName",{get:function(){var t=this.getDebugName();return"From Event"+(t?": ".concat(t):"")},enumerable:false,configurable:true});i.prototype.onFirstObserverAdded=function(){this.subscription=this.event(this.handleEvent)};i.prototype.onLastObserverRemoved=function(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0};i.prototype.get=function(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)};return i}(vj);function Lj(t,i){return new jj(t,i)}(function(t){t.Observer=Tj,t.batchEventsGlobally=function(t,i){var n=!1;Tj.globalTransaction===void 0&&(Tj.globalTransaction=t,n=!0);try{i()}finally{n&&(Tj.globalTransaction=void 0)}}})(Rj||(Rj={}));var jj=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.debugName=i,r.event=n,r.handleEvent=function(){Aj((function(t){for(var i=0,n=r.observers;i<n.length;i++){var e=n[i];t.updateObserver(e,r),e.handleChange(r,void 0)}}),(function(){return r.debugName}))};return r}i.prototype.onFirstObserverAdded=function(){this.subscription=this.event(this.handleEvent)};i.prototype.onLastObserverRemoved=function(){this.subscription.dispose(),this.subscription=void 0};i.prototype.get=function(){};return i}(vj);function zj(t){return typeof t=="string"?new Uj(t):new Uj(void 0,t)}var Uj=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._debugName=i,r._owner=n;return r}Object.defineProperty(i.prototype,"debugName",{get:function(){var t;return(t=new ej(this._owner,this._debugName,void 0).getDebugName(this))!==null&&t!==void 0?t:"Observable Signal"},enumerable:false,configurable:true});i.prototype.trigger=function(t,i){var n=this;if(t)for(var r=0,e=this.observers;r<e.length;r++){var o=e[r];t.updateObserver(o,this),o.handleChange(this,i)}else Aj((function(t){n.trigger(t,i)}),(function(){return"Trigger signal ".concat(n.debugName)}))};i.prototype.get=function(){};return i}(vj);function Hj(t,i){var n=new Yj(!0,i);return t.addObserver(n),i?i(t.get()):t.reportChanges(),En((function(){t.removeObserver(n)}))}(function(t){hj=t})(Hj);var Yj=function(){function t(t,i){this._forceRecompute=t,this._handleValue=i,this._counter=0}t.prototype.beginUpdate=function(t){this._counter++};t.prototype.endUpdate=function(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())};t.prototype.handlePossibleChange=function(t){};t.prototype.handleChange=function(t,i){};return t}();var Jj=function(){function t(t,i){this._map=t,this._keySelector=i,this._cache=new Map,this._items=[]}t.prototype.dispose=function(){this._cache.forEach((function(t){return t.store.dispose()})),this._cache.clear()};t.prototype.setItems=function(t){var i=[],n=new Set(this._cache.keys());for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=this._keySelector?this._keySelector(o):o;var u=this._cache.get(s);if(u)n.delete(s);else{var a=new Bn;u={out:this._map(o,a),store:a},this._cache.set(s,u)}i.push(u.out)}for(var c=0,h=n;c<h.length;c++){var o=h[c];this._cache.get(o).store.dispose(),this._cache.delete(o)}this._items=i};t.prototype.getItems=function(){return this._items};return t}();var Pj=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s};var Wj=function(){function t(t){this.trait=t,this.renderedElements=[]}Object.defineProperty(t.prototype,"templateId",{get:function(){return"template:".concat(this.trait.name)},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){return t};t.prototype.renderElement=function(t,i,n){var r=this.renderedElements.findIndex((function(t){return t.templateData===n}));if(r>=0){var e=this.renderedElements[r];this.trait.unrender(n),e.index=i}else{var e={index:i,templateData:n};this.renderedElements.push(e)}this.trait.renderIndex(i,n)};t.prototype.splice=function(t,i,n){var r=[];for(var e=0,o=this.renderedElements;e<o.length;e++){var s=o[e];s.index<t?r.push(s):s.index>=t+i&&r.push({index:s.index+n-i,templateData:s.templateData})}this.renderedElements=r};t.prototype.renderIndexes=function(t){for(var i=0,n=this.renderedElements;i<n.length;i++){var r=n[i],e=r.index,o=r.templateData;t.indexOf(e)>-1&&this.trait.renderIndex(e,o)}};t.prototype.disposeTemplate=function(t){var i=this.renderedElements.findIndex((function(i){return i.templateData===t}));i<0||this.renderedElements.splice(i,1)};return t}();var Gj=function(){function t(t){this._trait=t,this.indexes=[],this.sortedIndexes=[],this._onChange=new Ln,this.onChange=this._onChange.event}Object.defineProperty(t.prototype,"name",{get:function(){return this._trait},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"renderer",{get:function(){return new Wj(this)},enumerable:false,configurable:true});t.prototype.splice=function(t,i,n){var r=n.length-i,e=t+i,o=[];var s=0;for(;s<this.sortedIndexes.length&&this.sortedIndexes[s]<t;)o.push(this.sortedIndexes[s++]);for(var u=0;u<n.length;u++)n[u]&&o.push(u+t);for(;s<this.sortedIndexes.length&&this.sortedIndexes[s]>=e;)o.push(this.sortedIndexes[s++]+r);this.renderer.splice(t,i,n.length),this._set(o,o)};t.prototype.renderIndex=function(t,i){i.classList.toggle(this._trait,this.contains(t))};t.prototype.unrender=function(t){t.classList.remove(this._trait)};t.prototype.set=function(t,i){return this._set(t,__spreadArray([],t,true).sort(gz),i)};t.prototype._set=function(t,i,n){var r=this.indexes,e=this.sortedIndexes;this.indexes=t,this.sortedIndexes=i;var o=Az(e,t);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:t,browserEvent:n}),r};t.prototype.get=function(){return this.indexes};t.prototype.contains=function(t){return F(this.sortedIndexes,t,gz)>=0};t.prototype.dispose=function(){kn(this._onChange)};return t}();Pj([vk],Gj.prototype,"renderer",null);var Vj=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,"selected")||this,n.setAriaSelected=i;return n}i.prototype.renderIndex=function(i,n){t.prototype.renderIndex.call(this,i,n),this.setAriaSelected&&(this.contains(i)?n.setAttribute("aria-selected","true"):n.setAttribute("aria-selected","false"))};return i}(Gj);var Kj=function(){function t(t,i,n){this.trait=t,this.view=i,this.identityProvider=n}t.prototype.splice=function(t,i,n){var r=this;if(!this.identityProvider)return this.trait.splice(t,i,new Array(n.length).fill(!1));var e=this.trait.get().map((function(t){return r.identityProvider.getId(r.view.element(t)).toString()}));if(e.length===0)return this.trait.splice(t,i,new Array(n.length).fill(!1));var o=new Set(e),s=n.map((function(t){return o.has(r.identityProvider.getId(t).toString())}));this.trait.splice(t,i,s)};return t}();function Xj(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"}function qj(t,i){return!!t.classList.contains(i)||!t.classList.contains("monaco-list")&&!!t.parentElement&&qj(t.parentElement,i)}function Zj(t){return qj(t,"monaco-editor")}function $j(t){return qj(t,"monaco-tree-sticky-row")}function tz(t){return t.classList.contains("monaco-tree-sticky-container")}function iz(t){return!!(t.tagName==="A"&&t.classList.contains("monaco-button")||t.tagName==="DIV"&&t.classList.contains("monaco-button-dropdown"))||!t.classList.contains("monaco-list")&&!!t.parentElement&&iz(t.parentElement)}var nz=function(){function t(t,i,n){var r=this;this.list=t,this.view=i,this.disposables=new Bn,this.multipleSelectionDisposables=new Bn,this.multipleSelectionSupport=n.multipleSelectionSupport,this.disposables.add(this.onKeyDown((function(t){switch(t.keyCode){case 3:return r.onEnter(t);case 16:return r.onUpArrow(t);case 18:return r.onDownArrow(t);case 11:return r.onPageUpArrow(t);case 12:return r.onPageDownArrow(t);case 9:return r.onEscape(t);case 31:r.multipleSelectionSupport&&(Gt?t.metaKey:t.ctrlKey)&&r.onCtrlA(t)}})))}Object.defineProperty(t.prototype,"onKeyDown",{get:function(){return Qn.chain(this.disposables.add(new Hk(this.view.domNode,"keydown")).event,(function(t){return t.filter((function(t){return!Xj(t.target)})).map((function(t){return new Qs(t)}))}))},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){t.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=t.multipleSelectionSupport)};t.prototype.onEnter=function(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(this.list.getFocus(),t.browserEvent)};t.prototype.onUpArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusPrevious(1,!1,t.browserEvent);var i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()};t.prototype.onDownArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusNext(1,!1,t.browserEvent);var i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()};t.prototype.onPageUpArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusPreviousPage(t.browserEvent);var i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()};t.prototype.onPageDownArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusNextPage(t.browserEvent);var i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()};t.prototype.onCtrlA=function(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(U(this.list.length),t.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()};t.prototype.onEscape=function(t){this.list.getSelection().length&&(t.preventDefault(),t.stopPropagation(),this.list.setSelection([],t.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())};t.prototype.dispose=function(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()};return t}();var rz,ez;Pj([vk],nz.prototype,"onKeyDown",null),function(t){t[t.Automatic=0]="Automatic",t[t.Trigger=1]="Trigger"}(rz||(rz={})),function(t){t[t.Idle=0]="Idle",t[t.Typing=1]="Typing"}(ez||(ez={}));var oz=new(function(){function t(){}t.prototype.mightProducePrintableCharacter=function(t){return!(t.ctrlKey||t.metaKey||t.altKey)&&(t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30||t.keyCode>=98&&t.keyCode<=107||t.keyCode>=85&&t.keyCode<=95)};return t}());var sz=function(){function t(t,i,n,r,e){this.list=t,this.view=i,this.keyboardNavigationLabelProvider=n,this.keyboardNavigationEventFilter=r,this.delegate=e,this.enabled=!1,this.state=ez.Idle,this.mode=rz.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new Bn,this.disposables=new Bn,this.updateOptions(t.options)}t.prototype.updateOptions=function(t){var i,n;(i=t.typeNavigationEnabled)===null||i===void 0||i?this.enable():this.disable(),this.mode=(n=t.typeNavigationMode)!==null&&n!==void 0?n:rz.Automatic};t.prototype.enable=function(){var t=this;if(this.enabled)return;var i=!1;var n=Qn.chain(this.enabledDisposables.add(new Hk(this.view.domNode,"keydown")).event,(function(n){return n.filter((function(t){return!Xj(t.target)})).filter((function(){return t.mode===rz.Automatic||t.triggered})).map((function(t){return new Qs(t)})).filter((function(n){return i||t.keyboardNavigationEventFilter(n)})).filter((function(i){return t.delegate.mightProducePrintableCharacter(i)})).forEach((function(t){return Cc(t,!0)})).map((function(t){return t.browserEvent.key}))})),r=Qn.debounce(n,(function(){return null}),800,void 0,void 0,void 0,this.enabledDisposables);Qn.reduce(Qn.any(n,r),(function(t,i){return i===null?null:(t||"")+i}),void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),r(this.onClear,this,this.enabledDisposables),n((function(){return i=!0}),void 0,this.enabledDisposables),r((function(){return i=!1}),void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1};t.prototype.disable=function(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)};t.prototype.onClear=function(){var t;var i=this.list.getFocus();if(i.length>0&&i[0]===this.previouslyFocused){var n=(t=this.list.options.accessibilityProvider)===null||t===void 0?void 0:t.getAriaLabel(this.list.element(i[0]));typeof n=="string"?Rw(n):n&&Rw(n.get())}this.previouslyFocused=-1};t.prototype.onInput=function(t){if(!t)return this.state=ez.Idle,void(this.triggered=!1);var i=this.list.getFocus(),n=i.length>0?i[0]:0,r=this.state===ez.Idle?1:0;this.state=ez.Typing;for(var e=0;e<this.list.length;e++){var o=(n+e+r)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),u=s&&s.toString();if(this.list.options.typeNavigationEnabled){if(u!==void 0){if(uN(t,u))return this.previouslyFocused=n,this.list.setFocus([o]),void this.list.reveal(o);var a=IN(t,u);if(a&&a[0].end-a[0].start>1&&a.length===1)return this.previouslyFocused=n,this.list.setFocus([o]),void this.list.reveal(o)}}else if(u===void 0||uN(t,u))return this.previouslyFocused=n,this.list.setFocus([o]),void this.list.reveal(o)}};t.prototype.dispose=function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()};return t}();var uz=function(){function t(t,i){this.list=t,this.view=i,this.disposables=new Bn;var n=Qn.chain(this.disposables.add(new Hk(i.domNode,"keydown")).event,(function(t){return t.filter((function(t){return!Xj(t.target)})).map((function(t){return new Qs(t)}))}));Qn.chain(n,(function(t){return t.filter((function(t){return!(t.keyCode!==2||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)}))}))(this.onTab,this,this.disposables)}t.prototype.onTab=function(t){if(t.target!==this.view.domNode)return;var i=this.list.getFocus();if(i.length===0)return;var n=this.view.domElement(i[0]);if(!n)return;var r=n.querySelector("[tabIndex]");if(!(r&&r instanceof HTMLElement&&r.tabIndex!==-1))return;var e=ka(r).getComputedStyle(r);e.visibility!=="hidden"&&e.display!=="none"&&(t.preventDefault(),t.stopPropagation(),r.focus())};t.prototype.dispose=function(){this.disposables.dispose()};return t}();function az(t){return Gt?t.browserEvent.metaKey:t.browserEvent.ctrlKey}function cz(t){return t.browserEvent.shiftKey}var hz={isSelectionSingleChangeEvent:az,isSelectionRangeChangeEvent:cz};var fz=function(){function t(t){this.list=t,this.disposables=new Bn,this._onPointer=new Ln,this.onPointer=this._onPointer.event,t.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||hz),this.mouseSupport=t.options.mouseSupport===void 0||!!t.options.mouseSupport,this.mouseSupport&&(t.onMouseDown(this.onMouseDown,this,this.disposables),t.onContextMenu(this.onContextMenu,this,this.disposables),t.onMouseDblClick(this.onDoubleClick,this,this.disposables),t.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(wk.addTarget(t.getHTMLElement()))),Qn.any(t.onMouseClick,t.onMouseMiddleClick,t.onTap)(this.onViewPointer,this,this.disposables)}t.prototype.updateOptions=function(t){t.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,t.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||hz))};t.prototype.isSelectionSingleChangeEvent=function(t){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(t)};t.prototype.isSelectionRangeChangeEvent=function(t){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(t)};t.prototype.isSelectionChangeEvent=function(t){return this.isSelectionSingleChangeEvent(t)||this.isSelectionRangeChangeEvent(t)};t.prototype.onMouseDown=function(t){Zj(t.browserEvent.target)||sc()!==t.browserEvent.target&&this.list.domFocus()};t.prototype.onContextMenu=function(t){if(Xj(t.browserEvent.target)||Zj(t.browserEvent.target))return;var i=t.index===void 0?[]:[t.index];this.list.setFocus(i,t.browserEvent)};t.prototype.onViewPointer=function(t){if(!this.mouseSupport||Xj(t.browserEvent.target)||Zj(t.browserEvent.target)||t.browserEvent.isHandledByList)return;t.browserEvent.isHandledByList=!0;var i=t.index;return i===void 0?(this.list.setFocus([],t.browserEvent),this.list.setSelection([],t.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionChangeEvent(t)?this.changeSelection(t):(this.list.setFocus([i],t.browserEvent),this.list.setAnchor(i),kc(n=t.browserEvent)&&n.button===2||this.list.setSelection([i],t.browserEvent),void this._onPointer.fire(t));var n};t.prototype.onDoubleClick=function(t){if(Xj(t.browserEvent.target)||Zj(t.browserEvent.target)||this.isSelectionChangeEvent(t)||t.browserEvent.isHandledByList)return;t.browserEvent.isHandledByList=!0;var i=this.list.getFocus();this.list.setSelection(i,t.browserEvent)};t.prototype.changeSelection=function(t){var i=t.index;var n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(t)){if(n===void 0){var r=this.list.getFocus()[0];n=r!==null&&r!==void 0?r:i,this.list.setAnchor(n)}var e=U(Math.min(n,i),Math.max(n,i)+1),o=this.list.getSelection(),s=function(t,i){var n=t.indexOf(i);if(n===-1)return[];var r=[];var e=n-1;for(;e>=0&&t[e]===i-(n-e);)r.push(t[e--]);for(r.reverse(),e=n;e<t.length&&t[e]===i+(e-n);)r.push(t[e++]);return r}(Az(o,[n]),n);if(s.length===0)return;var u=Az(e,function(t,i){var n=[];var r=0,e=0;for(;r<t.length||e<i.length;)if(r>=t.length)n.push(i[e++]);else if(e>=i.length)n.push(t[r++]);else{if(t[r]===i[e]){r++,e++;continue}t[r]<i[e]?n.push(t[r++]):e++}return n}(o,s));this.list.setSelection(u,t.browserEvent),this.list.setFocus([i],t.browserEvent)}else if(this.isSelectionSingleChangeEvent(t)){var e=this.list.getSelection(),o=e.filter((function(t){return t!==i}));this.list.setFocus([i]),this.list.setAnchor(i),e.length===o.length?this.list.setSelection(__spreadArray(__spreadArray([],o,true),[i],false),t.browserEvent):this.list.setSelection(o,t.browserEvent)}};t.prototype.dispose=function(){this.disposables.dispose()};return t}();var lz=function(){function t(t,i){this.styleElement=t,this.selectorSuffix=i}t.prototype.style=function(t){var i,n;var r=this.selectorSuffix&&".".concat(this.selectorSuffix),e=[];t.listBackground&&e.push(".monaco-list".concat(r," .monaco-list-rows { background: ").concat(t.listBackground,"; }")),t.listFocusBackground&&(e.push(".monaco-list".concat(r,":focus .monaco-list-row.focused { background-color: ").concat(t.listFocusBackground,"; }")),e.push(".monaco-list".concat(r,":focus .monaco-list-row.focused:hover { background-color: ").concat(t.listFocusBackground,"; }"))),t.listFocusForeground&&e.push(".monaco-list".concat(r,":focus .monaco-list-row.focused { color: ").concat(t.listFocusForeground,"; }")),t.listActiveSelectionBackground&&(e.push(".monaco-list".concat(r,":focus .monaco-list-row.selected { background-color: ").concat(t.listActiveSelectionBackground,"; }")),e.push(".monaco-list".concat(r,":focus .monaco-list-row.selected:hover { background-color: ").concat(t.listActiveSelectionBackground,"; }"))),t.listActiveSelectionForeground&&e.push(".monaco-list".concat(r,":focus .monaco-list-row.selected { color: ").concat(t.listActiveSelectionForeground,"; }")),t.listActiveSelectionIconForeground&&e.push(".monaco-list".concat(r,":focus .monaco-list-row.selected .codicon { color: ").concat(t.listActiveSelectionIconForeground,"; }")),t.listFocusAndSelectionBackground&&e.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(r,":focus .monaco-list-row.selected.focused { background-color: ").concat(t.listFocusAndSelectionBackground,"; }\n\t\t\t")),t.listFocusAndSelectionForeground&&e.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(r,":focus .monaco-list-row.selected.focused { color: ").concat(t.listFocusAndSelectionForeground,"; }\n\t\t\t")),t.listInactiveFocusForeground&&(e.push(".monaco-list".concat(r," .monaco-list-row.focused { color:  ").concat(t.listInactiveFocusForeground,"; }")),e.push(".monaco-list".concat(r," .monaco-list-row.focused:hover { color:  ").concat(t.listInactiveFocusForeground,"; }"))),t.listInactiveSelectionIconForeground&&e.push(".monaco-list".concat(r," .monaco-list-row.focused .codicon { color:  ").concat(t.listInactiveSelectionIconForeground,"; }")),t.listInactiveFocusBackground&&(e.push(".monaco-list".concat(r," .monaco-list-row.focused { background-color:  ").concat(t.listInactiveFocusBackground,"; }")),e.push(".monaco-list".concat(r," .monaco-list-row.focused:hover { background-color:  ").concat(t.listInactiveFocusBackground,"; }"))),t.listInactiveSelectionBackground&&(e.push(".monaco-list".concat(r," .monaco-list-row.selected { background-color:  ").concat(t.listInactiveSelectionBackground,"; }")),e.push(".monaco-list".concat(r," .monaco-list-row.selected:hover { background-color:  ").concat(t.listInactiveSelectionBackground,"; }"))),t.listInactiveSelectionForeground&&e.push(".monaco-list".concat(r," .monaco-list-row.selected { color: ").concat(t.listInactiveSelectionForeground,"; }")),t.listHoverBackground&&e.push(".monaco-list".concat(r,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ").concat(t.listHoverBackground,"; }")),t.listHoverForeground&&e.push(".monaco-list".concat(r,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ").concat(t.listHoverForeground,"; }"));var o=Hc(t.listFocusAndSelectionOutline,Hc(t.listSelectionOutline,(i=t.listFocusOutline)!==null&&i!==void 0?i:""));o&&e.push(".monaco-list".concat(r,":focus .monaco-list-row.focused.selected { outline: 1px solid ").concat(o,"; outline-offset: -1px;}")),t.listFocusOutline&&e.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(r,":focus .monaco-list-row.focused { outline: 1px solid ").concat(t.listFocusOutline,"; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list").concat(r,".last-focused .monaco-list-row.focused { outline: 1px solid ").concat(t.listFocusOutline,"; outline-offset: -1px; }\n\t\t\t"));var s=Hc(t.listSelectionOutline,(n=t.listInactiveFocusOutline)!==null&&n!==void 0?n:"");s&&e.push(".monaco-list".concat(r," .monaco-list-row.focused.selected { outline: 1px dotted ").concat(s,"; outline-offset: -1px; }")),t.listSelectionOutline&&e.push(".monaco-list".concat(r," .monaco-list-row.selected { outline: 1px dotted ").concat(t.listSelectionOutline,"; outline-offset: -1px; }")),t.listInactiveFocusOutline&&e.push(".monaco-list".concat(r," .monaco-list-row.focused { outline: 1px dotted ").concat(t.listInactiveFocusOutline,"; outline-offset: -1px; }")),t.listHoverOutline&&e.push(".monaco-list".concat(r," .monaco-list-row:hover { outline: 1px dashed ").concat(t.listHoverOutline,"; outline-offset: -1px; }")),t.listDropOverBackground&&e.push("\n\t\t\t\t.monaco-list".concat(r,".drop-target,\n\t\t\t\t.monaco-list").concat(r," .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list").concat(r," .monaco-list-row.drop-target { background-color: ").concat(t.listDropOverBackground," !important; color: inherit !important; }\n\t\t\t")),t.listDropBetweenBackground&&(e.push("\n\t\t\t.monaco-list".concat(r," .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,\n\t\t\t.monaco-list").concat(r,' .monaco-list-row.drop-target-before::before {\n\t\t\t\tcontent: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ').concat(t.listDropBetweenBackground,";\n\t\t\t}")),e.push("\n\t\t\t.monaco-list".concat(r," .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,\n\t\t\t.monaco-list").concat(r,' .monaco-list-row.drop-target-after::after {\n\t\t\t\tcontent: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ').concat(t.listDropBetweenBackground,";\n\t\t\t}"))),t.tableColumnsBorder&&e.push("\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ".concat(t.tableColumnsBorder,";\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t")),t.tableOddRowsBackgroundColor&&e.push("\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ".concat(t.tableOddRowsBackgroundColor,";\n\t\t\t\t}\n\t\t\t")),this.styleElement.textContent=e.join("\n")};return t}();var dz={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:ZA.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:ZA.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:ZA.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},vz={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){},dispose:function(){}}};function Az(t,i){var n=[];var r=0,e=0;for(;r<t.length||e<i.length;)if(r>=t.length)n.push(i[e++]);else if(e>=i.length)n.push(t[r++]);else{if(t[r]===i[e]){n.push(t[r]),r++,e++;continue}t[r]<i[e]?n.push(t[r++]):n.push(i[e++])}return n}var gz=function(t,i){return t-i};var wz=function(){function t(t,i){this._templateId=t,this.renderers=i}Object.defineProperty(t.prototype,"templateId",{get:function(){return this._templateId},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){return this.renderers.map((function(i){return i.renderTemplate(t)}))};t.prototype.renderElement=function(t,i,n,r){var e=0;for(var o=0,s=this.renderers;o<s.length;o++){var u=s[o];u.renderElement(t,i,n[e++],r)}};t.prototype.disposeElement=function(t,i,n,r){var e;var o=0;for(var s=0,u=this.renderers;s<u.length;s++){var a=u[s];(e=a.disposeElement)===null||e===void 0||e.call(a,t,i,n[o],r),o+=1}};t.prototype.disposeTemplate=function(t){var i=0;for(var n=0,r=this.renderers;n<r.length;n++){var e=r[n];e.disposeTemplate(t[i++])}};return t}();var pz=function(){function t(t){this.accessibilityProvider=t,this.templateId="a18n"}t.prototype.renderTemplate=function(t){return{container:t,disposables:new Bn}};t.prototype.renderElement=function(t,i,n){var r=this;var e=this.accessibilityProvider.getAriaLabel(t),o=e&&typeof e!="string"?e:Oj(e);n.disposables.add(_j((function(t){r.setAriaLabel(t.readObservable(o),n.container)})));var s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);typeof s=="number"?n.container.setAttribute("aria-level","".concat(s)):n.container.removeAttribute("aria-level")};t.prototype.setAriaLabel=function(t,i){t?i.setAttribute("aria-label",t):i.removeAttribute("aria-label")};t.prototype.disposeElement=function(t,i,n,r){n.disposables.clear()};t.prototype.disposeTemplate=function(t){t.disposables.dispose()};return t}();var mz=function(){function t(t,i){this.list=t,this.dnd=i}t.prototype.getDragElements=function(t){var i=this.list.getSelectedElements();return i.indexOf(t)>-1?i:[t]};t.prototype.getDragURI=function(t){return this.dnd.getDragURI(t)};t.prototype.getDragLabel=function(t,i){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t,i)};t.prototype.onDragStart=function(t,i){var n,r;(r=(n=this.dnd).onDragStart)===null||r===void 0||r.call(n,t,i)};t.prototype.onDragOver=function(t,i,n,r,e){return this.dnd.onDragOver(t,i,n,r,e)};t.prototype.onDragLeave=function(t,i,n,r){var e,o;(o=(e=this.dnd).onDragLeave)===null||o===void 0||o.call(e,t,i,n,r)};t.prototype.onDragEnd=function(t){var i,n;(n=(i=this.dnd).onDragEnd)===null||n===void 0||n.call(i,t)};t.prototype.drop=function(t,i,n,r,e){this.dnd.drop(t,i,n,r,e)};t.prototype.dispose=function(){this.dnd.dispose()};return t}();var bz=function(){function t(t,i,n,r,e){if(e===void 0){e=vz}var o,s,u,a;this.user=t,this._options=e,this.focus=new Gj("focused"),this.anchor=new Gj("anchor"),this.eventBufferer=new Jn,this._ariaLabel="",this.disposables=new Bn,this._onDidDispose=new Ln,this.onDidDispose=this._onDidDispose.event;var c=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(o=this._options.accessibilityProvider)===null||o===void 0?void 0:o.getWidgetRole():"list";this.selection=new Vj(c!=="listbox");var h=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=e.accessibilityProvider,this.accessibilityProvider&&(h.push(new pz(this.accessibilityProvider)),(u=(s=this.accessibilityProvider).onDidChangeActiveDescendant)===null||u===void 0||u.call(s,this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map((function(t){return new wz(t.templateId,__spreadArray(__spreadArray([],h,true),[t],false))}));var f=__assign(__assign({},e),{dnd:e.dnd&&new mz(this,e.dnd)});if(this.view=this.createListView(i,n,r,f),this.view.domNode.setAttribute("role",c),e.styleController)this.styleController=e.styleController(this.view.domId);else{var l=dc(this.view.domNode);this.styleController=new lz(l,this.view.domId)}if(this.spliceable=new JL([new Kj(this.focus,this.view,e.identityProvider),new Kj(this.selection,this.view,e.identityProvider),new Kj(this.anchor,this.view,e.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new uz(this,this.view)),(typeof e.keyboardSupport!="boolean"||e.keyboardSupport)&&(this.keyboardController=new nz(this,this.view,e),this.disposables.add(this.keyboardController)),e.keyboardNavigationLabelProvider){var l=e.keyboardNavigationDelegate||oz;this.typeNavigationController=new sz(this,this.view,e.keyboardNavigationLabelProvider,(a=e.keyboardNavigationEventFilter)!==null&&a!==void 0?a:function(){return!0},l),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(e),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}Object.defineProperty(t.prototype,"onDidChangeFocus",{get:function(){var t=this;return Qn.map(this.eventBufferer.wrapEvent(this.focus.onChange),(function(i){return t.toListEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeSelection",{get:function(){var t=this;return Qn.map(this.eventBufferer.wrapEvent(this.selection.onChange),(function(i){return t.toListEvent(i)}),this.disposables)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"domId",{get:function(){return this.view.domId},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidScroll",{get:function(){return this.view.onDidScroll},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointer",{get:function(){return this.mouseController.onPointer},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseOver",{get:function(){return this.view.onMouseOver},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseOut",{get:function(){return this.view.onMouseOut},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onContextMenu",{get:function(){var t=this;var i=!1;var n=Qn.chain(this.disposables.add(new Hk(this.view.domNode,"keydown")).event,(function(t){return t.map((function(t){return new Qs(t)})).filter((function(t){return i=t.keyCode===58||t.shiftKey&&t.keyCode===68})).map((function(t){return Cc(t,!0)})).filter((function(){return!1}))})),r=Qn.chain(this.disposables.add(new Hk(this.view.domNode,"keyup")).event,(function(n){return n.forEach((function(){return i=!1})).map((function(t){return new Qs(t)})).filter((function(t){return t.keyCode===58||t.shiftKey&&t.keyCode===68})).map((function(t){return Cc(t,!0)})).map((function(i){var n=i.browserEvent;var r=t.getFocus(),e=r.length?r[0]:void 0;return{index:e,element:e!==void 0?t.view.element(e):void 0,anchor:e!==void 0?t.view.domElement(e):t.view.domNode,browserEvent:n}}))})),e=Qn.chain(this.view.onContextMenu,(function(n){return n.filter((function(t){return!i})).map((function(i){var n=i.element,r=i.index,e=i.browserEvent;return{element:n,index:r,anchor:new Ts(ka(t.view.domNode),e),browserEvent:e}}))}));return Qn.any(n,r,e)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onKeyDown",{get:function(){return this.disposables.add(new Hk(this.view.domNode,"keydown")).event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return Qn.signal(this.disposables.add(new Hk(this.view.domNode,"focus",!0)).event)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidBlur",{get:function(){return Qn.signal(this.disposables.add(new Hk(this.view.domNode,"blur",!0)).event)},enumerable:false,configurable:true});t.prototype.createListView=function(t,i,n,r){return new rj(t,i,n,r)};t.prototype.createMouseController=function(t){return new fz(this)};t.prototype.updateOptions=function(t){if(t===void 0){t={}}var i,n;this._options=__assign(__assign({},this._options),t),(i=this.typeNavigationController)===null||i===void 0||i.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(t),(n=this.keyboardController)===null||n===void 0||n.updateOptions(t),this.view.updateOptions(t)};Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:false,configurable:true});t.prototype.splice=function(t,i,n){var r=this;if(n===void 0){n=[]}if(t<0||t>this.view.length)throw new PL(this.user,"Invalid start index: ".concat(t));if(i<0)throw new PL(this.user,"Invalid delete count: ".concat(i));i===0&&n.length===0||this.eventBufferer.bufferEvents((function(){return r.spliceable.splice(t,i,n)}))};t.prototype.rerender=function(){this.view.rerender()};t.prototype.element=function(t){return this.view.element(t)};t.prototype.indexOf=function(t){return this.view.indexOf(t)};t.prototype.indexAt=function(t){return this.view.indexAt(t)};Object.defineProperty(t.prototype,"length",{get:function(){return this.view.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeContentHeight",{get:function(){return this.view.onDidChangeContentHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(t){this.view.setScrollTop(t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this.view.scrollHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.view.renderHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this.view.firstVisibleIndex},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(t){this._ariaLabel=t,this.view.domNode.setAttribute("aria-label",t)},enumerable:false,configurable:true});t.prototype.domFocus=function(){this.view.domNode.focus({preventScroll:!0})};t.prototype.layout=function(t,i){this.view.layout(t,i)};t.prototype.setSelection=function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];if(e<0||e>=this.length)throw new PL(this.user,"Invalid index ".concat(e))}this.selection.set(t,i)};t.prototype.getSelection=function(){return this.selection.get()};t.prototype.getSelectedElements=function(){var t=this;return this.getSelection().map((function(i){return t.view.element(i)}))};t.prototype.setAnchor=function(t){if(t!==void 0){if(t<0||t>=this.length)throw new PL(this.user,"Invalid index ".concat(t));this.anchor.set([t])}else this.anchor.set([])};t.prototype.getAnchor=function(){return z(this.anchor.get(),void 0)};t.prototype.getAnchorElement=function(){var t=this.getAnchor();return t===void 0?void 0:this.element(t)};t.prototype.setFocus=function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];if(e<0||e>=this.length)throw new PL(this.user,"Invalid index ".concat(e))}this.focus.set(t,i)};t.prototype.focusNext=function(t,i,n,r){if(t===void 0){t=1}if(i===void 0){i=!1}if(this.length===0)return;var e=this.focus.get(),o=this.findNextIndex(e.length>0?e[0]+t:0,i,r);o>-1&&this.setFocus([o],n)};t.prototype.focusPrevious=function(t,i,n,r){if(t===void 0){t=1}if(i===void 0){i=!1}if(this.length===0)return;var e=this.focus.get(),o=this.findPreviousIndex(e.length>0?e[0]-t:0,i,r);o>-1&&this.setFocus([o],n)};t.prototype.focusNextPage=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=n===0?0:n-1;r=this.getFocus()[0];if(!(r!==n&&(r===void 0||n>r)))return[3,1];e=this.findPreviousIndex(n,!1,i);e>-1&&r!==e?this.setFocus([e],t):this.setFocus([n],t);return[3,5];case 1:e=this.view.getScrollTop();o=e+this.view.renderHeight;n>r&&(o-=this.view.elementHeight(n)),this.view.setScrollTop(o);s=this.view.getScrollTop()!==e;if(!s)return[3,4];this.setFocus([]);return[4,Ws(0)];case 2:u.sent();return[4,this.focusNextPage(t,i)];case 3:s=u.sent();u.label=4;case 4:s;u.label=5;case 5:return[2]}}))}))};t.prototype.focusPreviousPage=function(t,i){return __awaiter(this,arguments,void 0,(function(t,i,n){var r,e,o,s,u,u,a;if(n===void 0){n=function(){return 0}}return __generator(this,(function(c){switch(c.label){case 0:e=n(),o=this.view.getScrollTop()+e;r=o===0?this.view.indexAt(o):this.view.indexAfter(o-1);s=this.getFocus()[0];if(!(s!==r&&(s===void 0||s>=r)))return[3,1];u=this.findNextIndex(r,!1,i);u>-1&&s!==u?this.setFocus([u],t):this.setFocus([r],t);return[3,5];case 1:u=o;this.view.setScrollTop(o-this.view.renderHeight-e);a=this.view.getScrollTop()+n()!==u;if(!a)return[3,4];this.setFocus([]);return[4,Ws(0)];case 2:c.sent();return[4,this.focusPreviousPage(t,i,n)];case 3:a=c.sent();c.label=4;case 4:a;c.label=5;case 5:return[2]}}))}))};t.prototype.focusLast=function(t,i){if(this.length===0)return;var n=this.findPreviousIndex(this.length-1,!1,i);n>-1&&this.setFocus([n],t)};t.prototype.focusFirst=function(t,i){this.focusNth(0,t,i)};t.prototype.focusNth=function(t,i,n){if(this.length===0)return;var r=this.findNextIndex(t,!1,n);r>-1&&this.setFocus([r],i)};t.prototype.findNextIndex=function(t,i,n){if(i===void 0){i=!1}for(var r=0;r<this.length;r++){if(t>=this.length&&!i)return-1;if(t%=this.length,!n||n(this.element(t)))return t;t++}return-1};t.prototype.findPreviousIndex=function(t,i,n){if(i===void 0){i=!1}for(var r=0;r<this.length;r++){if(t<0&&!i)return-1;if(t=(this.length+t%this.length)%this.length,!n||n(this.element(t)))return t;t--}return-1};t.prototype.getFocus=function(){return this.focus.get()};t.prototype.getFocusedElements=function(){var t=this;return this.getFocus().map((function(i){return t.view.element(i)}))};t.prototype.reveal=function(t,i,n){if(n===void 0){n=0}if(t<0||t>=this.length)throw new PL(this.user,"Invalid index ".concat(t));var r=this.view.getScrollTop(),e=this.view.elementTop(t),o=this.view.elementHeight(t);if(st(i)){var s=o-this.view.renderHeight+n;this.view.setScrollTop(s*OQ(i,0,1)+e-n)}else{var s=e+o,u=r+this.view.renderHeight;e<r+n&&s>=u||(e<r+n||s>=u&&o>=this.view.renderHeight?this.view.setScrollTop(e-n):s>=u&&this.view.setScrollTop(s-this.view.renderHeight))}};t.prototype.getRelativeTop=function(t,i){if(i===void 0){i=0}if(t<0||t>=this.length)throw new PL(this.user,"Invalid index ".concat(t));var n=this.view.getScrollTop(),r=this.view.elementTop(t),e=this.view.elementHeight(t);if(r<n+i||r+e>n+this.view.renderHeight)return null;var o=e-this.view.renderHeight+i;return Math.abs((n+i-r)/o)};t.prototype.getHTMLElement=function(){return this.view.domNode};t.prototype.getScrollableElement=function(){return this.view.scrollableElementDomNode};t.prototype.getElementID=function(t){return this.view.getElementDomId(t)};t.prototype.getElementTop=function(t){return this.view.elementTop(t)};t.prototype.style=function(t){this.styleController.style(t)};t.prototype.toListEvent=function(t){var i=this;var n=t.indexes,r=t.browserEvent;return{indexes:n,elements:n.map((function(t){return i.view.element(t)})),browserEvent:r}};t.prototype._onFocusChange=function(){var t=this.focus.get();this.view.domNode.classList.toggle("element-focused",t.length>0),this.onDidChangeActiveDescendant()};t.prototype.onDidChangeActiveDescendant=function(){var t;var i=this.focus.get();if(i.length>0){var n=void 0;!((t=this.accessibilityProvider)===null||t===void 0)&&t.getActiveDescendantId&&(n=this.accessibilityProvider.getActiveDescendantId(this.view.element(i[0]))),this.view.domNode.setAttribute("aria-activedescendant",n||this.view.getElementDomId(i[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")};t.prototype._onSelectionChange=function(){var t=this.selection.get();this.view.domNode.classList.toggle("selection-none",t.length===0),this.view.domNode.classList.toggle("selection-single",t.length===1),this.view.domNode.classList.toggle("selection-multiple",t.length>1)};t.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()};return t}();Pj([vk],bz.prototype,"onDidChangeFocus",null),Pj([vk],bz.prototype,"onDidChangeSelection",null),Pj([vk],bz.prototype,"onContextMenu",null),Pj([vk],bz.prototype,"onKeyDown",null),Pj([vk],bz.prototype,"onDidFocus",null),Pj([vk],bz.prototype,"onDidBlur",null);var yz=Nc,kz="selectOption.entry.template";var xz=function(){function t(){}Object.defineProperty(t.prototype,"templateId",{get:function(){return kz},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){var i=Object.create(null);return i.root=t,i.text=_c(t,yz(".option-text")),i.detail=_c(t,yz(".option-detail")),i.decoratorRight=_c(t,yz(".option-decorator-right")),i};t.prototype.renderElement=function(t,i,n){var r=n,e=t.text,o=t.detail,s=t.decoratorRight,u=t.isDisabled;r.text.textContent=e,r.detail.textContent=o||"",r.decoratorRight.innerText=s||"",u?r.root.classList.add("option-disabled"):r.root.classList.remove("option-disabled")};t.prototype.disposeTemplate=function(t){};return t}();var Ez=function(t){__extends(i,t);function i(n,r,e,o,s){var u=this;u=t.call(this)||this,u.options=[],u._currentSelection=0,u._hasDetails=!1,u._skipLayout=!1,u._sticky=!1,u._isVisible=!1,u.styles=o,u.selectBoxOptions=s||Object.create(null),typeof u.selectBoxOptions.minBottomMargin!="number"?u.selectBoxOptions.minBottomMargin=i.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:u.selectBoxOptions.minBottomMargin<0&&(u.selectBoxOptions.minBottomMargin=0),u.selectElement=document.createElement("select"),u.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof u.selectBoxOptions.ariaLabel=="string"&&u.selectElement.setAttribute("aria-label",u.selectBoxOptions.ariaLabel),typeof u.selectBoxOptions.ariaDescription=="string"&&u.selectElement.setAttribute("aria-description",u.selectBoxOptions.ariaDescription),u._onDidSelect=new Ln,u._register(u._onDidSelect),u.registerListeners(),u.constructSelectDropDown(e),u.selected=r||0,n&&u.setOptions(n,r),u.initStyleSheet();return u}i.prototype.setTitle=function(t){!this._hover&&t?this._hover=this._register(YL(jL("mouse"),this.selectElement,t)):this._hover&&this._hover.update(t)};i.prototype.getHeight=function(){return 22};i.prototype.getTemplateId=function(){return kz};i.prototype.constructSelectDropDown=function(t){this.contextViewProvider=t,this.selectDropDownContainer=Nc(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=_c(this.selectDropDownContainer,yz(".select-box-details-pane"));var i=_c(this.selectDropDownContainer,yz(".select-box-dropdown-container-width-control")),n=_c(i,yz(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",_c(n,this.widthControlElement),this._dropDownPosition=0,this.styleElement=dc(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(Oa(this.selectDropDownContainer,Ec.DRAG_START,(function(t){Cc(t,!0)})))};i.prototype.registerListeners=function(){var t=this;var i;this._register(Ra(this.selectElement,"change",(function(i){t.selected=i.target.selectedIndex,t._onDidSelect.fire({index:i.target.selectedIndex,selected:i.target.value}),t.options[t.selected]&&t.options[t.selected].text&&t.setTitle(t.options[t.selected].text)}))),this._register(Oa(this.selectElement,Ec.CLICK,(function(i){Cc(i),t._isVisible?t.hideSelectDropDown(!0):t.showSelectDropDown()}))),this._register(Oa(this.selectElement,Ec.MOUSE_DOWN,(function(t){Cc(t)}))),this._register(Oa(this.selectElement,"touchstart",(function(n){i=t._isVisible}))),this._register(Oa(this.selectElement,"touchend",(function(n){Cc(n),i?t.hideSelectDropDown(!0):t.showSelectDropDown()}))),this._register(Oa(this.selectElement,Ec.KEY_DOWN,(function(i){var n=new Qs(i);var r=!1;Gt?n.keyCode!==18&&n.keyCode!==16&&n.keyCode!==10&&n.keyCode!==3||(r=!0):(n.keyCode===18&&n.altKey||n.keyCode===16&&n.altKey||n.keyCode===10||n.keyCode===3)&&(r=!0),r&&(t.showSelectDropDown(),Cc(i,!0))})))};Object.defineProperty(i.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:false,configurable:true});i.prototype.setOptions=function(t,i){var n=this;_(this.options,t)||(this.options=t,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((function(t,i){n.selectElement.add(n.createOption(t.text,i,t.isDisabled)),typeof t.description=="string"&&(n._hasDetails=!0)}))),i!==void 0&&(this.select(i),this._currentSelection=this.selected)};i.prototype.setOptionsList=function(){var t;(t=this.selectList)===null||t===void 0||t.splice(0,this.selectList.length,this.options)};i.prototype.select=function(t){t>=0&&t<this.options.length?this.selected=t:t>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)};i.prototype.focus=function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())};i.prototype.blur=function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())};i.prototype.setFocusable=function(t){this.selectElement.tabIndex=t?0:-1};i.prototype.render=function(t){this.container=t,t.classList.add("select-container"),t.appendChild(this.selectElement),this.styleSelectElement()};i.prototype.initStyleSheet=function(){var t=[];this.styles.listFocusBackground&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ".concat(this.styles.listFocusBackground," !important; }")),this.styles.listFocusForeground&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ".concat(this.styles.listFocusForeground," !important; }")),this.styles.decoratorRightForeground&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ".concat(this.styles.decoratorRightForeground,"; }")),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(t.push(".monaco-select-box-dropdown-container { border: 1px solid ".concat(this.styles.selectBorder," } ")),t.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectBorder," } ")),t.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectBorder," } "))):this.styles.selectListBorder&&(t.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectListBorder," } ")),t.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectListBorder," } "))),this.styles.listHoverForeground&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ".concat(this.styles.listHoverForeground," !important; }")),this.styles.listHoverBackground&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ".concat(this.styles.listHoverBackground," !important; }")),this.styles.listFocusOutline&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ".concat(this.styles.listFocusOutline," !important; outline-offset: -1.6px !important; }")),this.styles.listHoverOutline&&t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ".concat(this.styles.listHoverOutline," !important; outline-offset: -1.6px !important; }")),t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),t.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=t.join("\n")};i.prototype.styleSelectElement=function(){var t,i,n;var r=(t=this.styles.selectBackground)!==null&&t!==void 0?t:"",e=(i=this.styles.selectForeground)!==null&&i!==void 0?i:"",o=(n=this.styles.selectBorder)!==null&&n!==void 0?n:"";this.selectElement.style.backgroundColor=r,this.selectElement.style.color=e,this.selectElement.style.borderColor=o};i.prototype.styleList=function(){var t,i;var n=(t=this.styles.selectBackground)!==null&&t!==void 0?t:"",r=Hc(this.styles.selectListBackground,n);this.selectDropDownListContainer.style.backgroundColor=r,this.selectionDetailsPane.style.backgroundColor=r;var e=(i=this.styles.focusBorder)!==null&&i!==void 0?i:"";this.selectDropDownContainer.style.outlineColor=e,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)};i.prototype.createOption=function(t,i,n){var r=document.createElement("option");return r.value=t,r.text=t,r.disabled=!!n,r};i.prototype.showSelectDropDown=function(){var t=this;this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:function(){return t.selectElement},render:function(i){return t.renderSelectDropDown(i,!0)},layout:function(){t.layoutSelectDropDown()},onHide:function(){t.selectDropDownContainer.classList.remove("visible"),t.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:function(){return t.selectElement},render:function(i){return t.renderSelectDropDown(i)},layout:function(){return t.layoutSelectDropDown()},onHide:function(){t.selectDropDownContainer.classList.remove("visible"),t.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))};i.prototype.hideSelectDropDown=function(t){this.contextViewProvider&&this._isVisible&&(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),t&&this.selectElement.focus(),this.contextViewProvider.hideContextView())};i.prototype.renderSelectDropDown=function(t,i){var n=this;return t.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(i),{dispose:function(){try{t.removeChild(n.selectDropDownContainer)}catch(t){}}}};i.prototype.measureMaxDetailsHeight=function(){var t=this;var i=0;return this.options.forEach((function(n,r){t.updateDetail(r),t.selectionDetailsPane.offsetHeight>i&&(i=t.selectionDetailsPane.offsetHeight)})),i};i.prototype.layoutSelectDropDown=function(t){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");var n=ka(this.selectElement),r=Ka(this.selectElement),e=ka(this.selectElement).getComputedStyle(this.selectElement),o=parseFloat(e.getPropertyValue("--dropdown-padding-top"))+parseFloat(e.getPropertyValue("--dropdown-padding-bottom")),s=n.innerHeight-r.top-r.height-(this.selectBoxOptions.minBottomMargin||0),u=r.top-i.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,a=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),h=Math.max(c,Math.round(a)).toString()+"px";this.selectDropDownContainer.style.width=h,this.selectList.getHTMLElement().style.height="",this.selectList.layout();var f=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());var l=this._hasDetails?this._cachedMaxDetailsHeight:0,d=f+o+l,v=Math.floor((s-o-l)/this.getHeight()),A=Math.floor((u-o-l)/this.getHeight());if(t)return!(r.top+r.height>n.innerHeight-22||r.top<i.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||v<1&&A<1)&&(v<i.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&A>v&&this.options.length>v?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(r.top+r.height>n.innerHeight-22||r.top<i.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&v<1||this._dropDownPosition===1&&A<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&v+A<1)return this.hideSelectDropDown(!0),!1;d>s&&(f=v*this.getHeight())}else d>u&&(f=A*this.getHeight());return this.selectList.layout(f),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=f+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=f+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=h,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1};i.prototype.setWidthControlElement=function(t){var i=0;if(t){var n=0,r=0;this.options.forEach((function(t,i){var e=t.detail?t.detail.length:0,o=t.decoratorRight?t.decoratorRight.length:0,s=t.text.length+e+o;s>r&&(n=i,r=s)})),t.textContent=this.options[n].text+(this.options[n].decoratorRight?this.options[n].decoratorRight+" ":""),i=qa(t)}return i};i.prototype.createSelectList=function(t){var i=this;if(this.selectList)return;this.selectDropDownListContainer=_c(t,yz(".select-box-dropdown-list-container")),this.listRenderer=new xz,this.selectList=new bz("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(t){var i=t.text;return t.detail&&(i+=". ".concat(t.detail)),t.decoratorRight&&(i+=". ".concat(t.decoratorRight)),t.description&&(i+=". ".concat(t.description)),i},getWidgetAriaLabel:function(){return Bt(0,"Select Box")},getRole:function(){return Gt?"":"option"},getWidgetRole:function(){return"listbox"}}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);var n=this._register(new Hk(this.selectDropDownListContainer,"keydown")),r=Qn.chain(n.event,(function(t){return t.filter((function(){return i.selectList.length>0})).map((function(t){return new Qs(t)}))}));this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===3}))}))(this.onEnter,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===2}))}))(this.onEnter,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===9}))}))(this.onEscape,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===16}))}))(this.onUpArrow,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===18}))}))(this.onDownArrow,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===12}))}))(this.onPageDown,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===11}))}))(this.onPageUp,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===14}))}))(this.onHome,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode===13}))}))(this.onEnd,this)),this._register(Qn.chain(r,(function(t){return t.filter((function(t){return t.keyCode>=21&&t.keyCode<=56||t.keyCode>=85&&t.keyCode<=113}))}))(this.onCharacter,this)),this._register(Oa(this.selectList.getHTMLElement(),Ec.POINTER_UP,(function(t){return i.onPointerUp(t)}))),this._register(this.selectList.onMouseOver((function(t){return t.index!==void 0&&i.selectList.setFocus([t.index])}))),this._register(this.selectList.onDidChangeFocus((function(t){return i.onListFocus(t)}))),this._register(Oa(this.selectDropDownContainer,Ec.FOCUS_OUT,(function(t){i._isVisible&&!ic(t.relatedTarget,i.selectDropDownContainer)&&i.onListBlur()}))),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()};i.prototype.onPointerUp=function(t){if(!this.selectList.length)return;Cc(t);var i=t.target;if(!i||i.classList.contains("slider"))return;var n=i.closest(".monaco-list-row");if(!n)return;var r=Number(n.getAttribute("data-index")),e=n.classList.contains("option-disabled");r>=0&&r<this.options.length&&!e&&(this.selected=r,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))};i.prototype.onListBlur=function(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))};i.prototype.renderDescriptionMarkdown=function(t,i){var n=function(t){for(var i=0;i<t.childNodes.length;i++){var r=t.childNodes.item(i);(r.tagName&&r.tagName.toLowerCase())==="img"?t.removeChild(r):n(r)}},r=bR({value:t,supportThemeIcons:!0},{actionHandler:i});return r.element.classList.add("select-box-description-markdown"),n(r.element),r.element};i.prototype.onListFocus=function(t){this._isVisible&&this._hasDetails&&this.updateDetail(t.indexes[0])};i.prototype.updateDetail=function(t){var i,n;this.selectionDetailsPane.innerText="";var r=this.options[t],e=(i=r==null?void 0:r.description)!==null&&i!==void 0?i:"",o=(n=r==null?void 0:r.descriptionIsMarkdown)!==null&&n!==void 0&&n;if(e){if(o){var s=r.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(e,s))}else this.selectionDetailsPane.innerText=e;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1};i.prototype.onEscape=function(t){Cc(t),this.select(this._currentSelection),this.hideSelectDropDown(!0)};i.prototype.onEnter=function(t){Cc(t),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)};i.prototype.onDownArrow=function(t){if(this.selected<this.options.length-1){Cc(t,!0);var i=this.options[this.selected+1].isDisabled;if(i&&this.options.length>this.selected+2)this.selected+=2;else{if(i)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}};i.prototype.onUpArrow=function(t){this.selected>0&&(Cc(t,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))};i.prototype.onPageUp=function(t){var i=this;Cc(t),this.selectList.focusPreviousPage(),setTimeout((function(){i.selected=i.selectList.getFocus()[0],i.options[i.selected].isDisabled&&i.selected<i.options.length-1&&(i.selected++,i.selectList.setFocus([i.selected])),i.selectList.reveal(i.selected),i.select(i.selected)}),1)};i.prototype.onPageDown=function(t){var i=this;Cc(t),this.selectList.focusNextPage(),setTimeout((function(){i.selected=i.selectList.getFocus()[0],i.options[i.selected].isDisabled&&i.selected>0&&(i.selected--,i.selectList.setFocus([i.selected])),i.selectList.reveal(i.selected),i.select(i.selected)}),1)};i.prototype.onHome=function(t){Cc(t),this.options.length<2||(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))};i.prototype.onEnd=function(t){Cc(t),this.options.length<2||(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))};i.prototype.onCharacter=function(t){var i=er.toString(t.keyCode);var n=-1;for(var r=0;r<this.options.length-1;r++)if(n=(r+this.selected+1)%this.options.length,this.options[n].text.charAt(0).toUpperCase()===i&&!this.options[n].isDisabled){this.select(n),this.selectList.setFocus([n]),this.selectList.reveal(this.selectList.getFocus()[0]),Cc(t);break}};i.prototype.dispose=function(){this.hideSelectDropDown(!1),t.prototype.dispose.call(this)};return i}(Cn);Ez.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,Ez.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,Ez.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;var Bz=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o.selected=0,o.selectBoxOptions=e||Object.create(null),o.options=[],o.selectElement=document.createElement("select"),o.selectElement.className="monaco-select-box",typeof o.selectBoxOptions.ariaLabel=="string"&&o.selectElement.setAttribute("aria-label",o.selectBoxOptions.ariaLabel),typeof o.selectBoxOptions.ariaDescription=="string"&&o.selectElement.setAttribute("aria-description",o.selectBoxOptions.ariaDescription),o._onDidSelect=o._register(new Ln),o.styles=r,o.registerListeners(),o.setOptions(i,n);return o}i.prototype.registerListeners=function(){var t=this;this._register(wk.addTarget(this.selectElement)),[Ak.Tap].forEach((function(i){t._register(Oa(t.selectElement,i,(function(i){t.selectElement.focus()})))})),this._register(Ra(this.selectElement,"click",(function(t){Cc(t,!0)}))),this._register(Ra(this.selectElement,"change",(function(i){t.selectElement.title=i.target.value,t._onDidSelect.fire({index:i.target.selectedIndex,selected:i.target.value})}))),this._register(Ra(this.selectElement,"keydown",(function(t){var i=!1;Gt?t.keyCode!==18&&t.keyCode!==16&&t.keyCode!==10||(i=!0):(t.keyCode===18&&t.altKey||t.keyCode===10||t.keyCode===3)&&(i=!0),i&&t.stopPropagation()})))};Object.defineProperty(i.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:false,configurable:true});i.prototype.setOptions=function(t,i){var n=this;this.options&&_(this.options,t)||(this.options=t,this.selectElement.options.length=0,this.options.forEach((function(t,i){n.selectElement.add(n.createOption(t.text,i,t.isDisabled))}))),i!==void 0&&this.select(i)};i.prototype.select=function(t){this.options.length===0?this.selected=0:t>=0&&t<this.options.length?this.selected=t:t>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""};i.prototype.focus=function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())};i.prototype.blur=function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())};i.prototype.setFocusable=function(t){this.selectElement.tabIndex=t?0:-1};i.prototype.render=function(t){t.classList.add("select-container"),t.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()};i.prototype.applyStyles=function(){var t,i,n;this.selectElement&&(this.selectElement.style.backgroundColor=(t=this.styles.selectBackground)!==null&&t!==void 0?t:"",this.selectElement.style.color=(i=this.styles.selectForeground)!==null&&i!==void 0?i:"",this.selectElement.style.borderColor=(n=this.styles.selectBorder)!==null&&n!==void 0?n:"")};i.prototype.createOption=function(t,i,n){var r=document.createElement("option");return r.value=t,r.text=t,r.disabled=!!n,r};return i}(Cn);var Cz=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,Gt&&!(o!=null&&o.useCustomDrawn)?s.selectBoxDelegate=new Bz(i,n,e,o):s.selectBoxDelegate=new Ez(i,n,r,e,o),s._register(s.selectBoxDelegate);return s}Object.defineProperty(i.prototype,"onDidSelect",{get:function(){return this.selectBoxDelegate.onDidSelect},enumerable:false,configurable:true});i.prototype.setOptions=function(t,i){this.selectBoxDelegate.setOptions(t,i)};i.prototype.select=function(t){this.selectBoxDelegate.select(t)};i.prototype.focus=function(){this.selectBoxDelegate.focus()};i.prototype.blur=function(){this.selectBoxDelegate.blur()};i.prototype.setFocusable=function(t){this.selectBoxDelegate.setFocusable(t)};i.prototype.render=function(t){this.selectBoxDelegate.render(t)};return i}(pk);var Dz=function(t){__extends(i,t);function i(i,n,r){if(r===void 0){r={}}var e=this;e=t.call(this)||this,e.options=r,e._context=i||e,e._action=n,n instanceof gh&&e._register(n.onDidChange((function(t){e.element&&e.handleActionChangeEvent(t)})));return e}Object.defineProperty(i.prototype,"action",{get:function(){return this._action},enumerable:false,configurable:true});i.prototype.handleActionChangeEvent=function(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()};Object.defineProperty(i.prototype,"actionRunner",{get:function(){return this._actionRunner||(this._actionRunner=this._register(new wh)),this._actionRunner},set:function(t){this._actionRunner=t},enumerable:false,configurable:true});i.prototype.isEnabled=function(){return this._action.enabled};i.prototype.setActionContext=function(t){this._context=t};i.prototype.render=function(t){var i=this;var n=this.element=t;this._register(wk.addTarget(t));var r=this.options&&this.options.draggable;r&&(t.draggable=!0,ps&&this._register(Oa(t,Ec.DRAG_START,(function(t){var n;return(n=t.dataTransfer)===null||n===void 0?void 0:n.setData(NL.TEXT,i._action.label)})))),this._register(Oa(n,Ak.Tap,(function(t){return i.onClick(t,!0)}))),this._register(Oa(n,Ec.MOUSE_DOWN,(function(t){r||Cc(t,!0),i._action.enabled&&t.button===0&&n.classList.add("active")}))),Gt&&this._register(Oa(n,Ec.CONTEXT_MENU,(function(t){t.button===0&&t.ctrlKey===!0&&i.onClick(t)}))),this._register(Oa(n,Ec.CLICK,(function(t){Cc(t,!0),i.options&&i.options.isMenu||i.onClick(t)}))),this._register(Oa(n,Ec.DBLCLICK,(function(t){Cc(t,!0)}))),[Ec.MOUSE_UP,Ec.MOUSE_OUT].forEach((function(t){i._register(Oa(n,t,(function(t){Cc(t),n.classList.remove("active")})))}))};i.prototype.onClick=function(t,i){if(i===void 0){i=!1}var n;Cc(t,!0);var r=ft(this._context)?!((n=this.options)===null||n===void 0)&&n.useEventAsContext?t:{preserveFocus:i}:this._context;this.actionRunner.run(this._action,r)};i.prototype.focus=function(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))};i.prototype.blur=function(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))};i.prototype.setFocusable=function(t){this.element&&(this.element.tabIndex=t?0:-1)};Object.defineProperty(i.prototype,"trapsArrowNavigation",{get:function(){return!1},enumerable:false,configurable:true});i.prototype.updateEnabled=function(){};i.prototype.updateLabel=function(){};i.prototype.getClass=function(){return this.action.class};i.prototype.getTooltip=function(){return this.action.tooltip};i.prototype.updateTooltip=function(){var t,i,n;if(!this.element)return;var r=(t=this.getTooltip())!==null&&t!==void 0?t:"";if(this.updateAriaLabel(),(i=this.options.hoverDelegate)===null||i===void 0?void 0:i.showNativeHover)this.element.title=r;else if(this.customHover||r==="")this.customHover&&this.customHover.update(r);else{var e=(n=this.options.hoverDelegate)!==null&&n!==void 0?n:jL("element");this.customHover=this._store.add(YL(e,this.element,r))}};i.prototype.updateAriaLabel=function(){var t;if(this.element){var i=(t=this.getTooltip())!==null&&t!==void 0?t:"";this.element.setAttribute("aria-label",i)}};i.prototype.updateClass=function(){};i.prototype.updateChecked=function(){};i.prototype.dispose=function(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,t.prototype.dispose.call(this)};return i}(Cn);var Mz=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n,r)||this,e.options=r,e.options.icon=r.icon!==void 0&&r.icon,e.options.label=r.label===void 0||r.label,e.cssClass="";return e}i.prototype.render=function(i){t.prototype.render.call(this,i),lt(this.element);var n=document.createElement("a");if(n.classList.add("action-label"),n.setAttribute("role",this.getDefaultAriaRole()),this.label=n,this.element.appendChild(n),this.options.label&&this.options.keybinding){var r=document.createElement("span");r.classList.add("keybinding"),r.textContent=this.options.keybinding,this.element.appendChild(r)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()};i.prototype.getDefaultAriaRole=function(){return this._action.id===ph.ID?"presentation":this.options.isMenu?"menuitem":"button"};i.prototype.focus=function(){this.label&&(this.label.tabIndex=0,this.label.focus())};i.prototype.blur=function(){this.label&&(this.label.tabIndex=-1)};i.prototype.setFocusable=function(t){this.label&&(this.label.tabIndex=t?0:-1)};i.prototype.updateLabel=function(){this.options.label&&this.label&&(this.label.textContent=this.action.label)};i.prototype.getTooltip=function(){var t=null;return this.action.tooltip?t=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(t=this.action.label,this.options.keybinding&&(t=Bt(0,"{0} ({1})",t,this.options.keybinding))),t!==null&&t!==void 0?t:void 0};i.prototype.updateClass=function(){var t,i;var n;this.cssClass&&this.label&&(t=this.label.classList).remove.apply(t,this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&(i=this.label.classList).add.apply(i,this.cssClass.split(" "))),this.updateEnabled()):(n=this.label)===null||n===void 0||n.classList.remove("codicon")};i.prototype.updateEnabled=function(){var t,i;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(t=this.element)===null||t===void 0||t.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(i=this.element)===null||i===void 0||i.classList.add("disabled"))};i.prototype.updateAriaLabel=function(){var t;if(this.label){var i=(t=this.getTooltip())!==null&&t!==void 0?t:"";this.label.setAttribute("aria-label",i)}};i.prototype.updateChecked=function(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))};return i}(Dz);var _z=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this,i,n)||this,a.selectBox=new Cz(r,e,o,s,u),a.selectBox.setFocusable(!1),a._register(a.selectBox),a.registerListeners();return a}i.prototype.select=function(t){this.selectBox.select(t)};i.prototype.registerListeners=function(){var t=this;this._register(this.selectBox.onDidSelect((function(i){return t.runAction(i.selected,i.index)})))};i.prototype.runAction=function(t,i){this.actionRunner.run(this._action,this.getActionContext(t,i))};i.prototype.getActionContext=function(t,i){return t};i.prototype.setFocusable=function(t){this.selectBox.setFocusable(t)};i.prototype.focus=function(){var t;(t=this.selectBox)===null||t===void 0||t.focus()};i.prototype.blur=function(){var t;(t=this.selectBox)===null||t===void 0||t.blur()};i.prototype.render=function(t){this.selectBox.render(t)};return i}(Dz);var Fz=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._onDidChangeVisibility=r._register(new Ln),r.onDidChangeVisibility=r._onDidChangeVisibility.event,r._element=_c(i,Nc(".monaco-dropdown")),r._label=_c(r._element,Nc(".dropdown-label"));var e=n.labelRenderer;e||(e=function(t){return t.textContent=n.label||"",null});for(var o=0,s=[Ec.CLICK,Ec.MOUSE_DOWN,Ak.Tap];o<s.length;o++){var u=s[o];r._register(Oa(r.element,u,(function(t){return Cc(t,!0)})))}for(var a=0,c=[Ec.MOUSE_DOWN,Ak.Tap];a<c.length;a++){var u=c[a];r._register(Oa(r._label,u,(function(t){kc(t)&&(t.detail>1||t.button!==0)||(r.visible?r.hide():r.show())})))}r._register(Oa(r._label,Ec.KEY_UP,(function(t){var i=new Qs(t);(i.equals(3)||i.equals(10))&&(Cc(t,!0),r.visible?r.hide():r.show())})));var h=e(r._label);h&&r._register(h),r._register(wk.addTarget(r._label));return r}Object.defineProperty(i.prototype,"element",{get:function(){return this._element},enumerable:false,configurable:true});i.prototype.show=function(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))};i.prototype.hide=function(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)};return i}(wh);var Sz=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i,n)||this,r._options=n,r._actions=[],r.actions=n.actions||[];return r}Object.defineProperty(i.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(t){this._menuOptions=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"actions",{get:function(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions},set:function(t){this._actions=t},enumerable:false,configurable:true});i.prototype.show=function(){var i=this;t.prototype.show.call(this),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:function(){return i.element},getActions:function(){return i.actions},getActionsContext:function(){return i.menuOptions?i.menuOptions.context:null},getActionViewItem:function(t,n){return i.menuOptions&&i.menuOptions.actionViewItemProvider?i.menuOptions.actionViewItemProvider(t,n):void 0},getKeyBinding:function(t){return i.menuOptions&&i.menuOptions.getKeyBinding?i.menuOptions.getKeyBinding(t):void 0},getMenuClassName:function(){return i._options.menuClassName||""},onHide:function(){return i.onHide()},actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})};i.prototype.hide=function(){t.prototype.hide.call(this)};i.prototype.onHide=function(){this.hide(),this.element.classList.remove("active")};return i}(Fz);var Iz=function(t){__extends(i,t);function i(i,n,r,e){if(e===void 0){e=Object.create(null)}var o=this;o=t.call(this,null,i,e)||this,o.actionItem=null,o._onDidChangeVisibility=o._register(new Ln),o.onDidChangeVisibility=o._onDidChangeVisibility.event,o.menuActionsOrProvider=n,o.contextMenuProvider=r,o.options=e,o.options.actionRunner&&(o.actionRunner=o.options.actionRunner);return o}i.prototype.render=function(t){var i=this;this.actionItem=t;var n=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:function(t){var n;var r;i.element=_c(t,Nc("a.action-label"));var e=[];return typeof i.options.classNames=="string"?e=i.options.classNames.split(/\s+/g).filter((function(t){return!!t})):i.options.classNames&&(e=i.options.classNames),e.find((function(t){return t==="icon"}))||e.push("codicon"),(n=i.element.classList).add.apply(n,e),i.element.setAttribute("role","button"),i.element.setAttribute("aria-haspopup","true"),i.element.setAttribute("aria-expanded","false"),i._action.label&&i._register(YL((r=i.options.hoverDelegate)!==null&&r!==void 0?r:jL("mouse"),i.element,i._action.label)),i.element.ariaLabel=i._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new Sz(t,r)),this._register(this.dropdownMenu.onDidChangeVisibility((function(t){var n;(n=i.element)===null||n===void 0||n.setAttribute("aria-expanded","".concat(t)),i._onDidChangeVisibility.fire(t)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){var e=this;this.dropdownMenu.menuOptions=__assign(__assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()};i.prototype.getTooltip=function(){var t=null;return this.action.tooltip?t=this.action.tooltip:this.action.label&&(t=this.action.label),t!==null&&t!==void 0?t:void 0};i.prototype.setActionContext=function(i){t.prototype.setActionContext.call(this,i),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=i:this.dropdownMenu.menuOptions={context:i})};i.prototype.show=function(){var t;(t=this.dropdownMenu)===null||t===void 0||t.show()};i.prototype.updateEnabled=function(){var t,i;var n=!this.action.enabled;(t=this.actionItem)===null||t===void 0||t.classList.toggle("disabled",n),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",n)};return i}(Dz);var Qz,Oz;(function(t){t[t.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",t[t.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(Qz||(Qz={})),function(t){t[t.None=0]="None",t[t.Initialized=1]="Initialized",t[t.Closed=2]="Closed"}(Oz||(Oz={}));var Nz=function(t){__extends(i,t);function i(n,r){if(r===void 0){r=Object.create(null)}var e=this;e=t.call(this)||this,e.database=n,e.options=r,e._onDidChangeStorage=e._register(new zn),e.onDidChangeStorage=e._onDidChangeStorage.event,e.state=Oz.None,e.cache=new Map,e.flushDelayer=e._register(new Ps(i.DEFAULT_FLUSH_DELAY)),e.pendingDeletes=new Set,e.pendingInserts=new Map,e.whenFlushedCallbacks=[],e.registerListeners();return e}i.prototype.registerListeners=function(){var t=this;this._register(this.database.onDidChangeItemsExternal((function(i){return t.onDidChangeItemsExternal(i)})))};i.prototype.onDidChangeItemsExternal=function(t){var i=this;var n,r;this._onDidChangeStorage.pause();try{(n=t.changed)===null||n===void 0||n.forEach((function(t,n){return i.acceptExternal(n,t)})),(r=t.deleted)===null||r===void 0||r.forEach((function(t){return i.acceptExternal(t,void 0)}))}finally{this._onDidChangeStorage.resume()}};i.prototype.acceptExternal=function(t,i){if(this.state===Oz.Closed)return;var n=!1;ft(i)?n=this.cache.delete(t):this.cache.get(t)!==i&&(this.cache.set(t,i),n=!0),n&&this._onDidChangeStorage.fire({key:t,external:!0})};i.prototype.get=function(t,i){var n=this.cache.get(t);return ft(n)?i:n};i.prototype.getBoolean=function(t,i){var n=this.get(t);return ft(n)?i:n==="true"};i.prototype.getNumber=function(t,i){var n=this.get(t);return ft(n)?i:parseInt(n,10)};i.prototype.set=function(t,i){return __awaiter(this,arguments,void 0,(function(t,i,n){var r,e;if(n===void 0){n=!1}return __generator(this,(function(o){if(this.state===Oz.Closed)return[2];if(ft(i))return[2,this.delete(t,n)];r=et(i)||Array.isArray(i)?(e=i,JSON.stringify(e,wR)):String(i);return[2,this.cache.get(t)!==r?(this.cache.set(t,r),this.pendingInserts.set(t,r),this.pendingDeletes.delete(t),this._onDidChangeStorage.fire({key:t,external:n}),this.doFlush()):void 0]}))}))};i.prototype.delete=function(t){return __awaiter(this,arguments,void 0,(function(t,i){if(i===void 0){i=!1}return __generator(this,(function(n){if(this.state!==Oz.Closed)return[2,this.cache.delete(t)?(this.pendingDeletes.has(t)||this.pendingDeletes.add(t),this.pendingInserts.delete(t),this._onDidChangeStorage.fire({key:t,external:i}),this.doFlush()):void 0];return[2]}))}))};Object.defineProperty(i.prototype,"hasPending",{get:function(){return this.pendingInserts.size>0||this.pendingDeletes.size>0},enumerable:false,configurable:true});i.prototype.flushPending=function(){return __awaiter(this,void 0,void 0,(function(){var t;var i=this;return __generator(this,(function(n){if(!this.hasPending)return[2];t={insert:this.pendingInserts,delete:this.pendingDeletes};return[2,(this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(t).finally((function(){var t;if(!i.hasPending)for(;i.whenFlushedCallbacks.length;)(t=i.whenFlushedCallbacks.pop())===null||t===void 0||t()})))]}))}))};i.prototype.doFlush=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){return[2,this.options.hint===Qz.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger((function(){return i.flushPending()}),t)]}))}))};return i}(Cn);Nz.DEFAULT_FLUSH_DELAY=100;var Rz=function(){function t(){this.onDidChangeItemsExternal=Qn.None,this.items=new Map}t.prototype.updateItems=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;var r=this;return __generator(this,(function(e){(i=t.insert)===null||i===void 0||i.forEach((function(t,i){return r.items.set(i,t)})),(n=t.delete)===null||n===void 0||n.forEach((function(t){return r.items.delete(t)}));return[2]}))}))};return t}();var Tz="__$__targetStorageMarker",Lz=lh("storageService");var jz;(function(t){t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN"})(jz||(jz={}));var zz=function(t){__extends(i,t);function i(n){if(n===void 0){n={flushInterval:i.DEFAULT_FLUSH_INTERVAL}}var r=this;r=t.call(this)||this,r.options=n,r._onDidChangeValue=r._register(new zn),r._onDidChangeTarget=r._register(new zn),r._onWillSaveState=r._register(new Ln),r.onWillSaveState=r._onWillSaveState.event,r._workspaceKeyTargets=void 0,r._profileKeyTargets=void 0,r._applicationKeyTargets=void 0;return r}i.prototype.onDidChangeValue=function(t,i,n){return Qn.filter(this._onDidChangeValue.event,(function(n){return n.scope===t&&(i===void 0||n.key===i)}),n)};i.prototype.emitDidChangeValue=function(t,i){var n=i.key,r=i.external;if(n===Tz){switch(t){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:t})}else this._onDidChangeValue.fire({scope:t,key:n,target:this.getKeyTargets(t)[n],external:r})};i.prototype.get=function(t,i,n){var r;return(r=this.getStorage(i))===null||r===void 0?void 0:r.get(t,n)};i.prototype.getBoolean=function(t,i,n){var r;return(r=this.getStorage(i))===null||r===void 0?void 0:r.getBoolean(t,n)};i.prototype.getNumber=function(t,i,n){var r;return(r=this.getStorage(i))===null||r===void 0?void 0:r.getNumber(t,n)};i.prototype.store=function(t,i,n,r,e){var o=this;if(e===void 0){e=!1}ft(i)?this.remove(t,n,e):this.withPausedEmitters((function(){var s;o.updateKeyTarget(t,n,r),(s=o.getStorage(n))===null||s===void 0||s.set(t,i,e)}))};i.prototype.remove=function(t,i,n){var r=this;if(n===void 0){n=!1}this.withPausedEmitters((function(){var e;r.updateKeyTarget(t,i,void 0),(e=r.getStorage(i))===null||e===void 0||e.delete(t,n)}))};i.prototype.withPausedEmitters=function(t){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{t()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}};i.prototype.updateKeyTarget=function(t,i,n,r){if(r===void 0){r=!1}var e,o;var s=this.getKeyTargets(i);typeof n=="number"?s[t]!==n&&(s[t]=n,(e=this.getStorage(i))===null||e===void 0||e.set(Tz,JSON.stringify(s),r)):typeof s[t]=="number"&&(delete s[t],(o=this.getStorage(i))===null||o===void 0||o.set(Tz,JSON.stringify(s),r))};Object.defineProperty(i.prototype,"workspaceKeyTargets",{get:function(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"profileKeyTargets",{get:function(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"applicationKeyTargets",{get:function(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets},enumerable:false,configurable:true});i.prototype.getKeyTargets=function(t){switch(t){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}};i.prototype.loadKeyTargets=function(t){var i=this.getStorage(t);return i?function(t){var i=t.get(Tz);if(i)try{return JSON.parse(i)}catch(t){}return Object.create(null)}(i):Object.create(null)};return i}(Cn);zz.DEFAULT_FLUSH_INTERVAL=6e4;var Uz={keybindingLabelBackground:ap(bb),keybindingLabelForeground:ap(yb),keybindingLabelBorder:ap(kb),keybindingLabelBottomBorder:ap(xb),keybindingLabelShadow:ap(gm)},Hz={buttonForeground:ap(cb),buttonSeparator:ap(hb),buttonBackground:ap(fb),buttonHoverBackground:ap(lb),buttonSecondaryForeground:ap(vb),buttonSecondaryBackground:ap(Ab),buttonSecondaryHoverBackground:ap(gb),buttonBorder:ap(db)},Yz={progressBarBackground:ap(Qp)},Jz={inputActiveOptionBorder:ap(Gm),inputActiveOptionForeground:ap(Km),inputActiveOptionBackground:ap(Vm)};ap(wb),ap(mb),ap(pb),ap(Rp),ap(Tp),ap(gm),ap(Ep),ap(Qm),ap(Om),ap(Nm),ap(Cp);var Pz={inputBackground:ap(Jm),inputForeground:ap(Pm),inputBorder:ap(Wm),inputValidationInfoBorder:ap(Zm),inputValidationInfoBackground:ap(Xm),inputValidationInfoForeground:ap(qm),inputValidationWarningBorder:ap(ib),inputValidationWarningBackground:ap($m),inputValidationWarningForeground:ap(tb),inputValidationErrorBorder:ap(eb),inputValidationErrorBackground:ap(nb),inputValidationErrorForeground:ap(rb)},Wz={listFilterWidgetBackground:ap(Pb),listFilterWidgetOutline:ap(Wb),listFilterWidgetNoMatchesOutline:ap(Gb),listFilterWidgetShadow:ap(Vb),inputBoxStyles:Pz,toggleStyles:Jz},Gz={badgeBackground:ap(Dp),badgeForeground:ap(Mp),badgeBorder:ap(Ep)};ap(bm),ap(mm),ap(ym),ap(ym),ap(km);var Vz={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:ap(Eb),listFocusForeground:ap(Bb),listFocusOutline:ap(Cb),listActiveSelectionBackground:ap(Mb),listActiveSelectionForeground:ap(_b),listActiveSelectionIconForeground:ap(Fb),listFocusAndSelectionOutline:ap(Db),listFocusAndSelectionBackground:ap(Mb),listFocusAndSelectionForeground:ap(_b),listInactiveSelectionBackground:ap(Sb),listInactiveSelectionIconForeground:ap(Qb),listInactiveSelectionForeground:ap(Ib),listInactiveFocusBackground:ap(Ob),listInactiveFocusOutline:ap(Nb),listHoverBackground:ap(Rb),listHoverForeground:ap(Tb),listDropOverBackground:ap(Lb),listDropBetweenBackground:ap(jb),listSelectionOutline:ap(Bp),listHoverOutline:ap(Bp),treeIndentGuidesStroke:ap(Kb),treeInactiveIndentGuidesStroke:ap(Xb),tableColumnsBorder:ap(qb),tableOddRowsBackgroundColor:ap(Zb)};function Kz(t){return function(t,i){var n=__assign({},i);for(var r in t){var e=t[r];n[r]=e!==void 0?ap(e):void 0}return n}(t,Vz)}var Xz={selectBackground:ap(ob),selectListBackground:ap(sb),selectForeground:ap(ub),decoratorRightForeground:ap(cy),selectBorder:ap(ab),focusBorder:ap(xp),listFocusBackground:ap(vy),listInactiveSelectionIconForeground:ap(dy),listFocusForeground:ap(ly),listFocusOutline:(qz=Bp,Zz=ZA.transparent.toString(),"var(".concat(up(qz),", ").concat(Zz,")")),listHoverBackground:ap(Rb),listHoverForeground:ap(Tb),listHoverOutline:ap(Bp),selectListBorder:ap(Lp),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0};var qz,Zz;var $z={shadowColor:ap(gm),borderColor:ap($b),foregroundColor:ap(ty),backgroundColor:ap(iy),selectionForegroundColor:ap(ny),selectionBackgroundColor:ap(ry),selectionBorderColor:ap(ey),separatorColor:ap(oy),scrollbarShadow:ap(_p),scrollbarSliderBackground:ap(Fp),scrollbarSliderHoverBackground:ap(Sp),scrollbarSliderActiveBackground:ap(Ip)};var tU=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},iU=function(t,i){return function(n,r){i(n,r,t)}};function nU(t,i,n,r,e,o){rU(t.getActions(i),n,!1,typeof r=="string"?function(t){return t===r}:r,e,o)}function rU(t,i,n,r,e,o){if(r===void 0){r=function(t){return t==="navigation"}}if(e===void 0){e=function(){return!1}}if(o===void 0){o=!1}var s,u;Array.isArray(i)?(s=i,u=i):(s=i.primary,u=i.secondary);var a=new Set;for(var c=0,h=t;c<h.length;c++){var f=h[c],l=f[0],d=f[1];var v=void 0;r(l)?(v=s,v.length>0&&o&&v.push(new ph)):(v=u,v.length>0&&v.push(new ph));for(var A=0,g=d;A<g.length;A++){var w=g[A];n&&(w=w instanceof Of&&w.alt?w.alt:w);var p=v.push(w);w instanceof mh&&a.add({group:l,action:w,index:p-1})}}for(var m=0,b=a;m<b.length;m++){var y=b[m],l=y.group,k=y.action,v=y.index;var w=r(l)?s:u,p=k.actions;e(k,l,w.length)&&w.splice.apply(w,__spreadArray([v,1],p,false))}}var eU=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;c=t.call(this,void 0,i,{icon:!(!i.class&&!i.item.icon),label:!i.class&&!i.item.icon,draggable:n==null?void 0:n.draggable,keybinding:n==null?void 0:n.keybinding,hoverDelegate:n==null?void 0:n.hoverDelegate})||this,c._keybindingService=r,c._notificationService=e,c._contextKeyService=o,c._themeService=s,c._contextMenuService=u,c._accessibilityService=a,c._wantsAltCommand=!1,c._itemClassDispose=c._register(new Dn),c._altKey=Jc.getInstance();return c}Object.defineProperty(i.prototype,"_menuItemAction",{get:function(){return this._action},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"_commandAction",{get:function(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction},enumerable:false,configurable:true});i.prototype.onClick=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:t.preventDefault(),t.stopPropagation();n.label=1;case 1:n.trys.push([1,3,,4]);return[4,this.actionRunner.run(this._commandAction,this._context)];case 2:n.sent();return[3,4];case 3:i=n.sent();this._notificationService.error(i);return[3,4];case 4:return[2]}}))}))};i.prototype.render=function(i){var n=this;if(t.prototype.render.call(this,i),i.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){var r=!1;var e=function(){var t;var i=!!(!((t=n._menuItemAction.alt)===null||t===void 0)&&t.enabled)&&(!n._accessibilityService.isMotionReduced()||r)&&(n._altKey.keyStatus.altKey||n._altKey.keyStatus.shiftKey&&r);i!==n._wantsAltCommand&&(n._wantsAltCommand=i,n.updateLabel(),n.updateTooltip(),n.updateClass())};this._register(this._altKey.event(e)),this._register(Oa(i,"mouseleave",(function(t){r=!1,e()}))),this._register(Oa(i,"mouseenter",(function(t){r=!0,e()}))),e()}};i.prototype.updateLabel=function(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)};i.prototype.getTooltip=function(){var t;var i=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),n=i&&i.getLabel(),r=this._commandAction.tooltip||this._commandAction.label;var e=n?Bt(0,"{0} ({1})",r,n):r;if(!this._wantsAltCommand&&(!((t=this._menuItemAction.alt)===null||t===void 0)&&t.enabled)){var o=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,s=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),u=s&&s.getLabel(),a=u?Bt(0,"{0} ({1})",o,u):o;e=Bt(0,"{0}\n[{1}] {2}",e,YT.modifierLabels[ei].altKey,a)}return e};i.prototype.updateClass=function(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))};i.prototype._updateItemClass=function(t){var i;var n=this;this._itemClassDispose.value=void 0;var r=this,e=r.element,o=r.label;if(!e||!o)return;var s=this._commandAction.checked&&(u=t.toggled)&&u.condition!==void 0&&t.toggled.icon?t.toggled.icon:t.icon;var u;if(s)if(xh.isThemeIcon(s)){var a=xh.asClassNameArray(s);(i=o.classList).add.apply(i,a),this._itemClassDispose.value=En((function(){var t;(t=o.classList).remove.apply(t,a)}))}else o.style.backgroundImage=Uy(this._themeService.getColorTheme().type)?zc(s.dark):zc(s.light),o.classList.add("icon"),this._itemClassDispose.value=xn(En((function(){o.style.backgroundImage="",o.classList.remove("icon")})),this._themeService.onDidColorThemeChange((function(){n.updateClass()})))};return i}(Mz);eU=tU([iU(2,vE),iU(3,PI),iU(4,hf),iU(5,ex),iU(6,TO),iU(7,Kw)],eU);var oU=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;var u,a,c;var h=__assign(__assign({},n),{menuAsChild:(u=n==null?void 0:n.menuAsChild)!==null&&u!==void 0&&u,classNames:(a=n==null?void 0:n.classNames)!==null&&a!==void 0?a:xh.isThemeIcon(i.item.icon)?xh.asClassName(i.item.icon):void 0,keybindingProvider:(c=n==null?void 0:n.keybindingProvider)!==null&&c!==void 0?c:function(t){return r.lookupKeybinding(t.id)}});s=t.call(this,i,{getActions:function(){return i.actions}},e,h)||this,s._keybindingService=r,s._contextMenuService=e,s._themeService=o;return s}i.prototype.render=function(i){var n=this;t.prototype.render.call(this,i),lt(this.element),i.classList.add("menu-entry");var r=this._action,e=r.item.icon;if(e&&!xh.isThemeIcon(e)){this.element.classList.add("icon");var o=function(){n.element&&(n.element.style.backgroundImage=Uy(n._themeService.getColorTheme().type)?zc(e.dark):zc(e.light))};o(),this._register(this._themeService.onDidColorThemeChange((function(){o()})))}};return i}(Iz);oU=tU([iU(2,vE),iU(3,TO),iU(4,ex)],oU);var sU=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;var h,f,l;var d;c=t.call(this,null,i)||this,c._keybindingService=r,c._notificationService=e,c._contextMenuService=o,c._menuService=s,c._instaService=u,c._storageService=a,c._container=null,c._options=n,c._storageKey="".concat(i.item.submenu.id,"_lastActionId");var v=n!=null&&n.persistLastActionId?a.get(c._storageKey,1):void 0;v&&(d=i.actions.find((function(t){return v===t.id}))),d||(d=i.actions[0]),c._defaultAction=c._instaService.createInstance(eU,d,{keybinding:c._getDefaultActionKeybindingLabel(d)});var A=__assign(__assign({keybindingProvider:function(t){return c._keybindingService.lookupKeybinding(t.id)}},n),{menuAsChild:(h=n==null?void 0:n.menuAsChild)===null||h===void 0||h,classNames:(f=n==null?void 0:n.classNames)!==null&&f!==void 0?f:["codicon","codicon-chevron-down"],actionRunner:(l=n==null?void 0:n.actionRunner)!==null&&l!==void 0?l:new wh});c._dropdown=new Iz(i,i.actions,c._contextMenuService,A),c._register(c._dropdown.actionRunner.onDidRun((function(t){t.action instanceof Of&&c.update(t.action)})));return c}i.prototype.update=function(t){var i;!((i=this._options)===null||i===void 0)&&i.persistLastActionId&&this._storageService.store(this._storageKey,t.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(eU,t,{keybinding:this._getDefaultActionKeybindingLabel(t)}),this._defaultAction.actionRunner=new(function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.runAction=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t.run(void 0)];case 1:i.sent();return[2]}}))}))};return i}(wh)),this._container&&this._defaultAction.render(Fc(this._container,Nc(".action-container")))};i.prototype._getDefaultActionKeybindingLabel=function(t){var i;var n;if(!((i=this._options)===null||i===void 0)&&i.renderKeybindingWithDefaultActionLabel){var r=this._keybindingService.lookupKeybinding(t.id);r&&(n="(".concat(r.getLabel(),")"))}return n};i.prototype.setActionContext=function(i){t.prototype.setActionContext.call(this,i),this._defaultAction.setActionContext(i),this._dropdown.setActionContext(i)};i.prototype.render=function(i){var n=this;this._container=i,t.prototype.render.call(this,this._container),this._container.classList.add("monaco-dropdown-with-default");var r=Nc(".action-container");this._defaultAction.render(_c(this._container,r)),this._register(Oa(r,Ec.KEY_DOWN,(function(t){var i=new Qs(t);i.equals(17)&&(n._defaultAction.element.tabIndex=-1,n._dropdown.focus(),i.stopPropagation())})));var e=Nc(".dropdown-action-container");this._dropdown.render(_c(this._container,e)),this._register(Oa(e,Ec.KEY_DOWN,(function(t){var i;var r=new Qs(t);r.equals(15)&&(n._defaultAction.element.tabIndex=0,n._dropdown.setFocusable(!1),(i=n._defaultAction.element)===null||i===void 0||i.focus(),r.stopPropagation())})))};i.prototype.focus=function(t){t?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())};i.prototype.blur=function(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()};i.prototype.setFocusable=function(t){t?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))};i.prototype.dispose=function(){this._defaultAction.dispose(),this._dropdown.dispose(),t.prototype.dispose.call(this)};return i}(Dz);sU=tU([iU(2,vE),iU(3,PI),iU(4,TO),iU(5,Ff),iU(6,fh),iU(7,Lz)],sU);var uU=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,null,i,i.actions.map((function(t){return{text:t.id===ph.ID?"─────────":t.label,isDisabled:!t.enabled}})),0,n,Xz,{ariaLabel:i.tooltip,optionsAsChildren:!0})||this,r.select(Math.max(0,i.actions.findIndex((function(t){return t.checked}))));return r}i.prototype.render=function(i){t.prototype.render.call(this,i),i.style.borderColor=ap(ab)};i.prototype.runAction=function(t,i){var n=this.action.actions[i];n&&this.actionRunner.run(n)};return i}(_z);function aU(t,i,n){return i instanceof Of?t.createInstance(eU,i,n):i instanceof Qf?i.item.isSelection?t.createInstance(uU,i):i.item.rememberDefaultAction?t.createInstance(sU,i,__assign(__assign({},n),{persistLastActionId:!0})):t.createInstance(oU,i,n):void 0}uU=tU([iU(1,RO)],uU);var cU=function(t){__extends(i,t);function i(i,n){if(n===void 0){n={}}var r=this;var e,o,s,u,a,c,h;var f,l;switch(r=t.call(this)||this,r._actionRunnerDisposables=r._register(new Bn),r.viewItemDisposables=r._register(new Fn),r.triggerKeyDown=!1,r.focusable=!0,r._onDidBlur=r._register(new Ln),r.onDidBlur=r._onDidBlur.event,r._onDidCancel=r._register(new Ln({onWillAddFirstListener:function(){return r.cancelHasListener=!0}})),r.onDidCancel=r._onDidCancel.event,r.cancelHasListener=!1,r._onDidRun=r._register(new Ln),r.onDidRun=r._onDidRun.event,r._onWillRun=r._register(new Ln),r.onWillRun=r._onWillRun.event,r.options=n,r._context=(e=n.context)!==null&&e!==void 0?e:null,r._orientation=(o=r.options.orientation)!==null&&o!==void 0?o:0,r._triggerKeys={keyDown:(u=(s=r.options.triggerKeys)===null||s===void 0?void 0:s.keyDown)!==null&&u!==void 0&&u,keys:(c=(a=r.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&c!==void 0?c:[3,10]},r._hoverDelegate=(h=n.hoverDelegate)!==null&&h!==void 0?h:r._register(zL()),r.options.actionRunner?r._actionRunner=r.options.actionRunner:(r._actionRunner=new wh,r._actionRunnerDisposables.add(r._actionRunner)),r._actionRunnerDisposables.add(r._actionRunner.onDidRun((function(t){return r._onDidRun.fire(t)}))),r._actionRunnerDisposables.add(r._actionRunner.onWillRun((function(t){return r._onWillRun.fire(t)}))),r.viewItems=[],r.focusedItem=void 0,r.domNode=document.createElement("div"),r.domNode.className="monaco-action-bar",r._orientation){case 0:f=[15],l=[17];break;case 1:f=[16],l=[18],r.domNode.className+=" vertical"}r._register(Oa(r.domNode,Ec.KEY_DOWN,(function(t){var i=new Qs(t);var n=!0;var e=typeof r.focusedItem=="number"?r.viewItems[r.focusedItem]:void 0;f&&(i.equals(f[0])||i.equals(f[1]))?n=r.focusPrevious():l&&(i.equals(l[0])||i.equals(l[1]))?n=r.focusNext():i.equals(9)&&r.cancelHasListener?r._onDidCancel.fire():i.equals(14)?n=r.focusFirst():i.equals(13)?n=r.focusLast():i.equals(2)&&e instanceof Dz&&e.trapsArrowNavigation?n=r.focusNext():r.isTriggerKeyEvent(i)?r._triggerKeys.keyDown?r.doTrigger(i):r.triggerKeyDown=!0:n=!1,n&&(i.preventDefault(),i.stopPropagation())}))),r._register(Oa(r.domNode,Ec.KEY_UP,(function(t){var i=new Qs(t);r.isTriggerKeyEvent(i)?(!r._triggerKeys.keyDown&&r.triggerKeyDown&&(r.triggerKeyDown=!1,r.doTrigger(i)),i.preventDefault(),i.stopPropagation()):(i.equals(2)||i.equals(1026)||i.equals(16)||i.equals(18)||i.equals(15)||i.equals(17))&&r.updateFocusedItem()}))),r.focusTracker=r._register(Mc(r.domNode)),r._register(r.focusTracker.onDidBlur((function(){sc()!==r.domNode&&ic(sc(),r.domNode)||(r._onDidBlur.fire(),r.previouslyFocusedItem=r.focusedItem,r.focusedItem=void 0,r.triggerKeyDown=!1)}))),r._register(r.focusTracker.onDidFocus((function(){return r.updateFocusedItem()}))),r.actionsList=document.createElement("ul"),r.actionsList.className="actions-container",r.options.highlightToggledItems&&r.actionsList.classList.add("highlight-toggled"),r.actionsList.setAttribute("role",r.options.ariaRole||"toolbar"),r.options.ariaLabel&&r.actionsList.setAttribute("aria-label",r.options.ariaLabel),r.domNode.appendChild(r.actionsList),i.appendChild(r.domNode);return r}i.prototype.refreshRole=function(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")};i.prototype.setFocusable=function(t){if(this.focusable=t,this.focusable){var i=this.viewItems.find((function(t){return t instanceof Dz&&t.isEnabled()}));i instanceof Dz&&i.setFocusable(!0)}else this.viewItems.forEach((function(t){t instanceof Dz&&t.setFocusable(!1)}))};i.prototype.isTriggerKeyEvent=function(t){var i=!1;return this._triggerKeys.keys.forEach((function(n){i=i||t.equals(n)})),i};i.prototype.updateFocusedItem=function(){var t,i;for(var n=0;n<this.actionsList.children.length;n++){var r=this.actionsList.children[n];if(ic(sc(),r)){this.focusedItem=n,(i=(t=this.viewItems[this.focusedItem])===null||t===void 0?void 0:t.showHover)===null||i===void 0||i.call(t);break}}};Object.defineProperty(i.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t,this.viewItems.forEach((function(i){return i.setActionContext(t)}))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){var i=this;this._actionRunner=t,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((function(t){return i._onDidRun.fire(t)}))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((function(t){return i._onWillRun.fire(t)}))),this.viewItems.forEach((function(i){return i.actionRunner=t}))},enumerable:false,configurable:true});i.prototype.getContainer=function(){return this.domNode};i.prototype.getAction=function(t){var i;if(typeof t=="number")return(i=this.viewItems[t])===null||i===void 0?void 0:i.action;if(t instanceof HTMLElement){for(;t.parentElement!==this.actionsList;){if(!t.parentElement)return;t=t.parentElement}for(var n=0;n<this.actionsList.childNodes.length;n++)if(this.actionsList.childNodes[n]===t)return this.viewItems[n].action}};i.prototype.push=function(t,i){var n=this;if(i===void 0){i={}}var r=Array.isArray(t)?t:[t];var e=st(i.index)?i.index:null;r.forEach((function(t){var r=document.createElement("li");var o;r.className="action-item",r.setAttribute("role","presentation");var s=__assign({hoverDelegate:n._hoverDelegate},i);n.options.actionViewItemProvider&&(o=n.options.actionViewItemProvider(t,s)),o||(o=new Mz(n.context,t,s)),n.options.allowContextMenu||n.viewItemDisposables.set(o,Oa(r,Ec.CONTEXT_MENU,(function(t){Cc(t,!0)}))),o.actionRunner=n._actionRunner,o.setActionContext(n.context),o.render(r),n.focusable&&o instanceof Dz&&n.viewItems.length===0&&o.setFocusable(!0),e===null||e<0||e>=n.actionsList.children.length?(n.actionsList.appendChild(r),n.viewItems.push(o)):(n.actionsList.insertBefore(r,n.actionsList.children[e]),n.viewItems.splice(e,0,o),e++)})),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()};i.prototype.clear=function(){this.isEmpty()||(this.viewItems=kn(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),Ia(this.actionsList),this.refreshRole())};i.prototype.length=function(){return this.viewItems.length};i.prototype.isEmpty=function(){return this.viewItems.length===0};i.prototype.focus=function(t){var i,n=!1;if(t===void 0?n=!0:typeof t=="number"?i=t:typeof t=="boolean"&&(n=t),n&&this.focusedItem===void 0){var r=this.viewItems.findIndex((function(t){return t.isEnabled()}));this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)};i.prototype.focusFirst=function(){return this.focusedItem=this.length()-1,this.focusNext(!0)};i.prototype.focusLast=function(){return this.focusedItem=0,this.focusPrevious(!0)};i.prototype.focusNext=function(t){if(this.focusedItem===void 0)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;var i=this.focusedItem;var n;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===ph.ID));return this.updateFocus(),!0};i.prototype.focusPrevious=function(t){if(this.focusedItem===void 0)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;var i=this.focusedItem;var n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===ph.ID));return this.updateFocus(!0),!0};i.prototype.updateFocus=function(t,i,n){if(n===void 0){n=!1}var r,e;this.focusedItem===void 0&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());var o=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(o){var s=!0;vt(o.focus)||(s=!1),this.options.focusOnlyEnabledItems&&vt(o.isEnabled)&&!o.isEnabled()&&(s=!1),o.action.id===ph.ID&&(s=!1),s?(n||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),s&&((e=o.showHover)===null||e===void 0||e.call(o))}};i.prototype.doTrigger=function(t){if(this.focusedItem===void 0)return;var i=this.viewItems[this.focusedItem];if(i instanceof Dz){var n=i._context===null||i._context===void 0?t:i._context;this.run(i._action,n)}};i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,this._actionRunner.run(t,i)];case 1:n.sent();return[2]}}))}))};i.prototype.dispose=function(){this._context=void 0,this.viewItems=kn(this.viewItems),this.getContainer().remove(),t.prototype.dispose.call(this)};return i}(Cn);var hU=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,fU=/(&amp;)?(&amp;)([^\s&])/g;var lU,dU;(function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"})(lU||(lU={})),function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(dU||(dU={}));var vU=function(t){__extends(i,t);function i(i,n,r,e){var o=this;i.classList.add("monaco-menu-container"),i.setAttribute("role","presentation");var s=document.createElement("div");s.classList.add("monaco-menu"),s.setAttribute("role","presentation"),o=t.call(this,s,{orientation:1,actionViewItemProvider:function(t){return o.doGetActionViewItem(t,r,u)},context:r.context,actionRunner:r.actionRunner,ariaLabel:r.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:__spreadArray([3],Gt||Vt?[10]:[],true),keyDown:!0}})||this,o.menuStyles=e,o.menuElement=s,o.actionsList.tabIndex=0,o.initializeOrUpdateStyleSheet(i,e),o._register(wk.addTarget(s)),o._register(Oa(s,Ec.KEY_DOWN,(function(t){new Qs(t).equals(2)&&t.preventDefault()}))),r.enableMnemonics&&o._register(Oa(s,Ec.KEY_DOWN,(function(t){var i=t.key.toLocaleLowerCase();if(o.mnemonics.has(i)){Cc(t,!0);var n=o.mnemonics.get(i);if(n.length===1&&(n[0]instanceof gU&&n[0].container&&o.focusItemByElement(n[0].container),n[0].onClick(t)),n.length>1){var r=n.shift();r&&r.container&&(o.focusItemByElement(r.container),n.push(r)),o.mnemonics.set(i,n)}}}))),Vt&&o._register(Oa(s,Ec.KEY_DOWN,(function(t){var i=new Qs(t);i.equals(14)||i.equals(11)?(o.focusedItem=o.viewItems.length-1,o.focusNext(),Cc(t,!0)):(i.equals(13)||i.equals(12))&&(o.focusedItem=0,o.focusPrevious(),Cc(t,!0))}))),o._register(Oa(o.domNode,Ec.MOUSE_OUT,(function(t){ic(t.relatedTarget,o.domNode)||(o.focusedItem=void 0,o.updateFocus(),t.stopPropagation())}))),o._register(Oa(o.actionsList,Ec.MOUSE_OVER,(function(t){var i=t.target;if(i&&ic(i,o.actionsList)&&i!==o.actionsList){for(;i.parentElement!==o.actionsList&&i.parentElement!==null;)i=i.parentElement;if(i.classList.contains("action-item")){var n=o.focusedItem;o.setFocusedItem(i),n!==o.focusedItem&&o.updateFocus()}}}))),o._register(wk.addTarget(o.actionsList)),o._register(Oa(o.actionsList,Ak.Tap,(function(t){var i=t.initialTarget;if(i&&ic(i,o.actionsList)&&i!==o.actionsList){for(;i.parentElement!==o.actionsList&&i.parentElement!==null;)i=i.parentElement;if(i.classList.contains("action-item")){var n=o.focusedItem;o.setFocusedItem(i),n!==o.focusedItem&&o.updateFocus()}}})));var u={parent:o};o.mnemonics=new Map,o.scrollableElement=o._register(new Rk(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var a=o.scrollableElement.getDomNode();a.style.position="",o.styleScrollElement(a,e),o._register(Oa(s,Ak.Change,(function(t){Cc(t,!0);var i=o.scrollableElement.getScrollPosition().scrollTop;o.scrollableElement.setScrollPosition({scrollTop:i-t.translationY})}))),o._register(Oa(a,Ec.MOUSE_UP,(function(t){t.preventDefault()})));var c=ka(i);s.style.maxHeight="".concat(Math.max(10,c.innerHeight-i.getBoundingClientRect().top-35),"px"),n=n.filter((function(t,i){var e;return!((e=r.submenuIds)===null||e===void 0)&&e.has(t.id)?(console.warn("Found submenu cycle: ".concat(t.id)),!1):!(t instanceof ph&&(i===n.length-1||i===0||n[i-1]instanceof ph))})),o.push(n,{icon:!0,label:!0,isMenu:!0}),i.appendChild(o.scrollableElement.getDomNode()),o.scrollableElement.scanDomNode(),o.viewItems.filter((function(t){return!(t instanceof wU)})).forEach((function(t,i,n){t.updatePositionInSet(i+1,n.length)}));return o}i.prototype.initializeOrUpdateStyleSheet=function(t,n){this.styleSheet||(ec(t)?this.styleSheet=dc(t):(i.globalStyleSheet||(i.globalStyleSheet=dc()),this.styleSheet=i.globalStyleSheet)),this.styleSheet.textContent=function(t,i){var n="\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n".concat(pU(re.menuSelection),"\n").concat(pU(re.menuSubmenu),"\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}");if(i){n+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";var r=t.scrollbarShadow;r&&(n+="\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ".concat(r," 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ").concat(r," 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ").concat(r," 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t"));var e=t.scrollbarSliderBackground;e&&(n+="\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ".concat(e,";\n\t\t\t\t}\n\t\t\t"));var o=t.scrollbarSliderHoverBackground;o&&(n+="\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ".concat(o,";\n\t\t\t\t}\n\t\t\t"));var s=t.scrollbarSliderActiveBackground;s&&(n+="\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ".concat(s,";\n\t\t\t\t}\n\t\t\t"))}return n}(n,ec(t))};i.prototype.styleScrollElement=function(t,i){var n,r;var e=(n=i.foregroundColor)!==null&&n!==void 0?n:"",o=(r=i.backgroundColor)!==null&&r!==void 0?r:"",s=i.borderColor?"1px solid ".concat(i.borderColor):"",u=i.shadowColor?"0 2px 8px ".concat(i.shadowColor):"";t.style.outline=s,t.style.borderRadius="5px",t.style.color=e,t.style.backgroundColor=o,t.style.boxShadow=u};i.prototype.getContainer=function(){return this.scrollableElement.getDomNode()};Object.defineProperty(i.prototype,"onScroll",{get:function(){return this.scrollableElement.onScroll},enumerable:false,configurable:true});i.prototype.focusItemByElement=function(t){var i=this.focusedItem;this.setFocusedItem(t),i!==this.focusedItem&&this.updateFocus()};i.prototype.setFocusedItem=function(t){for(var i=0;i<this.actionsList.children.length;i++)if(t===this.actionsList.children[i]){this.focusedItem=i;break}};i.prototype.updateFocus=function(i){t.prototype.updateFocus.call(this,i,!0,!0),this.focusedItem!==void 0&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})};i.prototype.doGetActionViewItem=function(t,i,n){if(t instanceof ph)return new wU(i.context,t,{icon:!0},this.menuStyles);if(t instanceof mh){var r=new gU(t,t.actions,n,__assign(__assign({},i),{submenuIds:new Set(__spreadArray(__spreadArray([],i.submenuIds||[],true),[t.id],false))}),this.menuStyles);if(i.enableMnemonics){var e=r.getMnemonic();if(e&&r.isEnabled()){var o=[];this.mnemonics.has(e)&&(o=this.mnemonics.get(e)),o.push(r),this.mnemonics.set(e,o)}}return r}{var r={enableMnemonics:i.enableMnemonics,useEventAsContext:i.useEventAsContext};if(i.getKeyBinding){var o=i.getKeyBinding(t);if(o){var s=o.getLabel();s&&(r.keybinding=s)}}var e=new AU(i.context,t,r,this.menuStyles);if(i.enableMnemonics){var o=e.getMnemonic();if(o&&e.isEnabled()){var s=[];this.mnemonics.has(o)&&(s=this.mnemonics.get(o)),s.push(e),this.mnemonics.set(o,s)}}return e}};return i}(cU);var AU=function(t){__extends(i,t);function i(i,n,r,e){var o=this;if(r.isMenu=!0,o=t.call(this,n,n,r)||this,o.menuStyle=e,o.options=r,o.options.icon=r.icon!==void 0&&r.icon,o.options.label=r.label===void 0||r.label,o.cssClass="",o.options.label&&r.enableMnemonics){var s=o.action.label;if(s){var u=hU.exec(s);u&&(o.mnemonic=(u[1]?u[1]:u[3]).toLocaleLowerCase())}}o.runOnceToEnableMouseUp=new qs((function(){o.element&&(o._register(Oa(o.element,Ec.MOUSE_UP,(function(t){if(Cc(t,!0),ps){if(new Ts(ka(o.element),t).rightButton)return;o.onClick(t)}else setTimeout((function(){o.onClick(t)}),0)}))),o._register(Oa(o.element,Ec.CONTEXT_MENU,(function(t){Cc(t,!0)}))))}),100),o._register(o.runOnceToEnableMouseUp);return o}i.prototype.render=function(i){t.prototype.render.call(this,i),this.element&&(this.container=i,this.item=_c(this.element,Nc("a.action-menu-item")),this._action.id===ph.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts","".concat(this.mnemonic))),this.check=_c(this.item,Nc("span.menu-item-check"+xh.asCSSSelector(re.menuSelection))),this.check.setAttribute("role","none"),this.label=_c(this.item,Nc("span.action-label")),this.options.label&&this.options.keybinding&&(_c(this.item,Nc("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())};i.prototype.blur=function(){t.prototype.blur.call(this),this.applyStyle()};i.prototype.focus=function(){var i;t.prototype.focus.call(this),(i=this.item)===null||i===void 0||i.focus(),this.applyStyle()};i.prototype.updatePositionInSet=function(t,i){this.item&&(this.item.setAttribute("aria-posinset","".concat(t)),this.item.setAttribute("aria-setsize","".concat(i)))};i.prototype.updateLabel=function(){var t;if(this.label&&this.options.label){Ia(this.label);var i=rR(this.action.label);if(i){var n=function(t){var i=hU,n=i.exec(t);if(!n)return t;var r=!n[1];return t.replace(i,r?"$2$3":"").trim()}(i);this.options.enableMnemonics||(i=n),this.label.setAttribute("aria-label",n.replace(/&&/g,"&"));var r=hU.exec(i);if(r){i=xo(i),fU.lastIndex=0;var e=fU.exec(i);for(;e&&e[1];)e=fU.exec(i);var o=function(t){return t.replace(/&amp;&amp;/g,"&amp;")};e?this.label.append(Co(o(i.substr(0,e.index))," "),Nc("u",{"aria-hidden":"true"},e[3]),Do(o(i.substr(e.index+e[0].length))," ")):this.label.innerText=o(i).trim(),(t=this.item)===null||t===void 0||t.setAttribute("aria-keyshortcuts",(r[1]?r[1]:r[3]).toLocaleLowerCase())}else this.label.innerText=i.replace(/&&/g,"&").trim()}}};i.prototype.updateTooltip=function(){};i.prototype.updateClass=function(){var t,i;this.cssClass&&this.item&&(t=this.item.classList).remove.apply(t,this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&(i=this.label.classList).add.apply(i,this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")};i.prototype.updateEnabled=function(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))};i.prototype.updateChecked=function(){if(!this.item)return;var t=this.action.checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))};i.prototype.getMnemonic=function(){return this.mnemonic};i.prototype.applyStyle=function(){var t=this.element&&this.element.classList.contains("focused"),i=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=t&&this.menuStyle.selectionBorderColor?"1px solid ".concat(this.menuStyle.selectionBorderColor):"",e=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=i!==null&&i!==void 0?i:"",this.item.style.backgroundColor=n!==null&&n!==void 0?n:"",this.item.style.outline=r,this.item.style.outlineOffset=e),this.check&&(this.check.style.color=i!==null&&i!==void 0?i:"")};return i}(Dz);var gU=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,i,i,e,o)||this,s.submenuActions=n,s.parentData=r,s.submenuOptions=e,s.mysubmenu=null,s.submenuDisposables=s._register(new Bn),s.mouseOver=!1,s.expandDirection=e&&e.expandDirection!==void 0?e.expandDirection:{horizontal:lU.Right,vertical:dU.Below},s.showScheduler=new qs((function(){s.mouseOver&&(s.cleanupExistingSubmenu(!1),s.createSubmenu(!1))}),250),s.hideScheduler=new qs((function(){s.element&&!ic(sc(),s.element)&&s.parentData.submenu===s.mysubmenu&&(s.parentData.parent.focus(!1),s.cleanupExistingSubmenu(!0))}),750);return s}i.prototype.render=function(i){var n=this;t.prototype.render.call(this,i),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=_c(this.item,Nc("span.submenu-indicator"+xh.asCSSSelector(re.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Oa(this.element,Ec.KEY_UP,(function(t){var i=new Qs(t);(i.equals(17)||i.equals(3))&&(Cc(t,!0),n.createSubmenu(!0))}))),this._register(Oa(this.element,Ec.KEY_DOWN,(function(t){var i=new Qs(t);sc()===n.item&&(i.equals(17)||i.equals(3))&&Cc(t,!0)}))),this._register(Oa(this.element,Ec.MOUSE_OVER,(function(t){n.mouseOver||(n.mouseOver=!0,n.showScheduler.schedule())}))),this._register(Oa(this.element,Ec.MOUSE_LEAVE,(function(t){n.mouseOver=!1}))),this._register(Oa(this.element,Ec.FOCUS_OUT,(function(t){n.element&&!ic(sc(),n.element)&&n.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((function(){n.parentData.submenu===n.mysubmenu&&(n.parentData.parent.focus(!1),n.cleanupExistingSubmenu(!0))}))))};i.prototype.updateEnabled=function(){};i.prototype.onClick=function(t){Cc(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)};i.prototype.cleanupExistingSubmenu=function(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}};i.prototype.calculateSubmenuMenuLayout=function(t,i,n,r){var e={top:0,left:0};return e.left=iT(t.width,i.width,{position:r.horizontal===lU.Right?0:1,offset:n.left,size:n.width}),e.left>=n.left&&e.left<n.left+n.width&&(n.left+10+i.width<=t.width&&(e.left=n.left+10),n.top+=10,n.height=0),e.top=iT(t.height,i.height,{position:0,offset:n.top,size:0}),e.top+i.height===n.top&&e.top+n.height+i.height<=t.height&&(e.top+=n.height),e};i.prototype.createSubmenu=function(t){var i=this;if(t===void 0){t=!0}if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=_c(this.element,Nc("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");var n=ka(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),r=parseFloat(n.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new vU(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new bh],this.submenuOptions,this.menuStyle);var e=this.element.getBoundingClientRect(),o={top:e.top-r,left:e.left,height:e.height+2*r,width:e.width},s=this.submenuContainer.getBoundingClientRect(),u=ka(this.element),a=this.calculateSubmenuMenuLayout(new Ga(u.innerWidth,u.innerHeight),Ga.lift(s),o,this.expandDirection),c=a.top,h=a.left;this.submenuContainer.style.left=h-s.left+"px",this.submenuContainer.style.top=c-s.top+"px",this.submenuDisposables.add(Oa(this.submenuContainer,Ec.KEY_UP,(function(t){new Qs(t).equals(15)&&(Cc(t,!0),i.parentData.parent.focus(),i.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(Oa(this.submenuContainer,Ec.KEY_DOWN,(function(t){new Qs(t).equals(15)&&Cc(t,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((function(){i.parentData.parent.focus(),i.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}};i.prototype.updateAriaExpanded=function(t){var i;this.item&&((i=this.item)===null||i===void 0||i.setAttribute("aria-expanded",t))};i.prototype.applyStyle=function(){t.prototype.applyStyle.call(this);var i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i!==null&&i!==void 0?i:"")};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)};return i}(AU);var wU=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,n,r)||this,o.menuStyles=e;return o}i.prototype.render=function(i){t.prototype.render.call(this,i),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?"".concat(this.menuStyles.separatorColor):"")};return i}(Mz);function pU(t){var i=ne()[t.id];return".codicon-".concat(t.id,":before { content: '\\").concat(i.toString(16),"'; }")}var mU=function(){function t(t,i,n,r){this.contextViewService=t,this.telemetryService=i,this.notificationService=n,this.keybindingService=r,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}t.prototype.configure=function(t){this.options=t};t.prototype.showContextMenu=function(t){var i=this;var n=t.getActions();if(!n.length)return;var r;this.focusToReturn=sc();var e=t.domForShadowRoot instanceof HTMLElement?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:function(){return t.getAnchor()},canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:function(e){var o;i.lastContainer=e;var s=t.getMenuClassName?t.getMenuClassName():"";s&&(e.className+=" "+s),i.options.blockMouse&&(i.block=e.appendChild(Nc(".context-view-block")),i.block.style.position="fixed",i.block.style.cursor="initial",i.block.style.left="0",i.block.style.top="0",i.block.style.width="100%",i.block.style.height="100%",i.block.style.zIndex="-1",(o=i.blockDisposable)===null||o===void 0||o.dispose(),i.blockDisposable=Oa(i.block,Ec.MOUSE_DOWN,(function(t){return t.stopPropagation()})));var u=new Bn,a=t.actionRunner||new wh;a.onWillRun((function(n){return i.onActionRun(n,!t.skipTelemetry)}),i,u),a.onDidRun(i.onDidActionRun,i,u),r=new vU(e,n,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:a,getKeyBinding:t.getKeyBinding?t.getKeyBinding:function(t){return i.keybindingService.lookupKeybinding(t.id)}},$z),r.onDidCancel((function(){return i.contextViewService.hideContextView(!0)}),null,u),r.onDidBlur((function(){return i.contextViewService.hideContextView(!0)}),null,u);var c=ka(e);return u.add(Oa(c,Ec.BLUR,(function(){return i.contextViewService.hideContextView(!0)}))),u.add(Oa(c,Ec.MOUSE_DOWN,(function(t){if(t.defaultPrevented)return;var n=new Ts(c,t);var r=n.target;if(!n.rightButton){for(;r;){if(r===e)return;r=r.parentElement}i.contextViewService.hideContextView(!0)}}))),xn(u,r)},focus:function(){r==null||r.focus(!!t.autoSelectFirstItem)},onHide:function(n){var r,e,o;(r=t.onHide)===null||r===void 0||r.call(t,!!n),i.block&&(i.block.remove(),i.block=null),(e=i.blockDisposable)===null||e===void 0||e.dispose(),i.blockDisposable=null,i.lastContainer&&(sc()===i.lastContainer||ic(sc(),i.lastContainer))&&((o=i.focusToReturn)===null||o===void 0||o.focus()),i.lastContainer=null}},e,!!e)};t.prototype.onActionRun=function(t,i){i&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)};t.prototype.onDidActionRun=function(t){t.error&&!dn(t.error)&&this.notificationService.error(t.error)};return t}();var bU=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},yU=function(t,i){return function(n,r){i(n,r,t)}};var kU=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u.telemetryService=i,u.notificationService=n,u.contextViewService=r,u.keybindingService=e,u.menuService=o,u.contextKeyService=s,u._contextMenuHandler=void 0,u._onDidShowContextMenu=u._store.add(new Ln),u.onDidShowContextMenu=u._onDidShowContextMenu.event,u._onDidHideContextMenu=u._store.add(new Ln);return u}Object.defineProperty(i.prototype,"contextMenuHandler",{get:function(){return this._contextMenuHandler||(this._contextMenuHandler=new mU(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler},enumerable:false,configurable:true});i.prototype.configure=function(t){this.contextMenuHandler.configure(t)};i.prototype.showContextMenu=function(t){var i=this;t=xU.transform(t,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(__assign(__assign({},t),{onHide:function(n){var r;(r=t.onHide)===null||r===void 0||r.call(t,n),i._onDidHideContextMenu.fire()}})),Jc.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()};return i}(Cn);var xU,EU;kU=bU([yU(0,Tf),yU(1,PI),yU(2,RO),yU(3,vE),yU(4,Ff),yU(5,hf)],kU),function(t){t.transform=function(t,i,n){if(!((r=t)&&r.menuId instanceof _f))return t;var r;var e=t.menuId,o=t.menuActionOptions,s=t.contextKeyService;return __assign(__assign({},t),{getActions:function(){var r=[];if(e){var u=i.createMenu(e,s!==null&&s!==void 0?s:n);(function(t,i,n,r){var e=t.getActions(i),o=Jc.getInstance();rU(e,n,o.keyStatus.altKey||(Wt||Vt)&&o.keyStatus.shiftKey,r?function(t){return t===r}:function(t){return t==="navigation"})})(u,o,r),u.dispose()}return t.getActions?ph.join(t.getActions(),r):r}})}}(xU||(xU={})),function(t){t[t.API=0]="API",t[t.USER=1]="USER"}(EU||(EU={}));var BU=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},CU=function(t,i){return function(n,r){i(n,r,t)}};var DU=function(){function t(t){this._commandService=t}t.prototype.open=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;var r;return __generator(this,(function(e){switch(e.label){case 0:if(!sa(t,oa.command))return[2,!1];if(!(i!=null&&i.allowCommands)||(typeof t=="string"&&(t=zr.parse(t)),Array.isArray(i.allowCommands)&&!i.allowCommands.includes(t.path)))return[2,!0];n=[];try{n=gR(decodeURIComponent(t.query))}catch(i){try{n=gR(t.query)}catch(t){}}Array.isArray(n)||(n=[n]);return[4,(r=this._commandService).executeCommand.apply(r,__spreadArray([t.path],n,false))];case 1:return[2,(e.sent(),!0)]}}))}))};return t}();DU=BU([CU(0,Eh)],DU);var MU=function(){function t(t){this._editorService=t}t.prototype.open=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:typeof t=="string"&&(t=zr.parse(t));n=function(t){var i;var n=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(t.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1,endLineNumber:n[4]?parseInt(n[4]):void 0,endColumn:n[4]?n[5]?parseInt(n[5]):1:void 0},t=t.with({fragment:""})),{selection:i,uri:t}}(t),r=n.selection,e=n.uri;(t=e).scheme===oa.file&&(t=e_(t));return[4,this._editorService.openCodeEditor({resource:t,options:__assign({selection:r,source:i!=null&&i.fromUserGesture?EU.USER:EU.API},i==null?void 0:i.editorOptions)},this._editorService.getFocusedCodeEditor(),i==null?void 0:i.openToSide)];case 1:return[2,(o.sent(),!0)]}}))}))};return t}();MU=BU([CU(0,dh)],MU);var _U=function(){function t(t,i){var n=this;this._openers=new gi,this._validators=new gi,this._resolvers=new gi,this._resolvedUriTargets=new yv((function(t){return t.with({path:null,fragment:null,query:null}).toString()})),this._externalOpeners=new gi,this._defaultExternalOpener={openExternal:function(t){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(i){return[2,(ua(t,oa.http,oa.https)?jc(t):go.location.href=t,!0)]}))}))}},this._openers.push({open:function(t,i){return __awaiter(n,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:n=!(!(i!=null&&i.openExternal)&&!ua(t,oa.mailto,oa.http,oa.https,oa.vsls));if(!n)return[3,2];return[4,this._doOpenExternal(t,i)];case 1:n=(r.sent(),!0);r.label=2;case 2:return[2,n]}}))}))}}),this._openers.push(new DU(i)),this._openers.push(new MU(t))}t.prototype.registerOpener=function(t){return{dispose:this._openers.unshift(t)}};t.prototype.open=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c,u;return __generator(this,(function(h){switch(h.label){case 0:r=typeof t=="string"?zr.parse(t):t,e=(n=this._resolvedUriTargets.get(r))!==null&&n!==void 0?n:t;o=0,s=this._validators;h.label=1;case 1:if(!(o<s.length))return[3,4];u=s[o];return[4,u.shouldOpen(e,i)];case 2:if(!h.sent())return[2,!1];h.label=3;case 3:o++;return[3,1];case 4:a=0,c=this._openers;h.label=5;case 5:if(!(a<c.length))return[3,8];u=c[a];return[4,u.open(t,i)];case 6:if(h.sent())return[2,!0];h.label=7;case 7:a++;return[3,5];case 8:return[2,!1]}}))}))};t.prototype.resolveExternalUri=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:n=0,r=this._resolvers;u.label=1;case 1:if(!(n<r.length))return[3,6];e=r[n];u.label=2;case 2:u.trys.push([2,4,,5]);return[4,e.resolveExternalUri(t,i)];case 3:o=u.sent();if(o)return[2,(this._resolvedUriTargets.has(o.resolved)||this._resolvedUriTargets.set(o.resolved,t),o)];return[3,5];case 4:s=u.sent();return[3,5];case 5:n++;return[3,1];case 6:throw new Error("Could not resolve external URI: "+t.toString())}}))}))};t.prototype._doOpenExternal=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:n=typeof t=="string"?zr.parse(t):t;h.label=1;case 1:h.trys.push([1,3,,4]);return[4,this.resolveExternalUri(n,i)];case 2:r=h.sent().resolved;return[3,4];case 3:o=h.sent();r=n;return[3,4];case 4:if(!(e=typeof t=="string"&&n.toString()===r.toString()?t:encodeURI(r.toString(!0)),i==null?void 0:i.allowContributedOpeners))return[3,8];s=typeof(i==null?void 0:i.allowContributedOpeners)=="string"?i==null?void 0:i.allowContributedOpeners:void 0;u=0,a=this._externalOpeners;h.label=5;case 5:if(!(u<a.length))return[3,8];c=a[u];return[4,c.openExternal(e,{sourceUri:n,preferredOpenerId:s},Gn.None)];case 6:if(h.sent())return[2,!0];h.label=7;case 7:u++;return[3,5];case 8:return[2,this._defaultExternalOpener.openExternal(e,{sourceUri:n},Gn.None)]}}))}))};t.prototype.dispose=function(){this._validators.clear()};return t}();_U=BU([CU(0,dh),CU(1,Eh)],_U);var FU=lh("editorWorkerService");var SU,IU;(function(t){t[t.Hint=1]="Hint",t[t.Info=2]="Info",t[t.Warning=4]="Warning",t[t.Error=8]="Error"})(SU||(SU={})),function(t){t.compare=function(t,i){return i-t};var i=Object.create(null);i[t.Error]=Bt(0,"Error"),i[t.Warning]=Bt(0,"Warning"),i[t.Info]=Bt(0,"Info"),t.toString=function(t){return i[t]||""},t.fromSeverity=function(i){switch(i){case YI.Error:return t.Error;case YI.Warning:return t.Warning;case YI.Info:return t.Info;case YI.Ignore:return t.Hint}},t.toSeverity=function(i){switch(i){case t.Error:return YI.Error;case t.Warning:return YI.Warning;case t.Info:return YI.Info;case t.Hint:return YI.Ignore}}}(SU||(SU={})),function(t){var i="";function n(t,n){var r=[i];return t.source?r.push(t.source.replace("¦","\\¦")):r.push(i),t.code?typeof t.code=="string"?r.push(t.code.replace("¦","\\¦")):r.push(t.code.value.replace("¦","\\¦")):r.push(i),t.severity!==void 0&&t.severity!==null?r.push(SU.toString(t.severity)):r.push(i),t.message&&n?r.push(t.message.replace("¦","\\¦")):r.push(i),t.startLineNumber!==void 0&&t.startLineNumber!==null?r.push(t.startLineNumber.toString()):r.push(i),t.startColumn!==void 0&&t.startColumn!==null?r.push(t.startColumn.toString()):r.push(i),t.endLineNumber!==void 0&&t.endLineNumber!==null?r.push(t.endLineNumber.toString()):r.push(i),t.endColumn!==void 0&&t.endColumn!==null?r.push(t.endColumn.toString()):r.push(i),r.push(i),r.join("¦")}t.makeKey=function(t){return n(t,!0)},t.makeKeyOptionalMessage=n}(IU||(IU={}));var QU=lh("markerService");var OU=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},NU=function(t,i){return function(n,r){i(n,r,t)}};var RU=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._markerService=n,r._onDidChangeMarker=r._register(new Ln),r._markerDecorations=new yv,i.getModels().forEach((function(t){return r._onModelAdded(t)})),r._register(i.onModelAdded(r._onModelAdded,r)),r._register(i.onModelRemoved(r._onModelRemoved,r)),r._register(r._markerService.onMarkerChanged(r._handleMarkerChange,r));return r}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._markerDecorations.forEach((function(t){return t.dispose()})),this._markerDecorations.clear()};i.prototype.getMarker=function(t,i){var n=this._markerDecorations.get(t);return n&&n.getMarker(i)||null};i.prototype._handleMarkerChange=function(t){var i=this;t.forEach((function(t){var n=i._markerDecorations.get(t);n&&i._updateDecorations(n)}))};i.prototype._onModelAdded=function(t){var i=new TU(t);this._markerDecorations.set(t.uri,i),this._updateDecorations(i)};i.prototype._onModelRemoved=function(t){var i=this;var n;var r=this._markerDecorations.get(t.uri);r&&(r.dispose(),this._markerDecorations.delete(t.uri)),t.uri.scheme!==oa.inMemory&&t.uri.scheme!==oa.internal&&t.uri.scheme!==oa.vscode||(n=this._markerService)===null||n===void 0||n.read({resource:t.uri}).map((function(t){return t.owner})).forEach((function(n){return i._markerService.remove(n,[t.uri])}))};i.prototype._updateDecorations=function(t){var i=this._markerService.read({resource:t.model.uri,take:500});t.update(i)&&this._onDidChangeMarker.fire(t.model)};return i}(Cn);RU=OU([NU(0,vh),NU(1,QU)],RU);var TU=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.model=i,n._map=new Ev,n._register(En((function(){n.model.deltaDecorations(__spreadArray([],n._map.values(),true),[]),n._map.clear()})));return n}i.prototype.update=function(t){var i=this;var n=function(t,i){var n=[],r=[];for(var e=0,o=t;e<o.length;e++){var s=o[e];i.has(s)||n.push(s)}for(var u=0,a=i;u<a.length;u++){var s=a[u];t.has(s)||r.push(s)}return{removed:n,added:r}}(new Set(this._map.keys()),new Set(t)),r=n.added,e=n.removed;if(r.length===0&&e.length===0)return!1;var o=e.map((function(t){return i._map.get(t)})),s=r.map((function(t){return{range:i._createDecorationRange(i.model,t),options:i._createDecorationOption(t)}})),u=this.model.deltaDecorations(o,s);for(var a=0,c=e;a<c.length;a++){var h=c[a];this._map.delete(h)}for(var h=0;h<u.length;h++)this._map.set(r[h],u[h]);return!0};i.prototype.getMarker=function(t){return this._map.getKey(t.id)};i.prototype._createDecorationRange=function(t,i){var n=Zr.lift(i);if(i.severity!==SU.Hint||this._hasMarkerTag(i,1)||this._hasMarkerTag(i,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=t.validateRange(n),n.isEmpty()){var r=t.getLineLastNonWhitespaceColumn(n.startLineNumber)||t.getLineMaxColumn(n.startLineNumber);if(r===1||n.endColumn>=r)return n;var e=t.getWordAtPosition(n.getStartPosition());e&&(n=new Zr(n.startLineNumber,e.startColumn,n.endLineNumber,e.endColumn))}else if(i.endColumn===Number.MAX_VALUE&&i.startColumn===1&&n.startLineNumber===n.endLineNumber){var r=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);r<n.endColumn&&(n=new Zr(n.startLineNumber,r,n.endLineNumber,n.endColumn),i.startColumn=r)}return n};i.prototype._createDecorationOption=function(t){var i,n,r,e,o;switch(t.severity){case SU.Hint:i=this._hasMarkerTag(t,2)?void 0:this._hasMarkerTag(t,1)?"squiggly-unnecessary":"squiggly-hint",r=0;break;case SU.Info:i="squiggly-info",n=ox(Jx),r=10,o={color:ox(jm),position:1};break;case SU.Warning:i="squiggly-warning",n=ox(Yx),r=20,o={color:ox(zm),position:1};break;case SU.Error:default:i="squiggly-error",n=ox(Hx),r=30,o={color:ox(Um),position:1}}return t.tags&&(t.tags.indexOf(1)!==-1&&(e="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(e="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:i,showIfCollapsed:!0,overviewRuler:{color:n,position:_v.Right},minimap:o,zIndex:r,inlineClassName:e}};i.prototype._hasMarkerTag=function(t,i){return!!t.tags&&t.tags.indexOf(i)>=0};return i}(Cn);var LU,jU=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},zU=function(t,i){return function(n,r){i(n,r,t)}};function UU(t){return t.toString()}var HU=function(){function t(t,i,n){this.model=t,this._modelEventListeners=new Bn,this.model=t,this._modelEventListeners.add(t.onWillDispose((function(){return i(t)}))),this._modelEventListeners.add(t.onDidChangeLanguage((function(i){return n(t,i)})))}t.prototype.dispose=function(){this._modelEventListeners.dispose()};return t}();var YU=Vt||Gt?1:2;var JU=function(){function t(t,i,n,r,e,o,s,u){this.uri=t,this.initialUndoRedoSnapshot=i,this.time=n,this.sharesUndoRedoStack=r,this.heapSize=e,this.sha1=o,this.versionId=s,this.alternativeVersionId=u}return t}();var PU=LU=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._configurationService=i,s._resourcePropertiesService=n,s._undoRedoService=r,s._languageService=e,s._languageConfigurationService=o,s._onModelAdded=s._register(new Ln),s.onModelAdded=s._onModelAdded.event,s._onModelRemoved=s._register(new Ln),s.onModelRemoved=s._onModelRemoved.event,s._onModelModeChanged=s._register(new Ln),s.onModelLanguageChanged=s._onModelModeChanged.event,s._modelCreationOptionsByLanguageAndResource=Object.create(null),s._models={},s._disposedModels=new Map,s._disposedModelsHeapSize=0,s._register(s._configurationService.onDidChangeConfiguration((function(t){return s._updateModelOptions(t)}))),s._updateModelOptions(void 0);return s}i._readModelOptions=function(t,i){var n;var r=di.tabSize;if(t.editor&&t.editor.tabSize!==void 0){var e=parseInt(t.editor.tabSize,10);isNaN(e)||(r=e),r<1&&(r=1)}var o="tabSize";if(t.editor&&t.editor.indentSize!==void 0&&t.editor.indentSize!=="tabSize"){var e=parseInt(t.editor.indentSize,10);isNaN(e)||(o=Math.max(e,1))}var s=di.insertSpaces;t.editor&&t.editor.insertSpaces!==void 0&&(s=t.editor.insertSpaces!=="false"&&!!t.editor.insertSpaces);var u=YU;var a=t.eol;a==="\r\n"?u=2:a==="\n"&&(u=1);var c=di.trimAutoWhitespace;t.editor&&t.editor.trimAutoWhitespace!==void 0&&(c=t.editor.trimAutoWhitespace!=="false"&&!!t.editor.trimAutoWhitespace);var h=di.detectIndentation;t.editor&&t.editor.detectIndentation!==void 0&&(h=t.editor.detectIndentation!=="false"&&!!t.editor.detectIndentation);var f=di.largeFileOptimizations;t.editor&&t.editor.largeFileOptimizations!==void 0&&(f=t.editor.largeFileOptimizations!=="false"&&!!t.editor.largeFileOptimizations);var l=di.bracketPairColorizationOptions;return!((n=t.editor)===null||n===void 0)&&n.bracketPairColorization&&typeof t.editor.bracketPairColorization=="object"&&(l={enabled:!!t.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!t.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:i,tabSize:r,indentSize:o,insertSpaces:s,detectIndentation:h,defaultEOL:u,trimAutoWhitespace:c,largeFileOptimizations:f,bracketPairColorizationOptions:l}};i.prototype._getEOL=function(t,i){if(t)return this._resourcePropertiesService.getEOL(t,i);var n=this._configurationService.getValue("files.eol",{overrideIdentifier:i});return n&&typeof n=="string"&&n!=="auto"?n:ei===3||ei===2?"\n":"\r\n"};i.prototype._shouldRestoreUndoStack=function(){var t=this._configurationService.getValue("files.restoreUndoStack");return typeof t!="boolean"||t};i.prototype.getCreationOptions=function(t,n,r){var e=typeof t=="string"?t:t.languageId;var o=this._modelCreationOptionsByLanguageAndResource[e+n];if(!o){var s=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:n}),u=this._getEOL(n,e);o=i._readModelOptions({editor:s,eol:u},r),this._modelCreationOptionsByLanguageAndResource[e+n]=o}return o};i.prototype._updateModelOptions=function(t){var n=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);var r=Object.keys(this._models);for(var e=0,o=r.length;e<o;e++){var s=r[e],u=this._models[s],a=u.model.getLanguageId(),c=u.model.uri;if(t&&!t.affectsConfiguration("editor",{overrideIdentifier:a,resource:c})&&!t.affectsConfiguration("files.eol",{overrideIdentifier:a,resource:c}))continue;var h=n[a+c],f=this.getCreationOptions(a,c,u.model.isForSimpleWidget);i._setModelOptionsForModel(u.model,f,h)}};i._setModelOptionsForModel=function(t,i,n){n&&n.defaultEOL!==i.defaultEOL&&t.getLineCount()===1&&t.setEOL(i.defaultEOL===1?0:1),n&&n.detectIndentation===i.detectIndentation&&n.insertSpaces===i.insertSpaces&&n.tabSize===i.tabSize&&n.indentSize===i.indentSize&&n.trimAutoWhitespace===i.trimAutoWhitespace&&yt(n.bracketPairColorizationOptions,i.bracketPairColorizationOptions)||(i.detectIndentation?(t.detectIndentation(i.insertSpaces,i.tabSize),t.updateOptions({trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.indentSize,trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions}))};i.prototype._insertDisposedModel=function(t){this._disposedModels.set(UU(t.uri),t),this._disposedModelsHeapSize+=t.heapSize};i.prototype._removeDisposedModel=function(t){var i=this._disposedModels.get(UU(t));return i&&(this._disposedModelsHeapSize-=i.heapSize),this._disposedModels.delete(UU(t)),i};i.prototype._ensureDisposedModelsHeapSize=function(t){if(this._disposedModelsHeapSize>t){var i=[];for(this._disposedModels.forEach((function(t){t.sharesUndoRedoStack||i.push(t)})),i.sort((function(t,i){return t.time-i.time}));i.length>0&&this._disposedModelsHeapSize>t;){var n=i.shift();this._removeDisposedModel(n.uri),n.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(n.initialUndoRedoSnapshot)}}};i.prototype._createModelData=function(t,i,n,r){var e=this;var o=this.getCreationOptions(i,n,r),s=new PF(t,i,o,n,this._undoRedoService,this._languageService,this._languageConfigurationService);if(n&&this._disposedModels.has(UU(n))){var u=this._removeDisposedModel(n),a=this._undoRedoService.getElements(n),c=this._getSHA1Computer(),h=!!c.canComputeSHA1(s)&&c.computeSHA1(s)===u.sha1;if(h||u.sharesUndoRedoStack){for(var f=0,l=a.past;f<l.length;f++){var d=l[f];A_(d)&&d.matchesResource(n)&&d.setModel(s)}for(var v=0,A=a.future;v<A.length;v++){var d=A[v];A_(d)&&d.matchesResource(n)&&d.setModel(s)}this._undoRedoService.setElementsValidFlag(n,!0,(function(t){return A_(t)&&t.matchesResource(n)})),h&&(s._overwriteVersionId(u.versionId),s._overwriteAlternativeVersionId(u.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(u.initialUndoRedoSnapshot))}else u.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(u.initialUndoRedoSnapshot)}var g=UU(s.uri);if(this._models[g])throw new Error("ModelService: Cannot add model because it already exists!");var w=new HU(s,(function(t){return e._onWillDispose(t)}),(function(t,i){return e._onDidChangeLanguage(t,i)}));return this._models[g]=w,w};i.prototype.createModel=function(t,i,n,r){if(r===void 0){r=!1}var e;return e=i?this._createModelData(t,i,n,r):this._createModelData(t,Fd,n,r),this._onModelAdded.fire(e.model),e.model};i.prototype.getModels=function(){var t=[],i=Object.keys(this._models);for(var n=0,r=i.length;n<r;n++){var e=i[n];t.push(this._models[e].model)}return t};i.prototype.getModel=function(t){var i=UU(t),n=this._models[i];return n?n.model:null};i.prototype._schemaShouldMaintainUndoRedoElements=function(t){return t.scheme===oa.file||t.scheme===oa.vscodeRemote||t.scheme===oa.vscodeUserData||t.scheme===oa.vscodeNotebookCell||t.scheme==="fake-fs"};i.prototype._onWillDispose=function(t){var n=UU(t.uri),r=this._models[n],e=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();var o=!1,s=0;if(e||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){var u=this._undoRedoService.getElements(t.uri);if(u.past.length>0||u.future.length>0){for(var a=0,c=u.past;a<c.length;a++){var h=c[a];A_(h)&&h.matchesResource(t.uri)&&(o=!0,s+=h.heapSize(t.uri),h.setModel(t.uri))}for(var f=0,l=u.future;f<l.length;f++){var h=l[f];A_(h)&&h.matchesResource(t.uri)&&(o=!0,s+=h.heapSize(t.uri),h.setModel(t.uri))}}}var d=i.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,v=this._getSHA1Computer();if(o)if(e||!(s>d)&&v.canComputeSHA1(t))this._ensureDisposedModelsHeapSize(d-s),this._undoRedoService.setElementsValidFlag(t.uri,!1,(function(i){return A_(i)&&i.matchesResource(t.uri)})),this._insertDisposedModel(new JU(t.uri,r.model.getInitialUndoRedoSnapshot(),Date.now(),e,s,v.computeSHA1(t),t.getVersionId(),t.getAlternativeVersionId()));else{var u=r.model.getInitialUndoRedoSnapshot();u!==null&&this._undoRedoService.restoreSnapshot(u)}else if(!e){var u=r.model.getInitialUndoRedoSnapshot();u!==null&&this._undoRedoService.restoreSnapshot(u)}delete this._models[n],r.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)};i.prototype._onDidChangeLanguage=function(t,n){var r=n.oldLanguage,e=t.getLanguageId(),o=this.getCreationOptions(r,t.uri,t.isForSimpleWidget),s=this.getCreationOptions(e,t.uri,t.isForSimpleWidget);i._setModelOptionsForModel(t,s,o),this._onModelModeChanged.fire({model:t,oldLanguageId:r})};i.prototype._getSHA1Computer=function(){return new WU};return i}(Cn);PU.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,PU=LU=jU([zU(0,sd),zU(1,Ag),zU(2,OF),zU(3,ld),zU(4,jd)],PU);var WU=function(){function t(){}t.prototype.canComputeSHA1=function(i){return i.getValueLength()<=t.MAX_MODEL_SIZE};t.prototype.computeSHA1=function(t){var i=new ma,n=t.createSnapshot();var r;for(;r=n.read();)i.update(r);return i.digest()};return t}();var GU;WU.MAX_MODEL_SIZE=10485760,function(t){t[t.PRESERVE=0]="PRESERVE",t[t.LAST=1]="LAST"}(GU||(GU={}));var VU="workbench.contributions.quickaccess";yf.add(VU,new(function(){function t(){this.providers=[],this.defaultProvider=void 0}t.prototype.registerQuickAccessProvider=function(t){var i=this;return t.prefix.length===0?this.defaultProvider=t:this.providers.push(t),this.providers.sort((function(t,i){return i.prefix.length-t.prefix.length})),En((function(){i.providers.splice(i.providers.indexOf(t),1),i.defaultProvider===t&&(i.defaultProvider=void 0)}))};t.prototype.getQuickAccessProviders=function(){return N(__spreadArray([this.defaultProvider],this.providers,true))};t.prototype.getQuickAccessProvider=function(t){return t&&this.providers.find((function(i){return t.startsWith(i.prefix)}))||void 0||this.defaultProvider};return t}()));var KU={ctrlCmd:!1,alt:!1};var XU,qU;(function(t){t[t.Blur=1]="Blur",t[t.Gesture=2]="Gesture",t[t.Other=3]="Other"})(XU||(XU={})),function(t){t[t.NONE=0]="NONE",t[t.FIRST=1]="FIRST",t[t.SECOND=2]="SECOND",t[t.LAST=3]="LAST"}(qU||(qU={}));var ZU=lh("quickInputService");var $U=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},tH=function(t,i){return function(n,r){i(n,r,t)}};var iH=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.quickInputService=i,r.instantiationService=n,r.registry=yf.as(VU),r.mapProviderToDescriptor=new Map,r.lastAcceptedPickerValues=new Map,r.visibleQuickAccess=void 0;return r}i.prototype.show=function(t,i){if(t===void 0){t=""}this.doShowOrPick(t,!1,i)};i.prototype.doShowOrPick=function(t,i,n){var r,e,o;var s=this.getOrInstantiateProvider(t),u=s[0],a=s[1],c=this.visibleQuickAccess,h=c==null?void 0:c.descriptor;if(c&&a&&h===a)return t===a.prefix||n!=null&&n.preserveValue||(c.picker.value=t),void this.adjustValueSelection(c.picker,a,n);if(a&&!(n!=null&&n.preserveValue)){var f=void 0;if(c&&h&&h!==a){var l=c.value.substr(h.prefix.length);l&&(f="".concat(a.prefix).concat(l))}if(!f){var l=u==null?void 0:u.defaultFilterValue;l===GU.LAST?f=this.lastAcceptedPickerValues.get(a):typeof l=="string"&&(f="".concat(a.prefix).concat(l))}typeof f=="string"&&(t=f)}var d=(r=c==null?void 0:c.picker)===null||r===void 0?void 0:r.valueSelection,v=(e=c==null?void 0:c.picker)===null||e===void 0?void 0:e.value,A=new Bn,g=A.add(this.quickInputService.createQuickPick());var w;g.value=t,this.adjustValueSelection(g,a,n),g.placeholder=a==null?void 0:a.placeholder,g.quickNavigate=n==null?void 0:n.quickNavigateConfiguration,g.hideInput=!!g.quickNavigate&&!c,(typeof(n==null?void 0:n.itemActivation)=="number"||n!=null&&n.quickNavigateConfiguration)&&(g.itemActivation=(o=n==null?void 0:n.itemActivation)!==null&&o!==void 0?o:qU.SECOND),g.contextKey=a==null?void 0:a.contextKey,g.filterValue=function(t){return t.substring(a?a.prefix.length:0)},i&&(w=new nu,A.add(Qn.once(g.onWillAccept)((function(t){t.veto(),g.hide()})))),A.add(this.registerPickerListeners(g,u,a,t,n==null?void 0:n.providerOptions));var p=A.add(new Kn);return u&&A.add(u.provide(g,p.token,n==null?void 0:n.providerOptions)),Qn.once(g.onDidHide)((function(){g.selectedItems.length===0&&p.cancel(),A.dispose(),w==null||w.complete(g.selectedItems.slice(0))})),g.show(),d&&v===t&&(g.valueSelection=d),i?w==null?void 0:w.p:void 0};i.prototype.adjustValueSelection=function(t,i,n){var r;var e;e=n!=null&&n.preserveValue?[t.value.length,t.value.length]:[(r=i==null?void 0:i.prefix.length)!==null&&r!==void 0?r:0,t.value.length],t.valueSelection=e};i.prototype.registerPickerListeners=function(t,i,n,r,e){var o=this;var s=new Bn,u=this.visibleQuickAccess={picker:t,descriptor:n,value:r};return s.add(En((function(){u===o.visibleQuickAccess&&(o.visibleQuickAccess=void 0)}))),s.add(t.onDidChangeValue((function(t){var n=o.getOrInstantiateProvider(t)[0];n!==i?o.show(t,{preserveValue:!0,providerOptions:e}):u.value=t}))),n&&s.add(t.onDidAccept((function(){o.lastAcceptedPickerValues.set(n,t.value)}))),s};i.prototype.getOrInstantiateProvider=function(t){var i=this.registry.getQuickAccessProvider(t);if(!i)return[void 0,void 0];var n=this.mapProviderToDescriptor.get(i);return n||(n=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,n)),[n,i]};return i}(Cn);iH=$U([tH(0,ZU),tH(1,fh)],iH);var nH=function(t){__extends(i,t);function i(i){var n;var r=this;var e;r=t.call(this)||this,r._onChange=r._register(new Ln),r.onChange=r._onChange.event,r._onKeyDown=r._register(new Ln),r.onKeyDown=r._onKeyDown.event,r._opts=i,r._checked=r._opts.isChecked;var o=["monaco-custom-toggle"];r._opts.icon&&(r._icon=r._opts.icon,o.push.apply(o,xh.asClassNameArray(r._icon))),r._opts.actionClassName&&o.push.apply(o,r._opts.actionClassName.split(" ")),r._checked&&o.push("checked"),r.domNode=document.createElement("div"),r._hover=r._register(YL((e=i.hoverDelegate)!==null&&e!==void 0?e:jL("mouse"),r.domNode,r._opts.title)),(n=r.domNode.classList).add.apply(n,o),r._opts.notFocusable||(r.domNode.tabIndex=0),r.domNode.setAttribute("role","checkbox"),r.domNode.setAttribute("aria-checked",String(r._checked)),r.domNode.setAttribute("aria-label",r._opts.title),r.applyStyles(),r.onclick(r.domNode,(function(t){r.enabled&&(r.checked=!r._checked,r._onChange.fire(!1),t.preventDefault())})),r._register(r.ignoreGesture(r.domNode)),r.onkeydown(r.domNode,(function(t){if(t.keyCode===10||t.keyCode===3)return r.checked=!r._checked,r._onChange.fire(!0),t.preventDefault(),void t.stopPropagation();r._onKeyDown.fire(t)}));return r}Object.defineProperty(i.prototype,"enabled",{get:function(){return this.domNode.getAttribute("aria-disabled")!=="true"},enumerable:false,configurable:true});i.prototype.focus=function(){this.domNode.focus()};Object.defineProperty(i.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()},enumerable:false,configurable:true});i.prototype.width=function(){return 22};i.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")};i.prototype.enable=function(){this.domNode.setAttribute("aria-disabled",String(!1))};i.prototype.disable=function(){this.domNode.setAttribute("aria-disabled",String(!0))};return i}(pk);var rH=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s};var eH=function(){function t(t){this.nodes=t}t.prototype.toString=function(){return this.nodes.map((function(t){return typeof t=="string"?t:t.label})).join("")};return t}();rH([vk],eH.prototype,"toString",null);var oH=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi,sH={},uH=new lR("quick-input-button-icon-");function aH(t,i,n){var r=t.iconClass||function(t){if(!t)return;var i;var n=t.dark.toString();return sH[n]?i=sH[n]:(i=uH.nextId(),mc(".".concat(i,", .hc-light .").concat(i),"background-image: ".concat(zc(t.light||t.dark))),mc(".vs-dark .".concat(i,", .hc-black .").concat(i),"background-image: ".concat(zc(t.dark))),sH[n]=i),i}(t.iconPath);return t.alwaysVisible&&(r=r?"".concat(r," always-visible"):"always-visible"),{id:i,label:"",tooltip:t.tooltip||"",class:r,enabled:!0,run:n}}function cH(t,i,n){Sc(i);var r=function(t){var i=[];var n,r=0;for(;n=oH.exec(t);){n.index-r>0&&i.push(t.substring(r,n.index));var e=n[1],o=n[2],s=n[4];s?i.push({label:e,href:o,title:s}):i.push({label:e,href:o}),r=n.index+n[0].length}return r<t.length&&i.push(t.substring(r)),new eH(i)}(t);var e=0;var o=function(t){if(typeof t=="string")i.append.apply(i,XO(t));else{var r=t.title;!r&&t.href.startsWith("command:")?r=Bt(0,"Click to execute command '{0}'",t.href.substring(8)):r||(r=t.href);var o=Nc("a",{href:t.href,title:r,tabIndex:e++},t.label);o.style.textDecoration="underline";var s=function(i){Bc(i)&&Cc(i,!0),n.callback(t.href)},u=n.disposables.add(new Hk(o,Ec.CLICK)).event,a=n.disposables.add(new Hk(o,Ec.KEY_DOWN)).event,c=Qn.chain(a,(function(t){return t.filter((function(t){var i=new Qs(t);return i.equals(10)||i.equals(3)}))}));n.disposables.add(wk.addTarget(o));var h=n.disposables.add(new Hk(o,Ak.Tap)).event;Qn.any(u,h,c)(s,null,n.disposables),i.appendChild(o)}};for(var s=0,u=r.nodes;s<u.length;s++){var a=u[s];o(a)}}var hH=function(){function t(t,i){this.renderer=t,this.modelProvider=i}Object.defineProperty(t.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){return{data:this.renderer.renderTemplate(t),disposable:Cn.None}};t.prototype.renderElement=function(t,i,n,r){var e=this;var o;if((o=n.disposable)===null||o===void 0||o.dispose(),!n.data)return;var s=this.modelProvider();if(s.isResolved(t))return this.renderer.renderElement(s.get(t),t,n.data,r);var u=new Kn,a=s.resolve(t,u.token);n.disposable={dispose:function(){return u.cancel()}},this.renderer.renderPlaceholder(t,n.data),a.then((function(i){return e.renderer.renderElement(i,t,n.data,r)}))};t.prototype.disposeTemplate=function(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.renderer.disposeTemplate(t.data),t.data=void 0)};return t}();var fH=function(){function t(t,i){this.modelProvider=t,this.accessibilityProvider=i}t.prototype.getWidgetAriaLabel=function(){return this.accessibilityProvider.getWidgetAriaLabel()};t.prototype.getAriaLabel=function(t){var i=this.modelProvider();return i.isResolved(t)?this.accessibilityProvider.getAriaLabel(i.get(t)):null};return t}();var lH=function(){function t(t,i,n,r,e){if(e===void 0){e={}}var o=this;var s=function(){return o.model},u=r.map((function(t){return new hH(t,s)}));this.list=new bz(t,i,n,u,function(t,i){return __assign(__assign({},i),{accessibilityProvider:i.accessibilityProvider&&new fH(t,i.accessibilityProvider)})}(s,e))}t.prototype.updateOptions=function(t){this.list.updateOptions(t)};t.prototype.getHTMLElement=function(){return this.list.getHTMLElement()};Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this.list.onDidFocus},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"widget",{get:function(){return this.list},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidDispose",{get:function(){return this.list.onDidDispose},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){var t=this;return Qn.map(this.list.onMouseDblClick,(function(i){var n=i.element,r=i.index,e=i.browserEvent;return{element:n===void 0?void 0:t._model.get(n),index:r,browserEvent:e}}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointer",{get:function(){var t=this;return Qn.map(this.list.onPointer,(function(i){var n=i.element,r=i.index,e=i.browserEvent;return{element:n===void 0?void 0:t._model.get(n),index:r,browserEvent:e}}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeSelection",{get:function(){var t=this;return Qn.map(this.list.onDidChangeSelection,(function(i){var n=i.elements,r=i.indexes,e=i.browserEvent;return{elements:n.map((function(i){return t._model.get(i)})),indexes:r,browserEvent:e}}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(t){this._model=t,this.list.splice(0,this.list.length,U(t.length))},enumerable:false,configurable:true});t.prototype.getFocus=function(){return this.list.getFocus()};t.prototype.getSelection=function(){return this.list.getSelection()};t.prototype.getSelectedElements=function(){var t=this;return this.getSelection().map((function(i){return t.model.get(i)}))};t.prototype.style=function(t){this.list.style(t)};t.prototype.dispose=function(){this.list.dispose()};return t}();var dH=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},vH;(function(t){t.North="north",t.South="south",t.East="east",t.West="west"})(vH||(vH={}));var AH=new Ln,gH=new Ln;var wH=function(){function t(t){this.el=t,this.disposables=new Bn}Object.defineProperty(t.prototype,"onPointerMove",{get:function(){return this.disposables.add(new Hk(ka(this.el),"mousemove")).event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointerUp",{get:function(){return this.disposables.add(new Hk(ka(this.el),"mouseup")).event},enumerable:false,configurable:true});t.prototype.dispose=function(){this.disposables.dispose()};return t}();dH([vk],wH.prototype,"onPointerMove",null),dH([vk],wH.prototype,"onPointerUp",null);var pH=function(){function t(t){this.el=t,this.disposables=new Bn}Object.defineProperty(t.prototype,"onPointerMove",{get:function(){return this.disposables.add(new Hk(this.el,Ak.Change)).event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointerUp",{get:function(){return this.disposables.add(new Hk(this.el,Ak.End)).event},enumerable:false,configurable:true});t.prototype.dispose=function(){this.disposables.dispose()};return t}();dH([vk],pH.prototype,"onPointerMove",null),dH([vk],pH.prototype,"onPointerUp",null);var mH=function(){function t(t){this.factory=t}Object.defineProperty(t.prototype,"onPointerMove",{get:function(){return this.factory.onPointerMove},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointerUp",{get:function(){return this.factory.onPointerUp},enumerable:false,configurable:true});t.prototype.dispose=function(){};return t}();dH([vk],mH.prototype,"onPointerMove",null),dH([vk],mH.prototype,"onPointerUp",null);var bH="pointer-events-disabled";var yH=function(t){__extends(i,t);function i(n,r,e){var o=this;o=t.call(this)||this,o.hoverDelay=300,o.hoverDelayer=o._register(new Js(o.hoverDelay)),o._state=3,o.onDidEnablementChange=o._register(new Ln),o._onDidStart=o._register(new Ln),o._onDidChange=o._register(new Ln),o._onDidReset=o._register(new Ln),o._onDidEnd=o._register(new Ln),o.orthogonalStartSashDisposables=o._register(new Bn),o.orthogonalStartDragHandleDisposables=o._register(new Bn),o.orthogonalEndSashDisposables=o._register(new Bn),o.orthogonalEndDragHandleDisposables=o._register(new Bn),o.onDidStart=o._onDidStart.event,o.onDidChange=o._onDidChange.event,o.onDidReset=o._onDidReset.event,o.onDidEnd=o._onDidEnd.event,o.linkedSash=void 0,o.el=_c(n,Nc(".monaco-sash")),e.orthogonalEdge&&o.el.classList.add("orthogonal-edge-".concat(e.orthogonalEdge)),Gt&&o.el.classList.add("mac");var s=o._register(new Hk(o.el,"mousedown")).event;o._register(s((function(t){return o.onPointerStart(t,new wH(n))}),o));var u=o._register(new Hk(o.el,"dblclick")).event;o._register(u(o.onPointerDoublePress,o));var a=o._register(new Hk(o.el,"mouseenter")).event;o._register(a((function(){return i.onMouseEnter(o)})));var c=o._register(new Hk(o.el,"mouseleave")).event;o._register(c((function(){return i.onMouseLeave(o)}))),o._register(wk.addTarget(o.el));var h=o._register(new Hk(o.el,Ak.Start)).event;o._register(h((function(t){return o.onPointerStart(t,new pH(o.el))}),o));var f=o._register(new Hk(o.el,Ak.Tap)).event;var l;o._register(f((function(t){if(l)return clearTimeout(l),l=void 0,void o.onPointerDoublePress(t);clearTimeout(l),l=setTimeout((function(){return l=void 0}),250)}),o)),typeof e.size=="number"?(o.size=e.size,e.orientation===0?o.el.style.width="".concat(o.size,"px"):o.el.style.height="".concat(o.size,"px")):(o.size=4,o._register(AH.event((function(t){o.size=t,o.layout()})))),o._register(gH.event((function(t){return o.hoverDelay=t}))),o.layoutProvider=r,o.orthogonalStartSash=e.orthogonalStartSash,o.orthogonalEndSash=e.orthogonalEndSash,o.orientation=e.orientation||0,o.orientation===1?(o.el.classList.add("horizontal"),o.el.classList.remove("vertical")):(o.el.classList.remove("horizontal"),o.el.classList.add("vertical")),o.el.classList.toggle("debug",!1),o.layout();return o}Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(this.el.classList.toggle("disabled",t===0),this.el.classList.toggle("minimum",t===1),this.el.classList.toggle("maximum",t===2),this._state=t,this.onDidEnablementChange.fire(t))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){var n=this;if(this._orthogonalStartSash!==t){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),t){var r=function(r){n.orthogonalStartDragHandleDisposables.clear(),r!==0&&(n._orthogonalStartDragHandle=_c(n.el,Nc(".orthogonal-drag-handle.start")),n.orthogonalStartDragHandleDisposables.add(En((function(){return n._orthogonalStartDragHandle.remove()}))),n.orthogonalStartDragHandleDisposables.add(new Hk(n._orthogonalStartDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(t)}),void 0,n.orthogonalStartDragHandleDisposables),n.orthogonalStartDragHandleDisposables.add(new Hk(n._orthogonalStartDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(t)}),void 0,n.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(t.onDidEnablementChange.event(r,this)),r(t.state)}this._orthogonalStartSash=t}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){var n=this;if(this._orthogonalEndSash!==t){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),t){var r=function(r){n.orthogonalEndDragHandleDisposables.clear(),r!==0&&(n._orthogonalEndDragHandle=_c(n.el,Nc(".orthogonal-drag-handle.end")),n.orthogonalEndDragHandleDisposables.add(En((function(){return n._orthogonalEndDragHandle.remove()}))),n.orthogonalEndDragHandleDisposables.add(new Hk(n._orthogonalEndDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(t)}),void 0,n.orthogonalEndDragHandleDisposables),n.orthogonalEndDragHandleDisposables.add(new Hk(n._orthogonalEndDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(t)}),void 0,n.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(t.onDidEnablementChange.event(r,this)),r(t.state)}this._orthogonalEndSash=t}},enumerable:false,configurable:true});i.prototype.onPointerStart=function(t,i){var n=this;Cc(t);var r=!1;if(!t.__orthogonalSashEvent){var e=this.getOrthogonalSash(t);e&&(r=!0,t.__orthogonalSashEvent=!0,e.onPointerStart(t,new mH(i)))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onPointerStart(t,new mH(i))),!this.state)return;var o=this.el.ownerDocument.getElementsByTagName("iframe");for(var s=0,u=o;s<u.length;s++){var e=u[s];e.classList.add(bH)}var a=t.pageX,c=t.pageY,h=t.altKey,f={startX:a,currentX:a,startY:c,currentY:c,altKey:h};this.el.classList.add("active"),this._onDidStart.fire(f);var l=dc(this.el),d=function(){var t="";t=r?"all-scroll":n.orientation===1?n.state===1?"s-resize":n.state===2?"n-resize":Gt?"row-resize":"ns-resize":n.state===1?"e-resize":n.state===2?"w-resize":Gt?"col-resize":"ew-resize",l.textContent="* { cursor: ".concat(t," !important; }")},v=new Bn;d(),r||this.onDidEnablementChange.event(d,null,v),i.onPointerMove((function(t){Cc(t,!1);var i={startX:a,currentX:t.pageX,startY:c,currentY:t.pageY,altKey:h};n._onDidChange.fire(i)}),null,v),i.onPointerUp((function(t){Cc(t,!1),n.el.removeChild(l),n.el.classList.remove("active"),n._onDidEnd.fire(),v.dispose();for(var i=0,r=o;i<r.length;i++){var e=r[i];e.classList.remove(bH)}}),null,v),v.add(i)};i.prototype.onPointerDoublePress=function(t){var i=this.getOrthogonalSash(t);i&&i._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()};i.onMouseEnter=function(t,n){if(n===void 0){n=!1}t.el.classList.contains("active")?(t.hoverDelayer.cancel(),t.el.classList.add("hover")):t.hoverDelayer.trigger((function(){return t.el.classList.add("hover")}),t.hoverDelay).then(void 0,(function(){})),!n&&t.linkedSash&&i.onMouseEnter(t.linkedSash,!0)};i.onMouseLeave=function(t,n){if(n===void 0){n=!1}t.hoverDelayer.cancel(),t.el.classList.remove("hover"),!n&&t.linkedSash&&i.onMouseLeave(t.linkedSash,!0)};i.prototype.clearSashHoverState=function(){i.onMouseLeave(this)};i.prototype.layout=function(){if(this.orientation===0){var t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{var t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}};i.prototype.getOrthogonalSash=function(t){var i;var n=(i=t.initialTarget)!==null&&i!==void 0?i:t.target;if(n&&n instanceof HTMLElement)return n.classList.contains("orthogonal-drag-handle")?n.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.el.remove()};return i}(Cn);var kH={separatorBorder:ZA.transparent};var xH=function(){function t(t,i,n,r){this.container=t,this.view=i,this.disposable=r,this._cachedVisibleSize=void 0,typeof n=="number"?(this._size=n,this._cachedVisibleSize=void 0,t.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visible",{get:function(){return this._cachedVisibleSize===void 0},enumerable:false,configurable:true});t.prototype.setVisible=function(t,i){var n,r;if(t!==this.visible){t?(this.size=OQ(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof i=="number"?i:this.size,this.size=0),this.container.classList.toggle("visible",t);try{(r=(n=this.view).setVisible)===null||r===void 0||r.call(n,t)}catch(t){console.error("Splitview: Failed to set visible view"),console.error(t)}}};Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"priority",{get:function(){return this.view.priority},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"proportionalLayout",{get:function(){var t;return(t=this.view.proportionalLayout)===null||t===void 0||t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"enabled",{set:function(t){this.container.style.pointerEvents=t?"":"none"},enumerable:false,configurable:true});t.prototype.layout=function(t,i){this.layoutContainer(t);try{this.view.layout(this.size,t,i)}catch(t){console.error("Splitview: Failed to layout view"),console.error(t)}};t.prototype.dispose=function(){this.disposable.dispose()};return t}();var EH=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.layoutContainer=function(t){this.container.style.top="".concat(t,"px"),this.container.style.height="".concat(this.size,"px")};return i}(xH);var BH=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.layoutContainer=function(t){this.container.style.left="".concat(t,"px"),this.container.style.width="".concat(this.size,"px")};return i}(xH);var CH,DH;(function(t){t[t.Idle=0]="Idle",t[t.Busy=1]="Busy"})(CH||(CH={})),function(t){t.Distribute={type:"distribute"},t.Split=function(t){return{type:"split",index:t}},t.Auto=function(t){return{type:"auto",index:t}},t.Invisible=function(t){return{type:"invisible",cachedVisibleSize:t}}}(DH||(DH={}));var MH=function(t){__extends(i,t);function i(i,n){if(n===void 0){n={}}var r=this;var e,o,s,u,a;r=t.call(this)||this,r.size=0,r._contentSize=0,r.proportions=void 0,r.viewItems=[],r.sashItems=[],r.state=CH.Idle,r._onDidSashChange=r._register(new Ln),r._onDidSashReset=r._register(new Ln),r._startSnappingEnabled=!0,r._endSnappingEnabled=!0,r.onDidSashChange=r._onDidSashChange.event,r.onDidSashReset=r._onDidSashReset.event,r.orientation=(e=n.orientation)!==null&&e!==void 0?e:0,r.inverseAltBehavior=(o=n.inverseAltBehavior)!==null&&o!==void 0&&o,r.proportionalLayout=(s=n.proportionalLayout)===null||s===void 0||s,r.getSashOrthogonalSize=n.getSashOrthogonalSize,r.el=document.createElement("div"),r.el.classList.add("monaco-split-view2"),r.el.classList.add(r.orientation===0?"vertical":"horizontal"),i.appendChild(r.el),r.sashContainer=_c(r.el,Nc(".sash-container")),r.viewContainer=Nc(".split-view-container"),r.scrollable=r._register(new Dk({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:function(t){return Ua(ka(r.el),t)}})),r.scrollableElement=r._register(new Nk(r.viewContainer,{vertical:r.orientation===0?(u=n.scrollbarVisibility)!==null&&u!==void 0?u:1:2,horizontal:r.orientation===1?(a=n.scrollbarVisibility)!==null&&a!==void 0?a:1:2},r.scrollable));var c=r._register(new Hk(r.viewContainer,"scroll")).event;r._register(c((function(t){var i=r.scrollableElement.getScrollPosition(),n=Math.abs(r.viewContainer.scrollLeft-i.scrollLeft)<=1?void 0:r.viewContainer.scrollLeft,e=Math.abs(r.viewContainer.scrollTop-i.scrollTop)<=1?void 0:r.viewContainer.scrollTop;n===void 0&&e===void 0||r.scrollableElement.setScrollPosition({scrollLeft:n,scrollTop:e})}))),r.onDidScroll=r.scrollableElement.onScroll,r._register(r.onDidScroll((function(t){t.scrollTopChanged&&(r.viewContainer.scrollTop=t.scrollTop),t.scrollLeftChanged&&(r.viewContainer.scrollLeft=t.scrollLeft)}))),_c(r.el,r.scrollableElement.getDomNode()),r.style(n.styles||kH),n.descriptor&&(r.size=n.descriptor.size,n.descriptor.views.forEach((function(t,i){var n=ct(t.visible)||t.visible?t.size:{type:"invisible",cachedVisibleSize:t.size},e=t.view;r.doAddView(e,n,i,!0)})),r._contentSize=r.viewItems.reduce((function(t,i){return t+i.size}),0),r.saveProportions());return r}Object.defineProperty(i.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){for(var i=0,n=this.sashItems;i<n.length;i++){var r=n[i];r.sash.orthogonalStartSash=t}this._orthogonalStartSash=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){for(var i=0,n=this.sashItems;i<n.length;i++){var r=n[i];r.sash.orthogonalEndSash=t}this._orthogonalEndSash=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"startSnappingEnabled",{get:function(){return this._startSnappingEnabled},set:function(t){this._startSnappingEnabled!==t&&(this._startSnappingEnabled=t,this.updateSashEnablement())},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"endSnappingEnabled",{get:function(){return this._endSnappingEnabled},set:function(t){this._endSnappingEnabled!==t&&(this._endSnappingEnabled=t,this.updateSashEnablement())},enumerable:false,configurable:true});i.prototype.style=function(t){t.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",t.separatorBorder.toString()))};i.prototype.addView=function(t,i,n,r){if(n===void 0){n=this.viewItems.length}this.doAddView(t,i,n,r)};i.prototype.layout=function(t,i){var n=this;var r=Math.max(this.size,this._contentSize);if(this.size=t,this.layoutContext=i,this.proportions){var e=0;for(var o=0;o<this.viewItems.length;o++){var s=this.viewItems[o],u=this.proportions[o];typeof u=="number"?e+=u:t-=s.size}for(var o=0;o<this.viewItems.length;o++){var s=this.viewItems[o],u=this.proportions[o];typeof u=="number"&&e>0&&(s.size=OQ(Math.round(u*t/e),s.minimumSize,s.maximumSize))}}else{var e=U(this.viewItems.length),o=e.filter((function(t){return n.viewItems[t].priority===1})),s=e.filter((function(t){return n.viewItems[t].priority===2}));this.resize(this.viewItems.length-1,t-r,void 0,o,s)}this.distributeEmptySpace(),this.layoutViews()};i.prototype.saveProportions=function(){var t=this;this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map((function(i){return i.proportionalLayout&&i.visible?i.size/t._contentSize:void 0})))};i.prototype.onSashStart=function(t){var i=this;var n=t.sash,r=t.start,e=t.alt;for(var o=0,s=this.viewItems;o<s.length;o++){var u=s[o];u.enabled=!1}var a=this.sashItems.findIndex((function(t){return t.sash===n})),c=xn(Oa(this.el.ownerDocument.body,"keydown",(function(t){return h(i.sashDragState.current,t.altKey)})),Oa(this.el.ownerDocument.body,"keyup",(function(){return h(i.sashDragState.current,!1)}))),h=function(t,n){var r=i.viewItems.map((function(t){return t.size}));var e,o,s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(i.inverseAltBehavior&&(n=!n),n)if(a===i.sashItems.length-1){var h=i.viewItems[a];s=(h.minimumSize-h.size)/2,u=(h.maximumSize-h.size)/2}else{var h=i.viewItems[a+1];s=(h.size-h.maximumSize)/2,u=(h.size-h.minimumSize)/2}if(!n){var h=U(a,-1),f=U(a+1,i.viewItems.length),l=h.reduce((function(t,n){return t+(i.viewItems[n].minimumSize-r[n])}),0),d=h.reduce((function(t,n){return t+(i.viewItems[n].viewMaximumSize-r[n])}),0),v=f.length===0?Number.POSITIVE_INFINITY:f.reduce((function(t,n){return t+(r[n]-i.viewItems[n].minimumSize)}),0),A=f.length===0?Number.NEGATIVE_INFINITY:f.reduce((function(t,n){return t+(r[n]-i.viewItems[n].viewMaximumSize)}),0),g=Math.max(l,A),w=Math.min(v,d),p=i.findFirstSnapIndex(h),m=i.findFirstSnapIndex(f);if(typeof p=="number"){var b=i.viewItems[p],y=Math.floor(b.viewMinimumSize/2);e={index:p,limitDelta:b.visible?g-y:g+y,size:b.size}}if(typeof m=="number"){var b=i.viewItems[m],y=Math.floor(b.viewMinimumSize/2);o={index:m,limitDelta:b.visible?w+y:w-y,size:b.size}}}i.sashDragState={start:t,current:t,index:a,sizes:r,minDelta:s,maxDelta:u,alt:n,snapBefore:e,snapAfter:o,disposable:c}};h(r,e)};i.prototype.onSashChange=function(t){var i=t.current;var n=this.sashDragState,r=n.index,e=n.start,o=n.sizes,s=n.alt,u=n.minDelta,a=n.maxDelta,c=n.snapBefore,h=n.snapAfter;this.sashDragState.current=i;var f=i-e,l=this.resize(r,f,o,void 0,void 0,u,a,c,h);if(s){var d=r===this.sashItems.length-1,v=this.viewItems.map((function(t){return t.size})),A=d?r:r+1,g=this.viewItems[A],w=g.size-g.maximumSize,p=g.size-g.minimumSize,m=d?r-1:r+1;this.resize(m,-l,v,void 0,void 0,w,p)}this.distributeEmptySpace(),this.layoutViews()};i.prototype.onSashEnd=function(t){this._onDidSashChange.fire(t),this.sashDragState.disposable.dispose(),this.saveProportions();for(var i=0,n=this.viewItems;i<n.length;i++){var r=n[i];r.enabled=!0}};i.prototype.onViewChange=function(t,i){var n=this.viewItems.indexOf(t);n<0||n>=this.viewItems.length||(i=OQ(i=typeof i=="number"?i:t.size,t.minimumSize,t.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((t.size-i)/2)),this.distributeEmptySpace(),this.layoutViews()):(t.size=i,this.relayout([n],void 0)))};i.prototype.resizeView=function(t,i){var n=this;if(!(t<0||t>=this.viewItems.length)){if(this.state!==CH.Idle)throw new Error("Cant modify splitview");this.state=CH.Busy;try{var r=U(this.viewItems.length).filter((function(i){return i!==t})),e=__spreadArray(__spreadArray([],r.filter((function(t){return n.viewItems[t].priority===1})),true),[t],false),o=r.filter((function(t){return n.viewItems[t].priority===2})),s=this.viewItems[t];i=OQ(i=Math.round(i),s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=i,this.relayout(e,o)}finally{this.state=CH.Idle}}};i.prototype.distributeViewSizes=function(){var t=this;var i=[];var n=0;for(var r=0,e=this.viewItems;r<e.length;r++){var o=e[r];o.maximumSize-o.minimumSize>0&&(i.push(o),n+=o.size)}var s=Math.floor(n/i.length);for(var u=0,a=i;u<a.length;u++){var o=a[u];o.size=OQ(s,o.minimumSize,o.maximumSize)}var c=U(this.viewItems.length),h=c.filter((function(i){return t.viewItems[i].priority===1})),f=c.filter((function(i){return t.viewItems[i].priority===2}));this.relayout(h,f)};i.prototype.getViewSize=function(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size};i.prototype.doAddView=function(t,i,n,r){var e=this;if(n===void 0){n=this.viewItems.length}if(this.state!==CH.Idle)throw new Error("Cant modify splitview");this.state=CH.Busy;try{var o=Nc(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(n));var s=t.onDidChange((function(t){return e.onViewChange(c,t)})),u=xn(s,En((function(){return e.viewContainer.removeChild(o)})));var a=void 0;typeof i=="number"?a=i:(i.type==="auto"&&(i=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:i.index}),a=i.type==="split"?this.getViewSize(i.index)/2:i.type==="invisible"?{cachedVisibleSize:i.cachedVisibleSize}:t.minimumSize);var c=this.orientation===0?new EH(o,t,a,u):new BH(o,t,a,u);if(this.viewItems.splice(n,0,c),this.viewItems.length>1){var h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new yH(this.sashContainer,{getHorizontalSashTop:function(t){return e.getSashPosition(t)},getHorizontalSashWidth:this.getSashOrthogonalSize},__assign(__assign({},h),{orientation:1})):new yH(this.sashContainer,{getVerticalSashLeft:function(t){return e.getSashPosition(t)},getVerticalSashHeight:this.getSashOrthogonalSize},__assign(__assign({},h),{orientation:0})),l=this.orientation===0?function(t){return{sash:f,start:t.startY,current:t.currentY,alt:t.altKey}}:function(t){return{sash:f,start:t.startX,current:t.currentX,alt:t.altKey}},d=Qn.map(f.onDidStart,l)(this.onSashStart,this),v=Qn.map(f.onDidChange,l)(this.onSashChange,this),A=Qn.map(f.onDidEnd,(function(){return e.sashItems.findIndex((function(t){return t.sash===f}))})),g=A(this.onSashEnd,this),w=f.onDidReset((function(){var t=e.sashItems.findIndex((function(t){return t.sash===f})),i=U(t,-1),n=U(t+1,e.viewItems.length),r=e.findFirstSnapIndex(i),o=e.findFirstSnapIndex(n);(typeof r!="number"||e.viewItems[r].visible)&&(typeof o!="number"||e.viewItems[o].visible)&&e._onDidSashReset.fire(t)})),p=xn(d,v,g,w,f),m={sash:f,disposable:p};this.sashItems.splice(n-1,0,m)}var b;o.appendChild(t.element),typeof i!="number"&&i.type==="split"&&(b=[i.index]),r||this.relayout([n],b),r||typeof i=="number"||i.type!=="distribute"||this.distributeViewSizes()}finally{this.state=CH.Idle}};i.prototype.relayout=function(t,i){var n=this.viewItems.reduce((function(t,i){return t+i.size}),0);this.resize(this.viewItems.length-1,this.size-n,void 0,t,i),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()};i.prototype.resize=function(t,i,n,r,e,o,s,u,a){var c=this;if(n===void 0){n=this.viewItems.map((function(t){return t.size}))}if(o===void 0){o=Number.NEGATIVE_INFINITY}if(s===void 0){s=Number.POSITIVE_INFINITY}if(t<0||t>=this.viewItems.length)return 0;var h=U(t,-1),f=U(t+1,this.viewItems.length);if(e)for(var l=0,d=e;l<d.length;l++){var v=d[l];Y(h,v),Y(f,v)}if(r)for(var A=0,g=r;A<g.length;A++){var v=g[A];J(h,v),J(f,v)}var w=h.map((function(t){return c.viewItems[t]})),p=h.map((function(t){return n[t]})),m=f.map((function(t){return c.viewItems[t]})),b=f.map((function(t){return n[t]})),y=h.reduce((function(t,i){return t+(c.viewItems[i].minimumSize-n[i])}),0),k=h.reduce((function(t,i){return t+(c.viewItems[i].maximumSize-n[i])}),0),x=f.length===0?Number.POSITIVE_INFINITY:f.reduce((function(t,i){return t+(n[i]-c.viewItems[i].minimumSize)}),0),E=f.length===0?Number.NEGATIVE_INFINITY:f.reduce((function(t,i){return t+(n[i]-c.viewItems[i].maximumSize)}),0),B=Math.max(y,E,o),C=Math.min(x,k,s);var D=!1;if(u){var v=this.viewItems[u.index],M=i>=u.limitDelta;D=M!==v.visible,v.setVisible(M,u.size)}if(!D&&a){var v=this.viewItems[a.index],M=i<a.limitDelta;D=M!==v.visible,v.setVisible(M,a.size)}if(D)return this.resize(t,i,n,r,e,o,s);for(var v=0,M=i=OQ(i,B,C);v<w.length;v++){var _=w[v],F=OQ(p[v]+M,_.minimumSize,_.maximumSize);M-=F-p[v],_.size=F}for(var v=0,M=i;v<m.length;v++){var _=m[v],F=OQ(b[v]-M,_.minimumSize,_.maximumSize);M+=F-b[v],_.size=F}return i};i.prototype.distributeEmptySpace=function(t){var i=this;var n=this.viewItems.reduce((function(t,i){return t+i.size}),0);var r=this.size-n;var e=U(this.viewItems.length-1,-1),o=e.filter((function(t){return i.viewItems[t].priority===1})),s=e.filter((function(t){return i.viewItems[t].priority===2}));for(var u=0,a=s;u<a.length;u++){var c=a[u];Y(e,c)}for(var h=0,f=o;h<f.length;h++){var c=f[h];J(e,c)}typeof t=="number"&&J(e,t);for(var c=0;r!==0&&c<e.length;c++){var l=this.viewItems[e[c]],d=OQ(l.size+r,l.minimumSize,l.maximumSize);r-=d-l.size,l.size=d}};i.prototype.layoutViews=function(){this._contentSize=this.viewItems.reduce((function(t,i){return t+i.size}),0);var t=0;for(var i=0,n=this.viewItems;i<n.length;i++){var r=n[i];r.layout(t,this.layoutContext),t+=r.size}this.sashItems.forEach((function(t){return t.sash.layout()})),this.updateSashEnablement(),this.updateScrollableElement()};i.prototype.updateScrollableElement=function(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})};i.prototype.updateSashEnablement=function(){var t=!1;var i=this.viewItems.map((function(i){return t=i.size-i.minimumSize>0||t}));t=!1;var n=this.viewItems.map((function(i){return t=i.maximumSize-i.size>0||t})),r=__spreadArray([],this.viewItems,true).reverse();t=!1;var e=r.map((function(i){return t=i.size-i.minimumSize>0||t})).reverse();t=!1;var o=r.map((function(i){return t=i.maximumSize-i.size>0||t})).reverse();var s=0;for(var u=0;u<this.sashItems.length;u++){var a=this.sashItems[u].sash;s+=this.viewItems[u].size;var c=!(i[u]&&o[u+1]),h=!(n[u]&&e[u+1]);if(c&&h){var f=U(u,-1),l=U(u+1,this.viewItems.length),d=this.findFirstSnapIndex(f),v=this.findFirstSnapIndex(l),A=typeof d=="number"&&!this.viewItems[d].visible,g=typeof v=="number"&&!this.viewItems[v].visible;A&&e[u]&&(s>0||this.startSnappingEnabled)?a.state=1:g&&i[u]&&(s<this._contentSize||this.endSnappingEnabled)?a.state=2:a.state=0}else a.state=c&&!h?1:!c&&h?2:3}};i.prototype.getSashPosition=function(t){var i=0;for(var n=0;n<this.sashItems.length;n++)if(i+=this.viewItems[n].size,this.sashItems[n].sash===t)return i;return 0};i.prototype.findFirstSnapIndex=function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];var e=this.viewItems[r];if(e.visible&&e.snap)return r}for(var o=0,s=t;o<s.length;o++){var r=s[o];var e=this.viewItems[r];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return r}};i.prototype.areViewsDistributed=function(){var t,i;for(var n=0,r=this.viewItems;n<r.length;n++){var e=r[n];if(t=t===void 0?e.size:Math.min(t,e.size),i=i===void 0?e.size:Math.max(i,e.size),i-t>2)return!1}return!0};i.prototype.dispose=function(){var i;(i=this.sashDragState)===null||i===void 0||i.disposable.dispose(),kn(this.viewItems),this.viewItems=[],this.sashItems.forEach((function(t){return t.disposable.dispose()})),this.sashItems=[],t.prototype.dispose.call(this)};return i}(Cn);var _H=function(){function t(i,n,r){this.columns=i,this.getColumnSize=r,this.templateId=t.TemplateId,this.renderedTemplates=new Set;var e=new Map(n.map((function(t){return[t.templateId,t]})));this.renderers=[];for(var o=0,s=i;o<s.length;o++){var u=s[o];var a=e.get(u.templateId);if(!a)throw new Error("Table cell renderer for template id ".concat(u.templateId," not found."));this.renderers.push(a)}}t.prototype.renderTemplate=function(t){var i=_c(t,Nc(".monaco-table-tr")),n=[],r=[];for(var e=0;e<this.columns.length;e++){var o=this.renderers[e],s=_c(i,Nc(".monaco-table-td",{"data-col-index":e}));s.style.width="".concat(this.getColumnSize(e),"px"),n.push(s),r.push(o.renderTemplate(s))}var u={container:t,cellContainers:n,cellTemplateData:r};return this.renderedTemplates.add(u),u};t.prototype.renderElement=function(t,i,n,r){for(var e=0;e<this.columns.length;e++){var o=this.columns[e].project(t);this.renderers[e].renderElement(o,i,n.cellTemplateData[e],r)}};t.prototype.disposeElement=function(t,i,n,r){for(var e=0;e<this.columns.length;e++){var o=this.renderers[e];if(o.disposeElement){var s=this.columns[e].project(t);o.disposeElement(s,i,n.cellTemplateData[e],r)}}};t.prototype.disposeTemplate=function(t){for(var i=0;i<this.columns.length;i++)this.renderers[i].disposeTemplate(t.cellTemplateData[i]);Ia(t.container),this.renderedTemplates.delete(t)};t.prototype.layoutColumn=function(t,i){for(var n=0,r=this.renderedTemplates;n<r.length;n++){var e=r[n].cellContainers;e[t].style.width="".concat(i,"px")}};return t}();_H.TemplateId="row";var FH=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.column=i,r.index=n,r._onDidLayout=new Ln,r.onDidLayout=r._onDidLayout.event,r.element=Nc(".monaco-table-th",{"data-col-index":n},i.label),i.tooltip&&r._register(YL(jL("mouse"),r.element,i.tooltip));return r}Object.defineProperty(i.prototype,"minimumSize",{get:function(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"maximumSize",{get:function(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"onDidChange",{get:function(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:Qn.None},enumerable:false,configurable:true});i.prototype.layout=function(t){this._onDidLayout.fire([this.index,t])};return i}(Cn);var SH=function(){function t(i,n,r,e,o,s){var u=this;this.virtualDelegate=r,this.domId="table_id_"+ ++t.InstanceCount,this.disposables=new Bn,this.cachedWidth=0,this.cachedHeight=0,this.domNode=_c(n,Nc(".monaco-table.".concat(this.domId)));var a=e.map((function(t,i){return u.disposables.add(new FH(t,i))})),c={size:a.reduce((function(t,i){return t+i.column.weight}),0),views:a.map((function(t){return{size:t.column.weight,view:t}}))};this.splitview=this.disposables.add(new MH(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:function(){return u.cachedHeight},descriptor:c})),this.splitview.el.style.height="".concat(r.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(r.headerRowHeight,"px");var h=new _H(e,o,(function(t){return u.splitview.getViewSize(t)}));var f;this.list=this.disposables.add(new bz(i,this.domNode,(f=r,{getHeight:function(t){return f.getHeight(t)},getTemplateId:function(){return _H.TemplateId}}),[h],s)),Qn.any.apply(Qn,a.map((function(t){return t.onDidLayout})))((function(t){var i=t[0],n=t[1];return h.layoutColumn(i,n)}),null,this.disposables),this.splitview.onDidSashReset((function(t){var i=e.reduce((function(t,i){return t+i.weight}),0),n=e[t].weight/i*u.cachedWidth;u.splitview.resizeView(t,n)}),null,this.disposables),this.styleElement=dc(this.domNode),this.style(dz)}Object.defineProperty(t.prototype,"onDidChangeFocus",{get:function(){return this.list.onDidChangeFocus},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeSelection",{get:function(){return this.list.onDidChangeSelection},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidScroll",{get:function(){return this.list.onDidScroll},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){return this.list.onMouseDblClick},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointer",{get:function(){return this.list.onPointer},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this.list.onDidFocus},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.list.scrollTop},set:function(t){this.list.scrollTop=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this.list.scrollHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.list.renderHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidDispose",{get:function(){return this.list.onDidDispose},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){this.list.updateOptions(t)};t.prototype.splice=function(t,i,n){if(n===void 0){n=[]}this.list.splice(t,i,n)};t.prototype.getHTMLElement=function(){return this.domNode};t.prototype.style=function(t){var i=[];i.push(".monaco-table.".concat(this.domId," > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ").concat(this.virtualDelegate.headerRowHeight+1,"px;\n\t\t\theight: calc(100% - ").concat(this.virtualDelegate.headerRowHeight,"px);\n\t\t}")),this.styleElement.textContent=i.join("\n"),this.list.style(t)};t.prototype.getSelectedElements=function(){return this.list.getSelectedElements()};t.prototype.getSelection=function(){return this.list.getSelection()};t.prototype.getFocus=function(){return this.list.getFocus()};t.prototype.dispose=function(){this.disposables.dispose()};return t}();SH.InstanceCount=0;var IH=Bt(0,"Match Case"),QH=Bt(0,"Match Whole Word"),OH=Bt(0,"Use Regular Expression");var NH=function(t){__extends(i,t);function i(i){var n;return t.call(this,{icon:re.caseSensitive,title:IH+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(n=i.hoverDelegate)!==null&&n!==void 0?n:jL("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})||this}return i}(nH);var RH=function(t){__extends(i,t);function i(i){var n;return t.call(this,{icon:re.wholeWord,title:QH+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(n=i.hoverDelegate)!==null&&n!==void 0?n:jL("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})||this}return i}(nH);var TH=function(t){__extends(i,t);function i(i){var n;return t.call(this,{icon:re.regex,title:OH+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(n=i.hoverDelegate)!==null&&n!==void 0?n:jL("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})||this}return i}(nH);var LH=function(){function t(t,i,n,r){if(i===void 0){i=0}if(n===void 0){n=t.length}if(r===void 0){r=i-1}this.items=t,this.start=i,this.end=n,this.index=r}t.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]};t.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()};t.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()};t.prototype.first=function(){return this.index=this.start,this.current()};t.prototype.last=function(){return this.index=this.end-1,this.current()};return t}();var jH=function(){function t(t,i){if(t===void 0){t=[]}if(i===void 0){i=10}this._initialize(t),this._limit=i,this._onChange()}t.prototype.getHistory=function(){return this._elements};t.prototype.add=function(t){this._history.delete(t),this._history.add(t),this._onChange()};t.prototype.next=function(){return this._navigator.next()};t.prototype.previous=function(){return this._currentPosition()!==0?this._navigator.previous():null};t.prototype.current=function(){return this._navigator.current()};t.prototype.first=function(){return this._navigator.first()};t.prototype.last=function(){return this._navigator.last()};t.prototype.isLast=function(){return this._currentPosition()>=this._elements.length-1};t.prototype.isNowhere=function(){return this._navigator.current()===null};t.prototype.has=function(t){return this._history.has(t)};t.prototype._onChange=function(){this._reduceToLimit();var t=this._elements;this._navigator=new LH(t,0,t.length,t.length)};t.prototype._reduceToLimit=function(){var t=this._elements;t.length>this._limit&&this._initialize(t.slice(t.length-this._limit))};t.prototype._currentPosition=function(){var t=this._navigator.current();return t?this._elements.indexOf(t):-1};t.prototype._initialize=function(t){this._history=new Set;for(var i=0,n=t;i<n.length;i++){var r=n[i];this._history.add(r)}};Object.defineProperty(t.prototype,"_elements",{get:function(){var t=[];return this._history.forEach((function(i){return t.push(i)})),t},enumerable:false,configurable:true});return t}();var zH=Nc;var UH=function(t){__extends(i,t);function i(i,n,r){var e=this;var o;e=t.call(this)||this,e.state="idle",e.maxHeight=Number.POSITIVE_INFINITY,e._onDidChange=e._register(new Ln),e.onDidChange=e._onDidChange.event,e._onDidHeightChange=e._register(new Ln),e.onDidHeightChange=e._onDidHeightChange.event,e.contextViewProvider=n,e.options=r,e.message=null,e.placeholder=e.options.placeholder||"",e.tooltip=(o=e.options.tooltip)!==null&&o!==void 0?o:e.placeholder||"",e.ariaLabel=e.options.ariaLabel||"",e.options.validationOptions&&(e.validation=e.options.validationOptions.validation),e.element=_c(i,zH(".monaco-inputbox.idle"));var s=e.options.flexibleHeight?"textarea":"input",u=_c(e.element,zH(".ibwrapper"));if(e.input=_c(u,zH(s+".input.empty")),e.input.setAttribute("autocorrect","off"),e.input.setAttribute("autocapitalize","off"),e.input.setAttribute("spellcheck","false"),e.onfocus(e.input,(function(){return e.element.classList.add("synthetic-focus")})),e.onblur(e.input,(function(){return e.element.classList.remove("synthetic-focus")})),e.options.flexibleHeight){e.maxHeight=typeof e.options.flexibleMaxHeight=="number"?e.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,e.mirror=_c(u,zH("div.mirror")),e.mirror.innerText=" ",e.scrollableElement=new Ok(e.element,{vertical:1}),e.options.flexibleWidth&&(e.input.setAttribute("wrap","off"),e.mirror.style.whiteSpace="pre",e.mirror.style.wordWrap="initial"),_c(i,e.scrollableElement.getDomNode()),e._register(e.scrollableElement),e._register(e.scrollableElement.onScroll((function(t){return e.input.scrollTop=t.scrollTop})));var a=e._register(new Hk(i.ownerDocument,"selectionchange")),c=Qn.filter(a.event,(function(){var t=i.ownerDocument.getSelection();return(t==null?void 0:t.anchorNode)===u}));e._register(c(e.updateScrollDimensions,e)),e._register(e.onDidHeightChange(e.updateScrollDimensions,e))}else e.input.type=e.options.type||"text",e.input.setAttribute("wrap","off");e.ariaLabel&&e.input.setAttribute("aria-label",e.ariaLabel),e.placeholder&&!e.options.showPlaceholderOnFocus&&e.setPlaceHolder(e.placeholder),e.tooltip&&e.setTooltip(e.tooltip),e.oninput(e.input,(function(){return e.onValueChange()})),e.onblur(e.input,(function(){return e.onBlur()})),e.onfocus(e.input,(function(){return e.onFocus()})),e._register(e.ignoreGesture(e.input)),setTimeout((function(){return e.updateMirror()}),0),e.options.actions&&(e.actionbar=e._register(new cU(e.element)),e.actionbar.push(e.options.actions,{icon:!0,label:!1})),e.applyStyles();return e}i.prototype.onBlur=function(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")};i.prototype.onFocus=function(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")};i.prototype.setPlaceHolder=function(t){this.placeholder=t,this.input.setAttribute("placeholder",t)};i.prototype.setTooltip=function(t){this.tooltip=t,this.hover?this.hover.update(t):this.hover=this._register(YL(jL("mouse"),this.input,t))};Object.defineProperty(i.prototype,"inputElement",{get:function(){return this.input},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return typeof this.cachedHeight=="number"?this.cachedHeight:tc(this.element)},enumerable:false,configurable:true});i.prototype.focus=function(){this.input.focus()};i.prototype.blur=function(){this.input.blur()};i.prototype.hasFocus=function(){return uc(this.input)};i.prototype.select=function(t){if(t===void 0){t=null}this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))};i.prototype.isSelectionAtEnd=function(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd};i.prototype.getSelection=function(){var t;var i=this.input.selectionStart;return i===null?null:{start:i,end:(t=this.input.selectionEnd)!==null&&t!==void 0?t:i}};i.prototype.enable=function(){this.input.removeAttribute("disabled")};i.prototype.disable=function(){this.blur(),this.input.disabled=!0,this._hideMessage()};Object.defineProperty(i.prototype,"paddingRight",{set:function(t){this.input.style.width="calc(100% - ".concat(t,"px)"),this.mirror&&(this.mirror.style.paddingRight=t+"px")},enumerable:false,configurable:true});i.prototype.updateScrollDimensions=function(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;var t=this.cachedContentHeight,i=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:i}),this.scrollableElement.setScrollPosition({scrollTop:n})};i.prototype.showMessage=function(t,i){if(this.state==="open"&&yt(this.message,t))return;this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));var n=this.stylesForType(this.message.type);this.element.style.border="1px solid ".concat(Hc(n.border,"transparent")),this.message.content&&(this.hasFocus()||i)&&this._showMessage()};i.prototype.hideMessage=function(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()};i.prototype.validate=function(){var t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type};i.prototype.stylesForType=function(t){var i=this.options.inputBoxStyles;switch(t){case 1:return{border:i.inputValidationInfoBorder,background:i.inputValidationInfoBackground,foreground:i.inputValidationInfoForeground};case 2:return{border:i.inputValidationWarningBorder,background:i.inputValidationWarningBackground,foreground:i.inputValidationWarningForeground};default:return{border:i.inputValidationErrorBorder,background:i.inputValidationErrorBackground,foreground:i.inputValidationErrorForeground}}};i.prototype.classForType=function(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}};i.prototype._showMessage=function(){var t=this;if(!this.contextViewProvider||!this.message)return;var i;var n=function(){return i.style.width=qa(t.element)+"px"};var r;this.contextViewProvider.showContextView({getAnchor:function(){return t.element},anchorAlignment:1,render:function(r){var e,o;if(!t.message)return null;i=_c(r,zH(".monaco-inputbox-container")),n();var s={inline:!0,className:"monaco-inputbox-message"},u=t.message.formatContent?YO(t.message.content,s):function(t,i){if(i===void 0){i={}}var n=JO(i);return n.textContent=t,n}(t.message.content,s);u.classList.add(t.classForType(t.message.type));var a=t.stylesForType(t.message.type);return u.style.backgroundColor=(e=a.background)!==null&&e!==void 0?e:"",u.style.color=(o=a.foreground)!==null&&o!==void 0?o:"",u.style.border=a.border?"1px solid ".concat(a.border):"",_c(i,u),null},onHide:function(){t.state="closed"},layout:n}),r=this.message.type===3?Bt(0,"Error: {0}",this.message.content):this.message.type===2?Bt(0,"Warning: {0}",this.message.content):Bt(0,"Info: {0}",this.message.content),Rw(r),this.state="open"};i.prototype._hideMessage=function(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")};i.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()};i.prototype.updateMirror=function(){if(!this.mirror)return;var t=this.value,i=t.charCodeAt(t.length-1)===10?" ":"";(t+i).replace(/\u000c/g,"")?this.mirror.textContent=t+i:this.mirror.innerText=" ",this.layout()};i.prototype.applyStyles=function(){var t,i,n;var r=this.options.inputBoxStyles,e=(t=r.inputBackground)!==null&&t!==void 0?t:"",o=(i=r.inputForeground)!==null&&i!==void 0?i:"",s=(n=r.inputBorder)!==null&&n!==void 0?n:"";this.element.style.backgroundColor=e,this.element.style.color=o,this.input.style.backgroundColor="inherit",this.input.style.color=o,this.element.style.border="1px solid ".concat(Hc(s,"transparent"))};i.prototype.layout=function(){if(!this.mirror)return;var t=this.cachedContentHeight;this.cachedContentHeight=tc(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))};i.prototype.insertAtCursor=function(t){var i=this.inputElement,n=i.selectionStart,r=i.selectionEnd,e=i.value;n!==null&&r!==null&&(this.value=e.substr(0,n)+t+e.substr(r),i.setSelectionRange(n+1,n+1),this.layout())};i.prototype.dispose=function(){var i;this._hideMessage(),this.message=null,(i=this.actionbar)===null||i===void 0||i.dispose(),t.prototype.dispose.call(this)};return i}(pk);var HH=function(t){__extends(i,t);function i(i,n,r){var e=this;var o=Bt(0," or {0} for history","⇅"),s=Bt(0," ({0} for history)","⇅");e=t.call(this,i,n,r)||this,e._onDidFocus=e._register(new Ln),e.onDidFocus=e._onDidFocus.event,e._onDidBlur=e._register(new Ln),e.onDidBlur=e._onDidBlur.event,e.history=new jH(r.history,100);var u=function(){if(r.showHistoryHint&&r.showHistoryHint()&&!e.placeholder.endsWith(o)&&!e.placeholder.endsWith(s)&&e.history.getHistory().length){var t=e.placeholder.endsWith(")")?o:s,i=e.placeholder+t;r.showPlaceholderOnFocus&&!uc(e.input)?e.placeholder=i:e.setPlaceHolder(i)}};e.observer=new MutationObserver((function(t,i){t.forEach((function(t){t.target.textContent||u()}))})),e.observer.observe(e.input,{attributeFilter:["class"]}),e.onfocus(e.input,(function(){return u()})),e.onblur(e.input,(function(){var t=function(t){if(e.placeholder.endsWith(t)){var i=e.placeholder.slice(0,e.placeholder.length-t.length);return r.showPlaceholderOnFocus?e.placeholder=i:e.setPlaceHolder(i),!0}return!1};t(s)||t(o)}));return e}i.prototype.dispose=function(){t.prototype.dispose.call(this),this.observer&&(this.observer.disconnect(),this.observer=void 0)};i.prototype.addToHistory=function(t){this.value&&(t||this.value!==this.getCurrentValue())&&this.history.add(this.value)};i.prototype.isAtLastInHistory=function(){return this.history.isLast()};i.prototype.isNowhereInHistory=function(){return this.history.isNowhere()};i.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),this.value=t!==null&&t!==void 0?t:"",Tw(this.value?this.value:Bt(0,"Cleared Input"))};i.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,Tw(this.value))};i.prototype.setPlaceHolder=function(i){t.prototype.setPlaceHolder.call(this,i),this.setTooltip(i)};i.prototype.onBlur=function(){t.prototype.onBlur.call(this),this._onDidBlur.fire()};i.prototype.onFocus=function(){t.prototype.onFocus.call(this),this._onDidFocus.fire()};i.prototype.getCurrentValue=function(){var t=this.history.current();return t||(t=this.history.last(),this.history.next()),t};i.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()};i.prototype.getNextValue=function(){return this.history.next()};return i}(UH);var YH=Bt(0,"input");var JH=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.fixFocusOnOptionClickEnabled=!0,e.imeSessionInProgress=!1,e.additionalTogglesDisposables=e._register(new Dn),e.additionalToggles=[],e._onDidOptionChange=e._register(new Ln),e.onDidOptionChange=e._onDidOptionChange.event,e._onKeyDown=e._register(new Ln),e.onKeyDown=e._onKeyDown.event,e._onMouseDown=e._register(new Ln),e.onMouseDown=e._onMouseDown.event,e._onInput=e._register(new Ln),e._onKeyUp=e._register(new Ln),e._onCaseSensitiveKeyDown=e._register(new Ln),e.onCaseSensitiveKeyDown=e._onCaseSensitiveKeyDown.event,e._onRegexKeyDown=e._register(new Ln),e.onRegexKeyDown=e._onRegexKeyDown.event,e._lastHighlightFindOptions=0,e.placeholder=r.placeholder||"",e.validation=r.validation,e.label=r.label||YH,e.showCommonFindToggles=!!r.showCommonFindToggles;var o=r.appendCaseSensitiveLabel||"",s=r.appendWholeWordsLabel||"",u=r.appendRegexLabel||"",a=r.history||[],c=!!r.flexibleHeight,h=!!r.flexibleWidth,f=r.flexibleMaxHeight;e.domNode=document.createElement("div"),e.domNode.classList.add("monaco-findInput"),e.inputBox=e._register(new HH(e.domNode,n,{placeholder:e.placeholder||"",ariaLabel:e.label||"",validationOptions:{validation:e.validation},history:a,showHistoryHint:r.showHistoryHint,flexibleHeight:c,flexibleWidth:h,flexibleMaxHeight:f,inputBoxStyles:r.inputBoxStyles}));var l=e._register(zL());if(e.showCommonFindToggles){e.regex=e._register(new TH(__assign({appendTitle:u,isChecked:!1,hoverDelegate:l},r.toggleStyles))),e._register(e.regex.onChange((function(t){e._onDidOptionChange.fire(t),!t&&e.fixFocusOnOptionClickEnabled&&e.inputBox.focus(),e.validate()}))),e._register(e.regex.onKeyDown((function(t){e._onRegexKeyDown.fire(t)}))),e.wholeWords=e._register(new RH(__assign({appendTitle:s,isChecked:!1,hoverDelegate:l},r.toggleStyles))),e._register(e.wholeWords.onChange((function(t){e._onDidOptionChange.fire(t),!t&&e.fixFocusOnOptionClickEnabled&&e.inputBox.focus(),e.validate()}))),e.caseSensitive=e._register(new NH(__assign({appendTitle:o,isChecked:!1,hoverDelegate:l},r.toggleStyles))),e._register(e.caseSensitive.onChange((function(t){e._onDidOptionChange.fire(t),!t&&e.fixFocusOnOptionClickEnabled&&e.inputBox.focus(),e.validate()}))),e._register(e.caseSensitive.onKeyDown((function(t){e._onCaseSensitiveKeyDown.fire(t)})));var d=[e.caseSensitive.domNode,e.wholeWords.domNode,e.regex.domNode];e.onkeydown(e.domNode,(function(t){if(t.equals(15)||t.equals(17)||t.equals(9)){var i=d.indexOf(e.domNode.ownerDocument.activeElement);if(i>=0){var n=-1;t.equals(17)?n=(i+1)%d.length:t.equals(15)&&(n=i===0?d.length-1:i-1),t.equals(9)?(d[i].blur(),e.inputBox.focus()):n>=0&&d[n].focus(),Cc(t,!0)}}}))}e.controls=document.createElement("div"),e.controls.className="controls",e.controls.style.display=e.showCommonFindToggles?"":"none",e.caseSensitive&&e.controls.append(e.caseSensitive.domNode),e.wholeWords&&e.controls.appendChild(e.wholeWords.domNode),e.regex&&e.controls.appendChild(e.regex.domNode),e.setAdditionalToggles(r==null?void 0:r.additionalToggles),e.controls&&e.domNode.appendChild(e.controls),i==null||i.appendChild(e.domNode),e._register(Oa(e.inputBox.inputElement,"compositionstart",(function(t){e.imeSessionInProgress=!0}))),e._register(Oa(e.inputBox.inputElement,"compositionend",(function(t){e.imeSessionInProgress=!1,e._onInput.fire()}))),e.onkeydown(e.inputBox.inputElement,(function(t){return e._onKeyDown.fire(t)})),e.onkeyup(e.inputBox.inputElement,(function(t){return e._onKeyUp.fire(t)})),e.oninput(e.inputBox.inputElement,(function(t){return e._onInput.fire()})),e.onmousedown(e.inputBox.inputElement,(function(t){return e._onMouseDown.fire(t)}));return e}Object.defineProperty(i.prototype,"onDidChange",{get:function(){return this.inputBox.onDidChange},enumerable:false,configurable:true});i.prototype.layout=function(t){this.inputBox.layout(),this.updateInputBoxPadding(t.collapsedFindWidget)};i.prototype.enable=function(){var t,i,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(t=this.regex)===null||t===void 0||t.enable(),(i=this.wholeWords)===null||i===void 0||i.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(var r=0,e=this.additionalToggles;r<e.length;r++){var o=e[r];o.enable()}};i.prototype.disable=function(){var t,i,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(t=this.regex)===null||t===void 0||t.disable(),(i=this.wholeWords)===null||i===void 0||i.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(var r=0,e=this.additionalToggles;r<e.length;r++){var o=e[r];o.disable()}};i.prototype.setFocusInputOnOptionClick=function(t){this.fixFocusOnOptionClickEnabled=t};i.prototype.setEnabled=function(t){t?this.enable():this.disable()};i.prototype.setAdditionalToggles=function(t){var i=this;for(var n=0,r=this.additionalToggles;n<r.length;n++){var e=r[n];e.domNode.remove()}this.additionalToggles=[],this.additionalTogglesDisposables.value=new Bn;for(var o=0,s=t!==null&&t!==void 0?t:[];o<s.length;o++){var e=s[o];this.additionalTogglesDisposables.value.add(e),this.controls.appendChild(e.domNode),this.additionalTogglesDisposables.value.add(e.onChange((function(t){i._onDidOptionChange.fire(t),!t&&i.fixFocusOnOptionClickEnabled&&i.inputBox.focus()}))),this.additionalToggles.push(e)}this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()};i.prototype.updateInputBoxPadding=function(t){if(t===void 0){t=!1}var i,n,r,e,o,s;this.inputBox.paddingRight=t?0:((n=(i=this.caseSensitive)===null||i===void 0?void 0:i.width())!==null&&n!==void 0?n:0)+((e=(r=this.wholeWords)===null||r===void 0?void 0:r.width())!==null&&e!==void 0?e:0)+((s=(o=this.regex)===null||o===void 0?void 0:o.width())!==null&&s!==void 0?s:0)+this.additionalToggles.reduce((function(t,i){return t+i.width()}),0)};i.prototype.getValue=function(){return this.inputBox.value};i.prototype.setValue=function(t){this.inputBox.value!==t&&(this.inputBox.value=t)};i.prototype.select=function(){this.inputBox.select()};i.prototype.focus=function(){this.inputBox.focus()};i.prototype.getCaseSensitive=function(){var t,i;return(i=(t=this.caseSensitive)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0&&i};i.prototype.setCaseSensitive=function(t){this.caseSensitive&&(this.caseSensitive.checked=t)};i.prototype.getWholeWords=function(){var t,i;return(i=(t=this.wholeWords)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0&&i};i.prototype.setWholeWords=function(t){this.wholeWords&&(this.wholeWords.checked=t)};i.prototype.getRegex=function(){var t,i;return(i=(t=this.regex)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0&&i};i.prototype.setRegex=function(t){this.regex&&(this.regex.checked=t,this.validate())};i.prototype.focusOnCaseSensitive=function(){var t;(t=this.caseSensitive)===null||t===void 0||t.focus()};i.prototype.highlightFindOptions=function(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)};i.prototype.validate=function(){this.inputBox.validate()};i.prototype.showMessage=function(t){this.inputBox.showMessage(t)};i.prototype.clearMessage=function(){this.inputBox.hideMessage()};return i}(pk);var PH,WH,GH,VH,KH;(function(t){t[t.Expanded=0]="Expanded",t[t.Collapsed=1]="Collapsed",t[t.PreserveOrExpanded=2]="PreserveOrExpanded",t[t.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(PH||(PH={})),function(t){t[t.Unknown=0]="Unknown",t[t.Twistie=1]="Twistie",t[t.Element=2]="Element",t[t.Filter=3]="Filter"}(WH||(WH={}));var XH=function(t){__extends(i,t);function i(i,n){return t.call(this,"TreeError [".concat(i,"] ").concat(n))||this}return i}(Error);var qH=function(){function t(t){this.fn=t,this._map=new WeakMap}t.prototype.map=function(t){var i=this._map.get(t);return i||(i=this.fn(t),this._map.set(t,i)),i};return t}();function ZH(t){return typeof t=="object"&&"visibility"in t&&"data"in t}function $H(t){switch(t){case!0:return 1;case!1:return 0;default:return t}}function tY(t){return typeof t.collapsible=="boolean"}var iY=function(){function t(t,i,n,r){if(r===void 0){r={}}var e;this.user=t,this.list=i,this.rootRef=[],this.eventBufferer=new Jn,this._onDidChangeCollapseState=new Ln,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Ln,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Ln,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Js(js),this.collapseByDefault=r.collapseByDefault!==void 0&&r.collapseByDefault,this.allowNonCollapsibleParents=(e=r.allowNonCollapsibleParents)!==null&&e!==void 0&&e,this.filter=r.filter,this.autoExpandSingleChildren=r.autoExpandSingleChildren!==void 0&&r.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}t.prototype.splice=function(t,i,n,r){if(n===void 0){n=vi.empty()}if(r===void 0){r={}}if(t.length===0)throw new XH(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,t,i,n,r):this.spliceSimple(t,i,n,r)};t.prototype.spliceSmart=function(t,i,n,r,e,o){var s=this;var u;r===void 0&&(r=vi.empty()),o===void 0&&(o=(u=e.diffDepth)!==null&&u!==void 0?u:0);var a=this.getParentNodeWithListIndex(i).parentNode;if(!a.lastDiffIds)return this.spliceSimple(i,n,r,e);var c=__spreadArray([],r,true),h=i[i.length-1],f=new rv({getElements:function(){return a.lastDiffIds}},{getElements:function(){return __spreadArray(__spreadArray(__spreadArray([],a.children.slice(0,h),true),c,true),a.children.slice(h+n),true).map((function(i){return t.getId(i.element).toString()}))}}).ComputeDiff(!1);if(f.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(i,n,c,e);var l=i.slice(0,-1),d=function(i,n,r){if(o>0)for(var u=0;u<r;u++)i--,n--,s.spliceSmart(t,__spreadArray(__spreadArray([],l,true),[i,0],false),Number.MAX_SAFE_INTEGER,c[n].children,e,o-1)};var v=Math.min(a.children.length,h+n),A=c.length;for(var g=0,w=f.changes.sort((function(t,i){return i.originalStart-t.originalStart}));g<w.length;g++){var p=w[g];d(v,A,v-(p.originalStart+p.originalLength)),v=p.originalStart,A=p.modifiedStart-h,this.spliceSimple(__spreadArray(__spreadArray([],l,true),[v],false),p.originalLength,vi.slice(c,A,A+p.modifiedLength),e)}d(v,A,v)};t.prototype.spliceSimple=function(t,i,n,r){var e=this;if(n===void 0){n=vi.empty()}var o=r.onDidCreateNode,s=r.onDidDeleteNode,u=r.diffIdentityProvider;var a=this.getParentNodeWithListIndex(t),c=a.parentNode,h=a.listIndex,f=a.revealed,l=a.visible,d=[],v=vi.map(n,(function(t){return e.createTreeNode(t,c,c.visible?1:0,f,d,o)})),A=t[t.length-1];var g=0;for(var w=A;w>=0&&w<c.children.length;w--){var p=c.children[w];if(p.visible){g=p.visibleChildIndex;break}}var m=[];var b=0,y=0;for(var k=0,x=v;k<x.length;k++){var w=x[k];m.push(w),y+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=g+b++)}var E=G(c.children,A,i,m);u?c.lastDiffIds?G(c.lastDiffIds,A,i,m.map((function(t){return u.getId(t.element).toString()}))):c.lastDiffIds=c.children.map((function(t){return u.getId(t.element).toString()})):c.lastDiffIds=void 0;var B=0;for(var C=0,D=E;C<D.length;C++){var w=D[C];w.visible&&B++}if(B!==0)for(var w=A+m.length;w<c.children.length;w++){var p=c.children[w];p.visible&&(p.visibleChildIndex-=B)}if(c.visibleChildrenCount+=b-B,f&&l){var w=E.reduce((function(t,i){return t+(i.visible?i.renderNodeCount:0)}),0);this._updateAncestorsRenderNodeCount(c,y-w),this.list.splice(h,w,d)}if(E.length>0&&s){var M=function(t){s(t),t.children.forEach(M)};E.forEach(M)}this._onDidSplice.fire({insertedNodes:m,deletedNodes:E});var _=c;for(;_;){if(_.visibility===2){this.refilterDelayer.trigger((function(){return e.refilter()}));break}_=_.parent}};t.prototype.rerender=function(t){if(t.length===0)throw new XH(this.user,"Invalid tree location");var i=this.getTreeNodeWithListIndex(t),n=i.node,r=i.listIndex,e=i.revealed;n.visible&&e&&this.list.splice(r,1,[n])};t.prototype.has=function(t){return this.hasTreeNode(t)};t.prototype.getListIndex=function(t){var i=this.getTreeNodeWithListIndex(t),n=i.listIndex,r=i.visible,e=i.revealed;return r&&e?n:-1};t.prototype.getListRenderCount=function(t){return this.getTreeNode(t).renderNodeCount};t.prototype.isCollapsible=function(t){return this.getTreeNode(t).collapsible};t.prototype.setCollapsible=function(t,i){var n=this;var r=this.getTreeNode(t);i===void 0&&(i=!r.collapsible);var e={collapsible:i};return this.eventBufferer.bufferEvents((function(){return n._setCollapseState(t,e)}))};t.prototype.isCollapsed=function(t){return this.getTreeNode(t).collapsed};t.prototype.setCollapsed=function(t,i,n){var r=this;var e=this.getTreeNode(t);i===void 0&&(i=!e.collapsed);var o={collapsed:i,recursive:n||!1};return this.eventBufferer.bufferEvents((function(){return r._setCollapseState(t,o)}))};t.prototype._setCollapseState=function(t,i){var n=this.getTreeNodeWithListIndex(t),r=n.node,e=n.listIndex,o=n.revealed,s=this._setListNodeCollapseState(r,e,o,i);if(r!==this.root&&this.autoExpandSingleChildren&&s&&!tY(i)&&r.collapsible&&!r.collapsed&&!i.recursive){var u=-1;for(var a=0;a<r.children.length;a++)if(r.children[a].visible){if(u>-1){u=-1;break}u=a}u>-1&&this._setCollapseState(__spreadArray(__spreadArray([],t,true),[u],false),i)}return s};t.prototype._setListNodeCollapseState=function(t,i,n,r){var e=this._setNodeCollapseState(t,r,!1);if(!n||!t.visible||!e)return e;var o=t.renderNodeCount,s=this.updateNodeAfterCollapseChange(t),u=o-(i===-1?0:1);return this.list.splice(i+1,u,s.slice(1)),e};t.prototype._setNodeCollapseState=function(t,i,n){var r;if(t===this.root?r=!1:(tY(i)?(r=t.collapsible!==i.collapsible,t.collapsible=i.collapsible):t.collapsible?(r=t.collapsed!==i.collapsed,t.collapsed=i.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:t,deep:n})),!tY(i)&&i.recursive)for(var e=0,o=t.children;e<o.length;e++){var s=o[e];r=this._setNodeCollapseState(s,i,!0)||r}return r};t.prototype.expandTo=function(t){var i=this;this.eventBufferer.bufferEvents((function(){var n=i.getTreeNode(t);for(;n.parent;)n=n.parent,t=t.slice(0,t.length-1),n.collapsed&&i._setCollapseState(t,{collapsed:!1,recursive:!1})}))};t.prototype.refilter=function(){var t=this.root.renderNodeCount,i=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,i),this.refilterDelayer.cancel()};t.prototype.createTreeNode=function(t,i,n,r,e,o){var s={parent:i,element:t.element,children:[],depth:i.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:t.collapsed!==void 0,collapsed:t.collapsed===void 0?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},u=this._filterNode(s,n);s.visibility=u,r&&e.push(s);var a=t.children||vi.empty(),c=r&&u!==0&&!s.collapsed;var h=0,f=1;for(var l=0,d=a;l<d.length;l++){var v=d[l];var A=this.createTreeNode(v,s,u,c,e,o);s.children.push(A),f+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=h++)}return this.allowNonCollapsibleParents||(s.collapsible=s.collapsible||s.children.length>0),s.visibleChildrenCount=h,s.visible=u===2?h>0:u===1,s.visible?s.collapsed||(s.renderNodeCount=f):(s.renderNodeCount=0,r&&e.pop()),o==null||o(s),s};t.prototype.updateNodeAfterCollapseChange=function(t){var i=t.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(t,n),this._updateAncestorsRenderNodeCount(t.parent,n.length-i),n};t.prototype._updateNodeAfterCollapseChange=function(t,i){if(t.visible===!1)return 0;if(i.push(t),t.renderNodeCount=1,!t.collapsed)for(var n=0,r=t.children;n<r.length;n++){var e=r[n];t.renderNodeCount+=this._updateNodeAfterCollapseChange(e,i)}return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount};t.prototype.updateNodeAfterFilterChange=function(t){var i=t.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,n),this._updateAncestorsRenderNodeCount(t.parent,n.length-i),n};t.prototype._updateNodeAfterFilterChange=function(t,i,n,r){if(r===void 0){r=!0}var e;if(t!==this.root){if(e=this._filterNode(t,i),e===0)return t.visible=!1,t.renderNodeCount=0,!1;r&&n.push(t)}var o=n.length;t.renderNodeCount=t===this.root?0:1;var s=!1;if(t.collapsed&&e===0)t.visibleChildrenCount=0;else{var u=0;for(var a=0,c=t.children;a<c.length;a++){var h=c[a];s=this._updateNodeAfterFilterChange(h,e,n,r&&!t.collapsed)||s,h.visible&&(h.visibleChildIndex=u++)}t.visibleChildrenCount=u}return t!==this.root&&(t.visible=e===2?s:e===1,t.visibility=e),t.visible?t.collapsed||(t.renderNodeCount+=n.length-o):(t.renderNodeCount=0,r&&n.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible};t.prototype._updateAncestorsRenderNodeCount=function(t,i){if(i!==0)for(;t;)t.renderNodeCount+=i,this._onDidChangeRenderNodeCount.fire(t),t=t.parent};t.prototype._filterNode=function(t,i){var n=this.filter?this.filter.filter(t.element,i):1;return typeof n=="boolean"?(t.filterData=void 0,n?1:0):ZH(n)?(t.filterData=n.data,$H(n.visibility)):(t.filterData=void 0,$H(n))};t.prototype.hasTreeNode=function(t,i){if(i===void 0){i=this.root}if(!t||t.length===0)return!0;var n=t[0],r=t.slice(1);return!(n<0||n>i.children.length)&&this.hasTreeNode(r,i.children[n])};t.prototype.getTreeNode=function(t,i){if(i===void 0){i=this.root}if(!t||t.length===0)return i;var n=t[0],r=t.slice(1);if(n<0||n>i.children.length)throw new XH(this.user,"Invalid tree location");return this.getTreeNode(r,i.children[n])};t.prototype.getTreeNodeWithListIndex=function(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var i=this.getParentNodeWithListIndex(t),n=i.parentNode,r=i.listIndex,e=i.revealed,o=i.visible,s=t[t.length-1];if(s<0||s>n.children.length)throw new XH(this.user,"Invalid tree location");var u=n.children[s];return{node:u,listIndex:r,revealed:e,visible:o&&u.visible}};t.prototype.getParentNodeWithListIndex=function(t,i,n,r,e){if(i===void 0){i=this.root}if(n===void 0){n=0}if(r===void 0){r=!0}if(e===void 0){e=!0}var o=t[0],s=t.slice(1);if(o<0||o>i.children.length)throw new XH(this.user,"Invalid tree location");for(var u=0;u<o;u++)n+=i.children[u].renderNodeCount;return r=r&&!i.collapsed,e=e&&i.visible,s.length===0?{parentNode:i,listIndex:n,revealed:r,visible:e}:this.getParentNodeWithListIndex(s,i.children[o],n+1,r,e)};t.prototype.getNode=function(t){if(t===void 0){t=[]}return this.getTreeNode(t)};t.prototype.getNodeLocation=function(t){var i=[];var n=t;for(;n.parent;)i.push(n.parent.children.indexOf(n)),n=n.parent;return i.reverse()};t.prototype.getParentNodeLocation=function(t){return t.length===0?void 0:t.length===1?[]:function(t){if(t.length===0)throw new Error("Invalid tail call");return[t.slice(0,t.length-1),t[t.length-1]]}(t)[0]};t.prototype.getFirstElementChild=function(t){var i=this.getTreeNode(t);if(i.children.length!==0)return i.children[0].element};return t}();var nY=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i.elements.map((function(t){return t.element})))||this,n.data=i;return n}return i}($L);function rY(t){return t instanceof $L?new nY(t):t}var eY=function(){function t(t,i){this.modelProvider=t,this.dnd=i,this.autoExpandDisposable=Cn.None,this.disposables=new Bn}t.prototype.getDragURI=function(t){return this.dnd.getDragURI(t.element)};t.prototype.getDragLabel=function(t,i){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t.map((function(t){return t.element})),i)};t.prototype.onDragStart=function(t,i){var n,r;(r=(n=this.dnd).onDragStart)===null||r===void 0||r.call(n,rY(t),i)};t.prototype.onDragOver=function(t,i,n,r,e,o){var s=this;if(o===void 0){o=!0}var u=this.dnd.onDragOver(rY(t),i&&i.element,n,r,e),a=this.autoExpandNode!==i;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=i),i===void 0)return u;if(a&&typeof u!="boolean"&&u.autoExpand&&(this.autoExpandDisposable=Gs((function(){var t=s.modelProvider(),n=t.getNodeLocation(i);t.isCollapsed(n)&&t.setCollapsed(n,!1),s.autoExpandNode=void 0}),500,this.disposables)),typeof u=="boolean"||!u.accept||u.bubble===void 0||u.feedback)return o?u:{accept:typeof u=="boolean"?u:u.accept,effect:typeof u=="boolean"?void 0:u.effect,feedback:[n]};if(u.bubble===1){var c=this.modelProvider(),h=c.getNodeLocation(i),f=c.getParentNodeLocation(h),l=c.getNode(f),d=f&&c.getListIndex(f);return this.onDragOver(t,l,d,r,e,!1)}var v=this.modelProvider(),A=v.getNodeLocation(i),g=v.getListIndex(A),w=v.getListRenderCount(A);return __assign(__assign({},u),{feedback:U(g,g+w)})};t.prototype.drop=function(t,i,n,r,e){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(rY(t),i&&i.element,n,r,e)};t.prototype.onDragEnd=function(t){var i,n;(n=(i=this.dnd).onDragEnd)===null||n===void 0||n.call(i,t)};t.prototype.dispose=function(){this.disposables.dispose(),this.dnd.dispose()};return t}();var oY=function(){function t(t){this.delegate=t}t.prototype.getHeight=function(t){return this.delegate.getHeight(t.element)};t.prototype.getTemplateId=function(t){return this.delegate.getTemplateId(t.element)};t.prototype.hasDynamicHeight=function(t){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(t.element)};t.prototype.setDynamicHeight=function(t,i){var n,r;(r=(n=this.delegate).setDynamicHeight)===null||r===void 0||r.call(n,t.element,i)};return t}();(function(t){t.None="none",t.OnHover="onHover",t.Always="always"})(GH||(GH={}));var sY=function(){function t(t,i){if(i===void 0){i=[]}var n=this;this._elements=i,this.disposables=new Bn,this.onDidChange=Qn.forEach(t,(function(t){return n._elements=t}),this.disposables)}Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:false,configurable:true});t.prototype.dispose=function(){this.disposables.dispose()};return t}();var uY=function(){function t(i,n,r,e,o,s){if(s===void 0){s={}}var u;this.renderer=i,this.modelProvider=n,this.activeNodes=e,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=t.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Cn.None,this.disposables=new Bn,this.templateId=i.templateId,this.updateOptions(s),Qn.map(r,(function(t){return t.node}))(this.onDidChangeNodeTwistieState,this,this.disposables),(u=i.onDidChangeTwistieState)===null||u===void 0||u.call(i,this.onDidChangeTwistieState,this,this.disposables)}t.prototype.updateOptions=function(t){if(t===void 0){t={}}if(t.indent!==void 0){var i=OQ(t.indent,0,40);if(i!==this.indent){this.indent=i;for(var n=0,r=this.renderedNodes;n<r.length;n++){var e=r[n],o=e[0],s=e[1];this.renderTreeElement(o,s)}}}if(t.renderIndentGuides!==void 0){var i=t.renderIndentGuides!==GH.None;if(i!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=i;for(var u=0,a=this.renderedNodes;u<a.length;u++){var c=a[u],o=c[0],s=c[1];this._renderIndentGuides(o,s)}if(this.indentGuidesDisposable.dispose(),i){var o=new Bn;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,o),this.indentGuidesDisposable=o,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}t.hideTwistiesOfChildlessElements!==void 0&&(this.hideTwistiesOfChildlessElements=t.hideTwistiesOfChildlessElements)};t.prototype.renderTemplate=function(t){var i=_c(t,Nc(".monaco-tl-row")),n=_c(i,Nc(".monaco-tl-indent")),r=_c(i,Nc(".monaco-tl-twistie")),e=_c(i,Nc(".monaco-tl-contents")),o=this.renderer.renderTemplate(e);return{container:t,indent:n,twistie:r,indentGuidesDisposable:Cn.None,templateData:o}};t.prototype.renderElement=function(t,i,n,r){this.renderedNodes.set(t,n),this.renderedElements.set(t.element,t),this.renderTreeElement(t,n),this.renderer.renderElement(t,i,n.templateData,r)};t.prototype.disposeElement=function(t,i,n,r){var e,o;n.indentGuidesDisposable.dispose(),(o=(e=this.renderer).disposeElement)===null||o===void 0||o.call(e,t,i,n.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(t),this.renderedElements.delete(t.element))};t.prototype.disposeTemplate=function(t){this.renderer.disposeTemplate(t.templateData)};t.prototype.onDidChangeTwistieState=function(t){var i=this.renderedElements.get(t);i&&this.onDidChangeNodeTwistieState(i)};t.prototype.onDidChangeNodeTwistieState=function(t){var i=this.renderedNodes.get(t);i&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(t,i))};t.prototype.renderTreeElement=function(i,n){var r,e;var o=t.DefaultIndent+(i.depth-1)*this.indent;n.twistie.style.paddingLeft="".concat(o,"px"),n.indent.style.width=o+this.indent-16+"px",i.collapsible?n.container.setAttribute("aria-expanded",String(!i.collapsed)):n.container.removeAttribute("aria-expanded"),(r=n.twistie.classList).remove.apply(r,xh.asClassNameArray(re.treeItemExpanded));var s=!1;this.renderer.renderTwistie&&(s=this.renderer.renderTwistie(i.element,n.twistie)),i.collapsible&&(!this.hideTwistiesOfChildlessElements||i.visibleChildrenCount>0)?(s||(e=n.twistie.classList).add.apply(e,xh.asClassNameArray(re.treeItemExpanded)),n.twistie.classList.add("collapsible"),n.twistie.classList.toggle("collapsed",i.collapsed)):n.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(i,n)};t.prototype._renderIndentGuides=function(t,i){var n=this;if(Ia(i.indent),i.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;var r=new Bn,e=this.modelProvider();var o=function(){var o=e.getNodeLocation(t),u=e.getParentNodeLocation(o);if(!u)return"break";var a=e.getNode(u),c=Nc(".indent-guide",{style:"width: ".concat(s.indent,"px")});s.activeIndentNodes.has(a)&&c.classList.add("active"),i.indent.childElementCount===0?i.indent.appendChild(c):i.indent.insertBefore(c,i.indent.firstElementChild),s.renderedIndentGuides.add(a,c),r.add(En((function(){return n.renderedIndentGuides.delete(a,c)}))),t=a};var s=this;for(;;){var u=o();if(u==="break")break}i.indentGuidesDisposable=r};t.prototype._onDidChangeActiveNodes=function(t){var i=this;if(!this.shouldRenderIndentGuides)return;var n=new Set,r=this.modelProvider();t.forEach((function(t){var i=r.getNodeLocation(t);try{var e=r.getParentNodeLocation(i);t.collapsible&&t.children.length>0&&!t.collapsed?n.add(t):e&&n.add(r.getNode(e))}catch(t){}})),this.activeIndentNodes.forEach((function(t){n.has(t)||i.renderedIndentGuides.forEach(t,(function(t){return t.classList.remove("active")}))})),n.forEach((function(t){i.activeIndentNodes.has(t)||i.renderedIndentGuides.forEach(t,(function(t){return t.classList.add("active")}))})),this.activeIndentNodes=n};t.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),kn(this.disposables)};return t}();uY.DefaultIndent=8;var aY=function(){function t(t,i,n){this.tree=t,this.keyboardNavigationLabelProvider=i,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Bn,t.onWillRefilter(this.reset,this,this.disposables)}Object.defineProperty(t.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:false,configurable:true});t.prototype.filter=function(t,i){var n=1;if(this._filter){var r=this._filter.filter(t,i);if(n=typeof r=="boolean"?r?1:0:ZH(r)?$H(r.visibility):r,n===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:WN.Default,visibility:n};var e=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t),o=Array.isArray(e)?e:[e];for(var s=0,u=o;s<u.length;s++){var r=u[s];var a=r&&r.toString();if(a===void 0)return{data:WN.Default,visibility:n};var c=void 0;if(this.tree.findMatchType===KH.Contiguous){var h=a.toLowerCase().indexOf(this._lowercasePattern);if(h>-1){c=[Number.MAX_SAFE_INTEGER,0];for(var f=this._lowercasePattern.length;f>0;f--)c.push(h+f-1)}}else c=VN(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(c)return this._matchCount++,o.length===1?{data:c,visibility:n}:{data:{label:a,score:c},visibility:n}}return this.tree.findMode===VH.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(t):2:{data:WN.Default,visibility:n}};t.prototype.reset=function(){this._totalCount=0,this._matchCount=0};t.prototype.dispose=function(){kn(this.disposables)};return t}();(function(t){t[t.Highlight=0]="Highlight",t[t.Filter=1]="Filter"})(VH||(VH={})),function(t){t[t.Fuzzy=0]="Fuzzy",t[t.Contiguous=1]="Contiguous"}(KH||(KH={}));var cY=function(){function t(t,i,n,r,e,o){if(o===void 0){o={}}var s,u;this.tree=t,this.view=n,this.filter=r,this.contextViewProvider=e,this.options=o,this._pattern="",this.width=0,this._onDidChangeMode=new Ln,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new Ln,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new Ln,this._onDidChangeOpenState=new Ln,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new Bn,this.disposables=new Bn,this._mode=(s=t.options.defaultFindMode)!==null&&s!==void 0?s:VH.Highlight,this._matchType=(u=t.options.defaultFindMatchType)!==null&&u!==void 0?u:KH.Fuzzy,i.onDidSplice(this.onDidSpliceModel,this,this.disposables)}Object.defineProperty(t.prototype,"pattern",{get:function(){return this._pattern},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){t!==this._mode&&(this._mode=t,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(t))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"matchType",{get:function(){return this._matchType},set:function(t){t!==this._matchType&&(this._matchType=t,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(t))},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){if(t===void 0){t={}}t.defaultFindMode!==void 0&&(this.mode=t.defaultFindMode),t.defaultFindMatchType!==void 0&&(this.matchType=t.defaultFindMatchType)};t.prototype.onDidSpliceModel=function(){this.widget&&this.pattern.length!==0&&(this.tree.refilter(),this.render())};t.prototype.render=function(){var t,i,n,r;var e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(t=this.tree.options.showNotFoundMessage)===null||t===void 0||t?(i=this.widget)===null||i===void 0||i.showMessage({type:2,content:Bt(0,"No elements found.")}):(n=this.widget)===null||n===void 0||n.showMessage({type:2}):(r=this.widget)===null||r===void 0||r.clearMessage()};t.prototype.shouldAllowFocus=function(t){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1||!WN.isDefault(t.filterData)};t.prototype.layout=function(t){var i;this.width=t,(i=this.widget)===null||i===void 0||i.layout(t)};t.prototype.dispose=function(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()};return t}();function hY(t,i){return t.position===i.position&&fY(t,i)}function fY(t,i){return t.node.element===i.node.element&&t.startIndex===i.startIndex&&t.height===i.height&&t.endIndex===i.endIndex}var lY=function(){function t(t){if(t===void 0){t=[]}this.stickyNodes=t}Object.defineProperty(t.prototype,"count",{get:function(){return this.stickyNodes.length},enumerable:false,configurable:true});t.prototype.equal=function(t){return _(this.stickyNodes,t.stickyNodes,hY)};t.prototype.lastNodePartiallyVisible=function(){if(this.count===0)return!1;var t=this.stickyNodes[this.count-1];if(this.count===1)return t.position!==0;var i=this.stickyNodes[this.count-2];return i.position+i.height!==t.position};t.prototype.animationStateChanged=function(t){if(!_(this.stickyNodes,t.stickyNodes,fY)||this.count===0)return!1;var i=this.stickyNodes[this.count-1],n=t.stickyNodes[t.count-1];return i.position!==n.position};return t}();var dY=function(){function t(){}t.prototype.constrainStickyScrollNodes=function(t,i,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.position+e.height>n||r>=i)return t.slice(0,r)}return t};return t}();var vY=function(t){__extends(i,t);function i(i,n,r,e,o,s){if(s===void 0){s={}}var u=this;var a;u=t.call(this)||this,u.tree=i,u.model=n,u.view=r,u.treeDelegate=o,u.maxWidgetViewRatio=.4;var c=u.validateStickySettings(s);u.stickyScrollMaxItemCount=c.stickyScrollMaxItemCount,u.stickyScrollDelegate=(a=s.stickyScrollDelegate)!==null&&a!==void 0?a:new dY,u._widget=u._register(new AY(r.getScrollableElement(),r,i,e,o,s.accessibilityProvider)),u.onDidChangeHasFocus=u._widget.onDidChangeHasFocus,u.onContextMenu=u._widget.onContextMenu,u._register(r.onDidScroll((function(){return u.update()}))),u._register(r.onDidChangeContentHeight((function(){return u.update()}))),u._register(i.onDidChangeCollapseState((function(){return u.update()}))),u.update();return u}Object.defineProperty(i.prototype,"height",{get:function(){return this._widget.height},enumerable:false,configurable:true});i.prototype.getNodeAtHeight=function(t){var i;if(i=t===0?this.view.firstVisibleIndex:this.view.indexAt(t+this.view.scrollTop),!(i<0||i>=this.view.length))return this.view.element(i)};i.prototype.update=function(){var t=this.getNodeAtHeight(0);if(!t||this.tree.scrollTop===0)return void this._widget.setState(void 0);var i=this.findStickyState(t);this._widget.setState(i)};i.prototype.findStickyState=function(t){var i=[];var n=t,r=0,e=this.getNextStickyNode(n,void 0,r);for(;e&&(i.push(e),r+=e.height,!(i.length<=this.stickyScrollMaxItemCount)||(n=this.getNextVisibleNode(e),n));)e=this.getNextStickyNode(n,e.node,r);var o=this.constrainStickyNodes(i);return o.length?new lY(o):void 0};i.prototype.getNextVisibleNode=function(t){return this.getNodeAtHeight(t.position+t.height)};i.prototype.getNextStickyNode=function(t,i,n){var r=this.getAncestorUnderPrevious(t,i);if(r)return r===t&&(!this.nodeIsUncollapsedParent(t)||this.nodeTopAlignsWithStickyNodesBottom(t,n))?void 0:this.createStickyScrollNode(r,n)};i.prototype.nodeTopAlignsWithStickyNodesBottom=function(t,i){var n=this.getNodeIndex(t),r=this.view.getElementTop(n),e=i;return this.view.scrollTop===r-e};i.prototype.createStickyScrollNode=function(t,i){var n=this.treeDelegate.getHeight(t),r=this.getNodeRange(t),e=r.startIndex,o=r.endIndex;return{node:t,position:this.calculateStickyNodePosition(o,i,n),height:n,startIndex:e,endIndex:o}};i.prototype.getAncestorUnderPrevious=function(t,i){if(i===void 0){i=void 0}var n=t,r=this.getParentNode(n);for(;r;){if(r===i)return n;n=r,r=this.getParentNode(n)}if(i===void 0)return n};i.prototype.calculateStickyNodePosition=function(t,i,n){var r=this.view.getRelativeTop(t);if(r===null&&this.view.firstVisibleIndex===t&&t+1<this.view.length){var e=this.treeDelegate.getHeight(this.view.element(t)),o=this.view.getRelativeTop(t+1);r=o?o-e/this.view.renderHeight:null}if(r===null)return i;var s=this.view.element(t),u=this.treeDelegate.getHeight(s),a=r*this.view.renderHeight+u;return i+n>a&&i<=a?a-n:i};i.prototype.constrainStickyNodes=function(t){if(t.length===0)return[];var i=this.view.renderHeight*this.maxWidgetViewRatio,n=t[t.length-1];if(t.length<=this.stickyScrollMaxItemCount&&n.position+n.height<=i)return t;var r=this.stickyScrollDelegate.constrainStickyScrollNodes(t,this.stickyScrollMaxItemCount,i);if(!r.length)return[];var e=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||e.position+e.height>i)throw new Error("stickyScrollDelegate violates constraints");return r};i.prototype.getParentNode=function(t){var i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return n?this.model.getNode(n):void 0};i.prototype.nodeIsUncollapsedParent=function(t){var i=this.model.getNodeLocation(t);return this.model.getListRenderCount(i)>1};i.prototype.getNodeIndex=function(t){var i=this.model.getNodeLocation(t);return this.model.getListIndex(i)};i.prototype.getNodeRange=function(t){var i=this.model.getNodeLocation(t),n=this.model.getListIndex(i);if(n<0)throw new Error("Node not found in tree");return{startIndex:n,endIndex:n+this.model.getListRenderCount(i)-1}};i.prototype.nodePositionTopBelowWidget=function(t){var i=[];var n=this.getParentNode(t);for(;n;)i.push(n),n=this.getParentNode(n);var r=0;for(var e=0;e<i.length&&e<this.stickyScrollMaxItemCount;e++)r+=this.treeDelegate.getHeight(i[e]);return r};i.prototype.domFocus=function(){this._widget.domFocus()};i.prototype.focusedLast=function(){return this._widget.focusedLast()};i.prototype.updateOptions=function(t){if(t===void 0){t={}}if(!t.stickyScrollMaxItemCount)return;var i=this.validateStickySettings(t);this.stickyScrollMaxItemCount!==i.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=i.stickyScrollMaxItemCount,this.update())};i.prototype.validateStickySettings=function(t){var i=7;return typeof t.stickyScrollMaxItemCount=="number"&&(i=Math.max(t.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:i}};return i}(Cn),AY=function(){function t(t,i,n,r,e,o){this.view=i,this.tree=n,this.treeRenderers=r,this.treeDelegate=e,this.accessibilityProvider=o,this._previousElements=[],this._previousStateDisposables=new Bn,this._rootDomNode=Nc(".monaco-tree-sticky-container.empty"),t.appendChild(this._rootDomNode);var s=Nc(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(s),this.stickyScrollFocus=new gY(this._rootDomNode,i),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}Object.defineProperty(t.prototype,"height",{get:function(){if(!this._previousState)return 0;var t=this._previousState.stickyNodes[this._previousState.count-1];return t.position+t.height},enumerable:false,configurable:true});t.prototype.setState=function(t){var i=!!this._previousState&&this._previousState.count>0,n=!!t&&t.count>0;if(!i&&!n||i&&n&&this._previousState.equal(t))return;if(i!==n&&this.setVisible(n),!n)return this._previousState=void 0,this._previousElements=[],void this._previousStateDisposables.clear();var r=t.stickyNodes[t.count-1];if(this._previousState&&t.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top="".concat(r.position,"px");else{this._previousStateDisposables.clear();var e=Array(t.count);for(var o=t.count-1;o>=0;o--){var s=t.stickyNodes[o],u=this.createElement(s,o,t.count),a=u.element,c=u.disposable;e[o]=a,this._rootDomNode.appendChild(a),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(e,t),this._previousElements=e}this._previousState=t,this._rootDomNode.style.height="".concat(r.position+r.height,"px")};t.prototype.createElement=function(t,i,n){var r=t.startIndex,e=document.createElement("div");e.style.top="".concat(t.position,"px"),this.tree.options.setRowHeight!==!1&&(e.style.height="".concat(t.height,"px")),this.tree.options.setRowLineHeight!==!1&&(e.style.lineHeight="".concat(t.height,"px")),e.classList.add("monaco-tree-sticky-row"),e.classList.add("monaco-list-row"),e.setAttribute("data-index","".concat(r)),e.setAttribute("data-parity",r%2==0?"even":"odd"),e.setAttribute("id",this.view.getElementID(r));var o=this.setAccessibilityAttributes(e,t.node.element,i,n),s=this.treeDelegate.getTemplateId(t.node),u=this.treeRenderers.find((function(t){return t.templateId===s}));if(!u)throw new Error("No renderer found for template id ".concat(s));var a=t.node;a===this.tree.getNode(this.tree.getNodeLocation(t.node))&&(a=new Proxy(t.node,{}));var c=u.renderTemplate(e);u.renderElement(a,t.startIndex,c,t.height);var h=En((function(){o.dispose(),u.disposeElement(a,t.startIndex,c,t.height),u.disposeTemplate(c),e.remove()}));return{element:e,disposable:h}};t.prototype.setAccessibilityAttributes=function(t,i,n,r){var e;if(!this.accessibilityProvider)return Cn.None;this.accessibilityProvider.getSetSize&&t.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(i,n,r))),this.accessibilityProvider.getPosInSet&&t.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(i,n))),this.accessibilityProvider.getRole&&t.setAttribute("role",(e=this.accessibilityProvider.getRole(i))!==null&&e!==void 0?e:"treeitem");var o=this.accessibilityProvider.getAriaLabel(i),s=o&&typeof o!="string"?o:Oj(o),u=_j((function(i){var n=i.readObservable(s);n?t.setAttribute("aria-label",n):t.removeAttribute("aria-label")}));typeof o=="string"||o&&t.setAttribute("aria-label",o.get());var a=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(i);return typeof a=="number"&&t.setAttribute("aria-level","".concat(a)),t.setAttribute("aria-selected",String(!1)),u};t.prototype.setVisible=function(t){this._rootDomNode.classList.toggle("empty",!t),t||this.stickyScrollFocus.updateElements([],void 0)};t.prototype.domFocus=function(){this.stickyScrollFocus.domFocus()};t.prototype.focusedLast=function(){return this.stickyScrollFocus.focusedLast()};t.prototype.dispose=function(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()};return t}();var gY=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.container=i,r.view=n,r.focusedIndex=-1,r.elements=[],r._onDidChangeHasFocus=new Ln,r.onDidChangeHasFocus=r._onDidChangeHasFocus.event,r._onContextMenu=new Ln,r.onContextMenu=r._onContextMenu.event,r._domHasFocus=!1,r.container.addEventListener("focus",(function(){return r.onFocus()})),r.container.addEventListener("blur",(function(){return r.onBlur()})),r._register(r.view.onDidFocus((function(){return r.toggleStickyScrollFocused(!1)}))),r._register(r.view.onKeyDown((function(t){return r.onKeyDown(t)}))),r._register(r.view.onMouseDown((function(t){return r.onMouseDown(t)}))),r._register(r.view.onContextMenu((function(t){return r.handleContextMenu(t)})));return r}Object.defineProperty(i.prototype,"domHasFocus",{get:function(){return this._domHasFocus},set:function(t){t!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(t),this._domHasFocus=t)},enumerable:false,configurable:true});i.prototype.handleContextMenu=function(t){var i=t.browserEvent.target;if(!tz(i)&&!$j(i))return void(this.focusedLast()&&this.view.domFocus());if(!xc(t.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");var n=this.state.stickyNodes.findIndex((function(i){var n;return i.node.element===((n=t.element)===null||n===void 0?void 0:n.element)}));if(n===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");return this.container.focus(),void this.setFocus(n)}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");var r=this.state.stickyNodes[this.focusedIndex].node.element,e=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:e,browserEvent:t.browserEvent,isStickyScroll:!0})};i.prototype.onKeyDown=function(t){if(this.domHasFocus&&this.state){if(t.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),t.preventDefault(),t.stopPropagation();else if(t.key==="ArrowDown"||t.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){var i=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([i]),this.scrollNodeUnderWidget(i,this.state)}else this.setFocusedElement(this.focusedIndex+1);t.preventDefault(),t.stopPropagation()}}};i.prototype.onMouseDown=function(t){var i=t.browserEvent.target;(tz(i)||$j(i))&&(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation())};i.prototype.updateElements=function(t,i){if(i&&i.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(i&&i.count!==t.length)throw new Error("Sticky scroll focus received illigel state");var n=this.focusedIndex;if(this.removeFocus(),this.elements=t,this.state=i,i){var r=OQ(n,0,i.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=i?0:-1};i.prototype.setFocusedElement=function(t){var i=this.state;if(!i)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(t),!(t<i.count-1)&&i.lastNodePartiallyVisible()){var n=i.stickyNodes[t];this.scrollNodeUnderWidget(n.endIndex+1,i)}};i.prototype.scrollNodeUnderWidget=function(t,i){var n=i.stickyNodes[i.count-1],r=i.count>1?i.stickyNodes[i.count-2]:void 0,e=this.view.getElementTop(t),o=r?r.position+r.height+n.height:n.height;this.view.scrollTop=e-o};i.prototype.domFocus=function(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()};i.prototype.focusedLast=function(){return!!this.state&&this.view.getHTMLElement().classList.contains("sticky-scroll-focused")};i.prototype.removeFocus=function(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)};i.prototype.setFocus=function(t){if(0>t)throw new Error("addFocus() can not remove focus");if(!this.state&&t>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&t>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");var i=this.focusedIndex;i>=0&&this.toggleElementFocus(this.elements[i],!1),t>=0&&this.toggleElementFocus(this.elements[t],!0),this.focusedIndex=t};i.prototype.toggleElementFocus=function(t,i){this.toggleElementActiveFocus(t,i&&this.domHasFocus),this.toggleElementPassiveFocus(t,i)};i.prototype.toggleCurrentElementActiveFocus=function(t){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],t)};i.prototype.toggleElementActiveFocus=function(t,i){t.classList.toggle("focused",i)};i.prototype.toggleElementPassiveFocus=function(t,i){t.classList.toggle("passive-focused",i)};i.prototype.toggleStickyScrollFocused=function(t){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",t)};i.prototype.onFocus=function(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)};i.prototype.onBlur=function(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)};i.prototype.dispose=function(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),t.prototype.dispose.call(this)};return i}(Cn);function wY(t){var i=WH.Unknown;return nc(t.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?i=WH.Twistie:nc(t.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?i=WH.Element:nc(t.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(i=WH.Filter),{browserEvent:t.browserEvent,element:t.element?t.element.element:null,target:i}}function pY(t){var i=tz(t.browserEvent.target);return{element:t.element?t.element.element:null,browserEvent:t.browserEvent,anchor:t.anchor,isStickyScroll:i}}function mY(t,i){i(t),t.children.forEach((function(t){return mY(t,i)}))}var bY=function(){function t(t,i){this.getFirstViewElementWithTrait=t,this.identityProvider=i,this.nodes=[],this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event}Object.defineProperty(t.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:false,configurable:true});t.prototype.set=function(t,i){!(i!=null&&i.__forceEvent)&&_(this.nodes,t)||this._set(t,!1,i)};t.prototype._set=function(t,i,n){if(this.nodes=__spreadArray([],t,true),this.elements=void 0,this._nodeSet=void 0,!i){var r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:n})}};t.prototype.get=function(){return this.elements||(this.elements=this.nodes.map((function(t){return t.element}))),__spreadArray([],this.elements,true)};t.prototype.getNodes=function(){return this.nodes};t.prototype.has=function(t){return this.nodeSet.has(t)};t.prototype.onDidModelSplice=function(t){var i=this;var n=t.insertedNodes,r=t.deletedNodes;if(!this.identityProvider){var e=this.createNodeSet(),o=function(t){return e.delete(t)};return r.forEach((function(t){return mY(t,o)})),void this.set(__spreadArray([],e.values(),true))}var s=new Set,u=function(t){return s.add(i.identityProvider.getId(t.element).toString())};r.forEach((function(t){return mY(t,u)}));var a=new Map,c=function(t){return a.set(i.identityProvider.getId(t.element).toString(),t)};n.forEach((function(t){return mY(t,c)}));var h=[];for(var f=0,l=this.nodes;f<l.length;f++){var d=l[f];var v=this.identityProvider.getId(d.element).toString();if(s.has(v)){var A=a.get(v);A&&A.visible&&h.push(A)}else h.push(d)}if(this.nodes.length>0&&h.length===0){var d=this.getFirstViewElementWithTrait();d&&h.push(d)}this._set(h,!0)};t.prototype.createNodeSet=function(){var t=new Set;for(var i=0,n=this.nodes;i<n.length;i++){var r=n[i];t.add(r)}return t};return t}();var yY=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i)||this,e.tree=n,e.stickyScrollProvider=r;return e}i.prototype.onViewPointer=function(i){if(iz(i.browserEvent.target)||Xj(i.browserEvent.target)||Zj(i.browserEvent.target)||i.browserEvent.isHandledByList)return;var n=i.element;if(!n)return t.prototype.onViewPointer.call(this,i);if(this.isSelectionRangeChangeEvent(i)||this.isSelectionSingleChangeEvent(i))return t.prototype.onViewPointer.call(this,i);var r=i.browserEvent.target,e=r.classList.contains("monaco-tl-twistie")||r.classList.contains("monaco-icon-label")&&r.classList.contains("folder-icon")&&i.browserEvent.offsetX<16,o=$j(i.browserEvent.target);var s=!1;if(s=!!o||(typeof this.tree.expandOnlyOnTwistieClick=="function"?this.tree.expandOnlyOnTwistieClick(n.element):!!this.tree.expandOnlyOnTwistieClick),o)this.handleStickyScrollMouseEvent(i,n);else{if(s&&!e&&i.browserEvent.detail!==2)return t.prototype.onViewPointer.call(this,i);if(!this.tree.expandOnDoubleClick&&i.browserEvent.detail===2)return t.prototype.onViewPointer.call(this,i)}if(n.collapsible&&(!o||e)){var u=this.tree.getNodeLocation(n),a=i.browserEvent.altKey;if(this.tree.setFocus([u]),this.tree.toggleCollapsed(u,a),s&&e)return void(i.browserEvent.isHandledByList=!0)}o||t.prototype.onViewPointer.call(this,i)};i.prototype.handleStickyScrollMouseEvent=function(t,i){if(function(t){return qj(t,"monaco-custom-toggle")}(t.browserEvent.target)||function(t){return qj(t,"action-item")}(t.browserEvent.target))return;var n=this.stickyScrollProvider();if(!n)throw new Error("Sticky scroll controller not found");var r=this.list.indexOf(i),e=this.list.getElementTop(r),o=n.nodePositionTopBelowWidget(i);this.tree.scrollTop=e-o,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])};i.prototype.onDoubleClick=function(i){!i.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(i.browserEvent.isHandledByList||t.prototype.onDoubleClick.call(this,i))};i.prototype.onMouseDown=function(i){var n=i.browserEvent.target;tz(n)||$j(n)||t.prototype.onMouseDown.call(this,i)};i.prototype.onContextMenu=function(i){var n=i.browserEvent.target;tz(n)||$j(n)||t.prototype.onContextMenu.call(this,i)};return i}(fz);var kY=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;c=t.call(this,i,n,r,e,a)||this,c.focusTrait=o,c.selectionTrait=s,c.anchorTrait=u;return c}i.prototype.createMouseController=function(t){return new yY(this,t.tree,t.stickyScrollProvider)};i.prototype.splice=function(i,n,r){var e=this;if(r===void 0){r=[]}if(t.prototype.splice.call(this,i,n,r),r.length===0)return;var o=[],s=[];var u;r.forEach((function(t,n){e.focusTrait.has(t)&&o.push(i+n),e.selectionTrait.has(t)&&s.push(i+n),e.anchorTrait.has(t)&&(u=i+n)})),o.length>0&&t.prototype.setFocus.call(this,j(__spreadArray(__spreadArray([],t.prototype.getFocus.call(this),true),o,true))),s.length>0&&t.prototype.setSelection.call(this,j(__spreadArray(__spreadArray([],t.prototype.getSelection.call(this),true),s,true))),typeof u=="number"&&t.prototype.setAnchor.call(this,u)};i.prototype.setFocus=function(i,n,r){var e=this;if(r===void 0){r=!1}t.prototype.setFocus.call(this,i,n),r||this.focusTrait.set(i.map((function(t){return e.element(t)})),n)};i.prototype.setSelection=function(i,n,r){var e=this;if(r===void 0){r=!1}t.prototype.setSelection.call(this,i,n),r||this.selectionTrait.set(i.map((function(t){return e.element(t)})),n)};i.prototype.setAnchor=function(i,n){if(n===void 0){n=!1}t.prototype.setAnchor.call(this,i),n||(i===void 0?this.anchorTrait.set([]):this.anchorTrait.set([this.element(i)]))};return i}(bz);var xY=function(){function t(t,i,n,r,e){if(e===void 0){e={}}var o=this;var s;this._user=t,this._options=e,this.eventBufferer=new Jn,this.onDidChangeFindOpenState=Qn.None,this.onDidChangeStickyScrollFocused=Qn.None,this.disposables=new Bn,this._onWillRefilter=new Ln,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Ln,this.treeDelegate=new oY(n);var u=new Pn,a=new Pn,c=this.disposables.add(new sY(a.event)),h=new Bv;this.renderers=r.map((function(t){return new uY(t,(function(){return o.model}),u.event,c,h,e)}));for(var f=0,l=this.renderers;f<l.length;f++){var d=l[f];this.disposables.add(d)}var v;var A,g;e.keyboardNavigationLabelProvider&&(v=new aY(this,e.keyboardNavigationLabelProvider,e.filter),e=__assign(__assign({},e),{filter:v}),this.disposables.add(v)),this.focus=new bY((function(){return o.view.getFocusedElements()[0]}),e.identityProvider),this.selection=new bY((function(){return o.view.getSelectedElements()[0]}),e.identityProvider),this.anchor=new bY((function(){return o.view.getAnchorElement()}),e.identityProvider),this.view=new kY(t,i,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,__assign(__assign({},(A=function(){return o.model},g=e,g&&__assign(__assign({},g),{identityProvider:g.identityProvider&&{getId:function(t){return g.identityProvider.getId(t.element)}},dnd:g.dnd&&new eY(A,g.dnd),multipleSelectionController:g.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return g.multipleSelectionController.isSelectionSingleChangeEvent(__assign(__assign({},t),{element:t.element}))},isSelectionRangeChangeEvent:function(t){return g.multipleSelectionController.isSelectionRangeChangeEvent(__assign(__assign({},t),{element:t.element}))}},accessibilityProvider:g.accessibilityProvider&&__assign(__assign({},g.accessibilityProvider),{getSetSize:function(t){var i=A(),n=i.getNodeLocation(t),r=i.getParentNodeLocation(n);return i.getNode(r).visibleChildrenCount},getPosInSet:function(t){return t.visibleChildIndex+1},isChecked:g.accessibilityProvider&&g.accessibilityProvider.isChecked?function(t){return g.accessibilityProvider.isChecked(t.element)}:void 0,getRole:g.accessibilityProvider&&g.accessibilityProvider.getRole?function(t){return g.accessibilityProvider.getRole(t.element)}:function(){return"treeitem"},getAriaLabel:function(t){return g.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel:function(){return g.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:g.accessibilityProvider&&g.accessibilityProvider.getWidgetRole?function(){return g.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:g.accessibilityProvider&&g.accessibilityProvider.getAriaLevel?function(t){return g.accessibilityProvider.getAriaLevel(t.element)}:function(t){return t.depth},getActiveDescendantId:g.accessibilityProvider.getActiveDescendantId&&function(t){return g.accessibilityProvider.getActiveDescendantId(t.element)}}),keyboardNavigationLabelProvider:g.keyboardNavigationLabelProvider&&__assign(__assign({},g.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(t){return g.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}})}))),{tree:this,stickyScrollProvider:function(){return o.stickyScrollController}})),this.model=this.createModel(t,this.view,e),u.input=this.model.onDidChangeCollapseState;var w=Qn.forEach(this.model.onDidSplice,(function(t){o.eventBufferer.bufferEvents((function(){o.focus.onDidModelSplice(t),o.selection.onDidModelSplice(t)}))}),this.disposables);w((function(){return null}),null,this.disposables);var p=this.disposables.add(new Ln),m=this.disposables.add(new Js(0));if(this.disposables.add(Qn.any(w,this.focus.onDidChange,this.selection.onDidChange)((function(){m.trigger((function(){var t=new Set;for(var i=0,n=o.focus.getNodes();i<n.length;i++){var r=n[i];t.add(r)}for(var e=0,s=o.selection.getNodes();e<s.length;e++){var r=s[e];t.add(r)}p.fire(__spreadArray([],t.values(),true))}))}))),a.input=p.event,e.keyboardSupport!==!1){var d=Qn.chain(this.view.onKeyDown,(function(t){return t.filter((function(t){return!Xj(t.target)})).map((function(t){return new Qs(t)}))}));Qn.chain(d,(function(t){return t.filter((function(t){return t.keyCode===15}))}))(this.onLeftArrow,this,this.disposables),Qn.chain(d,(function(t){return t.filter((function(t){return t.keyCode===17}))}))(this.onRightArrow,this,this.disposables),Qn.chain(d,(function(t){return t.filter((function(t){return t.keyCode===10}))}))(this.onSpace,this,this.disposables)}if(((s=e.findWidgetEnabled)===null||s===void 0||s)&&e.keyboardNavigationLabelProvider&&e.contextViewProvider){var d=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new cY(this,this.model,this.view,v,e.contextViewProvider,d),this.focusNavigationFilter=function(t){return o.findController.shouldAllowFocus(t)},this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=Qn.None,this.onDidChangeFindMatchType=Qn.None;e.enableStickyScroll&&(this.stickyScrollController=new vY(this,this.model,this.view,this.renderers,this.treeDelegate,e),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=dc(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===GH.Always)}Object.defineProperty(t.prototype,"onDidScroll",{get:function(){return this.view.onDidScroll},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){return Qn.filter(Qn.map(this.view.onMouseDblClick,wY),(function(t){return t.target!==WH.Filter}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseOver",{get:function(){return Qn.map(this.view.onMouseOver,wY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseOut",{get:function(){return Qn.map(this.view.onMouseOut,wY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onContextMenu",{get:function(){var t,i;return Qn.any(Qn.filter(Qn.map(this.view.onContextMenu,pY),(function(t){return!t.isStickyScroll})),(i=(t=this.stickyScrollController)===null||t===void 0?void 0:t.onContextMenu)!==null&&i!==void 0?i:Qn.None)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointer",{get:function(){return Qn.map(this.view.onPointer,wY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onKeyDown",{get:function(){return this.view.onKeyDown},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeModel",{get:function(){return Qn.signal(this.model.onDidSplice)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"findMode",{get:function(){var t,i;return(i=(t=this.findController)===null||t===void 0?void 0:t.mode)!==null&&i!==void 0?i:VH.Highlight},set:function(t){this.findController&&(this.findController.mode=t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"findMatchType",{get:function(){var t,i;return(i=(t=this.findController)===null||t===void 0?void 0:t.matchType)!==null&&i!==void 0?i:KH.Fuzzy},set:function(t){this.findController&&(this.findController.matchType=t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"expandOnDoubleClick",{get:function(){return this._options.expandOnDoubleClick===void 0||this._options.expandOnDoubleClick},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"expandOnlyOnTwistieClick",{get:function(){return this._options.expandOnlyOnTwistieClick===void 0||this._options.expandOnlyOnTwistieClick},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){if(t===void 0){t={}}var i;this._options=__assign(__assign({},this._options),t);for(var n=0,r=this.renderers;n<r.length;n++){var e=r[n];e.updateOptions(t)}this.view.updateOptions(this._options),(i=this.findController)===null||i===void 0||i.updateOptions(t),this.updateStickyScroll(t),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===GH.Always)};Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:false,configurable:true});t.prototype.updateStickyScroll=function(t){var i;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new vY(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=Qn.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(i=this.stickyScrollController)===null||i===void 0||i.updateOptions(t)};t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()};Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(t){this.view.scrollTop=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this.view.scrollHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.view.renderHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.view.ariaLabel},set:function(t){this.view.ariaLabel=t},enumerable:false,configurable:true});t.prototype.domFocus=function(){var t;!((t=this.stickyScrollController)===null||t===void 0)&&t.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()};t.prototype.layout=function(t,i){var n;this.view.layout(t,i),st(i)&&((n=this.findController)===null||n===void 0||n.layout(i))};t.prototype.style=function(t){var i;var n=".".concat(this.view.domId),r=[];t.treeIndentGuidesStroke&&(r.push(".monaco-list".concat(n,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(n,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(t.treeInactiveIndentGuidesStroke,"; }")),r.push(".monaco-list".concat(n," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(t.treeIndentGuidesStroke,"; }"))),t.listBackground&&(r.push(".monaco-list".concat(n," .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ").concat(t.listBackground,"; }")),r.push(".monaco-list".concat(n," .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ").concat(t.listBackground,"; }"))),t.listFocusForeground&&(r.push(".monaco-list".concat(n,".sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ").concat(t.listFocusForeground,"; }")),r.push(".monaco-list".concat(n,":not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }")));var e=Hc(t.listFocusAndSelectionOutline,Hc(t.listSelectionOutline,(i=t.listFocusOutline)!==null&&i!==void 0?i:""));e&&(r.push(".monaco-list".concat(n,".sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ").concat(e,"; outline-offset: -1px;}")),r.push(".monaco-list".concat(n,":not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}"))),t.listFocusOutline&&(r.push(".monaco-list".concat(n,".sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ").concat(t.listFocusOutline,"; outline-offset: -1px; }")),r.push(".monaco-list".concat(n,":not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }")),r.push(".monaco-workbench.context-menu-visible .monaco-list".concat(n,".last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ").concat(t.listFocusOutline,"; outline-offset: -1px; }")),r.push(".monaco-workbench.context-menu-visible .monaco-list".concat(n,".last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }")),r.push(".monaco-workbench.context-menu-visible .monaco-list".concat(n,".last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }"))),this.styleElement.textContent=r.join("\n"),this.view.style(t)};t.prototype.getParentElement=function(t){var i=this.model.getParentNodeLocation(t);return this.model.getNode(i).element};t.prototype.getFirstElementChild=function(t){return this.model.getFirstElementChild(t)};t.prototype.getNode=function(t){return this.model.getNode(t)};t.prototype.getNodeLocation=function(t){return this.model.getNodeLocation(t)};t.prototype.collapse=function(t,i){if(i===void 0){i=!1}return this.model.setCollapsed(t,!0,i)};t.prototype.expand=function(t,i){if(i===void 0){i=!1}return this.model.setCollapsed(t,!1,i)};t.prototype.toggleCollapsed=function(t,i){if(i===void 0){i=!1}return this.model.setCollapsed(t,void 0,i)};t.prototype.isCollapsible=function(t){return this.model.isCollapsible(t)};t.prototype.setCollapsible=function(t,i){return this.model.setCollapsible(t,i)};t.prototype.isCollapsed=function(t){return this.model.isCollapsed(t)};t.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()};t.prototype.setSelection=function(t,i){var n=this;this.eventBufferer.bufferEvents((function(){var r=t.map((function(t){return n.model.getNode(t)}));n.selection.set(r,i);var e=t.map((function(t){return n.model.getListIndex(t)})).filter((function(t){return t>-1}));n.view.setSelection(e,i,!0)}))};t.prototype.getSelection=function(){return this.selection.get()};t.prototype.setFocus=function(t,i){var n=this;this.eventBufferer.bufferEvents((function(){var r=t.map((function(t){return n.model.getNode(t)}));n.focus.set(r,i);var e=t.map((function(t){return n.model.getListIndex(t)})).filter((function(t){return t>-1}));n.view.setFocus(e,i,!0)}))};t.prototype.focusNext=function(t,i,n,r){if(t===void 0){t=1}if(i===void 0){i=!1}if(r===void 0){r=xc(n)&&n.altKey?void 0:this.focusNavigationFilter}this.view.focusNext(t,i,n,r)};t.prototype.focusPrevious=function(t,i,n,r){if(t===void 0){t=1}if(i===void 0){i=!1}if(r===void 0){r=xc(n)&&n.altKey?void 0:this.focusNavigationFilter}this.view.focusPrevious(t,i,n,r)};t.prototype.focusNextPage=function(t,i){if(i===void 0){i=xc(t)&&t.altKey?void 0:this.focusNavigationFilter}return this.view.focusNextPage(t,i)};t.prototype.focusPreviousPage=function(t,i){var n=this;if(i===void 0){i=xc(t)&&t.altKey?void 0:this.focusNavigationFilter}return this.view.focusPreviousPage(t,i,(function(){var t,i;return(i=(t=n.stickyScrollController)===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0}))};t.prototype.focusFirst=function(t,i){if(i===void 0){i=xc(t)&&t.altKey?void 0:this.focusNavigationFilter}this.view.focusFirst(t,i)};t.prototype.getFocus=function(){return this.focus.get()};t.prototype.reveal=function(t,i){this.model.expandTo(t);var n=this.model.getListIndex(t);if(n!==-1)if(this.stickyScrollController){var r=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(t));this.view.reveal(n,i,r)}else this.view.reveal(n,i)};t.prototype.onLeftArrow=function(t){t.preventDefault(),t.stopPropagation();var i=this.view.getFocusedElements();if(i.length===0)return;var n=i[0],r=this.model.getNodeLocation(n);if(!this.model.setCollapsed(r,!0)){var e=this.model.getParentNodeLocation(r);if(!e)return;var o=this.model.getListIndex(e);this.view.reveal(o),this.view.setFocus([o])}};t.prototype.onRightArrow=function(t){t.preventDefault(),t.stopPropagation();var i=this.view.getFocusedElements();if(i.length===0)return;var n=i[0],r=this.model.getNodeLocation(n);if(!this.model.setCollapsed(r,!1)){if(!n.children.some((function(t){return t.visible})))return;var e=this.view.getFocus()[0],o=e+1;this.view.reveal(o),this.view.setFocus([o])}};t.prototype.onSpace=function(t){t.preventDefault(),t.stopPropagation();var i=this.view.getFocusedElements();if(i.length===0)return;var n=i[0],r=this.model.getNodeLocation(n),e=t.browserEvent.altKey;this.model.setCollapsed(r,void 0,e)};t.prototype.dispose=function(){var t;kn(this.disposables),(t=this.stickyScrollController)===null||t===void 0||t.dispose(),this.view.dispose()};return t}();var EY=function(){function t(t,i,n){if(n===void 0){n={}}this.user=t,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new iY(t,i,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:function(t,i){return n.sorter.compare(t.element,i.element)}}),this.identityProvider=n.identityProvider}t.prototype.setChildren=function(t,i,n){if(i===void 0){i=vi.empty()}if(n===void 0){n={}}var r=this.getElementLocation(t);this._setChildren(r,this.preserveCollapseState(i),n)};t.prototype._setChildren=function(t,i,n){var r=this;if(i===void 0){i=vi.empty()}var e=new Set,o=new Set;this.model.splice(__spreadArray(__spreadArray([],t,true),[0],false),Number.MAX_VALUE,i,__assign(__assign({},n),{onDidCreateNode:function(t){var i;if(t.element===null)return;var s=t;if(e.add(s.element),r.nodes.set(s.element,s),r.identityProvider){var u=r.identityProvider.getId(s.element).toString();o.add(u),r.nodesByIdentity.set(u,s)}(i=n.onDidCreateNode)===null||i===void 0||i.call(n,s)},onDidDeleteNode:function(t){var i;if(t.element===null)return;var s=t;if(e.has(s.element)||r.nodes.delete(s.element),r.identityProvider){var u=r.identityProvider.getId(s.element).toString();o.has(u)||r.nodesByIdentity.delete(u)}(i=n.onDidDeleteNode)===null||i===void 0||i.call(n,s)}}))};t.prototype.preserveCollapseState=function(t){var i=this;if(t===void 0){t=vi.empty()}return this.sorter&&(t=__spreadArray([],t,true).sort(this.sorter.compare.bind(this.sorter))),vi.map(t,(function(t){var n=i.nodes.get(t.element);if(!n&&i.identityProvider){var r=i.identityProvider.getId(t.element).toString();n=i.nodesByIdentity.get(r)}if(!n){var r=void 0;return r=t.collapsed===void 0?void 0:t.collapsed===PH.Collapsed||t.collapsed===PH.PreserveOrCollapsed||t.collapsed!==PH.Expanded&&t.collapsed!==PH.PreserveOrExpanded&&!!t.collapsed,__assign(__assign({},t),{children:i.preserveCollapseState(t.children),collapsed:r})}var e=typeof t.collapsible=="boolean"?t.collapsible:n.collapsible;var o;return o=t.collapsed===void 0||t.collapsed===PH.PreserveOrCollapsed||t.collapsed===PH.PreserveOrExpanded?n.collapsed:t.collapsed===PH.Collapsed||t.collapsed!==PH.Expanded&&!!t.collapsed,__assign(__assign({},t),{collapsible:e,collapsed:o,children:i.preserveCollapseState(t.children)})}))};t.prototype.rerender=function(t){var i=this.getElementLocation(t);this.model.rerender(i)};t.prototype.getFirstElementChild=function(t){if(t===void 0){t=null}var i=this.getElementLocation(t);return this.model.getFirstElementChild(i)};t.prototype.has=function(t){return this.nodes.has(t)};t.prototype.getListIndex=function(t){var i=this.getElementLocation(t);return this.model.getListIndex(i)};t.prototype.getListRenderCount=function(t){var i=this.getElementLocation(t);return this.model.getListRenderCount(i)};t.prototype.isCollapsible=function(t){var i=this.getElementLocation(t);return this.model.isCollapsible(i)};t.prototype.setCollapsible=function(t,i){var n=this.getElementLocation(t);return this.model.setCollapsible(n,i)};t.prototype.isCollapsed=function(t){var i=this.getElementLocation(t);return this.model.isCollapsed(i)};t.prototype.setCollapsed=function(t,i,n){var r=this.getElementLocation(t);return this.model.setCollapsed(r,i,n)};t.prototype.expandTo=function(t){var i=this.getElementLocation(t);this.model.expandTo(i)};t.prototype.refilter=function(){this.model.refilter()};t.prototype.getNode=function(t){if(t===void 0){t=null}if(t===null)return this.model.getNode(this.model.rootRef);var i=this.nodes.get(t);if(!i)throw new XH(this.user,"Tree element not found: ".concat(t));return i};t.prototype.getNodeLocation=function(t){return t.element};t.prototype.getParentNodeLocation=function(t){if(t===null)throw new XH(this.user,"Invalid getParentNodeLocation call");var i=this.nodes.get(t);if(!i)throw new XH(this.user,"Tree element not found: ".concat(t));var n=this.model.getNodeLocation(i),r=this.model.getParentNodeLocation(n);return this.model.getNode(r).element};t.prototype.getElementLocation=function(t){if(t===null)return[];var i=this.nodes.get(t);if(!i)throw new XH(this.user,"Tree element not found: ".concat(t));return this.model.getNodeLocation(i)};return t}();function BY(t){return{element:{elements:[t.element],incompressible:t.incompressible||!1},children:vi.map(vi.from(t.children),BY),collapsible:t.collapsible,collapsed:t.collapsed}}function CY(t){var i;var n=[t.element],r=t.incompressible||!1;var e,o;for(;i=vi.consume(vi.from(t.children),2),o=i[0],e=i[1],o.length===1&&!o[0].incompressible;)t=o[0],n.push(t.element);return{element:{elements:n,incompressible:r},children:vi.map(vi.concat(o,e),CY),collapsible:t.collapsible,collapsed:t.collapsed}}function DY(t,i){if(i===void 0){i=0}var n;return n=i<t.element.elements.length-1?[DY(t,i+1)]:vi.map(vi.from(t.children),(function(t){return DY(t,0)})),i===0&&t.element.incompressible?{element:t.element.elements[i],children:n,incompressible:!0,collapsible:t.collapsible,collapsed:t.collapsed}:{element:t.element.elements[i],children:n,collapsible:t.collapsible,collapsed:t.collapsed}}function MY(t){return DY(t,0)}function _Y(t,i,n){return t.element===i?__assign(__assign({},t),{children:n}):__assign(__assign({},t),{children:vi.map(vi.from(t.children),(function(t){return _Y(t,i,n)}))})}var FY=function(){function t(t,i,n){if(n===void 0){n={}}this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new EY(t,i,n),this.enabled=n.compressionEnabled===void 0||n.compressionEnabled,this.identityProvider=n.identityProvider}Object.defineProperty(t.prototype,"onDidSplice",{get:function(){return this.model.onDidSplice},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeRenderNodeCount",{get:function(){return this.model.onDidChangeRenderNodeCount},enumerable:false,configurable:true});t.prototype.setChildren=function(t,i,n){if(i===void 0){i=vi.empty()}var r=n.diffIdentityProvider&&(e=n.diffIdentityProvider,{getId:function(t){return t.elements.map((function(t){return e.getId(t).toString()})).join("\0")}});var e;if(t===null){var o=vi.map(i,this.enabled?CY:BY);return void this._setChildren(null,o,{diffIdentityProvider:r,diffDepth:1/0})}var s=this.nodes.get(t);if(!s)throw new XH(this.user,"Unknown compressed tree node");var u=this.model.getNode(s),a=this.model.getParentNodeLocation(s),c=this.model.getNode(a),h=_Y(MY(u),t,i),f=(this.enabled?CY:BY)(h),l=n.diffIdentityProvider?function(t,i){return n.diffIdentityProvider.getId(t)===n.diffIdentityProvider.getId(i)}:void 0;if(_(f.element.elements,u.element.elements,l))return void this._setChildren(s,f.children||vi.empty(),{diffIdentityProvider:r,diffDepth:1});var d=c.children.map((function(t){return t===u?f:t}));this._setChildren(c.element,d,{diffIdentityProvider:r,diffDepth:u.depth-c.depth})};t.prototype.isCompressionEnabled=function(){return this.enabled};t.prototype.setCompressionEnabled=function(t){if(t===this.enabled)return;this.enabled=t;var i=this.model.getNode().children,n=vi.map(i,MY),r=vi.map(n,t?CY:BY);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})};t.prototype._setChildren=function(t,i,n){var r=this;var e=new Set;this.model.setChildren(t,i,__assign(__assign({},n),{onDidCreateNode:function(t){for(var i=0,n=t.element.elements;i<n.length;i++){var o=n[i];e.add(o),r.nodes.set(o,t.element)}},onDidDeleteNode:function(t){for(var i=0,n=t.element.elements;i<n.length;i++){var o=n[i];e.has(o)||r.nodes.delete(o)}}}))};t.prototype.has=function(t){return this.nodes.has(t)};t.prototype.getListIndex=function(t){var i=this.getCompressedNode(t);return this.model.getListIndex(i)};t.prototype.getListRenderCount=function(t){var i=this.getCompressedNode(t);return this.model.getListRenderCount(i)};t.prototype.getNode=function(t){if(t===void 0)return this.model.getNode();var i=this.getCompressedNode(t);return this.model.getNode(i)};t.prototype.getNodeLocation=function(t){var i=this.model.getNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]};t.prototype.getParentNodeLocation=function(t){var i=this.getCompressedNode(t),n=this.model.getParentNodeLocation(i);return n===null?null:n.elements[n.elements.length-1]};t.prototype.getFirstElementChild=function(t){var i=this.getCompressedNode(t);return this.model.getFirstElementChild(i)};t.prototype.isCollapsible=function(t){var i=this.getCompressedNode(t);return this.model.isCollapsible(i)};t.prototype.setCollapsible=function(t,i){var n=this.getCompressedNode(t);return this.model.setCollapsible(n,i)};t.prototype.isCollapsed=function(t){var i=this.getCompressedNode(t);return this.model.isCollapsed(i)};t.prototype.setCollapsed=function(t,i,n){var r=this.getCompressedNode(t);return this.model.setCollapsed(r,i,n)};t.prototype.expandTo=function(t){var i=this.getCompressedNode(t);this.model.expandTo(i)};t.prototype.rerender=function(t){var i=this.getCompressedNode(t);this.model.rerender(i)};t.prototype.refilter=function(){this.model.refilter()};t.prototype.getCompressedNode=function(t){if(t===null)return null;var i=this.nodes.get(t);if(!i)throw new XH(this.user,"Tree element not found: ".concat(t));return i};return t}();var SY=function(t){return t[t.length-1]};var IY=function(){function t(t,i){this.unwrapper=t,this.node=i}Object.defineProperty(t.prototype,"element",{get:function(){return this.node.element===null?null:this.unwrapper(this.node.element)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"children",{get:function(){var i=this;return this.node.children.map((function(n){return new t(i.unwrapper,n)}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"depth",{get:function(){return this.node.depth},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visible",{get:function(){return this.node.visible},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:false,configurable:true});return t}();var QY=function(){function t(t,i,n){if(n===void 0){n={}}var r=this;this.rootRef=null,this.elementMapper=n.elementMapper||SY;var e=function(t){return r.elementMapper(t.elements)};this.nodeMapper=new qH((function(t){return new IY(e,t)})),this.model=new FY(t,function(t,i){return{splice:function(n,r,e){i.splice(n,r,e.map((function(i){return t.map(i)})))},updateElementHeight:function(t,n){i.updateElementHeight(t,n)}}}(this.nodeMapper,i),function(t,i){return __assign(__assign({},i),{identityProvider:i.identityProvider&&{getId:function(n){return i.identityProvider.getId(t(n))}},sorter:i.sorter&&{compare:function(t,n){return i.sorter.compare(t.elements[0],n.elements[0])}},filter:i.filter&&{filter:function(n,r){return i.filter.filter(t(n),r)}}})}(e,n))}Object.defineProperty(t.prototype,"onDidSplice",{get:function(){var t=this;return Qn.map(this.model.onDidSplice,(function(i){var n=i.insertedNodes,r=i.deletedNodes;return{insertedNodes:n.map((function(i){return t.nodeMapper.map(i)})),deletedNodes:r.map((function(i){return t.nodeMapper.map(i)}))}}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeCollapseState",{get:function(){var t=this;return Qn.map(this.model.onDidChangeCollapseState,(function(i){var n=i.node,r=i.deep;return{node:t.nodeMapper.map(n),deep:r}}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeRenderNodeCount",{get:function(){var t=this;return Qn.map(this.model.onDidChangeRenderNodeCount,(function(i){return t.nodeMapper.map(i)}))},enumerable:false,configurable:true});t.prototype.setChildren=function(t,i,n){if(i===void 0){i=vi.empty()}if(n===void 0){n={}}this.model.setChildren(t,i,n)};t.prototype.isCompressionEnabled=function(){return this.model.isCompressionEnabled()};t.prototype.setCompressionEnabled=function(t){this.model.setCompressionEnabled(t)};t.prototype.has=function(t){return this.model.has(t)};t.prototype.getListIndex=function(t){return this.model.getListIndex(t)};t.prototype.getListRenderCount=function(t){return this.model.getListRenderCount(t)};t.prototype.getNode=function(t){return this.nodeMapper.map(this.model.getNode(t))};t.prototype.getNodeLocation=function(t){return t.element};t.prototype.getParentNodeLocation=function(t){return this.model.getParentNodeLocation(t)};t.prototype.getFirstElementChild=function(t){var i=this.model.getFirstElementChild(t);return i==null?i:this.elementMapper(i.elements)};t.prototype.isCollapsible=function(t){return this.model.isCollapsible(t)};t.prototype.setCollapsible=function(t,i){return this.model.setCollapsible(t,i)};t.prototype.isCollapsed=function(t){return this.model.isCollapsed(t)};t.prototype.setCollapsed=function(t,i,n){return this.model.setCollapsed(t,i,n)};t.prototype.expandTo=function(t){return this.model.expandTo(t)};t.prototype.rerender=function(t){return this.model.rerender(t)};t.prototype.refilter=function(){return this.model.refilter()};t.prototype.getCompressedTreeNode=function(t){if(t===void 0){t=null}return this.model.getNode(t)};return t}();var OY=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s};var NY=function(t){__extends(i,t);function i(i,n,r,e,o){if(o===void 0){o={}}var s=this;s=t.call(this,i,n,r,e,o)||this,s.user=i;return s}Object.defineProperty(i.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:false,configurable:true});i.prototype.setChildren=function(t,i,n){if(i===void 0){i=vi.empty()}this.model.setChildren(t,i,n)};i.prototype.rerender=function(t){t!==void 0?this.model.rerender(t):this.view.rerender()};i.prototype.hasElement=function(t){return this.model.has(t)};i.prototype.createModel=function(t,i,n){return new EY(t,i,n)};return i}(xY);var RY=function(){function t(t,i,n){this._compressedTreeNodeProvider=t,this.stickyScrollDelegate=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}Object.defineProperty(t.prototype,"compressedTreeNodeProvider",{get:function(){return this._compressedTreeNodeProvider()},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(t)}};t.prototype.renderElement=function(t,i,n,r){var e=this.stickyScrollDelegate.getCompressedNode(t);e||(e=this.compressedTreeNodeProvider.getCompressedTreeNode(t.element)),e.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(t,i,n.data,r)):(n.compressedTreeNode=e,this.renderer.renderCompressedElements(e,i,n.data,r))};t.prototype.disposeElement=function(t,i,n,r){var e,o,s,u;n.compressedTreeNode?(o=(e=this.renderer).disposeCompressedElements)===null||o===void 0||o.call(e,n.compressedTreeNode,i,n.data,r):(u=(s=this.renderer).disposeElement)===null||u===void 0||u.call(s,t,i,n.data,r)};t.prototype.disposeTemplate=function(t){this.renderer.disposeTemplate(t.data)};t.prototype.renderTwistie=function(t,i){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(t,i)};return t}();OY([vk],RY.prototype,"compressedTreeNodeProvider",null);var TY=function(){function t(t){this.modelProvider=t,this.compressedStickyNodes=new Map}t.prototype.getCompressedNode=function(t){return this.compressedStickyNodes.get(t)};t.prototype.constrainStickyScrollNodes=function(t,i,n){if(this.compressedStickyNodes.clear(),t.length===0)return[];for(var r=0;r<t.length;r++){var e=t[r],o=e.position+e.height;if(r+1<t.length&&o+t[r+1].height>n||r>=i-1&&i<t.length){var s=t.slice(0,r),u=t.slice(r);return __spreadArray(__spreadArray([],s,true),[this.compressStickyNodes(u)],false)}}return t};t.prototype.compressStickyNodes=function(t){if(t.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return t[0];var i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];var o=this.modelProvider().getCompressedTreeNode(e.node.element);if(o.element){if(o.element.incompressible)break;i.push.apply(i,o.element.elements)}}if(i.length<2)return t[0];var s=t[t.length-1],u={elements:i,incompressible:!1},a=__assign(__assign({},s.node),{children:[],element:u}),c=new Proxy(t[0].node,{}),h={node:c,startIndex:t[0].startIndex,endIndex:s.endIndex,position:t[0].position,height:t[0].height};return this.compressedStickyNodes.set(c,a),h};return t}();function LY(t,i){return i&&__assign(__assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(n){var r;try{r=t().getCompressedTreeNode(n)}catch(t){return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return r.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(r.element.elements)}}})}var jY=function(t){__extends(i,t);function i(i,n,r,e,o){if(o===void 0){o={}}var s=this;var u=function(){return s},a=new TY((function(){return s.model}));return s=t.call(this,i,n,r,e.map((function(t){return new RY(u,a,t)})),__assign(__assign({},LY(u,o)),{stickyScrollDelegate:a}))||this}i.prototype.setChildren=function(t,i,n){if(i===void 0){i=vi.empty()}this.model.setChildren(t,i,n)};i.prototype.createModel=function(t,i,n){return new QY(t,i,n)};i.prototype.updateOptions=function(i){if(i===void 0){i={}}t.prototype.updateOptions.call(this,i),i.compressionEnabled!==void 0&&this.model.setCompressionEnabled(i.compressionEnabled)};i.prototype.getCompressedTreeNode=function(t){if(t===void 0){t=null}return this.model.getCompressedTreeNode(t)};return i}(NY);function zY(t){return __assign(__assign({},t),{children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1})}function UY(t,i){return!!i.parent&&(i.parent===t||UY(t,i.parent))}var HY=function(){function t(t){this.node=t}Object.defineProperty(t.prototype,"element",{get:function(){return this.node.element.element},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"children",{get:function(){return this.node.children.map((function(i){return new t(i)}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"depth",{get:function(){return this.node.depth},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visible",{get:function(){return this.node.visible},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:false,configurable:true});return t}();var YY=function(){function t(t,i,n){this.renderer=t,this.nodeMapper=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=t.templateId}t.prototype.renderTemplate=function(t){return{templateData:this.renderer.renderTemplate(t)}};t.prototype.renderElement=function(t,i,n,r){this.renderer.renderElement(this.nodeMapper.map(t),i,n.templateData,r)};t.prototype.renderTwistie=function(t,i){var n,r;return t.slow?((n=i.classList).add.apply(n,xh.asClassNameArray(re.treeItemLoading)),!0):((r=i.classList).remove.apply(r,xh.asClassNameArray(re.treeItemLoading)),!1)};t.prototype.disposeElement=function(t,i,n,r){var e,o;(o=(e=this.renderer).disposeElement)===null||o===void 0||o.call(e,this.nodeMapper.map(t),i,n.templateData,r)};t.prototype.disposeTemplate=function(t){this.renderer.disposeTemplate(t.templateData)};t.prototype.dispose=function(){this.renderedNodes.clear()};return t}();function JY(t){return{browserEvent:t.browserEvent,elements:t.elements.map((function(t){return t.element}))}}function PY(t){return{browserEvent:t.browserEvent,element:t.element&&t.element.element,target:t.target}}var WY=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i.elements.map((function(t){return t.element})))||this,n.data=i;return n}return i}($L);function GY(t){return t instanceof $L?new WY(t):t}var VY=function(){function t(t){this.dnd=t}t.prototype.getDragURI=function(t){return this.dnd.getDragURI(t.element)};t.prototype.getDragLabel=function(t,i){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t.map((function(t){return t.element})),i)};t.prototype.onDragStart=function(t,i){var n,r;(r=(n=this.dnd).onDragStart)===null||r===void 0||r.call(n,GY(t),i)};t.prototype.onDragOver=function(t,i,n,r,e,o){if(o===void 0){o=!0}return this.dnd.onDragOver(GY(t),i&&i.element,n,r,e)};t.prototype.drop=function(t,i,n,r,e){this.dnd.drop(GY(t),i&&i.element,n,r,e)};t.prototype.onDragEnd=function(t){var i,n;(n=(i=this.dnd).onDragEnd)===null||n===void 0||n.call(i,t)};t.prototype.dispose=function(){this.dnd.dispose()};return t}();function KY(t){return t&&__assign(__assign({},t),{collapseByDefault:!0,identityProvider:t.identityProvider&&{getId:function(i){return t.identityProvider.getId(i.element)}},dnd:t.dnd&&new VY(t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:function(i){return t.multipleSelectionController.isSelectionSingleChangeEvent(__assign(__assign({},i),{element:i.element}))},isSelectionRangeChangeEvent:function(i){return t.multipleSelectionController.isSelectionRangeChangeEvent(__assign(__assign({},i),{element:i.element}))}},accessibilityProvider:t.accessibilityProvider&&__assign(__assign({},t.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:t.accessibilityProvider.getRole?function(i){return t.accessibilityProvider.getRole(i.element)}:function(){return"treeitem"},isChecked:t.accessibilityProvider.isChecked?function(i){var n;return!!(!((n=t.accessibilityProvider)===null||n===void 0)&&n.isChecked(i.element))}:void 0,getAriaLabel:function(i){return t.accessibilityProvider.getAriaLabel(i.element)},getWidgetAriaLabel:function(){return t.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:t.accessibilityProvider.getWidgetRole?function(){return t.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:t.accessibilityProvider.getAriaLevel&&function(i){return t.accessibilityProvider.getAriaLevel(i.element)},getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&function(i){return t.accessibilityProvider.getActiveDescendantId(i.element)}}),filter:t.filter&&{filter:function(i,n){return t.filter.filter(i.element,n)}},keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&__assign(__assign({},t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(i){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i.element)}}),sorter:void 0,expandOnlyOnTwistieClick:t.expandOnlyOnTwistieClick===void 0?void 0:typeof t.expandOnlyOnTwistieClick!="function"?t.expandOnlyOnTwistieClick:function(i){return t.expandOnlyOnTwistieClick(i.element)},defaultFindVisibility:function(i){return i.hasChildren&&i.stale?1:typeof t.defaultFindVisibility=="number"?t.defaultFindVisibility:t.defaultFindVisibility===void 0?2:t.defaultFindVisibility(i.element)}})}function XY(t,i){i(t),t.children.forEach((function(t){return XY(t,i)}))}var qY=function(){function t(t,i,n,r,e,o){if(o===void 0){o={}}this.user=t,this.dataSource=e,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Ln,this._onDidChangeNodeSlowState=new Ln,this.nodeMapper=new qH((function(t){return new HY(t)})),this.disposables=new Bn,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=o.autoExpandSingleChildren!==void 0&&o.autoExpandSingleChildren,this.sorter=o.sorter,this.getDefaultCollapseState=function(t){return o.collapseByDefault?o.collapseByDefault(t)?PH.PreserveOrCollapsed:PH.PreserveOrExpanded:void 0},this.tree=this.createTree(t,i,n,r,o),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=zY({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root=__assign(__assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}Object.defineProperty(t.prototype,"onDidScroll",{get:function(){return this.tree.onDidScroll},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeFocus",{get:function(){return Qn.map(this.tree.onDidChangeFocus,JY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeSelection",{get:function(){return Qn.map(this.tree.onDidChangeSelection,JY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){return Qn.map(this.tree.onMouseDblClick,PY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onPointer",{get:function(){return Qn.map(this.tree.onPointer,PY)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeModel",{get:function(){return this.tree.onDidChangeModel},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeCollapseState",{get:function(){return this.tree.onDidChangeCollapseState},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeFindOpenState",{get:function(){return this.tree.onDidChangeFindOpenState},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidChangeStickyScrollFocused",{get:function(){return this.tree.onDidChangeStickyScrollFocused},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:false,configurable:true});t.prototype.createTree=function(t,i,n,r,e){var o=this;var s=new oY(n),u=r.map((function(t){return new YY(t,o.nodeMapper,o._onDidChangeNodeSlowState.event)})),a=KY(e)||{};return new NY(t,i,s,u,a)};t.prototype.updateOptions=function(t){if(t===void 0){t={}}this.tree.updateOptions(t)};t.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()};Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(t){this.tree.scrollTop=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this.tree.scrollHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.tree.renderHeight},enumerable:false,configurable:true});t.prototype.domFocus=function(){this.tree.domFocus()};t.prototype.layout=function(t,i){this.tree.layout(t,i)};t.prototype.style=function(t){this.tree.style(t)};t.prototype.getInput=function(){return this.root.element};t.prototype.setInput=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:this.refreshPromises.forEach((function(t){return t.cancel()})),this.refreshPromises.clear(),this.root.element=t;n=i&&{viewState:i,focus:[],selection:[]};return[4,this._updateChildren(t,!0,!1,n)];case 1:r.sent(),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),i&&typeof i.scrollTop=="number"&&(this.scrollTop=i.scrollTop);return[2]}}))}))};t.prototype._updateChildren=function(){return __awaiter(this,arguments,void 0,(function(t,i,n,r,e){var o,s;if(t===void 0){t=this.root.element}if(i===void 0){i=!0}if(n===void 0){n=!1}return __generator(this,(function(u){switch(u.label){case 0:if(this.root.element===void 0)throw new XH(this.user,"Tree input not set");o=this.root.refreshPromise;if(!o)return[3,3];return[4,this.root.refreshPromise];case 1:u.sent();return[4,Qn.toPromise(this._onDidRender.event)];case 2:o=u.sent();u.label=3;case 3:o;s=this.getDataNode(t);return[4,this.refreshAndRenderNode(s,i,r,e)];case 4:if(u.sent(),n)try{this.tree.rerender(s)}catch(t){}return[2]}}))}))};t.prototype.rerender=function(t){if(t===void 0||t===this.root.element)return void this.tree.rerender();var i=this.getDataNode(t);this.tree.rerender(i)};t.prototype.getNode=function(t){if(t===void 0){t=this.root.element}var i=this.getDataNode(t),n=this.tree.getNode(i===this.root?null:i);return this.nodeMapper.map(n)};t.prototype.collapse=function(t,i){if(i===void 0){i=!1}var n=this.getDataNode(t);return this.tree.collapse(n===this.root?null:n,i)};t.prototype.expand=function(t){return __awaiter(this,arguments,void 0,(function(t,i){var n,r,e,o,s,u;if(i===void 0){i=!1}return __generator(this,(function(a){switch(a.label){case 0:if(this.root.element===void 0)throw new XH(this.user,"Tree input not set");n=this.root.refreshPromise;if(!n)return[3,3];return[4,this.root.refreshPromise];case 1:a.sent();return[4,Qn.toPromise(this._onDidRender.event)];case 2:n=a.sent();a.label=3;case 3:n;r=this.getDataNode(t);e=this.tree.hasElement(r)&&!this.tree.isCollapsible(r);if(e)return[3,7];o=r.refreshPromise;if(!o)return[3,6];return[4,this.root.refreshPromise];case 4:a.sent();return[4,Qn.toPromise(this._onDidRender.event)];case 5:o=a.sent();a.label=6;case 6:e=(o,r!==this.root&&!r.refreshPromise&&!this.tree.isCollapsed(r));a.label=7;case 7:if(e)return[2,!1];s=this.tree.expand(r===this.root?null:r,i);u=r.refreshPromise;if(!u)return[3,10];return[4,this.root.refreshPromise];case 8:a.sent();return[4,Qn.toPromise(this._onDidRender.event)];case 9:u=a.sent();a.label=10;case 10:return[2,(u,s)]}}))}))};t.prototype.setSelection=function(t,i){var n=this;var r=t.map((function(t){return n.getDataNode(t)}));this.tree.setSelection(r,i)};t.prototype.getSelection=function(){return this.tree.getSelection().map((function(t){return t.element}))};t.prototype.setFocus=function(t,i){var n=this;var r=t.map((function(t){return n.getDataNode(t)}));this.tree.setFocus(r,i)};t.prototype.getFocus=function(){return this.tree.getFocus().map((function(t){return t.element}))};t.prototype.reveal=function(t,i){this.tree.reveal(this.getDataNode(t),i)};t.prototype.getParentElement=function(t){var i=this.tree.getParentElement(this.getDataNode(t));return i&&i.element};t.prototype.getFirstElementChild=function(t){if(t===void 0){t=this.root.element}var i=this.getDataNode(t),n=this.tree.getFirstElementChild(i===this.root?null:i);return n&&n.element};t.prototype.getDataNode=function(t){var i=this.nodes.get(t===this.root.element?null:t);if(!i)throw new XH(this.user,"Data tree node not found: ".concat(t));return i};t.prototype.refreshAndRenderNode=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.refreshNode(t,i,n)];case 1:e.sent(),this.disposables.isDisposed||this.render(t,n,r);return[2]}}))}))};t.prototype.refreshNode=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r;var e=this;return __generator(this,(function(o){return[2,(this.subTreeRefreshPromises.forEach((function(o,s){!r&&function(t,i){return t===i||UY(t,i)||UY(i,t)}(s,t)&&(r=o.then((function(){return e.refreshNode(t,i,n)})))})),r||(t!==this.root&&this.tree.getNode(t).collapsed?(t.hasChildren=!!this.dataSource.hasChildren(t.element),t.stale=!0,void this.setChildren(t,[],i,n)):this.doRefreshSubTree(t,i,n)))]}))}))};t.prototype.doRefreshSubTree=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e;var o=this;return __generator(this,(function(s){switch(s.label){case 0:t.refreshPromise=new Promise((function(t){return r=t})),this.subTreeRefreshPromises.set(t,t.refreshPromise),t.refreshPromise.finally((function(){t.refreshPromise=void 0,o.subTreeRefreshPromises.delete(t)}));s.label=1;case 1:s.trys.push([1,,4,5]);return[4,this.doRefreshNode(t,i,n)];case 2:e=s.sent();t.stale=!1;return[4,ru.settled(e.map((function(t){return o.doRefreshSubTree(t,i,n)})))];case 3:s.sent();return[3,5];case 4:r();return[7];case 5:return[2]}}))}))};t.prototype.doRefreshNode=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,e,s;var u=this;return __generator(this,(function(a){switch(a.label){case 0:if(t.hasChildren=!!this.dataSource.hasChildren(t.element),t.hasChildren){e=this.doGetChildren(t);if(ut(e))r=Promise.resolve(e);else{o=Ws(800);o.then((function(){t.slow=!0,u._onDidChangeNodeSlowState.fire(t)}),(function(t){return null})),r=e.finally((function(){return o.cancel()}))}}else r=Promise.resolve(vi.empty());a.label=1;case 1:a.trys.push([1,3,4,5]);return[4,r];case 2:e=a.sent();return[2,this.setChildren(t,e,i,n)];case 3:s=a.sent();if(t!==this.root&&this.tree.hasElement(t)&&this.tree.collapse(t),dn(s))return[2,[]];throw s;case 4:t.slow&&(t.slow=!1,this._onDidChangeNodeSlowState.fire(t));return[7];case 5:return[2]}}))}))};t.prototype.doGetChildren=function(t){var i=this;var n=this.refreshPromises.get(t);if(n)return n;var r=this.dataSource.getChildren(t.element);return ut(r)?this.processChildren(r):(n=Us((function(){return __awaiter(i,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:t=this.processChildren;return[4,r];case 1:return[2,t.apply(this,[i.sent()])]}}))}))})),this.refreshPromises.set(t,n),n.finally((function(){i.refreshPromises.delete(t)})))};t.prototype._onDidChangeCollapseState=function(t){var i=t.node,n=t.deep;i.element!==null&&!i.collapsed&&i.element.stale&&(n?this.collapse(i.element.element):this.refreshAndRenderNode(i.element,!1).catch(cn))};t.prototype.setChildren=function(t,i,n,r){var e;var o=this;var s=__spreadArray([],i,true);if(t.children.length===0&&s.length===0)return[];var u=new Map,a=new Map;for(var c=0,h=t.children;c<h.length;c++){var f=h[c];u.set(f.element,f),this.identityProvider&&a.set(f.id,{node:f,collapsed:this.tree.hasElement(f)&&this.tree.isCollapsed(f)})}var l=[],d=s.map((function(i){var e=!!o.dataSource.hasChildren(i);if(!o.identityProvider){var s=zY({element:i,parent:t,hasChildren:e,defaultCollapseState:o.getDefaultCollapseState(i)});return e&&s.defaultCollapseState===PH.PreserveOrExpanded&&l.push(s),s}var c=o.identityProvider.getId(i).toString(),h=a.get(c);if(h){var s=h.node;return u.delete(s.element),o.nodes.delete(s.element),o.nodes.set(i,s),s.element=i,s.hasChildren=e,n?h.collapsed?(s.children.forEach((function(t){return XY(t,(function(t){return o.nodes.delete(t.element)}))})),s.children.splice(0,s.children.length),s.stale=!0):l.push(s):e&&!h.collapsed&&l.push(s),s}var f=zY({element:i,parent:t,id:c,hasChildren:e,defaultCollapseState:o.getDefaultCollapseState(i)});return r&&r.viewState.focus&&r.viewState.focus.indexOf(c)>-1&&r.focus.push(f),r&&r.viewState.selection&&r.viewState.selection.indexOf(c)>-1&&r.selection.push(f),(r&&r.viewState.expanded&&r.viewState.expanded.indexOf(c)>-1||e&&f.defaultCollapseState===PH.PreserveOrExpanded)&&l.push(f),f}));for(var v=0,A=u.values();v<A.length;v++){var g=A[v];XY(g,(function(t){return o.nodes.delete(t.element)}))}for(var w=0,p=d;w<p.length;w++){var m=p[w];this.nodes.set(m.element,m)}return(e=t.children).splice.apply(e,__spreadArray([0,t.children.length],d,false)),t!==this.root&&this.autoExpandSingleChildren&&d.length===1&&l.length===0&&(d[0].forceExpanded=!0,l.push(d[0])),l};t.prototype.render=function(t,i,n){var r=this;var e=t.children.map((function(t){return r.asTreeElement(t,i)})),o=n&&__assign(__assign({},n),{diffIdentityProvider:n.diffIdentityProvider&&{getId:function(t){return n.diffIdentityProvider.getId(t.element)}}});this.tree.setChildren(t===this.root?null:t,e,o),t!==this.root&&this.tree.setCollapsible(t,t.hasChildren),this._onDidRender.fire()};t.prototype.asTreeElement=function(t,i){var n=this;if(t.stale)return{element:t,collapsible:t.hasChildren,collapsed:!0};var r;return i&&i.viewState.expanded&&t.id&&i.viewState.expanded.indexOf(t.id)>-1?r=!1:t.forceExpanded?(r=!1,t.forceExpanded=!1):r=t.defaultCollapseState,{element:t,children:t.hasChildren?vi.map(t.children,(function(t){return n.asTreeElement(t,i)})):[],collapsible:t.hasChildren,collapsed:r}};t.prototype.processChildren=function(t){return this.sorter&&(t=__spreadArray([],t,true).sort(this.sorter.compare.bind(this.sorter))),t};t.prototype.dispose=function(){this.disposables.dispose(),this.tree.dispose()};return t}();var ZY=function(){function t(t){this.node=t}Object.defineProperty(t.prototype,"element",{get:function(){return{elements:this.node.element.elements.map((function(t){return t.element})),incompressible:this.node.element.incompressible}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"children",{get:function(){return this.node.children.map((function(i){return new t(i)}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"depth",{get:function(){return this.node.depth},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visible",{get:function(){return this.node.visible},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:false,configurable:true});return t}();var $Y=function(){function t(t,i,n,r){this.renderer=t,this.nodeMapper=i,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=t.templateId}t.prototype.renderTemplate=function(t){return{templateData:this.renderer.renderTemplate(t)}};t.prototype.renderElement=function(t,i,n,r){this.renderer.renderElement(this.nodeMapper.map(t),i,n.templateData,r)};t.prototype.renderCompressedElements=function(t,i,n,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(t),i,n.templateData,r)};t.prototype.renderTwistie=function(t,i){var n,r;return t.slow?((n=i.classList).add.apply(n,xh.asClassNameArray(re.treeItemLoading)),!0):((r=i.classList).remove.apply(r,xh.asClassNameArray(re.treeItemLoading)),!1)};t.prototype.disposeElement=function(t,i,n,r){var e,o;(o=(e=this.renderer).disposeElement)===null||o===void 0||o.call(e,this.nodeMapper.map(t),i,n.templateData,r)};t.prototype.disposeCompressedElements=function(t,i,n,r){var e,o;(o=(e=this.renderer).disposeCompressedElements)===null||o===void 0||o.call(e,this.compressibleNodeMapperProvider().map(t),i,n.templateData,r)};t.prototype.disposeTemplate=function(t){this.renderer.disposeTemplate(t.templateData)};t.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=kn(this.disposables)};return t}();var tJ=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){if(u===void 0){u={}}var a=this;a=t.call(this,i,n,r,o,s,u)||this,a.compressionDelegate=e,a.compressibleNodeMapper=new qH((function(t){return new ZY(t)})),a.filter=u.filter;return a}i.prototype.createTree=function(t,i,n,r,e){var o=this;var s=new oY(n),u=r.map((function(t){return new $Y(t,o.nodeMapper,(function(){return o.compressibleNodeMapper}),o._onDidChangeNodeSlowState.event)})),a=function(t){var i=t&&KY(t);return i&&__assign(__assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&__assign(__assign({},i.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(i){return t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.map((function(t){return t.element})))}})})}(e)||{};return new jY(t,i,s,u,a)};i.prototype.asTreeElement=function(i,n){return __assign({incompressible:this.compressionDelegate.isIncompressible(i.element)},t.prototype.asTreeElement.call(this,i,n))};i.prototype.updateOptions=function(t){if(t===void 0){t={}}this.tree.updateOptions(t)};i.prototype.render=function(i,n,r){var e=this;if(!this.identityProvider)return t.prototype.render.call(this,i,n);var o=function(t){return e.identityProvider.getId(t).toString()},s=function(t){var i=new Set;for(var n=0,r=t;n<r.length;n++){var s=r[n];var u=e.tree.getCompressedTreeNode(s===e.root?null:s);if(u.element)for(var a=0,c=u.element.elements;a<c.length;a++){var h=c[a];i.add(o(h.element))}}return i},u=s(this.tree.getSelection()),a=s(this.tree.getFocus());t.prototype.render.call(this,i,n,r);var c=this.getSelection();var h=!1;var f=this.getFocus();var l=!1;var d=function(t){var i=t.element;if(i)for(var n=0;n<i.elements.length;n++){var r=o(i.elements[n].element),e=i.elements[i.elements.length-1].element;u.has(r)&&c.indexOf(e)===-1&&(c.push(e),h=!0),a.has(r)&&f.indexOf(e)===-1&&(f.push(e),l=!0)}t.children.forEach(d)};d(this.tree.getCompressedTreeNode(i===this.root?null:i)),h&&this.setSelection(c),l&&this.setFocus(f)};i.prototype.processChildren=function(i){var n=this;return this.filter&&(i=vi.filter(i,(function(t){var i=n.filter.filter(t,1),r=typeof(e=i)=="boolean"?e?1:0:ZH(e)?$H(e.visibility):$H(e);var e;if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1}))),t.prototype.processChildren.call(this,i)};return i}(qY);var iJ=function(t){__extends(i,t);function i(i,n,r,e,o,s){if(s===void 0){s={}}var u=this;u=t.call(this,i,n,r,e,s)||this,u.user=i,u.dataSource=o,u.identityProvider=s.identityProvider;return u}i.prototype.createModel=function(t,i,n){return new EY(t,i,n)};return i}(xY);new cf("isMac",Gt,Bt(0,"Whether the operating system is macOS")),new cf("isLinux",Vt,Bt(0,"Whether the operating system is Linux"));var nJ=new cf("isWindows",Wt,Bt(0,"Whether the operating system is Windows")),rJ=new cf("isWeb",Xt,Bt(0,"Whether the platform is a web browser"));new cf("isMacNative",Gt&&!Xt,Bt(0,"Whether the operating system is macOS on a non-browser platform")),new cf("isIOS",Zt,Bt(0,"Whether the operating system is iOS")),new cf("isMobile",$t,Bt(0,"Whether the platform is a mobile web browser")),new cf("isDevelopment",!1,!0),new cf("productQualityType","",Bt(0,"Quality type of VS Code"));var eJ="inputFocus",oJ=new cf(eJ,!1,Bt(0,"Whether keyboard focus is inside an input box"));var sJ=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},uJ=function(t,i){return function(n,r){i(n,r,t)}};var aJ=lh("listService"),cJ=new cf("listScrollAtBoundary","none");Hh.or(cJ.isEqualTo("top"),cJ.isEqualTo("both")),Hh.or(cJ.isEqualTo("bottom"),cJ.isEqualTo("both"));var hJ=new cf("listFocus",!0),fJ=new cf("treestickyScrollFocused",!1),lJ=new cf("listSupportsMultiselect",!0),dJ=Hh.and(hJ,Hh.not(eJ),fJ.negate()),vJ=new cf("listHasSelectionOrFocus",!1),AJ=new cf("listDoubleSelection",!1),gJ=new cf("listMultiSelection",!1),wJ=new cf("listSelectionNavigation",!1),pJ=new cf("listSupportsFind",!0),mJ=new cf("treeElementCanCollapse",!1),bJ=new cf("treeElementHasParent",!1),yJ=new cf("treeElementCanExpand",!1),kJ=new cf("treeElementHasChild",!1),xJ=new cf("treeFindOpen",!1),EJ="listTypeNavigationMode",BJ="listAutomaticKeyboardNavigation";function CJ(t,i){var n=t.createScoped(i.getHTMLElement());return hJ.bindTo(n),n}function DJ(t,i){var n=cJ.bindTo(t),r=function(){var t=i.scrollTop===0,r=i.scrollHeight-i.renderHeight-i.scrollTop<1;t&&r?n.set("both"):t?n.set("top"):r?n.set("bottom"):n.set("none")};return r(),i.onDidScroll(r)}var MJ="workbench.list.multiSelectModifier",_J="workbench.list.openMode",FJ="workbench.list.horizontalScrolling",SJ="workbench.list.defaultFindMode",IJ="workbench.list.typeNavigationMode",QJ="workbench.list.keyboardNavigation",OJ="workbench.list.scrollByPage",NJ="workbench.list.defaultFindMatchType",RJ="workbench.tree.indent",TJ="workbench.tree.renderIndentGuides",LJ="workbench.list.smoothScrolling",jJ="workbench.list.mouseWheelScrollSensitivity",zJ="workbench.list.fastScrollSensitivity",UJ="workbench.tree.expandMode",HJ="workbench.tree.enableStickyScroll",YJ="workbench.tree.stickyScrollMaxItemCount";function JJ(t){return t.getValue(MJ)==="alt"}var PJ=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.configurationService=i,n.useAltAsMultipleSelectionModifier=JJ(i),n.registerListeners();return n}i.prototype.registerListeners=function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration((function(i){i.affectsConfiguration(MJ)&&(t.useAltAsMultipleSelectionModifier=JJ(t.configurationService))})))};i.prototype.isSelectionSingleChangeEvent=function(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:az(t)};i.prototype.isSelectionRangeChangeEvent=function(t){return cz(t)};return i}(Cn);function WJ(t,i){var n;var r=t.get(sd),e=t.get(vE),o=new Bn;return[__assign(__assign({},i),{keyboardNavigationDelegate:{mightProducePrintableCharacter:function(t){return e.mightProducePrintableCharacter(t)}},smoothScrolling:!!r.getValue(LJ),mouseWheelScrollSensitivity:r.getValue(jJ),fastScrollSensitivity:r.getValue(zJ),multipleSelectionController:(n=i.multipleSelectionController)!==null&&n!==void 0?n:o.add(new PJ(r)),keyboardNavigationEventFilter:tP(e),scrollByPage:!!r.getValue(OJ)}),o]}var GJ=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;var f=o.horizontalScrolling!==void 0?o.horizontalScrolling:!!a.getValue(FJ),l=c.invokeFunction(WJ,o),d=l[0],v=l[1];h=t.call(this,i,n,r,e,__assign(__assign({keyboardSupport:!1},d),{horizontalScrolling:f}))||this,h.disposables.add(v),h.contextKeyService=CJ(s,h),h.disposables.add(DJ(h.contextKeyService,h)),h.listSupportsMultiSelect=lJ.bindTo(h.contextKeyService),h.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),wJ.bindTo(h.contextKeyService).set(!!o.selectionNavigation),h.listHasSelectionOrFocus=vJ.bindTo(h.contextKeyService),h.listDoubleSelection=AJ.bindTo(h.contextKeyService),h.listMultiSelection=gJ.bindTo(h.contextKeyService),h.horizontalScrolling=o.horizontalScrolling,h._useAltAsMultipleSelectionModifier=JJ(a),h.disposables.add(h.contextKeyService),h.disposables.add(u.register(h)),h.updateStyles(o.overrideStyles),h.disposables.add(h.onDidChangeSelection((function(){var t=h.getSelection(),i=h.getFocus();h.contextKeyService.bufferChangeEvents((function(){h.listHasSelectionOrFocus.set(t.length>0||i.length>0),h.listMultiSelection.set(t.length>1),h.listDoubleSelection.set(t.length===2)}))}))),h.disposables.add(h.onDidChangeFocus((function(){var t=h.getSelection(),i=h.getFocus();h.listHasSelectionOrFocus.set(t.length>0||i.length>0)}))),h.disposables.add(a.onDidChangeConfiguration((function(t){t.affectsConfiguration(MJ)&&(h._useAltAsMultipleSelectionModifier=JJ(a));var i={};if(t.affectsConfiguration(FJ)&&h.horizontalScrolling===void 0){var n=!!a.getValue(FJ);i=__assign(__assign({},i),{horizontalScrolling:n})}if(t.affectsConfiguration(OJ)){var n=!!a.getValue(OJ);i=__assign(__assign({},i),{scrollByPage:n})}if(t.affectsConfiguration(LJ)){var n=!!a.getValue(LJ);i=__assign(__assign({},i),{smoothScrolling:n})}if(t.affectsConfiguration(jJ)){var n=a.getValue(jJ);i=__assign(__assign({},i),{mouseWheelScrollSensitivity:n})}if(t.affectsConfiguration(zJ)){var n=a.getValue(zJ);i=__assign(__assign({},i),{fastScrollSensitivity:n})}Object.keys(i).length>0&&h.updateOptions(i)}))),h.navigator=new qJ(h,__assign({configurationService:a},o)),h.disposables.add(h.navigator);return h}i.prototype.updateOptions=function(i){t.prototype.updateOptions.call(this,i),i.overrideStyles!==void 0&&this.updateStyles(i.overrideStyles),i.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!i.multipleSelectionSupport)};i.prototype.updateStyles=function(t){this.style(t?Kz(t):Vz)};return i}(bz);GJ=sJ([uJ(5,hf),uJ(6,aJ),uJ(7,sd),uJ(8,fh)],GJ);var VJ=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;var f=o.horizontalScrolling!==void 0?o.horizontalScrolling:!!a.getValue(FJ),l=c.invokeFunction(WJ,o),d=l[0],v=l[1];h=t.call(this,i,n,r,e,__assign(__assign({keyboardSupport:!1},d),{horizontalScrolling:f}))||this,h.disposables=new Bn,h.disposables.add(v),h.contextKeyService=CJ(s,h),h.disposables.add(DJ(h.contextKeyService,h.widget)),h.horizontalScrolling=o.horizontalScrolling,h.listSupportsMultiSelect=lJ.bindTo(h.contextKeyService),h.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),wJ.bindTo(h.contextKeyService).set(!!o.selectionNavigation),h._useAltAsMultipleSelectionModifier=JJ(a),h.disposables.add(h.contextKeyService),h.disposables.add(u.register(h)),h.updateStyles(o.overrideStyles),h.disposables.add(a.onDidChangeConfiguration((function(t){t.affectsConfiguration(MJ)&&(h._useAltAsMultipleSelectionModifier=JJ(a));var i={};if(t.affectsConfiguration(FJ)&&h.horizontalScrolling===void 0){var n=!!a.getValue(FJ);i=__assign(__assign({},i),{horizontalScrolling:n})}if(t.affectsConfiguration(OJ)){var n=!!a.getValue(OJ);i=__assign(__assign({},i),{scrollByPage:n})}if(t.affectsConfiguration(LJ)){var n=!!a.getValue(LJ);i=__assign(__assign({},i),{smoothScrolling:n})}if(t.affectsConfiguration(jJ)){var n=a.getValue(jJ);i=__assign(__assign({},i),{mouseWheelScrollSensitivity:n})}if(t.affectsConfiguration(zJ)){var n=a.getValue(zJ);i=__assign(__assign({},i),{fastScrollSensitivity:n})}Object.keys(i).length>0&&h.updateOptions(i)}))),h.navigator=new qJ(h,__assign({configurationService:a},o)),h.disposables.add(h.navigator);return h}i.prototype.updateOptions=function(i){t.prototype.updateOptions.call(this,i),i.overrideStyles!==void 0&&this.updateStyles(i.overrideStyles),i.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!i.multipleSelectionSupport)};i.prototype.updateStyles=function(t){this.style(t?Kz(t):Vz)};i.prototype.dispose=function(){this.disposables.dispose(),t.prototype.dispose.call(this)};return i}(lH);VJ=sJ([uJ(5,hf),uJ(6,aJ),uJ(7,sd),uJ(8,fh)],VJ);var KJ=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h){var f=this;var l=s.horizontalScrolling!==void 0?s.horizontalScrolling:!!c.getValue(FJ),d=h.invokeFunction(WJ,s),v=d[0],A=d[1];f=t.call(this,i,n,r,e,o,__assign(__assign({keyboardSupport:!1},v),{horizontalScrolling:l}))||this,f.disposables.add(A),f.contextKeyService=CJ(u,f),f.disposables.add(DJ(f.contextKeyService,f)),f.listSupportsMultiSelect=lJ.bindTo(f.contextKeyService),f.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),wJ.bindTo(f.contextKeyService).set(!!s.selectionNavigation),f.listHasSelectionOrFocus=vJ.bindTo(f.contextKeyService),f.listDoubleSelection=AJ.bindTo(f.contextKeyService),f.listMultiSelection=gJ.bindTo(f.contextKeyService),f.horizontalScrolling=s.horizontalScrolling,f._useAltAsMultipleSelectionModifier=JJ(c),f.disposables.add(f.contextKeyService),f.disposables.add(a.register(f)),f.updateStyles(s.overrideStyles),f.disposables.add(f.onDidChangeSelection((function(){var t=f.getSelection(),i=f.getFocus();f.contextKeyService.bufferChangeEvents((function(){f.listHasSelectionOrFocus.set(t.length>0||i.length>0),f.listMultiSelection.set(t.length>1),f.listDoubleSelection.set(t.length===2)}))}))),f.disposables.add(f.onDidChangeFocus((function(){var t=f.getSelection(),i=f.getFocus();f.listHasSelectionOrFocus.set(t.length>0||i.length>0)}))),f.disposables.add(c.onDidChangeConfiguration((function(t){t.affectsConfiguration(MJ)&&(f._useAltAsMultipleSelectionModifier=JJ(c));var i={};if(t.affectsConfiguration(FJ)&&f.horizontalScrolling===void 0){var n=!!c.getValue(FJ);i=__assign(__assign({},i),{horizontalScrolling:n})}if(t.affectsConfiguration(OJ)){var n=!!c.getValue(OJ);i=__assign(__assign({},i),{scrollByPage:n})}if(t.affectsConfiguration(LJ)){var n=!!c.getValue(LJ);i=__assign(__assign({},i),{smoothScrolling:n})}if(t.affectsConfiguration(jJ)){var n=c.getValue(jJ);i=__assign(__assign({},i),{mouseWheelScrollSensitivity:n})}if(t.affectsConfiguration(zJ)){var n=c.getValue(zJ);i=__assign(__assign({},i),{fastScrollSensitivity:n})}Object.keys(i).length>0&&f.updateOptions(i)}))),f.navigator=new ZJ(f,__assign({configurationService:c},s)),f.disposables.add(f.navigator);return f}i.prototype.updateOptions=function(i){t.prototype.updateOptions.call(this,i),i.overrideStyles!==void 0&&this.updateStyles(i.overrideStyles),i.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!i.multipleSelectionSupport)};i.prototype.updateStyles=function(t){this.style(t?Kz(t):Vz)};i.prototype.dispose=function(){this.disposables.dispose(),t.prototype.dispose.call(this)};return i}(SH);KJ=sJ([uJ(6,hf),uJ(7,aJ),uJ(8,sd),uJ(9,fh)],KJ);var XJ=function(t){__extends(i,t);function i(i,n){var r=this;var e;r=t.call(this)||this,r.widget=i,r._onDidOpen=r._register(new Ln),r.onDidOpen=r._onDidOpen.event,r._register(Qn.filter(r.widget.onDidChangeSelection,(function(t){return xc(t.browserEvent)}))((function(t){return r.onSelectionFromKeyboard(t)}))),r._register(r.widget.onPointer((function(t){return r.onPointer(t.element,t.browserEvent)}))),r._register(r.widget.onMouseDblClick((function(t){return r.onMouseDblClick(t.element,t.browserEvent)}))),typeof(n==null?void 0:n.openOnSingleClick)!="boolean"&&(n!=null&&n.configurationService)?(r.openOnSingleClick=(n==null?void 0:n.configurationService.getValue(_J))!=="doubleClick",r._register(n==null?void 0:n.configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration(_J)&&(r.openOnSingleClick=(n==null?void 0:n.configurationService.getValue(_J))!=="doubleClick")})))):r.openOnSingleClick=(e=n==null?void 0:n.openOnSingleClick)===null||e===void 0||e;return r}i.prototype.onSelectionFromKeyboard=function(t){if(t.elements.length!==1)return;var i=t.browserEvent,n=typeof i.preserveFocus!="boolean"||i.preserveFocus,r=typeof i.pinned=="boolean"?i.pinned:!n;this._open(this.getSelectedElement(),n,r,!1,t.browserEvent)};i.prototype.onPointer=function(t,i){if(!this.openOnSingleClick||i.detail===2)return;var n=i.button===1,r=i.ctrlKey||i.metaKey||i.altKey;this._open(t,!0,n,r,i)};i.prototype.onMouseDblClick=function(t,i){if(!i)return;var n=i.target;if(n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&i.offsetX<16)return;var r=i.ctrlKey||i.metaKey||i.altKey;this._open(t,!1,!0,r,i)};i.prototype._open=function(t,i,n,r,e){t&&this._onDidOpen.fire({editorOptions:{preserveFocus:i,pinned:n,revealIfVisible:!0},sideBySide:r,element:t,browserEvent:e})};return i}(Cn);var qJ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i,n)||this,r.widget=i;return r}i.prototype.getSelectedElement=function(){return this.widget.getSelectedElements()[0]};return i}(XJ);var ZJ=function(t){__extends(i,t);function i(i,n){return t.call(this,i,n)||this}i.prototype.getSelectedElement=function(){return this.widget.getSelectedElements()[0]};return i}(XJ);var $J=function(t){__extends(i,t);function i(i,n){return t.call(this,i,n)||this}i.prototype.getSelectedElement=function(){var t;return(t=this.widget.getSelection()[0])!==null&&t!==void 0?t:void 0};return i}(XJ);function tP(t){var i=!1;return function(n){if(n.toKeyCodeChord().isModifierKey())return!1;if(i)return i=!1,!1;var r=t.softDispatch(n,n.target);return r.kind===1?(i=!0,!1):(i=!1,r.kind===0)}}var iP=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;var f=s.invokeFunction(aP,o),l=f.options,d=f.getTypeNavigationMode,v=f.disposable;h=t.call(this,i,n,r,e,l)||this,h.disposables.add(v),h.internals=new cP(h,o,d,o.overrideStyles,u,a,c),h.disposables.add(h.internals);return h}i.prototype.updateOptions=function(i){t.prototype.updateOptions.call(this,i),this.internals.updateOptions(i)};return i}(NY);iP=sJ([uJ(5,fh),uJ(6,hf),uJ(7,aJ),uJ(8,sd)],iP);var nP=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;var f=s.invokeFunction(aP,o),l=f.options,d=f.getTypeNavigationMode,v=f.disposable;h=t.call(this,i,n,r,e,l)||this,h.disposables.add(v),h.internals=new cP(h,o,d,o.overrideStyles,u,a,c),h.disposables.add(h.internals);return h}i.prototype.updateOptions=function(i){if(i===void 0){i={}}t.prototype.updateOptions.call(this,i),i.overrideStyles&&this.internals.updateStyleOverrides(i.overrideStyles),this.internals.updateOptions(i)};return i}(jY);nP=sJ([uJ(5,fh),uJ(6,hf),uJ(7,aJ),uJ(8,sd)],nP);var rP=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h){var f=this;var l=u.invokeFunction(aP,s),d=l.options,v=l.getTypeNavigationMode,A=l.disposable;f=t.call(this,i,n,r,e,o,d)||this,f.disposables.add(A),f.internals=new cP(f,s,v,s.overrideStyles,a,c,h),f.disposables.add(f.internals);return f}i.prototype.updateOptions=function(i){if(i===void 0){i={}}t.prototype.updateOptions.call(this,i),i.overrideStyles!==void 0&&this.internals.updateStyleOverrides(i.overrideStyles),this.internals.updateOptions(i)};return i}(iJ);rP=sJ([uJ(6,fh),uJ(7,hf),uJ(8,aJ),uJ(9,sd)],rP);var eP=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h){var f=this;var l=u.invokeFunction(aP,s),d=l.options,v=l.getTypeNavigationMode,A=l.disposable;f=t.call(this,i,n,r,e,o,d)||this,f.disposables.add(A),f.internals=new cP(f,s,v,s.overrideStyles,a,c,h),f.disposables.add(f.internals);return f}Object.defineProperty(i.prototype,"onDidOpen",{get:function(){return this.internals.onDidOpen},enumerable:false,configurable:true});i.prototype.updateOptions=function(i){if(i===void 0){i={}}t.prototype.updateOptions.call(this,i),i.overrideStyles&&this.internals.updateStyleOverrides(i.overrideStyles),this.internals.updateOptions(i)};return i}(qY);eP=sJ([uJ(6,fh),uJ(7,hf),uJ(8,aJ),uJ(9,sd)],eP);var oP=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f){var l=this;var d=a.invokeFunction(aP,u),v=d.options,A=d.getTypeNavigationMode,g=d.disposable;l=t.call(this,i,n,r,e,o,s,v)||this,l.disposables.add(g),l.internals=new cP(l,u,A,u.overrideStyles,c,h,f),l.disposables.add(l.internals);return l}i.prototype.updateOptions=function(i){t.prototype.updateOptions.call(this,i),this.internals.updateOptions(i)};return i}(tJ);function sP(t){var i=t.getValue(SJ);if(i==="highlight")return VH.Highlight;if(i==="filter")return VH.Filter;var n=t.getValue(QJ);return n==="simple"||n==="highlight"?VH.Highlight:n==="filter"?VH.Filter:void 0}function uP(t){var i=t.getValue(NJ);return i==="fuzzy"?KH.Fuzzy:i==="contiguous"?KH.Contiguous:void 0}function aP(t,i){var n;var r=t.get(sd),e=t.get(RO),o=t.get(hf),s=t.get(fh),u=i.horizontalScrolling!==void 0?i.horizontalScrolling:!!r.getValue(FJ),a=s.invokeFunction(WJ,i),c=a[0],h=a[1],f=i.paddingBottom,l=i.renderIndentGuides!==void 0?i.renderIndentGuides:r.getValue(TJ);return{getTypeNavigationMode:function(){var t=o.getContextKeyValue(EJ);if(t==="automatic")return rz.Automatic;if(t==="trigger"||o.getContextKeyValue(BJ)===!1)return rz.Trigger;var i=r.getValue(IJ);return i==="automatic"?rz.Automatic:i==="trigger"?rz.Trigger:void 0},disposable:h,options:__assign(__assign({keyboardSupport:!1},c),{indent:typeof r.getValue(RJ)=="number"?r.getValue(RJ):void 0,renderIndentGuides:l,smoothScrolling:!!r.getValue(LJ),defaultFindMode:sP(r),defaultFindMatchType:uP(r),horizontalScrolling:u,scrollByPage:!!r.getValue(OJ),paddingBottom:f,hideTwistiesOfChildlessElements:i.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(n=i.expandOnlyOnTwistieClick)!==null&&n!==void 0?n:r.getValue(UJ)==="doubleClick",contextViewProvider:e,findWidgetStyles:Wz,enableStickyScroll:!!r.getValue(HJ),stickyScrollMaxItemCount:Number(r.getValue(YJ))})}}oP=sJ([uJ(7,fh),uJ(8,hf),uJ(9,aJ),uJ(10,sd)],oP);var cP=function(){function t(t,i,n,r,e,o,s){var u=this;var a;this.tree=t,this.disposables=[],this.contextKeyService=CJ(e,t),this.disposables.push(DJ(this.contextKeyService,t)),this.listSupportsMultiSelect=lJ.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(i.multipleSelectionSupport!==!1),wJ.bindTo(this.contextKeyService).set(!!i.selectionNavigation),this.listSupportFindWidget=pJ.bindTo(this.contextKeyService),this.listSupportFindWidget.set((a=i.findWidgetEnabled)===null||a===void 0||a),this.hasSelectionOrFocus=vJ.bindTo(this.contextKeyService),this.hasDoubleSelection=AJ.bindTo(this.contextKeyService),this.hasMultiSelection=gJ.bindTo(this.contextKeyService),this.treeElementCanCollapse=mJ.bindTo(this.contextKeyService),this.treeElementHasParent=bJ.bindTo(this.contextKeyService),this.treeElementCanExpand=yJ.bindTo(this.contextKeyService),this.treeElementHasChild=kJ.bindTo(this.contextKeyService),this.treeFindOpen=xJ.bindTo(this.contextKeyService),this.treeStickyScrollFocused=fJ.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=JJ(s),this.updateStyleOverrides(r);var c=function(){var i=t.getFocus()[0];if(!i)return;var n=t.getNode(i);u.treeElementCanCollapse.set(n.collapsible&&!n.collapsed),u.treeElementHasParent.set(!!t.getParentElement(i)),u.treeElementCanExpand.set(n.collapsible&&n.collapsed),u.treeElementHasChild.set(!!t.getFirstElementChild(i))},h=new Set;h.add(EJ),h.add(BJ),this.disposables.push(this.contextKeyService,o.register(t),t.onDidChangeSelection((function(){var i=t.getSelection(),n=t.getFocus();u.contextKeyService.bufferChangeEvents((function(){u.hasSelectionOrFocus.set(i.length>0||n.length>0),u.hasMultiSelection.set(i.length>1),u.hasDoubleSelection.set(i.length===2)}))})),t.onDidChangeFocus((function(){var i=t.getSelection(),n=t.getFocus();u.hasSelectionOrFocus.set(i.length>0||n.length>0),c()})),t.onDidChangeCollapseState(c),t.onDidChangeModel(c),t.onDidChangeFindOpenState((function(t){return u.treeFindOpen.set(t)})),t.onDidChangeStickyScrollFocused((function(t){return u.treeStickyScrollFocused.set(t)})),s.onDidChangeConfiguration((function(r){var e={};if(r.affectsConfiguration(MJ)&&(u._useAltAsMultipleSelectionModifier=JJ(s)),r.affectsConfiguration(RJ)){var o=s.getValue(RJ);e=__assign(__assign({},e),{indent:o})}if(r.affectsConfiguration(TJ)&&i.renderIndentGuides===void 0){var o=s.getValue(TJ);e=__assign(__assign({},e),{renderIndentGuides:o})}if(r.affectsConfiguration(LJ)){var o=!!s.getValue(LJ);e=__assign(__assign({},e),{smoothScrolling:o})}if(r.affectsConfiguration(SJ)||r.affectsConfiguration(QJ)){var o=sP(s);e=__assign(__assign({},e),{defaultFindMode:o})}if(r.affectsConfiguration(IJ)||r.affectsConfiguration(QJ)){var o=n();e=__assign(__assign({},e),{typeNavigationMode:o})}if(r.affectsConfiguration(NJ)){var o=uP(s);e=__assign(__assign({},e),{defaultFindMatchType:o})}if(r.affectsConfiguration(FJ)&&i.horizontalScrolling===void 0){var o=!!s.getValue(FJ);e=__assign(__assign({},e),{horizontalScrolling:o})}if(r.affectsConfiguration(OJ)){var o=!!s.getValue(OJ);e=__assign(__assign({},e),{scrollByPage:o})}if(r.affectsConfiguration(UJ)&&i.expandOnlyOnTwistieClick===void 0&&(e=__assign(__assign({},e),{expandOnlyOnTwistieClick:s.getValue(UJ)==="doubleClick"})),r.affectsConfiguration(HJ)){var o=s.getValue(HJ);e=__assign(__assign({},e),{enableStickyScroll:o})}if(r.affectsConfiguration(YJ)){var o=Math.max(1,s.getValue(YJ));e=__assign(__assign({},e),{stickyScrollMaxItemCount:o})}if(r.affectsConfiguration(jJ)){var o=s.getValue(jJ);e=__assign(__assign({},e),{mouseWheelScrollSensitivity:o})}if(r.affectsConfiguration(zJ)){var o=s.getValue(zJ);e=__assign(__assign({},e),{fastScrollSensitivity:o})}Object.keys(e).length>0&&t.updateOptions(e)})),this.contextKeyService.onDidChangeContext((function(i){i.affectsSome(h)&&t.updateOptions({typeNavigationMode:n()})}))),this.navigator=new $J(t,__assign({configurationService:s},i)),this.disposables.push(this.navigator)}Object.defineProperty(t.prototype,"onDidOpen",{get:function(){return this.navigator.onDidOpen},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)};t.prototype.updateStyleOverrides=function(t){this.tree.style(t?Kz(t):Vz)};t.prototype.dispose=function(){this.disposables=kn(this.disposables)};return t}();cP=sJ([uJ(4,hf),uJ(5,aJ),uJ(6,sd)],cP);yf.as(bd).registerConfiguration({id:"workbench",order:7,title:Bt(0,"Workbench"),type:"object",properties:(o={},o[MJ]={type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[Bt(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),Bt(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Bt(0,"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},o[_J]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Bt(0,"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},o[FJ]={type:"boolean",default:!1,description:Bt(0,"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},o[OJ]={type:"boolean",default:!1,description:Bt(0,"Controls whether clicks in the scrollbar scroll page by page.")},o[RJ]={type:"number",default:8,minimum:4,maximum:40,description:Bt(0,"Controls tree indentation in pixels.")},o[TJ]={type:"string",enum:["none","onHover","always"],default:"onHover",description:Bt(0,"Controls whether the tree should render indent guides.")},o[LJ]={type:"boolean",default:!1,description:Bt(0,"Controls whether lists and trees have smooth scrolling.")},o[jJ]={type:"number",default:1,markdownDescription:Bt(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},o[zJ]={type:"number",default:5,markdownDescription:Bt(0,"Scrolling speed multiplier when pressing `Alt`.")},o[SJ]={type:"string",enum:["highlight","filter"],enumDescriptions:[Bt(0,"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),Bt(0,"Filter elements when searching.")],default:"highlight",description:Bt(0,"Controls the default find mode for lists and trees in the workbench.")},o[QJ]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Bt(0,"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Bt(0,"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Bt(0,"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Bt(0,"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:Bt(0,"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},o[NJ]={type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[Bt(0,"Use fuzzy matching when searching."),Bt(0,"Use contiguous matching when searching.")],default:"fuzzy",description:Bt(0,"Controls the type of matching used when searching lists and trees in the workbench.")},o[UJ]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Bt(0,"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},o[HJ]={type:"boolean",default:!0,description:Bt(0,"Controls whether sticky scrolling is enabled in trees.")},o[YJ]={type:"number",minimum:1,default:7,markdownDescription:Bt(0,"Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},o[IJ]={type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:Bt(0,"Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")},o)});var hP=function(t){__extends(i,t);function i(i,n){var r=this;var e;r=t.call(this)||this,r.options=n,r.text="",r.title="",r.highlights=[],r.didEverRender=!1,r.supportIcons=(e=n==null?void 0:n.supportIcons)!==null&&e!==void 0&&e,r.domNode=_c(i,Nc("span.monaco-highlighted-label"));return r}Object.defineProperty(i.prototype,"element",{get:function(){return this.domNode},enumerable:false,configurable:true});i.prototype.set=function(t,n,r,e){if(n===void 0){n=[]}if(r===void 0){r=""}t||(t=""),e&&(t=i.escapeNewLines(t,n)),this.didEverRender&&this.text===t&&this.title===r&&yt(this.highlights,n)||(this.text=t,this.title=r,this.highlights=n,this.render())};i.prototype.render=function(){var t;var i,n,r,e;var o=[];var s=0;for(var u=0,a=this.highlights;u<a.length;u++){var c=a[u];if(c.end===c.start)continue;if(s<c.start){var h=this.text.substring(s,c.start);this.supportIcons?o.push.apply(o,XO(h)):o.push(h),s=c.start}var f=this.text.substring(s,c.end),l=Nc.apply(void 0,__spreadArray(["span.highlight",void 0],this.supportIcons?XO(f):[f],false));c.extraClasses&&(t=l.classList).add.apply(t,c.extraClasses),o.push(l),s=c.end}if(s<this.text.length){var c=this.text.substring(s);this.supportIcons?o.push.apply(o,XO(c)):o.push(c)}if(Sc.apply(void 0,__spreadArray([this.domNode],o,false)),(n=(i=this.options)===null||i===void 0?void 0:i.hoverDelegate)===null||n===void 0?void 0:n.showNativeHover)this.domNode.title=this.title;else if(this.customHover||this.title==="")this.customHover&&this.customHover.update(this.title);else{var c=(e=(r=this.options)===null||r===void 0?void 0:r.hoverDelegate)!==null&&e!==void 0?e:jL("mouse");this.customHover=this._register(YL(c,this.domNode,this.title))}this.didEverRender=!0};i.escapeNewLines=function(t,i){var n=0,r=0;return t.replace(/\r\n|\r|\n/g,(function(t,e){r=t==="\r\n"?-1:0,e+=n;for(var o=0,s=i;o<s.length;o++){var u=s[o];u.end<=e||(u.start>=e&&(u.start+=r),u.end>=e&&(u.end+=r))}return n+=r,"⏎"}))};return i}(Cn);var fP=function(){function t(t){this._element=t}Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"textContent",{set:function(t){this.disposed||t===this._textContent||(this._textContent=t,this._element.textContent=t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"className",{set:function(t){this.disposed||t===this._className||(this._className=t,this._element.className=t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"empty",{set:function(t){this.disposed||t===this._empty||(this._empty=t,this._element.style.marginLeft=t?"0":"")},enumerable:false,configurable:true});t.prototype.dispose=function(){this.disposed=!0};return t}();var lP=function(t){__extends(i,t);function i(i,n){var r=this;var e;r=t.call(this)||this,r.customHovers=new Map,r.creationOptions=n,r.domNode=r._register(new fP(_c(i,Nc(".monaco-icon-label")))),r.labelContainer=_c(r.domNode.element,Nc(".monaco-icon-label-container")),r.nameContainer=_c(r.labelContainer,Nc("span.monaco-icon-name-container")),n!=null&&n.supportHighlights||n!=null&&n.supportIcons?r.nameNode=r._register(new vP(r.nameContainer,!!n.supportIcons)):r.nameNode=new dP(r.nameContainer),r.hoverDelegate=(e=n==null?void 0:n.hoverDelegate)!==null&&e!==void 0?e:jL("mouse");return r}Object.defineProperty(i.prototype,"element",{get:function(){return this.domNode.element},enumerable:false,configurable:true});i.prototype.setLabel=function(t,i,n){var r;var e=["monaco-icon-label"],o=["monaco-icon-label-container"];var s="";if(n&&(n.extraClasses&&e.push.apply(e,n.extraClasses),n.italic&&e.push("italic"),n.strikethrough&&e.push("strikethrough"),n.disabledCommand&&o.push("disabled"),n.title&&(typeof n.title=="string"?s+=n.title:s+=t)),this.domNode.className=e.join(" "),this.domNode.element.setAttribute("aria-label",s),this.labelContainer.className=o.join(" "),this.setupHover(n!=null&&n.descriptionTitle?this.labelContainer:this.element,n==null?void 0:n.title),this.nameNode.setLabel(t,n),i||this.descriptionNode){var u=this.getOrCreateDescriptionNode();u instanceof hP?(u.set(i||"",n?n.descriptionMatches:void 0,void 0,n==null?void 0:n.labelEscapeNewLines),this.setupHover(u.element,n==null?void 0:n.descriptionTitle)):(u.textContent=i&&(n!=null&&n.labelEscapeNewLines)?hP.escapeNewLines(i,[]):i||"",this.setupHover(u.element,(n==null?void 0:n.descriptionTitle)||""),u.empty=!i)}(n!=null&&n.suffix||this.suffixNode)&&(this.getOrCreateSuffixNode().textContent=(r=n==null?void 0:n.suffix)!==null&&r!==void 0?r:"")};i.prototype.setupHover=function(t,i){var n=this.customHovers.get(t);if(n&&(n.dispose(),this.customHovers.delete(t)),i)if(this.hoverDelegate.showNativeHover)(function(t,i){rt(i)?t.title=rR(i):i!=null&&i.markdownNotSupportedFallback?t.title=i.markdownNotSupportedFallback:t.removeAttribute("title")})(t,i);else{var r=YL(this.hoverDelegate,t,i);r&&this.customHovers.set(t,r)}else t.removeAttribute("title")};i.prototype.dispose=function(){t.prototype.dispose.call(this);for(var i=0,n=this.customHovers.values();i<n.length;i++){var r=n[i];r.dispose()}this.customHovers.clear()};i.prototype.getOrCreateSuffixNode=function(){if(!this.suffixNode){var t=this._register(new fP((i=this.nameContainer,n=Nc("span.monaco-icon-suffix-container"),i.after(n),n)));this.suffixNode=this._register(new fP(_c(t.element,Nc("span.label-suffix"))))}var i,n;return this.suffixNode};i.prototype.getOrCreateDescriptionNode=function(){var t;if(!this.descriptionNode){var i=this._register(new fP(_c(this.labelContainer,Nc("span.monaco-icon-description-container"))));!((t=this.creationOptions)===null||t===void 0)&&t.supportDescriptionHighlights?this.descriptionNode=this._register(new hP(_c(i.element,Nc("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new fP(_c(i.element,Nc("span.label-description"))))}return this.descriptionNode};return i}(Cn);var dP=function(){function t(t){this.container=t,this.label=void 0,this.singleLabel=void 0}t.prototype.setLabel=function(t,i){if(this.label!==t||!yt(this.options,i))if(this.label=t,this.options=i,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=_c(this.container,Nc("a.label-name",{id:i==null?void 0:i.domId}))),this.singleLabel.textContent=t;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(var n=0;n<t.length;n++){var r=t[n],e=(i==null?void 0:i.domId)&&"".concat(i==null?void 0:i.domId,"_").concat(n);_c(this.container,Nc("a.label-name",{id:e,"data-icon-label-count":t.length,"data-icon-label-index":n,role:"treeitem"},r)),n<t.length-1&&_c(this.container,Nc("span.label-separator",void 0,(i==null?void 0:i.separator)||"/"))}}};return t}();var vP=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.container=i,r.supportIcons=n,r.label=void 0,r.singleLabel=void 0;return r}i.prototype.setLabel=function(t,i){if(this.label!==t||!yt(this.options,i))if(this.label=t,this.options=i,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new hP(_c(this.container,Nc("a.label-name",{id:i==null?void 0:i.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(t,i==null?void 0:i.matches,void 0,i==null?void 0:i.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;var n=(i==null?void 0:i.separator)||"/",r=function(t,i,n){if(!n)return;var r=0;return t.map((function(t){var e={start:r,end:r+t.length},o=n.map((function(t){return $R.intersect(e,t)})).filter((function(t){return!$R.isEmpty(t)})).map((function(t){var i=t.start,n=t.end;return{start:i-r,end:n-r}}));return r=e.end+i.length,o}))}(t,n,i==null?void 0:i.matches);for(var e=0;e<t.length;e++){var o=t[e],s=r?r[e]:void 0,u=Nc("a.label-name",{id:(i==null?void 0:i.domId)&&"".concat(i==null?void 0:i.domId,"_").concat(e),"data-icon-label-count":t.length,"data-icon-label-index":e,role:"treeitem"});this._register(new hP(_c(this.container,u),{supportIcons:this.supportIcons})).set(o,s,void 0,i==null?void 0:i.labelEscapeNewLines),e<t.length-1&&_c(u,Nc("span.label-separator",void 0,n))}}};return i}(Cn);var AP=Nc,gP={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};var wP=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.os=n,e.keyElements=new Set,e.options=r||Object.create(null);var o=e.options.keybindingLabelForeground;e.domNode=_c(i,AP(".monaco-keybinding")),o&&(e.domNode.style.color=o),e.hover=e._register(YL(jL("mouse"),e.domNode,"")),e.didEverRender=!1,i.appendChild(e.domNode);return e}Object.defineProperty(i.prototype,"element",{get:function(){return this.domNode},enumerable:false,configurable:true});i.prototype.set=function(t,n){this.didEverRender&&this.keybinding===t&&i.areSame(this.matches,n)||(this.keybinding=t,this.matches=n,this.render())};i.prototype.render=function(){var t;if(this.clear(),this.keybinding){var i=this.keybinding.getChords();i[0]&&this.renderChord(this.domNode,i[0],this.matches?this.matches.firstPart:null);for(var n=1;n<i.length;n++)_c(this.domNode,AP("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,i[n],this.matches?this.matches.chordPart:null);var r=(t=this.options.disableTitle)!==null&&t!==void 0&&t?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(r),this.domNode.setAttribute("aria-label",r||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0};i.prototype.clear=function(){Ia(this.domNode),this.keyElements.clear()};i.prototype.renderChord=function(t,i,n){var r=YT.modifierLabels[this.os];i.ctrlKey&&this.renderKey(t,r.ctrlKey,!!(n!=null&&n.ctrlKey),r.separator),i.shiftKey&&this.renderKey(t,r.shiftKey,!!(n!=null&&n.shiftKey),r.separator),i.altKey&&this.renderKey(t,r.altKey,!!(n!=null&&n.altKey),r.separator),i.metaKey&&this.renderKey(t,r.metaKey,!!(n!=null&&n.metaKey),r.separator);var e=i.keyLabel;e&&this.renderKey(t,e,!!(n!=null&&n.keyCode),"")};i.prototype.renderKey=function(t,i,n,r){_c(t,this.createKeyElement(i,n?".highlight":"")),r&&_c(t,AP("span.monaco-keybinding-key-separator",void 0,r))};i.prototype.renderUnbound=function(t){_c(t,this.createKeyElement(Bt(0,"Unbound")))};i.prototype.createKeyElement=function(t,i){if(i===void 0){i=""}var n=AP("span.monaco-keybinding-key"+i,void 0,t);return this.keyElements.add(n),this.options.keybindingLabelBackground&&(n.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(n.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(n.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(n.style.boxShadow="inset 0 -1px 0 ".concat(this.options.keybindingLabelShadow)),n};i.areSame=function(t,i){return t===i||!t&&!i||!!t&&!!i&&yt(t.firstPart,i.firstPart)&&yt(t.chordPart,i.chordPart)};return i}(Cn);var pP=new po((function(){var t=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:t,collatorIsNumeric:t.resolvedOptions().numeric}}));function mP(t,i,n){var r=t.toLowerCase(),e=i.toLowerCase(),o=function(t,i,n){var r=t.toLowerCase(),e=i.toLowerCase(),o=r.startsWith(n),s=e.startsWith(n);if(o!==s)return o?-1:1;if(o&&s){if(r.length<e.length)return-1;if(r.length>e.length)return 1}return 0}(t,i,n);if(o)return o;var s=r.endsWith(n);if(s!==e.endsWith(n))return s?-1:1;var u=function(t,i,n){if(n===void 0){n=!1}var r=t||"",e=i||"",o=pP.value.collator.compare(r,e);return pP.value.collatorIsNumeric&&o===0&&r!==e?r<e?-1:1:o}(r,e);return u!==0?u:r.localeCompare(e)}var bP,yP=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},kP=function(t,i){return function(n,r){i(n,r,t)}};var xP=Nc;var EP,BP;(function(t){t[t.First=1]="First",t[t.Second=2]="Second",t[t.Last=3]="Last",t[t.Next=4]="Next",t[t.Previous=5]="Previous",t[t.NextPage=6]="NextPage",t[t.PreviousPage=7]="PreviousPage",t[t.NextSeparator=8]="NextSeparator",t[t.PreviousSeparator=9]="PreviousSeparator"})(EP||(EP={}));var CP=function(){function t(t,i,n){var r=this;this.index=t,this.hasCheckbox=i,this._hidden=!1,this._init=new po((function(){var t;var i=(t=n.label)!==null&&t!==void 0?t:"",e=oR(i).text.trim(),o=n.ariaLabel||[i,r.saneDescription,r.saneDetail].map((function(t){return function(t){return t?t.replace(/\$\((.*?)\)/g,(function(t,i){return" ".concat(i," ")})).trim():""}(t)})).filter((function(t){return!!t})).join(", ");return{saneLabel:i,saneSortLabel:e,saneAriaLabel:o}})),this._saneDescription=n.description,this._saneTooltip=n.tooltip}Object.defineProperty(t.prototype,"saneLabel",{get:function(){return this._init.value.saneLabel},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"saneSortLabel",{get:function(){return this._init.value.saneSortLabel},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"saneAriaLabel",{get:function(){return this._init.value.saneAriaLabel},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(t){this._element=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(t){this._hidden=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"saneDescription",{get:function(){return this._saneDescription},set:function(t){this._saneDescription=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"saneDetail",{get:function(){return this._saneDetail},set:function(t){this._saneDetail=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"saneTooltip",{get:function(){return this._saneTooltip},set:function(t){this._saneTooltip=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"labelHighlights",{get:function(){return this._labelHighlights},set:function(t){this._labelHighlights=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"descriptionHighlights",{get:function(){return this._descriptionHighlights},set:function(t){this._descriptionHighlights=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"detailHighlights",{get:function(){return this._detailHighlights},set:function(t){this._detailHighlights=t},enumerable:false,configurable:true});return t}();var DP=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;var a,c,h;u=t.call(this,i,n,o)||this,u.fireButtonTriggered=r,u._onChecked=e,u.item=o,u._separator=s,u._checked=!1,u.onChecked=n?Qn.map(Qn.filter(u._onChecked.event,(function(t){return t.element===u})),(function(t){return t.checked})):Qn.None,u._saneDetail=o.detail,u._labelHighlights=(a=o.highlights)===null||a===void 0?void 0:a.label,u._descriptionHighlights=(c=o.highlights)===null||c===void 0?void 0:c.description,u._detailHighlights=(h=o.highlights)===null||h===void 0?void 0:h.detail;return u}Object.defineProperty(i.prototype,"separator",{get:function(){return this._separator},set:function(t){this._separator=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this._checked&&(this._checked=t,this._onChecked.fire({element:this,checked:t}))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"checkboxDisabled",{get:function(){return!!this.item.disabled},enumerable:false,configurable:true});return i}(CP);(function(t){t[t.NONE=0]="NONE",t[t.MOUSE_HOVER=1]="MOUSE_HOVER",t[t.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(BP||(BP={}));var MP=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,!1,r)||this,e.fireSeparatorButtonTriggered=n,e.separator=r,e.children=new Array,e.focusInsideSeparator=BP.NONE;return e}return i}(CP);var _P=function(){function t(){}t.prototype.getHeight=function(t){return t instanceof MP?30:t.saneDetail?44:22};t.prototype.getTemplateId=function(t){return t instanceof DP?IP.ID:QP.ID};return t}();var FP=function(){function t(){}t.prototype.getWidgetAriaLabel=function(){return Bt(0,"Quick Input")};t.prototype.getAriaLabel=function(t){var i;return!((i=t.separator)===null||i===void 0)&&i.label?"".concat(t.saneAriaLabel,", ").concat(t.separator.label):t.saneAriaLabel};t.prototype.getWidgetRole=function(){return"listbox"};t.prototype.getRole=function(t){return t.hasCheckbox?"checkbox":"option"};t.prototype.isChecked=function(t){if(t.hasCheckbox&&t instanceof DP)return{value:t.checked,onDidChange:t.onChecked}};return t}();var SP=function(){function t(t){this.hoverDelegate=t}t.prototype.renderTemplate=function(t){var i=Object.create(null);i.toDisposeElement=new Bn,i.toDisposeTemplate=new Bn,i.entry=_c(t,xP(".quick-input-list-entry"));var n=_c(i.entry,xP("label.quick-input-list-label"));i.toDisposeTemplate.add(Ra(n,Ec.CLICK,(function(t){i.checkbox.offsetParent||t.preventDefault()}))),i.checkbox=_c(n,xP("input.quick-input-list-checkbox")),i.checkbox.type="checkbox";var r=_c(n,xP(".quick-input-list-rows")),e=_c(r,xP(".quick-input-list-row")),o=_c(r,xP(".quick-input-list-row"));i.label=new lP(e,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),i.toDisposeTemplate.add(i.label),i.icon=Fc(i.label.element,xP(".quick-input-list-icon"));var s=_c(e,xP(".quick-input-list-entry-keybinding"));i.keybinding=new wP(s,ei),i.toDisposeTemplate.add(i.keybinding);var u=_c(o,xP(".quick-input-list-label-meta"));return i.detail=new lP(u,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),i.toDisposeTemplate.add(i.detail),i.separator=_c(i.entry,xP(".quick-input-list-separator")),i.actionBar=new cU(i.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),i.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),i.toDisposeTemplate.add(i.actionBar),i};t.prototype.disposeTemplate=function(t){t.toDisposeElement.dispose(),t.toDisposeTemplate.dispose()};t.prototype.disposeElement=function(t,i,n){n.toDisposeElement.clear(),n.actionBar.clear()};return t}();var IP=bP=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r.themeService=n,r._itemsWithSeparatorsFrequency=new Map;return r}Object.defineProperty(i.prototype,"templateId",{get:function(){return i.ID},enumerable:false,configurable:true});i.prototype.renderTemplate=function(i){var n=t.prototype.renderTemplate.call(this,i);return n.toDisposeTemplate.add(Ra(n.checkbox,Ec.CHANGE,(function(t){n.element.checked=n.checkbox.checked}))),n};i.prototype.renderElement=function(t,i,n){var r,e,o;var s=t.element;n.element=s,s.element=(r=n.entry)!==null&&r!==void 0?r:void 0;var u=s.item;n.checkbox.checked=s.checked,n.toDisposeElement.add(s.onChecked((function(t){return n.checkbox.checked=t}))),n.checkbox.disabled=s.checkboxDisabled;var a=s.labelHighlights,c=s.descriptionHighlights,h=s.detailHighlights;if(u.iconPath){var f=Uy(this.themeService.getColorTheme().type)?u.iconPath.dark:(e=u.iconPath.light)!==null&&e!==void 0?e:u.iconPath.dark,l=zr.revive(f);n.icon.className="quick-input-list-icon",n.icon.style.backgroundImage=zc(l)}else n.icon.style.backgroundImage="",n.icon.className=u.iconClass?"quick-input-list-icon ".concat(u.iconClass):"";var d;!s.saneTooltip&&s.saneDescription&&(d={markdown:{value:s.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:s.saneDescription});var v={matches:a||[],descriptionTitle:d,descriptionMatches:c||[],labelEscapeNewLines:!0};if(v.extraClasses=u.iconClasses,v.italic=u.italic,v.strikethrough=u.strikethrough,n.entry.classList.remove("quick-input-list-separator-as-item"),n.label.setLabel(s.saneLabel,s.saneDescription,v),n.keybinding.set(u.keybinding),s.saneDetail){var f=void 0;s.saneTooltip||(f={markdown:{value:s.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:s.saneDetail}),n.detail.element.style.display="",n.detail.setLabel(s.saneDetail,void 0,{matches:h,title:f,labelEscapeNewLines:!0})}else n.detail.element.style.display="none";!((o=s.separator)===null||o===void 0)&&o.label?(n.separator.textContent=s.separator.label,n.separator.style.display="",this.addItemWithSeparator(s)):n.separator.style.display="none",n.entry.classList.toggle("quick-input-list-separator-border",!!s.separator);var A=u.buttons;A&&A.length?(n.actionBar.push(A.map((function(t,i){return aH(t,"id-".concat(i),(function(){return s.fireButtonTriggered({button:t,item:s.item})}))})),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions")};i.prototype.disposeElement=function(i,n,r){this.removeItemWithSeparator(i.element),t.prototype.disposeElement.call(this,i,n,r)};i.prototype.isItemWithSeparatorVisible=function(t){return this._itemsWithSeparatorsFrequency.has(t)};i.prototype.addItemWithSeparator=function(t){this._itemsWithSeparatorsFrequency.set(t,(this._itemsWithSeparatorsFrequency.get(t)||0)+1)};i.prototype.removeItemWithSeparator=function(t){var i=this._itemsWithSeparatorsFrequency.get(t)||0;i>1?this._itemsWithSeparatorsFrequency.set(t,i-1):this._itemsWithSeparatorsFrequency.delete(t)};return i}(SP);IP.ID="quickpickitem",IP=bP=yP([kP(1,ex)],IP);var QP=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._visibleSeparatorsFrequency=new Map;return i}Object.defineProperty(i.prototype,"templateId",{get:function(){return i.ID},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"visibleSeparators",{get:function(){return __spreadArray([],this._visibleSeparatorsFrequency.keys(),true)},enumerable:false,configurable:true});i.prototype.isSeparatorVisible=function(t){return this._visibleSeparatorsFrequency.has(t)};i.prototype.renderElement=function(t,i,n){var r;var e=t.element;n.element=e,e.element=(r=n.entry)!==null&&r!==void 0?r:void 0,e.element.classList.toggle("focus-inside",!!e.focusInsideSeparator);var o=e.separator,s=e.labelHighlights,u=e.descriptionHighlights,a=e.detailHighlights;var c;n.icon.style.backgroundImage="",n.icon.className="",!e.saneTooltip&&e.saneDescription&&(c={markdown:{value:e.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:e.saneDescription});var h={matches:s||[],descriptionTitle:c,descriptionMatches:u||[],labelEscapeNewLines:!0};if(n.entry.classList.add("quick-input-list-separator-as-item"),n.label.setLabel(e.saneLabel,e.saneDescription,h),e.saneDetail){var f=void 0;e.saneTooltip||(f={markdown:{value:e.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:e.saneDetail}),n.detail.element.style.display="",n.detail.setLabel(e.saneDetail,void 0,{matches:a,title:f,labelEscapeNewLines:!0})}else n.detail.element.style.display="none";n.separator.style.display="none",n.entry.classList.add("quick-input-list-separator-border");var l=o.buttons;l&&l.length?(n.actionBar.push(l.map((function(t,i){return aH(t,"id-".concat(i),(function(){return e.fireSeparatorButtonTriggered({button:t,separator:e.separator})}))})),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions"),this.addSeparator(e)};i.prototype.disposeElement=function(i,n,r){var e;this.removeSeparator(i.element),this.isSeparatorVisible(i.element)||(e=i.element.element)===null||e===void 0||e.classList.remove("focus-inside"),t.prototype.disposeElement.call(this,i,n,r)};i.prototype.addSeparator=function(t){this._visibleSeparatorsFrequency.set(t,(this._visibleSeparatorsFrequency.get(t)||0)+1)};i.prototype.removeSeparator=function(t){var i=this._visibleSeparatorsFrequency.get(t)||0;i>1?this._visibleSeparatorsFrequency.set(t,i-1):this._visibleSeparatorsFrequency.delete(t)};return i}(SP);QP.ID="quickpickseparator";var OP=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.parent=i,s.hoverDelegate=n,s.linkOpenerDelegate=r,s._onKeyDown=new Ln,s.onKeyDown=s._onKeyDown.event,s._onLeave=new Ln,s.onLeave=s._onLeave.event,s._onChangedAllVisibleChecked=new Ln,s.onChangedAllVisibleChecked=s._onChangedAllVisibleChecked.event,s._onChangedCheckedCount=new Ln,s.onChangedCheckedCount=s._onChangedCheckedCount.event,s._onChangedVisibleCount=new Ln,s.onChangedVisibleCount=s._onChangedVisibleCount.event,s._onChangedCheckedElements=new Ln,s.onChangedCheckedElements=s._onChangedCheckedElements.event,s._onButtonTriggered=new Ln,s.onButtonTriggered=s._onButtonTriggered.event,s._onSeparatorButtonTriggered=new Ln,s.onSeparatorButtonTriggered=s._onSeparatorButtonTriggered.event,s._onTriggerEmptySelectionOrFocus=new Ln,s._elementChecked=new Ln,s._inputElements=new Array,s._elementTree=new Array,s._itemElements=new Array,s._elementDisposable=s._register(new Bn),s._shouldFireCheckedEvents=!0,s._matchOnDescription=!1,s._matchOnDetail=!1,s._matchOnLabel=!0,s._matchOnLabelMode="fuzzy",s._sortByLabel=!0,s._container=_c(s.parent,xP(".quick-input-list")),s._separatorRenderer=new QP(n),s._itemRenderer=o.createInstance(IP,n),s._tree=s._register(o.createInstance(iP,"QuickInput",s._container,new _P,[s._itemRenderer,s._separatorRenderer],{accessibilityProvider:new FP,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:GH.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,identityProvider:{getId:function(t){var i,n,r,e,o,s,u,a;return(a=(s=(e=(n=(i=t.item)===null||i===void 0?void 0:i.id)!==null&&n!==void 0?n:(r=t.item)===null||r===void 0?void 0:r.label)!==null&&e!==void 0?e:(o=t.separator)===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:(u=t.separator)===null||u===void 0?void 0:u.label)!==null&&a!==void 0?a:""}},alwaysConsumeMouseWheel:!0})),s._tree.getHTMLElement().id=e,s._registerListeners();return s}Object.defineProperty(i.prototype,"onDidChangeFocus",{get:function(){return Qn.map(Qn.any(this._tree.onDidChangeFocus,this._onTriggerEmptySelectionOrFocus.event),(function(t){return t.elements.filter((function(t){return t instanceof DP})).map((function(t){return t.item}))}))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"onDidChangeSelection",{get:function(){return Qn.map(Qn.any(this._tree.onDidChangeSelection,this._onTriggerEmptySelectionOrFocus.event),(function(t){return{items:t.elements.filter((function(t){return t instanceof DP})).map((function(t){return t.item})),event:t.browserEvent}}))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"scrollTop",{get:function(){return this._tree.scrollTop},set:function(t){this._tree.scrollTop=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"ariaLabel",{get:function(){return this._tree.ariaLabel},set:function(t){this._tree.ariaLabel=t!==null&&t!==void 0?t:""},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"enabled",{set:function(t){this._tree.getHTMLElement().style.pointerEvents=t?"":"none"},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnDescription",{get:function(){return this._matchOnDescription},set:function(t){this._matchOnDescription=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnDetail",{get:function(){return this._matchOnDetail},set:function(t){this._matchOnDetail=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnLabel",{get:function(){return this._matchOnLabel},set:function(t){this._matchOnLabel=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnLabelMode",{get:function(){return this._matchOnLabelMode},set:function(t){this._matchOnLabelMode=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"sortByLabel",{get:function(){return this._sortByLabel},set:function(t){this._sortByLabel=t},enumerable:false,configurable:true});i.prototype._registerListeners=function(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()};i.prototype._registerOnKeyDown=function(){var t=this;this._register(this._tree.onKeyDown((function(i){var n=new Qs(i);switch(n.keyCode){case 10:t.toggleCheckbox();break;case 31:(Gt?i.metaKey:i.ctrlKey)&&t._tree.setFocus(t._itemElements);break;case 16:{var r=t._tree.getFocus();r.length===1&&r[0]===t._itemElements[0]&&t._onLeave.fire();break}case 18:{var r=t._tree.getFocus();r.length===1&&r[0]===t._itemElements[t._itemElements.length-1]&&t._onLeave.fire();break}}t._onKeyDown.fire(n)})))};i.prototype._registerOnContainerClick=function(){var t=this;this._register(Oa(this._container,Ec.CLICK,(function(i){(i.x||i.y)&&t._onLeave.fire()})))};i.prototype._registerOnMouseMiddleClick=function(){var t=this;this._register(Oa(this._container,Ec.AUXCLICK,(function(i){i.button===1&&t._onLeave.fire()})))};i.prototype._registerOnElementChecked=function(){var t=this;this._register(this._elementChecked.event((function(i){return t._fireCheckedEvents()})))};i.prototype._registerOnContextMenu=function(){var t=this;this._register(this._tree.onContextMenu((function(i){i.element&&(i.browserEvent.preventDefault(),t._tree.setSelection([i.element]))})))};i.prototype._registerHoverListeners=function(){var t=this;var i=this._register(new Ps(this.hoverDelegate.delay));this._register(this._tree.onMouseOver((function(n){return __awaiter(t,void 0,void 0,(function(){var t,r;var e=this;return __generator(this,(function(o){switch(o.label){case 0:if(!(n.browserEvent.target instanceof HTMLAnchorElement))return[3,1];i.cancel();return[3,5];case 1:if(!(n.browserEvent.relatedTarget instanceof HTMLAnchorElement||!ic(n.browserEvent.relatedTarget,(t=n.element)===null||t===void 0?void 0:t.element)))return[3,5];o.label=2;case 2:o.trys.push([2,4,,5]);return[4,i.trigger((function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(t){n.element instanceof DP&&this.showHover(n.element);return[2]}))}))}))];case 3:o.sent();return[3,5];case 4:r=o.sent();if(!dn(r))throw r;return[3,5];case 5:return[2]}}))}))}))),this._register(this._tree.onMouseOut((function(t){var n;ic(t.browserEvent.relatedTarget,(n=t.element)===null||n===void 0?void 0:n.element)||i.cancel()})))};i.prototype._registerSeparatorActionShowingListeners=function(){var t=this;this._register(this._tree.onDidChangeFocus((function(i){var n=i.elements[0]?t._tree.getParentElement(i.elements[0]):null;for(var r=0,e=t._separatorRenderer.visibleSeparators;r<e.length;r++){var o=e[r];var s=o===n;!!(o.focusInsideSeparator&BP.ACTIVE_ITEM)!==s&&(s?o.focusInsideSeparator|=BP.ACTIVE_ITEM:o.focusInsideSeparator&=~BP.ACTIVE_ITEM,t._tree.rerender(o))}}))),this._register(this._tree.onMouseOver((function(i){var n=i.element?t._tree.getParentElement(i.element):null;for(var r=0,e=t._separatorRenderer.visibleSeparators;r<e.length;r++){var o=e[r];o===n&&(o.focusInsideSeparator&BP.MOUSE_HOVER||(o.focusInsideSeparator|=BP.MOUSE_HOVER,t._tree.rerender(o)))}}))),this._register(this._tree.onMouseOut((function(i){var n=i.element?t._tree.getParentElement(i.element):null;for(var r=0,e=t._separatorRenderer.visibleSeparators;r<e.length;r++){var o=e[r];o===n&&o.focusInsideSeparator&BP.MOUSE_HOVER&&(o.focusInsideSeparator&=~BP.MOUSE_HOVER,t._tree.rerender(o))}})))};i.prototype._registerSelectionChangeListener=function(){var t=this;this._register(this._tree.onDidChangeSelection((function(i){var n=i.elements.filter((function(t){return t instanceof DP}));n.length!==i.elements.length&&(i.elements.length===1&&i.elements[0]instanceof MP&&(t._tree.setFocus([i.elements[0].children[0]]),t._tree.reveal(i.elements[0],0)),t._tree.setSelection(n))})))};i.prototype.getAllVisibleChecked=function(){return this._allVisibleChecked(this._itemElements,!1)};i.prototype.getCheckedCount=function(){return this._itemElements.filter((function(t){return t.checked})).length};i.prototype.getVisibleCount=function(){return this._itemElements.filter((function(t){return!t.hidden})).length};i.prototype.setAllVisibleChecked=function(t){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach((function(i){i.hidden||i.checkboxDisabled||(i.checked=t)}))}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}};i.prototype.setElements=function(t){var i=this;this._elementDisposable.clear(),this._inputElements=t;var n=this.parent.classList.contains("show-checkboxes");var r;this._itemElements=new Array,this._elementTree=t.reduce((function(e,o,s){var u;if(o.type==="separator"){if(!o.buttons)return e;r=new MP(s,(function(t){return i.fireSeparatorButtonTriggered(t)}),o),u=r}else{var a=s>0?t[s-1]:void 0;var c;a&&a.type==="separator"&&!a.buttons&&(r=void 0,c=a);var h=new DP(s,n,(function(t){return i.fireButtonTriggered(t)}),i._elementChecked,o,c);if(i._itemElements.push(h),r)return r.children.push(h),e;u=h}return e.push(u),e}),new Array);var e=new Array;var o=0;for(var s=0,u=this._elementTree;s<u.length;s++){var a=u[s];a instanceof MP?(e.push({element:a,collapsible:!1,collapsed:!1,children:a.children.map((function(t){return{element:t,collapsible:!1,collapsed:!1}}))}),o+=a.children.length+1):(e.push({element:a,collapsible:!1,collapsed:!1}),o++)}this._tree.setChildren(null,e),this._onChangedVisibleCount.fire(o)};i.prototype.setFocusedElements=function(t){var i=this;var n=t.map((function(t){return i._itemElements.find((function(i){return i.item===t}))})).filter((function(t){return!!t}));if(this._tree.setFocus(n),t.length>0){var r=this._tree.getFocus()[0];r&&this._tree.reveal(r)}};i.prototype.getActiveDescendant=function(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")};i.prototype.setSelectedElements=function(t){var i=this;var n=t.map((function(t){return i._itemElements.find((function(i){return i.item===t}))})).filter((function(t){return!!t}));this._tree.setSelection(n)};i.prototype.getCheckedElements=function(){return this._itemElements.filter((function(t){return t.checked})).map((function(t){return t.item}))};i.prototype.setCheckedElements=function(t){try{this._shouldFireCheckedEvents=!1;var i=new Set;for(var n=0,r=t;n<r.length;n++){var e=r[n];i.add(e)}for(var o=0,s=this._itemElements;o<s.length;o++){var e=s[o];e.checked=i.has(e.item)}}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}};i.prototype.focus=function(t){var i=this;var n;if(this._itemElements.length)switch(t===EP.Second&&this._itemElements.length<2&&(t=EP.First),t){case EP.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,(function(t){return t.element instanceof DP}));break;case EP.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case EP.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case EP.Next:this._tree.focusNext(void 0,!0,void 0,(function(t){return t.element instanceof DP&&(i._tree.reveal(t.element),!0)}));break;case EP.Previous:this._tree.focusPrevious(void 0,!0,void 0,(function(t){if(!(t.element instanceof DP))return!1;var n=i._tree.getParentElement(t.element);return n===null||n.children[0]!==t.element?i._tree.reveal(t.element):i._tree.reveal(n),!0}));break;case EP.NextPage:this._tree.focusNextPage(void 0,(function(t){return t.element instanceof DP&&(i._tree.reveal(t.element),!0)}));break;case EP.PreviousPage:this._tree.focusPreviousPage(void 0,(function(t){if(!(t.element instanceof DP))return!1;var n=i._tree.getParentElement(t.element);return n===null||n.children[0]!==t.element?i._tree.reveal(t.element):i._tree.reveal(n),!0}));break;case EP.NextSeparator:{var r=!1;var e=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,(function(t){if(r)return!0;if(t.element instanceof MP)r=!0,i._separatorRenderer.isSeparatorVisible(t.element)?i._tree.reveal(t.element.children[0]):i._tree.reveal(t.element,0);else if(t.element instanceof DP){if(t.element.separator)return i._itemRenderer.isItemWithSeparatorVisible(t.element)?i._tree.reveal(t.element):i._tree.reveal(t.element,0),!0;if(t.element===i._elementTree[0])return i._tree.reveal(t.element,0),!0}return!1})),e===this._tree.getFocus()[0]&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case EP.PreviousSeparator:{var o,s=!!(!((n=this._tree.getFocus()[0])===null||n===void 0)&&n.separator);this._tree.focusPrevious(void 0,!0,void 0,(function(t){if(t.element instanceof MP)s?o||(i._separatorRenderer.isSeparatorVisible(t.element)?i._tree.reveal(t.element):i._tree.reveal(t.element,0),o=t.element.children[0]):s=!0;else if(t.element instanceof DP&&!o){if(t.element.separator)i._itemRenderer.isItemWithSeparatorVisible(t.element)?i._tree.reveal(t.element):i._tree.reveal(t.element,0),o=t.element;else if(t.element===i._elementTree[0])return i._tree.reveal(t.element,0),!0}return!1})),o&&this._tree.setFocus([o]);break}}};i.prototype.clearFocus=function(){this._tree.setFocus([])};i.prototype.domFocus=function(){this._tree.domFocus()};i.prototype.layout=function(t){this._tree.getHTMLElement().style.maxHeight=t?44*Math.floor(t/44)+6+"px":"",this._tree.layout()};i.prototype.filter=function(t){var i=this;if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;var n=t;if((t=t.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){var r;this._elementTree.forEach((function(e){var o,s,u,a;var c;c=i.matchOnLabelMode==="fuzzy"?i.matchOnLabel&&(o=sR(t,oR(e.saneLabel)))!==null&&o!==void 0?o:void 0:i.matchOnLabel&&(s=function(t,i){var n=i.text,r=i.iconOffsets;if(!r||r.length===0)return NP(t,n);var e=Co(n," "),o=n.length-e.length,s=NP(t,e);if(s)for(var u=0,a=s;u<a.length;u++){var c=a[u];var h=r[c.start+o]+o;c.start+=h,c.end+=h}return s}(n,oR(e.saneLabel)))!==null&&s!==void 0?s:void 0;var h=i.matchOnDescription&&(u=sR(t,oR(e.saneDescription||"")))!==null&&u!==void 0?u:void 0,f=i.matchOnDetail&&(a=sR(t,oR(e.saneDetail||"")))!==null&&a!==void 0?a:void 0;if(c||h||f?(e.labelHighlights=c,e.descriptionHighlights=h,e.detailHighlights=f,e.hidden=!1):(e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!e.item||!e.item.alwaysShow),e.item?e.separator=void 0:e.separator&&(e.hidden=!0),!i.sortByLabel){var l=e.index&&i._inputElements[e.index-1];r=l&&l.type==="separator"?l:r,r&&!e.hidden&&(e.separator=r,r=void 0)}}))}else this._itemElements.forEach((function(t){t.labelHighlights=void 0,t.descriptionHighlights=void 0,t.detailHighlights=void 0,t.hidden=!1;var n=t.index&&i._inputElements[t.index-1];t.item&&(t.separator=n&&n.type==="separator"&&!n.buttons?n:void 0)}));var e=this._elementTree.filter((function(t){return!t.hidden}));if(this.sortByLabel&&t){var o=t.toLowerCase();e.sort((function(t,i){return function(t,i,n){var r=t.labelHighlights||[],e=i.labelHighlights||[];return r.length&&!e.length?-1:!r.length&&e.length?1:r.length===0&&e.length===0?0:mP(t.saneSortLabel,i.saneSortLabel,n)}(t,i,o)}))}var s;var u=e.reduce((function(t,i,n){return i instanceof DP?s?s.children.push(i):t.push(i):i instanceof MP&&(i.children=[],s=i,t.push(i)),t}),new Array),a=new Array;for(var c=0,h=u;c<h.length;c++){var f=h[c];f instanceof MP?a.push({element:f,collapsible:!1,collapsed:!1,children:f.children.map((function(t){return{element:t,collapsible:!1,collapsed:!1}}))}):a.push({element:f,collapsible:!1,collapsed:!1})}var l=this._tree.getFocus().length;return this._tree.setChildren(null,a),l>0&&a.length===0&&this._onTriggerEmptySelectionOrFocus.fire({elements:[]}),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(e.length),!0};i.prototype.toggleCheckbox=function(){try{this._shouldFireCheckedEvents=!1;var t=this._tree.getFocus().filter((function(t){return t instanceof DP})),i=this._allVisibleChecked(t);for(var n=0,r=t;n<r.length;n++){var e=r[n];e.checkboxDisabled||(e.checked=!i)}}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}};i.prototype.display=function(t){this._container.style.display=t?"":"none"};i.prototype.isDisplayed=function(){return this._container.style.display!=="none"};i.prototype.style=function(t){this._tree.style(t)};i.prototype.toggleHover=function(){var t=this;var i=this._tree.getFocus()[0];if(!(i!=null&&i.saneTooltip&&i instanceof DP))return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();this.showHover(i);var n=new Bn;n.add(this._tree.onDidChangeFocus((function(i){i.elements[0]instanceof DP&&t.showHover(i.elements[0])}))),this._lastHover&&n.add(this._lastHover),this._elementDisposable.add(n)};i.prototype._allVisibleChecked=function(t,i){if(i===void 0){i=!0}for(var n=0,r=t.length;n<r;n++){var e=t[n];if(!e.hidden){if(!e.checked)return!1;i=!0}}return i};i.prototype._fireCheckedEvents=function(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))};i.prototype.fireButtonTriggered=function(t){this._onButtonTriggered.fire(t)};i.prototype.fireSeparatorButtonTriggered=function(t){this._onSeparatorButtonTriggered.fire(t)};i.prototype.showHover=function(t){var i=this;var n,r,e;this._lastHover&&!this._lastHover.isDisposed&&((r=(n=this.hoverDelegate).onDidHideHover)===null||r===void 0||r.call(n),(e=this._lastHover)===null||e===void 0||e.dispose()),t.element&&t.saneTooltip&&(this._lastHover=this.hoverDelegate.showHover({content:t.saneTooltip,target:t.element,linkHandler:function(t){i.linkOpenerDelegate(t)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))};return i}(Cn);function NP(t,i){var n=i.toLowerCase().indexOf(t.toLowerCase());return n!==-1?[{start:n,end:n+t.length}]:null}yP([vk],OP.prototype,"onDidChangeFocus",null),yP([vk],OP.prototype,"onDidChangeSelection",null),OP=yP([kP(4,fh)],OP);var RP=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},TP=function(t,i){return function(n,r){i(n,r,t)}};var LP={iconClass:xh.asClassName(re.quickInputBack),tooltip:Bt(0,"Back"),handle:-1};var jP=function(t){__extends(i,t);function i(n){var r=this;r=t.call(this)||this,r.ui=n,r._widgetUpdated=!1,r.visible=!1,r._enabled=!0,r._busy=!1,r._ignoreFocusOut=!1,r._buttons=[],r.buttonsUpdated=!1,r._toggles=[],r.togglesUpdated=!1,r.noValidationMessage=i.noPromptMessage,r._severity=YI.Ignore,r.onDidTriggerButtonEmitter=r._register(new Ln),r.onDidHideEmitter=r._register(new Ln),r.onWillHideEmitter=r._register(new Ln),r.onDisposeEmitter=r._register(new Ln),r.visibleDisposables=r._register(new Bn),r.onDidHide=r.onDidHideEmitter.event;return r}Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"description",{get:function(){return this._description},set:function(t){this._description=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"step",{get:function(){return this._steps},set:function(t){this._steps=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"totalSteps",{get:function(){return this._totalSteps},set:function(t){this._totalSteps=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"contextKey",{get:function(){return this._contextKey},set:function(t){this._contextKey=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"busy",{get:function(){return this._busy},set:function(t){this._busy=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"ignoreFocusOut",{get:function(){return this._ignoreFocusOut},set:function(t){var i=this._ignoreFocusOut!==t&&!Zt;this._ignoreFocusOut=t&&!Zt,i&&this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"buttons",{get:function(){return this._buttons},set:function(t){this._buttons=t,this.buttonsUpdated=!0,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"toggles",{get:function(){return this._toggles},set:function(t){this._toggles=t!==null&&t!==void 0?t:[],this.togglesUpdated=!0,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"validationMessage",{get:function(){return this._validationMessage},set:function(t){this._validationMessage=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"severity",{get:function(){return this._severity},set:function(t){this._severity=t,this.update()},enumerable:false,configurable:true});i.prototype.show=function(){var t=this;this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((function(i){t.buttons.indexOf(i)!==-1&&t.onDidTriggerButtonEmitter.fire(i)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())};i.prototype.hide=function(){this.visible&&this.ui.hide()};i.prototype.didHide=function(t){if(t===void 0){t=XU.Other}this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})};i.prototype.willHide=function(t){if(t===void 0){t=XU.Other}this.onWillHideEmitter.fire({reason:t})};i.prototype.update=function(){var t=this;var i,n;if(!this.visible)return;var r=this.getTitle();r&&this.ui.title.textContent!==r?this.ui.title.textContent=r:r||this.ui.title.innerHTML==="&nbsp;"||(this.ui.title.innerText=" ");var e=this.getDescription();if(this.ui.description1.textContent!==e&&(this.ui.description1.textContent=e),this.ui.description2.textContent!==e&&(this.ui.description2.textContent=e),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Sc(this.ui.widget,this._widget):Sc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Ks,this.busyDelay.setIfNotSet((function(){t.visible&&t.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();var o=this.buttons.filter((function(t){return t===LP})).map((function(i,n){return aH(i,"id-".concat(n),(function(){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.onDidTriggerButtonEmitter.fire(i)]}))}))}))}));this.ui.leftActionBar.push(o,{icon:!0,label:!1}),this.ui.rightActionBar.clear();var s=this.buttons.filter((function(t){return t!==LP})).map((function(i,n){return aH(i,"id-".concat(n),(function(){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.onDidTriggerButtonEmitter.fire(i)]}))}))}))}));this.ui.rightActionBar.push(s,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;var o=(n=(i=this.toggles)===null||i===void 0?void 0:i.filter((function(t){return t instanceof nH})))!==null&&n!==void 0?n:[];this.ui.inputBox.toggles=o}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);var u=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==u&&(this._lastValidationMessage=u,Sc(this.ui.message),cH(u,this.ui.message,{callback:function(i){t.ui.linkOpenerDelegate(i)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))};i.prototype.getTitle=function(){return this.title&&this.step?"".concat(this.title," (").concat(this.getSteps(),")"):this.title?this.title:this.step?this.getSteps():""};i.prototype.getDescription=function(){return this.description||""};i.prototype.getSteps=function(){return this.step&&this.totalSteps?Bt(0,"{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""};i.prototype.showMessageDecoration=function(t){if(this.ui.inputBox.showDecoration(t),t!==YI.Ignore){var i=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=i.foreground?"".concat(i.foreground):"",this.ui.message.style.backgroundColor=i.background?"".concat(i.background):"",this.ui.message.style.border=i.border?"1px solid ".concat(i.border):"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""};i.prototype.dispose=function(){this.hide(),this.onDisposeEmitter.fire(),t.prototype.dispose.call(this)};return i}(Cn);jP.noPromptMessage=Bt(0,"Press 'Enter' to confirm your input or 'Escape' to cancel");var zP=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._value="",i.onDidChangeValueEmitter=i._register(new Ln),i.onWillAcceptEmitter=i._register(new Ln),i.onDidAcceptEmitter=i._register(new Ln),i.onDidCustomEmitter=i._register(new Ln),i._items=[],i.itemsUpdated=!1,i._canSelectMany=!1,i._canAcceptInBackground=!1,i._matchOnDescription=!1,i._matchOnDetail=!1,i._matchOnLabel=!0,i._matchOnLabelMode="fuzzy",i._sortByLabel=!0,i._keepScrollPosition=!1,i._itemActivation=qU.FIRST,i._activeItems=[],i.activeItemsUpdated=!1,i.activeItemsToConfirm=[],i.onDidChangeActiveEmitter=i._register(new Ln),i._selectedItems=[],i.selectedItemsUpdated=!1,i.selectedItemsToConfirm=[],i.onDidChangeSelectionEmitter=i._register(new Ln),i.onDidTriggerItemButtonEmitter=i._register(new Ln),i.onDidTriggerSeparatorButtonEmitter=i._register(new Ln),i.valueSelectionUpdated=!0,i._ok="default",i._customButton=!1,i.filterValue=function(t){return t},i.onDidChangeValue=i.onDidChangeValueEmitter.event,i.onWillAccept=i.onWillAcceptEmitter.event,i.onDidAccept=i.onDidAcceptEmitter.event,i.onDidChangeActive=i.onDidChangeActiveEmitter.event,i.onDidChangeSelection=i.onDidChangeSelectionEmitter.event,i.onDidTriggerItemButton=i.onDidTriggerItemButtonEmitter.event,i.onDidTriggerSeparatorButton=i.onDidTriggerSeparatorButtonEmitter.event;return i}Object.defineProperty(i.prototype,"quickNavigate",{get:function(){return this._quickNavigate},set:function(t){this._quickNavigate=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this.doSetValue(t)},enumerable:false,configurable:true});i.prototype.doSetValue=function(t,i){this._value!==t&&(this._value=t,i||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))};Object.defineProperty(i.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(t){this._ariaLabel=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this.itemsUpdated=!0,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"scrollTop",{get:function(){return this.ui.list.scrollTop},set:function(t){this.ui.list.scrollTop=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"canSelectMany",{get:function(){return this._canSelectMany},set:function(t){this._canSelectMany=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"canAcceptInBackground",{get:function(){return this._canAcceptInBackground},set:function(t){this._canAcceptInBackground=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnDescription",{get:function(){return this._matchOnDescription},set:function(t){this._matchOnDescription=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnDetail",{get:function(){return this._matchOnDetail},set:function(t){this._matchOnDetail=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnLabel",{get:function(){return this._matchOnLabel},set:function(t){this._matchOnLabel=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchOnLabelMode",{get:function(){return this._matchOnLabelMode},set:function(t){this._matchOnLabelMode=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"sortByLabel",{get:function(){return this._sortByLabel},set:function(t){this._sortByLabel=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"keepScrollPosition",{get:function(){return this._keepScrollPosition},set:function(t){this._keepScrollPosition=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"itemActivation",{get:function(){return this._itemActivation},set:function(t){this._itemActivation=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"activeItems",{get:function(){return this._activeItems},set:function(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"selectedItems",{get:function(){return this._selectedItems},set:function(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"keyMods",{get:function(){return this._quickNavigate?KU:this.ui.keyMods},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"valueSelection",{get:function(){var t=this.ui.inputBox.getSelection();if(t)return[t.start,t.end]},set:function(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"customButton",{get:function(){return this._customButton},set:function(t){this._customButton=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"customLabel",{get:function(){return this._customButtonLabel},set:function(t){this._customButtonLabel=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"customHover",{get:function(){return this._customButtonHover},set:function(t){this._customButtonHover=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"ok",{get:function(){return this._ok},set:function(t){this._ok=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"hideInput",{get:function(){return!!this._hideInput},set:function(t){this._hideInput=t,this.update()},enumerable:false,configurable:true});i.prototype.trySelectFirst=function(){this.canSelectMany||this.ui.list.focus(EP.First)};i.prototype.show=function(){var i=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((function(t){i.doSetValue(t,!0)}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((function(t){switch(t.keyCode){case 18:(Gt?t.metaKey:t.altKey)?i.ui.list.focus(EP.NextSeparator):i.ui.list.focus(EP.Next),i.canSelectMany&&i.ui.list.domFocus(),Cc(t,!0);break;case 16:(Gt?t.metaKey:t.altKey)?i.ui.list.focus(EP.PreviousSeparator):i.ui.list.focus(EP.Previous),i.canSelectMany&&i.ui.list.domFocus(),Cc(t,!0);break;case 12:i.ui.list.focus(EP.NextPage),i.canSelectMany&&i.ui.list.domFocus(),Cc(t,!0);break;case 11:i.ui.list.focus(EP.PreviousPage),i.canSelectMany&&i.ui.list.domFocus(),Cc(t,!0);break;case 17:if(!i._canAcceptInBackground||!i.ui.inputBox.isSelectionAtEnd())return;i.activeItems[0]&&(i._selectedItems=[i.activeItems[0]],i.onDidChangeSelectionEmitter.fire(i.selectedItems),i.handleAccept(!0));break;case 14:!t.ctrlKey&&!t.metaKey||t.shiftKey||t.altKey||(i.ui.list.focus(EP.First),Cc(t,!0));break;case 13:!t.ctrlKey&&!t.metaKey||t.shiftKey||t.altKey||(i.ui.list.focus(EP.Last),Cc(t,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((function(){i.canSelectMany?i.ui.list.getCheckedElements().length||(i._selectedItems=[],i.onDidChangeSelectionEmitter.fire(i.selectedItems)):i.activeItems[0]&&(i._selectedItems=[i.activeItems[0]],i.onDidChangeSelectionEmitter.fire(i.selectedItems)),i.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((function(){i.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((function(t){i.activeItemsUpdated||i.activeItemsToConfirm!==i._activeItems&&_(t,i._activeItems,(function(t,i){return t===i}))||(i._activeItems=t,i.onDidChangeActiveEmitter.fire(t))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((function(t){var n=t.items,r=t.event;i.canSelectMany?n.length&&i.ui.list.setSelectedElements([]):i.selectedItemsToConfirm!==i._selectedItems&&_(n,i._selectedItems,(function(t,i){return t===i}))||(i._selectedItems=n,i.onDidChangeSelectionEmitter.fire(n),n.length&&i.handleAccept(kc(r)&&r.button===1))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((function(t){i.canSelectMany&&(i.selectedItemsToConfirm!==i._selectedItems&&_(t,i._selectedItems,(function(t,i){return t===i}))||(i._selectedItems=t,i.onDidChangeSelectionEmitter.fire(t)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((function(t){return i.onDidTriggerItemButtonEmitter.fire(t)}))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((function(t){return i.onDidTriggerSeparatorButtonEmitter.fire(t)}))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),t.prototype.show.call(this)};i.prototype.handleAccept=function(t){var i=!1;this.onWillAcceptEmitter.fire({veto:function(){return i=!0}}),i||this.onDidAcceptEmitter.fire({inBackground:t})};i.prototype.registerQuickNavigation=function(){var t=this;return Oa(this.ui.container,Ec.KEY_UP,(function(i){if(t.canSelectMany||!t._quickNavigate)return;var n=new Qs(i),r=n.keyCode;t._quickNavigate.keybindings.some((function(t){var i=t.getChords();return!(i.length>1)&&(i[0].shiftKey&&r===4?!(n.ctrlKey||n.altKey||n.metaKey):!(!i[0].altKey||r!==6)||!(!i[0].ctrlKey||r!==5)||!(!i[0].metaKey||r!==57))}))&&(t.activeItems[0]&&(t._selectedItems=[t.activeItems[0]],t.onDidChangeSelectionEmitter.fire(t.selectedItems),t.handleAccept(!1)),t._quickNavigate=void 0)}))};i.prototype.update=function(){if(!this.visible)return;var n=this.keepScrollPosition?this.scrollTop:0,r=!!this.description,e={title:!!this.title||!!this.step||!!this.buttons.length,description:r,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||r,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(e),t.prototype.update.call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");var o=this.ariaLabel;if(!o&&e.inputBox&&(o=this.placeholder||i.DEFAULT_ARIA_LABEL,this.title&&(o+=" - ".concat(this.title))),this.ui.list.ariaLabel!==o&&(this.ui.list.ariaLabel=o!==null&&o!==void 0?o:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated){this.itemsUpdated=!1;var s=this._activeItems;switch(this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case qU.NONE:s.length>0&&(this._activeItems=[],this.onDidChangeActiveEmitter.fire(this._activeItems)),this._itemActivation=qU.FIRST;break;case qU.SECOND:this.ui.list.focus(EP.Second),this._itemActivation=qU.FIRST;break;case qU.LAST:this.ui.list.focus(EP.Last),this._itemActivation=qU.FIRST;break;default:this.trySelectFirst()}}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",e.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(EP.First)),this.keepScrollPosition&&(this.scrollTop=n)};return i}(jP);zP.DEFAULT_ARIA_LABEL=Bt(0,"Type to narrow down results.");var UP=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._value="",i.valueSelectionUpdated=!0,i._password=!1,i.onDidValueChangeEmitter=i._register(new Ln),i.onDidAcceptEmitter=i._register(new Ln),i.onDidChangeValue=i.onDidValueChangeEmitter.event,i.onDidAccept=i.onDidAcceptEmitter.event;return i}Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t||"",this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.update()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"password",{get:function(){return this._password},set:function(t){this._password=t,this.update()},enumerable:false,configurable:true});i.prototype.show=function(){var i=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((function(t){t!==i.value&&(i._value=t,i.onDidValueChangeEmitter.fire(t))}))),this.visibleDisposables.add(this.ui.onDidAccept((function(){return i.onDidAcceptEmitter.fire()}))),this.valueSelectionUpdated=!0),t.prototype.show.call(this)};i.prototype.update=function(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");var i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(i),t.prototype.update.call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)};return i}(jP);var HP=function(t){__extends(i,t);function i(i,n){var r=t.call(this,"element",!1,(function(t){return r.getOverrideOptions(t)}),i,n)||this;return r}i.prototype.getOverrideOptions=function(t){var i;return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:(t.content instanceof HTMLElement?(i=t.content.textContent)!==null&&i!==void 0?i:"":typeof t.content=="string"?t.content:t.content.value).includes("\n"),skipFadeInAnimation:!0}}};return i}(NO);HP=RP([TP(0,sd),TP(1,OO)],HP),ZA.white.toString(),ZA.white.toString();var YP=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._label="",r._onDidClick=r._register(new Ln),r._onDidEscape=r._register(new Ln),r.options=n,r._element=document.createElement("a"),r._element.classList.add("monaco-button"),r._element.tabIndex=0,r._element.setAttribute("role","button"),r._element.classList.toggle("secondary",!!n.secondary);var e=n.secondary?n.buttonSecondaryBackground:n.buttonBackground,o=n.secondary?n.buttonSecondaryForeground:n.buttonForeground;r._element.style.color=o||"",r._element.style.backgroundColor=e||"",n.supportShortLabel&&(r._labelShortElement=document.createElement("div"),r._labelShortElement.classList.add("monaco-button-label-short"),r._element.appendChild(r._labelShortElement),r._labelElement=document.createElement("div"),r._labelElement.classList.add("monaco-button-label"),r._element.appendChild(r._labelElement),r._element.classList.add("monaco-text-button-with-short-label")),typeof n.title=="string"&&r.setTitle(n.title),typeof n.ariaLabel=="string"&&r._element.setAttribute("aria-label",n.ariaLabel),i.appendChild(r._element),r._register(wk.addTarget(r._element)),[Ec.CLICK,Ak.Tap].forEach((function(t){r._register(Oa(r._element,t,(function(t){r.enabled?r._onDidClick.fire(t):Cc(t)})))})),r._register(Oa(r._element,Ec.KEY_DOWN,(function(t){var i=new Qs(t);var n=!1;r.enabled&&(i.equals(3)||i.equals(10))?(r._onDidClick.fire(t),n=!0):i.equals(9)&&(r._onDidEscape.fire(t),r._element.blur(),n=!0),n&&Cc(i,!0)}))),r._register(Oa(r._element,Ec.MOUSE_OVER,(function(t){r._element.classList.contains("disabled")||r.updateBackground(!0)}))),r._register(Oa(r._element,Ec.MOUSE_OUT,(function(t){r.updateBackground(!1)}))),r.focusTracker=r._register(Mc(r._element)),r._register(r.focusTracker.onDidFocus((function(){r.enabled&&r.updateBackground(!0)}))),r._register(r.focusTracker.onDidBlur((function(){r.enabled&&r.updateBackground(!1)})));return r}Object.defineProperty(i.prototype,"onDidClick",{get:function(){return this._onDidClick.event},enumerable:false,configurable:true});i.prototype.dispose=function(){t.prototype.dispose.call(this),this._element.remove()};i.prototype.getContentElements=function(t){var i=[];for(var n=0,r=XO(t);n<r.length;n++){var e=r[n];if(typeof e=="string"){if(e=e.trim(),e==="")continue;var o=document.createElement("span");o.textContent=e,i.push(o)}else i.push(e)}return i};i.prototype.updateBackground=function(t){var i;i=this.options.secondary?t?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t?this.options.buttonHoverBackground:this.options.buttonBackground,i&&(this._element.style.backgroundColor=i)};Object.defineProperty(i.prototype,"element",{get:function(){return this._element},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(t){var i,n,r;if(this._label===t||cR(this._label)&&cR(t)&&((n=this._label)===(r=t)||n&&r&&n.value===r.value&&n.isTrusted===r.isTrusted&&n.supportThemeIcons===r.supportThemeIcons&&n.supportHtml===r.supportHtml&&(n.baseUri===r.baseUri||n.baseUri&&r.baseUri&&ZM(zr.from(n.baseUri),zr.from(r.baseUri)))))return;this._element.classList.add("monaco-text-button");var e=this.options.supportShortLabel?this._labelElement:this._element;if(cR(t)){var o=bR(t,{inline:!0});o.dispose();var s=(i=o.element.querySelector("p"))===null||i===void 0?void 0:i.innerHTML;if(s){var u=na(s,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});e.innerHTML=u}else Sc(e)}else this.options.supportIcons?Sc.apply(void 0,__spreadArray([e],this.getContentElements(t),false)):e.textContent=t;var a="";typeof this.options.title=="string"?a=this.options.title:this.options.title&&(a=BR(t)),this.setTitle(a),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",a),this._label=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"icon",{set:function(t){var i;(i=this._element.classList).add.apply(i,xh.asClassNameArray(t))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"enabled",{get:function(){return!this._element.classList.contains("disabled")},set:function(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))},enumerable:false,configurable:true});i.prototype.setTitle=function(t){var i;this._hover||t===""?this._hover&&this._hover.update(t):this._hover=this._register(YL((i=this.options.hoverDelegate)!==null&&i!==void 0?i:jL("mouse"),this._element,t))};return i}(Cn);var JP=function(){function t(t,i,n){this.options=i,this.styles=n,this.count=0,this.element=_c(t,Nc(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}t.prototype.setCount=function(t){this.count=t,this.render()};t.prototype.setTitleFormat=function(t){this.titleFormat=t,this.render()};t.prototype.render=function(){var t,i;this.element.textContent=ko(this.countFormat,this.count),this.element.title=ko(this.titleFormat,this.count),this.element.style.backgroundColor=(t=this.styles.badgeBackground)!==null&&t!==void 0?t:"",this.element.style.color=(i=this.styles.badgeForeground)!==null&&i!==void 0?i:"",this.styles.badgeBorder&&(this.element.style.border="1px solid ".concat(this.styles.badgeBorder))};return t}();var PP="done",WP="active",GP="infinite",VP="infinite-long-running",KP="discrete";var XP=function(t){__extends(i,t);function i(n,r){var e=this;e=t.call(this)||this,e.workedVal=0,e.showDelayedScheduler=e._register(new qs((function(){return Rc(e.element)}),0)),e.longRunningScheduler=e._register(new qs((function(){return e.infiniteLongRunning()}),i.LONG_RUNNING_INFINITE_THRESHOLD)),e.create(n,r);return e}i.prototype.create=function(t,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(i==null?void 0:i.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)};i.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(WP,GP,VP,KP),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()};i.prototype.stop=function(){return this.doDone(!1)};i.prototype.doDone=function(t){var i=this;return this.element.classList.add(PP),this.element.classList.contains(GP)?(this.bit.style.opacity="0",t?setTimeout((function(){return i.off()}),200):this.off()):(this.bit.style.width="inherit",t?setTimeout((function(){return i.off()}),200):this.off()),this};i.prototype.infinite=function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(KP,PP,VP),this.element.classList.add(WP,GP),this.longRunningScheduler.schedule(),this};i.prototype.infiniteLongRunning=function(){this.element.classList.add(VP)};i.prototype.getContainer=function(){return this.element};return i}(Cn);XP.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var qP=Nc;var ZP=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.parent=i,e.onKeyDown=function(t){return Ra(e.findInput.inputBox.inputElement,Ec.KEY_DOWN,t)},e.onDidChange=function(t){return e.findInput.onDidChange(t)},e.container=_c(e.parent,qP(".quick-input-box")),e.findInput=e._register(new JH(e.container,void 0,{label:"",inputBoxStyles:n,toggleStyles:r}));var o=e.findInput.inputBox.inputElement;o.role="combobox",o.ariaHasPopup="menu",o.ariaAutoComplete="list",o.ariaExpanded="true";return e}Object.defineProperty(i.prototype,"value",{get:function(){return this.findInput.getValue()},set:function(t){this.findInput.setValue(t)},enumerable:false,configurable:true});i.prototype.select=function(t){if(t===void 0){t=null}this.findInput.inputBox.select(t)};i.prototype.getSelection=function(){return this.findInput.inputBox.getSelection()};i.prototype.isSelectionAtEnd=function(){return this.findInput.inputBox.isSelectionAtEnd()};Object.defineProperty(i.prototype,"placeholder",{get:function(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""},set:function(t){this.findInput.inputBox.setPlaceHolder(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"password",{get:function(){return this.findInput.inputBox.inputElement.type==="password"},set:function(t){this.findInput.inputBox.inputElement.type=t?"password":"text"},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"enabled",{set:function(t){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"toggles",{set:function(t){this.findInput.setAdditionalToggles(t)},enumerable:false,configurable:true});i.prototype.setAttribute=function(t,i){this.findInput.inputBox.inputElement.setAttribute(t,i)};i.prototype.showDecoration=function(t){t===YI.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:t===YI.Info?1:t===YI.Warning?2:3,content:""})};i.prototype.stylesForType=function(t){return this.findInput.inputBox.stylesForType(t===YI.Info?1:t===YI.Warning?2:3)};i.prototype.setFocus=function(){this.findInput.focus()};i.prototype.layout=function(){this.findInput.inputBox.layout()};return i}(Cn);var $P,tW=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},iW=function(t,i){return function(n,r){i(n,r,t)}};var nW=Nc;var rW=$P=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.options=i,e.layoutService=n,e.instantiationService=r,e.enabled=!0,e.onDidAcceptEmitter=e._register(new Ln),e.onDidCustomEmitter=e._register(new Ln),e.onDidTriggerButtonEmitter=e._register(new Ln),e.keyMods={ctrlCmd:!1,alt:!1},e.controller=null,e.onShowEmitter=e._register(new Ln),e.onShow=e.onShowEmitter.event,e.onHideEmitter=e._register(new Ln),e.onHide=e.onHideEmitter.event,e.idPrefix=i.idPrefix,e._container=i.container,e.styles=i.styles,e._register(Qn.runAndSubscribe(_a,(function(t){var i=t.window,n=t.disposables;return e.registerKeyModsListeners(i,n)}),{window:go,disposables:e._store})),e._register(Fa((function(t){e.ui&&ka(e.ui.container)===t&&(e.reparentUI(e.layoutService.mainContainer),e.layout(e.layoutService.mainContainerDimension,e.layoutService.mainContainerOffset.quickPickTop))})));return e}Object.defineProperty(i.prototype,"container",{get:function(){return this._container},enumerable:false,configurable:true});i.prototype.registerKeyModsListeners=function(t,i){var n=this;var r=function(t){n.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,n.keyMods.alt=t.altKey};for(var e=0,o=[Ec.KEY_DOWN,Ec.KEY_UP,Ec.MOUSE_DOWN];e<o.length;e++){var s=o[e];i.add(Oa(t,s,r,!0))}};i.prototype.getUI=function(t){var i=this;if(this.ui)return t&&ka(this._container)!==ka(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;var n=_c(this._container,nW(".quick-input-widget.show-file-icons"));n.tabIndex=-1,n.style.display="none";var r=dc(n),e=_c(n,nW(".quick-input-titlebar")),o=this._register(new cU(e,{hoverDelegate:this.options.hoverDelegate}));o.domNode.classList.add("quick-input-left-action-bar");var s=_c(e,nW(".quick-input-title")),u=this._register(new cU(e,{hoverDelegate:this.options.hoverDelegate}));u.domNode.classList.add("quick-input-right-action-bar");var a=_c(n,nW(".quick-input-header")),c=_c(a,nW("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",Bt(0,"Toggle all checkboxes")),this._register(Ra(c,Ec.CHANGE,(function(t){var i=c.checked;D.setAllVisibleChecked(i)}))),this._register(Oa(c,Ec.CLICK,(function(t){(t.x||t.y)&&d.setFocus()})));var h=_c(a,nW(".quick-input-description")),f=_c(a,nW(".quick-input-and-message")),l=_c(f,nW(".quick-input-filter")),d=this._register(new ZP(l,this.styles.inputBox,this.styles.toggle));d.setAttribute("aria-describedby","".concat(this.idPrefix,"message"));var v=_c(l,nW(".quick-input-visible-count"));v.setAttribute("aria-live","polite"),v.setAttribute("aria-atomic","true");var A=new JP(v,{countFormat:Bt(0,"{0} Results")},this.styles.countBadge),g=_c(l,nW(".quick-input-count"));g.setAttribute("aria-live","polite");var w=new JP(g,{countFormat:Bt(0,"{0} Selected")},this.styles.countBadge),p=_c(a,nW(".quick-input-action")),m=this._register(new YP(p,this.styles.button));m.label=Bt(0,"OK"),this._register(m.onDidClick((function(t){i.onDidAcceptEmitter.fire()})));var b=_c(a,nW(".quick-input-action")),y=this._register(new YP(b,__assign(__assign({},this.styles.button),{supportIcons:!0})));y.label=Bt(0,"Custom"),this._register(y.onDidClick((function(t){i.onDidCustomEmitter.fire()})));var k=_c(f,nW("#".concat(this.idPrefix,"message.quick-input-message"))),x=this._register(new XP(n,this.styles.progressBar));x.getContainer().classList.add("quick-input-progress");var E=_c(n,nW(".quick-input-html-widget"));E.tabIndex=-1;var B=_c(n,nW(".quick-input-description")),C=this.idPrefix+"list",D=this._register(this.instantiationService.createInstance(OP,n,this.options.hoverDelegate,this.options.linkOpenerDelegate,C));d.setAttribute("aria-controls",C),this._register(D.onDidChangeFocus((function(){var t;d.setAttribute("aria-activedescendant",(t=D.getActiveDescendant())!==null&&t!==void 0?t:"")}))),this._register(D.onChangedAllVisibleChecked((function(t){c.checked=t}))),this._register(D.onChangedVisibleCount((function(t){A.setCount(t)}))),this._register(D.onChangedCheckedCount((function(t){w.setCount(t)}))),this._register(D.onLeave((function(){setTimeout((function(){i.controller&&(d.setFocus(),i.controller instanceof zP&&i.controller.canSelectMany&&D.clearFocus())}),0)})));var M=Mc(n);return this._register(M),this._register(Oa(n,Ec.FOCUS,(function(t){ic(t.relatedTarget,n)||(i.previousFocusElement=t.relatedTarget instanceof HTMLElement?t.relatedTarget:void 0)}),!0)),this._register(M.onDidBlur((function(){i.getUI().ignoreFocusOut||i.options.ignoreFocusOut()||i.hide(XU.Blur),i.previousFocusElement=void 0}))),this._register(Oa(n,Ec.FOCUS,(function(t){d.setFocus()}))),this._register(Ra(n,Ec.KEY_DOWN,(function(t){if(!ic(t.target,E))switch(t.keyCode){case 3:Cc(t,!0),i.enabled&&i.onDidAcceptEmitter.fire();break;case 9:Cc(t,!0),i.hide(XU.Gesture);break;case 2:if(!t.altKey&&!t.ctrlKey&&!t.metaKey){var r=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(n.classList.contains("show-checkboxes")?r.push("input"):r.push("input[type=text]"),i.getUI().list.isDisplayed()&&r.push(".monaco-list"),i.getUI().message&&r.push(".quick-input-message a"),i.getUI().widget){if(ic(t.target,i.getUI().widget))break;r.push(".quick-input-html-widget")}var e=n.querySelectorAll(r.join(", "));t.shiftKey&&t.target===e[0]?(Cc(t,!0),D.clearFocus()):!t.shiftKey&&ic(t.target,e[e.length-1])&&(Cc(t,!0),e[0].focus())}break;case 10:t.ctrlKey&&(Cc(t,!0),i.getUI().list.toggleHover())}}))),this.ui={container:n,styleSheet:r,leftActionBar:o,titleBar:e,title:s,description1:B,description2:h,widget:E,rightActionBar:u,checkAll:c,inputContainer:f,filterContainer:l,inputBox:d,visibleCountContainer:v,visibleCount:A,countContainer:g,count:w,okContainer:p,ok:m,message:k,customButtonContainer:b,customButton:y,list:D,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:function(t){return i.show(t)},hide:function(){return i.hide()},setVisibilities:function(t){return i.setVisibilities(t)},setEnabled:function(t){return i.setEnabled(t)},setContextKey:function(t){return i.options.setContextKey(t)},linkOpenerDelegate:function(t){return i.options.linkOpenerDelegate(t)}},this.updateStyles(),this.ui};i.prototype.reparentUI=function(t){this.ui&&(this._container=t,_c(this._container,this.ui.container))};i.prototype.pick=function(t,i,n){var r=this;if(i===void 0){i={}}if(n===void 0){n=Gn.None}return new Promise((function(e,o){var s=function(t){var n;s=e,(n=i.onKeyMods)===null||n===void 0||n.call(i,u.keyMods),e(t)};if(n.isCancellationRequested)return void s(void 0);var u=r.createQuickPick();var a;var c=[u,u.onDidAccept((function(){if(u.canSelectMany)s(u.selectedItems.slice()),u.hide();else{var t=u.activeItems[0];t&&(s(t),u.hide())}})),u.onDidChangeActive((function(t){var n=t[0];n&&i.onDidFocus&&i.onDidFocus(n)})),u.onDidChangeSelection((function(t){if(!u.canSelectMany){var i=t[0];i&&(s(i),u.hide())}})),u.onDidTriggerItemButton((function(t){return i.onDidTriggerItemButton&&i.onDidTriggerItemButton(__assign(__assign({},t),{removeItem:function(){var i=u.items.indexOf(t.item);if(i!==-1){var n=u.items.slice(),r=n.splice(i,1),e=u.activeItems.filter((function(t){return t!==r[0]})),o=u.keepScrollPosition;u.keepScrollPosition=!0,u.items=n,e&&(u.activeItems=e),u.keepScrollPosition=o}}}))})),u.onDidTriggerSeparatorButton((function(t){var n;return(n=i.onDidTriggerSeparatorButton)===null||n===void 0?void 0:n.call(i,t)})),u.onDidChangeValue((function(t){!a||t||u.activeItems.length===1&&u.activeItems[0]===a||(u.activeItems=[a])})),n.onCancellationRequested((function(){u.hide()})),u.onDidHide((function(){kn(c),s(void 0)}))];u.title=i.title,u.canSelectMany=!!i.canPickMany,u.placeholder=i.placeHolder,u.ignoreFocusOut=!!i.ignoreFocusLost,u.matchOnDescription=!!i.matchOnDescription,u.matchOnDetail=!!i.matchOnDetail,u.matchOnLabel=i.matchOnLabel===void 0||i.matchOnLabel,u.quickNavigate=i.quickNavigate,u.hideInput=!!i.hideInput,u.contextKey=i.contextKey,u.busy=!0,Promise.all([t,i.activeItem]).then((function(t){var i=t[0],n=t[1];a=n,u.busy=!1,u.items=i,u.canSelectMany&&(u.selectedItems=i.filter((function(t){return t.type!=="separator"&&t.picked}))),a&&(u.activeItems=[a])})),u.show(),Promise.resolve(t).then(void 0,(function(t){o(t),u.hide()}))}))};i.prototype.createQuickPick=function(){var t=this.getUI(!0);return new zP(t)};i.prototype.createInputBox=function(){var t=this.getUI(!0);return new UP(t)};i.prototype.show=function(t){var i=this.getUI(!0);this.onShowEmitter.fire();var n=this.controller;this.controller=t,n==null||n.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",Sc(i.widget),i.rightActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration(YI.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),Sc(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,i.inputBox.toggles=void 0;var r=this.options.backKeybindingLabel();LP.tooltip=r?Bt(0,"Back ({0})",r):Bt(0,"Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus()};i.prototype.isVisible=function(){return!!this.ui&&this.ui.container.style.display!=="none"};i.prototype.setVisibilities=function(t){var i=this.getUI();i.title.style.display=t.title?"":"none",i.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",i.description2.style.display=!t.description||t.inputBox||t.checkAll?"none":"",i.checkAll.style.display=t.checkAll?"":"none",i.inputContainer.style.display=t.inputBox?"":"none",i.filterContainer.style.display=t.inputBox?"":"none",i.visibleCountContainer.style.display=t.visibleCount?"":"none",i.countContainer.style.display=t.count?"":"none",i.okContainer.style.display=t.ok?"":"none",i.customButtonContainer.style.display=t.customButton?"":"none",i.message.style.display=t.message?"":"none",i.progressBar.getContainer().style.display=t.progressBar?"":"none",i.list.display(!!t.list),i.container.classList.toggle("show-checkboxes",!!t.checkBox),i.container.classList.toggle("hidden-input",!t.inputBox&&!t.description),this.updateLayout()};i.prototype.setEnabled=function(t){if(t!==this.enabled){this.enabled=t;for(var i=0,n=this.getUI().leftActionBar.viewItems;i<n.length;i++){var r=n[i];r.action.enabled=t}for(var e=0,o=this.getUI().rightActionBar.viewItems;e<o.length;e++){var r=o[e];r.action.enabled=t}this.getUI().checkAll.disabled=!t,this.getUI().inputBox.enabled=t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}};i.prototype.hide=function(t){var i,n;var r=this.controller;if(!r)return;r.willHide(t);var e=(i=this.ui)===null||i===void 0?void 0:i.container,o=e&&!ac(e);if(this.controller=null,this.onHideEmitter.fire(),e&&(e.style.display="none"),!o){var s=this.previousFocusElement;for(;s&&!s.offsetParent;)s=(n=s.parentElement)!==null&&n!==void 0?n:void 0;s!=null&&s.offsetParent?(s.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}r.didHide(t)};i.prototype.layout=function(t,i){this.dimension=t,this.titleBarOffset=i,this.updateLayout()};i.prototype.updateLayout=function(){if(this.ui&&this.isVisible()){this.ui.container.style.top="".concat(this.titleBarOffset,"px");var t=this.ui.container.style,i=Math.min(.62*this.dimension.width,$P.MAX_WIDTH);t.width=i+"px",t.marginLeft="-"+i/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}};i.prototype.applyStyles=function(t){this.styles=t,this.updateStyles()};i.prototype.updateStyles=function(){if(this.ui){var t=this.styles.widget,i=t.quickInputTitleBackground,n=t.quickInputBackground,r=t.quickInputForeground,e=t.widgetBorder,o=t.widgetShadow;this.ui.titleBar.style.backgroundColor=i!==null&&i!==void 0?i:"",this.ui.container.style.backgroundColor=n!==null&&n!==void 0?n:"",this.ui.container.style.color=r!==null&&r!==void 0?r:"",this.ui.container.style.border=e?"1px solid ".concat(e):"",this.ui.container.style.boxShadow=o?"0 0 8px 2px ".concat(o):"",this.ui.list.style(this.styles.list);var s=[];this.styles.pickerGroup.pickerGroupBorder&&s.push(".quick-input-list .quick-input-list-entry { border-top-color:  ".concat(this.styles.pickerGroup.pickerGroupBorder,"; }")),this.styles.pickerGroup.pickerGroupForeground&&s.push(".quick-input-list .quick-input-list-separator { color:  ".concat(this.styles.pickerGroup.pickerGroupForeground,"; }")),this.styles.pickerGroup.pickerGroupForeground&&s.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push("background-color: ".concat(this.styles.keybindingLabel.keybindingLabelBackground,";")),this.styles.keybindingLabel.keybindingLabelBorder&&s.push("border-color: ".concat(this.styles.keybindingLabel.keybindingLabelBorder,";")),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push("border-bottom-color: ".concat(this.styles.keybindingLabel.keybindingLabelBottomBorder,";")),this.styles.keybindingLabel.keybindingLabelShadow&&s.push("box-shadow: inset 0 -1px 0 ".concat(this.styles.keybindingLabel.keybindingLabelShadow,";")),this.styles.keybindingLabel.keybindingLabelForeground&&s.push("color: ".concat(this.styles.keybindingLabel.keybindingLabelForeground,";")),s.push("}"));var u=s.join("\n");u!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=u)}};return i}(Cn);rW.MAX_WIDTH=600,rW=$P=tW([iW(1,AQ),iW(2,fh)],rW);var eW=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},oW=function(t,i){return function(n,r){i(n,r,t)}};var sW=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,r)||this,s.instantiationService=i,s.contextKeyService=n,s.layoutService=e,s.configurationService=o,s._onShow=s._register(new Ln),s._onHide=s._register(new Ln),s.contexts=new Map;return s}Object.defineProperty(i.prototype,"controller",{get:function(){return this._controller||(this._controller=this._register(this.createController())),this._controller},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"hasController",{get:function(){return!!this._controller},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"quickAccess",{get:function(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(iH))),this._quickAccess},enumerable:false,configurable:true});i.prototype.createController=function(t,i){var n=this;if(t===void 0){t=this.layoutService}var r={idPrefix:"quickInput_",container:t.activeContainer,ignoreFocusOut:function(){return!1},backKeybindingLabel:function(){},setContextKey:function(t){return n.setContextKey(t)},linkOpenerDelegate:function(t){n.instantiationService.invokeFunction((function(i){i.get(HO).open(t,{allowCommands:!0,fromUserGesture:!0})}))},returnFocus:function(){return t.focus()},styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(HP))},e=this._register(this.instantiationService.createInstance(rW,__assign(__assign({},r),i)));return e.layout(t.activeContainerDimension,t.activeContainerOffset.quickPickTop),this._register(t.onDidLayoutActiveContainer((function(i){ka(t.activeContainer)===ka(e.container)&&e.layout(i,t.activeContainerOffset.quickPickTop)}))),this._register(t.onDidChangeActiveContainer((function(){e.isVisible()||e.layout(t.activeContainerDimension,t.activeContainerOffset.quickPickTop)}))),this._register(e.onShow((function(){n.resetContextKeys(),n._onShow.fire()}))),this._register(e.onHide((function(){n.resetContextKeys(),n._onHide.fire()}))),e};i.prototype.setContextKey=function(t){var i;t&&(i=this.contexts.get(t),i||(i=new cf(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,i))),i&&i.get()||(this.resetContextKeys(),i==null||i.set(!0))};i.prototype.resetContextKeys=function(){this.contexts.forEach((function(t){t.get()&&t.reset()}))};i.prototype.pick=function(t,i,n){if(i===void 0){i={}}if(n===void 0){n=Gn.None}return this.controller.pick(t,i,n)};i.prototype.createQuickPick=function(){return this.controller.createQuickPick()};i.prototype.createInputBox=function(){return this.controller.createInputBox()};i.prototype.updateStyles=function(){this.hasController&&this.controller.applyStyles(this.computeStyles())};i.prototype.computeStyles=function(){return{widget:{quickInputBackground:ap(sy),quickInputForeground:ap(uy),quickInputTitleBackground:ap(ay),widgetBorder:ap(wm),widgetShadow:ap(gm)},inputBox:Pz,toggle:Jz,countBadge:Gz,button:Hz,progressBar:Yz,keybindingLabel:Uz,list:Kz({listBackground:sy,listFocusBackground:vy,listFocusForeground:ly,listInactiveFocusForeground:ly,listInactiveSelectionIconForeground:dy,listInactiveFocusBackground:vy,listFocusOutline:Bp,listInactiveFocusOutline:Bp}),pickerGroup:{pickerGroupBorder:ap(hy),pickerGroupForeground:ap(cy)}}};return i}(hx);sW=eW([oW(0,fh),oW(1,hf),oW(2,ex),oW(3,AQ),oW(4,sd)],sW);var uW=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},aW=function(t,i){return function(n,r){i(n,r,t)}};var cW=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,n,r,e,new mQ(i.getContainerDomNode(),o),s)||this,u.host=void 0;var a=fW.get(i);if(a){var c=a.widget;u.host={_serviceBrand:void 0,get mainContainer(){return c.getDomNode()},getContainer:function(){return c.getDomNode()},whenContainerStylesLoaded:function(){},get containers(){return[c.getDomNode()]},get activeContainer(){return c.getDomNode()},get mainContainerDimension(){return i.getLayoutInfo()},get activeContainerDimension(){return i.getLayoutInfo()},get onDidLayoutMainContainer(){return i.onDidLayoutChange},get onDidLayoutActiveContainer(){return i.onDidLayoutChange},get onDidLayoutContainer(){return Qn.map(i.onDidLayoutChange,(function(t){return{container:c.getDomNode(),dimension:t}}))},get onDidChangeActiveContainer(){return Qn.None},get onDidAddContainer(){return Qn.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:function(){return i.focus()}}}else u.host=void 0;return u}i.prototype.createController=function(){return t.prototype.createController.call(this,this.host)};return i}(sW);cW=uW([aW(1,fh),aW(2,hf),aW(3,ex),aW(4,dh),aW(5,sd)],cW);var hW=function(){function t(t,i){this.instantiationService=t,this.codeEditorService=i,this.mapEditorToService=new Map}Object.defineProperty(t.prototype,"activeService",{get:function(){var t=this;var i=this.codeEditorService.getFocusedCodeEditor();if(!i)throw new Error("Quick input service needs a focused editor to work.");var n=this.mapEditorToService.get(i);if(!n){var r=n=this.instantiationService.createInstance(cW,i);this.mapEditorToService.set(i,n),bn(i.onDidDispose)((function(){r.dispose(),t.mapEditorToService.delete(i)}))}return n},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"quickAccess",{get:function(){return this.activeService.quickAccess},enumerable:false,configurable:true});t.prototype.pick=function(t,i,n){if(i===void 0){i={}}if(n===void 0){n=Gn.None}return this.activeService.pick(t,i,n)};t.prototype.createQuickPick=function(){return this.activeService.createQuickPick()};t.prototype.createInputBox=function(){return this.activeService.createInputBox()};return t}();hW=uW([aW(0,fh),aW(1,dh)],hW);var fW=function(){function t(t){this.editor=t,this.widget=new lW(this.editor)}t.get=function(i){return i.getContribution(t.ID)};t.prototype.dispose=function(){this.widget.dispose()};return t}();fW.ID="editor.controller.quickInput";var lW=function(){function t(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}t.prototype.getId=function(){return t.ID};t.prototype.getDomNode=function(){return this.domNode};t.prototype.getPosition=function(){return{preference:2}};t.prototype.dispose=function(){this.codeEditor.removeOverlayWidget(this)};return t}();lW.ID="editor.contrib.quickInputWidget",il(fW.ID,fW,4);var dW=function(){function t(t,i,n,r,e){this._parsedThemeRuleBrand=void 0,this.token=t,this.index=i,this.fontStyle=n,this.foreground=r,this.background=e}return t}();var vW=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;var AW=function(){function t(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}t.prototype.getId=function(t){if(t===null)return 0;var i=t.match(vW);if(!i)throw new Error("Illegal value for token color: "+t);t=i[1].toUpperCase();var n=this._color2id.get(t);return n||(n=++this._lastColorId,this._color2id.set(t,n),this._id2color[n]=ZA.fromHex("#"+t),n)};t.prototype.getColorMap=function(){return this._id2color.slice(0)};return t}();var gW=function(){function t(t,i){this._colorMap=t,this._root=i,this._cache=new Map}t.createFromRawTokenTheme=function(t,i){return this.createFromParsedTokenTheme(function(t){if(!t||!Array.isArray(t))return[];var i=[];var n=0;for(var r=0,e=t.length;r<e;r++){var o=t[r];var s=-1;if(typeof o.fontStyle=="string"){s=0;var u=o.fontStyle.split(" ");for(var a=0,c=u.length;a<c;a++)switch(u[a]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4;break;case"strikethrough":s|=8}}var h=null;typeof o.foreground=="string"&&(h=o.foreground);var f=null;typeof o.background=="string"&&(f=o.background),i[n++]=new dW(o.token||"",r,s,h,f)}return i}(t),i)};t.createFromParsedTokenTheme=function(i,n){return function(i,n){i.sort((function(t,i){var n=function(t,i){return t<i?-1:t>i?1:0}(t.token,i.token);return n!==0?n:t.index-i.index}));var r=0,e="000000",o="ffffff";for(;i.length>=1&&i[0].token==="";){var s=i.shift();s.fontStyle!==-1&&(r=s.fontStyle),s.foreground!==null&&(e=s.foreground),s.background!==null&&(o=s.background)}var u=new AW;for(var a=0,c=n;a<c.length;a++){var s=c[a];u.getId(s)}var h=u.getId(e),f=u.getId(o),l=new pW(r,h,f),d=new mW(l);for(var s=0,v=i.length;s<v;s++){var A=i[s];d.insert(A.token,A.fontStyle,u.getId(A.foreground),u.getId(A.background))}return new t(u,d)}(i,n)};t.prototype.getColorMap=function(){return this._colorMap.getColorMap()};t.prototype._match=function(t){return this._root.match(t)};t.prototype.match=function(t,i){var n=this._cache.get(i);if(n===void 0){var r=this._match(i),e=function(t){var i=t.match(wW);if(!i)return 0;switch(i[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(i);n=(r.metadata|e<<8)>>>0,this._cache.set(i,n)}return(n|t)>>>0};return t}();var wW=/\b(comment|string|regex|regexp)\b/;var pW=function(){function t(t,i,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=i,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}t.prototype.clone=function(){return new t(this._fontStyle,this._foreground,this._background)};t.prototype.acceptOverwrite=function(t,i,n){t!==-1&&(this._fontStyle=t),i!==0&&(this._foreground=i),n!==0&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0};return t}();var mW=function(){function t(t){this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}t.prototype.match=function(t){if(t==="")return this._mainRule;var i=t.indexOf(".");var n,r;i===-1?(n=t,r=""):(n=t.substring(0,i),r=t.substring(i+1));var e=this._children.get(n);return e!==void 0?e.match(r):this._mainRule};t.prototype.insert=function(i,n,r,e){if(i==="")return void this._mainRule.acceptOverwrite(n,r,e);var o=i.indexOf(".");var s,u;o===-1?(s=i,u=""):(s=i.substring(0,o),u=i.substring(o+1));var a=this._children.get(s);a===void 0&&(a=new t(this._mainRule.clone()),this._children.set(s,a)),a.insert(u,n,r,e)};return t}();var bW={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:(s={},s[Op]="#FFFFFE",s[Np]="#000000",s[Xp]="#E5EBF1",s[xx]="#D3D3D3",s[_x]="#939393",s[qp]="#ADD6FF4D",s)},yW={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(u={},u[Op]="#1E1E1E",u[Np]="#D4D4D4",u[Xp]="#3A3D41",u[xx]="#404040",u[_x]="#707070",u[qp]="#ADD6FF26",u)},kW={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(a={},a[Op]="#000000",a[Np]="#FFFFFF",a[xx]="#FFFFFF",a[_x]="#FFFFFF",a)},xW={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:(c={},c[Op]="#FFFFFF",c[Np]="#292929",c[xx]="#292929",c[_x]="#292929",c)};var EW,BW;(function(t){t.getDefinition=function(t,i){var n=t.defaults;for(;xh.isThemeIcon(n);){var r=CW.getIcon(n.id);if(!r)return;n=r.defaults}return n}})(EW||(EW={})),function(t){t.toJSONObject=function(t){return{weight:t.weight,style:t.style,src:t.src.map((function(t){return{format:t.format,location:t.location.toString()}}))}},t.fromJSONObject=function(t){var i=function(t){return rt(t)?t:void 0};if(t&&Array.isArray(t.src)&&t.src.every((function(t){return rt(t.format)&&rt(t.location)})))return{weight:i(t.weight),style:i(t.style),src:t.src.map((function(t){return{format:t.format,location:zr.parse(t.location)}}))}}}(BW||(BW={}));var CW=new(function(){function t(){this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:Bt(0,"The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:Bt(0,"The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:"^".concat(xh.iconNameExpression,"$"),enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}t.prototype.registerIcon=function(t,i,n,r){var e=this.iconsById[t];if(e){if(n&&!e.description){e.description=n,this.iconSchema.properties[t].markdownDescription="".concat(n," $(").concat(t,")");var o=this.iconReferenceSchema.enum.indexOf(t);o!==-1&&(this.iconReferenceSchema.enumDescriptions[o]=n),this._onDidChange.fire()}return e}var s={id:t,description:n,defaults:i,deprecationMessage:r};this.iconsById[t]=s;var u={$ref:"#/definitions/icons"};return r&&(u.deprecationMessage=r),n&&(u.markdownDescription="".concat(n,": $(").concat(t,")")),this.iconSchema.properties[t]=u,this.iconReferenceSchema.enum.push(t),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:t}};t.prototype.getIcons=function(){var t=this;return Object.keys(this.iconsById).map((function(i){return t.iconsById[i]}))};t.prototype.getIcon=function(t){return this.iconsById[t]};t.prototype.getIconSchema=function(){return this.iconSchema};t.prototype.toString=function(){var t=this;var i=function(t,i){return t.id.localeCompare(i.id)},n=function(i){for(;xh.isThemeIcon(i.defaults);)i=t.iconsById[i.defaults.id];return"codicon codicon-".concat(i?i.id:"")},r=[];r.push("| preview     | identifier                        | default codicon ID                | description"),r.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");var e=Object.keys(this.iconsById).map((function(i){return t.iconsById[i]}));for(var o=0,s=e.filter((function(t){return!!t.description})).sort(i);o<s.length;o++){var u=s[o];r.push('|<i class="'.concat(n(u),'"></i>|').concat(u.id,"|").concat(xh.isThemeIcon(u.defaults)?u.defaults.id:u.id,"|").concat(u.description||"","|"))}r.push("| preview     | identifier                        "),r.push("| ----------- | --------------------------------- |");for(var a=0,c=e.filter((function(t){return!xh.isThemeIcon(t.defaults)})).sort(i);a<c.length;a++){var u=c[a];r.push('|<i class="'.concat(n(u),'"></i>|').concat(u.id,"|"))}return r.join("\n")};return t}());function DW(t,i,n,r){return CW.registerIcon(t,i,n,r)}function MW(){return CW}yf.add("base.contributions.icons",CW),function(){var t=ne();for(var i in t){var n="\\"+t[i].toString(16);CW.registerIcon(i,{fontCharacter:n})}}();var _W="vscode://schemas/icons",FW=yf.as(pd);FW.registerSchema(_W,CW.getIconSchema());var SW=new qs((function(){return FW.notifySchemaChanged(_W)}),200);CW.onDidChange((function(){SW.isScheduled()||SW.schedule()}));var IW=DW("widget-close",re.close,Bt(0,"Icon for the close action in widgets."));DW("goto-previous-location",re.arrowUp,Bt(0,"Icon for goto previous editor location.")),DW("goto-next-location",re.arrowDown,Bt(0,"Icon for goto next editor location.")),xh.modify(re.sync,"spin"),xh.modify(re.loading,"spin");var QW=function(){function t(){}t.prototype.getIcon=function(t){var i=MW();var n=t.defaults;for(;xh.isThemeIcon(n);){var r=i.getIcon(n.id);if(!r)return;n=r.defaults}return n};return t}();var OW="vs",NW="vs-dark",RW="hc-black",TW="hc-light",LW=yf.as(cp),jW=yf.as(ux);var zW=function(){function t(t,i){this.semanticHighlighting=!1,this.themeData=i;var n=i.base;t.length>0?(UW(t)?this.id=t:this.id=n+" "+t,this.themeName=t):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}Object.defineProperty(t.prototype,"base",{get:function(){return this.themeData.base},enumerable:false,configurable:true});t.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)};t.prototype.getColors=function(){if(!this.colors){var t=new Map;for(var i in this.themeData.colors)t.set(i,ZA.fromHex(this.themeData.colors[i]));if(this.themeData.inherit){var i=HW(this.themeData.base);for(var n in i.colors)t.has(n)||t.set(n,ZA.fromHex(i.colors[n]))}this.colors=t}return this.colors};t.prototype.getColor=function(t,i){return this.getColors().get(t)||(i!==!1?this.getDefault(t):void 0)};t.prototype.getDefault=function(t){var i=this.defaultColors[t];return i||(i=LW.resolveDefaultColor(t,this),this.defaultColors[t]=i,i)};t.prototype.defines=function(t){return this.getColors().has(t)};Object.defineProperty(t.prototype,"type",{get:function(){switch(this.base){case OW:return jy.LIGHT;case RW:return jy.HIGH_CONTRAST_DARK;case TW:return jy.HIGH_CONTRAST_LIGHT;default:return jy.DARK}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var t=[],i=[];if(this.themeData.inherit){var n=HW(this.themeData.base);t=n.rules,n.encodedTokensColors&&(i=n.encodedTokensColors)}var r=this.themeData.colors["editor.foreground"],e=this.themeData.colors["editor.background"];if(r||e){var n={token:""};r&&(n.foreground=r),e&&(n.background=e),t.push(n)}t=t.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(i=this.themeData.encodedTokensColors),this._tokenTheme=gW.createFromRawTokenTheme(t,i)}return this._tokenTheme},enumerable:false,configurable:true});t.prototype.getTokenStyleMetadata=function(t,i,n){var r=this.tokenTheme._match([t].concat(i).join(".")).metadata,e=Qg.getForeground(r),o=Qg.getFontStyle(r);return{foreground:e,italic:!!(1&o),bold:!!(2&o),underline:!!(4&o),strikethrough:!!(8&o)}};return t}();function UW(t){return t===OW||t===NW||t===RW||t===TW}function HW(t){switch(t){case OW:return bW;case NW:return yW;case RW:return kW;case TW:return xW}}function YW(t){var i=HW(t);return new zW(t,i)}var JW=lh("themeService");var PW=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},WW=function(t,i){return function(n,r){i(n,r,t)}};var GW=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._contextKeyService=i,e._layoutService=n,e._configurationService=r,e._accessibilitySupport=0,e._onDidChangeScreenReaderOptimized=new Ln,e._onDidChangeReducedMotion=new Ln,e._accessibilityModeEnabledContext=Xw.bindTo(e._contextKeyService);var o=function(){return e._accessibilityModeEnabledContext.set(e.isScreenReaderOptimized())};e._register(e._configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration("editor.accessibilitySupport")&&(o(),e._onDidChangeScreenReaderOptimized.fire()),t.affectsConfiguration("workbench.reduceMotion")&&(e._configMotionReduced=e._configurationService.getValue("workbench.reduceMotion"),e._onDidChangeReducedMotion.fire())}))),o(),e._register(e.onDidChangeScreenReaderOptimized((function(){return o()})));var s=go.matchMedia("(prefers-reduced-motion: reduce)");e._systemMotionReduced=s.matches,e._configMotionReduced=e._configurationService.getValue("workbench.reduceMotion"),e.initReducedMotionListeners(s);return e}i.prototype.initReducedMotionListeners=function(t){var i=this;this._register(Oa(t,"change",(function(){i._systemMotionReduced=t.matches,i._configMotionReduced==="auto"&&i._onDidChangeReducedMotion.fire()})));var n=function(){var t=i.isMotionReduced();i._layoutService.mainContainer.classList.toggle("reduce-motion",t),i._layoutService.mainContainer.classList.toggle("enable-motion",!t)};n(),this._register(this.onDidChangeReducedMotion((function(){return n()})))};Object.defineProperty(i.prototype,"onDidChangeScreenReaderOptimized",{get:function(){return this._onDidChangeScreenReaderOptimized.event},enumerable:false,configurable:true});i.prototype.isScreenReaderOptimized=function(){var t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2};Object.defineProperty(i.prototype,"onDidChangeReducedMotion",{get:function(){return this._onDidChangeReducedMotion.event},enumerable:false,configurable:true});i.prototype.isMotionReduced=function(){var t=this._configMotionReduced;return t==="on"||t==="auto"&&this._systemMotionReduced};i.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport};return i}(Cn);GW=PW([WW(0,hf),WW(1,AQ),WW(2,sd)],GW);var VW,KW,XW=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},qW=function(t,i){return function(n,r){i(n,r,t)}};var ZW=function(){function t(t,i){this._commandService=t,this._hiddenStates=new $W(i)}t.prototype.createMenu=function(t,i,n){return new iG(t,this._hiddenStates,__assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,i)};t.prototype.resetHiddenStates=function(t){this._hiddenStates.reset(t)};return t}();ZW=XW([qW(0,Eh),qW(1,Lz)],ZW);var $W=VW=function(){function t(t){var i=this;this._storageService=t,this._disposables=new Bn,this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{var n=t.get(VW._key,0,"{}");this._data=JSON.parse(n)}catch(t){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue(0,VW._key,this._disposables)((function(){if(!i._ignoreChangeEvent)try{var n=t.get(VW._key,0,"{}");i._data=JSON.parse(n)}catch(n){console.log("FAILED to read storage after UPDATE",n)}i._onDidChange.fire()})))}t.prototype.dispose=function(){this._onDidChange.dispose(),this._disposables.dispose()};t.prototype._isHiddenByDefault=function(t,i){var n;return(n=this._hiddenByDefaultCache.get("".concat(t.id,"/").concat(i)))!==null&&n!==void 0&&n};t.prototype.setDefaultState=function(t,i,n){this._hiddenByDefaultCache.set("".concat(t.id,"/").concat(i),n)};t.prototype.isHidden=function(t,i){var n,r;var e=this._isHiddenByDefault(t,i),o=(r=(n=this._data[t.id])===null||n===void 0?void 0:n.includes(i))!==null&&r!==void 0&&r;return e?!o:o};t.prototype.updateHidden=function(t,i,n){this._isHiddenByDefault(t,i)&&(n=!n);var r=this._data[t.id];if(n)r?r.indexOf(i)<0&&r.push(i):this._data[t.id]=[i];else if(r){var e=r.indexOf(i);e>=0&&function(t,i){var n=t.length-1;i<n&&(t[i]=t[n]),t.pop()}(r,e),r.length===0&&delete this._data[t.id]}this._persist()};t.prototype.reset=function(t){if(t===void 0)this._data=Object.create(null),this._persist();else{for(var i=0,n=t;i<n.length;i++){var r=n[i].id;this._data[r]&&delete this._data[r]}this._persist()}};t.prototype._persist=function(){try{this._ignoreChangeEvent=!0;var t=JSON.stringify(this._data);this._storageService.store(VW._key,t,0,0)}finally{this._ignoreChangeEvent=!1}};return t}();$W._key="menu.hiddenCommands",$W=VW=XW([qW(0,Lz)],$W);var tG=KW=function(){function t(t,i,n,r,e){this._id=t,this._hiddenStates=i,this._collectContextKeysForSubmenus=n,this._commandService=r,this._contextKeyService=e,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}Object.defineProperty(t.prototype,"structureContextKeys",{get:function(){return this._structureContextKeys},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"preconditionContextKeys",{get:function(){return this._preconditionContextKeys},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"toggledContextKeys",{get:function(){return this._toggledContextKeys},enumerable:false,configurable:true});t.prototype.refresh=function(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();var i=If.getMenuItems(this._id);var n;i.sort(t._compareMenuItems);for(var r=0,e=i;r<e.length;r++){var o=e[r];var s=o.group||"";n&&n[0]===s||(n=[s,[]],this._menuGroups.push(n)),n[1].push(o),this._collectContextKeys(o)}};t.prototype._collectContextKeys=function(i){if(t._fillInKbExprKeys(i.when,this._structureContextKeys),Mf(i)){if(i.command.precondition&&t._fillInKbExprKeys(i.command.precondition,this._preconditionContextKeys),i.command.toggled){var n=i.command.toggled.condition||i.command.toggled;t._fillInKbExprKeys(n,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&If.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)};t.prototype.createActionGroups=function(i){var n=[];for(var r=0,e=this._menuGroups;r<e.length;r++){var o=e[r];var s=o[0],u=o[1],a=[];for(var c=0,h=u;c<h.length;c++){var f=h[c];if(this._contextKeyService.contextMatchesRules(f.when)){var l=Mf(f);l&&this._hiddenStates.setDefaultState(this._id,f.command.id,!!f.isHiddenByDefault);var d=nG(this._id,l?f.command:f,this._hiddenStates);if(l)a.push(new Of(f.command,f.alt,i,d,this._contextKeyService,this._commandService));else{var v=new t(f.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(i),A=ph.join.apply(ph,v.map((function(t){return t[1]})));A.length>0&&a.push(new Qf(f,d,A))}}}a.length>0&&n.push([s,a])}return n};t._fillInKbExprKeys=function(t,i){if(t)for(var n=0,r=t.keys();n<r.length;n++){var e=r[n];i.add(e)}};t._compareMenuItems=function(i,n){var r=i.group,e=n.group;if(r!==e){if(!r)return 1;if(!e||r==="navigation")return-1;if(e==="navigation")return 1;var o=r.localeCompare(e);if(o!==0)return o}var s=i.order||0,u=n.order||0;return s<u?-1:s>u?1:t._compareTitles(Mf(i)?i.command.title:i.title,Mf(n)?n.command.title:n.title)};t._compareTitles=function(t,i){var n=typeof t=="string"?t:t.original,r=typeof i=="string"?i:i.original;return n.localeCompare(r)};return t}();tG=KW=XW([qW(3,Eh),qW(4,hf)],tG);var iG=function(){function t(t,i,n,r,e){var o=this;this._disposables=new Bn,this._menuInfo=new tG(t,i,n.emitEventsForSubmenuChanges,r,e);var s=new qs((function(){o._menuInfo.refresh(),o._onDidChange.fire({menu:o,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),n.eventDebounceDelay);this._disposables.add(s),this._disposables.add(If.onDidChangeMenu((function(i){i.has(t)&&s.schedule()})));var u=this._disposables.add(new Bn);this._onDidChange=new Un({onWillAddFirstListener:function(){u.add(e.onDidChangeContext((function(t){var i=t.affectsSome(o._menuInfo.structureContextKeys),n=t.affectsSome(o._menuInfo.preconditionContextKeys),r=t.affectsSome(o._menuInfo.toggledContextKeys);(i||n||r)&&o._onDidChange.fire({menu:o,isStructuralChange:i,isEnablementChange:n,isToggleChange:r})}))),u.add(i.onDidChange((function(t){o._onDidChange.fire({menu:o,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))},onDidRemoveLastListener:u.clear.bind(u),delay:n.eventDebounceDelay,merge:function(t){var i=!1,n=!1,r=!1;for(var e=0,s=t;e<s.length;e++){var u=s[e];if(i=i||u.isStructuralChange,n=n||u.isEnablementChange,r=r||u.isToggleChange,i&&n&&r)break}return{menu:o,isStructuralChange:i,isEnablementChange:n,isToggleChange:r}}}),this.onDidChange=this._onDidChange.event}t.prototype.getActions=function(t){return this._menuInfo.createActionGroups(t)};t.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose()};return t}();function nG(t,i,n){var r=i.submenu!==void 0?i.submenu.id:i.id,e=typeof i.title=="string"?i.title:i.title.value,o=yh({id:"hide/".concat(t.id,"/").concat(r),label:Bt(0,"Hide '{0}'",e),run:function(){n.updateHidden(t,r,!0)}}),s=yh({id:"toggle/".concat(t.id,"/").concat(r),label:e,get checked(){return!n.isHidden(t,r)},run:function(){n.updateHidden(t,r,!!this.checked)}});return{hide:o,toggle:s,get isHidden(){return!s.checked}}}iG=XW([qW(3,Eh),qW(4,hf)],iG);var rG,eG=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},oG=function(t,i){return function(n,r){i(n,r,t)}};var sG=rG=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.layoutService=i,r.logService=n,r.mapTextToType=new Map,r.findText="",r.resources=[],r.resourcesStateHash=void 0,(ys||ks)&&r.installWebKitWriteTextWorkaround(),r._register(Qn.runAndSubscribe(_a,(function(t){var i=t.window,n=t.disposables;n.add(Oa(i.document,"copy",(function(){return r.clearResources()})))}),{window:go,disposables:r._store}));return r}i.prototype.installWebKitWriteTextWorkaround=function(){var t=this;var i=function(){var i=new nu;t.webKitPendingClipboardWritePromise&&!t.webKitPendingClipboardWritePromise.isSettled&&t.webKitPendingClipboardWritePromise.cancel(),t.webKitPendingClipboardWritePromise=i,navigator.clipboard.write([new ClipboardItem({"text/plain":i.p})]).catch((function(n){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){n instanceof Error&&n.name==="NotAllowedError"&&i.isRejected||this.logService.error(n);return[2]}))}))}))};this._register(Qn.runAndSubscribe(this.layoutService.onDidAddContainer,(function(t){var n=t.container,r=t.disposables;r.add(Oa(n,"click",i)),r.add(Oa(n,"keydown",i))}),{container:this.layoutService.mainContainer,disposables:this._store}))};i.prototype.writeText=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:if(!(this.writeResources([]),i))return[3,1];this.mapTextToType.set(i,t);return[3,6];case 1:if(this.webKitPendingClipboardWritePromise)return[2,this.webKitPendingClipboardWritePromise.complete(t)];r.label=2;case 2:r.trys.push([2,4,,5]);return[4,navigator.clipboard.writeText(t)];case 3:return[2,r.sent()];case 4:n=r.sent();console.error(n);return[3,5];case 5:this.fallbackWriteText(t);r.label=6;case 6:return[2]}}))}))};i.prototype.fallbackWriteText=function(t){var i=cc(),n=i.activeElement,r=i.body.appendChild(Nc("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=t,r.focus(),r.select(),i.execCommand("copy"),n instanceof HTMLElement&&n.focus(),i.body.removeChild(r)};i.prototype.readText=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:if(t)return[2,this.mapTextToType.get(t)||""];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,navigator.clipboard.readText()];case 2:return[2,n.sent()];case 3:i=n.sent();console.error(i);return[3,4];case 4:return[2,""]}}))}))};i.prototype.readFindText=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.findText]}))}))};i.prototype.writeFindText=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.findText=t;return[2]}))}))};i.prototype.writeResources=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){switch(r.label){case 0:if(!(t.length===0))return[3,1];i=this.clearResources();return[3,3];case 1:this.resources=t;n=this;return[4,this.computeResourcesStateHash()];case 2:i=n.resourcesStateHash=r.sent();r.label=3;case 3:i;return[2]}}))}))};i.prototype.readResources=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.computeResourcesStateHash()];case 1:t=i.sent();return[2,(this.resourcesStateHash!==t&&this.clearResources(),this.resources)]}}))}))};i.prototype.computeResourcesStateHash=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:if(!(this.resources.length!==0))return[3,2];t=la;return[4,this.readText()];case 1:return[2,t.apply(void 0,[i.sent().substring(0,rG.MAX_RESOURCE_STATE_SOURCE_LENGTH)])];case 2:return[2]}}))}))};i.prototype.clearResources=function(){this.resources=[],this.resourcesStateHash=void 0};return i}(Cn);sG.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,sG=rG=eG([oG(0,AQ),oG(1,Lf)],sG);var uG=lh("clipboardService");var aG=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},cG=function(t,i){return function(n,r){i(n,r,t)}};var hG="data-keybinding-context";var fG=function(){function t(t,i){this._id=t,this._parent=i,this._value=Object.create(null),this._value._contextId=t}Object.defineProperty(t.prototype,"value",{get:function(){return __assign({},this._value)},enumerable:false,configurable:true});t.prototype.setValue=function(t,i){return this._value[t]!==i&&(this._value[t]=i,!0)};t.prototype.removeValue=function(t){return t in this._value&&(delete this._value[t],!0)};t.prototype.getValue=function(t){var i=this._value[t];return i===void 0&&this._parent?this._parent.getValue(t):i};return t}();var lG=function(t){__extends(i,t);function i(){return t.call(this,-1,null)||this}i.prototype.setValue=function(t,i){return!1};i.prototype.removeValue=function(t){return!1};i.prototype.getValue=function(t){};return i}(fG);lG.INSTANCE=new lG;var dG=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,null)||this,e._configurationService=n,e._values=oL.forConfigKeys(),e._listener=e._configurationService.onDidChangeConfiguration((function(t){if(t.source===7){var i=Array.from(e._values,(function(t){var i=t[0];return i}));e._values.clear(),r.fire(new gG(i))}else{var i=[];for(var n=0,o=t.affectedKeys;n<o.length;n++){var s=o[n];var u="config.".concat(s),a=e._values.findSuperstr(u);a!==void 0&&(i.push.apply(i,vi.map(a,(function(t){var i=t[0];return i}))),e._values.deleteSuperstr(u)),e._values.has(u)&&(i.push(u),e._values.delete(u))}r.fire(new gG(i))}}));return e}i.prototype.dispose=function(){this._listener.dispose()};i.prototype.getValue=function(n){if(n.indexOf(i._keyPrefix)!==0)return t.prototype.getValue.call(this,n);if(this._values.has(n))return this._values.get(n);var r=n.substr(i._keyPrefix.length),e=this._configurationService.getValue(r);var o;switch(typeof e){case"number":case"boolean":case"string":o=e;break;default:o=Array.isArray(e)?JSON.stringify(e):e}return this._values.set(n,o),o};i.prototype.setValue=function(i,n){return t.prototype.setValue.call(this,i,n)};i.prototype.removeValue=function(i){return t.prototype.removeValue.call(this,i)};return i}(fG);dG._keyPrefix="config.";var vG=function(){function t(t,i,n){this._service=t,this._key=i,this._defaultValue=n,this.reset()}t.prototype.set=function(t){this._service.setContext(this._key,t)};t.prototype.reset=function(){this._defaultValue===void 0?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)};t.prototype.get=function(){return this._service.getContextKeyValue(this._key)};return t}();var AG=function(){function t(t){this.key=t}t.prototype.affectsSome=function(t){return t.has(this.key)};t.prototype.allKeysContainedIn=function(t){return this.affectsSome(t)};return t}();var gG=function(){function t(t){this.keys=t}t.prototype.affectsSome=function(t){for(var i=0,n=this.keys;i<n.length;i++){var r=n[i];if(t.has(r))return!0}return!1};t.prototype.allKeysContainedIn=function(t){return this.keys.every((function(i){return t.has(i)}))};return t}();var wG=function(){function t(t){this.events=t}t.prototype.affectsSome=function(t){for(var i=0,n=this.events;i<n.length;i++){var r=n[i];if(r.affectsSome(t))return!0}return!1};t.prototype.allKeysContainedIn=function(t){return this.events.every((function(i){return i.allKeysContainedIn(t)}))};return t}();var pG=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._onDidChangeContext=n._register(new zn({merge:function(t){return new wG(t)}})),n.onDidChangeContext=n._onDidChangeContext.event,n._isDisposed=!1,n._myContextId=i;return n}i.prototype.createKey=function(t,i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new vG(this,t,i)};i.prototype.bufferChangeEvents=function(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}};i.prototype.createScoped=function(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new bG(this,t)};i.prototype.contextMatchesRules=function(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var i=this.getContextValuesContainer(this._myContextId);return!t||t.evaluate(i)};i.prototype.getContextKeyValue=function(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)};i.prototype.setContext=function(t,i){if(this._isDisposed)return;var n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(t,i)&&this._onDidChangeContext.fire(new AG(t))};i.prototype.removeContext=function(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new AG(t))};i.prototype.getContext=function(t){return this._isDisposed?lG.INSTANCE:this.getContextValuesContainer(function(t){for(;t;){if(t.hasAttribute(hG)){var i=t.getAttribute(hG);return i?parseInt(i,10):NaN}t=t.parentElement}return 0}(t))};i.prototype.dispose=function(){t.prototype.dispose.call(this),this._isDisposed=!0};return i}(Cn);var mG=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,0)||this,n._contexts=new Map,n._lastContextId=0;var r=n._register(new dG(n._myContextId,i,n._onDidChangeContext));n._contexts.set(n._myContextId,r);return n}i.prototype.getContextValuesContainer=function(t){return this._isDisposed?lG.INSTANCE:this._contexts.get(t)||lG.INSTANCE};i.prototype.createChildContext=function(t){if(t===void 0){t=this._myContextId}if(this._isDisposed)throw new Error("ContextKeyService has been disposed");var i=++this._lastContextId;return this._contexts.set(i,new fG(i,this.getContextValuesContainer(t))),i};i.prototype.disposeContext=function(t){this._isDisposed||this._contexts.delete(t)};return i}(pG);mG=aG([cG(0,sd)],mG);var bG=function(t){__extends(i,t);function i(i,n){var r=this;if(r=t.call(this,i.createChildContext())||this,r._parentChangeListener=r._register(new Dn),r._parent=i,r._updateParentChangeListener(),r._domNode=n,r._domNode.hasAttribute(hG)){var e="";r._domNode.classList&&(e=Array.from(r._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}r._domNode.setAttribute(hG,String(r._myContextId));return r}i.prototype._updateParentChangeListener=function(){var t=this;this._parentChangeListener.value=this._parent.onDidChangeContext((function(i){var n=t._parent.getContextValuesContainer(t._myContextId).value;var r;r=n,i.allKeysContainedIn(new Set(Object.keys(r)))||t._onDidChangeContext.fire(i)}))};i.prototype.dispose=function(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(hG),t.prototype.dispose.call(this))};i.prototype.getContextValuesContainer=function(t){return this._isDisposed?lG.INSTANCE:this._parent.getContextValuesContainer(t)};i.prototype.createChildContext=function(t){if(t===void 0){t=this._myContextId}if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)};i.prototype.disposeContext=function(t){this._isDisposed||this._parent.disposeContext(t)};return i}(pG);Bh.registerCommand("_setContext",(function(t,i,n){t.get(hf).createKey(String(i),function(t){return pt(t,(function(t){return typeof t=="object"&&t.$mid===1?zr.revive(t).toString():t instanceof zr?t.toString():void 0}))}(n))})),Bh.registerCommand({id:"getContextKeyInfo",handler:function(){return __spreadArray([],cf.all(),true).sort((function(t,i){return t.key.localeCompare(i.key)}))},metadata:{description:Bt(0,"A command that returns information about context keys"),args:[]}}),Bh.registerCommand("_generateContextKeyInfo",(function(){var t=[],i=new Set;for(var n=0,r=cf.all();n<r.length;n++){var e=r[n];i.has(e.key)||(i.add(e.key),t.push(e))}t.sort((function(t,i){return t.key.localeCompare(i.key)})),console.log(JSON.stringify(t,void 0,2))}));var yG=function(){function t(t,i){this.key=t,this.data=i,this.incoming=new Map,this.outgoing=new Map}return t}();var kG=function(){function t(t){this._hashFn=t,this._nodes=new Map}t.prototype.roots=function(){var t=[];for(var i=0,n=this._nodes.values();i<n.length;i++){var r=n[i];r.outgoing.size===0&&t.push(r)}return t};t.prototype.insertEdge=function(t,i){var n=this.lookupOrInsertNode(t),r=this.lookupOrInsertNode(i);n.outgoing.set(r.key,r),r.incoming.set(n.key,n)};t.prototype.removeNode=function(t){var i=this._hashFn(t);this._nodes.delete(i);for(var n=0,r=this._nodes.values();n<r.length;n++){var e=r[n];e.outgoing.delete(i),e.incoming.delete(i)}};t.prototype.lookupOrInsertNode=function(t){var i=this._hashFn(t);var n=this._nodes.get(i);return n||(n=new yG(i,t),this._nodes.set(i,n)),n};t.prototype.isEmpty=function(){return this._nodes.size===0};t.prototype.toString=function(){var t=[];for(var i=0,n=this._nodes;i<n.length;i++){var r=n[i],e=r[0],o=r[1];t.push("".concat(e,"\n\t(-> incoming)[").concat(__spreadArray([],o.incoming.keys(),true).join(", "),"]\n\t(outgoing ->)[").concat(__spreadArray([],o.outgoing.keys(),true).join(","),"]\n"))}return t.join("\n")};t.prototype.findCycleSlow=function(){for(var t=0,i=this._nodes;t<i.length;t++){var n=i[t],r=n[0],e=n[1];var o=new Set([r]),s=this._findCycle(e,o);if(s)return s}};t.prototype._findCycle=function(t,i){for(var n=0,r=t.outgoing;n<r.length;n++){var e=r[n],o=e[0],s=e[1];if(i.has(o))return __spreadArray(__spreadArray([],i,true),[o],false).join(" -> ");i.add(o);var u=this._findCycle(s,i);if(u)return u;i.delete(o)}};return t}();var xG=function(t){__extends(i,t);function i(i){var n=this;var r;n=t.call(this,"cyclic dependency between services")||this,n.message=(r=i.findCycleSlow())!==null&&r!==void 0?r:"UNABLE to detect cycle, dumping graph: \n".concat(i.toString());return n}return i}(Error);var EG=function(){function t(t,i,n,r){if(t===void 0){t=new UI}if(i===void 0){i=!1}if(r===void 0){r=!1}var e;this._services=t,this._strict=i,this._parent=n,this._enableTracing=r,this._activeInstantiations=new Set,this._services.set(fh,this),this._globalGraph=r?(e=n==null?void 0:n._globalGraph)!==null&&e!==void 0?e:new kG((function(t){return t})):void 0}t.prototype.createChild=function(i){return new t(i,this._strict,this,this._enableTracing)};t.prototype.invokeFunction=function(t){var i=this;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var e=BG.traceInvocation(this._enableTracing,t);var o=!1;try{return t.apply(void 0,__spreadArray([{get:function(t){if(o)throw gn("service accessor is only valid during the invocation of its target method");var n=i._getOrCreateServiceInstance(t,e);if(!n)throw new Error("[invokeFunction] unknown service '".concat(t,"'"));return n}}],n,false))}finally{o=!0,e.stop()}};t.prototype.createInstance=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r,e;return t instanceof dd?(r=BG.traceCreation(this._enableTracing,t.ctor),e=this._createInstance(t.ctor,t.staticArguments.concat(i),r)):(r=BG.traceCreation(this._enableTracing,t),e=this._createInstance(t,i,r)),r.stop(),e};t.prototype._createInstance=function(t,i,n){if(i===void 0){i=[]}var r=hh.getServiceDependencies(t).sort((function(t,i){return t.index-i.index})),e=[];for(var o=0,s=r;o<s.length;o++){var u=s[o];var a=this._getOrCreateServiceInstance(u.id,n);a||this._throwIfStrict("[createInstance] ".concat(t.name," depends on UNKNOWN service ").concat(u.id,"."),!1),e.push(a)}var c=r.length>0?r[0].index:i.length;if(i.length!==c){console.trace("[createInstance] First service dependency of ".concat(t.name," at position ").concat(c+1," conflicts with ").concat(i.length," static arguments"));var u=c-i.length;i=u>0?i.concat(new Array(u)):i.slice(0,c)}return Reflect.construct(t,i.concat(e))};t.prototype._setServiceInstance=function(t,i){if(this._services.get(t)instanceof dd)this._services.set(t,i);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(t,i)}};t.prototype._getServiceInstanceOrDescriptor=function(t){var i=this._services.get(t);return!i&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):i};t.prototype._getOrCreateServiceInstance=function(t,i){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));var n=this._getServiceInstanceOrDescriptor(t);return n instanceof dd?this._safeCreateAndCacheServiceInstance(t,n,i.branch(t,!0)):(i.branch(t,!1),n)};t.prototype._safeCreateAndCacheServiceInstance=function(t,i,n){if(this._activeInstantiations.has(t))throw new Error("illegal state - RECURSIVELY instantiating service '".concat(t,"'"));this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,i,n)}finally{this._activeInstantiations.delete(t)}};t.prototype._createAndCacheServiceInstance=function(t,i,n){var r;var e=new kG((function(t){return t.id.toString()}));var o=0;var s=[{id:t,desc:i,_trace:n}];for(;s.length;){var u=s.pop();if(e.lookupOrInsertNode(u),o++>1e3)throw new xG(e);for(var a=0,c=hh.getServiceDependencies(u.desc.ctor);a<c.length;a++){var h=c[a];var f=this._getServiceInstanceOrDescriptor(h.id);if(f||this._throwIfStrict("[createInstance] ".concat(t," depends on ").concat(h.id," which is NOT registered."),!0),(r=this._globalGraph)===null||r===void 0||r.insertEdge(String(u.id),String(h.id)),f instanceof dd){var l={id:h.id,desc:f,_trace:u._trace.branch(h.id,!0)};e.insertEdge(u,l),s.push(l)}}}for(;;){var u=e.roots();if(u.length===0){if(!e.isEmpty())throw new xG(e);break}for(var d=0,v=u;d<v.length;d++){var h=v[d].data;if(this._getServiceInstanceOrDescriptor(h.id)instanceof dd){var A=this._createServiceInstanceWithOwner(h.id,h.desc.ctor,h.desc.staticArguments,h.desc.supportsDelayedInstantiation,h._trace);this._setServiceInstance(h.id,A)}e.removeNode(h)}}return this._getServiceInstanceOrDescriptor(t)};t.prototype._createServiceInstanceWithOwner=function(t,i,n,r,e){if(n===void 0){n=[]}if(this._services.get(t)instanceof dd)return this._createServiceInstance(t,i,n,r,e);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,i,n,r,e);throw new Error("illegalState - creating UNKNOWN service instance ".concat(i.name))};t.prototype._createServiceInstance=function(i,n,r,e,o){if(r===void 0){r=[]}if(e){var s=new t(void 0,this._strict,this,this._enableTracing);s._globalGraphImplicitDependency=String(i);var u=new Map,a=new iu((function(){var t=s._createInstance(n,r,o);for(var i=0,e=u;i<e.length;i++){var a=e[i],c=a[0],h=a[1];var f=t[c];if(typeof f=="function")for(var l=0,d=h;l<d.length;l++){var v=d[l];v.disposable=f.apply(t,v.listener)}}return u.clear(),t}));return new Proxy(Object.create(null),{get:function(t,i){if(!a.isInitialized&&typeof i=="string"&&(i.startsWith("onDid")||i.startsWith("onWill"))){var n=u.get(i);return n||(n=new gi,u.set(i,n)),function(t,r,e){if(a.isInitialized)return a.value[i](t,r,e);{var o={listener:[t,r,e],disposable:void 0},s=n.push(o);return En((function(){var t;s(),(t=o.disposable)===null||t===void 0||t.dispose()}))}}}if(i in t)return t[i];var r=a.value;var e=r[i];return typeof e!="function"||(e=e.bind(r),t[i]=e),e},set:function(t,i,n){return a.value[i]=n,!0},getPrototypeOf:function(t){return n.prototype}})}return this._createInstance(n,r,o)};t.prototype._throwIfStrict=function(t,i){if(i&&console.warn(t),this._strict)throw new Error(t)};return t}();var BG=function(){function t(t,i){this.type=t,this.name=i,this._start=Date.now(),this._dep=[]}t.traceInvocation=function(i,n){return i?new t(2,n.name||(new Error).stack.split("\n").slice(3,4).join("\n")):t._None};t.traceCreation=function(i,n){return i?new t(1,n.name):t._None};t.prototype.branch=function(i,n){var r=new t(3,i.toString());return this._dep.push([i,n,r]),r};t.prototype.stop=function(){var i=Date.now()-this._start;t._totals+=i;var n=!1;var r=["".concat(this.type===1?"CREATE":"CALL"," ").concat(this.name),"".concat(function t(i,r){var e=[],o=new Array(i+1).join("\t");for(var s=0,u=r._dep;s<u.length;s++){var a=u[s],c=a[0],h=a[1],f=a[2];if(h&&f){n=!0,e.push("".concat(o,"CREATES -> ").concat(c));var l=t(i+1,f);l&&e.push(l)}else e.push("".concat(o,"uses -> ").concat(c))}return e.join("\n")}(1,this)),"DONE, took ".concat(i.toFixed(2),"ms (grand total ").concat(t._totals.toFixed(2),"ms)")];(i>2||n)&&t.all.add(r.join("\n"))};return t}();BG.all=new Set,BG._None=new(function(t){__extends(i,t);function i(){return t.call(this,0,null)||this}i.prototype.stop=function(){};i.prototype.branch=function(){return this};return i}(BG)),BG._totals=0;var CG=new Set([oa.inMemory,oa.vscodeSourceControl,oa.walkThrough,oa.walkThroughSnippet,oa.vscodeChatCodeBlock]);var DG=function(){function t(){this._byResource=new yv,this._byOwner=new Map}t.prototype.set=function(t,i,n){var r=this._byResource.get(t);r||(r=new Map,this._byResource.set(t,r)),r.set(i,n);var e=this._byOwner.get(i);e||(e=new yv,this._byOwner.set(i,e)),e.set(t,n)};t.prototype.get=function(t,i){var n=this._byResource.get(t);return n==null?void 0:n.get(i)};t.prototype.delete=function(t,i){var n=!1,r=!1;var e=this._byResource.get(t);e&&(n=e.delete(i));var o=this._byOwner.get(i);if(o&&(r=o.delete(t)),n!==r)throw new Error("illegal state");return n&&r};t.prototype.values=function(t){var i,n,r,e;return typeof t=="string"?(n=(i=this._byOwner.get(t))===null||i===void 0?void 0:i.values())!==null&&n!==void 0?n:vi.empty():zr.isUri(t)?(e=(r=this._byResource.get(t))===null||r===void 0?void 0:r.values())!==null&&e!==void 0?e:vi.empty():vi.map(vi.concat.apply(vi,this._byOwner.values()),(function(t){return t[1]}))};return t}();var MG=function(){function t(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new yv,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}t.prototype.dispose=function(){this._subscription.dispose()};t.prototype._update=function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];var e=this._data.get(r);e&&this._substract(e);var o=this._resourceStats(r);this._add(o),this._data.set(r,o)}};t.prototype._resourceStats=function(t){var i={errors:0,warnings:0,infos:0,unknowns:0};if(CG.has(t.scheme))return i;for(var n=0,r=this._service.read({resource:t});n<r.length;n++){var e=r[n].severity;e===SU.Error?i.errors+=1:e===SU.Warning?i.warnings+=1:e===SU.Info?i.infos+=1:i.unknowns+=1}return i};t.prototype._substract=function(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns};t.prototype._add=function(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns};return t}();var _G=function(){function t(){this._onMarkerChanged=new Un({delay:0,merge:t._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new DG,this._stats=new MG(this)}t.prototype.dispose=function(){this._stats.dispose(),this._onMarkerChanged.dispose()};t.prototype.remove=function(t,i){for(var n=0,r=i||[];n<r.length;n++){var e=r[n];this.changeOne(t,e,[])}};t.prototype.changeOne=function(i,n,r){if(T(r))this._data.delete(n,i)&&this._onMarkerChanged.fire([n]);else{var e=[];for(var o=0,s=r;o<s.length;o++){var u=s[o];var a=t._toMarker(i,n,u);a&&e.push(a)}this._data.set(n,i,e),this._onMarkerChanged.fire([n])}};t._toMarker=function(t,i,n){var r=n.code,e=n.severity,o=n.message,s=n.source,u=n.startLineNumber,a=n.startColumn,c=n.endLineNumber,h=n.endColumn,f=n.relatedInformation,l=n.tags;if(o)return u=u>0?u:1,a=a>0?a:1,c=c>=u?c:u,h=h>0?h:a,{resource:i,owner:t,code:r,severity:e,message:o,source:s,startLineNumber:u,startColumn:a,endLineNumber:c,endColumn:h,relatedInformation:f,tags:l}};t.prototype.changeAll=function(i,n){var r=[],e=this._data.values(i);if(e)for(var o=0,s=e;o<s.length;o++){var u=s[o];var a=vi.first(u);a&&(r.push(a.resource),this._data.delete(a.resource,i))}if(L(n)){var u=new yv;for(var c=0,h=n;c<h.length;c++){var f=h[c],a=f.resource,l=f.marker;var d=t._toMarker(i,a,l);if(!d)continue;var v=u.get(a);v?v.push(d):(u.set(a,[d]),r.push(a))}for(var A=0,g=u;A<g.length;A++){var w=g[A],a=w[0],l=w[1];this._data.set(a,i,l)}}r.length>0&&this._onMarkerChanged.fire(r)};t.prototype.read=function(i){if(i===void 0){i=Object.create(null)}var n=i.owner,r=i.resource,e=i.severities,o=i.take;if((!o||o<0)&&(o=-1),n&&r){var s=this._data.get(r,n);if(s){var u=[];for(var a=0,c=s;a<c.length;a++){var h=c[a];if(t._accept(h,e)){var f=u.push(h);if(o>0&&f===o)break}}return u}return[]}if(n||r){var s=this._data.values(r!==null&&r!==void 0?r:n),u=[];for(var l=0,d=s;l<d.length;l++){var h=d[l];for(var v=0,A=h;v<A.length;v++){var f=A[v];if(t._accept(f,e)){var g=u.push(f);if(o>0&&g===o)return u}}}return u}{var s=[];for(var w=0,p=this._data.values();w<p.length;w++){var u=p[w];for(var m=0,b=u;m<b.length;m++){var h=b[m];if(t._accept(h,e)){var f=s.push(h);if(o>0&&f===o)return s}}}return s}};t._accept=function(t,i){return i===void 0||(i&t.severity)===t.severity};t._merge=function(t){var i=new yv;for(var n=0,r=t;n<r.length;n++){var e=r[n];for(var o=0,s=e;o<s.length;o++){var u=s[o];i.set(u,!0)}}return Array.from(i.keys())};return t}();var FG=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._configurationModel=new DT;return i}Object.defineProperty(i.prototype,"configurationModel",{get:function(){return this._configurationModel},enumerable:false,configurable:true});i.prototype.reload=function(){return this.resetConfigurationModel(),this.configurationModel};i.prototype.getConfigurationDefaultOverrides=function(){return{}};i.prototype.resetConfigurationModel=function(){this._configurationModel=new DT;var t=yf.as(bd).getConfigurationProperties();this.updateConfigurationModel(Object.keys(t),t)};i.prototype.updateConfigurationModel=function(t,i){var n=this.getConfigurationDefaultOverrides();for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=n[o],u=i[o];s!==void 0?this._configurationModel.addValue(o,s):u?this._configurationModel.addValue(o,u.default):this._configurationModel.removeValue(o)}};return i}(Cn);var SG=lh("accessibilitySignalService");var IG=function(){function t(t){this.fileName=t}t.register=function(i){return new t(i.fileName)};return t}();IG.error=IG.register({fileName:"error.mp3"}),IG.warning=IG.register({fileName:"warning.mp3"}),IG.foldedArea=IG.register({fileName:"foldedAreas.mp3"}),IG.break=IG.register({fileName:"break.mp3"}),IG.quickFixes=IG.register({fileName:"quickFixes.mp3"}),IG.taskCompleted=IG.register({fileName:"taskCompleted.mp3"}),IG.taskFailed=IG.register({fileName:"taskFailed.mp3"}),IG.terminalBell=IG.register({fileName:"terminalBell.mp3"}),IG.diffLineInserted=IG.register({fileName:"diffLineInserted.mp3"}),IG.diffLineDeleted=IG.register({fileName:"diffLineDeleted.mp3"}),IG.diffLineModified=IG.register({fileName:"diffLineModified.mp3"}),IG.chatRequestSent=IG.register({fileName:"chatRequestSent.mp3"}),IG.chatResponsePending=IG.register({fileName:"chatResponsePending.mp3"}),IG.chatResponseReceived1=IG.register({fileName:"chatResponseReceived1.mp3"}),IG.chatResponseReceived2=IG.register({fileName:"chatResponseReceived2.mp3"}),IG.chatResponseReceived3=IG.register({fileName:"chatResponseReceived3.mp3"}),IG.chatResponseReceived4=IG.register({fileName:"chatResponseReceived4.mp3"}),IG.clear=IG.register({fileName:"clear.mp3"}),IG.save=IG.register({fileName:"save.mp3"}),IG.format=IG.register({fileName:"format.mp3"}),IG.voiceRecordingStarted=IG.register({fileName:"voiceRecordingStarted.mp3"}),IG.voiceRecordingStopped=IG.register({fileName:"voiceRecordingStopped.mp3"});var QG=function(){function t(t){this.randomOneOf=t}return t}();var OG=function(){function t(t,i,n,r,e,o){this.sound=t,this.name=i,this.legacySoundSettingsKey=n,this.settingsKey=r,this.legacyAnnouncementSettingsKey=e,this.announcementMessage=o}t.register=function(i){var n=new QG("randomOneOf"in i.sound?i.sound.randomOneOf:[i.sound]),r=new t(n,i.name,i.legacySoundSettingsKey,i.settingsKey,i.legacyAnnouncementSettingsKey,i.announcementMessage);return t._signals.add(r),r};return t}();OG._signals=new Set,OG.error=OG.register({name:Bt(0,"Error on Line"),sound:IG.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:Bt(0,"Error"),settingsKey:"accessibility.signals.lineHasError"}),OG.warning=OG.register({name:Bt(0,"Warning on Line"),sound:IG.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:Bt(0,"Warning"),settingsKey:"accessibility.signals.lineHasWarning"}),OG.foldedArea=OG.register({name:Bt(0,"Folded Area on Line"),sound:IG.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:Bt(0,"Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),OG.break=OG.register({name:Bt(0,"Breakpoint on Line"),sound:IG.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:Bt(0,"Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),OG.inlineSuggestion=OG.register({name:Bt(0,"Inline Suggestion on Line"),sound:IG.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),OG.terminalQuickFix=OG.register({name:Bt(0,"Terminal Quick Fix"),sound:IG.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:Bt(0,"Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),OG.onDebugBreak=OG.register({name:Bt(0,"Debugger Stopped on Breakpoint"),sound:IG.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:Bt(0,"Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),OG.noInlayHints=OG.register({name:Bt(0,"No Inlay Hints on Line"),sound:IG.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:Bt(0,"No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),OG.taskCompleted=OG.register({name:Bt(0,"Task Completed"),sound:IG.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:Bt(0,"Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),OG.taskFailed=OG.register({name:Bt(0,"Task Failed"),sound:IG.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:Bt(0,"Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),OG.terminalCommandFailed=OG.register({name:Bt(0,"Terminal Command Failed"),sound:IG.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:Bt(0,"Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),OG.terminalBell=OG.register({name:Bt(0,"Terminal Bell"),sound:IG.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:Bt(0,"Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),OG.notebookCellCompleted=OG.register({name:Bt(0,"Notebook Cell Completed"),sound:IG.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:Bt(0,"Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),OG.notebookCellFailed=OG.register({name:Bt(0,"Notebook Cell Failed"),sound:IG.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:Bt(0,"Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),OG.diffLineInserted=OG.register({name:Bt(0,"Diff Line Inserted"),sound:IG.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),OG.diffLineDeleted=OG.register({name:Bt(0,"Diff Line Deleted"),sound:IG.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),OG.diffLineModified=OG.register({name:Bt(0,"Diff Line Modified"),sound:IG.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),OG.chatRequestSent=OG.register({name:Bt(0,"Chat Request Sent"),sound:IG.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:Bt(0,"Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),OG.chatResponseReceived=OG.register({name:Bt(0,"Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[IG.chatResponseReceived1,IG.chatResponseReceived2,IG.chatResponseReceived3,IG.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),OG.chatResponsePending=OG.register({name:Bt(0,"Chat Response Pending"),sound:IG.chatResponsePending,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponsePending",announcementMessage:Bt(0,"Chat Response Pending"),settingsKey:"accessibility.signals.chatResponsePending"}),OG.clear=OG.register({name:Bt(0,"Clear"),sound:IG.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:Bt(0,"Clear"),settingsKey:"accessibility.signals.clear"}),OG.save=OG.register({name:Bt(0,"Save"),sound:IG.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:Bt(0,"Save"),settingsKey:"accessibility.signals.save"}),OG.format=OG.register({name:Bt(0,"Format"),sound:IG.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:Bt(0,"Format"),settingsKey:"accessibility.signals.format"}),OG.voiceRecordingStarted=OG.register({name:Bt(0,"Voice Recording Started"),sound:IG.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),OG.voiceRecordingStopped=OG.register({name:Bt(0,"Voice Recording Stopped"),sound:IG.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"});var NG=function(t){__extends(i,t);function i(i,n){if(n===void 0){n=[]}var r=this;r=t.call(this)||this,r.logger=new Yf(__spreadArray([i],n,true)),r._register(i.onDidChangeLogLevel((function(t){return r.setLevel(t)})));return r}Object.defineProperty(i.prototype,"onDidChangeLogLevel",{get:function(){return this.logger.onDidChangeLogLevel},enumerable:false,configurable:true});i.prototype.setLevel=function(t){this.logger.setLevel(t)};i.prototype.getLevel=function(){return this.logger.getLevel()};i.prototype.trace=function(t){var i;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}(i=this.logger).trace.apply(i,__spreadArray([t],n,false))};i.prototype.debug=function(t){var i;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}(i=this.logger).debug.apply(i,__spreadArray([t],n,false))};i.prototype.info=function(t){var i;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}(i=this.logger).info.apply(i,__spreadArray([t],n,false))};i.prototype.warn=function(t){var i;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}(i=this.logger).warn.apply(i,__spreadArray([t],n,false))};i.prototype.error=function(t){var i;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}(i=this.logger).error.apply(i,__spreadArray([t],n,false))};return i}(Cn);var RG=[];function TG(t){RG.push(t)}function LG(){return RG.slice(0)}var jG=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},zG=function(t,i){return function(n,r){i(n,r,t)}};var UG=function(){function t(t){this.disposed=!1,this.model=t,this._onWillDispose=new Ln}Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.model},enumerable:false,configurable:true});t.prototype.dispose=function(){this.disposed=!0,this._onWillDispose.fire()};return t}();var HG=function(){function t(t){this.modelService=t}t.prototype.createModelReference=function(t){var i=this.modelService.getModel(t);return i?Promise.resolve(new _n(new UG(i))):Promise.reject(new Error("Model not found"))};return t}();HG=jG([zG(0,vh)],HG);var YG=function(){function t(){}t.prototype.show=function(){return t.NULL_PROGRESS_RUNNER};t.prototype.showWhile=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t];case 1:i.sent();return[2]}}))}))};return t}();YG.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}};var JG=function(){function t(){}t.prototype.info=function(t){return this.notify({severity:YI.Info,message:t})};t.prototype.warn=function(t){return this.notify({severity:YI.Warning,message:t})};t.prototype.error=function(t){return this.notify({severity:YI.Error,message:t})};t.prototype.notify=function(i){switch(i.severity){case YI.Error:console.error(i.message);break;case YI.Warning:console.warn(i.message);break;default:console.log(i.message)}return t.NO_OP};t.prototype.prompt=function(i,n,r,e){return t.NO_OP};t.prototype.status=function(t,i){return Cn.None};return t}();JG.NO_OP=new(function(){function t(){}return t}());var PG=function(){function t(t){this._onWillExecuteCommand=new Ln,this._onDidExecuteCommand=new Ln,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}t.prototype.executeCommand=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=Bh.getCommand(t);if(!r)return Promise.reject(new Error("command '".concat(t,"' not found")));try{this._onWillExecuteCommand.fire({commandId:t,args:i});var e=this._instantiationService.invokeFunction.apply(this._instantiationService,__spreadArray([r.handler],i,true));return this._onDidExecuteCommand.fire({commandId:t,args:i}),Promise.resolve(e)}catch(e){return Promise.reject(e)}};return t}();PG=jG([zG(0,fh)],PG);var WG=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,i,n,r,e,o)||this,u._cachedResolver=null,u._dynamicKeybindings=[],u._domNodeListeners=[];var a=function(t){var i=new Bn;i.add(Oa(t,Ec.KEY_DOWN,(function(t){var i=new Qs(t);u._dispatch(i,i.target)&&(i.preventDefault(),i.stopPropagation())}))),i.add(Oa(t,Ec.KEY_UP,(function(t){var i=new Qs(t);u._singleModifierDispatch(i,i.target)&&i.preventDefault()}))),u._domNodeListeners.push(new GG(t,i))},c=function(t){for(var i=0;i<u._domNodeListeners.length;i++){var n=u._domNodeListeners[i];n.domNode===t&&(u._domNodeListeners.splice(i,1),n.dispose())}},h=function(t){t.getOption(61)||a(t.getContainerDomNode())};u._register(s.onCodeEditorAdd(h)),u._register(s.onCodeEditorRemove((function(t){t.getOption(61)||c(t.getContainerDomNode())}))),s.listCodeEditors().forEach(h);var f=function(t){a(t.getContainerDomNode())};u._register(s.onDiffEditorAdd(f)),u._register(s.onDiffEditorRemove((function(t){c(t.getContainerDomNode())}))),s.listDiffEditors().forEach(f);return u}i.prototype.addDynamicKeybinding=function(t,i,n,r){return xn(Bh.registerCommand(t,n),this.addDynamicKeybindings([{keybinding:i,command:t,when:r}]))};i.prototype.addDynamicKeybindings=function(t){var i=this;var n=t.map((function(t){var i;return{keybinding:Bs(t.keybinding,ei),command:(i=t.command)!==null&&i!==void 0?i:null,commandArgs:t.commandArgs,when:t.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(n),this.updateResolver(),En((function(){for(var t=0;t<i._dynamicKeybindings.length;t++)if(i._dynamicKeybindings[t]===n[0])return i._dynamicKeybindings.splice(t,n.length),void i.updateResolver()}))};i.prototype.updateResolver=function(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()};i.prototype._getResolver=function(){var t=this;if(!this._cachedResolver){var i=this._toNormalizedKeybindingItems(xf.getDefaultKeybindings(),!0),n=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new OT(i,n,(function(i){return t._log(i)}))}return this._cachedResolver};i.prototype._documentHasFocus=function(){return go.document.hasFocus()};i.prototype._toNormalizedKeybindingItems=function(t,i){var n=[];var r=0;for(var e=0,o=t;e<o.length;e++){var s=o[e];var u=s.when||void 0,a=s.keybinding;if(a){var c=KT.resolveKeybinding(a,ei);for(var h=0,f=c;h<f.length;h++){var l=f[h];n[r++]=new zT(l,s.command,s.commandArgs,u,i,null,!1)}}else n[r++]=new zT(void 0,s.command,s.commandArgs,u,i,null,!1)}return n};i.prototype.resolveKeyboardEvent=function(t){var i=new Ds(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode);return new KT([i],ei)};return i}(LT);WG=jG([zG(0,hf),zG(1,Eh),zG(2,Tf),zG(3,PI),zG(4,Lf),zG(5,dh)],WG);var GG=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.domNode=i,r._register(n);return r}return i}(Cn);function VG(t){return t&&typeof t=="object"&&(!t.overrideIdentifier||typeof t.overrideIdentifier=="string")&&(!t.resource||t.resource instanceof zr)}var KG=function(){function t(){this._onDidChangeConfiguration=new Ln,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;var t=new FG;this._configuration=new FT(t.reload(),new DT,new DT,new DT),t.dispose()}t.prototype.getValue=function(t,i){var n=typeof t=="string"?t:void 0,r=VG(t)?t:VG(i)?i:{};return this._configuration.getValue(n,r,void 0)};t.prototype.updateValues=function(t){var i={data:this._configuration.toData()},n=[];for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=o[0],u=o[1];this.getValue(s)!==u&&(this._configuration.updateValue(s,u),n.push(s))}if(n.length>0){var o=new ST({keys:n,overrides:[]},i,this._configuration);o.source=8,this._onDidChangeConfiguration.fire(o)}return Promise.resolve()};t.prototype.updateValue=function(t,i,n,r){return this.updateValues([[t,i]])};t.prototype.inspect=function(t,i){if(i===void 0){i={}}return this._configuration.inspect(t,i,void 0)};return t}();var XG=function(){function t(t,i,n){var r=this;this.configurationService=t,this.modelService=i,this.languageService=n,this._onDidChangeConfiguration=new Ln,this.configurationService.onDidChangeConfiguration((function(t){r._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:function(i,n){return t.affectsConfiguration(n)}})}))}t.prototype.getValue=function(t,i,n){var r=qr.isIPosition(i)?i:null,e=r?typeof n=="string"?n:void 0:typeof i=="string"?i:void 0,o=t?this.getLanguage(t,r):void 0;return e===void 0?this.configurationService.getValue({resource:t,overrideIdentifier:o}):this.configurationService.getValue(e,{resource:t,overrideIdentifier:o})};t.prototype.getLanguage=function(t,i){var n=this.modelService.getModel(t);return n?i?n.getLanguageIdAtPosition(i.lineNumber,i.column):n.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(t)};return t}();XG=jG([zG(0,sd),zG(1,vh),zG(2,ld)],XG);var qG=function(){function t(t){this.configurationService=t}t.prototype.getEOL=function(t,i){var n=this.configurationService.getValue("files.eol",{overrideIdentifier:i,resource:t});return n&&typeof n=="string"&&n!=="auto"?n:Vt||Gt?"\n":"\r\n"};return t}();qG=jG([zG(0,sd)],qG);var ZG=function(){function t(){var i=zr.from({scheme:t.SCHEME,authority:"model",path:"/"});this.workspace={id:dL,folders:[new fL({uri:i,name:"",index:0})]}}t.prototype.getWorkspace=function(){return this.workspace};t.prototype.getWorkspaceFolder=function(i){return i&&i.scheme===t.SCHEME?this.workspace.folders[0]:null};return t}();function $G(t,i,n){if(!i||!(t instanceof KG))return;var r=[];Object.keys(i).forEach((function(t){(function(t){return ET()["editor.".concat(t)]||!1})(t)&&r.push(["editor.".concat(t),i[t]]),n&&function(t){return ET()["diffEditor.".concat(t)]||!1}(t)&&r.push(["diffEditor.".concat(t),i[t]])})),r.length>0&&t.updateValues(r)}ZG.SCHEME="inmemory";var tV=function(){function t(t){this._modelService=t}t.prototype.hasPreviewHandler=function(){return!1};t.prototype.apply=function(t,i){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s,u,a,c,h,f,l,o,s;return __generator(this,(function(d){i=Array.isArray(t)?t:vT.convert(t),n=new Map;for(r=0,e=i;r<e.length;r++){o=e[r];if(!(o instanceof AT))throw new Error("bad edit - only text edits are supported");s=this._modelService.getModel(o.resource);if(!s)throw new Error("bad edit - model not found");if(typeof o.versionId=="number"&&s.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");u=n.get(s);u||(u=[],n.set(s,u)),u.push(BT.replaceMove(Zr.lift(o.textEdit.range),o.textEdit.text))}a=0,c=0;for(h=0,f=n;h<f.length;h++){l=f[h],o=l[0],s=l[1];o.pushStackElement(),o.pushEditOperations([],s,(function(){return[]})),o.pushStackElement(),c+=1,a+=s.length}return[2,{ariaSummary:ko(yL.bulkEditServiceSummary,a,c),isApplied:a>0}]}))}))};return t}();tV=jG([zG(0,vh)],tV);var iV=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._codeEditorService=n;return r}i.prototype.showContextView=function(i,n,r){if(!n){var e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();e&&(n=e.getContainerDomNode())}return t.prototype.showContextView.call(this,i,n,r)};return i}(uT);iV=jG([zG(0,AQ),zG(1,dh)],iV);var nV=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,i,n,r,e,o,s)||this,u.configure({blockMouse:!1});return u}return i}(kU);nV=jG([zG(0,Tf),zG(1,PI),zG(2,RO),zG(3,vE),zG(4,Ff),zG(5,hf)],nV);var rV;Ad(sd,KG,0),Ad(vg,XG,0),Ad(Ag,qG,0),Ad(sL,ZG,0),Ad(XT,function(){function t(){}t.prototype.getUriLabel=function(t,i){return t.scheme==="file"?t.fsPath:t.path};t.prototype.getUriBasenameLabel=function(t){return t_(t)};return t}(),0),Ad(Tf,function(){function t(){}t.prototype.publicLog2=function(){};return t}(),0),Ad(bQ,function(){function t(){}t.prototype.confirm=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){return[2,{confirmed:this.doConfirm(t.message,t.detail),checkboxChecked:!1}]}))}))};t.prototype.doConfirm=function(t,i){var n=t;return i&&(n=n+"\n\n"+i),go.confirm(n)};t.prototype.prompt=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e;return __generator(this,(function(o){switch(o.label){case 0:if(!this.doConfirm(t.message,t.detail))return[3,2];e=__spreadArray([],(i=t.buttons)!==null&&i!==void 0?i:[],true);t.cancelButton&&typeof t.cancelButton!="string"&&typeof t.cancelButton!="boolean"&&e.push(t.cancelButton);return[4,(n=e[0])===null||n===void 0?void 0:n.run({checkboxChecked:!1})];case 1:r=o.sent();o.label=2;case 2:return[2,{result:r}]}}))}))};t.prototype.error=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,this.prompt({type:YI.Error,message:t,detail:i})];case 1:n.sent();return[2]}}))}))};return t}(),0),Ad(TQ,function(){function t(){this.isExtensionDevelopment=!1,this.isBuilt=!1}return t}(),0),Ad(PI,JG,0),Ad(QU,_G,0),Ad(ld,function(t){__extends(i,t);function i(){return t.call(this)||this}return i}(QL),0),Ad(JW,function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._onColorThemeChange=i._register(new Ln),i.onDidColorThemeChange=i._onColorThemeChange.event,i._onProductIconThemeChange=i._register(new Ln),i.onDidProductIconThemeChange=i._onProductIconThemeChange.event,i._environment=Object.create(null),i._builtInProductIconTheme=new QW,i._autoDetectHighContrast=!0,i._knownThemes=new Map,i._knownThemes.set(OW,YW(OW)),i._knownThemes.set(NW,YW(NW)),i._knownThemes.set(RW,YW(RW)),i._knownThemes.set(TW,YW(TW));var n=i._register(function(t){var i=new Bn,n=i.add(new Ln),r=MW();return i.add(r.onDidChange((function(){return n.fire()}))),t&&i.add(t.onDidProductIconThemeChange((function(){return n.fire()}))),{dispose:function(){return i.dispose()},onDidChange:n.event,getCSS:function(){var i=t?t.getProductIconTheme():new QW,n={},e=function(t){var r=i.getIcon(t);if(!r)return;var e=r.font;return e?(n[e.id]=e.definition,".codicon-".concat(t.id,":before { content: '").concat(r.fontCharacter,"'; font-family: ").concat(Uc(e.id),"; }")):".codicon-".concat(t.id,":before { content: '").concat(r.fontCharacter,"'; }")},o=[];for(var s=0,u=r.getIcons();s<u.length;s++){var a=u[s];var c=e(a);c&&o.push(c)}for(var a in n){var h=n[a],f=h.weight?"font-weight: ".concat(h.weight,";"):"",l=h.style?"font-style: ".concat(h.style,";"):"",d=h.src.map((function(t){return"".concat(zc(t.location)," format('").concat(t.format,"')")})).join(", ");o.push("@font-face { src: ".concat(d,"; font-family: ").concat(Uc(a),";").concat(f).concat(l," font-display: block; }"))}return o.join("\n")}}}(i));i._codiconCSS=n.getCSS(),i._themeCSS="",i._allCSS="".concat(i._codiconCSS,"\n").concat(i._themeCSS),i._globalStyleElement=null,i._styleElements=[],i._colorMapOverride=null,i.setTheme(OW),i._onOSSchemeChanged(),i._register(n.onDidChange((function(){i._codiconCSS=n.getCSS(),i._updateCSS()}))),gs(go,"(forced-colors: active)",(function(){i._onOSSchemeChanged()}));return i}i.prototype.registerEditorContainer=function(t){return ec(t)?this._registerShadowDomContainer(t):this._registerRegularEditorContainer()};i.prototype._registerRegularEditorContainer=function(){var t=this;return this._globalStyleElement||(this._globalStyleElement=dc(void 0,(function(i){i.className="monaco-colors",i.textContent=t._allCSS})),this._styleElements.push(this._globalStyleElement)),Cn.None};i.prototype._registerShadowDomContainer=function(t){var i=this;var n=dc(t,(function(t){t.className="monaco-colors",t.textContent=i._allCSS}));return this._styleElements.push(n),{dispose:function(){for(var t=0;t<i._styleElements.length;t++)if(i._styleElements[t]===n)return void i._styleElements.splice(t,1)}}};i.prototype.defineTheme=function(t,i){if(!/^[a-z0-9\-]+$/i.test(t))throw new Error("Illegal theme name!");if(!UW(i.base)&&!UW(t))throw new Error("Illegal theme base!");this._knownThemes.set(t,new zW(t,i)),UW(t)&&this._knownThemes.forEach((function(i){i.base===t&&i.notifyBaseUpdated()})),this._theme.themeName===t&&this.setTheme(t)};i.prototype.getColorTheme=function(){return this._theme};i.prototype.setColorMapOverride=function(t){this._colorMapOverride=t,this._updateThemeOrColorMap()};i.prototype.setTheme=function(t){var i;i=this._knownThemes.has(t)?this._knownThemes.get(t):this._knownThemes.get(OW),this._updateActualTheme(i)};i.prototype._updateActualTheme=function(t){t&&this._theme!==t&&(this._theme=t,this._updateThemeOrColorMap())};i.prototype._onOSSchemeChanged=function(){if(this._autoDetectHighContrast){var t=go.matchMedia("(forced-colors: active)").matches;if(t!==zy(this._theme.type)){var i=void 0;i=Uy(this._theme.type)?t?RW:NW:t?TW:OW,this._updateActualTheme(this._knownThemes.get(i))}}};i.prototype.setAutoDetectHighContrast=function(t){this._autoDetectHighContrast=t,this._onOSSchemeChanged()};i.prototype._updateThemeOrColorMap=function(){var t=this;var i=[],n={},r={addRule:function(t){n[t]||(i.push(t),n[t]=!0)}};jW.getThemingParticipants().forEach((function(i){return i(t._theme,r,t._environment)}));var e=[];for(var o=0,s=LW.getColors();o<s.length;o++){var u=s[o];var a=this._theme.getColor(u.id,!0);a&&e.push("".concat(up(u.id),": ").concat(a.toString(),";"))}r.addRule(".monaco-editor, .monaco-diff-editor, .monaco-component { ".concat(e.join("\n")," }"));var c=this._colorMapOverride||this._theme.tokenTheme.getColorMap();r.addRule(function(t){var i=[];for(var n=1,r=t.length;n<r;n++){var e=t[n];i[n]=".mtk".concat(n," { color: ").concat(e,"; }")}return i.push(".mtki { font-style: italic; }"),i.push(".mtkb { font-weight: bold; }"),i.push(".mtku { text-decoration: underline; text-underline-position: under; }"),i.push(".mtks { text-decoration: line-through; }"),i.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),i.join("\n")}(c)),this._themeCSS=i.join("\n"),this._updateCSS(),ye.setColorMap(c),this._onColorThemeChange.fire(this._theme)};i.prototype._updateCSS=function(){var t=this;this._allCSS="".concat(this._codiconCSS,"\n").concat(this._themeCSS),this._styleElements.forEach((function(i){return i.textContent=t._allCSS}))};i.prototype.getFileIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}};i.prototype.getProductIconTheme=function(){return this._builtInProductIconTheme};return i}(Cn),0),Ad(Lf,function(t){__extends(i,t);function i(){return t.call(this,new Hf)||this}return i}(NG),0),Ad(vh,PU,0),Ad(jw,RU,0),Ad(hf,mG,0),Ad(qT,function(){function t(){}t.prototype.withProgress=function(t,i,n){return i({report:function(){}})};return t}(),0),Ad($T,YG,0),Ad(Lz,function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i.applicationStorage=i._register(new Nz(new Rz,{hint:Qz.STORAGE_IN_MEMORY})),i.profileStorage=i._register(new Nz(new Rz,{hint:Qz.STORAGE_IN_MEMORY})),i.workspaceStorage=i._register(new Nz(new Rz,{hint:Qz.STORAGE_IN_MEMORY})),i._register(i.workspaceStorage.onDidChangeStorage((function(t){return i.emitDidChangeValue(1,t)}))),i._register(i.profileStorage.onDidChangeStorage((function(t){return i.emitDidChangeValue(0,t)}))),i._register(i.applicationStorage.onDidChangeStorage((function(t){return i.emitDidChangeValue(-1,t)})));return i}i.prototype.getStorage=function(t){switch(t){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}};return i}(zz),0),Ad(FU,yg,0),Ad(dT,tV,0),Ad(kL,function(){function t(){this._neverEmitter=new Ln,this.onDidChangeTrust=this._neverEmitter.event}t.prototype.isWorkspaceTrusted=function(){return!0};return t}(),0),Ad(Ah,HG,0),Ad(Kw,GW,0),Ad(aJ,function(){function t(){this.disposables=new Bn,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}Object.defineProperty(t.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:false,configurable:true});t.prototype.setLastFocusedList=function(t){var i,n;t!==this._lastFocusedWidget&&((i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=t,(n=this._lastFocusedWidget)===null||n===void 0||n.getHTMLElement().classList.add("last-focused"))};t.prototype.register=function(t,i){var n=this;if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new lz(dc(),"").style(Vz)),this.lists.some((function(i){return i.widget===t})))throw new Error("Cannot register the same widget multiple times");var r={widget:t,extraContextKeys:i};return this.lists.push(r),uc(t.getHTMLElement())&&this.setLastFocusedList(t),xn(t.onDidFocus((function(){return n.setLastFocusedList(t)})),En((function(){return n.lists.splice(n.lists.indexOf(r),1)})),t.onDidDispose((function(){n.lists=n.lists.filter((function(t){return t!==r})),n._lastFocusedWidget===t&&n.setLastFocusedList(void 0)})))};t.prototype.dispose=function(){this.disposables.dispose()};return t}(),0),Ad(Eh,PG,0),Ad(vE,WG,0),Ad(ZU,hW,0),Ad(RO,iV,0),Ad(HO,_U,0),Ad(uG,sG,0),Ad(TO,nV,0),Ad(Ff,ZW,0),Ad(SG,function(){function t(){}t.prototype.playSignal=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2]}))}))};return t}(),0),function(t){var i=new UI;for(var n=0,r=gd();n<r.length;n++){var e=r[n],o=e[0],s=e[1];i.set(o,s)}var u=new EG(i,!0);i.set(fh,u),t.get=function(t){a||h({});var n=i.get(t);if(!n)throw new Error("Missing service "+t);return n instanceof dd?u.invokeFunction((function(i){return i.get(t)})):n};var a=!1;var c=new Ln;function h(t){if(a)return u;a=!0;for(var n=0,r=gd();n<r.length;n++){var e=r[n],o=e[0],s=e[1];i.get(o)||i.set(o,s)}for(var o in t)if(t.hasOwnProperty(o)){var s=lh(o);i.get(s)instanceof dd&&i.set(s,t[o])}var h=LG();for(var f=0,l=h;f<l.length;f++){var o=l[f];try{u.createInstance(o)}catch(s){cn(s)}}return c.fire(),u}t.initialize=h,t.withServices=function(t){if(a)return t();var i=new Bn,n=i.add(c.event((function(){n.dispose(),i.add(t())})));return i}}(rV||(rV={}));var eV=function(){function t(t,i,n,r,e){this._initialScrollTop=t,this._initialContentHeight=i,this._visiblePosition=n,this._visiblePositionScrollDelta=r,this._cursorPosition=e}t.capture=function(i){if(i.getScrollTop()===0||i.hasPendingScrollAnimation())return new t(i.getScrollTop(),i.getContentHeight(),null,0,null);var n=null,r=0;var e=i.getVisibleRanges();if(e.length>0){n=e[0].getStartPosition();var o=i.getTopForPosition(n.lineNumber,n.column);r=i.getScrollTop()-o}return new t(i.getScrollTop(),i.getContentHeight(),n,r,i.getPosition())};t.prototype.restore=function(t){if((this._initialContentHeight!==t.getContentHeight()||this._initialScrollTop!==t.getScrollTop())&&this._visiblePosition){var i=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(i+this._visiblePositionScrollDelta)}};t.prototype.restoreRelativeVerticalPositionOfCursor=function(t){if(this._initialContentHeight===t.getContentHeight()&&this._initialScrollTop===t.getScrollTop())return;var i=t.getPosition();if(!this._cursorPosition||!i)return;var n=t.getTopForLineNumber(i.lineNumber)-t.getTopForLineNumber(this._cursorPosition.lineNumber);t.setScrollTop(t.getScrollTop()+n)};return t}();function oV(){return hr&&!!hr.VSCODE_DEV}function sV(t){if(oV()){var i=function(){uV||(uV=new Set);var t=globalThis;return t.$hotReload_applyNewExports||(t.$hotReload_applyNewExports=function(t){var i=__assign({config:{mode:void 0}},t);for(var n=0,r=uV;n<r.length;n++){var e=r[n];var o=e(i);if(o)return o}}),uV}();return i.add(t),{dispose:function(){i.delete(t)}}}return{dispose:function(){}}}var uV;function aV(t,i){var n=new Bn,r=t.createDecorationsCollection();return n.add(Fj({debugName:function(){return"Apply decorations from ".concat(i.debugName)}},(function(t){var n=i.read(t);r.set(n)}))),n.add({dispose:function(){r.clear()}}),n}function cV(t,i){return t.appendChild(i),En((function(){t.removeChild(i)}))}oV()&&sV((function(t){var i=t.oldExports,n=t.newSrc,r=t.config;if(r.mode==="patch-prototype")return function(t){var n,r;for(var e in t){var o=t[e];if(console.log("[hot-reload] Patching prototype methods of '".concat(e,"'"),{exportedItem:o}),typeof o=="function"&&o.prototype){var s=i[e];if(s){for(var u=0,a=Object.getOwnPropertyNames(o.prototype);u<a.length;u++){var c=a[u];var h=Object.getOwnPropertyDescriptor(o.prototype,c),f=Object.getOwnPropertyDescriptor(s.prototype,c);((n=h==null?void 0:h.value)===null||n===void 0?void 0:n.toString())!==((r=f==null?void 0:f.value)===null||r===void 0?void 0:r.toString())&&console.log("[hot-reload] Patching prototype method '".concat(e,".").concat(c,"'")),Object.defineProperty(s.prototype,c,h)}t[e]=s}}}return!0}}));var hV=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.elementSizeObserver=r._register(new Yw(i,n)),r._width=mj(r,r.elementSizeObserver.getWidth()),r._height=mj(r,r.elementSizeObserver.getHeight()),r._register(r.elementSizeObserver.onDidChange((function(t){return Aj((function(t){r._width.set(r.elementSizeObserver.getWidth(),t),r._height.set(r.elementSizeObserver.getHeight(),t)}))})));return r}Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:false,configurable:true});i.prototype.observe=function(t){this.elementSizeObserver.observe(t)};i.prototype.setAutomaticLayout=function(t){t?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()};return i}(Cn);function fV(t,i,n){var r=i.get(),e=r,o=r;var s=mj("animatedValue",r);var u=-1,a;function c(){var i=Date.now()-u;var n,h,f,l;o=Math.floor((h=e,f=r-e,(n=i)===(l=300)?h+f:f*(1-Math.pow(2,-10*n/l))+h)),i<300?a=t.requestAnimationFrame(c):o=r,s.set(o,void 0)}return n.add(Sj({createEmptyChangeSummary:function(){return{animate:!1}},handleChange:function(t,n){return t.didChange(i)&&(n.animate=n.animate||t.change),!0}},(function(n,s){a!==void 0&&(t.cancelAnimationFrame(a),a=void 0),e=o,r=i.read(n),u=Date.now()-(s.animate?0:300),c()}))),s}var lV=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._register(new vV(i,r)),e._register(AV(r,{height:n.actualHeight,top:n.actualTop}));return e}return i}(Cn);var dV=function(){function t(t,i){var n=this;this._afterLineNumber=t,this.heightInPx=i,this.domNode=document.createElement("div"),this._actualTop=mj(this,void 0),this._actualHeight=mj(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=function(t){n._actualTop.set(t,void 0)},this.onComputedHeight=function(t){n._actualHeight.set(t,void 0)}}Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return this._afterLineNumber.get()},enumerable:false,configurable:true});return t}();var vV=function(){function t(i,n){var r=this;this._editor=i,this._domElement=n,this._overlayWidgetId="managedOverlayWidget-"+t._counter++,this._overlayWidget={getId:function(){return r._overlayWidgetId},getDomNode:function(){return r._domElement},getPosition:function(){return null}},this._editor.addOverlayWidget(this._overlayWidget)}t.prototype.dispose=function(){this._editor.removeOverlayWidget(this._overlayWidget)};return t}();function AV(t,i){return _j((function(n){for(var r=0,e=Object.entries(i);r<e.length;r++){var o=e[r],s=o[0],u=o[1];u&&typeof u=="object"&&"read"in u&&(u=u.read(n)),typeof u=="number"&&(u="".concat(u,"px")),s=s.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),t.style[s]=u}}))}function gV(t,i){return function(t,i){oV()&&Lj("reload",(function(i){return sV((function(n){var r=n.oldExports;if(__spreadArray([],Object.values(r),true).some((function(i){return t.includes(i)})))return function(t){return i(void 0),!0}}))})).read(i)}([t],i),t}function wV(t,i,n,r){var e=new Bn,o=[];return e.add(Ij((function(e,s){var u=i.read(e),a=new Map,c=new Map;n&&n(!0),t.changeViewZones((function(t){for(var i=0,n=o;i<n.length;i++){var e=n[i];t.removeZone(e),r==null||r.delete(e)}o.length=0;for(var s=0,c=u;s<c.length;s++){var e=c[s];var h=t.addZone(e);e.setZoneId&&e.setZoneId(h),o.push(h),r==null||r.add(h),a.set(e,h)}})),n&&n(!1),s.add(Sj({createEmptyChangeSummary:function(){return{zoneIds:[]}},handleChange:function(t,i){var n=c.get(t.changedObservable);return n!==void 0&&i.zoneIds.push(n),!0}},(function(i,r){for(var e=0,o=u;e<o.length;e++){var s=o[e];s.onChange&&(c.set(s.onChange,a.get(s)),s.onChange.read(i))}n&&n(!0),t.changeViewZones((function(t){for(var i=0,n=r.zoneIds;i<n.length;i++){var e=n[i];t.layoutZone(e)}})),n&&n(!1)})))}))),e.add({dispose:function(){n&&n(!0),t.changeViewZones((function(t){for(var i=0,n=o;i<n.length;i++){var r=n[i];t.removeZone(r)}})),r==null||r.clear(),n&&n(!1)}}),e}vV._counter=0;var pV=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.dispose=function(){t.prototype.dispose.call(this,!0)};return i}(Kn);function mV(t,i){var n=qv(i,(function(i){return i.original.startLineNumber<=t.lineNumber}));if(!n)return Zr.fromPositions(t);if(n.original.endLineNumberExclusive<=t.lineNumber){var r=t.lineNumber-n.original.endLineNumberExclusive+n.modified.endLineNumberExclusive;return Zr.fromPositions(new qr(r,t.column))}if(!n.innerChanges)return Zr.fromPositions(new qr(n.modified.startLineNumber,1));var e=qv(n.innerChanges,(function(i){return i.originalRange.getStartPosition().isBeforeOrEqual(t)}));if(!e){var r=t.lineNumber-n.original.startLineNumber+n.modified.startLineNumber;return Zr.fromPositions(new qr(r,t.column))}if(e.originalRange.containsPosition(t))return e.modifiedRange;{var r=(o=e.originalRange.getEndPosition(),s=t,o.lineNumber===s.lineNumber?new QD(0,s.column-o.column):new QD(s.lineNumber-o.lineNumber,s.column-1));return Zr.fromPositions(r.addToPosition(e.modifiedRange.getEndPosition()))}var o,s}function bV(t,i,n){var r=t.bindTo(i);return Fj({debugName:function(){return'Set Context Key "'.concat(t.key,'"')}},(function(t){r.set(n(t))}))}var yV=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},kV=function(t,i){return function(n,r){i(n,r,t)}};var xV=DW("diff-review-insert",re.add,Bt(0,"Icon for 'Insert' in accessible diff viewer.")),EV=DW("diff-review-remove",re.remove,Bt(0,"Icon for 'Remove' in accessible diff viewer.")),BV=DW("diff-review-close",re.close,Bt(0,"Icon for 'Close' in accessible diff viewer."));var CV=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;h=t.call(this)||this,h._parentNode=i,h._visible=n,h._setVisible=r,h._canClose=e,h._width=o,h._height=s,h._diffs=u,h._models=a,h._instantiationService=c,h._state=Cj(h,(function(t,i){var n=h._visible.read(t);if(h._parentNode.style.visibility=n?"visible":"hidden",!n)return null;var r=i.add(h._instantiationService.createInstance(DV,h._diffs,h._models,h._setVisible,h._canClose));return{model:r,view:i.add(h._instantiationService.createInstance(NV,h._parentNode,r,h._width,h._height,h._models))}})).recomputeInitiallyAndOnChange(h._store);return h}i.prototype.next=function(){var t=this;Aj((function(i){var n=t._visible.get();t._setVisible(!0,i),n&&t._state.get().model.nextGroup(i)}))};i.prototype.prev=function(){var t=this;Aj((function(i){t._setVisible(!0,i),t._state.get().model.previousGroup(i)}))};i.prototype.close=function(){var t=this;Aj((function(i){t._setVisible(!1,i)}))};return i}(Cn);CV._ttPolicy=ml("diffReview",{createHTML:function(t){return t}}),CV=yV([kV(8,fh)],CV);var DV=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._diffs=i,s._models=n,s._setVisible=r,s.canClose=e,s._accessibilitySignalService=o,s._groups=mj(s,[]),s._currentGroupIdx=mj(s,0),s._currentElementIdx=mj(s,0),s.groups=s._groups,s.currentGroup=s._currentGroupIdx.map((function(t,i){return s._groups.read(i)[t]})),s.currentGroupIndex=s._currentGroupIdx,s.currentElement=s._currentElementIdx.map((function(t,i){var n;return(n=s.currentGroup.read(i))===null||n===void 0?void 0:n.lines[t]})),s._register(_j((function(t){var i=s._diffs.read(t);if(!i)return void s._groups.set([],void 0);var n=function(t,i,n){var r=[];var e=function(t){var e=[];e.push(new SV);var o=new eA(Math.max(1,t[0].original.startLineNumber-MV),Math.min(t[t.length-1].original.endLineNumberExclusive+MV,i+1)),s=new eA(Math.max(1,t[0].modified.startLineNumber-MV),Math.min(t[t.length-1].modified.endLineNumberExclusive+MV,n+1));O(t,(function(t,i){var n=new eA(t?t.original.endLineNumberExclusive:o.startLineNumber,i?i.original.startLineNumber:o.endLineNumberExclusive),r=new eA(t?t.modified.endLineNumberExclusive:s.startLineNumber,i?i.modified.startLineNumber:s.endLineNumberExclusive);n.forEach((function(t){e.push(new OV(t,r.startLineNumber+(t-n.startLineNumber)))})),i&&(i.original.forEach((function(t){e.push(new IV(i,t))})),i.modified.forEach((function(t){e.push(new QV(i,t))})))}));var u=t[0].modified.join(t[t.length-1].modified),a=t[0].original.join(t[t.length-1].original);r.push(new FV(new sA(u,a),e))};for(var o=0,s=Q(t,(function(t,i){return i.modified.startLineNumber-t.modified.endLineNumberExclusive<2*MV}));o<s.length;o++){var u=s[o];e(u)}return r}(i,s._models.getOriginalModel().getLineCount(),s._models.getModifiedModel().getLineCount());Aj((function(t){var i=s._models.getModifiedPosition();if(i){var r=n.findIndex((function(t){return(i==null?void 0:i.lineNumber)<t.range.modified.endLineNumberExclusive}));r!==-1&&s._currentGroupIdx.set(r,t)}s._groups.set(n,t)}))}))),s._register(_j((function(t){var i=s.currentElement.read(t);(i==null?void 0:i.type)===_V.Deleted?s._accessibilitySignalService.playSignal(OG.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(i==null?void 0:i.type)===_V.Added&&s._accessibilitySignalService.playSignal(OG.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})}))),s._register(_j((function(t){var i;var n=s.currentElement.read(t);if(n&&n.type!==_V.Header){var r=(i=n.modifiedLineNumber)!==null&&i!==void 0?i:n.diff.modified.startLineNumber;s._models.modifiedSetSelection(Zr.fromPositions(new qr(r,1)))}})));return s}i.prototype._goToGroupDelta=function(t,i){var n=this;var r=this.groups.get();!r||r.length<=1||wj(i,(function(i){n._currentGroupIdx.set(Kv.ofLength(r.length).clipCyclic(n._currentGroupIdx.get()+t),i),n._currentElementIdx.set(0,i)}))};i.prototype.nextGroup=function(t){this._goToGroupDelta(1,t)};i.prototype.previousGroup=function(t){this._goToGroupDelta(-1,t)};i.prototype._goToLineDelta=function(t){var i=this;var n=this.currentGroup.get();!n||n.lines.length<=1||Aj((function(r){i._currentElementIdx.set(Kv.ofLength(n.lines.length).clip(i._currentElementIdx.get()+t),r)}))};i.prototype.goToNextLine=function(){this._goToLineDelta(1)};i.prototype.goToPreviousLine=function(){this._goToLineDelta(-1)};i.prototype.goToLine=function(t){var i=this;var n=this.currentGroup.get();if(!n)return;var r=n.lines.indexOf(t);r!==-1&&Aj((function(t){i._currentElementIdx.set(r,t)}))};i.prototype.revealCurrentElementInEditor=function(){if(!this.canClose.get())return;this._setVisible(!1,void 0);var t=this.currentElement.get();t&&(t.type===_V.Deleted?this._models.originalReveal(Zr.fromPositions(new qr(t.originalLineNumber,1))):this._models.modifiedReveal(t.type!==_V.Header?Zr.fromPositions(new qr(t.modifiedLineNumber,1)):void 0))};i.prototype.close=function(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())};return i}(Cn);DV=yV([kV(4,SG)],DV);var MV=3;var _V;(function(t){t[t.Header=0]="Header",t[t.Unchanged=1]="Unchanged",t[t.Deleted=2]="Deleted",t[t.Added=3]="Added"})(_V||(_V={}));var FV=function(){function t(t,i){this.range=t,this.lines=i}return t}();var SV=function(){function t(){this.type=_V.Header}return t}();var IV=function(){function t(t,i){this.diff=t,this.originalLineNumber=i,this.type=_V.Deleted,this.modifiedLineNumber=void 0}return t}();var QV=function(){function t(t,i){this.diff=t,this.modifiedLineNumber=i,this.type=_V.Added,this.originalLineNumber=void 0}return t}();var OV=function(){function t(t,i){this.originalLineNumber=t,this.modifiedLineNumber=i,this.type=_V.Unchanged}return t}();var NV=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._element=i,u._model=n,u._width=r,u._height=e,u._models=o,u._languageService=s,u.domNode=u._element,u.domNode.className="monaco-component diff-review monaco-editor-background";var a=document.createElement("div");a.className="diff-review-actions",u._actionBar=u._register(new cU(a)),u._register(_j((function(t){u._actionBar.clear(),u._model.canClose.read(t)&&u._actionBar.push(new gh("diffreview.close",Bt(0,"Close"),"close-diff-review "+xh.asClassName(BV),!0,(function(){return __awaiter(u,void 0,void 0,(function(){return __generator(this,(function(t){return[2,n.close()]}))}))})),{label:!1,icon:!0})}))),u._content=document.createElement("div"),u._content.className="diff-review-content",u._content.setAttribute("role","code"),u._scrollbar=u._register(new Rk(u._content,{})),Sc(u.domNode,u._scrollbar.getDomNode(),a),u._register(_j((function(t){u._height.read(t),u._width.read(t),u._scrollbar.scanDomNode()}))),u._register(En((function(){Sc(u.domNode)}))),u._register(AV(u.domNode,{width:u._width,height:u._height})),u._register(AV(u._content,{width:u._width,height:u._height})),u._register(Ij((function(t,i){u._model.currentGroup.read(t),u._render(i)}))),u._register(Ra(u.domNode,"keydown",(function(t){(t.equals(18)||t.equals(2066)||t.equals(530))&&(t.preventDefault(),u._model.goToNextLine()),(t.equals(16)||t.equals(2064)||t.equals(528))&&(t.preventDefault(),u._model.goToPreviousLine()),(t.equals(9)||t.equals(2057)||t.equals(521)||t.equals(1033))&&(t.preventDefault(),u._model.close()),(t.equals(10)||t.equals(3))&&(t.preventDefault(),u._model.revealCurrentElementInEditor())})));return u}i.prototype._render=function(t){var i=this;var n=this._models.getOriginalOptions(),r=this._models.getModifiedOptions(),e=document.createElement("div");e.className="diff-review-table",e.setAttribute("role","list"),e.setAttribute("aria-label",Bt(0,"Accessible Diff Viewer. Use arrow up and down to navigate.")),ih(e,r.get(50)),Sc(this._content,e);var o=this._models.getOriginalModel(),s=this._models.getModifiedModel();if(!o||!s)return;var u=o.getOptions(),a=s.getOptions(),c=r.get(67),h=this._model.currentGroup.get();var f=function(f){if(!h)return"break";var d;if(f.type===_V.Header){var v=document.createElement("div");v.className="diff-review-row",v.setAttribute("role","listitem");var A=h.range,g=l._model.currentGroupIndex.get(),w=l._model.groups.get().length,p=function(t){return t===0?Bt(0,"no lines changed"):t===1?Bt(0,"1 line changed"):Bt(0,"{0} lines changed",t)},m=p(A.original.length),b=p(A.modified.length);v.setAttribute("aria-label",Bt(0,"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",g+1,w,A.original.startLineNumber,m,A.modified.startLineNumber,b));var y=document.createElement("div");y.className="diff-review-cell diff-review-summary",y.appendChild(document.createTextNode("".concat(g+1,"/").concat(w,": @@ -").concat(A.original.startLineNumber,",").concat(A.original.length," +").concat(A.modified.startLineNumber,",").concat(A.modified.length," @@"))),v.appendChild(y),d=v}else d=l._createRow(f,c,l._width.get(),n,o,u,r,s,a);e.appendChild(d);var k=Ej((function(t){return i._model.currentElement.read(t)===f}));t.add(_j((function(t){var i=k.read(t);d.tabIndex=i?0:-1,i&&d.focus()}))),t.add(Oa(d,"focus",(function(){i._model.goToLine(f)})))};var l=this;for(var d=0,v=(h==null?void 0:h.lines)||[];d<v.length;d++){var A=v[d];var g=f(A);if(g==="break")break}this._scrollbar.scanDomNode()};i.prototype._createRow=function(t,i,n,r,e,o,s,u,a){var c=r.get(145),h=c.glyphMarginWidth+c.lineNumbersWidth,f=s.get(145),l=10+f.glyphMarginWidth+f.lineNumbersWidth;var d="diff-review-row",v="",A=null;switch(t.type){case _V.Added:d="diff-review-row line-insert",v=" char-insert",A=xV;break;case _V.Deleted:d="diff-review-row line-delete",v=" char-delete",A=EV}var g=document.createElement("div");g.style.minWidth=n+"px",g.className=d,g.setAttribute("role","listitem"),g.ariaLevel="";var w=document.createElement("div");w.className="diff-review-cell",w.style.height="".concat(i,"px"),g.appendChild(w);var p=document.createElement("span");p.style.width=h+"px",p.style.minWidth=h+"px",p.className="diff-review-line-number"+v,t.originalLineNumber!==void 0?p.appendChild(document.createTextNode(String(t.originalLineNumber))):p.innerText=" ",w.appendChild(p);var m=document.createElement("span");m.style.width=l+"px",m.style.minWidth=l+"px",m.style.paddingRight="10px",m.className="diff-review-line-number"+v,t.modifiedLineNumber!==void 0?m.appendChild(document.createTextNode(String(t.modifiedLineNumber))):m.innerText=" ",w.appendChild(m);var b=document.createElement("span");if(b.className="diff-review-spacer",A){var y=document.createElement("span");y.className=xh.asClassName(A),y.innerText="  ",b.appendChild(y)}else b.innerText="  ";var k;if(w.appendChild(b),t.modifiedLineNumber!==void 0){var y=this._getLineHtml(u,s,a.tabSize,t.modifiedLineNumber,this._languageService.languageIdCodec);CV._ttPolicy&&(y=CV._ttPolicy.createHTML(y)),w.insertAdjacentHTML("beforeend",y),k=u.getLineContent(t.modifiedLineNumber)}else{var y=this._getLineHtml(e,r,o.tabSize,t.originalLineNumber,this._languageService.languageIdCodec);CV._ttPolicy&&(y=CV._ttPolicy.createHTML(y)),w.insertAdjacentHTML("beforeend",y),k=e.getLineContent(t.originalLineNumber)}k.length===0&&(k=Bt(0,"blank"));var x="";switch(t.type){case _V.Unchanged:x=t.originalLineNumber===t.modifiedLineNumber?Bt(0,"{0} unchanged line {1}",k,t.originalLineNumber):Bt(0,"{0} original line {1} modified line {2}",k,t.originalLineNumber,t.modifiedLineNumber);break;case _V.Added:x=Bt(0,"+ {0} modified line {1}",k,t.modifiedLineNumber);break;case _V.Deleted:x=Bt(0,"- {0} original line {1}",k,t.originalLineNumber)}return g.setAttribute("aria-label",x),g};i.prototype._getLineHtml=function(t,i,n,r,e){var o=t.getLineContent(r),s=i.get(50),u=Og.createEmpty(o,e),a=iw.isBasicASCII(o,t.mightContainNonBasicASCII()),c=iw.containsRTL(o,a,t.mightContainRTL());return Vg(new Hg(s.isMonospace&&!i.get(33),s.canUseHalfwidthRightwardsArrow,o,!1,a,c,0,u,[],n,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,i.get(117),i.get(99),i.get(94),i.get(51)!==Hi.OFF,null)).html};return i}(Cn);NV=yV([kV(5,ld)],NV);var RV=function(){function t(t){this.editors=t}t.prototype.getOriginalModel=function(){return this.editors.original.getModel()};t.prototype.getOriginalOptions=function(){return this.editors.original.getOptions()};t.prototype.originalReveal=function(t){this.editors.original.revealRange(t),this.editors.original.setSelection(t),this.editors.original.focus()};t.prototype.getModifiedModel=function(){return this.editors.modified.getModel()};t.prototype.getModifiedOptions=function(){return this.editors.modified.getOptions()};t.prototype.modifiedReveal=function(t){t&&(this.editors.modified.revealRange(t),this.editors.modified.setSelection(t)),this.editors.modified.focus()};t.prototype.modifiedSetSelection=function(t){this.editors.modified.setSelection(t)};t.prototype.modifiedFocus=function(){this.editors.modified.focus()};t.prototype.getModifiedPosition=function(){var t;return(t=this.editors.modified.getPosition())!==null&&t!==void 0?t:void 0};return t}();var TV=function(t){__extends(i,t);function i(n,r,e,o,s){var u=this;u=t.call(this)||this,u._rootElement=n,u._diffModel=r,u._originalEditorLayoutInfo=e,u._modifiedEditorLayoutInfo=o,u._editors=s,u._originalScrollTop=Rj(u._editors.original.onDidScrollChange,(function(){return u._editors.original.getScrollTop()})),u._modifiedScrollTop=Rj(u._editors.modified.onDidScrollChange,(function(){return u._editors.modified.getScrollTop()})),u._viewZonesChanged=Lj("onDidChangeViewZones",u._editors.modified.onDidChangeViewZones),u.width=mj(u,0),u._modifiedViewZonesChangedSignal=Lj("modified.onDidChangeViewZones",u._editors.modified.onDidChangeViewZones),u._originalViewZonesChangedSignal=Lj("original.onDidChangeViewZones",u._editors.original.onDidChangeViewZones),u._state=Cj(u,(function(t,n){var r;u._element.replaceChildren();var e=u._diffModel.read(t),o=(r=e==null?void 0:e.diff.read(t))===null||r===void 0?void 0:r.movedTexts;if(!o||o.length===0)return void u.width.set(0,void 0);u._viewZonesChanged.read(t);var s=u._originalEditorLayoutInfo.read(t),a=u._modifiedEditorLayoutInfo.read(t);if(!s||!a)return void u.width.set(0,void 0);u._modifiedViewZonesChangedSignal.read(t),u._originalViewZonesChangedSignal.read(t);var c=o.map((function(i){function n(t,i){return(i.getTopForLineNumber(t.startLineNumber,!0)+i.getTopForLineNumber(t.endLineNumberExclusive,!0))/2}var r=n(i.lineRangeMapping.original,u._editors.original),e=u._originalScrollTop.read(t),o=n(i.lineRangeMapping.modified,u._editors.modified),s=r-e,a=o-u._modifiedScrollTop.read(t),c=Math.min(r,o),h=Math.max(r,o);return{range:new Kv(c,h),from:s,to:a,fromWithoutScroll:r,toWithoutScroll:o,move:i}}));c.sort(function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return function(i,n){for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=o(i,n);if(!K.isNeitherLessOrGreaterThan(s))return s}return K.neitherLessOrGreaterThan}}(X((function(t){return t.fromWithoutScroll>t.toWithoutScroll}),Z),X((function(t){return t.fromWithoutScroll>t.toWithoutScroll?t.fromWithoutScroll:-t.toWithoutScroll}),q)));var h=LV.compute(c.map((function(t){return t.range}))),f=s.verticalScrollbarWidth,l=10*(h.getTrackCount()-1)+20,d=f+l+(a.contentLeft-i.movedCodeBlockPadding);var v=0;var A=function(t){var i=f+10+10*h.getTrack(v),r=15,o=15,s=d,c=a.glyphMarginWidth+a.lineNumbersWidth,l=18,A=document.createElementNS("http://www.w3.org/2000/svg","rect");A.classList.add("arrow-rectangle"),A.setAttribute("x",""+(s-c)),A.setAttribute("y",""+(t.to-l/2)),A.setAttribute("width","".concat(c)),A.setAttribute("height","".concat(l)),u._element.appendChild(A);var g=document.createElementNS("http://www.w3.org/2000/svg","g"),w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d","M 0 ".concat(t.from," L ").concat(i," ").concat(t.from," L ").concat(i," ").concat(t.to," L ").concat(s-o," ").concat(t.to)),w.setAttribute("fill","none"),g.appendChild(w);var p=document.createElementNS("http://www.w3.org/2000/svg","polygon");p.classList.add("arrow"),n.add(_j((function(i){w.classList.toggle("currentMove",t.move===e.activeMovedText.read(i)),p.classList.toggle("currentMove",t.move===e.activeMovedText.read(i))}))),p.setAttribute("points","".concat(s-o,",").concat(t.to-r/2," ").concat(s,",").concat(t.to," ").concat(s-o,",").concat(t.to+r/2)),g.appendChild(p),u._element.appendChild(g),v++};for(var g=0,w=c;g<w.length;g++){var p=w[g];A(p)}u.width.set(l,void 0)})),u._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),u._element.setAttribute("class","moved-blocks-lines"),u._rootElement.appendChild(u._element),u._register(En((function(){return u._element.remove()}))),u._register(_j((function(t){var n=u._originalEditorLayoutInfo.read(t),r=u._modifiedEditorLayoutInfo.read(t);n&&r&&(u._element.style.left=n.width-n.verticalScrollbarWidth+"px",u._element.style.height="".concat(n.height,"px"),u._element.style.width="".concat(n.verticalScrollbarWidth+n.contentLeft-i.movedCodeBlockPadding+u.width.read(t),"px"))}))),u._register(Hj(u._state));var a=Ej((function(t){var i=u._diffModel.read(t),n=i==null?void 0:i.diff.read(t);return n?n.movedTexts.map((function(t){return{move:t,original:new dV(Oj(t.lineRangeMapping.original.startLineNumber-1),18),modified:new dV(Oj(t.lineRangeMapping.modified.startLineNumber-1),18)}})):[]}));u._register(wV(u._editors.original,a.map((function(t){return t.map((function(t){return t.original}))})))),u._register(wV(u._editors.modified,a.map((function(t){return t.map((function(t){return t.modified}))})))),u._register(Ij((function(t,i){var n=a.read(t);for(var r=0,e=n;r<e.length;r++){var o=e[r];i.add(new jV(u._editors.original,o.original,o.move,"original",u._diffModel.get())),i.add(new jV(u._editors.modified,o.modified,o.move,"modified",u._diffModel.get()))}})));var c=Lj("original.onDidFocusEditorWidget",(function(t){return u._editors.original.onDidFocusEditorWidget((function(){return setTimeout((function(){return t(void 0)}),0)}))})),h=Lj("modified.onDidFocusEditorWidget",(function(t){return u._editors.modified.onDidFocusEditorWidget((function(){return setTimeout((function(){return t(void 0)}),0)}))}));var f="modified";u._register(Sj({createEmptyChangeSummary:function(){},handleChange:function(t,i){return t.didChange(c)&&(f="original"),t.didChange(h)&&(f="modified"),!0}},(function(t){c.read(t),h.read(t);var i=u._diffModel.read(t);if(!i)return;var n=i.diff.read(t);var r;if(n&&f==="original"){var e=u._editors.originalCursor.read(t);e&&(r=n.movedTexts.find((function(t){return t.lineRangeMapping.original.contains(e.lineNumber)})))}if(n&&f==="modified"){var o=u._editors.modifiedCursor.read(t);o&&(r=n.movedTexts.find((function(t){return t.lineRangeMapping.modified.contains(o.lineNumber)})))}r!==i.movedTextToCompare.get()&&i.movedTextToCompare.set(void 0,void 0),i.setActiveMovedText(r)})));return u}return i}(Cn);TV.movedCodeBlockPadding=4;var LV=function(){function t(t,i){this._trackCount=t,this.trackPerLineIdx=i}t.compute=function(i){var n=[],r=[];var e=function(t){var i=n.findIndex((function(i){return!i.intersectsStrict(t)}));i===-1&&(n.length>=6?i=rA(n,X((function(i){return i.intersectWithRangeLength(t)}),q)):(i=n.length,n.push(new Xv))),n[i].addRange(t),r.push(i)};for(var o=0,s=i;o<s.length;o++){var u=s[o];e(u)}return new t(n.length,r)};t.prototype.getTrack=function(t){return this.trackPerLineIdx[t]};t.prototype.getTrackCount=function(){return this._trackCount};return t}();var jV=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;var u=Gc("div.diff-hidden-lines-widget");s=t.call(this,i,n,u.root)||this,s._editor=i,s._move=r,s._kind=e,s._diffModel=o,s._nodes=Gc("div.diff-moved-code-block",{style:{marginRight:"4px"}},[Gc("div.text-content@textContent"),Gc("div.action-bar@actionBar")]),u.root.appendChild(s._nodes.root);var a=Rj(s._editor.onDidLayoutChange,(function(){return s._editor.getLayoutInfo()}));var c;s._register(AV(s._nodes.root,{paddingRight:a.map((function(t){return t.verticalScrollbarWidth}))})),c=r.changes.length>0?s._kind==="original"?Bt(0,"Code moved with changes to line {0}-{1}",s._move.lineRangeMapping.modified.startLineNumber,s._move.lineRangeMapping.modified.endLineNumberExclusive-1):Bt(0,"Code moved with changes from line {0}-{1}",s._move.lineRangeMapping.original.startLineNumber,s._move.lineRangeMapping.original.endLineNumberExclusive-1):s._kind==="original"?Bt(0,"Code moved to line {0}-{1}",s._move.lineRangeMapping.modified.startLineNumber,s._move.lineRangeMapping.modified.endLineNumberExclusive-1):Bt(0,"Code moved from line {0}-{1}",s._move.lineRangeMapping.original.startLineNumber,s._move.lineRangeMapping.original.endLineNumberExclusive-1);var h=s._register(new cU(s._nodes.actionBar,{highlightToggledItems:!0})),f=new gh("",c,"",!1);h.push(f,{icon:!1,label:!0});var l=new gh("","Compare",xh.asClassName(re.compareChanges),!0,(function(){s._editor.focus(),s._diffModel.movedTextToCompare.set(s._diffModel.movedTextToCompare.get()===r?void 0:s._move,void 0)}));s._register(_j((function(t){var i=s._diffModel.movedTextToCompare.read(t)===r;l.checked=i}))),h.push(l,{icon:!1,label:!0});return s}return i}(lV);fp("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},Bt(0,"The border color for text that got moved in the diff editor.")),fp("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},Bt(0,"The active border color for text that got moved in the diff editor.")),fp("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},Bt(0,"The color of the shadow around unchanged region widgets."));var zV=DW("diff-insert",re.add,Bt(0,"Line decoration for inserts in the diff editor.")),UV=DW("diff-remove",re.remove,Bt(0,"Line decoration for removals in the diff editor.")),HV=iS.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+xh.asClassName(zV),marginClassName:"gutter-insert"}),YV=iS.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+xh.asClassName(UV),marginClassName:"gutter-delete"}),JV=iS.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),PV=iS.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),WV=iS.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),GV=iS.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),VV=iS.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),KV=iS.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),XV=iS.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),qV=iS.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});var ZV=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._editors=i,o._diffModel=n,o._options=r,o._decorations=Ej(o,(function(t){var i;var n=(i=o._diffModel.read(t))===null||i===void 0?void 0:i.diff.read(t);if(!n)return null;var r=o._diffModel.read(t).movedTextToCompare.read(t),e=o._options.renderIndicators.read(t),s=o._options.showEmptyDecorations.read(t),u=[],a=[];if(!r)for(var c=0,h=n.mappings;c<h.length;c++){var f=h[c];if(f.lineRangeMapping.original.isEmpty||u.push({range:f.lineRangeMapping.original.toInclusiveRange(),options:e?YV:PV}),f.lineRangeMapping.modified.isEmpty||a.push({range:f.lineRangeMapping.modified.toInclusiveRange(),options:e?HV:JV}),f.lineRangeMapping.modified.isEmpty||f.lineRangeMapping.original.isEmpty)f.lineRangeMapping.original.isEmpty||u.push({range:f.lineRangeMapping.original.toInclusiveRange(),options:XV}),f.lineRangeMapping.modified.isEmpty||a.push({range:f.lineRangeMapping.modified.toInclusiveRange(),options:GV});else for(var l=0,d=f.lineRangeMapping.innerChanges||[];l<d.length;l++){var v=d[l];f.lineRangeMapping.original.contains(v.originalRange.startLineNumber)&&u.push({range:v.originalRange,options:v.originalRange.isEmpty()&&s?qV:KV}),f.lineRangeMapping.modified.contains(v.modifiedRange.startLineNumber)&&a.push({range:v.modifiedRange,options:v.modifiedRange.isEmpty()&&s?VV:WV})}}if(r)for(var A=0,g=r.changes;A<g.length;A++){var f=g[A];var v=f.original.toInclusiveRange();v&&u.push({range:v,options:e?YV:PV});var w=f.modified.toInclusiveRange();w&&a.push({range:w,options:e?HV:JV});for(var p=0,m=f.innerChanges||[];p<m.length;p++){var b=m[p];u.push({range:b.originalRange,options:KV}),a.push({range:b.modifiedRange,options:WV})}}var y=o._diffModel.read(t).activeMovedText.read(t);for(var k=0,x=n.movedTexts;k<x.length;k++){var f=x[k];u.push({range:f.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(f===y?" currentMove":""),blockPadding:[TV.movedCodeBlockPadding,0,TV.movedCodeBlockPadding,TV.movedCodeBlockPadding]}}),a.push({range:f.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(f===y?" currentMove":""),blockPadding:[4,0,4,4]}})}return{originalDecorations:u,modifiedDecorations:a}})),o._register(aV(o._editors.original,o._decorations.map((function(t){return(t==null?void 0:t.originalDecorations)||[]})))),o._register(aV(o._editors.modified,o._decorations.map((function(t){return(t==null?void 0:t.modifiedDecorations)||[]}))));return o}return i}(Cn);var $V=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._options=i,o._domNode=n,o._dimensions=r,o._sashes=e,o._sashRatio=mj(o,void 0),o.sashLeft=Ej(o,(function(t){var i;var n=(i=o._sashRatio.read(t))!==null&&i!==void 0?i:o._options.splitViewDefaultRatio.read(t);return o._computeSashLeft(n,t)})),o._sash=o._register(new yH(o._domNode,{getVerticalSashTop:function(t){return 0},getVerticalSashLeft:function(t){return o.sashLeft.get()},getVerticalSashHeight:function(t){return o._dimensions.height.get()}},{orientation:0})),o._startSashPosition=void 0,o._register(o._sash.onDidStart((function(){o._startSashPosition=o.sashLeft.get()}))),o._register(o._sash.onDidChange((function(t){var i=o._dimensions.width.get(),n=o._computeSashLeft((o._startSashPosition+(t.currentX-t.startX))/i,void 0);o._sashRatio.set(n/i,void 0)}))),o._register(o._sash.onDidEnd((function(){return o._sash.layout()}))),o._register(o._sash.onDidReset((function(){return o._sashRatio.set(void 0,void 0)}))),o._register(_j((function(t){var i=o._sashes.read(t);i&&(o._sash.orthogonalEndSash=i.bottom)}))),o._register(_j((function(t){var i=o._options.enableSplitViewResizing.read(t);o._sash.state=i?3:0,o.sashLeft.read(t),o._dimensions.height.read(t),o._sash.layout()})));return o}i.prototype._computeSashLeft=function(t,i){var n=this._dimensions.width.read(i),r=Math.floor(this._options.splitViewDefaultRatio.read(i)*n),e=this._options.enableSplitViewResizing.read(i)?Math.floor(t*n):r,o=100;return n<=200?r:e<o?o:e>n-o?n-o:e};return i}(Cn);var tK,iK=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},nK=function(t,i){return function(n,r){i(n,r,t)}};var rK=lh("diffProviderFactoryService");var eK=function(){function t(t){this.instantiationService=t}t.prototype.createDiffProvider=function(t){return this.instantiationService.createInstance(oK,t)};return t}();eK=iK([nK(0,fh)],eK),Ad(rK,eK,1);var oK=tK=function(){function t(t,i,n){this.editorWorkerService=i,this.telemetryService=n,this.onDidChangeEventEmitter=new Ln,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}t.prototype.dispose=function(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()};t.prototype.computeDiff=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:if(typeof this.diffAlgorithm!="string")return[2,this.diffAlgorithm.computeDiff(t,i,n,r)];if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return[2,i.getLineCount()===1&&i.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new uA(new eA(1,2),new eA(1,i.getLineCount()+1),[new aA(t.getFullModelRange(),i.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]}];s=JSON.stringify([t.uri.toString(),i.uri.toString()]),u=JSON.stringify([t.id,i.id,t.getAlternativeVersionId(),i.getAlternativeVersionId(),JSON.stringify(n)]),a=tK.diffCache.get(s);if(a&&a.context===u)return[2,a.result];c=In.create();return[4,this.editorWorkerService.computeDiff(t.uri,i.uri,n,this.diffAlgorithm)];case 1:h=l.sent(),f=c.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:f,timedOut:(e=h==null?void 0:h.quitEarly)===null||e===void 0||e,detectedMoves:n.computeMoves?(o=h==null?void 0:h.moves.length)!==null&&o!==void 0?o:0:-1}),r.isCancellationRequested)return[2,{changes:[],identical:!1,quitEarly:!0,moves:[]}];if(!h)throw new Error("no diff result available");return[2,(tK.diffCache.size>10&&tK.diffCache.delete(tK.diffCache.keys().next().value),tK.diffCache.set(s,{result:h,context:u}),h)]}}))}))};t.prototype.setOptions=function(t){var i=this;var n;var r=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange((function(){return i.onDidChangeEventEmitter.fire()}))),r=!0),r&&this.onDidChangeEventEmitter.fire()};return t}();oK.diffCache=new Map,oK=tK=iK([nK(1,FU),nK(2,Tf)],oK);var sK=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},uK=function(t,i){return function(n,r){i(n,r,t)}};var aK=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.model=i,e._options=n,e._diffProviderFactoryService=r,e._isDiffUpToDate=mj(e,!1),e.isDiffUpToDate=e._isDiffUpToDate,e._diff=mj(e,void 0),e.diff=e._diff,e._unchangedRegions=mj(e,void 0),e.unchangedRegions=Ej(e,(function(t){var i,n;return e._options.hideUnchangedRegions.read(t)?(n=(i=e._unchangedRegions.read(t))===null||i===void 0?void 0:i.regions)!==null&&n!==void 0?n:[]:(Aj((function(t){var i;for(var n=0,r=((i=e._unchangedRegions.get())===null||i===void 0?void 0:i.regions)||[];n<r.length;n++){var o=r[n];o.collapseAll(t)}})),[])})),e.movedTextToCompare=mj(e,void 0),e._activeMovedText=mj(e,void 0),e._hoveredMovedText=mj(e,void 0),e.activeMovedText=Ej(e,(function(t){var i,n;return(n=(i=e.movedTextToCompare.read(t))!==null&&i!==void 0?i:e._hoveredMovedText.read(t))!==null&&n!==void 0?n:e._activeMovedText.read(t)})),e._cancellationTokenSource=new Kn,e._diffProvider=Ej(e,(function(t){var i=e._diffProviderFactoryService.createDiffProvider({diffAlgorithm:e._options.diffAlgorithm.read(t)});return{diffProvider:i,onChangeSignal:Lj("onDidChange",i.onDidChange)}})),e._register(En((function(){return e._cancellationTokenSource.cancel()})));var o=zj("contentChangedSignal"),s=e._register(new qs((function(){return o.trigger(void 0)}),200));e._register(_j((function(t){var n=e._unchangedRegions.read(t);if(!n||n.regions.some((function(i){return i.isDragged.read(t)})))return;var r=n.originalDecorationIds.map((function(t){return i.original.getDecorationRange(t)})).map((function(t){return t?eA.fromRangeInclusive(t):void 0})),o=n.modifiedDecorationIds.map((function(t){return i.modified.getDecorationRange(t)})).map((function(t){return t?eA.fromRangeInclusive(t):void 0})),s=n.regions.map((function(i,n){return r[n]&&o[n]?new fK(r[n].startLineNumber,o[n].startLineNumber,r[n].length,i.visibleLineCountTop.read(t),i.visibleLineCountBottom.read(t)):void 0})).filter(ht),u=[];var a=!1;for(var c=0,h=Q(s,(function(i,n){return i.getHiddenModifiedRange(t).endLineNumberExclusive===n.getHiddenModifiedRange(t).startLineNumber}));c<h.length;c++){var f=h[c];if(f.length>1){a=!0;var l=f.reduce((function(t,i){return t+i.lineCount}),0),d=new fK(f[0].originalLineNumber,f[0].modifiedLineNumber,l,f[0].visibleLineCountTop.get(),f[f.length-1].visibleLineCountBottom.get());u.push(d)}else u.push(f[0])}if(a){var v=i.original.deltaDecorations(n.originalDecorationIds,u.map((function(t){return{range:t.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}}))),A=i.modified.deltaDecorations(n.modifiedDecorationIds,u.map((function(t){return{range:t.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}})));Aj((function(t){e._unchangedRegions.set({regions:u,originalDecorationIds:v,modifiedDecorationIds:A},t)}))}})));var u=function(t,n,r){var o=fK.fromDiffs(t.changes,i.original.getLineCount(),i.modified.getLineCount(),e._options.hideUnchangedRegionsMinimumLineCount.read(r),e._options.hideUnchangedRegionsContextLineCount.read(r));var s;var u=e._unchangedRegions.get();if(u){var a=u.originalDecorationIds.map((function(t){return i.original.getDecorationRange(t)})).map((function(t){return t?eA.fromRangeInclusive(t):void 0})),c=u.modifiedDecorationIds.map((function(t){return i.modified.getDecorationRange(t)})).map((function(t){return t?eA.fromRangeInclusive(t):void 0}));var h=function(t,i){var n;return t.filter((function(t){var r=i(t,n);return n=t,r}))}(u.regions.map((function(t,i){if(!a[i]||!c[i])return;var n=a[i].length;return new fK(a[i].startLineNumber,c[i].startLineNumber,n,Math.min(t.visibleLineCountTop.get(),n),Math.min(t.visibleLineCountBottom.get(),n-t.visibleLineCountTop.get()))})).filter(ht),(function(t,i){return!i||t.modifiedLineNumber>=i.modifiedLineNumber+i.lineCount&&t.originalLineNumber>=i.originalLineNumber+i.lineCount})).map((function(t){return new sA(t.getHiddenOriginalRange(r),t.getHiddenModifiedRange(r))}));h=sA.clip(h,eA.ofLength(1,i.original.getLineCount()),eA.ofLength(1,i.modified.getLineCount())),s=sA.inverse(h,i.original.getLineCount(),i.modified.getLineCount())}var f=[];if(s){var l=function(t){var i=s.filter((function(i){return i.original.intersectsStrict(t.originalUnchangedRange)&&i.modified.intersectsStrict(t.modifiedUnchangedRange)}));f.push.apply(f,t.setVisibleRanges(i,n))};for(var c=0,d=o;c<d.length;c++){var v=d[c];l(v)}}else f.push.apply(f,o);var A=i.original.deltaDecorations((u==null?void 0:u.originalDecorationIds)||[],f.map((function(t){return{range:t.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}}))),g=i.modified.deltaDecorations((u==null?void 0:u.modifiedDecorationIds)||[],f.map((function(t){return{range:t.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}})));e._unchangedRegions.set({regions:f,originalDecorationIds:A,modifiedDecorationIds:g},n)};e._register(i.modified.onDidChangeContent((function(t){if(e._diff.get()){VD.fromModelContentChanges(t.changes)}e._isDiffUpToDate.set(!1,void 0),s.schedule()}))),e._register(i.original.onDidChangeContent((function(t){if(e._diff.get()){VD.fromModelContentChanges(t.changes)}e._isDiffUpToDate.set(!1,void 0),s.schedule()}))),e._register(Ij((function(t,n){return __awaiter(e,void 0,void 0,(function(){var r,e,a,c,h,f,l,d,v;var A=this;return __generator(this,(function(g){switch(g.label){case 0:this._options.hideUnchangedRegionsMinimumLineCount.read(t),this._options.hideUnchangedRegionsContextLineCount.read(t),s.cancel(),o.read(t);a=this._diffProvider.read(t);a.onChangeSignal.read(t),gV(JA,t),gV(jA,t),this._isDiffUpToDate.set(!1,void 0);c=[];n.add(i.original.onDidChangeContent((function(t){var i=VD.fromModelContentChanges(t.changes);c=DM(c,i)})));h=[];n.add(i.modified.onDidChangeContent((function(t){var i=VD.fromModelContentChanges(t.changes);h=DM(h,i)})));return[4,a.diffProvider.computeDiff(i.original,i.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(t),maxComputationTimeMs:this._options.maxComputationTimeMs.read(t),computeMoves:this._options.showMoves.read(t)},this._cancellationTokenSource.token)];case 1:f=g.sent();this._cancellationTokenSource.token.isCancellationRequested||(l=f,d=i.original,v=i.modified,f={changes:l.changes.map((function(t){return new uA(t.original,t.modified,t.innerChanges?t.innerChanges.map((function(t){return function(t,i,n){var r=t.originalRange,e=t.modifiedRange;return(r.endColumn!==1||e.endColumn!==1)&&r.endColumn===i.getLineMaxColumn(r.endLineNumber)&&e.endColumn===n.getLineMaxColumn(e.endLineNumber)&&r.endLineNumber<i.getLineCount()&&e.endLineNumber<n.getLineCount()&&(r=r.setEndPosition(r.endLineNumber+1,1),e=e.setEndPosition(e.endLineNumber+1,1)),new aA(r,e)}(t,d,v)})):void 0)})),moves:l.moves,identical:l.identical,quitEarly:l.quitEarly},f=(r=void 0)!==null&&r!==void 0?r:f,f=(e=void 0)!==null&&e!==void 0?e:f,Aj((function(t){u(f,t),A._lastDiff=f;var i=cK.fromDiffResult(f);A._diff.set(i,t),A._isDiffUpToDate.set(!0,t);var n=A.movedTextToCompare.get();A.movedTextToCompare.set(n?A._lastDiff.moves.find((function(t){return t.lineRangeMapping.modified.intersect(n.lineRangeMapping.modified)})):void 0,t)})));return[2]}}))}))})));return e}i.prototype.setActiveMovedText=function(t){this._activeMovedText.set(t,void 0)};i.prototype.ensureModifiedLineIsVisible=function(t,i,n){var r,e;if(((r=this.diff.get())===null||r===void 0?void 0:r.mappings.length)===0)return;var o=((e=this._unchangedRegions.get())===null||e===void 0?void 0:e.regions)||[];for(var s=0,u=o;s<u.length;s++){var a=u[s];if(a.getHiddenModifiedRange(void 0).contains(t))return void a.showModifiedLine(t,i,n)}};i.prototype.ensureOriginalLineIsVisible=function(t,i,n){var r,e;if(((r=this.diff.get())===null||r===void 0?void 0:r.mappings.length)===0)return;var o=((e=this._unchangedRegions.get())===null||e===void 0?void 0:e.regions)||[];for(var s=0,u=o;s<u.length;s++){var a=u[s];if(a.getHiddenOriginalRange(void 0).contains(t))return void a.showOriginalLine(t,i,n)}};i.prototype.waitForDiff=function(){return __awaiter(this,void 0,void 0,(function(){var t,i,n;return __generator(this,(function(r){switch(r.label){case 0:return[4,(t=this.isDiffUpToDate,i=function(t){return t},new Promise((function(r,e){var o=!0,s=!1;var u=t.map((function(t){return{isFinished:i(t),error:!!n,state:t}})),a=_j((function(t){var i=u.read(t),n=i.isFinished,c=i.error,h=i.state;(n||c)&&(o?s=!0:a.dispose(),c?e(c===!0?h:c):r(h))}));o=!1,s&&a.dispose()})))];case 1:r.sent();return[2]}}))}))};i.prototype.serializeState=function(){var t=this._unchangedRegions.get();return{collapsedRegions:t==null?void 0:t.regions.map((function(t){return{range:t.getHiddenModifiedRange(void 0).serialize()}}))}};i.prototype.restoreSerializedState=function(t){var i;var n=(i=t.collapsedRegions)===null||i===void 0?void 0:i.map((function(t){return eA.deserialize(t.range)})),r=this._unchangedRegions.get();r&&n&&Aj((function(t){for(var i=0,e=r.regions;i<e.length;i++){var o=e[i];for(var s=0,u=n;s<u.length;s++){var a=u[s];if(o.modifiedUnchangedRange.intersect(a)){o.setHiddenModifiedRange(a,t);break}}}}))};return i}(Cn);aK=sK([uK(2,rK)],aK);var cK=function(){function t(t,i,n,r){this.mappings=t,this.movedTexts=i,this.identical=n,this.quitEarly=r}t.fromDiffResult=function(i){return new t(i.changes.map((function(t){return new hK(t)})),i.moves||[],i.identical,i.quitEarly)};return t}();var hK=function(){function t(t){this.lineRangeMapping=t}return t}();var fK=function(){function t(t,i,n,r,e){var o=this;this.originalLineNumber=t,this.modifiedLineNumber=i,this.lineCount=n,this._visibleLineCountTop=mj(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=mj(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=Ej(this,(function(t){return o.visibleLineCountTop.read(t)+o.visibleLineCountBottom.read(t)===o.lineCount&&!o.isDragged.read(t)})),this.isDragged=mj(this,void 0);var s=Math.max(Math.min(r,this.lineCount),0),u=Math.max(Math.min(e,this.lineCount-r),0);pf(r===s),pf(e===u),this._visibleLineCountTop.set(s,void 0),this._visibleLineCountBottom.set(u,void 0)}t.fromDiffs=function(i,n,r,e,o){var s=uA.inverse(i,n,r),u=[];for(var a=0,c=s;a<c.length;a++){var h=c[a];var f=h.original.startLineNumber,l=h.modified.startLineNumber,d=h.original.length;var v=f===1&&l===1,A=f+d===n+1&&l+d===r+1;(v||A)&&d>=o+e?(v&&!A&&(d-=o),A&&!v&&(f+=o,l+=o,d-=o),u.push(new t(f,l,d,0,0))):d>=2*o+e&&(f+=o,l+=o,d-=2*o,u.push(new t(f,l,d,0,0)))}return u};Object.defineProperty(t.prototype,"originalUnchangedRange",{get:function(){return eA.ofLength(this.originalLineNumber,this.lineCount)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"modifiedUnchangedRange",{get:function(){return eA.ofLength(this.modifiedLineNumber,this.lineCount)},enumerable:false,configurable:true});t.prototype.setVisibleRanges=function(i,n){var r=[],e=new oA(i.map((function(t){return t.modified}))).subtractFrom(this.modifiedUnchangedRange);var o=this.originalLineNumber,s=this.modifiedLineNumber;var u=this.modifiedLineNumber+this.lineCount;if(e.ranges.length===0)this.showAll(n),r.push(this);else{var a=0;for(var c=0,h=e.ranges;c<h.length;c++){var f=h[c];var l=a===e.ranges.length-1;a++;var d=(l?u:f.endLineNumberExclusive)-s,v=new t(o,s,d,0,0);v.setHiddenModifiedRange(f,n),r.push(v),o=v.originalUnchangedRange.endLineNumberExclusive,s=v.modifiedUnchangedRange.endLineNumberExclusive}}return r};t.prototype.shouldHideControls=function(t){return this._shouldHideControls.read(t)};t.prototype.getHiddenOriginalRange=function(t){return eA.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(t),this.lineCount-this._visibleLineCountTop.read(t)-this._visibleLineCountBottom.read(t))};t.prototype.getHiddenModifiedRange=function(t){return eA.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(t),this.lineCount-this._visibleLineCountTop.read(t)-this._visibleLineCountBottom.read(t))};t.prototype.setHiddenModifiedRange=function(t,i){var n=t.startLineNumber-this.modifiedLineNumber,r=this.modifiedLineNumber+this.lineCount-t.endLineNumberExclusive;this.setState(n,r,i)};t.prototype.getMaxVisibleLineCountTop=function(){return this.lineCount-this._visibleLineCountBottom.get()};t.prototype.getMaxVisibleLineCountBottom=function(){return this.lineCount-this._visibleLineCountTop.get()};t.prototype.showMoreAbove=function(t,i){if(t===void 0){t=10}var n=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+t,n),i)};t.prototype.showMoreBelow=function(t,i){if(t===void 0){t=10}var n=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+t,n),i)};t.prototype.showAll=function(t){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),t)};t.prototype.showModifiedLine=function(t,i,n){var r=t+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),e=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-t;i===0&&r<e||i===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+r,n):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+e,n)};t.prototype.showOriginalLine=function(t,i,n){var r=t-this.originalLineNumber,e=this.originalLineNumber+this.lineCount-t;i===0&&r<e||i===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e-r,this.getMaxVisibleLineCountTop()),n):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+r-e,this.getMaxVisibleLineCountBottom()),n)};t.prototype.collapseAll=function(t){this._visibleLineCountTop.set(0,t),this._visibleLineCountBottom.set(0,t)};t.prototype.setState=function(t,i,n){t=Math.max(Math.min(t,this.lineCount),0),i=Math.max(Math.min(i,this.lineCount-t),0),this._visibleLineCountTop.set(t,n),this._visibleLineCountBottom.set(i,n)};return t}();var lK=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;h=t.call(this)||this,h._getViewZoneId=i,h._marginDomNode=n,h._modifiedEditor=r,h._diff=e,h._editor=o,h._viewLineCounts=s,h._originalTextModel=u,h._contextMenuService=a,h._clipboardService=c,h._visibility=!1,h._marginDomNode.style.zIndex="10",h._diffActions=document.createElement("div"),h._diffActions.className=xh.asClassName(re.lightBulb)+" lightbulb-glyph",h._diffActions.style.position="absolute";var f=h._modifiedEditor.getOption(67);h._diffActions.style.right="0px",h._diffActions.style.visibility="hidden",h._diffActions.style.height="".concat(f,"px"),h._diffActions.style.lineHeight="".concat(f,"px"),h._marginDomNode.appendChild(h._diffActions);var l=0;var d=r.getOption(127)&&!Zt,v=function(t,i){var n;h._contextMenuService.showContextMenu({domForShadowRoot:d&&(n=r.getDomNode())!==null&&n!==void 0?n:void 0,getAnchor:function(){return{x:t,y:i}},getActions:function(){var t=[],i=e.modified.isEmpty;return t.push(new gh("diff.clipboard.copyDeletedContent",i?e.original.length>1?Bt(0,"Copy deleted lines"):Bt(0,"Copy deleted line"):e.original.length>1?Bt(0,"Copy changed lines"):Bt(0,"Copy changed line"),void 0,!0,(function(){return __awaiter(h,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:t=this._originalTextModel.getValueInRange(e.original.toExclusiveRange());return[4,this._clipboardService.writeText(t)];case 1:i.sent();return[2]}}))}))}))),e.original.length>1&&t.push(new gh("diff.clipboard.copyDeletedLineContent",Bt(0,i?"Copy deleted line ({0})":"Copy changed line ({0})",e.original.startLineNumber+l),void 0,!0,(function(){return __awaiter(h,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:t=this._originalTextModel.getLineContent(e.original.startLineNumber+l);t===""&&(t=this._originalTextModel.getEndOfLineSequence()===0?"\n":"\r\n");return[4,this._clipboardService.writeText(t)];case 1:i.sent();return[2]}}))}))}))),r.getOption(91)||t.push(new gh("diff.inline.revertChange",Bt(0,"Revert this change"),void 0,!0,(function(){return __awaiter(h,void 0,void 0,(function(){return __generator(this,(function(t){this._editor.revert(this._diff);return[2]}))}))}))),t},autoSelectFirstItem:!0})};h._register(Ra(h._diffActions,"mousedown",(function(t){if(!t.leftButton)return;var i=Ka(h._diffActions),n=i.top,r=i.height,e=Math.floor(f/3);t.preventDefault(),v(t.posx,n+r+e)}))),h._register(r.onMouseMove((function(t){t.target.type!==8&&t.target.type!==5||t.target.detail.viewZoneId!==h._getViewZoneId()?h.visibility=!1:(l=h._updateLightBulbPosition(h._marginDomNode,t.event.browserEvent.y,f),h.visibility=!0)}))),h._register(r.onMouseDown((function(t){t.event.leftButton&&(t.target.type===8||t.target.type===5)&&t.target.detail.viewZoneId===h._getViewZoneId()&&(t.event.preventDefault(),l=h._updateLightBulbPosition(h._marginDomNode,t.event.browserEvent.y,f),v(t.event.posx,t.event.posy+f))})));return h}Object.defineProperty(i.prototype,"visibility",{get:function(){return this._visibility},set:function(t){this._visibility!==t&&(this._visibility=t,this._diffActions.style.visibility=t?"visible":"hidden")},enumerable:false,configurable:true});i.prototype._updateLightBulbPosition=function(t,i,n){var r=Ka(t).top,e=i-r,o=Math.floor(e/n),s=o*n;if(this._diffActions.style.top="".concat(s,"px"),this._viewLineCounts){var u=0;for(var a=0;a<this._viewLineCounts.length;a++)if(u+=this._viewLineCounts[a],o<u)return a}return o};return i}(Cn);var dK=ml("diffEditorWidget",{createHTML:function(t){return t}});function vK(t,i,n,r){ih(r,i.fontInfo);var e=n.length>0,o=new Wl(1e4);var s=0,u=0;var a=[];for(var c=0;c<t.lineTokens.length;c++){var h=c+1,f=t.lineTokens[c],l=t.lineBreakData[c],d=Rg.filter(n,h,1,Number.MAX_SAFE_INTEGER);if(l){var v=0;for(var A=0,g=l.breakOffsets;A<g.length;A++){var w=g[A];var p=f.sliceAndInflate(v,w,0);s=Math.max(s,wK(u,p,Rg.extractWrapped(d,v,w),e,t.mightContainNonBasicASCII,t.mightContainRTL,i,o)),u++,v=w}a.push(l.breakOffsets.length)}else a.push(1),s=Math.max(s,wK(u,f,d,e,t.mightContainNonBasicASCII,t.mightContainRTL,i,o)),u++}s+=i.scrollBeyondLastColumn;var m=o.build(),b=dK?dK.createHTML(m):m;return r.innerHTML=b,{heightInLines:u,minWidthInPx:s*i.typicalHalfwidthCharacterWidth,viewLineCounts:a}}var AK=function(){function t(t,i,n,r){this.lineTokens=t,this.lineBreakData=i,this.mightContainNonBasicASCII=n,this.mightContainRTL=r}return t}();var gK=function(){function t(t,i,n,r,e,o,s,u,a,c,h){this.tabSize=t,this.fontInfo=i,this.disableMonospaceOptimizations=n,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=e,this.lineHeight=o,this.lineDecorationsWidth=s,this.stopRenderingLineAfter=u,this.renderWhitespace=a,this.renderControlCharacters=c,this.fontLigatures=h}t.fromEditor=function(i){var n;var r=i.getOptions(),e=r.get(50),o=r.get(145);return new t(((n=i.getModel())===null||n===void 0?void 0:n.getOptions().tabSize)||0,e,r.get(33),e.typicalHalfwidthCharacterWidth,r.get(104),r.get(67),o.decorationsWidth,r.get(117),r.get(99),r.get(94),r.get(51))};return t}();function wK(t,i,n,r,e,o,s,u){u.appendString('<div class="view-line'),r||u.appendString(" char-delete"),u.appendString('" style="top:'),u.appendString(String(t*s.lineHeight)),u.appendString('px;width:1000000px;">');var a=i.getLineContent(),c=iw.isBasicASCII(a,e),h=iw.containsRTL(a,c,o),f=Wg(new Hg(s.fontInfo.isMonospace&&!s.disableMonospaceOptimizations,s.fontInfo.canUseHalfwidthRightwardsArrow,a,!1,c,h,0,i,n,s.tabSize,0,s.fontInfo.spaceWidth,s.fontInfo.middotWidth,s.fontInfo.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==Hi.OFF,null),u);return u.appendString("</div>"),f.characterMapping.getHorizontalOffset(f.characterMapping.length)}var pK=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},mK=function(t,i){return function(n,r){i(n,r,t)}};var bK=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h){var f=this;f=t.call(this)||this,f._targetWindow=i,f._editors=n,f._diffModel=r,f._options=e,f._diffEditorWidget=o,f._canIgnoreViewZoneUpdateEvent=s,f._origViewZonesToIgnore=u,f._modViewZonesToIgnore=a,f._clipboardService=c,f._contextMenuService=h,f._originalTopPadding=mj(f,0),f._originalScrollOffset=mj(f,0),f._originalScrollOffsetAnimated=fV(f._targetWindow,f._originalScrollOffset,f._store),f._modifiedTopPadding=mj(f,0),f._modifiedScrollOffset=mj(f,0),f._modifiedScrollOffsetAnimated=fV(f._targetWindow,f._modifiedScrollOffset,f._store);var l=mj("invalidateAlignmentsState",0),d=f._register(new qs((function(){l.set(l.get()+1,void 0)}),0));f._register(f._editors.original.onDidChangeViewZones((function(t){f._canIgnoreViewZoneUpdateEvent()||d.schedule()}))),f._register(f._editors.modified.onDidChangeViewZones((function(t){f._canIgnoreViewZoneUpdateEvent()||d.schedule()}))),f._register(f._editors.original.onDidChangeConfiguration((function(t){(t.hasChanged(146)||t.hasChanged(67))&&d.schedule()}))),f._register(f._editors.modified.onDidChangeConfiguration((function(t){(t.hasChanged(146)||t.hasChanged(67))&&d.schedule()})));var v=f._diffModel.map((function(t){return t?Rj(t.model.original.onDidChangeTokens,(function(){return t.model.original.tokenization.backgroundTokenizationState===2})):void 0})).map((function(t,i){return t==null?void 0:t.read(i)})),A=Ej((function(t){var i=f._diffModel.read(t),n=i==null?void 0:i.diff.read(t);if(!i||!n)return null;l.read(t);var r=f._options.renderSideBySide.read(t);return yK(f._editors.original,f._editors.modified,n.mappings,f._origViewZonesToIgnore,f._modViewZonesToIgnore,r)})),g=Ej((function(t){var i;var n=(i=f._diffModel.read(t))===null||i===void 0?void 0:i.movedTextToCompare.read(t);if(!n)return null;l.read(t);var r=n.changes.map((function(t){return new hK(t)}));return yK(f._editors.original,f._editors.modified,r,f._origViewZonesToIgnore,f._modViewZonesToIgnore,!0)}));function w(){var t=document.createElement("div");return t.className="diagonal-fill",t}var p=f._register(new Bn);f.viewZones=Cj(f,(function(t,i){var n,r,e,s,u,a,c,h;p.clear();var l=A.read(t)||[],d=[],m=[],b=f._modifiedTopPadding.read(t);b>0&&m.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:b,showInHiddenAreas:!0,suppressMouseDown:!0});var y=f._originalTopPadding.read(t);y>0&&d.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:y,showInHiddenAreas:!0,suppressMouseDown:!0});var k=f._options.renderSideBySide.read(t),x=k||(n=f._editors.modified._getViewModel())===null||n===void 0?void 0:n.createLineBreaksComputer();if(x){var E=f._editors.original.getModel();for(var B=0,C=l;B<C.length;B++){var D=C[B];if(D.diff)for(var M=D.originalRange.startLineNumber;M<D.originalRange.endLineNumberExclusive;M++){if(M>E.getLineCount())return{orig:d,mod:m};x==null||x.addRequest(E.getLineContent(M),null,null)}}}var _=(r=x==null?void 0:x.finalize())!==null&&r!==void 0?r:[];var F=0;var S=f._editors.modified.getOption(67),I=(e=f._diffModel.read(t))===null||e===void 0?void 0:e.movedTextToCompare.read(t),Q=(u=(s=f._editors.original.getModel())===null||s===void 0?void 0:s.mightContainNonBasicASCII())!==null&&u!==void 0&&u,O=(c=(a=f._editors.original.getModel())===null||a===void 0?void 0:a.mightContainRTL())!==null&&c!==void 0&&c,N=gK.fromEditor(f._editors.modified);var R=function(n){if(n.diff&&!k){if(!n.originalRange.isEmpty){v.read(t);var r=document.createElement("div");r.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");var e=f._editors.original.getModel();if(n.originalRange.endLineNumberExclusive-1>e.getLineCount())return{value:{orig:d,mod:m}};var s=new AK(n.originalRange.mapToLineArray((function(t){return e.tokenization.getLineTokens(t)})),n.originalRange.mapToLineArray((function(t){return _[F++]})),Q,O),u=[];for(var a=0,c=n.diff.innerChanges||[];a<c.length;a++){var h=c[a];u.push(new nw(h.originalRange.delta(-(n.diff.original.startLineNumber-1)),KV.className,0))}var l=vK(s,N,u,r),A=document.createElement("div");if(A.className="inline-deleted-margin-view-zone",ih(A,N.fontInfo),f._options.renderIndicators.read(t))for(var h=0;h<l.heightInLines;h++){var g=document.createElement("div");g.className="delete-sign ".concat(xh.asClassName(UV)),g.setAttribute("style","position:absolute;top:".concat(h*S,"px;width:").concat(N.lineDecorationsWidth,"px;height:").concat(S,"px;right:0;")),A.appendChild(g)}var b;p.add(new lK((function(){return dt(b)}),A,f._editors.modified,n.diff,f._diffEditorWidget,l.viewLineCounts,f._editors.original.getModel(),f._contextMenuService,f._clipboardService));for(var h=0;h<l.viewLineCounts.length;h++){var g=l.viewLineCounts[h];g>1&&d.push({afterLineNumber:n.originalRange.startLineNumber+h,domNode:w(),heightInPx:(g-1)*S,showInHiddenAreas:!0,suppressMouseDown:!0})}m.push({afterLineNumber:n.modifiedRange.startLineNumber-1,domNode:r,heightInPx:l.heightInLines*S,minWidthInPx:l.minWidthInPx,marginDomNode:A,setZoneId:function(t){b=t},showInHiddenAreas:!0,suppressMouseDown:!0})}var y=document.createElement("div");y.className="gutter-delete",d.push({afterLineNumber:n.originalRange.endLineNumberExclusive-1,domNode:w(),heightInPx:n.modifiedHeightInPx,marginDomNode:y,showInHiddenAreas:!0,suppressMouseDown:!0})}else{var y=n.modifiedHeightInPx-n.originalHeightInPx;if(y>0){if(I!=null&&I.lineRangeMapping.original.delta(-1).deltaLength(2).contains(n.originalRange.endLineNumberExclusive-1))return"continue";d.push({afterLineNumber:n.originalRange.endLineNumberExclusive-1,domNode:w(),heightInPx:y,showInHiddenAreas:!0,suppressMouseDown:!0})}else{var r=function(){var t=document.createElement("div");return t.className="arrow-revert-change "+xh.asClassName(re.arrowRight),i.add(Oa(t,"mousedown",(function(t){return t.stopPropagation()}))),i.add(Oa(t,"click",(function(t){t.stopPropagation(),o.revert(n.diff)}))),Nc("div",{},t)};if(I!=null&&I.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(n.modifiedRange.endLineNumberExclusive-1))return"continue";var x=void 0;n.diff&&n.diff.modified.isEmpty&&f._options.shouldRenderOldRevertArrows.read(t)&&(x=r()),m.push({afterLineNumber:n.modifiedRange.endLineNumberExclusive-1,domNode:w(),heightInPx:-y,marginDomNode:x,showInHiddenAreas:!0,suppressMouseDown:!0})}}};for(var T=0,L=l;T<L.length;T++){var E=L[T];var j=R(E);if(typeof j==="object")return j.value}for(var z=0,U=(h=g.read(t))!==null&&h!==void 0?h:[];z<U.length;z++){var E=U[z];if(!(I!=null&&I.lineRangeMapping.original.intersect(E.originalRange))||!(I!=null&&I.lineRangeMapping.modified.intersect(E.modifiedRange)))continue;var D=E.modifiedHeightInPx-E.originalHeightInPx;D>0?d.push({afterLineNumber:E.originalRange.endLineNumberExclusive-1,domNode:w(),heightInPx:D,showInHiddenAreas:!0,suppressMouseDown:!0}):m.push({afterLineNumber:E.modifiedRange.endLineNumberExclusive-1,domNode:w(),heightInPx:-D,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:d,mod:m}}));var m=!1;f._register(f._editors.original.onDidScrollChange((function(t){t.scrollLeftChanged&&!m&&(m=!0,f._editors.modified.setScrollLeft(t.scrollLeft),m=!1)}))),f._register(f._editors.modified.onDidScrollChange((function(t){t.scrollLeftChanged&&!m&&(m=!0,f._editors.original.setScrollLeft(t.scrollLeft),m=!1)}))),f._originalScrollTop=Rj(f._editors.original.onDidScrollChange,(function(){return f._editors.original.getScrollTop()})),f._modifiedScrollTop=Rj(f._editors.modified.onDidScrollChange,(function(){return f._editors.modified.getScrollTop()})),f._register(_j((function(t){var i=f._originalScrollTop.read(t)-(f._originalScrollOffsetAnimated.get()-f._modifiedScrollOffsetAnimated.read(t))-(f._originalTopPadding.get()-f._modifiedTopPadding.read(t));i!==f._editors.modified.getScrollTop()&&f._editors.modified.setScrollTop(i,1)}))),f._register(_j((function(t){var i=f._modifiedScrollTop.read(t)-(f._modifiedScrollOffsetAnimated.get()-f._originalScrollOffsetAnimated.read(t))-(f._modifiedTopPadding.get()-f._originalTopPadding.read(t));i!==f._editors.original.getScrollTop()&&f._editors.original.setScrollTop(i,1)}))),f._register(_j((function(t){var i;var n=(i=f._diffModel.read(t))===null||i===void 0?void 0:i.movedTextToCompare.read(t);var r=0;if(n){var e=f._editors.original.getTopForLineNumber(n.lineRangeMapping.original.startLineNumber,!0)-f._originalTopPadding.get();r=f._editors.modified.getTopForLineNumber(n.lineRangeMapping.modified.startLineNumber,!0)-f._modifiedTopPadding.get()-e}r>0?(f._modifiedTopPadding.set(0,void 0),f._originalTopPadding.set(r,void 0)):r<0?(f._modifiedTopPadding.set(-r,void 0),f._originalTopPadding.set(0,void 0)):setTimeout((function(){f._modifiedTopPadding.set(0,void 0),f._originalTopPadding.set(0,void 0)}),400),f._editors.modified.hasTextFocus()?f._originalScrollOffset.set(f._modifiedScrollOffset.get()-r,void 0,!0):f._modifiedScrollOffset.set(f._originalScrollOffset.get()+r,void 0,!0)})));return f}return i}(Cn);function yK(t,i,n,r,e,o){var s=new tt(kK(t,r)),u=new tt(kK(i,e)),a=t.getOption(67),c=i.getOption(67),h=[];var f=0,l=0;function d(t,i){for(;;){var n=s.peek(),r=u.peek();if(n&&n.lineNumber>=t&&(n=void 0),r&&r.lineNumber>=i&&(r=void 0),!n&&!r)break;var e=n?n.lineNumber-f:Number.MAX_VALUE,o=r?r.lineNumber-l:Number.MAX_VALUE;e<o?(s.dequeue(),r={lineNumber:n.lineNumber-f+l,heightInPx:0}):e>o?(u.dequeue(),n={lineNumber:r.lineNumber-l+f,heightInPx:0}):(s.dequeue(),u.dequeue()),h.push({originalRange:eA.ofLength(n.lineNumber,1),modifiedRange:eA.ofLength(r.lineNumber,1),originalHeightInPx:a+n.heightInPx,modifiedHeightInPx:c+r.heightInPx,diff:void 0})}}var v=function(i){var n=function(t,n){var r,o,f,l;if(t<A||n<v)return;if(e)e=!1;else if(t===A||n===v)return;var d=new eA(A,t),g=new eA(v,n);if(d.isEmpty&&g.isEmpty)return;var w=(o=(r=s.takeWhile((function(i){return i.lineNumber<t})))===null||r===void 0?void 0:r.reduce((function(t,i){return t+i.heightInPx}),0))!==null&&o!==void 0?o:0,p=(l=(f=u.takeWhile((function(t){return t.lineNumber<n})))===null||f===void 0?void 0:f.reduce((function(t,i){return t+i.heightInPx}),0))!==null&&l!==void 0?l:0;h.push({originalRange:d,modifiedRange:g,originalHeightInPx:d.length*a+w,modifiedHeightInPx:g.length*c+p,diff:i.lineRangeMapping}),A=t,v=n};var r=i.lineRangeMapping;d(r.original.startLineNumber,r.modified.startLineNumber);var e=!0,v=r.modified.startLineNumber,A=r.original.startLineNumber;if(o)for(var g=0,w=r.innerChanges||[];g<w.length;g++){var p=w[g];p.originalRange.startColumn>1&&p.modifiedRange.startColumn>1&&n(p.originalRange.startLineNumber,p.modifiedRange.startLineNumber);var m=t.getModel(),b=p.originalRange.endLineNumber<=m.getLineCount()?m.getLineMaxColumn(p.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;p.originalRange.endColumn<b&&n(p.originalRange.endLineNumber,p.modifiedRange.endLineNumber)}n(r.original.endLineNumberExclusive,r.modified.endLineNumberExclusive),f=r.original.endLineNumberExclusive,l=r.modified.endLineNumberExclusive};for(var A=0,g=n;A<g.length;A++){var w=g[A];v(w)}return d(Number.MAX_VALUE,Number.MAX_VALUE),h}function kK(t,i){var n=[],r=[],e=t.getOption(146).wrappingColumn!==-1,o=t._getViewModel().coordinatesConverter,s=t.getOption(67);if(e)for(var u=1;u<=t.getModel().getLineCount();u++){var a=o.getModelLineViewLineCount(u);a>1&&r.push({lineNumber:u,heightInPx:s*(a-1)})}for(var c=0,h=t.getWhitespaces();c<h.length;c++){var u=h[c];if(i.has(u.id))continue;var a=u.afterLineNumber===0?0:o.convertViewPositionToModelPosition(new qr(u.afterLineNumber,1)).lineNumber;n.push({lineNumber:a,heightInPx:u.height})}return function(t,i,n,r){if(t.length===0)return i;if(i.length===0)return t;var e=[];var o=0,s=0;for(;o<t.length&&s<i.length;){var u=t[o],a=i[s],c=n(u),h=n(a);c<h?(e.push(u),o++):c>h?(e.push(a),s++):(e.push(r(u,a)),o++,s++)}for(;o<t.length;)e.push(t[o]),o++;for(;s<i.length;)e.push(i[s]),s++;return e}(n,r,(function(t){return t.lineNumber}),(function(t,i){return{lineNumber:t.lineNumber,heightInPx:t.heightInPx+i.heightInPx}}))}bK=pK([mK(8,uG),mK(9,TO)],bK);var xK,EK=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},BK=function(t,i){return function(n,r){i(n,r,t)}};var CK=xK=function(t){__extends(i,t);function i(n,r,e,o){var s=this;s=t.call(this)||this,s._editors=n,s._diffModel=r,s._options=e,s._instantiationService=o,s._modifiedOutlineSource=Dj(s,(function(t){var n=s._editors.modifiedModel.read(t),r=i._breadcrumbsSourceFactory.read(t);return n&&r?r(n,s._instantiationService):void 0})),s._isUpdatingHiddenAreas=!1,s._register(s._editors.original.onDidChangeCursorPosition((function(t){if(t.reason===1)return;var i=s._diffModel.get();Aj((function(t){for(var n=0,r=s._editors.original.getSelections()||[];n<r.length;n++){var e=r[n];i==null||i.ensureOriginalLineIsVisible(e.getStartPosition().lineNumber,0,t),i==null||i.ensureOriginalLineIsVisible(e.getEndPosition().lineNumber,0,t)}}))}))),s._register(s._editors.modified.onDidChangeCursorPosition((function(t){if(t.reason===1)return;var i=s._diffModel.get();Aj((function(t){for(var n=0,r=s._editors.modified.getSelections()||[];n<r.length;n++){var e=r[n];i==null||i.ensureModifiedLineIsVisible(e.getStartPosition().lineNumber,0,t),i==null||i.ensureModifiedLineIsVisible(e.getEndPosition().lineNumber,0,t)}}))})));var u=s._diffModel.map((function(t,i){var n,r;var e=(n=t==null?void 0:t.unchangedRegions.read(i))!==null&&n!==void 0?n:[];return e.length===1&&e[0].modifiedLineNumber===1&&e[0].lineCount===((r=s._editors.modifiedModel.read(i))===null||r===void 0?void 0:r.getLineCount())?[]:e}));s.viewZones=Cj(s,(function(t,i){var n=s._modifiedOutlineSource.read(t);if(!n)return{origViewZones:[],modViewZones:[]};var r=[],e=[],o=s._options.renderSideBySide.read(t),a=u.read(t);var c=function(u){if(!u.shouldHideControls(t)){{var a=Ej(s,(function(t){return u.getHiddenOriginalRange(t).startLineNumber-1})),c=new dV(a,24);r.push(c),i.add(new DK(s._editors.original,c,u,u.originalUnchangedRange,!o,n,(function(t){return s._diffModel.get().ensureModifiedLineIsVisible(t,2,void 0)}),s._options))}{var a=Ej(s,(function(t){return u.getHiddenModifiedRange(t).startLineNumber-1})),c=new dV(a,24);e.push(c),i.add(new DK(s._editors.modified,c,u,u.modifiedUnchangedRange,!1,n,(function(t){return s._diffModel.get().ensureModifiedLineIsVisible(t,2,void 0)}),s._options))}}};for(var h=0,f=a;h<f.length;h++){var l=f[h];c(l)}return{origViewZones:r,modViewZones:e}}));var a={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},c={description:"Fold Unchanged",glyphMarginHoverMessage:new uR(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(Bt(0,"Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+xh.asClassName(re.fold),zIndex:10001};s._register(aV(s._editors.original,Ej(s,(function(t){var i=u.read(t),n=i.map((function(t){return{range:t.originalUnchangedRange.toInclusiveRange(),options:a}}));for(var r=0,e=i;r<e.length;r++){var o=e[r];o.shouldHideControls(t)&&n.push({range:Zr.fromPositions(new qr(o.originalLineNumber,1)),options:c})}return n})))),s._register(aV(s._editors.modified,Ej(s,(function(t){var i=u.read(t),n=i.map((function(t){return{range:t.modifiedUnchangedRange.toInclusiveRange(),options:a}}));for(var r=0,e=i;r<e.length;r++){var o=e[r];o.shouldHideControls(t)&&n.push({range:eA.ofLength(o.modifiedLineNumber,1).toInclusiveRange(),options:c})}return n})))),s._register(_j((function(t){var i=u.read(t);s._isUpdatingHiddenAreas=!0;try{s._editors.original.setHiddenAreas(i.map((function(i){return i.getHiddenOriginalRange(t).toInclusiveRange()})).filter(ht)),s._editors.modified.setHiddenAreas(i.map((function(i){return i.getHiddenModifiedRange(t).toInclusiveRange()})).filter(ht))}finally{s._isUpdatingHiddenAreas=!1}}))),s._register(s._editors.modified.onMouseUp((function(t){var i;if(!t.event.rightButton&&t.target.position&&(!((i=t.target.element)===null||i===void 0)&&i.className.includes("fold-unchanged"))){var n=t.target.position.lineNumber,r=s._diffModel.get();if(!r)return;var e=r.unchangedRegions.get().find((function(t){return t.modifiedUnchangedRange.includes(n)}));if(!e)return;e.collapseAll(void 0),t.event.stopPropagation(),t.event.preventDefault()}}))),s._register(s._editors.original.onMouseUp((function(t){var i;if(!t.event.rightButton&&t.target.position&&(!((i=t.target.element)===null||i===void 0)&&i.className.includes("fold-unchanged"))){var n=t.target.position.lineNumber,r=s._diffModel.get();if(!r)return;var e=r.unchangedRegions.get().find((function(t){return t.originalUnchangedRange.includes(n)}));if(!e)return;e.collapseAll(void 0),t.event.stopPropagation(),t.event.preventDefault()}})));return s}i.setBreadcrumbsSourceFactory=function(t){this._breadcrumbsSourceFactory.set(t,void 0)};Object.defineProperty(i.prototype,"isUpdatingHiddenAreas",{get:function(){return this._isUpdatingHiddenAreas},enumerable:false,configurable:true});return i}(Cn);CK._breadcrumbsSourceFactory=mj("breadcrumbsSourceFactory",void 0),CK=xK=EK([BK(3,fh)],CK);var DK=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;var h=Gc("div.diff-hidden-lines-widget");c=t.call(this,i,n,h.root)||this,c._editor=i,c._unchangedRegion=r,c._unchangedRegionRange=e,c._hide=o,c._modifiedOutlineSource=s,c._revealModifiedHiddenLine=u,c._options=a,c._nodes=Gc("div.diff-hidden-lines",[Gc("div.top@top",{title:Bt(0,"Click or drag to show more above")}),Gc("div.center@content",{style:{display:"flex"}},[Gc("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[Nc.apply(void 0,__spreadArray(["a",{title:Bt(0,"Show Unchanged Region"),role:"button",onclick:function(){c._unchangedRegion.showAll(void 0)}}],XO("$(unfold)"),false))]),Gc("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),Gc("div.bottom@bottom",{title:Bt(0,"Click or drag to show more below"),role:"button"})]),h.root.appendChild(c._nodes.root);var f=Rj(c._editor.onDidLayoutChange,(function(){return c._editor.getLayoutInfo()}));c._hide?Sc(c._nodes.first):c._register(AV(c._nodes.first,{width:f.map((function(t){return t.contentLeft}))})),c._register(_j((function(t){var i=c._unchangedRegion.visibleLineCountTop.read(t)+c._unchangedRegion.visibleLineCountBottom.read(t)===c._unchangedRegion.lineCount;c._nodes.bottom.classList.toggle("canMoveTop",!i),c._nodes.bottom.classList.toggle("canMoveBottom",c._unchangedRegion.visibleLineCountBottom.read(t)>0),c._nodes.top.classList.toggle("canMoveTop",c._unchangedRegion.visibleLineCountTop.read(t)>0),c._nodes.top.classList.toggle("canMoveBottom",!i);var n=c._unchangedRegion.isDragged.read(t),r=c._editor.getDomNode();r&&(r.classList.toggle("draggingUnchangedRegion",!!n),n==="top"?(r.classList.toggle("canMoveTop",c._unchangedRegion.visibleLineCountTop.read(t)>0),r.classList.toggle("canMoveBottom",!i)):n==="bottom"?(r.classList.toggle("canMoveTop",!i),r.classList.toggle("canMoveBottom",c._unchangedRegion.visibleLineCountBottom.read(t)>0)):(r.classList.toggle("canMoveTop",!1),r.classList.toggle("canMoveBottom",!1)))})));var l=c._editor;c._register(Oa(c._nodes.top,"mousedown",(function(t){if(t.button!==0)return;c._nodes.top.classList.toggle("dragging",!0),c._nodes.root.classList.toggle("dragging",!0),t.preventDefault();var i=t.clientY;var n=!1;var r=c._unchangedRegion.visibleLineCountTop.get();c._unchangedRegion.isDragged.set("top",void 0);var e=ka(c._nodes.top),o=Oa(e,"mousemove",(function(t){var e=t.clientY-i;n=n||Math.abs(e)>2;var o=Math.round(e/l.getOption(67)),s=Math.max(0,Math.min(r+o,c._unchangedRegion.getMaxVisibleLineCountTop()));c._unchangedRegion.visibleLineCountTop.set(s,void 0)})),s=Oa(e,"mouseup",(function(t){n||c._unchangedRegion.showMoreAbove(c._options.hideUnchangedRegionsRevealLineCount.get(),void 0),c._nodes.top.classList.toggle("dragging",!1),c._nodes.root.classList.toggle("dragging",!1),c._unchangedRegion.isDragged.set(void 0,void 0),o.dispose(),s.dispose()}))}))),c._register(Oa(c._nodes.bottom,"mousedown",(function(t){if(t.button!==0)return;c._nodes.bottom.classList.toggle("dragging",!0),c._nodes.root.classList.toggle("dragging",!0),t.preventDefault();var i=t.clientY;var n=!1;var r=c._unchangedRegion.visibleLineCountBottom.get();c._unchangedRegion.isDragged.set("bottom",void 0);var e=ka(c._nodes.bottom),o=Oa(e,"mousemove",(function(t){var e=t.clientY-i;n=n||Math.abs(e)>2;var o=Math.round(e/l.getOption(67)),s=Math.max(0,Math.min(r-o,c._unchangedRegion.getMaxVisibleLineCountBottom())),u=c._unchangedRegionRange.endLineNumberExclusive>l.getModel().getLineCount()?l.getContentHeight():l.getTopForLineNumber(c._unchangedRegionRange.endLineNumberExclusive);c._unchangedRegion.visibleLineCountBottom.set(s,void 0);var a=c._unchangedRegionRange.endLineNumberExclusive>l.getModel().getLineCount()?l.getContentHeight():l.getTopForLineNumber(c._unchangedRegionRange.endLineNumberExclusive);l.setScrollTop(l.getScrollTop()+(a-u))})),s=Oa(e,"mouseup",(function(t){if(c._unchangedRegion.isDragged.set(void 0,void 0),!n){var i=l.getTopForLineNumber(c._unchangedRegionRange.endLineNumberExclusive);c._unchangedRegion.showMoreBelow(c._options.hideUnchangedRegionsRevealLineCount.get(),void 0);var r=l.getTopForLineNumber(c._unchangedRegionRange.endLineNumberExclusive);l.setScrollTop(l.getScrollTop()+(r-i))}c._nodes.bottom.classList.toggle("dragging",!1),c._nodes.root.classList.toggle("dragging",!1),o.dispose(),s.dispose()}))}))),c._register(_j((function(t){var i=[];if(!c._hide){var n=Bt(0,"{0} hidden lines",r.getHiddenModifiedRange(t).length),e=Nc("span",{title:Bt(0,"Double click to unfold")},n);e.addEventListener("dblclick",(function(t){t.button===0&&(t.preventDefault(),c._unchangedRegion.showAll(void 0))})),i.push(e);var o=c._unchangedRegion.getHiddenModifiedRange(t),s=c._modifiedOutlineSource.getBreadcrumbItems(o,t);if(s.length>0){i.push(Nc("span",void 0,"  |  "));var u=function(t){var n=s[t],r=Gc("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},__spreadArray([qO(Ae.toIcon(n.kind))," ",n.name],t===s.length-1?[]:[qO(re.chevronRight)],true)).root;i.push(r),r.onclick=function(){c._revealModifiedHiddenLine(n.startLineNumber)}};for(var a=0;a<s.length;a++){u(a)}}}Sc.apply(void 0,__spreadArray([c._nodes.others],i,false))})));return c}return i}(lV);var MK,_K=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},FK=function(t,i){return function(n,r){i(n,r,t)}};var SK=MK=function(t){__extends(i,t);function i(n,r,e,o,s,u,a){var c=this;c=t.call(this)||this,c._editors=n,c._rootElement=r,c._diffModel=e,c._rootWidth=o,c._rootHeight=s,c._modifiedEditorLayoutInfo=u,c._themeService=a,c.width=i.ENTIRE_DIFF_OVERVIEW_WIDTH;var h=Rj(c._themeService.onDidColorThemeChange,(function(){return c._themeService.getColorTheme()})),f=Ej((function(t){var i=h.read(t);return{insertColor:i.getColor(vm)||(i.getColor(lm)||hm).transparent(2),removeColor:i.getColor(Am)||(i.getColor(dm)||fm).transparent(2)}})),l=th(document.createElement("div"));l.setClassName("diffViewport"),l.setPosition("absolute");var d=Gc("div.diffOverview",{style:{position:"absolute",top:"0px",width:i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;c._register(cV(d,l.domNode)),c._register(Ra(d,Ec.POINTER_DOWN,(function(t){c._editors.modified.delegateVerticalScrollbarPointerDown(t)}))),c._register(Oa(d,Ec.MOUSE_WHEEL,(function(t){c._editors.modified.delegateScrollFromMouseWheelEvent(t)}),{passive:!1})),c._register(cV(c._rootElement,d)),c._register(Ij((function(t,n){var r=c._diffModel.read(t),e=c._editors.original.createOverviewRuler("original diffOverviewRuler");e&&(n.add(e),n.add(cV(d,e.getDomNode())));var o=c._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(o&&(n.add(o),n.add(cV(d,o.getDomNode()))),!e||!o)return;var s=Lj("viewZoneChanged",c._editors.original.onDidChangeViewZones),u=Lj("viewZoneChanged",c._editors.modified.onDidChangeViewZones),a=Lj("hiddenRangesChanged",c._editors.original.onDidChangeHiddenAreas),h=Lj("hiddenRangesChanged",c._editors.modified.onDidChangeHiddenAreas);n.add(_j((function(t){var i;s.read(t),u.read(t),a.read(t),h.read(t);var n=f.read(t),l=(i=r==null?void 0:r.diff.read(t))===null||i===void 0?void 0:i.mappings;function d(t,i,n){var r=n._getViewModel();return r?t.filter((function(t){return t.length>0})).map((function(t){var n=r.coordinatesConverter.convertModelPositionToViewPosition(new qr(t.startLineNumber,1)),e=r.coordinatesConverter.convertModelPositionToViewPosition(new qr(t.endLineNumberExclusive,1)),o=e.lineNumber-n.lineNumber;return new NC(n.lineNumber,e.lineNumber,o,i.toString())})):[]}var v=d((l||[]).map((function(t){return t.lineRangeMapping.original})),n.removeColor,c._editors.original),A=d((l||[]).map((function(t){return t.lineRangeMapping.modified})),n.insertColor,c._editors.modified);e==null||e.setZones(v),o==null||o.setZones(A)}))),n.add(_j((function(t){var n=c._rootHeight.read(t),r=c._rootWidth.read(t),s=c._modifiedEditorLayoutInfo.read(t);if(s){var u=i.ENTIRE_DIFF_OVERVIEW_WIDTH-2*i.ONE_OVERVIEW_WIDTH;e.setLayout({top:0,height:n,right:u+i.ONE_OVERVIEW_WIDTH,width:i.ONE_OVERVIEW_WIDTH}),o.setLayout({top:0,height:n,right:0,width:i.ONE_OVERVIEW_WIDTH});var a=c._editors.modifiedScrollTop.read(t),h=c._editors.modifiedScrollHeight.read(t),f=c._editors.modified.getOption(103),v=new xk(f.verticalHasArrows?f.arrowSize:0,f.verticalScrollbarSize,0,s.height,h,a);l.setTop(v.getSliderPosition()),l.setHeight(v.getSliderSize())}else l.setTop(0),l.setHeight(0);d.style.height=n+"px",d.style.left=r-i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",l.setWidth(i.ENTIRE_DIFF_OVERVIEW_WIDTH)})))})));return c}return i}(Cn);SK.ONE_OVERVIEW_WIDTH=15,SK.ENTIRE_DIFF_OVERVIEW_WIDTH=2*MK.ONE_OVERVIEW_WIDTH,SK=MK=_K([FK(6,ex)],SK);var IK=[];var QK=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._editors=i,o._diffModel=n,o._options=r,o._widget=e,o._selectedDiffs=Ej(o,(function(t){var i=o._diffModel.read(t),n=i==null?void 0:i.diff.read(t);if(!n)return IK;var r=o._editors.modifiedSelections.read(t);if(r.every((function(t){return t.isEmpty()})))return IK;var e=new oA(r.map((function(t){return eA.fromRangeInclusive(t)}))),s=n.mappings.filter((function(t){return t.lineRangeMapping.innerChanges&&e.intersects(t.lineRangeMapping.modified)})).map((function(t){return{mapping:t,rangeMappings:t.lineRangeMapping.innerChanges.filter((function(t){return r.some((function(i){return Zr.areIntersecting(t.modifiedRange,i)}))}))}}));return s.length===0||s.every((function(t){return t.rangeMappings.length===0}))?IK:s})),o._register(Ij((function(t,i){if(!o._options.shouldRenderOldRevertArrows.read(t))return;var n=o._diffModel.read(t),r=n==null?void 0:n.diff.read(t);if(!n||!r||n.movedTextToCompare.read(t))return;var e=[],s=o._selectedDiffs.read(t),u=new Set(s.map((function(t){return t.mapping})));if(s.length>0){var a=o._editors.modifiedSelections.read(t),c=i.add(new OK(a[a.length-1].positionLineNumber,o._widget,s.flatMap((function(t){return t.rangeMappings})),!0));o._editors.modified.addGlyphMarginWidget(c),e.push(c)}for(var h=0,f=r.mappings;h<f.length;h++){var a=f[h];if(!u.has(a)&&!a.lineRangeMapping.modified.isEmpty&&a.lineRangeMapping.innerChanges){var c=i.add(new OK(a.lineRangeMapping.modified.startLineNumber,o._widget,a.lineRangeMapping,!1));o._editors.modified.addGlyphMarginWidget(c),e.push(c)}}i.add(En((function(){for(var t=0,i=e;t<i.length;t++){var n=i[t];o._editors.modified.removeGlyphMarginWidget(n)}})))})));return o}return i}(Cn);var OK=function(t){__extends(i,t);function i(n,r,e,o){var s=this;s=t.call(this)||this,s._lineNumber=n,s._widget=r,s._diffs=e,s._revertSelection=o,s._id="revertButton"+i.counter++,s._domNode=Gc("div.revertButton",{title:s._revertSelection?Bt(0,"Revert Selected Changes"):Bt(0,"Revert Change")},[qO(re.arrowRight)]).root,s._register(Oa(s._domNode,Ec.MOUSE_DOWN,(function(t){t.button!==2&&(t.stopPropagation(),t.preventDefault())}))),s._register(Oa(s._domNode,Ec.MOUSE_UP,(function(t){t.stopPropagation(),t.preventDefault()}))),s._register(Oa(s._domNode,Ec.CLICK,(function(t){s._diffs instanceof sA?s._widget.revert(s._diffs):s._widget.revertRangeMappings(s._diffs),t.stopPropagation(),t.preventDefault()})));return s}i.prototype.getId=function(){return this._id};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getPosition=function(){return{lane:Fv.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}};return i}(Cn);OK.counter=0;var NK=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},RK=function(t,i){return function(n,r){i(n,r,t)}};var TK=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this)||this,a.originalEditorElement=i,a.modifiedEditorElement=n,a._options=r,a._argCodeEditorWidgetOptions=e,a._createInnerEditor=o,a._instantiationService=s,a._keybindingService=u,a.original=a._register(a._createLeftHandSideEditor(a._options.editorOptions.get(),a._argCodeEditorWidgetOptions.originalEditor||{})),a.modified=a._register(a._createRightHandSideEditor(a._options.editorOptions.get(),a._argCodeEditorWidgetOptions.modifiedEditor||{})),a._onDidContentSizeChange=a._register(new Ln),a.modifiedScrollTop=Rj(a.modified.onDidScrollChange,(function(){return a.modified.getScrollTop()})),a.modifiedScrollHeight=Rj(a.modified.onDidScrollChange,(function(){return a.modified.getScrollHeight()})),a.modifiedModel=Rj(a.modified.onDidChangeModel,(function(){return a.modified.getModel()})),a.modifiedSelections=Rj(a.modified.onDidChangeCursorSelection,(function(){var t;return(t=a.modified.getSelections())!==null&&t!==void 0?t:[]})),a.modifiedCursor=Bj({owner:a,equalityComparer:qr.equals},(function(t){var i,n;return(n=(i=a.modifiedSelections.read(t)[0])===null||i===void 0?void 0:i.getPosition())!==null&&n!==void 0?n:new qr(1,1)})),a.originalCursor=Rj(a.original.onDidChangeCursorPosition,(function(){var t;return(t=a.original.getPosition())!==null&&t!==void 0?t:new qr(1,1)})),a._argCodeEditorWidgetOptions=null,a._register(Sj({createEmptyChangeSummary:function(){return{}},handleChange:function(t,i){return t.didChange(r.editorOptions)&&Object.assign(i,t.change.changedOptions),!0}},(function(t,i){r.editorOptions.read(t),a._options.renderSideBySide.read(t),a.modified.updateOptions(a._adjustOptionsForRightHandSide(t,i)),a.original.updateOptions(a._adjustOptionsForLeftHandSide(t,i))})));return a}Object.defineProperty(i.prototype,"onDidContentSizeChange",{get:function(){return this._onDidContentSizeChange.event},enumerable:false,configurable:true});i.prototype._createLeftHandSideEditor=function(t,i){var n=this._adjustOptionsForLeftHandSide(void 0,t),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,n,i);return r.setContextValue("isInDiffLeftEditor",!0),r};i.prototype._createRightHandSideEditor=function(t,i){var n=this._adjustOptionsForRightHandSide(void 0,t),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,n,i);return r.setContextValue("isInDiffRightEditor",!0),r};i.prototype._constructInnerEditor=function(t,i,n,r){var e=this;var o=this._createInnerEditor(t,i,n,r);return this._register(o.onDidContentSizeChange((function(t){var i=e.original.getContentWidth()+e.modified.getContentWidth()+SK.ENTIRE_DIFF_OVERVIEW_WIDTH,n=Math.max(e.modified.getContentHeight(),e.original.getContentHeight());e._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),o};i.prototype._adjustOptionsForLeftHandSide=function(t,i){var n=this._adjustOptionsForSubEditor(i);return this._options.renderSideBySide.get()?(n.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},n.wordWrapOverride1=this._options.diffWordWrap.get()):(n.wordWrapOverride1="off",n.wordWrapOverride2="off",n.stickyScroll={enabled:!1},n.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),n.glyphMargin=this._options.renderSideBySide.get(),i.originalAriaLabel&&(n.ariaLabel=i.originalAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.readOnly=!this._options.originalEditable.get(),n.dropIntoEditor={enabled:!n.readOnly},n.extraEditorClassName="original-in-monaco-diff-editor",n};i.prototype._adjustOptionsForRightHandSide=function(t,i){var n=this._adjustOptionsForSubEditor(i);return i.modifiedAriaLabel&&(n.ariaLabel=i.modifiedAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.wordWrapOverride1=this._options.diffWordWrap.get(),n.revealHorizontalRightPadding=un.revealHorizontalRightPadding.defaultValue+SK.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n};i.prototype._adjustOptionsForSubEditor=function(t){var i=__assign(__assign({},t),{dimension:{height:0,width:0}});return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=__assign({},i.scrollbar||{}),i.folding=!1,i.codeLens=this._options.diffCodeLens.get(),i.fixedOverflowWidgets=!0,i.minimap=__assign({},i.minimap||{}),i.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?i.stickyScroll={enabled:!1}:i.stickyScroll=this._options.editorOptions.get().stickyScroll,i};i.prototype._updateAriaLabel=function(t){var i;t||(t="");var n=Bt(0," use {0} to open the accessibility help.",(i=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||i===void 0?void 0:i.getAriaLabel());return this._options.accessibilityVerbose.get()?t+n:t?t.replaceAll(n,""):""};return i}(Cn);TK=NK([RK(5,fh),RK(6,vE)],TK);var LK=function(t){__extends(i,t);function i(){var n=this;n=t.apply(this,arguments)||this,n._id=++i.idCounter,n._onDidDispose=n._register(new Ln),n.onDidDispose=n._onDidDispose.event;return n}i.prototype.getId=function(){return this.getEditorType()+":v2:"+this._id};i.prototype.getVisibleColumnFromPosition=function(t){return this._targetEditor.getVisibleColumnFromPosition(t)};i.prototype.getPosition=function(){return this._targetEditor.getPosition()};i.prototype.setPosition=function(t,i){if(i===void 0){i="api"}this._targetEditor.setPosition(t,i)};i.prototype.revealLine=function(t,i){if(i===void 0){i=0}this._targetEditor.revealLine(t,i)};i.prototype.revealLineInCenter=function(t,i){if(i===void 0){i=0}this._targetEditor.revealLineInCenter(t,i)};i.prototype.revealLineInCenterIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._targetEditor.revealLineInCenterIfOutsideViewport(t,i)};i.prototype.revealLineNearTop=function(t,i){if(i===void 0){i=0}this._targetEditor.revealLineNearTop(t,i)};i.prototype.revealPosition=function(t,i){if(i===void 0){i=0}this._targetEditor.revealPosition(t,i)};i.prototype.revealPositionInCenter=function(t,i){if(i===void 0){i=0}this._targetEditor.revealPositionInCenter(t,i)};i.prototype.revealPositionInCenterIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._targetEditor.revealPositionInCenterIfOutsideViewport(t,i)};i.prototype.revealPositionNearTop=function(t,i){if(i===void 0){i=0}this._targetEditor.revealPositionNearTop(t,i)};i.prototype.getSelection=function(){return this._targetEditor.getSelection()};i.prototype.getSelections=function(){return this._targetEditor.getSelections()};i.prototype.setSelection=function(t,i){if(i===void 0){i="api"}this._targetEditor.setSelection(t,i)};i.prototype.setSelections=function(t,i){if(i===void 0){i="api"}this._targetEditor.setSelections(t,i)};i.prototype.revealLines=function(t,i,n){if(n===void 0){n=0}this._targetEditor.revealLines(t,i,n)};i.prototype.revealLinesInCenter=function(t,i,n){if(n===void 0){n=0}this._targetEditor.revealLinesInCenter(t,i,n)};i.prototype.revealLinesInCenterIfOutsideViewport=function(t,i,n){if(n===void 0){n=0}this._targetEditor.revealLinesInCenterIfOutsideViewport(t,i,n)};i.prototype.revealLinesNearTop=function(t,i,n){if(n===void 0){n=0}this._targetEditor.revealLinesNearTop(t,i,n)};i.prototype.revealRange=function(t,i,n,r){if(i===void 0){i=0}if(n===void 0){n=!1}if(r===void 0){r=!0}this._targetEditor.revealRange(t,i,n,r)};i.prototype.revealRangeInCenter=function(t,i){if(i===void 0){i=0}this._targetEditor.revealRangeInCenter(t,i)};i.prototype.revealRangeInCenterIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._targetEditor.revealRangeInCenterIfOutsideViewport(t,i)};i.prototype.revealRangeNearTop=function(t,i){if(i===void 0){i=0}this._targetEditor.revealRangeNearTop(t,i)};i.prototype.revealRangeNearTopIfOutsideViewport=function(t,i){if(i===void 0){i=0}this._targetEditor.revealRangeNearTopIfOutsideViewport(t,i)};i.prototype.revealRangeAtTop=function(t,i){if(i===void 0){i=0}this._targetEditor.revealRangeAtTop(t,i)};i.prototype.getSupportedActions=function(){return this._targetEditor.getSupportedActions()};i.prototype.focus=function(){this._targetEditor.focus()};i.prototype.trigger=function(t,i,n){this._targetEditor.trigger(t,i,n)};i.prototype.createDecorationsCollection=function(t){return this._targetEditor.createDecorationsCollection(t)};i.prototype.changeDecorations=function(t){return this._targetEditor.changeDecorations(t)};return i}(Cn);LK.idCounter=0;var jK=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},zK=function(t,i){return function(n,r){i(n,r,t)}};var UK=function(){function t(t,i){var n=this;this._accessibilityService=i,this._diffEditorWidth=mj(this,0),this._screenReaderMode=Rj(this._accessibilityService.onDidChangeScreenReaderOptimized,(function(){return n._accessibilityService.isScreenReaderOptimized()})),this.couldShowInlineViewBecauseOfSize=Ej(this,(function(t){return n._options.read(t).renderSideBySide&&n._diffEditorWidth.read(t)<=n._options.read(t).renderSideBySideInlineBreakpoint})),this.renderOverviewRuler=Ej(this,(function(t){return n._options.read(t).renderOverviewRuler})),this.renderSideBySide=Ej(this,(function(t){return n._options.read(t).renderSideBySide&&!(n._options.read(t).useInlineViewWhenSpaceIsLimited&&n.couldShowInlineViewBecauseOfSize.read(t)&&!n._screenReaderMode.read(t))})),this.readOnly=Ej(this,(function(t){return n._options.read(t).readOnly})),this.shouldRenderOldRevertArrows=Ej(this,(function(t){return!!n._options.read(t).renderMarginRevertIcon&&!!n.renderSideBySide.read(t)&&!n.readOnly.read(t)&&!n.shouldRenderGutterMenu.read(t)})),this.shouldRenderGutterMenu=Ej(this,(function(t){return n._options.read(t).renderGutterMenu})),this.renderIndicators=Ej(this,(function(t){return n._options.read(t).renderIndicators})),this.enableSplitViewResizing=Ej(this,(function(t){return n._options.read(t).enableSplitViewResizing})),this.splitViewDefaultRatio=Ej(this,(function(t){return n._options.read(t).splitViewDefaultRatio})),this.ignoreTrimWhitespace=Ej(this,(function(t){return n._options.read(t).ignoreTrimWhitespace})),this.maxComputationTimeMs=Ej(this,(function(t){return n._options.read(t).maxComputationTime})),this.showMoves=Ej(this,(function(t){return n._options.read(t).experimental.showMoves&&n.renderSideBySide.read(t)})),this.isInEmbeddedEditor=Ej(this,(function(t){return n._options.read(t).isInEmbeddedEditor})),this.diffWordWrap=Ej(this,(function(t){return n._options.read(t).diffWordWrap})),this.originalEditable=Ej(this,(function(t){return n._options.read(t).originalEditable})),this.diffCodeLens=Ej(this,(function(t){return n._options.read(t).diffCodeLens})),this.accessibilityVerbose=Ej(this,(function(t){return n._options.read(t).accessibilityVerbose})),this.diffAlgorithm=Ej(this,(function(t){return n._options.read(t).diffAlgorithm})),this.showEmptyDecorations=Ej(this,(function(t){return n._options.read(t).experimental.showEmptyDecorations})),this.onlyShowAccessibleDiffViewer=Ej(this,(function(t){return n._options.read(t).onlyShowAccessibleDiffViewer})),this.hideUnchangedRegions=Ej(this,(function(t){return n._options.read(t).hideUnchangedRegions.enabled})),this.hideUnchangedRegionsRevealLineCount=Ej(this,(function(t){return n._options.read(t).hideUnchangedRegions.revealLineCount})),this.hideUnchangedRegionsContextLineCount=Ej(this,(function(t){return n._options.read(t).hideUnchangedRegions.contextLineCount})),this.hideUnchangedRegionsMinimumLineCount=Ej(this,(function(t){return n._options.read(t).hideUnchangedRegions.minimumLineCount}));var r=__assign(__assign({},t),HK(t,wT));this._options=mj(this,r)}Object.defineProperty(t.prototype,"editorOptions",{get:function(){return this._options},enumerable:false,configurable:true});t.prototype.updateOptions=function(t){var i=HK(t,this._options.get()),n=__assign(__assign(__assign({},this._options.get()),t),i);this._options.set(n,void 0,{changedOptions:t})};t.prototype.setWidth=function(t){this._diffEditorWidth.set(t,void 0)};return t}();function HK(t,i){var n,r,e,o,s,u,a,c;return{enableSplitViewResizing:Fi(t.enableSplitViewResizing,i.enableSplitViewResizing),splitViewDefaultRatio:Oi(t.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Fi(t.renderSideBySide,i.renderSideBySide),renderMarginRevertIcon:Fi(t.renderMarginRevertIcon,i.renderMarginRevertIcon),maxComputationTime:Ii(t.maxComputationTime,i.maxComputationTime,0,1073741824),maxFileSize:Ii(t.maxFileSize,i.maxFileSize,0,1073741824),ignoreTrimWhitespace:Fi(t.ignoreTrimWhitespace,i.ignoreTrimWhitespace),renderIndicators:Fi(t.renderIndicators,i.renderIndicators),originalEditable:Fi(t.originalEditable,i.originalEditable),diffCodeLens:Fi(t.diffCodeLens,i.diffCodeLens),renderOverviewRuler:Fi(t.renderOverviewRuler,i.renderOverviewRuler),diffWordWrap:Ti(t.diffWordWrap,i.diffWordWrap,["off","on","inherit"]),diffAlgorithm:Ti(t.diffAlgorithm,i.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Fi(t.accessibilityVerbose,i.accessibilityVerbose),experimental:{showMoves:Fi((n=t.experimental)===null||n===void 0?void 0:n.showMoves,i.experimental.showMoves),showEmptyDecorations:Fi((r=t.experimental)===null||r===void 0?void 0:r.showEmptyDecorations,i.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:Fi((o=(e=t.hideUnchangedRegions)===null||e===void 0?void 0:e.enabled)!==null&&o!==void 0?o:(s=t.experimental)===null||s===void 0?void 0:s.collapseUnchangedRegions,i.hideUnchangedRegions.enabled),contextLineCount:Ii((u=t.hideUnchangedRegions)===null||u===void 0?void 0:u.contextLineCount,i.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:Ii((a=t.hideUnchangedRegions)===null||a===void 0?void 0:a.minimumLineCount,i.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:Ii((c=t.hideUnchangedRegions)===null||c===void 0?void 0:c.revealLineCount,i.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:Fi(t.isInEmbeddedEditor,i.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:Fi(t.onlyShowAccessibleDiffViewer,i.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:Ii(t.renderSideBySideInlineBreakpoint,i.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:Fi(t.useInlineViewWhenSpaceIsLimited,i.useInlineViewWhenSpaceIsLimited),renderGutterMenu:Fi(t.renderGutterMenu,i.renderGutterMenu)}}UK=jK([zK(1,Kw)],UK);var YK=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._domNode=n,e.itemProvider=r,e.scrollTop=Rj(e._editor.onDidScrollChange,(function(t){return e._editor.getScrollTop()})),e.isScrollTopZero=e.scrollTop.map((function(t){return t===0})),e.modelAttached=Rj(e._editor.onDidChangeModel,(function(t){return e._editor.hasModel()})),e.editorOnDidChangeViewZones=Lj("onDidChangeViewZones",e._editor.onDidChangeViewZones),e.editorOnDidContentSizeChange=Lj("onDidContentSizeChange",e._editor.onDidContentSizeChange),e.domNodeSizeChanged=zj("domNodeSizeChanged"),e.views=new Map,e._domNode.className="gutter monaco-editor";var o=e._domNode.appendChild(Gc("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),s=new ResizeObserver((function(){Aj((function(t){e.domNodeSizeChanged.trigger(t)}))}));s.observe(e._domNode),e._register(En((function(){return s.disconnect()}))),e._register(_j((function(t){o.className=e.isScrollTopZero.read(t)?"":"scroll-decoration"}))),e._register(_j((function(t){return e.render(t)})));return e}i.prototype.dispose=function(){t.prototype.dispose.call(this),Sc(this._domNode)};i.prototype.render=function(t){var i=this;if(!this.modelAttached.read(t))return;this.domNodeSizeChanged.read(t),this.editorOnDidChangeViewZones.read(t),this.editorOnDidContentSizeChange.read(t);var n=this.scrollTop.read(t),r=this._editor.getVisibleRanges(),e=new Set(this.views.keys()),o=Kv.ofStartAndLength(0,this._domNode.clientHeight);if(!o.isEmpty){var s=function(r){var s=new eA(r.startLineNumber,r.endLineNumber+1),a=u.itemProvider.getIntersectingGutterItems(s,t);Aj((function(t){for(var r=0,u=a;r<u.length;r++){var c=u[r];if(!c.range.intersect(s))continue;e.delete(c.id);var h=i.views.get(c.id);if(h)h.item.set(c,t);else{var f=document.createElement("div");i._domNode.appendChild(f);var l=mj("item",c),d=i.itemProvider.createView(l,f);h=new JK(l,d,f),i.views.set(c.id,h)}var v=c.range.startLineNumber<=i._editor.getModel().getLineCount()?i._editor.getTopForLineNumber(c.range.startLineNumber,!0)-n:i._editor.getBottomForLineNumber(c.range.startLineNumber-1,!1)-n,A=(c.range.isEmpty?v:i._editor.getBottomForLineNumber(c.range.endLineNumberExclusive-1,!0)-n)-v;h.domNode.style.top="".concat(v,"px"),h.domNode.style.height="".concat(A,"px"),h.gutterItemView.layout(Kv.ofStartAndLength(v,A),o)}}))};var u=this;for(var a=0,c=r;a<c.length;a++){var h=c[a];s(h)}}for(var f=0,l=e;f<l.length;f++){var h=l[f];var d=this.views.get(h);d.gutterItemView.dispose(),this._domNode.removeChild(d.domNode),this.views.delete(h)}};return i}(Cn);var JK=function(){function t(t,i,n){this.item=t,this.gutterItemView=i,this.domNode=n}return t}();var PK=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._getContext=i;return n}i.prototype.runAction=function(i,n){var r=this._getContext();return t.prototype.runAction.call(this,i,r)};return i}(wh);var WK=function(){function t(t){this.text=t,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(var i=0;i<t.length;i++)t.charAt(i)==="\n"&&this.lineStartOffsetByLineIdx.push(i+1)}t.prototype.getOffset=function(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1};t.prototype.getOffsetRange=function(t){return new Kv(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))};Object.defineProperty(t.prototype,"textLength",{get:function(){var t=this.lineStartOffsetByLineIdx.length-1;return new QD(t,this.text.length-this.lineStartOffsetByLineIdx[t])},enumerable:false,configurable:true});return t}();var GK=function(){function t(t){this.edits=t,mf((function(){return bf(t,(function(t,i){return t.range.getEndPosition().isBeforeOrEqual(i.range.getStartPosition())}))}))}t.prototype.apply=function(t){var i="",n=new qr(1,1);for(var r=0,e=this.edits;r<e.length;r++){var o=e[r];var s=o.range,u=s.getStartPosition(),a=s.getEndPosition(),c=KK(n,u);c.isEmpty()||(i+=t.getValueOfRange(c)),i+=o.text,n=a}var h=KK(n,t.endPositionExclusive);return h.isEmpty()||(i+=t.getValueOfRange(h)),i};t.prototype.applyToString=function(t){var i=new qK(t);return this.apply(i)};t.prototype.getNewRanges=function(){var t=[];var i=0,n=0,r=0;for(var e=0,o=this.edits;e<o.length;e++){var s=o[e];var u=QD.ofText(s.text),a=qr.lift({lineNumber:s.range.startLineNumber+n,column:s.range.startColumn+(s.range.startLineNumber===i?r:0)}),c=u.createRange(a);t.push(c),n=c.endLineNumber-s.range.endLineNumber,r=c.endColumn-s.range.endColumn,i=s.range.endLineNumber}return t};return t}();var VK=function(){function t(t,i){this.range=t,this.text=i}return t}();function KK(t,i){if(!t.isBeforeOrEqual(i))throw new mn("start must be before end");return new Zr(t.lineNumber,t.column,i.lineNumber,i.column)}var XK=function(){function t(){}Object.defineProperty(t.prototype,"endPositionExclusive",{get:function(){return this.length.addToPosition(new qr(1,1))},enumerable:false,configurable:true});return t}();var qK=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.value=i,n._t=new WK(n.value);return n}i.prototype.getValueOfRange=function(t){return this._t.getOffsetRange(t).substring(this.value)};Object.defineProperty(i.prototype,"length",{get:function(){return this._t.textLength},enumerable:false,configurable:true});return i}(XK);var ZK=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._textModel=i;return n}i.prototype.getValueOfRange=function(t){return this._textModel.getValueInRange(t)};Object.defineProperty(i.prototype,"length",{get:function(){var t=this._textModel.getLineCount(),i=this._textModel.getLineLength(t);return new QD(t-1,i)},enumerable:false,configurable:true});return i}(XK);var $K=function(t){__extends(i,t);function i(i,n,r){if(r===void 0){r={orientation:0}}var e=this;var o;e=t.call(this)||this,e.submenuActionViewItems=[],e.hasSecondaryActions=!1,e._onDidChangeDropdownVisibility=e._register(new Yn),e.onDidChangeDropdownVisibility=e._onDidChangeDropdownVisibility.event,e.disposables=e._register(new Bn),r.hoverDelegate=(o=r.hoverDelegate)!==null&&o!==void 0?o:e._register(zL()),e.options=r,e.lookupKeybindings=typeof e.options.getKeyBinding=="function",e.toggleMenuAction=e._register(new tX((function(){var t;return(t=e.toggleMenuActionViewItem)===null||t===void 0?void 0:t.show()}),r.toggleMenuTitle)),e.element=document.createElement("div"),e.element.className="monaco-toolbar",i.appendChild(e.element),e.actionBar=e._register(new cU(e.element,{orientation:r.orientation,ariaLabel:r.ariaLabel,actionRunner:r.actionRunner,allowContextMenu:r.allowContextMenu,highlightToggledItems:r.highlightToggledItems,hoverDelegate:r.hoverDelegate,actionViewItemProvider:function(t,i){var o;if(t.id===tX.ID)return e.toggleMenuActionViewItem=new Iz(t,t.menuActions,n,{actionViewItemProvider:e.options.actionViewItemProvider,actionRunner:e.actionRunner,keybindingProvider:e.options.getKeyBinding,classNames:xh.asClassNameArray((o=r.moreIcon)!==null&&o!==void 0?o:re.toolBarMore),anchorAlignmentProvider:e.options.anchorAlignmentProvider,menuAsChild:!!e.options.renderDropdownAsChildElement,skipTelemetry:e.options.skipTelemetry,isMenu:!0,hoverDelegate:e.options.hoverDelegate}),e.toggleMenuActionViewItem.setActionContext(e.actionBar.context),e.disposables.add(e._onDidChangeDropdownVisibility.add(e.toggleMenuActionViewItem.onDidChangeVisibility)),e.toggleMenuActionViewItem;if(r.actionViewItemProvider){var s=r.actionViewItemProvider(t,i);if(s)return s}if(t instanceof mh){var s=new Iz(t,t.actions,n,{actionViewItemProvider:e.options.actionViewItemProvider,actionRunner:e.actionRunner,keybindingProvider:e.options.getKeyBinding,classNames:t.class,anchorAlignmentProvider:e.options.anchorAlignmentProvider,menuAsChild:!!e.options.renderDropdownAsChildElement,skipTelemetry:e.options.skipTelemetry,hoverDelegate:e.options.hoverDelegate});return s.setActionContext(e.actionBar.context),e.submenuActionViewItems.push(s),e.disposables.add(e._onDidChangeDropdownVisibility.add(s.onDidChangeVisibility)),s}}}));return e}Object.defineProperty(i.prototype,"actionRunner",{get:function(){return this.actionBar.actionRunner},set:function(t){this.actionBar.actionRunner=t},enumerable:false,configurable:true});i.prototype.getElement=function(){return this.element};i.prototype.getItemAction=function(t){return this.actionBar.getAction(t)};i.prototype.setActions=function(t,i){var n=this;this.clear();var r=t?t.slice(0):[];this.hasSecondaryActions=!!(i&&i.length>0),this.hasSecondaryActions&&i&&(this.toggleMenuAction.menuActions=i.slice(0),r.push(this.toggleMenuAction)),r.forEach((function(t){n.actionBar.push(t,{icon:!0,label:!1,keybinding:n.getKeybindingLabel(t)})}))};i.prototype.getKeybindingLabel=function(t){var i,n,r;var e=this.lookupKeybindings?(n=(i=this.options).getKeyBinding)===null||n===void 0?void 0:n.call(i,t):void 0;return(r=e==null?void 0:e.getLabel())!==null&&r!==void 0?r:void 0};i.prototype.clear=function(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()};i.prototype.dispose=function(){this.clear(),this.disposables.dispose(),t.prototype.dispose.call(this)};return i}(Cn);var tX=function(t){__extends(i,t);function i(n,r){var e=this;r=r||Bt(0,"More Actions..."),e=t.call(this,i.ID,r,void 0,!0)||this,e._menuActions=[],e.toggleDropdownMenu=n;return e}i.prototype.run=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.toggleDropdownMenu();return[2]}))}))};Object.defineProperty(i.prototype,"menuActions",{get:function(){return this._menuActions},set:function(t){this._menuActions=t},enumerable:false,configurable:true});return i}(gh);tX.ID="toolbar.toggle.more";var iX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},nX=function(t,i){return function(n,r){i(n,r,t)}};var rX=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this,i,o,__assign(__assign({getKeyBinding:function(t){var i;return(i=s.lookupKeybinding(t.id))!==null&&i!==void 0?i:void 0}},n),{allowContextMenu:!0,skipTelemetry:typeof(n==null?void 0:n.telemetrySource)=="string"}))||this,a._options=n,a._menuService=r,a._contextKeyService=e,a._contextMenuService=o,a._sessionDisposables=a._store.add(new Bn);var c=n==null?void 0:n.telemetrySource;c&&a._store.add(a.actionBar.onDidRun((function(t){return u.publicLog2("workbenchActionExecuted",{id:t.action.id,from:c})})));return a}i.prototype.setActions=function(i,n,r){var e=this;if(n===void 0){n=[]}var o,s,u;this._sessionDisposables.clear();var a=i.slice(),c=n.slice(),h=[];var f=0;var l=[];var d=!1;if(((o=this._options)===null||o===void 0?void 0:o.hiddenItemStrategy)!==-1)for(var v=0;v<a.length;v++){var A=a[v];(A instanceof Of||A instanceof Qf)&&A.hideActions&&(h.push(A.hideActions.toggle),A.hideActions.toggle.checked&&f++,A.hideActions.isHidden&&(d=!0,a[v]=void 0,((s=this._options)===null||s===void 0?void 0:s.hiddenItemStrategy)!==0&&(l[v]=A)))}if(((u=this._options)===null||u===void 0?void 0:u.overflowBehavior)!==void 0){var v=function(t,i){var n=new Set;for(var r=0,r=i;r<r.length;r++){var e=r[r];t.has(e)&&n.add(e)}return n}(new Set(this._options.overflowBehavior.exempted),vi.map(a,(function(t){return t==null?void 0:t.id}))),A=this._options.overflowBehavior.maxItems-v.size;var g=0;for(var w=0;w<a.length;w++){var p=a[w];p&&(g++,v.has(p.id)||g>=A&&(a[w]=void 0,l[w]=p))}}R(a),R(l),t.prototype.setActions.call(this,a,ph.join(l,c)),h.length>0&&this._sessionDisposables.add(Oa(this.getElement(),"contextmenu",(function(t){var i,n,o,s,u;var a=new Ts(ka(e.getElement()),t),c=e.getItemAction(a.target);if(!c)return;a.preventDefault(),a.stopPropagation();var l,v=!1;if(f===1&&((i=e._options)===null||i===void 0?void 0:i.hiddenItemStrategy)===0){v=!0;for(var A=0;A<h.length;A++)if(h[A].checked){h[A]=yh({id:c.id,label:c.label,checked:!0,enabled:!1,run:function(){}});break}}if(!v&&(c instanceof Of||c instanceof Qf)){if(!c.hideActions)return;l=c.hideActions.hide}else l=yh({id:"label",label:Bt(0,"Hide"),enabled:!1,run:function(){}});var g=ph.join([l],h);!((n=e._options)===null||n===void 0)&&n.resetMenu&&!r&&(r=[e._options.resetMenu]),d&&r&&(g.push(new ph),g.push(yh({id:"resetThisMenu",label:Bt(0,"Reset Menu"),run:function(){return e._menuService.resetHiddenStates(r)}}))),e._contextMenuService.showContextMenu({getAnchor:function(){return a},getActions:function(){return g},menuId:(o=e._options)===null||o===void 0?void 0:o.contextMenu,menuActionOptions:__assign({renderShortTitle:!0},(s=e._options)===null||s===void 0?void 0:s.menuOptions),skipTelemetry:typeof((u=e._options)===null||u===void 0?void 0:u.telemetrySource)=="string",contextKeyService:e._contextKeyService})})))};return i}($K);rX=iX([nX(2,Ff),nX(3,hf),nX(4,TO),nX(5,vE),nX(6,Tf)],rX);var eX=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;c=t.call(this,i,__assign({resetMenu:n},r),e,o,s,u,a)||this,c._onDidChangeMenuItems=c._store.add(new Ln),c.onDidChangeMenuItems=c._onDidChangeMenuItems.event;var h=c._store.add(e.createMenu(n,o,{emitEventsForSubmenuChanges:!0})),f=function(){var n,e,o;var s=[],u=[];nU(h,r==null?void 0:r.menuOptions,{primary:s,secondary:u},(n=r==null?void 0:r.toolbarOptions)===null||n===void 0?void 0:n.primaryGroup,(e=r==null?void 0:r.toolbarOptions)===null||e===void 0?void 0:e.shouldInlineSubmenu,(o=r==null?void 0:r.toolbarOptions)===null||o===void 0?void 0:o.useSeparatorsInPrimaryActions),i.classList.toggle("has-no-actions",s.length===0&&u.length===0),t.prototype.setActions.call(c,s,u)};c._store.add(h.onDidChange((function(){f(),c._onDidChangeMenuItems.fire(c)}))),f();return c}i.prototype.setActions=function(){throw new mn("This toolbar is populated from a menu.")};return i}(rX);eX=iX([nX(3,Ff),nX(4,hf),nX(5,TO),nX(6,vE),nX(7,Tf)],eX);var oX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},sX=function(t,i){return function(n,r){i(n,r,t)}};var uX=[];var aX=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;var a,c;u=t.call(this)||this,u._diffModel=n,u._editors=r,u._instantiationService=e,u._contextKeyService=o,u._menuService=s,u._menu=u._register(u._menuService.createMenu(_f.DiffEditorHunkToolbar,u._contextKeyService)),u._actions=Rj(u._menu.onDidChange,(function(){return u._menu.getActions()})),u._hasActions=u._actions.map((function(t){return t.length>0})),u.width=Ej(u,(function(t){return u._hasActions.read(t)?35:0})),u.elements=Gc("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:"35px"}},[]),u._currentDiff=Ej(u,(function(t){var i;var n=u._diffModel.read(t);if(!n)return;var r=(i=n.diff.read(t))===null||i===void 0?void 0:i.mappings,e=u._editors.modifiedCursor.read(t);return e?r==null?void 0:r.find((function(t){return t.lineRangeMapping.modified.contains(e.lineNumber)})):void 0})),u._selectedDiffs=Ej(u,(function(t){var i=u._diffModel.read(t),n=i==null?void 0:i.diff.read(t);if(!n)return uX;var r=u._editors.modifiedSelections.read(t);if(r.every((function(t){return t.isEmpty()})))return uX;var e=new oA(r.map((function(t){return eA.fromRangeInclusive(t)}))),o=n.mappings.filter((function(t){return t.lineRangeMapping.innerChanges&&e.intersects(t.lineRangeMapping.modified)})).map((function(t){return{mapping:t,rangeMappings:t.lineRangeMapping.innerChanges.filter((function(t){return r.some((function(i){return Zr.areIntersecting(t.modifiedRange,i)}))}))}}));return o.length===0||o.every((function(t){return t.rangeMappings.length===0}))?uX:o})),u._register((a=i,c=u.elements.root,a.prepend(c),En((function(){a.removeChild(c)})))),u._register(Oa(u.elements.root,"click",(function(){u._editors.modified.focus()}))),u._register(AV(u.elements.root,{display:u._hasActions.map((function(t){return t?"block":"none"}))})),u._register(new YK(u._editors.modified,u.elements.root,{getIntersectingGutterItems:function(t,i){var n=u._diffModel.read(i);if(!n)return[];var r=n.diff.read(i);if(!r)return[];var e=u._selectedDiffs.read(i);if(e.length>0){var o=uA.fromRangeMappings(e.flatMap((function(t){return t.rangeMappings})));return[new cX(o,!0,_f.DiffEditorSelectionToolbar,void 0,n.model.original.uri,n.model.modified.uri)]}var s=u._currentDiff.read(i);return r.mappings.map((function(t){return new cX(t.lineRangeMapping.withInnerChangesFromLineRanges(),t.lineRangeMapping===(s==null?void 0:s.lineRangeMapping),_f.DiffEditorHunkToolbar,void 0,n.model.original.uri,n.model.modified.uri)}))},createView:function(t,i){return u._instantiationService.createInstance(hX,t,i,u)}})),u._register(Oa(u.elements.gutter,Ec.MOUSE_WHEEL,(function(t){u._editors.modified.getOption(103).handleMouseWheel&&u._editors.modified.delegateScrollFromMouseWheelEvent(t)}),{passive:!1}));return u}i.prototype.computeStagedValue=function(t){var i=this;var n;var r=(n=t.innerChanges)!==null&&n!==void 0?n:[];return new GK(r.map((function(t){return new VK(t.originalRange,i._editors.modifiedModel.get().getValueInRange(t.modifiedRange))}))).apply(new ZK(this._editors.original.getModel()))};i.prototype.layout=function(t){this.elements.gutter.style.left=t+"px"};return i}(Cn);aX=oX([sX(3,fh),sX(4,hf),sX(5,Ff)],aX);var cX=function(){function t(t,i,n,r,e,o){this.mapping=t,this.showAlways=i,this.menuId=n,this.rangeOverride=r,this.originalUri=e,this.modifiedUri=o}Object.defineProperty(t.prototype,"id",{get:function(){return this.mapping.modified.toString()},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"range",{get:function(){var t;return(t=this.rangeOverride)!==null&&t!==void 0?t:this.mapping.modified},enumerable:false,configurable:true});return t}();var hX=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._item=i,o._elements=Gc("div.gutterItem",{style:{height:"20px",width:"34px"}},[Gc("div.background@background",{},[]),Gc("div.buttons@buttons",{},[])]),o._showAlways=o._item.map(o,(function(t){return t.showAlways})),o._menuId=o._item.map(o,(function(t){return t.menuId})),o._isSmall=mj(o,!1),o._lastItemRange=void 0,o._lastViewRange=void 0;var s=o._register(e.createInstance(NO,"element",!0,{position:{hoverPosition:1}}));o._register(cV(n,o._elements.root)),o._register(_j((function(t){var i=o._showAlways.read(t);o._elements.root.classList.toggle("noTransition",!0),o._elements.root.classList.toggle("showAlways",i),setTimeout((function(){o._elements.root.classList.toggle("noTransition",!1)}),0)}))),o._register(Ij((function(t,i){o._elements.buttons.replaceChildren();var n=i.add(e.createInstance(eX,o._elements.buttons,o._menuId.read(t),{orientation:1,hoverDelegate:s,toolbarOptions:{primaryGroup:function(t){return t.startsWith("primary")}},overflowBehavior:{maxItems:o._isSmall.read(t)?1:3},hiddenItemStrategy:0,actionRunner:new PK((function(){var t=o._item.get(),i=t.mapping;return{mapping:i,originalWithModifiedChanges:r.computeStagedValue(i),originalUri:t.originalUri,modifiedUri:t.modifiedUri}})),menuOptions:{shouldForwardArgs:!0}}));i.add(n.onDidChangeMenuItems((function(){o._lastItemRange&&o.layout(o._lastItemRange,o._lastViewRange)})))})));return o}i.prototype.layout=function(t,i){this._lastItemRange=t,this._lastViewRange=i;var n=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&t.length<30,void 0),n=this._elements.buttons.clientHeight,this._elements.root.style.top=t.start+"px",this._elements.root.style.height=t.length+"px";var r=t.length/2-n/2,e=n;var o=t.start+r;var s=Kv.tryCreate(e,i.endExclusive-e-n),u=Kv.tryCreate(t.start+e,t.endExclusive-n-e);u&&s&&u.start<u.endExclusive&&(o=s.clip(o),o=u.clip(o)),this._elements.buttons.style.top=o-t.start+"px"};return i}(Cn);hX=oX([sX(3,fh)],hX);var fX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},lX=function(t,i){return function(n,r){i(n,r,t)}};var dX=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;var h;c=t.call(this)||this,c._domElement=i,c._parentContextKeyService=e,c._parentInstantiationService=o,c._accessibilitySignalService=u,c._editorProgressService=a,c.elements=Gc("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[Gc("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[Nc("span",{},"No Changes")]),Gc("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),Gc("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),Gc("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),c._diffModel=mj(c,void 0),c._shouldDisposeDiffModel=!1,c.onDidChangeModel=Qn.fromObservableLight(c._diffModel),c._contextKeyService=c._register(c._parentContextKeyService.createScoped(c._domElement)),c._instantiationService=c._parentInstantiationService.createChild(new UI([hf,c._contextKeyService])),c._boundarySashes=mj(c,void 0),c._accessibleDiffViewerShouldBeVisible=mj(c,!1),c._accessibleDiffViewerVisible=Ej(c,(function(t){return!!c._options.onlyShowAccessibleDiffViewer.read(t)||c._accessibleDiffViewerShouldBeVisible.read(t)})),c._movedBlocksLinesPart=mj(c,void 0),c._layoutInfo=Ej(c,(function(t){var i,n,r,e,o;var s=c._rootSizeObserver.width.read(t),u=c._rootSizeObserver.height.read(t),a=c._sash.read(t),h=c._gutter.read(t),f=(i=h==null?void 0:h.width.read(t))!==null&&i!==void 0?i:0,l=(r=(n=c._overviewRulerPart.read(t))===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0;var d,v,A,g,w;if(a){var p=a.sashLeft.read(t);d=0,v=p-f-((o=(e=c._movedBlocksLinesPart.read(t))===null||e===void 0?void 0:e.width.read(t))!==null&&o!==void 0?o:0),w=p-f,A=p,g=s-A-l}else w=0,d=f,v=Math.max(5,c._editors.original.getLayoutInfo().decorationsLeft),A=f+v,g=s-A-l;return c.elements.original.style.left=d+"px",c.elements.original.style.width=v+"px",c._editors.original.layout({width:v,height:u},!0),h==null||h.layout(w),c.elements.modified.style.left=A+"px",c.elements.modified.style.width=g+"px",c._editors.modified.layout({width:g,height:u},!0),{modifiedEditor:c._editors.modified.getLayoutInfo(),originalEditor:c._editors.original.getLayoutInfo()}})),c._diffValue=c._diffModel.map((function(t,i){return t==null?void 0:t.diff.read(i)})),c.onDidUpdateDiff=Qn.fromObservableLight(c._diffValue),s.willCreateDiffEditor(),c._contextKeyService.createKey("isInDiffEditor",!0),c._domElement.appendChild(c.elements.root),c._register(En((function(){return c._domElement.removeChild(c.elements.root)}))),c._rootSizeObserver=c._register(new hV(c.elements.root,n.dimension)),c._rootSizeObserver.setAutomaticLayout((h=n.automaticLayout)!==null&&h!==void 0&&h),c._options=c._instantiationService.createInstance(UK,n),c._register(_j((function(t){c._options.setWidth(c._rootSizeObserver.width.read(t))}))),c._contextKeyService.createKey(hB.isEmbeddedDiffEditor.key,!1),c._register(bV(hB.isEmbeddedDiffEditor,c._contextKeyService,(function(t){return c._options.isInEmbeddedEditor.read(t)}))),c._register(bV(hB.comparingMovedCode,c._contextKeyService,(function(t){var i;return!!(!((i=c._diffModel.read(t))===null||i===void 0)&&i.movedTextToCompare.read(t))}))),c._register(bV(hB.diffEditorRenderSideBySideInlineBreakpointReached,c._contextKeyService,(function(t){return c._options.couldShowInlineViewBecauseOfSize.read(t)}))),c._register(bV(hB.diffEditorInlineMode,c._contextKeyService,(function(t){return!c._options.renderSideBySide.read(t)}))),c._register(bV(hB.hasChanges,c._contextKeyService,(function(t){var i,n,r;return((r=(n=(i=c._diffModel.read(t))===null||i===void 0?void 0:i.diff.read(t))===null||n===void 0?void 0:n.mappings.length)!==null&&r!==void 0?r:0)>0}))),c._editors=c._register(c._instantiationService.createInstance(TK,c.elements.original,c.elements.modified,c._options,r,(function(t,i,n,r){return c._createInnerEditor(t,i,n,r)}))),c._register(bV(hB.diffEditorOriginalWritable,c._contextKeyService,(function(t){return c._options.originalEditable.read(t)}))),c._register(bV(hB.diffEditorModifiedWritable,c._contextKeyService,(function(t){return!c._options.readOnly.read(t)}))),c._register(bV(hB.diffEditorOriginalUri,c._contextKeyService,(function(t){var i,n;return(n=(i=c._diffModel.read(t))===null||i===void 0?void 0:i.model.original.uri.toString())!==null&&n!==void 0?n:""}))),c._register(bV(hB.diffEditorModifiedUri,c._contextKeyService,(function(t){var i,n;return(n=(i=c._diffModel.read(t))===null||i===void 0?void 0:i.model.modified.uri.toString())!==null&&n!==void 0?n:""}))),c._overviewRulerPart=Dj(c,(function(t){return c._options.renderOverviewRuler.read(t)?c._instantiationService.createInstance(gV(SK,t),c._editors,c.elements.root,c._diffModel,c._rootSizeObserver.width,c._rootSizeObserver.height,c._layoutInfo.map((function(t){return t.modifiedEditor}))):void 0})).recomputeInitiallyAndOnChange(c._store),c._sash=Dj(c,(function(t){var i=c._options.renderSideBySide.read(t);return c.elements.root.classList.toggle("side-by-side",i),i?new $V(c._options,c.elements.root,{height:c._rootSizeObserver.height,width:c._rootSizeObserver.width.map((function(t,i){var n,r;return t-((r=(n=c._overviewRulerPart.read(i))===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0)}))},c._boundarySashes):void 0})).recomputeInitiallyAndOnChange(c._store);var f=Dj(c,(function(t){return c._instantiationService.createInstance(gV(CK,t),c._editors,c._diffModel,c._options)})).recomputeInitiallyAndOnChange(c._store);Dj(c,(function(t){return c._instantiationService.createInstance(gV(ZV,t),c._editors,c._diffModel,c._options,c)})).recomputeInitiallyAndOnChange(c._store);var l=new Set,d=new Set;var v=!1;var A=Dj(c,(function(t){return c._instantiationService.createInstance(gV(bK,t),ka(c._domElement),c._editors,c._diffModel,c._options,c,(function(){return v||f.get().isUpdatingHiddenAreas}),l,d)})).recomputeInitiallyAndOnChange(c._store),g=Ej(c,(function(t){var i=A.read(t).viewZones.read(t).orig,n=f.read(t).viewZones.read(t).origViewZones;return i.concat(n)})),w=Ej(c,(function(t){var i=A.read(t).viewZones.read(t).mod,n=f.read(t).viewZones.read(t).modViewZones;return i.concat(n)}));var p;c._register(wV(c._editors.original,g,(function(t){v=t}),l)),c._register(wV(c._editors.modified,w,(function(t){v=t,v?p=eV.capture(c._editors.modified):(p==null||p.restore(c._editors.modified),p=void 0)}),d)),c._accessibleDiffViewer=Dj(c,(function(t){return c._instantiationService.createInstance(gV(CV,t),c.elements.accessibleDiffViewer,c._accessibleDiffViewerVisible,(function(t,i){return c._accessibleDiffViewerShouldBeVisible.set(t,i)}),c._options.onlyShowAccessibleDiffViewer.map((function(t){return!t})),c._rootSizeObserver.width,c._rootSizeObserver.height,c._diffModel.map((function(t,i){var n;return(n=t==null?void 0:t.diff.read(i))===null||n===void 0?void 0:n.mappings.map((function(t){return t.lineRangeMapping}))})),new RV(c._editors))})).recomputeInitiallyAndOnChange(c._store);var m=c._accessibleDiffViewerVisible.map((function(t){return t?"hidden":"visible"}));c._register(AV(c.elements.modified,{visibility:m})),c._register(AV(c.elements.original,{visibility:m})),c._createDiffEditorContributions(),s.addDiffEditor(c),c._gutter=Dj(c,(function(t){return c._options.shouldRenderGutterMenu.read(t)?c._instantiationService.createInstance(gV(aX,t),c.elements.root,c._diffModel,c._editors):void 0})),c._register(Hj(c._layoutInfo)),Dj(c,(function(t){return new(gV(TV,t))(c.elements.root,c._diffModel,c._layoutInfo.map((function(t){return t.originalEditor})),c._layoutInfo.map((function(t){return t.modifiedEditor})),c._editors)})).recomputeInitiallyAndOnChange(c._store,(function(t){c._movedBlocksLinesPart.set(t,void 0)})),c._register(AV(c.elements.overlay,{width:c._layoutInfo.map((function(t,i){return t.originalEditor.width+(c._options.renderSideBySide.read(i)?0:t.modifiedEditor.width)})),visibility:Ej((function(t){var i,n;return c._options.hideUnchangedRegions.read(t)&&((n=(i=c._diffModel.read(t))===null||i===void 0?void 0:i.diff.read(t))===null||n===void 0?void 0:n.mappings.length)===0?"visible":"hidden"}))})),c._register(Qn.runAndSubscribe(c._editors.modified.onDidChangeCursorPosition,(function(t){return c._handleCursorPositionChange(t,!0)}))),c._register(Qn.runAndSubscribe(c._editors.original.onDidChangeCursorPosition,(function(t){return c._handleCursorPositionChange(t,!1)})));var b=c._diffModel.map(c,(function(t,i){if(t)return t.diff.read(i)===void 0&&!t.isDiffUpToDate.read(i)}));c._register(Ij((function(t,i){if(b.read(t)===!0){var n=c._editorProgressService.show(!0,1e3);i.add(En((function(){return n.done()})))}}))),c._register(En((function(){var t;c._shouldDisposeDiffModel&&((t=c._diffModel.get())===null||t===void 0||t.dispose())}))),c._register(Ij((function(t,i){i.add(new(gV(QK,t))(c._editors,c._diffModel,c._options,c))})));return c}Object.defineProperty(i.prototype,"onDidContentSizeChange",{get:function(){return this._editors.onDidContentSizeChange},enumerable:false,configurable:true});i.prototype._createInnerEditor=function(t,i,n,r){return t.createInstance(KI,i,n,r)};i.prototype._createDiffEditorContributions=function(){var t=nl.getDiffEditorContributions();for(var i=0,n=t;i<n.length;i++){var r=n[i];try{this._register(this._instantiationService.createInstance(r.ctor,this))}catch(t){cn(t)}}};Object.defineProperty(i.prototype,"_targetEditor",{get:function(){return this._editors.modified},enumerable:false,configurable:true});i.prototype.getEditorType=function(){return _g.IDiffEditor};i.prototype.layout=function(t){this._rootSizeObserver.observe(t)};i.prototype.hasTextFocus=function(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()};i.prototype.saveViewState=function(){var t;return{original:this._editors.original.saveViewState(),modified:this._editors.modified.saveViewState(),modelState:(t=this._diffModel.get())===null||t===void 0?void 0:t.serializeState()}};i.prototype.restoreViewState=function(t){var i;if(t&&t.original&&t.modified){var n=t;this._editors.original.restoreViewState(n.original),this._editors.modified.restoreViewState(n.modified),n.modelState&&((i=this._diffModel.get())===null||i===void 0||i.restoreSerializedState(n.modelState))}};i.prototype.handleInitialized=function(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()};i.prototype.createViewModel=function(t){return this._instantiationService.createInstance(aK,t,this._options)};i.prototype.getModel=function(){var t,i;return(i=(t=this._diffModel.get())===null||t===void 0?void 0:t.model)!==null&&i!==void 0?i:null};i.prototype.setModel=function(t,i){var n=this;!t&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();var r=t?"model"in t?{model:t,shouldDispose:!1}:{model:this.createViewModel(t),shouldDispose:!0}:void 0;this._diffModel.get()!==(r==null?void 0:r.model)&&wj(i,(function(t){var i;Rj.batchEventsGlobally(t,(function(){n._editors.original.setModel(r?r.model.model.original:null),n._editors.modified.setModel(r?r.model.model.modified:null)}));var e=n._diffModel.get(),o=n._shouldDisposeDiffModel;n._shouldDisposeDiffModel=(i=r==null?void 0:r.shouldDispose)!==null&&i!==void 0&&i,n._diffModel.set(r==null?void 0:r.model,t),o&&(e==null||e.dispose())}))};i.prototype.updateOptions=function(t){this._options.updateOptions(t)};i.prototype.getContainerDomNode=function(){return this._domElement};i.prototype.getOriginalEditor=function(){return this._editors.original};i.prototype.getModifiedEditor=function(){return this._editors.modified};i.prototype.getLineChanges=function(){var t;var i=(t=this._diffModel.get())===null||t===void 0?void 0:t.diff.get();return i?i.mappings.map((function(t){var i=t.lineRangeMapping;var n,r,e,o,s=i.innerChanges;return i.original.isEmpty?(n=i.original.startLineNumber-1,r=0,s=void 0):(n=i.original.startLineNumber,r=i.original.endLineNumberExclusive-1),i.modified.isEmpty?(e=i.modified.startLineNumber-1,o=0,s=void 0):(e=i.modified.startLineNumber,o=i.modified.endLineNumberExclusive-1),{originalStartLineNumber:n,originalEndLineNumber:r,modifiedStartLineNumber:e,modifiedEndLineNumber:o,charChanges:s==null?void 0:s.map((function(t){return{originalStartLineNumber:t.originalRange.startLineNumber,originalStartColumn:t.originalRange.startColumn,originalEndLineNumber:t.originalRange.endLineNumber,originalEndColumn:t.originalRange.endColumn,modifiedStartLineNumber:t.modifiedRange.startLineNumber,modifiedStartColumn:t.modifiedRange.startColumn,modifiedEndLineNumber:t.modifiedRange.endLineNumber,modifiedEndColumn:t.modifiedRange.endColumn}}))}})):null};i.prototype.revert=function(t){var i=this._diffModel.get();i&&i.isDiffUpToDate.get()&&this._editors.modified.executeEdits("diffEditor",[{range:t.modified.toExclusiveRange(),text:i.model.original.getValueInRange(t.original.toExclusiveRange())}])};i.prototype.revertRangeMappings=function(t){var i=this._diffModel.get();if(!i||!i.isDiffUpToDate.get())return;var n=t.map((function(t){return{range:t.modifiedRange,text:i.model.original.getValueInRange(t.originalRange)}}));this._editors.modified.executeEdits("diffEditor",n)};i.prototype._goTo=function(t){this._editors.modified.setPosition(new qr(t.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(t.lineRangeMapping.modified.toExclusiveRange())};i.prototype.goToDiff=function(t){var i,n,r,e;var o=(n=(i=this._diffModel.get())===null||i===void 0?void 0:i.diff.get())===null||n===void 0?void 0:n.mappings;if(!o||o.length===0)return;var s=this._editors.modified.getPosition().lineNumber;var u;u=t==="next"?(r=o.find((function(t){return t.lineRangeMapping.modified.startLineNumber>s})))!==null&&r!==void 0?r:o[0]:(e=qv(o,(function(t){return t.lineRangeMapping.modified.startLineNumber<s})))!==null&&e!==void 0?e:o[o.length-1],this._goTo(u),u.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(OG.diffLineDeleted,{source:"diffEditor.goToDiff"}):u.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(OG.diffLineInserted,{source:"diffEditor.goToDiff"}):u&&this._accessibilitySignalService.playSignal(OG.diffLineModified,{source:"diffEditor.goToDiff"})};i.prototype.revealFirstDiff=function(){var t=this;var i=this._diffModel.get();i&&this.waitForDiff().then((function(){var n;var r=(n=i.diff.get())===null||n===void 0?void 0:n.mappings;r&&r.length!==0&&t._goTo(r[0])}))};i.prototype.accessibleDiffViewerNext=function(){this._accessibleDiffViewer.get().next()};i.prototype.accessibleDiffViewerPrev=function(){this._accessibleDiffViewer.get().prev()};i.prototype.waitForDiff=function(){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){switch(n.label){case 0:t=this._diffModel.get();i=t;if(!i)return[3,2];return[4,t.waitForDiff()];case 1:i=n.sent();n.label=2;case 2:i;return[2]}}))}))};i.prototype.mapToOtherSide=function(){var t,i;var n=this._editors.modified.hasWidgetFocus(),r=n?this._editors.modified:this._editors.original,e=n?this._editors.original:this._editors.modified;var o;var s=r.getSelection();if(s){var u=(i=(t=this._diffModel.get())===null||t===void 0?void 0:t.diff.get())===null||i===void 0?void 0:i.mappings.map((function(t){return n?t.lineRangeMapping.flip():t.lineRangeMapping}));if(u){var a=mV(s.getStartPosition(),u),c=mV(s.getEndPosition(),u);o=Zr.plusRange(a,c)}}return{destination:e,destinationSelection:o}};i.prototype.switchSide=function(){var t=this.mapToOtherSide(),i=t.destination,n=t.destinationSelection;i.focus(),n&&i.setSelection(n)};i.prototype.exitCompareMove=function(){var t=this._diffModel.get();t&&t.movedTextToCompare.set(void 0,void 0)};i.prototype.collapseAllUnchangedRegions=function(){var t;var i=(t=this._diffModel.get())===null||t===void 0?void 0:t.unchangedRegions.get();i&&Aj((function(t){for(var n=0,r=i;n<r.length;n++){var e=r[n];e.collapseAll(t)}}))};i.prototype.showAllUnchangedRegions=function(){var t;var i=(t=this._diffModel.get())===null||t===void 0?void 0:t.unchangedRegions.get();i&&Aj((function(t){for(var n=0,r=i;n<r.length;n++){var e=r[n];e.showAll(t)}}))};i.prototype._handleCursorPositionChange=function(t,i){var n,r;if((t==null?void 0:t.reason)===3){var e=(r=(n=this._diffModel.get())===null||n===void 0?void 0:n.diff.get())===null||r===void 0?void 0:r.mappings.find((function(n){return i?n.lineRangeMapping.modified.contains(t.position.lineNumber):n.lineRangeMapping.original.contains(t.position.lineNumber)}));e!=null&&e.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(OG.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):e!=null&&e.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(OG.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):e&&this._accessibilitySignalService.playSignal(OG.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}};return i}(LK);dX=fX([lX(3,hf),lX(4,fh),lX(5,dh),lX(6,SG),lX(7,$T)],dX);var vX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},AX=function(t,i){return function(n,r){i(n,r,t)}};var gX=0,wX=!1;function pX(t){if(!t){if(wX)return;wX=!0}(function(t){Sw=document.createElement("div"),Sw.className="monaco-aria-container";var i=function(){var t=document.createElement("div");return t.className="monaco-alert",t.setAttribute("role","alert"),t.setAttribute("aria-atomic","true"),Sw.appendChild(t),t};Iw=i(),Qw=i();var n=function(){var t=document.createElement("div");return t.className="monaco-status",t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),Sw.appendChild(t),t};Ow=n(),Nw=n(),t.appendChild(Sw)})(t||go.document.body)}var mX=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l){var d=this;var v=__assign({},n);v.ariaLabel=v.ariaLabel||mL.editorViewAccessibleLabel,v.ariaLabel=v.ariaLabel+";"+mL.accessibilityHelpMessage,d=t.call(this,i,v,{},r,e,o,s,a,c,h,f,l)||this,d._standaloneKeybindingService=u instanceof WG?u:null,pX(v.ariaContainerElement),RL=function(t,i){return r.createInstance(NO,t,i,{})};return d}i.prototype.addCommand=function(t,i,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var r="DYNAMIC_"+ ++gX,e=Hh.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(r,t,i,e),r};i.prototype.createContextKey=function(t,i){return this._contextKeyService.createKey(t,i)};i.prototype.addAction=function(t){var i=this;if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Cn.None;var n=t.id,r=t.label,e=Hh.and(Hh.equals("editorId",this.getId()),Hh.deserialize(t.precondition)),o=t.keybindings,s=Hh.and(e,Hh.deserialize(t.keybindingContext)),u=t.contextMenuGroupId||null,a=t.contextMenuOrder||0,c=function(n){var r=[];for(var e=1;e<arguments.length;e++){r[e-1]=arguments[e]}return Promise.resolve(t.run.apply(t,__spreadArray([i],r,false)))},h=new Bn,f=this.getId()+":"+n;if(h.add(Bh.registerCommand(f,c)),u){var l={command:{id:f,title:r},when:e,group:u,order:a};h.add(If.appendMenuItem(_f.EditorContext,l))}if(Array.isArray(o))for(var d=0,v=o;d<v.length;d++){var l=v[d];h.add(this._standaloneKeybindingService.addDynamicKeybinding(f,l,c,s))}var A=new MD(f,r,r,void 0,e,(function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return Promise.resolve(t.run.apply(t,__spreadArray([i],n,false)))}),this._contextKeyService);return this._actions.set(n,A),h.add(En((function(){i._actions.delete(n)}))),h};i.prototype._triggerCommand=function(i,n){if(this._codeEditorService instanceof vQ)try{this._codeEditorService.setActiveCodeEditor(this),t.prototype._triggerCommand.call(this,i,n)}finally{this._codeEditorService.setActiveCodeEditor(null)}else t.prototype._triggerCommand.call(this,i,n)};return i}(KI);mX=vX([AX(2,fh),AX(3,dh),AX(4,Eh),AX(5,hf),AX(6,vE),AX(7,ex),AX(8,PI),AX(9,Kw),AX(10,jd),AX(11,gg)],mX);var bX=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l,d,v,A){var g=this;var w=__assign({},n);$G(h,w,!1);var p=a.registerEditorContainer(i);typeof w.theme=="string"&&a.setTheme(w.theme),w.autoDetectHighContrast!==void 0&&a.setAutoDetectHighContrast(!!w.autoDetectHighContrast);var m=w.model;var b;if(delete w.model,g=t.call(this,i,w,r,e,o,s,u,a,c,f,v,A)||this,g._configurationService=h,g._standaloneThemeService=a,g._register(p),m===void 0){var y=d.getLanguageIdByMimeType(w.language)||w.language||Fd;b=kX(l,d,w.value||"",y,void 0),g._ownsModel=!0}else b=m,g._ownsModel=!1;if(g._attachModel(b),b){var y={oldModelUrl:null,newModelUrl:b.uri};g._onDidChangeModel.fire(y)}return g}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.updateOptions=function(i){$G(this._configurationService,i,!1),typeof i.theme=="string"&&this._standaloneThemeService.setTheme(i.theme),i.autoDetectHighContrast!==void 0&&this._standaloneThemeService.setAutoDetectHighContrast(!!i.autoDetectHighContrast),t.prototype.updateOptions.call(this,i)};i.prototype._postDetachModelCleanup=function(i){t.prototype._postDetachModelCleanup.call(this,i),i&&this._ownsModel&&(i.dispose(),this._ownsModel=!1)};return i}(mX);bX=vX([AX(2,fh),AX(3,dh),AX(4,Eh),AX(5,hf),AX(6,vE),AX(7,JW),AX(8,PI),AX(9,sd),AX(10,Kw),AX(11,vh),AX(12,ld),AX(13,jd),AX(14,gg)],bX);var yX=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l){var d=this;var v=__assign({},n);$G(a,v,!0);var A=s.registerEditorContainer(i);typeof v.theme=="string"&&s.setTheme(v.theme),v.autoDetectHighContrast!==void 0&&s.setAutoDetectHighContrast(!!v.autoDetectHighContrast),d=t.call(this,i,v,{},e,r,o,l,h)||this,d._configurationService=a,d._standaloneThemeService=s,d._register(A);return d}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.updateOptions=function(i){$G(this._configurationService,i,!0),typeof i.theme=="string"&&this._standaloneThemeService.setTheme(i.theme),i.autoDetectHighContrast!==void 0&&this._standaloneThemeService.setAutoDetectHighContrast(!!i.autoDetectHighContrast),t.prototype.updateOptions.call(this,i)};i.prototype._createInnerEditor=function(t,i,n){return t.createInstance(mX,i,n)};i.prototype.getOriginalEditor=function(){return t.prototype.getOriginalEditor.call(this)};i.prototype.getModifiedEditor=function(){return t.prototype.getModifiedEditor.call(this)};i.prototype.addCommand=function(t,i,n){return this.getModifiedEditor().addCommand(t,i,n)};i.prototype.createContextKey=function(t,i){return this.getModifiedEditor().createContextKey(t,i)};i.prototype.addAction=function(t){return this.getModifiedEditor().addAction(t)};return i}(dX);function kX(t,i,n,r,e){if(n=n||"",!r){var o=n.indexOf("\n");var s=n;return o!==-1&&(s=n.substring(0,o)),xX(t,n,i.createByFilepathOrFirstLine(e||null,s),e)}return xX(t,n,i.createById(r),e)}function xX(t,i,n,r){return t.createModel(i,n,r)}yX=vX([AX(2,fh),AX(3,hf),AX(4,dh),AX(5,JW),AX(6,PI),AX(7,sd),AX(8,TO),AX(9,$T),AX(10,uG),AX(11,SG)],yX);var EX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},BX=function(t,i){return function(n,r){i(n,r,t)}};var CX=function(){function t(t,i){this.viewModel=t,this.deltaScrollVertical=i}t.prototype.getId=function(){return this.viewModel};return t}();var DX=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._container=i,o._overflowWidgetsDomNode=n,o._workbenchUIElementFactory=r,o._instantiationService=e,o._viewModel=mj(o,void 0),o._collapsed=Ej(o,(function(t){var i;return(i=o._viewModel.read(t))===null||i===void 0?void 0:i.collapsed.read(t)})),o._editorContentHeight=mj(o,500),o.contentHeight=Ej(o,(function(t){return(o._collapsed.read(t)?0:o._editorContentHeight.read(t))+o._outerEditorHeight})),o._modifiedContentWidth=mj(o,0),o._modifiedWidth=mj(o,0),o._originalContentWidth=mj(o,0),o._originalWidth=mj(o,0),o.maxScroll=Ej(o,(function(t){var i=o._modifiedContentWidth.read(t)-o._modifiedWidth.read(t),n=o._originalContentWidth.read(t)-o._originalWidth.read(t);return i>n?{maxScroll:i,width:o._modifiedWidth.read(t)}:{maxScroll:n,width:o._originalWidth.read(t)}})),o._elements=Gc("div.multiDiffEntry",[Gc("div.header@header",[Gc("div.header-content",[Gc("div.collapse-button@collapseButton"),Gc("div.file-path",[Gc("div.title.modified.show-file-icons@primaryPath",[]),Gc("div.status.deleted@status",["R"]),Gc("div.title.original.show-file-icons@secondaryPath",[])]),Gc("div.actions@actions")])]),Gc("div.editorParent",[Gc("div.editorContainer@editor")])]),o.editor=o._register(o._instantiationService.createInstance(dX,o._elements.editor,{overflowWidgetsDomNode:o._overflowWidgetsDomNode},{})),o.isModifedFocused=MX(o.editor.getModifiedEditor()),o.isOriginalFocused=MX(o.editor.getOriginalEditor()),o.isFocused=Ej(o,(function(t){return o.isModifedFocused.read(t)||o.isOriginalFocused.read(t)})),o._resourceLabel=o._workbenchUIElementFactory.createResourceLabel?o._register(o._workbenchUIElementFactory.createResourceLabel(o._elements.primaryPath)):void 0,o._resourceLabel2=o._workbenchUIElementFactory.createResourceLabel?o._register(o._workbenchUIElementFactory.createResourceLabel(o._elements.secondaryPath)):void 0,o._dataStore=new Bn,o._headerHeight=40,o._lastScrollTop=-1,o._isSettingScrollTop=!1;var s=new YP(o._elements.collapseButton,{});o._register(_j((function(t){s.element.className="",s.icon=o._collapsed.read(t)?re.chevronRight:re.chevronDown}))),o._register(s.onDidClick((function(){var t;(t=o._viewModel.get())===null||t===void 0||t.collapsed.set(!o._collapsed.get(),void 0)}))),o._register(_j((function(t){o._elements.editor.style.display=o._collapsed.read(t)?"none":"block"}))),o._register(o.editor.getModifiedEditor().onDidLayoutChange((function(t){var i=o.editor.getModifiedEditor().getLayoutInfo().contentWidth;o._modifiedWidth.set(i,void 0)}))),o._register(o.editor.getOriginalEditor().onDidLayoutChange((function(t){var i=o.editor.getOriginalEditor().getLayoutInfo().contentWidth;o._originalWidth.set(i,void 0)}))),o._register(o.editor.onDidContentSizeChange((function(t){gj((function(i){o._editorContentHeight.set(t.contentHeight,i),o._modifiedContentWidth.set(o.editor.getModifiedEditor().getContentWidth(),i),o._originalContentWidth.set(o.editor.getOriginalEditor().getContentWidth(),i)}))}))),o._register(o.editor.getOriginalEditor().onDidScrollChange((function(t){if(o._isSettingScrollTop||!t.scrollTopChanged||!o._data)return;var i=t.scrollTop-o._lastScrollTop;o._data.deltaScrollVertical(i)}))),o._register(_j((function(t){var i=o.isFocused.read(t);o._elements.root.classList.toggle("focused",i)}))),o._container.appendChild(o._elements.root),o._outerEditorHeight=o._headerHeight,o._register(o._instantiationService.createInstance(eX,o._elements.actions,_f.MultiDiffEditorFileToolbar,{actionRunner:o._register(new PK((function(){var t;return(t=o._viewModel.get())===null||t===void 0?void 0:t.modifiedUri}))),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:function(t){return t.startsWith("navigation")}},actionViewItemProvider:function(t,i){return aU(e,t,i)}}));return o}i.prototype.setScrollLeft=function(t){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(t):this.editor.getOriginalEditor().setScrollLeft(t)};i.prototype.setData=function(t){var i=this;function n(t){return __assign(__assign({},t),{scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1})}this._data=t;var r=t.viewModel.entry.value;r.onOptionsDidChange&&this._dataStore.add(r.onOptionsDidChange((function(){var t;i.editor.updateOptions(n((t=r.options)!==null&&t!==void 0?t:{}))}))),gj((function(e){var o,s,u,a;(o=i._resourceLabel)===null||o===void 0||o.setUri((s=t.viewModel.modifiedUri)!==null&&s!==void 0?s:t.viewModel.originalUri,{strikethrough:t.viewModel.modifiedUri===void 0});var c=!1,h=!1,f=!1,l="";t.viewModel.modifiedUri&&t.viewModel.originalUri&&t.viewModel.modifiedUri.path!==t.viewModel.originalUri.path?(l="R",c=!0):t.viewModel.modifiedUri?t.viewModel.originalUri||(l="A",f=!0):(l="D",h=!0),i._elements.status.classList.toggle("renamed",c),i._elements.status.classList.toggle("deleted",h),i._elements.status.classList.toggle("added",f),i._elements.status.innerText=l,(u=i._resourceLabel2)===null||u===void 0||u.setUri(c?t.viewModel.originalUri:void 0,{strikethrough:!0}),i._dataStore.clear(),i._viewModel.set(t.viewModel,e),i.editor.setModel(t.viewModel.diffEditorViewModel,e),i.editor.updateOptions(n((a=r.options)!==null&&a!==void 0?a:{}))}))};i.prototype.render=function(t,i,n,r){var e=this;this._elements.root.style.visibility="visible",this._elements.root.style.top="".concat(t.start,"px"),this._elements.root.style.height="".concat(t.length,"px"),this._elements.root.style.width="".concat(i,"px"),this._elements.root.style.position="absolute";var o=t.length-this._headerHeight,s=Math.max(0,Math.min(r.start-t.start,o));this._elements.header.style.transform="translateY(".concat(s,"px)"),gj((function(n){e.editor.layout({width:i-16-2,height:t.length-e._outerEditorHeight})}));try{this._isSettingScrollTop=!0,this._lastScrollTop=n,this.editor.getOriginalEditor().setScrollTop(n)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",s>0||n>0),this._elements.header.classList.toggle("collapsed",s===o)};i.prototype.hide=function(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"};return i}(Cn);function MX(t){return Rj((function(i){var n=new Bn;return n.add(t.onDidFocusEditorWidget((function(){return i(!0)}))),n.add(t.onDidBlurEditorWidget((function(){return i(!1)}))),n}),(function(){return t.hasTextFocus()}))}DX=EX([BX(3,fh)],DX);var _X=function(){function t(t){this._create=t,this._unused=new Set,this._used=new Set,this._itemData=new Map}t.prototype.getUnusedObj=function(t){var i=this;var n;var r;if(this._unused.size===0)r=this._create(t),this._itemData.set(r,t);else{var e=__spreadArray([],this._unused.values(),true);r=(n=e.find((function(n){return i._itemData.get(n).getId()===t.getId()})))!==null&&n!==void 0?n:e[0],this._unused.delete(r),this._itemData.set(r,t),r.setData(t)}return this._used.add(r),{object:r,dispose:function(){i._used.delete(r),i._unused.size>5?r.dispose():i._unused.add(r)}}};t.prototype.dispose=function(){for(var t=0,i=this._used;t<i.length;t++){var n=i[t];n.dispose()}for(var r=0,e=this._unused;r<e.length;r++){var n=e[r];n.dispose()}this._used.clear(),this._unused.clear()};return t}();var FX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},SX=function(t,i){return function(n,r){i(n,r,t)}};var IX=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._element=i,u._dimension=n,u._viewModel=r,u._workbenchUIElementFactory=e,u._parentContextKeyService=o,u._parentInstantiationService=s,u._elements=Gc("div.monaco-component.multiDiffEditor",[Gc("div@content",{style:{overflow:"hidden"}}),Gc("div.monaco-editor@overflowWidgetsDomNode",{})]),u._sizeObserver=u._register(new hV(u._element,void 0)),u._objectPool=u._register(new _X((function(t){var i=u._instantiationService.createInstance(DX,u._elements.content,u._elements.overflowWidgetsDomNode,u._workbenchUIElementFactory);return i.setData(t),i}))),u._scrollable=u._register(new Dk({forceIntegerValues:!1,scheduleAtNextAnimationFrame:function(t){return Ua(ka(u._element),t)},smoothScrollDuration:100})),u._scrollableElement=u._register(new Nk(u._elements.root,{vertical:1,horizontal:1,useShadows:!1},u._scrollable)),u.scrollTop=Rj(u._scrollableElement.onScroll,(function(){return u._scrollableElement.getScrollPosition().scrollTop})),u.scrollLeft=Rj(u._scrollableElement.onScroll,(function(){return u._scrollableElement.getScrollPosition().scrollLeft})),u._viewItems=Cj(u,(function(t,i){var n=u._viewModel.read(t);return n?n.items.read(t).map((function(t){var n;var r=i.add(new QX(t,u._objectPool,u.scrollLeft,(function(t){u._scrollableElement.setScrollPosition({scrollTop:u._scrollableElement.getScrollPosition().scrollTop+t})}))),e=(n=u._lastDocStates)===null||n===void 0?void 0:n[r.getKey()];return e&&Aj((function(t){r.setViewState(e,t)})),r})):[]})),u._spaceBetweenPx=0,u._totalHeight=u._viewItems.map(u,(function(t,i){return t.reduce((function(t,n){return t+n.contentHeight.read(i)+u._spaceBetweenPx}),0)})),u.activeDiffItem=Ej(u,(function(t){return u._viewItems.read(t).find((function(i){var n;return(n=i.template.read(t))===null||n===void 0?void 0:n.isFocused.read(t)}))})),u.lastActiveDiffItem=function(t){var i;return Ej((function(n){return i=t(n,i),i}))}((function(t,i){var n;return(n=u.activeDiffItem.read(t))!==null&&n!==void 0?n:i})),u._contextKeyService=u._register(u._parentContextKeyService.createScoped(u._element)),u._instantiationService=u._parentInstantiationService.createChild(new UI([hf,u._contextKeyService])),u._lastDocStates={},u._contextKeyService.createKey(hB.inMultiDiffEditor.key,!0),u._register(Ij((function(t,i){var n=u._viewModel.read(t);if(n&&n.contextKeys){var r=function(t,n){var r=u._contextKeyService.createKey(t,void 0);r.set(n),i.add(En((function(){return r.reset()})))};for(var e=0,o=Object.entries(n.contextKeys);e<o.length;e++){var s=o[e],a=s[0],c=s[1];r(a,c)}}})));var a=u._parentContextKeyService.createKey(hB.multiDiffEditorAllCollapsed.key,!1);u._register(_j((function(t){var i=u._viewModel.read(t);if(i){var n=i.items.read(t).every((function(i){return i.collapsed.read(t)}));a.set(n)}}))),u._register(_j((function(t){var i=u.lastActiveDiffItem.read(t);Aj((function(n){var r;(r=u._viewModel.read(t))===null||r===void 0||r.activeDiffItem.set(i==null?void 0:i.viewModel,n)}))}))),u._register(_j((function(t){var i=u._dimension.read(t);u._sizeObserver.observe(i)}))),u._elements.content.style.position="relative",u._register(_j((function(t){var i=u._sizeObserver.height.read(t);u._elements.root.style.height="".concat(i,"px");var n=u._totalHeight.read(t);u._elements.content.style.height="".concat(n,"px");var r=u._sizeObserver.width.read(t);var e=r;var o=nA(u._viewItems.read(t),(function(i){return i.maxScroll.read(t).maxScroll}));o&&(e=r+o.maxScroll.read(t).maxScroll),u._scrollableElement.setScrollDimensions({width:r,height:i,scrollHeight:n,scrollWidth:e})}))),i.replaceChildren(u._scrollableElement.getDomNode()),u._register(En((function(){i.replaceChildren()}))),u._register(u._register(_j((function(t){gj((function(i){u.render(t)}))}))));return u}i.prototype.render=function(t){var i=this.scrollTop.read(t);var n=0,r=0,e=0;var o=this._sizeObserver.height.read(t),s=Kv.ofStartAndLength(i,o),u=this._sizeObserver.width.read(t);for(var a=0,c=this._viewItems.read(t);a<c.length;a++){var h=c[a];var f=h.contentHeight.read(t),l=Math.min(f,o),d=Kv.ofStartAndLength(r,l),v=Kv.ofStartAndLength(e,f);if(v.isBefore(s))n-=f-l,h.hide();else if(v.isAfter(s))h.hide();else{var A=Math.max(0,Math.min(s.start-v.start,f-l));n-=A;var g=Kv.ofStartAndLength(i+n,o);h.render(d,A,u,g)}r+=l+this._spaceBetweenPx,e+=f+this._spaceBetweenPx}this._elements.content.style.transform="translateY(".concat(-(i+n),"px)")};return i}(Cn);IX=FX([SX(4,hf),SX(5,fh)],IX);var QX=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o.viewModel=i,o._objectPool=n,o._scrollLeft=r,o._deltaScrollVertical=e,o._templateRef=o._register(yj(o,void 0)),o.contentHeight=Ej(o,(function(t){var i,n,r;return(r=(n=(i=o._templateRef.read(t))===null||i===void 0?void 0:i.object.contentHeight)===null||n===void 0?void 0:n.read(t))!==null&&r!==void 0?r:o.viewModel.lastTemplateData.read(t).contentHeight})),o.maxScroll=Ej(o,(function(t){var i,n;return(n=(i=o._templateRef.read(t))===null||i===void 0?void 0:i.object.maxScroll.read(t))!==null&&n!==void 0?n:{maxScroll:0,scrollWidth:0}})),o.template=Ej(o,(function(t){var i;return(i=o._templateRef.read(t))===null||i===void 0?void 0:i.object})),o._isHidden=mj(o,!1),o._register(_j((function(t){var i;var n=o._scrollLeft.read(t);(i=o._templateRef.read(t))===null||i===void 0||i.object.setScrollLeft(n)}))),o._register(_j((function(t){var i=o._templateRef.read(t);i&&o._isHidden.read(t)&&(i.object.isFocused.read(t)||o._clear())})));return o}i.prototype.dispose=function(){this._clear(),t.prototype.dispose.call(this)};i.prototype.toString=function(){var t;return"VirtualViewItem(".concat((t=this.viewModel.entry.value.modified)===null||t===void 0?void 0:t.uri.toString(),")")};i.prototype.getKey=function(){return this.viewModel.getKey()};i.prototype.setViewState=function(t,i){var n;this.viewModel.collapsed.set(t.collapsed,i),this._updateTemplateData(i);var r=this.viewModel.lastTemplateData.get(),e=(n=t.selections)===null||n===void 0?void 0:n.map($r.liftSelection);this.viewModel.lastTemplateData.set(__assign(__assign({},r),{selections:e}),i);var o=this._templateRef.get();o&&e&&o.object.editor.setSelections(e)};i.prototype._updateTemplateData=function(t){var i;var n=this._templateRef.get();n&&this.viewModel.lastTemplateData.set({contentHeight:n.object.contentHeight.get(),selections:(i=n.object.editor.getSelections())!==null&&i!==void 0?i:void 0},t)};i.prototype._clear=function(){var t=this;var i=this._templateRef.get();i&&Aj((function(n){t._updateTemplateData(n),i.object.hide(),t._templateRef.set(void 0,n)}))};i.prototype.hide=function(){this._isHidden.set(!0,void 0)};i.prototype.render=function(t,i,n,r){this._isHidden.set(!1,void 0);var e=this._templateRef.get();if(!e){e=this._objectPool.getUnusedObj(new CX(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(e,void 0);var o=this.viewModel.lastTemplateData.get().selections;o&&e.object.editor.setSelections(o)}e.object.render(t,n,i,r)};return i}(Cn);fp("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},Bt(0,"The background color of the diff editor's header")),fp("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},Bt(0,"The background color of the multi file diff editor")),fp("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},Bt(0,"The border color of the multi file diff editor"));var OX=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},NX=function(t,i){return function(n,r){i(n,r,t)}};var RX=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._element=i,e._workbenchUIElementFactory=n,e._instantiationService=r,e._dimension=mj(e,void 0),e._viewModel=mj(e,void 0),e._widgetImpl=Cj(e,(function(t,i){return gV(DX,t),i.add(e._instantiationService.createInstance(gV(IX,t),e._element,e._dimension,e._viewModel,e._workbenchUIElementFactory))})),e._register(Hj(e._widgetImpl));return e}return i}(Cn);function TX(t,i,n){return rV.initialize(n||{}).createInstance(bX,t,i)}function LX(t){return rV.get(dh).onCodeEditorAdd((function(i){t(i)}))}function jX(t){return rV.get(dh).onDiffEditorAdd((function(i){t(i)}))}function zX(){return rV.get(dh).listCodeEditors()}function UX(){return rV.get(dh).listDiffEditors()}function HX(t,i,n){return rV.initialize(n||{}).createInstance(yX,t,i)}function YX(t,i){var n=rV.initialize(i||{});return new RX(t,{},n)}function JX(t){if(typeof t.id!="string"||typeof t.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Bh.registerCommand(t.id,t.run)}function PX(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");var i=Hh.deserialize(t.precondition),n=new Bn;if(n.add(Bh.registerCommand(t.id,(function(n){var r=[];for(var e=1;e<arguments.length;e++){r[e-1]=arguments[e]}return Gf.runEditorCommand(n,r,i,(function(i,n,r){return Promise.resolve(t.run.apply(t,__spreadArray([n],r,false)))}))}))),t.contextMenuGroupId){var r={command:{id:t.id,title:t.label},when:i,group:t.contextMenuGroupId,order:t.contextMenuOrder||0};n.add(If.appendMenuItem(_f.EditorContext,r))}if(Array.isArray(t.keybindings)){var r=rV.get(vE);if(r instanceof WG){var e=Hh.and(i,Hh.deserialize(t.keybindingContext));n.add(r.addDynamicKeybindings(t.keybindings.map((function(i){return{keybinding:i,command:t.id,when:e}}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return n}function WX(t){return GX([t])}function GX(t){var i=rV.get(vE);return i instanceof WG?i.addDynamicKeybindings(t.map((function(t){return{keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:Hh.deserialize(t.when)}}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Cn.None)}function VX(t,i,n){var r=rV.get(ld),e=r.getLanguageIdByMimeType(i)||i;return kX(rV.get(vh),r,t,e,n)}function KX(t,i){var n=rV.get(ld),r=n.getLanguageIdByMimeType(i)||i||Fd;t.setLanguage(n.createById(r))}function XX(t,i,n){t&&rV.get(QU).changeOne(i,t.uri,n)}function qX(t){rV.get(QU).changeAll(t,[])}function ZX(t){return rV.get(QU).read(t)}function $X(t){return rV.get(QU).onMarkerChanged(t)}function tq(t){return rV.get(vh).getModel(t)}function iq(){return rV.get(vh).getModels()}function nq(t){return rV.get(vh).onModelAdded(t)}function rq(t){return rV.get(vh).onModelRemoved(t)}function eq(t){return rV.get(vh).onModelLanguageChanged((function(i){t({model:i.model,oldLanguage:i.oldLanguageId})}))}function oq(t){return function(t,i,n){return new Mg(t,i,n)}(rV.get(vh),rV.get(jd),t)}function sq(t,i){var n=rV.get(ld),r=rV.get(JW);return Mw.colorizeElement(r,n,t,i).then((function(){r.registerEditorContainer(t)}))}function uq(t,i,n){var r=rV.get(ld);return rV.get(JW).registerEditorContainer(go.document.body),Mw.colorize(r,t,i,n)}function aq(t,i,n){if(n===void 0){n=4}return rV.get(JW).registerEditorContainer(go.document.body),Mw.colorizeModelLine(t,i,n)}function cq(t,i){ye.getOrCreate(i);var n=function(t){return ye.get(t)||{getInitialState:function(){return Fg},tokenize:function(i,n,r){return Sg(t,r)}}}(i),r=_o(t),e=[];var o=n.getInitialState();for(var s=0,u=r.length;s<u;s++){var a=r[s],c=n.tokenize(a,!0,o);e[s]=c.tokens,o=c.endState}return e}function hq(t,i){rV.get(JW).defineTheme(t,i)}function fq(t){rV.get(JW).setTheme(t)}function lq(){ch.clearAllFontInfos()}function dq(t,i){return Bh.registerCommand({id:t,handler:i})}function vq(t){var i=this;return rV.get(HO).registerOpener({open:function(n){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(i){return[2,(typeof n=="string"&&(n=zr.parse(n)),t.open(n))]}))}))}})}function Aq(t){var i=this;return rV.get(dh).registerCodeEditorOpenHandler((function(n,r,e){return __awaiter(i,void 0,void 0,(function(){var i,e,o;return __generator(this,(function(s){switch(s.label){case 0:if(!r)return[2,null];e=(i=n.options)===null||i===void 0?void 0:i.selection;e&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"?o=e:e&&(o={lineNumber:e.startLineNumber,column:e.startColumn});return[4,t.openCodeEditor(r,n.resource,o)];case 1:return[2,s.sent()?r:null]}}))}))}))}function gq(t,i){return typeof t=="boolean"?t:i}function wq(t,i){return typeof t=="string"?t:i}function pq(t,i){if(i===void 0){i=!1}i&&(t=t.map((function(t){return t.toLowerCase()})));var n=function(t){var i={};for(var n=0,r=t;n<r.length;n++){var e=r[n];i[e]=!0}return i}(t);return i?function(t){return n[t.toLowerCase()]!==void 0&&n.hasOwnProperty(t.toLowerCase())}:function(t){return n[t]!==void 0&&n.hasOwnProperty(t)}}function mq(t,i,n){i=i.replace(/@@/g,"");var r,e=0;do{r=!1,i=i.replace(/@(\w+)/g,(function(n,e){r=!0;var o="";if(typeof t[e]=="string")o=t[e];else{if(!(t[e]&&t[e]instanceof RegExp))throw t[e]===void 0?lw(t,"language definition does not contain attribute '"+e+"', used at: "+i):lw(t,"attribute reference '"+e+"' must be a string, used at: "+i);o=t[e].source}return cw(o)?"":"(?:"+o+")"})),e++}while(r&&e<5);i=i.replace(/\x01/g,"@");var o=(t.ignoreCase?"i":"")+(t.unicode?"u":"");if(n&&i.match(/\$[sS](\d\d?)/g)){var s=null,u=null;return function(n){return u&&s===n||(s=n,u=new RegExp(function(t,i,n){var r=null;return i.replace(/\$[sS](\d\d?)/g,(function(i,e){return r===null&&(r=n.split("."),r.unshift(n)),!cw(e)&&e<r.length?hw(t,r[e]):""}))}(t,i,n),o)),u}}return new RegExp(i,o)}function bq(t,i,n,r){var e=-1,o=n,s=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(e=parseInt(s[3]),s[2]&&(e+=100)),o=s[4]);var u,a="~",c=o;if(o&&o.length!==0?/^\w*$/.test(c)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],c=s[2])):(a="!=",c=""),a!=="~"&&a!=="!~"||!/^(\w|\|)*$/.test(c))if(a==="@"||a==="!@"){var h=t[c];if(!h)throw lw(t,"the @ match target '"+c+"' is not defined, in rule: "+i);if(!function(t,i){if(!i||!Array.isArray(i))return!1;for(var n=0,r=i;n<r.length;n++){var e=r[n];if(!t(e))return!1}return!0}((function(t){return typeof t=="string"}),h))throw lw(t,"the @ match target '"+c+"' must be an array of strings, in rule: "+i);var f=pq(h,t.ignoreCase);u=function(t){return a==="@"?f(t):!f(t)}}else if(a==="~"||a==="!~")if(c.indexOf("$")<0){var l=mq(t,"^"+c+"$",!1);u=function(t){return a==="~"?l.test(t):!l.test(t)}}else u=function(i,n,r,e){return mq(t,"^"+dw(t,c,n,r,e)+"$",!1).test(i)};else if(c.indexOf("$")<0){var d=hw(t,c);u=function(t){return a==="=="?t===d:t!==d}}else{var v=hw(t,c);u=function(i,n,r,e,o){var s=dw(t,v,n,r,e);return a==="=="?i===s:i!==s}}else{var A=pq(c.split("|"),t.ignoreCase);u=function(t){return a==="~"?A(t):!A(t)}}return e===-1?{name:n,value:r,test:function(t,i,n,r){return u(t,t,i,n,r)}}:{name:n,value:r,test:function(t,i,n,r){var o=function(t,i,n,r){if(r<0)return t;if(r<i.length)return i[r];if(r>=100){r-=100;var e=n.split(".");if(e.unshift(n),r<e.length)return e[r]}return null}(t,i,n,e);return u(o||"",t,i,n,r)}}}function yq(t,i,n){if(n){if(typeof n=="string")return n;if(n.token||n.token===""){if(typeof n.token!="string")throw lw(t,"a 'token' attribute must be of type string, in rule: "+i);{var r={token:n.token};if(n.token.indexOf("$")>=0&&(r.tokenSubst=!0),typeof n.bracket=="string")if(n.bracket==="@open")r.bracket=1;else{if(n.bracket!=="@close")throw lw(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+i);r.bracket=-1}if(n.next){if(typeof n.next!="string")throw lw(t,"the next state must be a string value in rule: "+i);{var e=n.next;if(!/^(@pop|@push|@popall)$/.test(e)&&(e[0]==="@"&&(e=e.substr(1)),e.indexOf("$")<0&&!function(t,i){var n=i;for(;n&&n.length>0;){if(t.stateNames[n])return!0;var r=n.lastIndexOf(".");n=r<0?null:n.substr(0,r)}return!1}(t,dw(t,e,"",[],""))))throw lw(t,"the next state '"+n.next+"' is not defined in rule: "+i);r.next=e}}return typeof n.goBack=="number"&&(r.goBack=n.goBack),typeof n.switchTo=="string"&&(r.switchTo=n.switchTo),typeof n.log=="string"&&(r.log=n.log),typeof n.nextEmbedded=="string"&&(r.nextEmbedded=n.nextEmbedded,t.usesEmbedded=!0),r}}if(Array.isArray(n)){var r=[];for(var e=0,o=n.length;e<o;e++)r[e]=yq(t,i,n[e]);return{group:r}}if(n.cases){var s=[];for(var o in n.cases)if(n.cases.hasOwnProperty(o)){var u=yq(t,i,n.cases[o]);o==="@default"||o==="@"||o===""?s.push({test:void 0,value:u,name:o}):o==="@eos"?s.push({test:function(t,i,n,r){return r},value:u,name:o}):s.push(bq(t,i,o,u))}var a=t.defaultToken;return{test:function(t,i,n,r){for(var e=0,o=s;e<o.length;e++){var u=o[e];if(!u.test||u.test(t,i,n,r))return u.value}return a}}}throw lw(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+i)}return{token:""}}RX=OX([NX(2,fh)],RX);var kq=function(){function t(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}t.prototype.setRegex=function(t,i){var n;if(typeof i=="string")n=i;else{if(!(i instanceof RegExp))throw lw(t,"rules must start with a match string or regular expression: "+this.name);n=i.source}this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=mq(t,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")",!0)};t.prototype.setAction=function(t,i){this.action=yq(t,this.name,i)};t.prototype.resolveRegex=function(t){return this.regex instanceof RegExp?this.regex:this.regex(t)};return t}();function xq(t,i){if(!i||typeof i!="object")throw new Error("Monarch: expecting a language definition object");var n={};n.languageId=t,n.includeLF=gq(i.includeLF,!1),n.noThrow=!1,n.maxStack=100,n.start=typeof i.start=="string"?i.start:null,n.ignoreCase=gq(i.ignoreCase,!1),n.unicode=gq(i.unicode,!1),n.tokenPostfix=wq(i.tokenPostfix,"."+n.languageId),n.defaultToken=wq(i.defaultToken,"source"),n.usesEmbedded=!1;var r=i;function e(t,o,s){for(var u=0,a=s;u<a.length;u++){var c=a[u];var h=c.include;if(h){if(typeof h!="string")throw lw(n,"an 'include' attribute must be a string at: "+t);if(h[0]==="@"&&(h=h.substr(1)),!i.tokenizer[h])throw lw(n,"include target '"+h+"' is not defined at: "+t);e(t+"."+h,o,i.tokenizer[h])}else{var f=new kq(t);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(f.setRegex(r,c[0]),c.length>=3)if(typeof c[1]=="string")f.setAction(r,{token:c[1],next:c[2]});else{if(typeof c[1]!="object")throw lw(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+t);{var l=c[1];l.next=c[2],f.setAction(r,l)}}else f.setAction(r,c[1]);else{if(!c.regex)throw lw(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+t);c.name&&typeof c.name=="string"&&(f.name=c.name),c.matchOnlyAtStart&&(f.matchOnlyAtLineStart=gq(c.matchOnlyAtLineStart,!1)),f.setRegex(r,c.regex),f.setAction(r,c.action)}o.push(f)}}}if(r.languageId=t,r.includeLF=n.includeLF,r.ignoreCase=n.ignoreCase,r.unicode=n.unicode,r.noThrow=n.noThrow,r.usesEmbedded=n.usesEmbedded,r.stateNames=i.tokenizer,r.defaultToken=n.defaultToken,!i.tokenizer||typeof i.tokenizer!="object")throw lw(n,"a language definition must define the 'tokenizer' attribute as an object");n.tokenizer=[];for(var o in i.tokenizer)if(i.tokenizer.hasOwnProperty(o)){n.start||(n.start=o);var s=i.tokenizer[o];n.tokenizer[o]=new Array,e("tokenizer."+o,n.tokenizer[o],s)}if(n.usesEmbedded=r.usesEmbedded,i.brackets){if(!Array.isArray(i.brackets))throw lw(n,"the 'brackets' attribute must be defined as an array")}else i.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var u=[];for(var a=0,c=i.brackets;a<c.length;a++){var o=c[a];var s=o;if(s&&Array.isArray(s)&&s.length===3&&(s={token:s[2],open:s[0],close:s[1]}),s.open===s.close)throw lw(n,"open and close brackets in a 'brackets' attribute must be different: "+s.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if(typeof s.open!="string"||typeof s.token!="string"||typeof s.close!="string")throw lw(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array");u.push({token:s.token+n.tokenPostfix,open:hw(n,s.open),close:hw(n,s.close)})}return n.brackets=u,n.noThrow=!0,n}function Eq(t){_d.registerLanguage(t)}function Bq(){var t=[];return t=t.concat(_d.getLanguages()),t}function Cq(t){return rV.get(ld).languageIdCodec.encodeLanguageId(t)}function Dq(t,i){return rV.withServices((function(){var n=rV.get(ld).onDidRequestRichLanguageFeatures((function(r){r===t&&(n.dispose(),i())}));return n}))}function Mq(t,i){return rV.withServices((function(){var n=rV.get(ld).onDidRequestBasicLanguageFeatures((function(r){r===t&&(n.dispose(),i())}));return n}))}function _q(t,i){if(!rV.get(ld).isRegisteredLanguageId(t))throw new Error("Cannot set configuration for unknown language ".concat(t));return rV.get(jd).register(t,i,100)}var Fq=function(){function t(t,i){this._languageId=t,this._actual=i}t.prototype.dispose=function(){};t.prototype.getInitialState=function(){return this._actual.getInitialState()};t.prototype.tokenize=function(t,i,n){if(typeof this._actual.tokenize=="function")return Sq.adaptTokenize(this._languageId,this._actual,t,n);throw new Error("Not supported!")};t.prototype.tokenizeEncoded=function(t,i,n){var r=this._actual.tokenizeEncoded(t,n);return new ue(r.tokens,r.endState)};return t}();var Sq=function(){function t(t,i,n,r){this._languageId=t,this._actual=i,this._languageService=n,this._standaloneThemeService=r}t.prototype.dispose=function(){};t.prototype.getInitialState=function(){return this._actual.getInitialState()};t._toClassicTokens=function(t,i){var n=[];var r=0;for(var e=0,o=t.length;e<o;e++){var s=t[e];var u=s.startIndex;e===0?u=0:u<r&&(u=r),n[e]=new oe(u,s.scopes,i),r=u}return n};t.adaptTokenize=function(i,n,r,e){var o=n.tokenize(r,e),s=t._toClassicTokens(o.tokens,i);var u;return u=o.endState.equals(e)?e:o.endState,new se(s,u)};t.prototype.tokenize=function(i,n,r){return t.adaptTokenize(this._languageId,this._actual,i,r)};t.prototype._toBinaryTokens=function(t,i){var n=t.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,e=[];var o=0,s=0;for(var u=0,a=i.length;u<a;u++){var c=i[u],h=1024|r.match(n,c.scopes);if(o>0&&e[o-1]===h)continue;var f=c.startIndex;u===0?f=0:f<s&&(f=s),e[o++]=f,e[o++]=h,s=f}var l=new Uint32Array(o);for(var u=0;u<o;u++)l[u]=e[u];return l};t.prototype.tokenizeEncoded=function(t,i,n){var r=this._actual.tokenize(t,n),e=this._toBinaryTokens(this._languageService.languageIdCodec,r.tokens);var o;return o=r.endState.equals(n)?n:r.endState,new ue(e,o)};return t}();function Iq(t){return t&&typeof t.then=="function"}function Qq(t){var i=rV.get(JW);if(t){var n=[null];for(var r=1,e=t.length;r<e;r++)n[r]=ZA.fromHex(t[r]);i.setColorMapOverride(n)}else i.setColorMapOverride(null)}function Oq(t,i){return function(t){return"tokenizeEncoded"in t}(i)?new Fq(t,i):new Sq(t,i,rV.get(ld),rV.get(JW))}function Nq(t,i){var n=this;var r=new be((function(){return __awaiter(n,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve(i.create())];case 1:n=r.sent();return[2,n?typeof n.getInitialState=="function"?Oq(t,n):new Bw(rV.get(ld),rV.get(JW),t,xq(t,n),rV.get(sd)):null]}}))}))}));return ye.registerFactory(t,r)}function Rq(t,i){if(!rV.get(ld).isRegisteredLanguageId(t))throw new Error("Cannot set tokens provider for unknown language ".concat(t));return Iq(i)?Nq(t,{create:function(){return i}}):ye.register(t,Oq(t,i))}function Tq(t,i){return Iq(i)?Nq(t,{create:function(){return i}}):ye.register(t,function(i){return new Bw(rV.get(ld),rV.get(JW),t,xq(t,i),rV.get(sd))}(i))}function Lq(t,i){return rV.get(gg).referenceProvider.register(t,i)}function jq(t,i){return rV.get(gg).renameProvider.register(t,i)}function zq(t,i){return rV.get(gg).newSymbolNamesProvider.register(t,i)}function Uq(t,i){return rV.get(gg).signatureHelpProvider.register(t,i)}function Hq(t,i){return rV.get(gg).hoverProvider.register(t,{provideHover:function(t,n,r){var e=t.getWordAtPosition(n);return Promise.resolve(i.provideHover(t,n,r)).then((function(t){if(t)return!t.range&&e&&(t.range=new Zr(n.lineNumber,e.startColumn,n.lineNumber,e.endColumn)),t.range||(t.range=new Zr(n.lineNumber,n.column,n.lineNumber,n.column)),t}))}})}function Yq(t,i){return rV.get(gg).documentSymbolProvider.register(t,i)}function Jq(t,i){return rV.get(gg).documentHighlightProvider.register(t,i)}function Pq(t,i){return rV.get(gg).linkedEditingRangeProvider.register(t,i)}function Wq(t,i){return rV.get(gg).definitionProvider.register(t,i)}function Gq(t,i){return rV.get(gg).implementationProvider.register(t,i)}function Vq(t,i){return rV.get(gg).typeDefinitionProvider.register(t,i)}function Kq(t,i){return rV.get(gg).codeLensProvider.register(t,i)}function Xq(t,i,n){return rV.get(gg).codeActionProvider.register(t,{providedCodeActionKinds:n==null?void 0:n.providedCodeActionKinds,documentation:n==null?void 0:n.documentation,provideCodeActions:function(t,n,r,e){var o=rV.get(QU).read({resource:t.uri}).filter((function(t){return Zr.areIntersectingOrTouching(t,n)}));return i.provideCodeActions(t,n,{markers:o,only:r.only,trigger:r.trigger},e)},resolveCodeAction:i.resolveCodeAction})}function qq(t,i){return rV.get(gg).documentFormattingEditProvider.register(t,i)}function Zq(t,i){return rV.get(gg).documentRangeFormattingEditProvider.register(t,i)}function $q(t,i){return rV.get(gg).onTypeFormattingEditProvider.register(t,i)}function tZ(t,i){return rV.get(gg).linkProvider.register(t,i)}function iZ(t,i){return rV.get(gg).completionProvider.register(t,i)}function nZ(t,i){return rV.get(gg).colorProvider.register(t,i)}function rZ(t,i){return rV.get(gg).foldingRangeProvider.register(t,i)}function eZ(t,i){return rV.get(gg).declarationProvider.register(t,i)}function oZ(t,i){return rV.get(gg).selectionRangeProvider.register(t,i)}function sZ(t,i){return rV.get(gg).documentSemanticTokensProvider.register(t,i)}function uZ(t,i){return rV.get(gg).documentRangeSemanticTokensProvider.register(t,i)}function aZ(t,i){return rV.get(gg).inlineCompletionsProvider.register(t,i)}function cZ(t,i){return rV.get(gg).inlineEditProvider.register(t,i)}function hZ(t,i){return rV.get(gg).inlayHintsProvider.register(t,i)}var fZ=lh("IEditorCancelService"),lZ=new cf("cancellableOperation",!1,Bt(0,"Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Ad(fZ,function(){function t(){this._tokens=new WeakMap}t.prototype.add=function(t,i){var n,r=this._tokens.get(t);return r||(r=t.invokeWithinContext((function(t){return{key:lZ.bindTo(t.get(hf)),tokens:new gi}})),this._tokens.set(t,r)),r.key.set(!0),n=r.tokens.push(i),function(){n&&(n(),r.key.set(!r.tokens.isEmpty()),n=void 0)}};t.prototype.cancel=function(t){var i=this._tokens.get(t);if(!i)return;var n=i.tokens.pop();n&&(n.cancel(),i.key.set(!i.tokens.isEmpty()))};return t}(),1);var dZ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.editor=i,r._unregister=i.invokeWithinContext((function(t){return t.get(fZ).add(i,r)}));return r}i.prototype.dispose=function(){this._unregister(),t.prototype.dispose.call(this)};return i}(Kn);Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:lZ})||this}i.prototype.runEditorCommand=function(t,i){t.get(fZ).cancel(i)};return i}(Gf)));var vZ=function(){function t(t,i){if(this.flags=i,1&this.flags){var n=t.getModel();this.modelVersionId=n?ko("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;4&this.flags?this.position=t.getPosition():this.position=null,2&this.flags?this.selection=t.getSelection():this.selection=null,8&this.flags?(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}t.prototype._equals=function(i){if(!(i instanceof t))return!1;var n=i;return this.modelVersionId===n.modelVersionId&&this.scrollLeft===n.scrollLeft&&this.scrollTop===n.scrollTop&&!(!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position))&&!(!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))};t.prototype.validate=function(i){return this._equals(new t(i,this.flags))};return t}();var AZ=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,e)||this,o._listener=new Bn,4&n&&o._listener.add(i.onDidChangeCursorPosition((function(t){r&&Zr.containsPosition(r,t.position)||o.cancel()}))),2&n&&o._listener.add(i.onDidChangeCursorSelection((function(t){r&&Zr.containsRange(r,t.selection)||o.cancel()}))),8&n&&o._listener.add(i.onDidScrollChange((function(t){return o.cancel()}))),1&n&&(o._listener.add(i.onDidChangeModel((function(t){return o.cancel()}))),o._listener.add(i.onDidChangeModelContent((function(t){return o.cancel()}))));return o}i.prototype.dispose=function(){this._listener.dispose(),t.prototype.dispose.call(this)};return i}(dZ);var gZ=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._listener=i.onDidChangeContent((function(){return r.cancel()}));return r}i.prototype.dispose=function(){this._listener.dispose(),t.prototype.dispose.call(this)};return i}(Kn);function wZ(t){return!(!t||typeof t.getEditorType!="function")&&t.getEditorType()===_g.ICodeEditor}function pZ(t){return!(!t||typeof t.getEditorType!="function")&&t.getEditorType()===_g.IDiffEditor}function mZ(t){return wZ(t)?t:pZ(t)?t.getModifiedEditor():function(t){return!!t&&typeof t=="object"&&typeof t.onDidChangeActiveEditor=="function"}(t)&&wZ(t.activeCodeEditor)?t.activeCodeEditor:null}var bZ=function(){function t(){}t._handleEolEdits=function(t,i){var n;var r=[];for(var e=0,o=i;e<o.length;e++){var s=o[e];typeof s.eol=="number"&&(n=s.eol),s.range&&typeof s.text=="string"&&r.push(s)}return typeof n=="number"&&t.hasModel()&&t.getModel().pushEOL(n),r};t._isFullModelReplaceEdit=function(t,i){if(!t.hasModel())return!1;var n=t.getModel(),r=n.validateRange(i.range);return n.getFullModelRange().equalsRange(r)};t.execute=function(i,n,r){r&&i.pushUndoStop();var e=eV.capture(i),o=t._handleEolEdits(i,n);o.length===1&&t._isFullModelReplaceEdit(i,o[0])?i.executeEdits("formatEditsCommand",o.map((function(t){return BT.replace(Zr.lift(t.range),t.text)}))):i.executeEdits("formatEditsCommand",o.map((function(t){return BT.replaceMove(Zr.lift(t.range),t.text)}))),r&&i.pushUndoStop(),e.restoreRelativeVerticalPositionOfCursor(i)};return t}();var yZ=function(){function t(t){this.value=t,this._lower=t.toLowerCase()}t.toKey=function(t){return typeof t=="string"?t.toLowerCase():t._lower};return t}();var kZ=function(){function t(t){if(this._set=new Set,t)for(var i=0,n=t;i<n.length;i++){var r=n[i];this.add(r)}}t.prototype.add=function(t){this._set.add(yZ.toKey(t))};t.prototype.has=function(t){return this._set.has(yZ.toKey(t))};return t}();function xZ(t,i,n){var r=[],e=new kZ,o=t.ordered(n);for(var s=0,u=o;s<u.length;s++){var a=u[s];r.push(a),a.extensionId&&e.add(a.extensionId)}var c=i.ordered(n);var h=function(t){if(t.extensionId){if(e.has(t.extensionId))return"continue";e.add(t.extensionId)}r.push({displayName:t.displayName,extensionId:t.extensionId,provideDocumentFormattingEdits:function(i,n,r){return t.provideDocumentRangeFormattingEdits(i,i.getFullModelRange(),n,r)}})};for(var f=0,l=c;f<l.length;f++){var a=l[f];h(a)}return r}var EZ=function(){function t(){}t.setFormatterSelector=function(i){return{dispose:t._selectors.unshift(i)}};t.select=function(i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s;return __generator(this,(function(u){switch(u.label){case 0:if(i.length===0)return[2];o=vi.first(t._selectors);if(!o)return[3,2];return[4,o(i,n,r,e)];case 1:s=u.sent();return[3,3];case 2:s=void 0;u.label=3;case 3:return[2,s]}}))}))};return t}();function BZ(t,i,n,r,e,o,s){return __awaiter(this,void 0,void 0,(function(){var u,a,c,h,f,l;return __generator(this,(function(d){switch(d.label){case 0:u=t.get(fh),a=t.get(gg).documentRangeFormattingEditProvider,c=wZ(i)?i.getModel():i,h=a.ordered(c);return[4,EZ.select(h,c,r,2)];case 1:f=d.sent();l=f;if(!l)return[3,3];e.report(f);return[4,u.invokeFunction(CZ,f,i,n,o,s)];case 2:l=d.sent();d.label=3;case 3:l;return[2]}}))}))}function CZ(t,i,n,r,e,o){return __awaiter(this,void 0,void 0,(function(){var s,u,a,c,h,f,l,d,v,A,g,w,p,m,b,y,w,k,x,w,E,B,w,C,D,M,_,F,w,C,w,S;var I=this;return __generator(this,(function(Q){switch(Q.label){case 0:a=t.get(FU),c=t.get(Lf),h=t.get(SG);wZ(n)?(f=n.getModel(),l=new AZ(n,5,void 0,e)):(f=n,l=new gZ(n,e));d=[];v=0;for(A=0,g=W(r).sort(Zr.compareRangesUsingStarts);A<g.length;A++){w=g[A];v>0&&Zr.areIntersectingOrTouching(d[v-1],w)?d[v-1]=Zr.fromPositions(d[v-1].getStartPosition(),w.getEndPosition()):v=d.push(w)}p=function(t){return __awaiter(I,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:c.trace("[format][provideDocumentRangeFormattingEdits] (request)",(n=i.extensionId)===null||n===void 0?void 0:n.value,t);return[4,i.provideDocumentRangeFormattingEdits(f,t,f.getFormattingOptions(),l.token)];case 1:e=o.sent()||[];return[2,(c.trace("[format][provideDocumentRangeFormattingEdits] (response)",(r=i.extensionId)===null||r===void 0?void 0:r.value,e),e)]}}))}))},m=function(t,i){if(!t.length||!i.length)return!1;var n=t.reduce((function(t,i){return Zr.plusRange(t,i.range)}),t[0].range);if(!i.some((function(t){return Zr.intersectRanges(n,t.range)})))return!1;for(var r=0,e=t;r<e.length;r++){var o=e[r];for(var s=0,u=i;s<u.length;s++){var a=u[s];if(Zr.intersectRanges(o.range,a.range))return!0}}return!1},b=[],y=[];Q.label=1;case 1:Q.trys.push([1,,18,19]);if(!(typeof i.provideDocumentRangesFormattingEdits=="function"))return[3,3];c.trace("[format][provideDocumentRangeFormattingEdits] (request)",(s=i.extensionId)===null||s===void 0?void 0:s.value,d);return[4,i.provideDocumentRangesFormattingEdits(f,d,f.getFormattingOptions(),l.token)];case 2:w=Q.sent()||[];c.trace("[format][provideDocumentRangeFormattingEdits] (response)",(u=i.extensionId)===null||u===void 0?void 0:u.value,w),y.push(w);return[3,13];case 3:k=0,x=d;Q.label=4;case 4:if(!(k<x.length))return[3,7];w=x[k];if(l.token.isCancellationRequested)return[2,!0];B=(E=y).push;return[4,p(w)];case 5:B.apply(E,[Q.sent()]);Q.label=6;case 6:k++;return[3,4];case 7:w=0;Q.label=8;case 8:if(!(w<d.length))return[3,13];C=w+1;Q.label=9;case 9:if(!(C<d.length))return[3,12];if(l.token.isCancellationRequested)return[2,!0];if(!m(y[w],y[C]))return[3,11];D=Zr.plusRange(d[w],d[C]);return[4,p(D)];case 10:M=Q.sent();d.splice(C,1),d.splice(w,1),d.push(D),y.splice(C,1),y.splice(w,1),y.push(M),w=0,C=0;Q.label=11;case 11:++C;return[3,9];case 12:++w;return[3,8];case 13:_=0,F=y;Q.label=14;case 14:if(!(_<F.length))return[3,17];w=F[_];if(l.token.isCancellationRequested)return[2,!0];return[4,a.computeMoreMinimalEdits(f.uri,w)];case 15:C=Q.sent();C&&b.push.apply(b,C);Q.label=16;case 16:_++;return[3,14];case 17:return[3,19];case 18:l.dispose();return[7];case 19:if(b.length===0)return[2,!1];if(wZ(n))bZ.execute(n,b,!0),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1);else{w=b[0].range,S=new $r(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn);f.pushEditOperations([S],b.map((function(t){return{text:t.text,range:Zr.lift(t.range),forceMoveMarkers:!0}})),(function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i].range;if(Zr.areIntersectingOrTouching(r,S))return[new $r(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)]}return null}))}return[2,(h.playSignal(OG.format,{userGesture:o}),!0)]}}))}))}function DZ(t,i,n,r,e,o){return __awaiter(this,void 0,void 0,(function(){var s,u,a,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:s=t.get(fh),u=t.get(gg),a=wZ(i)?i.getModel():i,c=xZ(u.documentFormattingEditProvider,u.documentRangeFormattingEditProvider,a);return[4,EZ.select(c,a,n,1)];case 1:h=l.sent();f=h;if(!f)return[3,3];r.report(h);return[4,s.invokeFunction(MZ,h,i,n,e,o)];case 2:f=l.sent();l.label=3;case 3:f;return[2]}}))}))}function MZ(t,i,n,r,e,o){return __awaiter(this,void 0,void 0,(function(){var s,u,a,c,h,f,f,l;return __generator(this,(function(d){switch(d.label){case 0:s=t.get(FU),u=t.get(SG);wZ(n)?(a=n.getModel(),c=new AZ(n,5,void 0,e)):(a=n,c=new gZ(n,e));d.label=1;case 1:d.trys.push([1,,4,5]);return[4,i.provideDocumentFormattingEdits(a,a.getFormattingOptions(),c.token)];case 2:f=d.sent();return[4,s.computeMoreMinimalEdits(a.uri,f)];case 3:if(h=d.sent(),c.token.isCancellationRequested)return[2,!0];return[3,5];case 4:c.dispose();return[7];case 5:if(!h||h.length===0)return[2,!1];if(wZ(n))bZ.execute(n,h,r!==2),r!==2&&n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1);else{f=h[0].range,l=new $r(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn);a.pushEditOperations([l],h.map((function(t){return{text:t.text,range:Zr.lift(t.range),forceMoveMarkers:!0}})),(function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i].range;if(Zr.areIntersectingOrTouching(r,l))return[new $r(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)]}return null}))}return[2,(u.playSignal(OG.format,{userGesture:o}),!0)]}}))}))}function _Z(t,i,n,r,e,o,s){var u=i.onTypeFormattingEditProvider.ordered(n);return u.length===0||u[0].autoFormatTriggerCharacters.indexOf(e)<0?Promise.resolve(void 0):Promise.resolve(u[0].provideOnTypeFormattingEdits(n,r,e,o,s)).catch(hn).then((function(i){return t.computeMoreMinimalEdits(n.uri,i)}))}EZ._selectors=new gi,Bh.registerCommand("_executeFormatRangeProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a;return __generator(this,(function(c){switch(c.label){case 0:n=i[0],r=i[1],e=i[2];lt(zr.isUri(n)),lt(Zr.isIRange(r));o=t.get(Ah),s=t.get(FU),u=t.get(gg);return[4,o.createModelReference(n)];case 1:a=c.sent();try{return[2,function(t,i,n,r,e,o){return __awaiter(this,void 0,void 0,(function(){var s,u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:s=i.documentRangeFormattingEditProvider.ordered(n);u=0,a=s;f.label=1;case 1:if(!(u<a.length))return[3,5];c=a[u];return[4,Promise.resolve(c.provideDocumentRangeFormattingEdits(n,r,e,o)).catch(hn)];case 2:h=f.sent();if(!L(h))return[3,4];return[4,t.computeMoreMinimalEdits(n.uri,h)];case 3:return[2,f.sent()];case 4:u++;return[3,1];case 5:return[2]}}))}))}(s,u,a.object.textEditorModel,Zr.lift(r),e,Gn.None)]}finally{a.dispose()}return[2]}}))}))})),Bh.registerCommand("_executeFormatDocumentProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:n=i[0],r=i[1];lt(zr.isUri(n));e=t.get(Ah),o=t.get(FU),s=t.get(gg);return[4,e.createModelReference(n)];case 1:u=a.sent();try{return[2,function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:o=xZ(i.documentFormattingEditProvider,i.documentRangeFormattingEditProvider,n);s=0,u=o;h.label=1;case 1:if(!(s<u.length))return[3,5];a=u[s];return[4,Promise.resolve(a.provideDocumentFormattingEdits(n,r,e)).catch(hn)];case 2:c=h.sent();if(!L(c))return[3,4];return[4,t.computeMoreMinimalEdits(n.uri,c)];case 3:return[2,h.sent()];case 4:s++;return[3,1];case 5:return[2]}}))}))}(o,s,u.object.textEditorModel,r,Gn.None)]}finally{u.dispose()}return[2]}}))}))})),Bh.registerCommand("_executeFormatOnTypeProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:n=i[0],r=i[1],e=i[2],o=i[3];lt(zr.isUri(n)),lt(qr.isIPosition(r)),lt(typeof e=="string");s=t.get(Ah),u=t.get(FU),a=t.get(gg);return[4,s.createModelReference(n)];case 1:c=h.sent();try{return[2,_Z(u,a,c.object.textEditorModel,qr.lift(r),e,o,Gn.None)]}finally{c.dispose()}return[2]}}))}))})),un.wrappingIndent.defaultValue=0,un.glyphMargin.defaultValue=!1,un.autoIndent.defaultValue=3,un.overviewRulerLanes.defaultValue=2,EZ.setFormatterSelector((function(t,i,n){return Promise.resolve(t[0])}));var FZ=Ao();FZ.editor={create:TX,getEditors:zX,getDiffEditors:UX,onDidCreateEditor:LX,onDidCreateDiffEditor:jX,createDiffEditor:HX,addCommand:JX,addEditorAction:PX,addKeybindingRule:WX,addKeybindingRules:GX,createModel:VX,setModelLanguage:KX,setModelMarkers:XX,getModelMarkers:ZX,removeAllMarkers:qX,onDidChangeMarkers:$X,getModels:iq,getModel:tq,onDidCreateModel:nq,onWillDisposeModel:rq,onDidChangeModelLanguage:eq,createWebWorker:oq,colorizeElement:sq,colorize:uq,colorizeModelLine:aq,tokenize:cq,defineTheme:hq,setTheme:fq,remeasureFonts:lq,registerCommand:dq,registerLinkOpener:vq,registerEditorOpener:Aq,AccessibilitySupport:xe,ContentWidgetPositionPreference:_e,CursorChangeReason:Fe,DefaultEndOfLine:Se,EditorAutoIndentStrategy:Qe,EditorOption:Oe,EndOfLinePreference:Ne,EndOfLineSequence:Re,MinimapPosition:We,MinimapSectionHeaderStyle:Ge,MouseTargetType:Ve,OverlayWidgetPositionPreference:Xe,OverviewRulerLane:qe,GlyphMarginLane:Te,RenderLineNumbersType:to,RenderMinimap:io,ScrollbarVisibility:ro,ScrollType:no,TextEditorCursorBlinkingStyle:co,TextEditorCursorStyle:ho,TrackedRangeStickiness:fo,WrappingIndent:lo,InjectedTextCursorStops:je,PositionAffinity:$e,ShowLightbulbIconMode:oo,ConfigurationChangedEvent:xi,BareFontInfo:sh,FontInfo:uh,TextModelResolvedOptions:Iv,FindMatch:Qv,ApplyUpdateResult:Ci,EditorZoom:eh,createMultiFileDiffEditor:YX,EditorType:_g,EditorOptions:un},FZ.languages={register:Eq,getLanguages:Bq,onLanguage:Dq,onLanguageEncountered:Mq,getEncodedLanguageId:Cq,setLanguageConfiguration:_q,setColorMap:Qq,registerTokensProviderFactory:Nq,setTokensProvider:Rq,setMonarchTokensProvider:Tq,registerReferenceProvider:Lq,registerRenameProvider:jq,registerNewSymbolNameProvider:zq,registerCompletionItemProvider:iZ,registerSignatureHelpProvider:Uq,registerHoverProvider:Hq,registerDocumentSymbolProvider:Yq,registerDocumentHighlightProvider:Jq,registerLinkedEditingRangeProvider:Pq,registerDefinitionProvider:Wq,registerImplementationProvider:Gq,registerTypeDefinitionProvider:Vq,registerCodeLensProvider:Kq,registerCodeActionProvider:Xq,registerDocumentFormattingEditProvider:qq,registerDocumentRangeFormattingEditProvider:Zq,registerOnTypeFormattingEditProvider:$q,registerLinkProvider:tZ,registerColorProvider:nZ,registerFoldingRangeProvider:rZ,registerDeclarationProvider:eZ,registerSelectionRangeProvider:oZ,registerDocumentSemanticTokensProvider:sZ,registerDocumentRangeSemanticTokensProvider:uZ,registerInlineCompletionsProvider:aZ,registerInlineEditProvider:cZ,registerInlayHintsProvider:hZ,DocumentHighlightKind:Ie,CompletionItemKind:Ce,CompletionItemTag:De,CompletionItemInsertTextRule:Be,SymbolKind:uo,SymbolTag:ao,IndentAction:Le,CompletionTriggerKind:Me,SignatureHelpTriggerKind:so,InlayHintKind:ze,InlineCompletionTriggerKind:Ue,InlineEditTriggerKind:He,CodeActionTriggerType:Ee,NewSymbolNameTag:Ke,PartialAcceptTriggerKind:Ze,FoldingRangeKind:me,SelectedSuggestionInfo:de};var SZ=FZ.CancellationTokenSource,IZ=FZ.Emitter,QZ=FZ.KeyCode,OZ=FZ.KeyMod,NZ=FZ.Position,RZ=FZ.Range,TZ=FZ.Selection,LZ=FZ.SelectionDirection,jZ=FZ.MarkerSeverity,zZ=FZ.MarkerTag,UZ=FZ.Uri,HZ=FZ.Token,YZ=FZ.editor,JZ=FZ.languages,PZ=globalThis.MonacoEnvironment;(PZ!=null&&PZ.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=FZ),globalThis.require!==void 0&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var WZ=t("q",Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:SZ,Emitter:IZ,KeyCode:QZ,KeyMod:OZ,MarkerSeverity:jZ,MarkerTag:zZ,Position:NZ,Range:RZ,Selection:TZ,SelectionDirection:LZ,Token:HZ,Uri:UZ,editor:YZ,languages:JZ},Symbol.toStringTag,{value:"Module"})));var GZ=Object.defineProperty,VZ=Object.getOwnPropertyDescriptor,KZ=Object.getOwnPropertyNames,XZ=Object.prototype.hasOwnProperty,qZ=function(t,i,n,r){if(i&&typeof i=="object"||typeof i=="function"){var e=function(e){XZ.call(t,e)||e===n||GZ(t,e,{get:function(){return i[e]},enumerable:!(r=VZ(i,e))||r.enumerable})};for(var o=0,s=KZ(i);o<s.length;o++){var u=s[o];e(u)}}return t},ZZ={};qZ(ZZ,WZ,"default");var $Z={},t$={},i$=function(){function t(t){var i=this;this._languageId=t,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(t,n){i._lazyLoadPromiseResolve=t,i._lazyLoadPromiseReject=n}))}t.getOrCreate=function(i){return t$[i]||(t$[i]=new t(i)),t$[i]};t.prototype.load=function(){var t=this;return this._loadingTriggered||(this._loadingTriggered=!0,$Z[this._languageId].loader().then((function(i){return t._lazyLoadPromiseResolve(i)}),(function(i){return t._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise};return t}();function n$(t){var i=this;var n=t.id;$Z[n]=t,ZZ.languages.register(t);var r=i$.getOrCreate(n);ZZ.languages.registerTokensProviderFactory(n,{create:function(){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,r.load()];case 1:return[2,t.sent().language]}}))}))}}),ZZ.languages.onLanguageEncountered(n,(function(){return __awaiter(i,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,r.load()];case 1:t=i.sent();ZZ.languages.setLanguageConfiguration(n,t.conf);return[2]}}))}))}))}n$({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return i.import("./p-fefc3986.system.js")}}),n$({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return i.import("./p-726b6abb.system.js")}}),n$({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return i.import("./p-26522798.system.js")}}),n$({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return i.import("./p-c56595d7.system.js")}}),n$({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return i.import("./p-9c4a474e.system.js")}}),n$({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return i.import("./p-73f84d04.system.js")}}),n$({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return i.import("./p-89dcc7a3.system.js")}}),n$({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return i.import("./p-73254f76.system.js")}}),n$({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return i.import("./p-4add5a5b.system.js")}}),n$({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return i.import("./p-4add5a5b.system.js")}}),n$({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return i.import("./p-e2d7dd9e.system.js")}}),n$({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return i.import("./p-001b0780.system.js")}}),n$({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return i.import("./p-eb1581da.system.js")}}),n$({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:function(){return i.import("./p-7cc56fe0.system.js")}}),n$({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return i.import("./p-5176b526.system.js")}}),n$({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return i.import("./p-cb7329f2.system.js")}}),n$({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return i.import("./p-b6e68f83.system.js")}}),n$({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return i.import("./p-6cc4b675.system.js")}}),n$({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return i.import("./p-6aa3b5ad.system.js")}}),n$({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return i.import("./p-2787c62d.system.js")}}),n$({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagAutoInterpolationDollar}))}}),n$({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagAngleInterpolationDollar}))}}),n$({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagBracketInterpolationDollar}))}}),n$({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagAngleInterpolationBracket}))}}),n$({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagBracketInterpolationBracket}))}}),n$({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagAutoInterpolationDollar}))}}),n$({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:function(){return i.import("./p-7e429fb8.system.js").then((function(t){return t.TagAutoInterpolationBracket}))}}),n$({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return i.import("./p-6cd2b716.system.js")}}),n$({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return i.import("./p-68c7c8ae.system.js")}}),n$({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return i.import("./p-9f7d29ed.system.js")}}),n$({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return i.import("./p-14eec1d4.system.js")}}),n$({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return i.import("./p-44ff75e4.system.js")}}),n$({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return i.import("./p-d27ba6be.system.js")}}),n$({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return i.import("./p-0a14622d.system.js")}}),n$({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return i.import("./p-875c8a13.system.js")}}),n$({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return i.import("./p-427db104.system.js")}}),n$({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return i.import("./p-7ce1979a.system.js")}}),n$({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return i.import("./p-5222fc67.system.js")}}),n$({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return i.import("./p-b80c039b.system.js")}}),n$({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return i.import("./p-3b87858b.system.js")}}),n$({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return i.import("./p-80e0c4da.system.js")}}),n$({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return i.import("./p-9e615008.system.js")}}),n$({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return i.import("./p-4e04f034.system.js")}}),n$({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:function(){return i.import("./p-d220996d.system.js")}}),n$({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return i.import("./p-7241259f.system.js")}}),n$({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return i.import("./p-0ccffc99.system.js")}}),n$({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return i.import("./p-108e56a8.system.js")}}),n$({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return i.import("./p-bf5a962a.system.js")}}),n$({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return i.import("./p-4c59c460.system.js")}}),n$({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return i.import("./p-925905af.system.js")}}),n$({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:function(){return i.import("./p-57d161e9.system.js")}}),n$({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return i.import("./p-305aacd4.system.js")}}),n$({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return i.import("./p-f70e40cc.system.js")}}),n$({id:"pla",extensions:[".pla"],loader:function(){return i.import("./p-e444bbf3.system.js")}}),n$({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return i.import("./p-09695ec3.system.js")}}),n$({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return i.import("./p-8aa4675e.system.js")}}),n$({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return i.import("./p-43017b9d.system.js")}}),n$({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return i.import("./p-db5e9b82.system.js")}}),n$({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return i.import("./p-9e0a7fba.system.js")}}),n$({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return i.import("./p-7ba66cf3.system.js")}}),n$({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return i.import("./p-b0c0c798.system.js")}}),n$({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return i.import("./p-27727295.system.js")}}),n$({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return i.import("./p-91459ba7.system.js")}}),n$({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return i.import("./p-89038d0e.system.js")}}),n$({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return i.import("./p-4bd715e2.system.js")}}),n$({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return i.import("./p-d8def707.system.js")}}),n$({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return i.import("./p-5b6d016b.system.js")}}),n$({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return i.import("./p-9e5cb4fa.system.js")}}),n$({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return i.import("./p-bdbc55a1.system.js")}}),n$({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return i.import("./p-57c9d695.system.js")}}),n$({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return i.import("./p-8a93bad4.system.js")}}),n$({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return i.import("./p-6902d50c.system.js")}}),n$({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return i.import("./p-73fe8932.system.js")}}),n$({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return i.import("./p-e194d137.system.js")}}),n$({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return i.import("./p-077a8fb6.system.js")}}),n$({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return i.import("./p-489b8030.system.js")}}),n$({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return i.import("./p-14914775.system.js")}}),n$({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:function(){return i.import("./p-c4bf1472.system.js")}}),n$({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return i.import("./p-3761a633.system.js")}}),n$({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return i.import("./p-11b6369f.system.js")}}),n$({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return i.import("./p-11b6369f.system.js")}}),n$({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return i.import("./p-8b62e6ad.system.js")}}),n$({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return i.import("./p-6899e5e4.system.js")}}),n$({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return i.import("./p-be5a8d8b.system.js")}}),n$({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return i.import("./p-dd6dab62.system.js")}}),n$({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:function(){return i.import("./p-6fad6dd4.system.js")}}),n$({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return i.import("./p-4d926922.system.js")}}),n$({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return i.import("./p-221def8d.system.js")}});var r$=Object.defineProperty,e$=Object.getOwnPropertyDescriptor,o$=Object.getOwnPropertyNames,s$=Object.prototype.hasOwnProperty,u$=function(t,i,n,r){if(i&&typeof i=="object"||typeof i=="function"){var e=function(e){s$.call(t,e)||e===n||r$(t,e,{get:function(){return i[e]},enumerable:!(r=e$(i,e))||r.enumerable})};for(var o=0,s=o$(i);o<s.length;o++){var u=s[o];e(u)}}return t},a$={};(function(t,i,n){u$(t,i,"default"),n&&u$(n,i,"default")})(a$,WZ);var c$=function(){function t(t,i,n){this._onDidChange=new a$.Emitter,this._languageId=t,this.setOptions(i),this.setModeConfiguration(n)}Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:false,configurable:true});t.prototype.setOptions=function(t){this._options=t||Object.create(null),this._onDidChange.fire(this)};t.prototype.setDiagnosticsOptions=function(t){this.setOptions(t)};t.prototype.setModeConfiguration=function(t){this._modeConfiguration=t||Object.create(null),this._onDidChange.fire(this)};return t}(),h$={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},f$={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},l$=new c$("css",h$,f$),d$=new c$("scss",h$,f$),v$=new c$("less",h$,f$);function A$(){return i.import("./p-b0f64dc9.system.js")}a$.languages.css={cssDefaults:l$,lessDefaults:v$,scssDefaults:d$},a$.languages.onLanguage("less",(function(){A$().then((function(t){return t.setupMode(v$)}))})),a$.languages.onLanguage("scss",(function(){A$().then((function(t){return t.setupMode(d$)}))})),a$.languages.onLanguage("css",(function(){A$().then((function(t){return t.setupMode(l$)}))}));var g$=Object.defineProperty,w$=Object.getOwnPropertyDescriptor,p$=Object.getOwnPropertyNames,m$=Object.prototype.hasOwnProperty,b$=function(t,i,n,r){if(i&&typeof i=="object"||typeof i=="function"){var e=function(e){m$.call(t,e)||e===n||g$(t,e,{get:function(){return i[e]},enumerable:!(r=w$(i,e))||r.enumerable})};for(var o=0,s=p$(i);o<s.length;o++){var u=s[o];e(u)}}return t},y$={};(function(t,i,n){b$(t,i,"default"),n&&b$(n,i,"default")})(y$,WZ);var k$=function(){function t(t,i,n){this._onDidChange=new y$.Emitter,this._languageId=t,this.setOptions(i),this.setModeConfiguration(n)}Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:false,configurable:true});t.prototype.setOptions=function(t){this._options=t||Object.create(null),this._onDidChange.fire(this)};t.prototype.setModeConfiguration=function(t){this._modeConfiguration=t||Object.create(null),this._onDidChange.fire(this)};return t}(),x$={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function E$(t){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:t===B$,documentFormattingEdits:t===B$,documentRangeFormattingEdits:t===B$}}var B$="html",C$="handlebars",D$="razor",M$=O$(B$,x$,E$(B$)),_$=M$.defaults,F$=O$(C$,x$,E$(C$)),S$=F$.defaults,I$=O$(D$,x$,E$(D$)),Q$=I$.defaults;function O$(t,n,r){var e=this;if(n===void 0){n=x$}if(r===void 0){r=E$(t)}var o=new k$(t,n,r);var s;var u=y$.languages.onLanguage(t,(function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,i.import("./p-15334be1.system.js")];case 1:s=t.sent().setupMode(o);return[2]}}))}))}));return{defaults:o,dispose:function(){u.dispose(),s==null||s.dispose(),s=void 0}}}y$.languages.html={htmlDefaults:_$,razorDefaults:Q$,handlebarDefaults:S$,htmlLanguageService:M$,handlebarLanguageService:F$,razorLanguageService:I$,registerHTMLLanguageService:O$};var N$=new(function(){function t(t,i,n){this._onDidChange=new IZ,this._languageId=t,this.setDiagnosticsOptions(i),this.setModeConfiguration(n)}Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:false,configurable:true});t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)};t.prototype.setModeConfiguration=function(t){this._modeConfiguration=t||Object.create(null),this._onDidChange.fire(this)};return t}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});function R$(){return i.import("./p-268196c9.system.js")}JZ.json={jsonDefaults:N$,getWorker:function(){return R$().then((function(t){return t.getWorker()}))}},JZ.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),JZ.onLanguage("json",(function(){R$().then((function(t){return t.setupMode(N$)}))}));var T$=Object.defineProperty,L$=Object.getOwnPropertyDescriptor,j$=Object.getOwnPropertyNames,z$=Object.prototype.hasOwnProperty,U$=function(t,i,n,r){if(i&&typeof i=="object"||typeof i=="function"){var e=function(e){z$.call(t,e)||e===n||T$(t,e,{get:function(){return i[e]},enumerable:!(r=L$(i,e))||r.enumerable})};for(var o=0,s=j$(i);o<s.length;o++){var u=s[o];e(u)}}return t},H$={};(function(t,i,n){U$(t,i,"default"),n&&U$(n,i,"default")})(H$,WZ);var Y$=function(t){return t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext",t}(Y$||{}),J$=function(t){return t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev",t}(J$||{}),P$=function(t){return t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t}(P$||{}),W$=function(t){return t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest",t}(W$||{}),G$=function(t){return t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t}(G$||{}),V$=function(){function t(t,i,n,r,e){this._onDidChange=new H$.Emitter,this._onDidExtraLibsChange=new H$.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(i),this.setWorkerOptions(n),this.setInlayHintsOptions(r),this.setModeConfiguration(e),this._onDidExtraLibsChangeTimeout=-1}Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:false,configurable:true});t.prototype.getExtraLibs=function(){return this._extraLibs};t.prototype.addExtraLib=function(t,i){var n=this;var r;if(r=i===void 0?"ts:extralib-".concat(Math.random().toString(36).substring(2,15)):i,this._extraLibs[r]&&this._extraLibs[r].content===t)return{dispose:function(){}};var e=1;return this._removedExtraLibs[r]&&(e=this._removedExtraLibs[r]+1),this._extraLibs[r]&&(e=this._extraLibs[r].version+1),this._extraLibs[r]={content:t,version:e},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[r];t&&t.version===e&&(delete n._extraLibs[r],n._removedExtraLibs[r]=e,n._fireOnDidExtraLibsChangeSoon())}}};t.prototype.setExtraLibs=function(t){for(var i in this._extraLibs)this._removedExtraLibs[i]=this._extraLibs[i].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var n=0,r=t;n<r.length;n++){var i=r[n];var e=i.filePath||"ts:extralib-".concat(Math.random().toString(36).substring(2,15)),o=i.content;var s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()};t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))};t.prototype.getCompilerOptions=function(){return this._compilerOptions};t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)};t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions};t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)};t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)};t.prototype.setInlayHintsOptions=function(t){this._inlayHintsOptions=t||Object.create(null),this._onDidChange.fire(void 0)};t.prototype.setMaximumWorkerIdleTime=function(t){};t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t};t.prototype.getEagerModelSync=function(){return this._eagerModelSync};t.prototype.setModeConfiguration=function(t){this._modeConfiguration=t||Object.create(null),this._onDidChange.fire(void 0)};return t}(),K$={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},X$=t("h",new V$({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},K$)),q$=new V$({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},K$);function Z$(){return i.import("./p-b9f07f65.system.js")}H$.languages.typescript={ModuleKind:Y$,JsxEmit:J$,NewLineKind:P$,ScriptTarget:W$,ModuleResolutionKind:G$,typescriptVersion:"5.0.2",typescriptDefaults:X$,javascriptDefaults:q$,getTypeScriptWorker:function(){return Z$().then((function(t){return t.getTypeScriptWorker()}))},getJavaScriptWorker:function(){return Z$().then((function(t){return t.getJavaScriptWorker()}))}},H$.languages.onLanguage("typescript",(function(){return Z$().then((function(t){return t.setupTypeScript(X$)}))})),H$.languages.onLanguage("javascript",(function(){return Z$().then((function(t){return t.setupJavaScript(q$)}))}));var $$=function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.toggleShowMovedCodeBlocks",title:Ct(0,"Toggle Show Moved Code Blocks"),precondition:Hh.has("isInDiffEditor")})||this}i.prototype.run=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=t.get(sd),e=!r.getValue("diffEditor.experimental.showMoves");r.updateValue("diffEditor.experimental.showMoves",e)};return i}(Nf);var t0=function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:Ct(0,"Toggle Use Inline View When Space Is Limited"),precondition:Hh.has("isInDiffEditor")})||this}i.prototype.run=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=t.get(sd),e=!r.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");r.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",e)};return i}(Nf);var i0=Ct(0,"Diff Editor");var n0=function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.revert",title:Ct(0,"Revert"),f1:!1,category:i0})||this}i.prototype.run=function(t,i){var n;var r=function(t,i,n){return t.get(dh).listDiffEditors().find((function(t){var r,e;var o=t.getModifiedEditor(),s=t.getOriginalEditor();return o&&((r=o.getModel())===null||r===void 0?void 0:r.uri.toString())===n.toString()&&s&&((e=s.getModel())===null||e===void 0?void 0:e.uri.toString())===i.toString()}))||null}(t,i.originalUri,i.modifiedUri);r instanceof dX&&r.revertRangeMappings((n=i.mapping.innerChanges)!==null&&n!==void 0?n:[])};return i}(Nf);var r0=Ct(0,"Accessible Diff Viewer");var e0=function(t){__extends(i,t);function i(){return t.call(this,{id:i.id,title:Ct(0,"Go to Next Difference"),category:r0,precondition:Hh.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})||this}i.prototype.run=function(t){var i=s0(t);i==null||i.accessibleDiffViewerNext()};return i}(Nf);e0.id="editor.action.accessibleDiffViewer.next";var o0=function(t){__extends(i,t);function i(){return t.call(this,{id:i.id,title:Ct(0,"Go to Previous Difference"),category:r0,precondition:Hh.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})||this}i.prototype.run=function(t){var i=s0(t);i==null||i.accessibleDiffViewerPrev()};return i}(Nf);function s0(t){var i=t.get(dh).listDiffEditors(),n=sc();if(n){for(var r=0,e=i;r<e.length;r++){var o=e[r];if(u0(o.getContainerDomNode(),n))return o}}return null}function u0(t,i){var n=i;for(;n;){if(n===t)return!0;n=n.parentElement}return!1}o0.id="editor.action.accessibleDiffViewer.prev",Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.toggleCollapseUnchangedRegions",title:Ct(0,"Toggle Collapse Unchanged Regions"),icon:re.map,toggled:Hh.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:Hh.has("isInDiffEditor"),menu:{when:Hh.has("isInDiffEditor"),id:_f.EditorTitle,order:22,group:"navigation"}})||this}i.prototype.run=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=t.get(sd),e=!r.getValue("diffEditor.hideUnchangedRegions.enabled");r.updateValue("diffEditor.hideUnchangedRegions.enabled",e)};return i}(Nf)),Rf($$),Rf(t0),If.appendMenuItem(_f.EditorTitle,{command:{id:(new t0).desc.id,title:Bt(0,"Use Inline View When Space Is Limited"),toggled:Hh.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:Hh.has("isInDiffEditor")},order:11,group:"1_diff",when:Hh.and(hB.diffEditorRenderSideBySideInlineBreakpointReached,Hh.has("isInDiffEditor"))}),If.appendMenuItem(_f.EditorTitle,{command:{id:(new $$).desc.id,title:Bt(0,"Show Moved Code Blocks"),icon:re.move,toggled:Gh.create("config.diffEditor.experimental.showMoves",!0),precondition:Hh.has("isInDiffEditor")},order:10,group:"1_diff",when:Hh.has("isInDiffEditor")}),Rf(n0);for(var a0=0,c0=[{icon:re.arrowRight,key:hB.diffEditorInlineMode.toNegated()},{icon:re.discard,key:hB.diffEditorInlineMode}];a0<c0.length;a0++){var Yt=c0[a0];If.appendMenuItem(_f.DiffEditorHunkToolbar,{command:{id:(new n0).desc.id,title:Bt(0,"Revert Block"),icon:Yt.icon},when:Hh.and(hB.diffEditorModifiedWritable,Yt.key),order:5,group:"primary"}),If.appendMenuItem(_f.DiffEditorSelectionToolbar,{command:{id:(new n0).desc.id,title:Bt(0,"Revert Selection"),icon:Yt.icon},when:Hh.and(hB.diffEditorModifiedWritable,Yt.key),order:5,group:"primary"})}Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.switchSide",title:Ct(0,"Switch Side"),icon:re.arrowSwap,precondition:Hh.has("isInDiffEditor"),f1:!0,category:i0})||this}i.prototype.runEditorCommand=function(t,i,n){var r=s0(t);if(r instanceof dX){if(n&&n.dryRun)return{destinationSelection:r.mapToOtherSide().destinationSelection};r.switchSide()}};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.exitCompareMove",title:Ct(0,"Exit Compare Move"),icon:re.close,precondition:hB.comparingMovedCode,f1:!1,category:i0,keybinding:{weight:1e4,primary:9}})||this}i.prototype.runEditorCommand=function(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var e=s0(t);e instanceof dX&&e.exitCompareMove()};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.collapseAllUnchangedRegions",title:Ct(0,"Collapse All Unchanged Regions"),icon:re.fold,precondition:Hh.has("isInDiffEditor"),f1:!0,category:i0})||this}i.prototype.runEditorCommand=function(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var e=s0(t);e instanceof dX&&e.collapseAllUnchangedRegions()};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"diffEditor.showAllUnchangedRegions",title:Ct(0,"Show All Unchanged Regions"),icon:re.unfold,precondition:Hh.has("isInDiffEditor"),f1:!0,category:i0})||this}i.prototype.runEditorCommand=function(t,i){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var e=s0(t);e instanceof dX&&e.showAllUnchangedRegions()};return i}(Xf)),If.appendMenuItem(_f.EditorTitle,{command:{id:e0.id,title:Bt(0,"Open Accessible Diff Viewer"),precondition:Hh.has("isInDiffEditor")},order:10,group:"2_diff",when:Hh.and(hB.accessibleDiffViewerVisible.negate(),Hh.has("isInDiffEditor"))}),Bh.registerCommandAlias("editor.action.diffReview.next",e0.id),Rf(e0),Bh.registerCommandAlias("editor.action.diffReview.prev",o0.id),Rf(o0);var h0,f0=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},l0=function(t,i){return function(n,r){i(n,r,t)}};var d0=new cf("selectionAnchorSet",!1);var v0=h0=function(){function t(t,i){var n=this;this.editor=t,this.selectionAnchorSetContextKey=d0.bindTo(i),this.modelChangeListener=t.onDidChangeModel((function(){return n.selectionAnchorSetContextKey.reset()}))}t.get=function(i){return i.getContribution(t.ID)};t.prototype.setSelectionAnchor=function(){var t=this;if(this.editor.hasModel()){var i=this.editor.getPosition();this.editor.changeDecorations((function(n){t.decorationId&&n.removeDecoration(t.decorationId),t.decorationId=n.addDecoration($r.fromPositions(i,i),{description:"selection-anchor",stickiness:1,hoverMessage:(new uR).appendText(Bt(0,"Selection Anchor")),className:"selection-anchor"})})),this.selectionAnchorSetContextKey.set(!!this.decorationId),Rw(Bt(0,"Anchor set at {0}:{1}",i.lineNumber,i.column))}};t.prototype.goToSelectionAnchor=function(){if(this.editor.hasModel()&&this.decorationId){var t=this.editor.getModel().getDecorationRange(this.decorationId);t&&this.editor.setPosition(t.getStartPosition())}};t.prototype.selectFromAnchorToCursor=function(){if(this.editor.hasModel()&&this.decorationId){var t=this.editor.getModel().getDecorationRange(this.decorationId);if(t){var i=this.editor.getPosition();this.editor.setSelection($r.fromPositions(t.getStartPosition(),i)),this.cancelSelectionAnchor()}}};t.prototype.cancelSelectionAnchor=function(){var t=this;if(this.decorationId){var i=this.decorationId;this.editor.changeDecorations((function(n){n.removeDecoration(i),t.decorationId=void 0})),this.selectionAnchorSetContextKey.set(!1)}};t.prototype.dispose=function(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()};return t}();v0.ID="editor.contrib.selectionAnchorController",v0=h0=f0([l0(1,hf)],v0);il(v0.ID,v0,4),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.setSelectionAnchor",label:Bt(0,"Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2080),weight:100}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){(t=v0.get(i))===null||t===void 0||t.setSelectionAnchor();return[2]}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.goToSelectionAnchor",label:Bt(0,"Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:d0})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){(t=v0.get(i))===null||t===void 0||t.goToSelectionAnchor();return[2]}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.selectFromAnchorToCursor",label:Bt(0,"Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:d0,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2089),weight:100}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){(t=v0.get(i))===null||t===void 0||t.selectFromAnchorToCursor();return[2]}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.cancelSelectionAnchor",label:Bt(0,"Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:d0,kbOpts:{kbExpr:hB.editorTextFocus,primary:9,weight:100}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){(t=v0.get(i))===null||t===void 0||t.cancelSelectionAnchor();return[2]}))}))};return i}(Vf));var A0=fp("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},Bt(0,"Overview ruler marker color for matching brackets."));var g0=function(){function t(t,i,n){this.position=t,this.brackets=i,this.options=n}return t}();var w0=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._lastBracketsData=[],n._lastVersionId=0,n._decorations=n._editor.createDecorationsCollection(),n._updateBracketsSoon=n._register(new qs((function(){return n._updateBrackets()}),50)),n._matchBrackets=n._editor.getOption(72),n._updateBracketsSoon.schedule(),n._register(i.onDidChangeCursorPosition((function(t){n._matchBrackets!=="never"&&n._updateBracketsSoon.schedule()}))),n._register(i.onDidChangeModelContent((function(t){n._updateBracketsSoon.schedule()}))),n._register(i.onDidChangeModel((function(t){n._lastBracketsData=[],n._updateBracketsSoon.schedule()}))),n._register(i.onDidChangeModelLanguageConfiguration((function(t){n._lastBracketsData=[],n._updateBracketsSoon.schedule()}))),n._register(i.onDidChangeConfiguration((function(t){t.hasChanged(72)&&(n._matchBrackets=n._editor.getOption(72),n._decorations.clear(),n._lastBracketsData=[],n._lastVersionId=0,n._updateBracketsSoon.schedule())}))),n._register(i.onDidBlurEditorWidget((function(){n._updateBracketsSoon.schedule()}))),n._register(i.onDidFocusEditorWidget((function(){n._updateBracketsSoon.schedule()})));return n}i.get=function(t){return t.getContribution(i.ID)};i.prototype.jumpToBracket=function(){if(!this._editor.hasModel())return;var t=this._editor.getModel(),i=this._editor.getSelections().map((function(i){var n=i.getStartPosition(),r=t.bracketPairs.matchBracket(n);var e=null;if(r)r[0].containsPosition(n)&&!r[1].containsPosition(n)?e=r[1].getStartPosition():r[1].containsPosition(n)&&(e=r[0].getStartPosition());else{var o=t.bracketPairs.findEnclosingBrackets(n);if(o)e=o[1].getStartPosition();else{var s=t.bracketPairs.findNextBracket(n);s&&s.range&&(e=s.range.getStartPosition())}}return e?new $r(e.lineNumber,e.column,e.lineNumber,e.column):new $r(n.lineNumber,n.column,n.lineNumber,n.column)}));this._editor.setSelections(i),this._editor.revealRange(i[0])};i.prototype.selectToBracket=function(t){if(!this._editor.hasModel())return;var i=this._editor.getModel(),n=[];this._editor.getSelections().forEach((function(r){var e=r.getStartPosition();var o=i.bracketPairs.matchBracket(e);if(!o&&(o=i.bracketPairs.findEnclosingBrackets(e),!o)){var s=i.bracketPairs.findNextBracket(e);s&&s.range&&(o=i.bracketPairs.matchBracket(s.range.getStartPosition()))}var u=null,a=null;if(o){o.sort(Zr.compareRangesUsingStarts);var s=o[0],c=o[1];if(u=t?s.getStartPosition():s.getEndPosition(),a=t?c.getEndPosition():c.getStartPosition(),c.containsPosition(e)){var h=u;u=a,a=h}}u&&a&&n.push(new $r(u.lineNumber,u.column,a.lineNumber,a.column))})),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))};i.prototype.removeBrackets=function(t){var i=this;if(!this._editor.hasModel())return;var n=this._editor.getModel();this._editor.getSelections().forEach((function(r){var e=r.getPosition();var o=n.bracketPairs.matchBracket(e);o||(o=n.bracketPairs.findEnclosingBrackets(e)),o&&(i._editor.pushUndoStop(),i._editor.executeEdits(t,[{range:o[0],text:""},{range:o[1],text:""}]),i._editor.pushUndoStop())}))};i.prototype._updateBrackets=function(){if(this._matchBrackets==="never")return;this._recomputeBrackets();var t=[];var i=0;for(var n=0,r=this._lastBracketsData;n<r.length;n++){var e=r[n];var o=e.brackets;o&&(t[i++]={range:o[0],options:e.options},t[i++]={range:o[1],options:e.options})}this._decorations.set(t)};i.prototype._recomputeBrackets=function(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);var t=this._editor.getSelections();if(t.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);var n=this._editor.getModel(),r=n.getVersionId();var e=[];this._lastVersionId===r&&(e=this._lastBracketsData);var o=[];var s=0;for(var u=0,a=t.length;u<a;u++){var c=t[u];c.isEmpty()&&(o[s++]=c.getStartPosition())}o.length>1&&o.sort(qr.compare);var h=[];var f=0,l=0;var d=e.length;for(var u=0,a=o.length;u<a;u++){var c=o[u];for(;l<d&&e[l].position.isBefore(c);)l++;if(l<d&&e[l].position.equals(c))h[f++]=e[l];else{var v=n.bracketPairs.matchBracket(c,20),A=i._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;v||this._matchBrackets!=="always"||(v=n.bracketPairs.findEnclosingBrackets(c,20),A=i._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),h[f++]=new g0(c,v,A)}}this._lastBracketsData=h,this._lastVersionId=r};return i}(Cn);w0.ID="editor.contrib.bracketMatchingController",w0._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=iS.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:ox(A0),position:_v.Center}}),w0._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=iS.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),il(w0.ID,w0,1),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.selectToBracket",label:Bt(0,"Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:Ct(0,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})||this}i.prototype.run=function(t,i,n){var r;var e=!0;n&&n.selectBrackets===!1&&(e=!1),(r=w0.get(i))===null||r===void 0||r.selectToBracket(e)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.jumpToBracket",label:Bt(0,"Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:3165,weight:100}})||this}i.prototype.run=function(t,i){var n;(n=w0.get(i))===null||n===void 0||n.jumpToBracket()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.removeBrackets",label:Bt(0,"Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:2561,weight:100}})||this}i.prototype.run=function(t,i){var n;(n=w0.get(i))===null||n===void 0||n.removeBrackets(this.id)};return i}(Vf)),If.appendMenuItem(_f.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Bt(0,"Go to &&Bracket")},order:2});var p0=function(){function t(t,i){this._selection=t,this._isMovingLeft=i}t.prototype.getEditOperations=function(t,i){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;var n=this._selection.startLineNumber,r=this._selection.startColumn,e=this._selection.endColumn;if((!this._isMovingLeft||r!==1)&&(this._isMovingLeft||e!==t.getLineMaxColumn(n)))if(this._isMovingLeft){var o=new Zr(n,r-1,n,r),s=t.getValueInRange(o);i.addEditOperation(o,null),i.addEditOperation(new Zr(n,e,n,e),s)}else{var o=new Zr(n,e,n,e+1),s=t.getValueInRange(o);i.addEditOperation(o,null),i.addEditOperation(new Zr(n,r,n,r),s)}};t.prototype.computeCursorState=function(t,i){return this._isMovingLeft?new $r(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new $r(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)};return t}();var m0=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.left=i;return r}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=[],r=i.getSelections();for(var e=0,o=r;e<o.length;e++){var s=o[e];n.push(new p0(s,this.left))}i.pushUndoStop(),i.executeCommands(this.id,n),i.pushUndoStop()};return i}(Vf);$f(function(t){__extends(i,t);function i(){return t.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:Bt(0,"Move Selected Text Left"),alias:"Move Selected Text Left",precondition:hB.writable})||this}return i}(m0)),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,{id:"editor.action.moveCarretRightAction",label:Bt(0,"Move Selected Text Right"),alias:"Move Selected Text Right",precondition:hB.writable})||this}return i}(m0));$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transposeLetters",label:Bt(0,"Transpose Letters"),alias:"Transpose Letters",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getModel(),r=[],e=i.getSelections();for(var o=0,s=e;o<s.length;o++){var u=s[o];if(!u.isEmpty())continue;var a=u.startLineNumber,c=u.startColumn,h=n.getLineMaxColumn(a);if(a===1&&(c===1||c===2&&h===2))continue;var f=c===h?u.getPosition():LE.rightPosition(n,u.getPosition().lineNumber,u.getPosition().column),l=LE.leftPosition(n,f),d=LE.leftPosition(n,l),v=n.getValueInRange(Zr.fromPositions(d,l)),A=n.getValueInRange(Zr.fromPositions(l,f)),g=Zr.fromPositions(d,f);r.push(new IE(g,A+v))}r.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,r),i.pushUndoStop())};return i}(Vf));var b0=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);var t;t=typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?crypto.getRandomValues.bind(crypto):function(t){for(var i=0;i<t.length;i++)t[i]=Math.floor(256*Math.random());return t};var i=new Uint8Array(16),n=[];for(var r=0;r<256;r++)n.push(r.toString(16).padStart(2,"0"));return function(){t(i),i[6]=15&i[6]|64,i[8]=63&i[8]|128;var r=0,e="";return e+=n[i[r++]],e+=n[i[r++]],e+=n[i[r++]],e+=n[i[r++]],e+="-",e+=n[i[r++]],e+=n[i[r++]],e+="-",e+=n[i[r++]],e+=n[i[r++]],e+="-",e+=n[i[r++]],e+=n[i[r++]],e+="-",e+=n[i[r++]],e+=n[i[r++]],e+=n[i[r++]],e+=n[i[r++]],e+=n[i[r++]],e+=n[i[r++]],e}}();function y0(t){var i=this;return{asString:function(){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(i){return[2,t]}))}))},asFile:function(){},value:typeof t=="string"?t:void 0}}var k0=function(){function t(){this._entries=new Map}Object.defineProperty(t.prototype,"size",{get:function(){var t=0;for(var i=0,n=this._entries;i<n.length;i++){var r=n[i];t++}return t},enumerable:false,configurable:true});t.prototype.has=function(t){return this._entries.has(this.toKey(t))};t.prototype.matches=function(t){var i=__spreadArray([],this._entries.keys(),true);return vi.some(this,(function(t){var i=t[0],n=t[1];return n.asFile()}))&&i.push("files"),B0(x0(t),i)};t.prototype.get=function(t){var i;return(i=this._entries.get(this.toKey(t)))===null||i===void 0?void 0:i[0]};t.prototype.append=function(t,i){var n=this._entries.get(t);n?n.push(i):this._entries.set(this.toKey(t),[i])};t.prototype.replace=function(t,i){this._entries.set(this.toKey(t),[i])};t.prototype.delete=function(t){this._entries.delete(this.toKey(t))};t.prototype[Symbol.iterator]=function(){var t,i,n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:t=0,i=this._entries;a.label=1;case 1:if(!(t<i.length))return[3,6];n=i[t],r=n[0],e=n[1];o=0,s=e;a.label=2;case 2:if(!(o<s.length))return[3,5];u=s[o];return[4,[r,u]];case 3:a.sent();a.label=4;case 4:o++;return[3,2];case 5:t++;return[3,1];case 6:return[2]}}))};t.prototype.toKey=function(t){return x0(t)};return t}();function x0(t){return t.toLowerCase()}function E0(t,i){return B0(x0(t),i.map(x0))}function B0(t,i){if(t==="*/*")return i.length>0;if(i.includes(t))return!0;var n=t.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!n)return!1;var r=n[0],e=n[1],o=n[2];return o==="*"&&i.some((function(t){return t.startsWith(e+"/")}))}var C0=Object.freeze({create:function(t){return j(t.map((function(t){return t.toString()}))).join("\r\n")},split:function(t){return t.split("\r\n")},parse:function(t){return C0.split(t).filter((function(t){return!t.startsWith("#")}))}});var D0=function(){function t(t){this.value=t}t.prototype.equals=function(t){return this.value===t.value};t.prototype.contains=function(i){return this.equals(i)||this.value===""||i.value.startsWith(this.value+t.sep)};t.prototype.intersects=function(t){return this.contains(t)||t.contains(this)};t.prototype.append=function(){var i=[];for(var n=0;n<arguments.length;n++){i[n]=arguments[n]}return new t((this.value?__spreadArray([this.value],i,true):i).join(t.sep))};return t}();D0.sep=".",D0.None=new D0("@@none@@"),D0.Empty=new D0("");var M0="CodeEditors",_0="CodeFiles";yf.add("workbench.contributions.dragAndDrop",new(function(){function t(){}return t}()));var F0=function(){function t(){}t.getInstance=function(){return t.INSTANCE};t.prototype.hasData=function(t){return t&&t===this.proto};t.prototype.getData=function(t){if(this.hasData(t))return this.data};return t}();function S0(t){var i=new k0;var n=function(t){var n=t.type;if(t.kind==="string"){var r=new Promise((function(i){return t.getAsString(i)}));i.append(n,y0(r))}else if(t.kind==="file"){var r=t.getAsFile();r&&i.append(n,I0(r))}};for(var r=0,e=t.items;r<e.length;r++){var o=e[r];n(o)}return i}function I0(t){var i=this;var n=t.path?zr.parse(t.path):void 0;return function(t,i,n){var r=this;var e={id:b0(),name:t,uri:i,data:n};return{asString:function(){return __awaiter(r,void 0,void 0,(function(){return __generator(this,(function(t){return[2,""]}))}))},asFile:function(){return e},value:void 0}}(t.name,n,(function(){return __awaiter(i,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:i=Uint8Array.bind;return[4,t.arrayBuffer()];case 1:return[2,new(i.apply(Uint8Array,[void 0,n.sent()]))]}}))}))}))}F0.INSTANCE=new F0;var Q0=Object.freeze([M0,_0,NL.RESOURCES,NL.INTERNAL_URI_LIST]);function O0(t,i){if(i===void 0){i=!1}var n=S0(t),r=n.get(NL.INTERNAL_URI_LIST);if(r)n.replace(wd.uriList,r);else if(i||!n.has(wd.uriList)){var e=[];for(var o=0,s=t.items;o<s.length;o++){var u=s[o];var a=u.getAsFile();if(a){var c=a.path;try{c?e.push(zr.file(c).toString()):e.push(zr.parse(a.name,!0).toString())}catch(t){}}}e.length&&n.replace(wd.uriList,y0(C0.create(e)))}for(var h=0,f=Q0;h<f.length;h++){var e=f[h];n.delete(e)}return n}var N0=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},R0=function(t,i){return function(n,r){i(n,r,t)}};var T0=function(){function t(){}t.prototype.provideDocumentPasteEdits=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.getEdit(n,e)];case 1:t=i.sent();if(t)return[2,{dispose:function(){},edits:[{insertText:t.insertText,title:t.title,kind:t.kind,handledMimeType:t.handledMimeType,yieldTo:t.yieldTo}]}];return[2]}}))}))};t.prototype.provideDocumentOnDropEdits=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.getEdit(n,r)];case 1:t=i.sent();return[2,t?[{insertText:t.insertText,title:t.title,kind:t.kind,handledMimeType:t.handledMimeType,yieldTo:t.yieldTo}]:void 0]}}))}))};return t}();var L0=function(t){__extends(i,t);function i(){var n=this;n=t.apply(this,arguments)||this,n.kind=i.kind,n.dropMimeTypes=[wd.text],n.pasteMimeTypes=[wd.text];return n}i.prototype.getEdit=function(t,i){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){switch(r.label){case 0:i=t.get(wd.text);if(!i||t.has(wd.uriList))return[2];return[4,i.asString()];case 1:n=r.sent();return[2,{handledMimeType:wd.text,title:Bt(0,"Insert Plain Text"),insertText:n,kind:this.kind}]}}))}))};return i}(T0);L0.id="text",L0.kind=new D0("text.plain");var j0=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i.kind=new D0("uri.absolute"),i.dropMimeTypes=[wd.uriList],i.pasteMimeTypes=[wd.uriList];return i}i.prototype.getEdit=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:return[4,H0(t)];case 1:n=s.sent();if(!n.length||i.isCancellationRequested)return[2];r=0;e=n.map((function(t){var i=t.uri,n=t.originalText;return i.scheme===oa.file?i.fsPath:(r++,n)})).join(" ");return[2,(o=r>0?n.length>1?Bt(0,"Insert Uris"):Bt(0,"Insert Uri"):n.length>1?Bt(0,"Insert Paths"):Bt(0,"Insert Path"),{handledMimeType:wd.uriList,insertText:e,title:o,kind:this.kind})]}}))}))};return i}(T0);var z0=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._workspaceContextService=i,n.kind=new D0("uri.relative"),n.dropMimeTypes=[wd.uriList],n.pasteMimeTypes=[wd.uriList];return n}i.prototype.getEdit=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r;var e=this;return __generator(this,(function(o){switch(o.label){case 0:return[4,H0(t)];case 1:n=o.sent();if(!n.length||i.isCancellationRequested)return[2];r=N(n.map((function(t){var i=t.uri;var n=e._workspaceContextService.getWorkspaceFolder(i);return n?o_(n.uri,i):void 0})));return[2,r.length?{handledMimeType:wd.uriList,insertText:r.join(" "),title:n.length>1?Bt(0,"Insert Relative Paths"):Bt(0,"Insert Relative Path"),kind:this.kind}:void 0]}}))}))};return i}(T0);z0=N0([R0(0,sL)],z0);var U0=function(){function t(){this.kind=new D0("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:wd.text}]}t.prototype.provideDocumentPasteEdits=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var t,i,o;return __generator(this,(function(s){switch(s.label){case 0:if(r.triggerKind!==he.PasteAs&&!(!((t=r.only)===null||t===void 0)&&t.contains(this.kind)))return[2];i=n.get("text/html");return[4,i==null?void 0:i.asString()];case 1:o=s.sent();return[2,o&&!e.isCancellationRequested?{dispose:function(){},edits:[{insertText:o,yieldTo:this._yieldTo,title:Bt(0,"Insert HTML"),kind:this.kind}]}:void 0]}}))}))};return t}();function H0(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:i=t.get(wd.uriList);if(!i)return[2,[]];return[4,i.asString()];case 1:n=u.sent(),r=[];for(e=0,o=C0.parse(n);e<o.length;e++){s=o[e];try{r.push({uri:zr.parse(s),originalText:s})}catch(t){}}return[2,r]}}))}))}var Y0=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._register(i.documentOnDropEditProvider.register("*",new L0)),r._register(i.documentOnDropEditProvider.register("*",new j0)),r._register(i.documentOnDropEditProvider.register("*",new z0(n)));return r}return i}(Cn);Y0=N0([R0(0,gg),R0(1,sL)],Y0);var J0=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._register(i.documentPasteEditProvider.register("*",new L0)),r._register(i.documentPasteEditProvider.register("*",new j0)),r._register(i.documentPasteEditProvider.register("*",new z0(n))),r._register(i.documentPasteEditProvider.register("*",new U0));return r}return i}(Cn);J0=N0([R0(0,gg),R0(1,sL)],J0);var P0=function(){function t(){this.value="",this.pos=0}t.isDigitCharacter=function(t){return t>=48&&t<=57};t.isVariableCharacter=function(t){return t===95||t>=97&&t<=122||t>=65&&t<=90};t.prototype.text=function(t){this.value=t,this.pos=0};t.prototype.tokenText=function(t){return this.value.substr(t.pos,t.len)};t.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var i=this.pos;var n,r=0,e=this.value.charCodeAt(i);if(n=t._table[e],typeof n=="number")return this.pos+=1,{type:n,pos:i,len:1};if(t.isDigitCharacter(e)){n=8;do{r+=1,e=this.value.charCodeAt(i+r)}while(t.isDigitCharacter(e));return this.pos+=r,{type:n,pos:i,len:r}}if(t.isVariableCharacter(e)){n=9;do{e=this.value.charCodeAt(i+ ++r)}while(t.isVariableCharacter(e)||t.isDigitCharacter(e));return this.pos+=r,{type:n,pos:i,len:r}}n=10;do{r+=1,e=this.value.charCodeAt(i+r)}while(!isNaN(e)&&t._table[e]===void 0&&!t.isDigitCharacter(e)&&!t.isVariableCharacter(e));return this.pos+=r,{type:n,pos:i,len:r}};return t}();P0._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};var W0=function(){function t(){this._children=[]}t.prototype.appendChild=function(t){return t instanceof G0&&this._children[this._children.length-1]instanceof G0?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this};t.prototype.replace=function(t,i){var n=t.parent,r=n.children.indexOf(t),e=n.children.slice(0);e.splice.apply(e,__spreadArray([r,1],i,false)),n._children=e,function t(i,n){for(var r=0,e=i;r<e.length;r++){var o=e[r];o.parent=n,t(o.children,o)}}(i,n)};Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"rightMostDescendant",{get:function(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"snippet",{get:function(){var t=this;for(;;){if(!t)return;if(t instanceof i1)return t;t=t.parent}},enumerable:false,configurable:true});t.prototype.toString=function(){return this.children.reduce((function(t,i){return t+i.toString()}),"")};t.prototype.len=function(){return 0};return t}();var G0=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.value=i;return n}i.prototype.toString=function(){return this.value};i.prototype.len=function(){return this.value.length};i.prototype.clone=function(){return new i(this.value)};return i}(W0);var V0=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i}(W0);var K0=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.index=i;return n}i.compareByIndex=function(t,i){return t.index===i.index?0:t.isFinalTabstop?1:i.isFinalTabstop||t.index<i.index?-1:t.index>i.index?1:0};Object.defineProperty(i.prototype,"isFinalTabstop",{get:function(){return this.index===0},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"choice",{get:function(){return this._children.length===1&&this._children[0]instanceof X0?this._children[0]:void 0},enumerable:false,configurable:true});i.prototype.clone=function(){var t=new i(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map((function(t){return t.clone()})),t};return i}(V0);var X0=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i.options=[];return i}i.prototype.appendChild=function(t){return t instanceof G0&&(t.parent=this,this.options.push(t)),this};i.prototype.toString=function(){return this.options[0].value};i.prototype.len=function(){return this.options[0].len()};i.prototype.clone=function(){var t=new i;return this.options.forEach(t.appendChild,t),t};return i}(W0);var q0=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i.regexp=new RegExp("");return i}i.prototype.resolve=function(t){var i=this;var n=!1,r=t.replace(this.regexp,(function(){return n=!0,i._replace(Array.prototype.slice.call(arguments,0,-2))}));return!n&&this._children.some((function(t){return t instanceof Z0&&!!t.elseValue}))&&(r=this._replace([])),r};i.prototype._replace=function(t){var i="";for(var n=0,r=this._children;n<r.length;n++){var e=r[n];if(e instanceof Z0){var o=t[e.index]||"";o=e.resolve(o),i+=o}else i+=e.toString()}return i};i.prototype.toString=function(){return""};i.prototype.clone=function(){var t=new i;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map((function(t){return t.clone()})),t};return i}(W0);var Z0=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o.index=i,o.shorthandName=n,o.ifValue=r,o.elseValue=e;return o}i.prototype.resolve=function(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":t&&typeof this.ifValue=="string"?this.ifValue:t||typeof this.elseValue!="string"?t||"":this.elseValue};i.prototype._toPascalCase=function(t){var i=t.match(/[a-z0-9]+/gi);return i?i.map((function(t){return t.charAt(0).toUpperCase()+t.substr(1)})).join(""):t};i.prototype._toCamelCase=function(t){var i=t.match(/[a-z0-9]+/gi);return i?i.map((function(t,i){return i===0?t.charAt(0).toLowerCase()+t.substr(1):t.charAt(0).toUpperCase()+t.substr(1)})).join(""):t};i.prototype.clone=function(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)};return i}(W0);var $0=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.name=i;return n}i.prototype.resolve=function(t){var i=t.resolve(this);return this.transform&&(i=this.transform.resolve(i||"")),i!==void 0&&(this._children=[new G0(i)],!0)};i.prototype.clone=function(){var t=new i(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map((function(t){return t.clone()})),t};return i}(V0);function t1(t,i){var n=__spreadArray([],t,true);for(;n.length>0;){var r=n.shift();if(!i(r))break;n.unshift.apply(n,r.children)}}var i1=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}Object.defineProperty(i.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var t=[];var i;this.walk((function(n){return n instanceof K0&&(t.push(n),i=!i||i.index<n.index?n:i),!0})),this._placeholders={all:t,last:i}}return this._placeholders},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"placeholders",{get:function(){var t=this.placeholderInfo.all;return t},enumerable:false,configurable:true});i.prototype.offset=function(t){var i=0,n=!1;return this.walk((function(r){return r===t?(n=!0,!1):(i+=r.len(),!0)})),n?i:-1};i.prototype.fullLen=function(t){var i=0;return t1([t],(function(t){return i+=t.len(),!0})),i};i.prototype.enclosingPlaceholders=function(t){var i=[];var n=t.parent;for(;n;)n instanceof K0&&i.push(n),n=n.parent;return i};i.prototype.resolveVariables=function(t){var i=this;return this.walk((function(n){return n instanceof $0&&n.resolve(t)&&(i._placeholders=void 0),!0})),this};i.prototype.appendChild=function(i){return this._placeholders=void 0,t.prototype.appendChild.call(this,i)};i.prototype.replace=function(i,n){return this._placeholders=void 0,t.prototype.replace.call(this,i,n)};i.prototype.clone=function(){var t=new i;return this._children=this.children.map((function(t){return t.clone()})),t};i.prototype.walk=function(t){t1(this.children,t)};return i}(W0);var n1=function(){function t(){this._scanner=new P0,this._token={type:14,pos:0,len:0}}t.escape=function(t){return t.replace(/\$|}|\\/g,"\\$&")};t.guessNeedsClipboard=function(t){return/\${?CLIPBOARD/.test(t)};t.prototype.parse=function(t,i,n){var r=new i1;return this.parseFragment(t,r),this.ensureFinalTabstop(r,n!=null&&n,i!=null&&i),r};t.prototype.parseFragment=function(t,i){var n=i.children.length;for(this._scanner.text(t),this._token=this._scanner.next();this._parse(i););var r=new Map,e=[];i.walk((function(t){return t instanceof K0&&(t.isFinalTabstop?r.set(0,void 0):!r.has(t.index)&&t.children.length>0?r.set(t.index,t.children):e.push(t)),!0}));var o=function(t,n){var e=r.get(t.index);if(!e)return;var s=new K0(t.index);s.transform=t.transform;for(var u=0,a=e;u<a.length;u++){var c=a[u];var h=c.clone();s.appendChild(h),h instanceof K0&&r.has(h.index)&&!n.has(h.index)&&(n.add(h.index),o(h,n),n.delete(h.index))}i.replace(t,[s])},s=new Set;for(var u=0,a=e;u<a.length;u++){var c=a[u];o(c,s)}return i.children.slice(n)};t.prototype.ensureFinalTabstop=function(t,i,n){(i||n&&t.placeholders.length>0)&&(t.placeholders.find((function(t){return t.index===0}))||t.appendChild(new K0(0)))};t.prototype._accept=function(t,i){if(t===void 0||this._token.type===t){var n=!i||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1};t.prototype._backTo=function(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1};t.prototype._until=function(t){var i=this._token;for(;this._token.type!==t;){if(this._token.type===14)return!1;if(this._token.type===5){var n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}var r=this._scanner.value.substring(i.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),r};t.prototype._parse=function(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)};t.prototype._parseEscaped=function(t){var i;return!!(i=this._accept(5,!0))&&(i=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||i,t.appendChild(new G0(i)),!0)};t.prototype._parseTabstopOrVariableName=function(t){var i;var n=this._token;return this._accept(0)&&(i=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(i)?new K0(Number(i)):new $0(i)),!0):this._backTo(n)};t.prototype._parseComplexPlaceholder=function(t){var i;var n=this._token;if(!(this._accept(0)&&this._accept(3)&&(i=this._accept(8,!0))))return this._backTo(n);var r=new K0(Number(i));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(r),!0;if(!this._parse(r))return t.appendChild(new G0("${"+i+":")),r.children.forEach(t.appendChild,t),!0}else{if(!(r.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(r)?(t.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(t.appendChild(r),!0):this._backTo(n);{var e=new X0;for(;;){if(this._parseChoiceElement(e)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(e),this._accept(4)))return t.appendChild(r),!0}return this._backTo(n),!1}}}};t.prototype._parseChoiceElement=function(t){var i=this._token,n=[];for(;this._token.type!==2&&this._token.type!==7;){var r=void 0;if(r=(r=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:this._accept(void 0,!0),!r)return this._backTo(i),!1;n.push(r)}return n.length===0?(this._backTo(i),!1):(t.appendChild(new G0(n.join(""))),!0)};t.prototype._parseComplexVariable=function(t){var i;var n=this._token;if(!(this._accept(0)&&this._accept(3)&&(i=this._accept(9,!0))))return this._backTo(n);var r=new $0(i);if(!this._accept(1))return this._accept(6)?this._parseTransform(r)?(t.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(t.appendChild(r),!0):this._backTo(n);for(;;){if(this._accept(4))return t.appendChild(r),!0;if(!this._parse(r))return t.appendChild(new G0("${"+i+":")),r.children.forEach(t.appendChild,t),!0}};t.prototype._parseTransform=function(t){var i=new q0;var n="",r="";for(;!this._accept(6);){var e=void 0;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,n+=e;else{if(this._token.type===14)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){var e=void 0;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,i.appendChild(new G0(e));else if(!this._parseFormatString(i)&&!this._parseAnything(i))return!1}for(;!this._accept(4);){if(this._token.type===14)return!1;r+=this._accept(void 0,!0)}try{i.regexp=new RegExp(n,r)}catch(t){return!1}return t.transform=i,!0};t.prototype._parseFormatString=function(t){var i=this._token;if(!this._accept(0))return!1;var n=!1;this._accept(3)&&(n=!0);var r=this._accept(8,!0);if(!r)return this._backTo(i),!1;if(!n)return t.appendChild(new Z0(Number(r))),!0;if(this._accept(4))return t.appendChild(new Z0(Number(r))),!0;if(!this._accept(1))return this._backTo(i),!1;if(this._accept(6)){var e=this._accept(9,!0);return e&&this._accept(4)?(t.appendChild(new Z0(Number(r),e)),!0):(this._backTo(i),!1)}if(this._accept(11)){var e=this._until(4);if(e)return t.appendChild(new Z0(Number(r),void 0,e,void 0)),!0}else if(this._accept(12)){var e=this._until(4);if(e)return t.appendChild(new Z0(Number(r),void 0,void 0,e)),!0}else if(this._accept(13)){var e=this._until(1);if(e){var o=this._until(4);if(o)return t.appendChild(new Z0(Number(r),void 0,e,o)),!0}}else{var e=this._until(4);if(e)return t.appendChild(new Z0(Number(r),void 0,void 0,e)),!0}return this._backTo(i),!1};t.prototype._parseAnything=function(t){return this._token.type!==14&&(t.appendChild(new G0(this._scanner.tokenText(this._token))),this._accept(void 0),!0)};return t}();function r1(t,i,n){var r,e,o,s;return(typeof n.insertText=="string"?n.insertText==="":n.insertText.snippet==="")?{edits:(e=(r=n.additionalEdit)===null||r===void 0?void 0:r.edits)!==null&&e!==void 0?e:[]}:{edits:__spreadArray(__spreadArray([],i.map((function(i){return new AT(t,{range:i,text:typeof n.insertText=="string"?n1.escape(n.insertText)+"$0":n.insertText.snippet,insertAsSnippet:!0})})),true),(s=(o=n.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&s!==void 0?s:[],true)}}function e1(t){var i;function n(t,i){return"mimeType"in t?t.mimeType===i.handledMimeType:!!i.kind&&t.kind.contains(i.kind)}var r=new Map;for(var e=0,o=t;e<o.length;e++){var s=o[e];for(var u=0,a=(i=s.yieldTo)!==null&&i!==void 0?i:[];u<a.length;u++){var c=a[u];for(var h=0,f=t;h<f.length;h++){var l=f[h];if(l!==s&&n(c,l)){var d=r.get(s);d||(d=[],r.set(s,d)),d.push(l)}}}}if(!r.size)return Array.from(t);var v=new Set,A=[];return function t(i){if(!i.length)return[];var n=i[0];if(A.includes(n))return console.warn("Yield to cycle detected",n),i;if(v.has(n))return t(i.slice(1));var e=[];var o=r.get(n);return o&&(A.push(n),e=t(o),A.pop()),v.add(n),__spreadArray(__spreadArray(__spreadArray([],e,true),[n],false),t(i.slice(1)),true)}(Array.from(t))}var o1=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},s1=function(t,i){return function(n,r){i(n,r,t)}};var u1=iS.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:" ",inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});var a1=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.typeId=i,s.editor=n,s.range=r,s.delegate=o,s.allowEditorOverflow=!1,s.suppressMouseDown=!0,s.create(e),s.editor.addContentWidget(s),s.editor.layoutContentWidget(s);return s}i.prototype.create=function(t){var i;var n=this;this.domNode=Nc(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=t;var r=Nc("span.icon");this.domNode.append(r),(i=r.classList).add.apply(i,__spreadArray(__spreadArray([],xh.asClassNameArray(re.loading),false),["codicon-modifier-spin"],false));var e=function(){var t=n.editor.getOption(67);n.domNode.style.height="".concat(t,"px"),n.domNode.style.width="".concat(Math.ceil(.8*t),"px")};e(),this._register(this.editor.onDidChangeConfiguration((function(t){(t.hasChanged(52)||t.hasChanged(67))&&e()}))),this._register(Oa(this.domNode,Ec.CLICK,(function(t){n.delegate.cancel()})))};i.prototype.getId=function(){return i.baseId+"."+this.typeId};i.prototype.getDomNode=function(){return this.domNode};i.prototype.getPosition=function(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.editor.removeContentWidget(this)};return i}(Cn);a1.baseId="editor.widget.inlineProgressWidget";var c1=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.id=i,e._editor=n,e._instantiationService=r,e._showDelay=500,e._showPromise=e._register(new Dn),e._currentWidget=new Dn,e._operationIdPool=0,e._currentDecorations=n.createDecorationsCollection();return e}i.prototype.showWhile=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r;var e=this;return __generator(this,(function(o){switch(o.label){case 0:r=this._operationIdPool++;this._currentOperation=r,this.clear(),this._showPromise.value=Gs((function(){var r=Zr.fromPositions(t);e._currentDecorations.set([{range:r,options:u1}]).length>0&&(e._currentWidget.value=e._instantiationService.createInstance(a1,e.id,e._editor,r,i,n))}),this._showDelay);o.label=1;case 1:o.trys.push([1,,3,4]);return[4,n];case 2:return[2,o.sent()];case 3:this._currentOperation===r&&(this.clear(),this._currentOperation=void 0);return[7];case 4:return[2]}}))}))};i.prototype.clear=function(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()};return i}(Cn);c1=o1([s1(2,fh)],c1);var h1,f1=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},l1=function(t,i){return function(n,r){i(n,r,t)}};var d1=h1=function(){function t(i,n,r){this._openerService=r,this._messageWidget=new Dn,this._messageListeners=new Bn,this._mouseOverMessage=!1,this._editor=i,this._visible=t.MESSAGE_VISIBLE.bindTo(n)}t.get=function(i){return i.getContribution(t.ID)};t.prototype.dispose=function(){var t;(t=this._message)===null||t===void 0||t.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()};t.prototype.showMessage=function(t,i){var n=this;var r;Rw(cR(t)?t.value:t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=cR(t)?bR(t,{actionHandler:{callback:function(i){n.closeMessage(),PR(n._openerService,i,cR(t)?t.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new v1(this._editor,i,typeof t=="string"?t:this._message.element),this._messageListeners.add(Qn.debounce(this._editor.onDidBlurEditorText,(function(t,i){return i}),0)((function(){n._mouseOverMessage||n._messageWidget.value&&ic(sc(),n._messageWidget.value.getDomNode())||n.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((function(){return n.closeMessage()}))),this._messageListeners.add(this._editor.onDidDispose((function(){return n.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeModel((function(){return n.closeMessage()}))),this._messageListeners.add(Oa(this._messageWidget.value.getDomNode(),Ec.MOUSE_ENTER,(function(){return n._mouseOverMessage=!0}),!0)),this._messageListeners.add(Oa(this._messageWidget.value.getDomNode(),Ec.MOUSE_LEAVE,(function(){return n._mouseOverMessage=!1}),!0)),this._messageListeners.add(this._editor.onMouseMove((function(t){t.target.position&&(r?r.containsPosition(t.target.position)||n.closeMessage():r=new Zr(i.lineNumber-3,1,t.target.position.lineNumber+3,1))})))};t.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(v1.fadeOut(this._messageWidget.value))};return t}();d1.ID="editor.contrib.messageController",d1.MESSAGE_VISIBLE=new cf("messageVisible",!1,Bt(0,"Whether the editor is currently showing an inline message")),d1=h1=f1([l1(1,hf),l1(2,HO)],d1);Zf(new(Gf.bindToContribution(d1.get))({id:"leaveEditorMessage",precondition:d1.MESSAGE_VISIBLE,handler:function(t){return t.closeMessage()},kbOpts:{weight:130,primary:9}}));var v1=function(){function t(t,i,n){var r=i.lineNumber,e=i.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(r,r,0),this._position={lineNumber:r,column:e},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";var o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);var s=document.createElement("div");typeof n=="string"?(s.classList.add("message"),s.textContent=n):(n.classList.add("message"),s.appendChild(n)),this._domNode.appendChild(s);var u=document.createElement("div");u.classList.add("anchor","below"),this._domNode.appendChild(u),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}t.fadeOut=function(t){var i=function(){t.dispose(),clearTimeout(n),t.getDomNode().removeEventListener("animationend",i)},n=setTimeout(i,110);return t.getDomNode().addEventListener("animationend",i),t.getDomNode().classList.add("fadeOut"),{dispose:i}};t.prototype.dispose=function(){this._editor.removeContentWidget(this)};t.prototype.getId=function(){return"messageoverlay"};t.prototype.getDomNode=function(){return this._domNode};t.prototype.getPosition=function(){return{position:this._position,preference:[1,2],positionAffinity:1}};t.prototype.afterRender=function(t){this._domNode.classList.toggle("below",t===2)};return t}();il(d1.ID,d1,4);var A1,g1=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},w1=function(t,i){return function(n,r){i(n,r,t)}};var p1=A1=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h){var f=this;f=t.call(this)||this,f.typeId=i,f.editor=n,f.showCommand=e,f.range=o,f.edits=s,f.onSelectNewEdit=u,f._contextMenuService=a,f._keybindingService=h,f.allowEditorOverflow=!0,f.suppressMouseDown=!0,f.create(),f.visibleContext=r.bindTo(c),f.visibleContext.set(!0),f._register(En((function(){return f.visibleContext.reset()}))),f.editor.addContentWidget(f),f.editor.layoutContentWidget(f),f._register(En((function(){return f.editor.removeContentWidget(f)}))),f._register(f.editor.onDidChangeCursorPosition((function(t){o.containsPosition(t.position)||f.dispose()}))),f._register(Qn.runAndSubscribe(h.onDidUpdateKeybindings,(function(){f._updateButtonTitle()})));return f}i.prototype._updateButtonTitle=function(){var t;var i=(t=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||t===void 0?void 0:t.getLabel();this.button.element.title=this.showCommand.label+(i?" (".concat(i,")"):"")};i.prototype.create=function(){var t=this;this.domNode=Nc(".post-edit-widget"),this.button=this._register(new YP(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(Oa(this.domNode,Ec.CLICK,(function(){return t.showSelector()})))};i.prototype.getId=function(){return i.baseId+"."+this.typeId};i.prototype.getDomNode=function(){return this.domNode};i.prototype.getPosition=function(){return{position:this.range.getEndPosition(),preference:[2]}};i.prototype.showSelector=function(){var t=this;this._contextMenuService.showContextMenu({getAnchor:function(){var i=Ka(t.button.element);return{x:i.left+i.width,y:i.top+i.height}},getActions:function(){return t.edits.allEdits.map((function(i,n){return yh({id:"",label:i.title,checked:n===t.edits.activeEditIndex,run:function(){if(n!==t.edits.activeEditIndex)return t.onSelectNewEdit(n)}})}))}})};return i}(Cn);p1.baseId="editor.widget.postEditWidget",p1=A1=g1([w1(7,TO),w1(8,hf),w1(9,vE)],p1);var m1=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._id=i,u._editor=n,u._visibleContext=r,u._showCommand=e,u._instantiationService=o,u._bulkEditService=s,u._currentWidget=u._register(new Dn),u._register(Qn.any(n.onDidChangeModel,n.onDidChangeModelContent)((function(){return u.clear()})));return u}i.prototype.applyEditAndShowIfNeeded=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c,h,f,l;var d=this;return __generator(this,(function(v){switch(v.label){case 0:o=this._editor.getModel();if(!o||!t.length)return[2];s=i.allEdits.at(i.activeEditIndex);if(!s)return[2];return[4,r(s,e)];case 1:u=v.sent(),a=r1(o.uri,t,u),c=t[0],h=o.deltaDecorations([],[{range:c,options:{description:"paste-line-suffix",stickiness:0}}]);v.label=2;case 2:v.trys.push([2,,4,5]);return[4,this._bulkEditService.apply(a,{editor:this._editor,token:e})];case 3:f=v.sent(),l=o.getDecorationRange(h[0]);return[3,5];case 4:o.deltaDecorations(h,[]);return[7];case 5:n&&f.isApplied&&i.allEdits.length>1&&this.show(l!==null&&l!==void 0?l:c,i,(function(o){return __awaiter(d,void 0,void 0,(function(){var s,u;return __generator(this,(function(a){switch(a.label){case 0:s=this._editor.getModel();u=s;if(!u)return[3,2];return[4,s.undo()];case 1:u=(a.sent(),this.applyEditAndShowIfNeeded(t,{activeEditIndex:o,allEdits:i.allEdits},n,r,e));a.label=2;case 2:u;return[2]}}))}))}));return[2]}}))}))};i.prototype.show=function(t,i,n){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(p1,this._id,this._editor,this._visibleContext,this._showCommand,t,i,n))};i.prototype.clear=function(){this._currentWidget.clear()};i.prototype.tryShowSelector=function(){var t;(t=this._currentWidget.value)===null||t===void 0||t.showSelector()};return i}(Cn);m1=g1([w1(4,fh),w1(5,dT)],m1);var b1,y1=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},k1=function(t,i){return function(n,r){i(n,r,t)}};var x1="editor.changePasteType",E1=new cf("pasteWidgetVisible",!1,Bt(0,"Whether the paste widget is showing")),B1="application/vnd.code.copyMetadata";var C1=b1=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this)||this,a._bulkEditService=r,a._clipboardService=e,a._languageFeaturesService=o,a._quickInputService=s,a._progressService=u,a._editor=i;var c=i.getContainerDomNode();a._register(Oa(c,"copy",(function(t){return a.handleCopy(t)}))),a._register(Oa(c,"cut",(function(t){return a.handleCopy(t)}))),a._register(Oa(c,"paste",(function(t){return a.handlePaste(t)}),!0)),a._pasteProgressManager=a._register(new c1("pasteIntoEditor",i,n)),a._postPasteWidgetManager=a._register(n.createInstance(m1,"pasteIntoEditor",i,E1,{id:x1,label:Bt(0,"Show paste options...")}));return a}i.get=function(t){return t.getContribution(b1.ID)};i.prototype.changePasteType=function(){this._postPasteWidgetManager.tryShowSelector()};i.prototype.pasteAs=function(t){this._editor.focus();try{this._pasteAsActionContext={preferred:t},cc().execCommand("paste")}finally{this._pasteAsActionContext=void 0}};i.prototype.clearWidgets=function(){this._postPasteWidgetManager.clear()};i.prototype.isPasteAsEnabled=function(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)};i.prototype.finishedPaste=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this._currentPasteOperation];case 1:t.sent();return[2]}}))}))};i.prototype.handleCopy=function(t){var i=this;var n,r;if(!this._editor.hasTextFocus()||(Xt&&this._clipboardService.writeResources([]),!t.clipboardData||!this.isPasteAsEnabled()))return;var e=this._editor.getModel(),o=this._editor.getSelections();if(!e||!(o!=null&&o.length))return;var s=this._editor.getOption(37);var u=o;var a=o.length===1&&o[0].isEmpty();if(a){if(!s)return;u=[new Zr(u[0].startLineNumber,1,u[0].startLineNumber,1+e.getLineLength(u[0].startLineNumber))]}var c=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getPlainTextToCopy(o,s,Wt),h={multicursorText:Array.isArray(c)?c:null,pasteOnNewLine:a,mode:null},f=this._languageFeaturesService.documentPasteEditProvider.ordered(e).filter((function(t){return!!t.prepareDocumentPaste}));if(!f.length)return void this.setCopyMetadata(t.clipboardData,{defaultPastePayload:h});var l=S0(t.clipboardData),d=f.flatMap((function(t){var i;return(i=t.copyMimeTypes)!==null&&i!==void 0?i:[]})),v=b0();this.setCopyMetadata(t.clipboardData,{id:v,providerCopyMimeTypes:d,defaultPastePayload:h});var A=Us((function(t){return __awaiter(i,void 0,void 0,(function(){var i,n,r,n,o,s,a,c,h,d;var v=this;return __generator(this,(function(A){switch(A.label){case 0:n=N;return[4,Promise.all(f.map((function(i){return __awaiter(v,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,i.prepareDocumentPaste(e,u,l,t)];case 1:return[2,r.sent()];case 2:n=r.sent();return[2,void console.error(n)];case 3:return[2]}}))}))})))];case 1:i=n.apply(void 0,[A.sent()]);i.reverse();for(r=0,n=i;r<n.length;r++){o=n[r];for(s=0,a=o;s<a.length;s++){c=a[s],h=c[0],d=c[1];l.replace(h,d)}}return[2,l]}}))}))}));(r=b1._currentCopyOperation)===null||r===void 0||r.dataTransferPromise.cancel(),b1._currentCopyOperation={handle:v,dataTransferPromise:A}};i.prototype.handlePaste=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s,u,a,c,h;var f=this;return __generator(this,(function(l){if(!t.clipboardData||!this._editor.hasTextFocus())return[2];(i=d1.get(this._editor))===null||i===void 0||i.closeMessage(),(n=this._currentPasteOperation)===null||n===void 0||n.cancel(),this._currentPasteOperation=void 0;o=this._editor.getModel(),s=this._editor.getSelections();if(!(s!=null&&s.length)||!o||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return[2];u=this.fetchCopyMetadata(t),a=O0(t.clipboardData);a.delete(B1);c=__spreadArray(__spreadArray(__spreadArray([],t.clipboardData.types,true),(r=u==null?void 0:u.providerCopyMimeTypes)!==null&&r!==void 0?r:[],true),[wd.uriList],false),h=this._languageFeaturesService.documentPasteEditProvider.ordered(o).filter((function(t){var i,n;var r=(i=f._pasteAsActionContext)===null||i===void 0?void 0:i.preferred;return!(r&&t.providedPasteEditKinds&&!f.providerMatchesPreference(t,r))&&((n=t.pasteMimeTypes)===null||n===void 0?void 0:n.some((function(t){return E0(t,c)})))}));h.length?(t.preventDefault(),t.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,h,s,a,u):this.doPasteInline(h,s,a,u,t)):!((e=this._pasteAsActionContext)===null||e===void 0)&&e.preferred&&this.showPasteAsNoEditMessage(s,this._pasteAsActionContext.preferred);return[2]}))}))};i.prototype.showPasteAsNoEditMessage=function(t,i){var n;(n=d1.get(this._editor))===null||n===void 0||n.showMessage(Bt(0,"No paste edits for '{0}' found",i instanceof D0?i.value:i.providerId),t[0].getStartPosition())};i.prototype.doPasteInline=function(t,i,n,r,e){var o=this;var s=Us((function(u){return __awaiter(o,void 0,void 0,(function(){var o,a,c,h,f,l,d;var v=this;return __generator(this,(function(A){switch(A.label){case 0:o=this._editor;if(!o.hasModel())return[2];a=o.getModel(),c=new AZ(o,3,void 0,u);A.label=1;case 1:A.trys.push([1,,5,6]);return[4,this.mergeInDataFromCopy(n,r,c.token)];case 2:if(A.sent(),c.token.isCancellationRequested)return[2];h=t.filter((function(t){return v.isSupportedPasteProvider(t,n)}));if(!h.length||h.length===1&&h[0]instanceof L0)return[2,this.applyDefaultPasteHandler(n,r,c.token,e)];f={triggerKind:he.Automatic};return[4,this.getPasteEdits(h,n,a,i,f,c.token)];case 3:l=A.sent();if(c.token.isCancellationRequested)return[2];if(l.length===1&&l[0].provider instanceof L0)return[2,this.applyDefaultPasteHandler(n,r,c.token,e)];if(l.length){d=o.getOption(85).showPasteSelector==="afterPaste";return[2,this._postPasteWidgetManager.applyEditAndShowIfNeeded(i,{activeEditIndex:0,allEdits:l},d,(function(t,i){return __awaiter(v,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:return[4,(r=(n=t.provider).resolveDocumentPasteEdit)===null||r===void 0?void 0:r.call(n,t,i)];case 1:e=o.sent();return[2,(e&&(t.additionalEdit=e.additionalEdit),t)]}}))}))}),c.token)]}return[4,this.applyDefaultPasteHandler(n,r,c.token,e)];case 4:A.sent();return[3,6];case 5:c.dispose(),this._currentPasteOperation===s&&(this._currentPasteOperation=void 0);return[7];case 6:return[2]}}))}))}));this._pasteProgressManager.showWhile(i[0].getEndPosition(),Bt(0,"Running paste handlers. Click to cancel"),s),this._currentPasteOperation=s};i.prototype.showPasteAsPick=function(t,i,n,r,e){var o=this;var s=Us((function(u){return __awaiter(o,void 0,void 0,(function(){var o,a,c,h,f,l,d,v,A;var g=this;return __generator(this,(function(w){switch(w.label){case 0:o=this._editor;if(!o.hasModel())return[2];a=o.getModel(),c=new AZ(o,3,void 0,u);w.label=1;case 1:w.trys.push([1,,8,9]);return[4,this.mergeInDataFromCopy(r,e,c.token)];case 2:if(w.sent(),c.token.isCancellationRequested)return[2];h=i.filter((function(i){return g.isSupportedPasteProvider(i,r,t)}));t&&(h=h.filter((function(i){return g.providerMatchesPreference(i,t)})));f={triggerKind:he.PasteAs,only:t&&t instanceof D0?t:void 0};l=void 0;return[4,this.getPasteEdits(h,r,a,n,f,c.token)];case 3:d=w.sent();if(c.token.isCancellationRequested)return[2];if(t&&(d=d.filter((function(i){return t instanceof D0?t.contains(i.kind):t.providerId===i.provider.id}))),!d.length)return[2,void(f.only&&this.showPasteAsNoEditMessage(n,f.only))];if(!t)return[3,4];l=d.at(0);return[3,6];case 4:return[4,this._quickInputService.pick(d.map((function(t){var i;return{label:t.title,description:(i=t.kind)===null||i===void 0?void 0:i.value,edit:t}})),{placeHolder:Bt(0,"Select Paste Action")})];case 5:v=w.sent();l=v==null?void 0:v.edit;w.label=6;case 6:if(!l)return[2];A=r1(a.uri,n,l);return[4,this._bulkEditService.apply(A,{editor:this._editor})];case 7:w.sent();return[3,9];case 8:c.dispose(),this._currentPasteOperation===s&&(this._currentPasteOperation=void 0);return[7];case 9:return[2]}}))}))}));this._progressService.withProgress({location:10,title:Bt(0,"Running paste handlers")},(function(){return s}))};i.prototype.setCopyMetadata=function(t,i){t.setData(B1,JSON.stringify(i))};i.prototype.fetchCopyMetadata=function(t){var i;if(!t.clipboardData)return;var n=t.clipboardData.getData(B1);if(n)try{return JSON.parse(n)}catch(t){return}var r=Zk.getTextData(t.clipboardData),e=r[0],o=r[1];return o?{defaultPastePayload:{mode:o.mode,multicursorText:(i=o.multicursorText)!==null&&i!==void 0?i:null,pasteOnNewLine:!!o.isFromEmptySelection}}:void 0};i.prototype.mergeInDataFromCopy=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u,a,c,e;return __generator(this,(function(h){switch(h.label){case 0:if(!(i!=null&&i.id&&((r=b1._currentCopyOperation)===null||r===void 0?void 0:r.handle)===i.id))return[3,2];return[4,b1._currentCopyOperation.dataTransferPromise];case 1:e=h.sent();if(n.isCancellationRequested)return[2];for(o=0,s=e;o<s.length;o++){u=s[o],a=u[0],c=u[1];t.replace(a,c)}h.label=2;case 2:if(!!t.has(wd.uriList))return[3,4];return[4,this._clipboardService.readResources()];case 3:e=h.sent();if(n.isCancellationRequested)return[2];e.length&&t.append(wd.uriList,y0(C0.create(e)));h.label=4;case 4:return[2]}}))}))};i.prototype.getPasteEdits=function(t,i,n,r,e,o){return __awaiter(this,void 0,void 0,(function(){var s;var u=this;return __generator(this,(function(a){switch(a.label){case 0:return[4,Hs(Promise.all(t.map((function(t){return __awaiter(u,void 0,void 0,(function(){var s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:h.trys.push([0,2,,3]);return[4,(s=t.provideDocumentPasteEdits)===null||s===void 0?void 0:s.call(t,n,r,i,e,o)];case 1:a=h.sent();return[2,(u=a==null?void 0:a.edits)===null||u===void 0?void 0:u.map((function(i){return __assign(__assign({},i),{provider:t})}))];case 2:c=h.sent();console.error(c);return[3,3];case 3:return[2]}}))}))}))),o)];case 1:s=a.sent();return[2,e1(N(s!==null&&s!==void 0?s:[]).flat().filter((function(t){return!e.only||e.only.contains(t.kind)})))]}}))}))};i.prototype.applyDefaultPasteHandler=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:a=(e=t.get(wd.text))!==null&&e!==void 0?e:t.get("text");return[4,a==null?void 0:a.asString()];case 1:c=(o=f.sent())!==null&&o!==void 0?o:"";if(n.isCancellationRequested)return[2];h={clipboardEvent:r,text:c,pasteOnNewLine:(s=i==null?void 0:i.defaultPastePayload.pasteOnNewLine)!==null&&s!==void 0&&s,multicursorText:(u=i==null?void 0:i.defaultPastePayload.multicursorText)!==null&&u!==void 0?u:null,mode:null};this._editor.trigger("keyboard","paste",h);return[2]}}))}))};i.prototype.isSupportedPasteProvider=function(t,i,n){var r;return!!(!((r=t.pasteMimeTypes)===null||r===void 0)&&r.some((function(t){return i.matches(t)})))&&(!n||this.providerMatchesPreference(t,n))};i.prototype.providerMatchesPreference=function(t,i){return i instanceof D0?!t.providedPasteEditKinds||t.providedPasteEditKinds.some((function(t){return i.contains(t)})):t.id===i.providerId};return i}(Cn);C1.ID="editor.contrib.copyPasteActionController",C1=b1=y1([k1(1,fh),k1(2,dT),k1(3,uG),k1(4,gg),k1(5,ZU),k1(6,qT)],C1);var D1="9_cutcopypaste",M1=Kt||document.queryCommandSupported("cut"),_1=Kt||document.queryCommandSupported("copy"),F1=navigator.clipboard!==void 0&&!ps||document.queryCommandSupported("paste");function S1(t){return t.register(),t}var I1=M1?S1(new Pf({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Kt?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:_f.MenubarEditMenu,group:"2_ccp",title:Bt(0,"Cu&&t"),order:1},{menuId:_f.EditorContext,group:D1,title:Bt(0,"Cut"),when:hB.writable,order:1},{menuId:_f.CommandPalette,group:"",title:Bt(0,"Cut"),order:1},{menuId:_f.SimpleEditorContext,group:D1,title:Bt(0,"Cut"),when:hB.writable,order:1}]})):void 0,Q1=_1?S1(new Pf({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Kt?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:_f.MenubarEditMenu,group:"2_ccp",title:Bt(0,"&&Copy"),order:2},{menuId:_f.EditorContext,group:D1,title:Bt(0,"Copy"),order:2},{menuId:_f.CommandPalette,group:"",title:Bt(0,"Copy"),order:1},{menuId:_f.SimpleEditorContext,group:D1,title:Bt(0,"Copy"),order:2}]})):void 0;If.appendMenuItem(_f.MenubarEditMenu,{submenu:_f.MenubarCopy,title:Ct(0,"Copy As"),group:"2_ccp",order:3}),If.appendMenuItem(_f.EditorContext,{submenu:_f.EditorContextCopy,title:Ct(0,"Copy As"),group:D1,order:3}),If.appendMenuItem(_f.EditorContext,{submenu:_f.EditorContextShare,title:Ct(0,"Share"),group:"11_share",order:-1,when:Hh.and(Hh.notEquals("resourceScheme","output"),hB.editorTextFocus)}),If.appendMenuItem(_f.EditorTitleContext,{submenu:_f.EditorTitleContextShare,title:Ct(0,"Share"),group:"11_share",order:-1}),If.appendMenuItem(_f.ExplorerContext,{submenu:_f.ExplorerContextShare,title:Ct(0,"Share"),group:"11_share",order:-1});var O1=F1?S1(new Pf({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Kt?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:_f.MenubarEditMenu,group:"2_ccp",title:Bt(0,"&&Paste"),order:4},{menuId:_f.EditorContext,group:D1,title:Bt(0,"Paste"),when:hB.writable,order:4},{menuId:_f.CommandPalette,group:"",title:Bt(0,"Paste"),order:1},{menuId:_f.SimpleEditorContext,group:D1,title:Bt(0,"Paste"),when:hB.writable,order:4}]})):void 0;var N1=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Bt(0,"Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:0,weight:100}})||this}i.prototype.run=function(t,i){i.hasModel()&&(!i.getOption(37)&&i.getSelection().isEmpty()||(Vk.forceCopyWithSyntaxHighlighting=!0,i.focus(),i.getContainerDomNode().ownerDocument.execCommand("copy"),Vk.forceCopyWithSyntaxHighlighting=!1))};return i}(Vf);function R1(t,i){t&&(t.addImplementation(1e4,"code-editor",(function(t,n){var r=t.get(dh).getFocusedCodeEditor();if(r&&r.hasTextFocus()){var e=r.getOption(37),o=r.getSelection();return o&&o.isEmpty()&&!e||r.getContainerDomNode().ownerDocument.execCommand(i),!0}return!1})),t.addImplementation(0,"generic-dom",(function(t,n){return cc().execCommand(i),!0})))}R1(I1,"cut"),R1(Q1,"copy"),O1&&(O1.addImplementation(1e4,"code-editor",(function(t,i){var n,r;var e=t.get(dh),o=t.get(uG),s=e.getFocusedCodeEditor();return s&&s.hasTextFocus()?s.getContainerDomNode().ownerDocument.execCommand("paste")?(r=(n=C1.get(s))===null||n===void 0?void 0:n.finishedPaste())!==null&&r!==void 0?r:Promise.resolve():!Xt||function(){return __awaiter(f,void 0,void 0,(function(){var t,i,n,r,e;return __generator(this,(function(u){switch(u.label){case 0:return[4,o.readText()];case 1:t=u.sent();if(t!==""){i=Kk.INSTANCE.get(t);n=!1,r=null,e=null;i&&(n=s.getOption(37)&&!!i.isFromEmptySelection,r=i.multicursorText!==void 0?i.multicursorText:null,e=i.mode),s.trigger("keyboard","paste",{text:t,pasteOnNewLine:n,multicursorText:r,mode:e})}return[2]}}))}))}():!1})),O1.addImplementation(0,"generic-dom",(function(t,i){return cc().execCommand("paste"),!0}))),_1&&$f(N1);var T1=new(function(){function t(){this.QuickFix=new D0("quickfix"),this.Refactor=new D0("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new D0("notebook"),this.Source=new D0("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}return t}());var L1;function j1(t,i,n){return!!i.contains(t)&&(!n||!i.contains(n))}(function(t){t.Refactor="refactor",t.RefactorPreview="refactor preview",t.Lightbulb="lightbulb",t.Default="other (default)",t.SourceAction="source action",t.QuickFix="quick fix action",t.FixAll="fix all",t.OrganizeImports="organize imports",t.AutoFix="auto fix",t.QuickFixHover="quick fix hover window",t.OnSave="save participants",t.ProblemsView="problems view"})(L1||(L1={}));var z1=function(){function t(t,i,n){this.kind=t,this.apply=i,this.preferred=n}t.fromUser=function(i,n){return i&&typeof i=="object"?new t(t.getKindFromUser(i,n.kind),t.getApplyFromUser(i,n.apply),t.getPreferredUser(i)):new t(n.kind,n.apply,!1)};t.getApplyFromUser=function(t,i){switch(typeof t.apply=="string"?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}};t.getKindFromUser=function(t,i){return typeof t.kind=="string"?new D0(t.kind):i};t.getPreferredUser=function(t){return typeof t.preferred=="boolean"&&t.preferred};return t}();var U1=function(){function t(t,i,n){this.action=t,this.provider=i,this.highlightRange=n}t.prototype.resolve=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r;return __generator(this,(function(e){switch(e.label){case 0:if(!(!((i=this.provider)===null||i===void 0)&&i.resolveCodeAction&&!this.action.edit))return[3,5];n=void 0;e.label=1;case 1:e.trys.push([1,3,,4]);return[4,this.provider.resolveCodeAction(this.action,t)];case 2:n=e.sent();return[3,4];case 3:r=e.sent();hn(r);return[3,4];case 4:n&&(this.action.edit=n.edit);e.label=5;case 5:return[2,this]}}))}))};return t}();var H1="editor.action.codeAction",Y1="editor.action.quickFix",J1="editor.action.autoFix",P1="editor.action.refactor",W1="editor.action.sourceAction",G1="editor.action.organizeImports",V1="editor.action.fixAll";var K1=function(t){__extends(i,t);function i(n,r,e){var o=this;o=t.call(this)||this,o.documentation=r,o._register(e),o.allActions=__spreadArray([],n,true).sort(i.codeActionsComparator),o.validActions=o.allActions.filter((function(t){var i=t.action;return!i.disabled}));return o}i.codeActionsPreferredComparator=function(t,i){return t.isPreferred&&!i.isPreferred?-1:!t.isPreferred&&i.isPreferred?1:0};i.codeActionsComparator=function(t,n){var r=t.action;var e=n.action;return r.isAI&&!e.isAI?1:!r.isAI&&e.isAI?-1:L(r.diagnostics)?L(e.diagnostics)?i.codeActionsPreferredComparator(r,e):-1:L(e.diagnostics)?1:i.codeActionsPreferredComparator(r,e)};Object.defineProperty(i.prototype,"hasAutoFix",{get:function(){return this.validActions.some((function(t){var i=t.action;return!!i.kind&&T1.QuickFix.contains(new D0(i.kind))&&!!i.isPreferred}))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"hasAIFix",{get:function(){return this.validActions.some((function(t){var i=t.action;return!!i.isAI}))},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"allAIFixes",{get:function(){return this.validActions.every((function(t){var i=t.action;return!!i.isAI}))},enumerable:false,configurable:true});return i}(Cn);var X1={actions:[],documentation:void 0};function q1(t,i,n,r,e,o){return __awaiter(this,void 0,void 0,(function(){var s,u,a,c,h,f,l,d,v,A,g,w,p;var m=this;return __generator(this,(function(b){switch(b.label){case 0:u=r.filter||{},a=__assign(__assign({},u),{excludes:__spreadArray(__spreadArray([],u.excludes||[],true),[T1.Notebook],false)}),c={only:(s=u.include)===null||s===void 0?void 0:s.value,trigger:r.type},h=new gZ(i,o),f=r.type===2,l=function(t,i,n){return t.all(i).filter((function(t){return!t.providedCodeActionKinds||t.providedCodeActionKinds.some((function(t){return function(t,i){return!(t.include&&!t.include.intersects(i)||t.excludes&&t.excludes.some((function(n){return j1(i,n,t.include)}))||!t.includeSourceActions&&T1.Source.contains(i))}(n,new D0(t))}))}))}(t,i,f?a:u),d=new Bn,v=l.map((function(t){return __awaiter(m,void 0,void 0,(function(){var r,o,s,a;return __generator(this,(function(f){switch(f.label){case 0:f.trys.push([0,2,,3]);e.report(t);return[4,t.provideCodeActions(i,n,c,h.token)];case 1:r=f.sent();if(r&&d.add(r),h.token.isCancellationRequested)return[2,X1];o=((r==null?void 0:r.actions)||[]).filter((function(t){return t&&function(t,i){var n=i.kind?new D0(i.kind):void 0;return!(!(!t.include||n&&t.include.contains(n))||t.excludes&&n&&t.excludes.some((function(i){return j1(n,i,t.include)}))||!t.includeSourceActions&&n&&T1.Source.contains(n)||t.onlyIncludePreferredActions&&!i.isPreferred)}(u,t)})),s=function(t,i,n){if(!t.documentation)return;var r=t.documentation.map((function(t){return{kind:new D0(t.kind),command:t.command}}));if(n){var e=void 0;for(var o=0,s=r;o<s.length;o++){var u=s[o];u.kind.contains(n)&&(e?e.kind.contains(u.kind)&&(e=u):e=u)}if(e)return e==null?void 0:e.command}for(var a=0,c=i;a<c.length;a++){var e=c[a];if(e.kind){for(var h=0,f=r;h<f.length;h++){var u=f[h];if(u.kind.contains(new D0(e.kind)))return u.command}}}}(t,o,u.include);return[2,{actions:o.map((function(i){return new U1(i,t)})),documentation:s}];case 2:a=f.sent();if(dn(a))throw a;return[2,(hn(a),X1)];case 3:return[2]}}))}))})),A=t.onDidChange((function(){_(t.all(i),l)||h.cancel()}));b.label=1;case 1:b.trys.push([1,,3,4]);return[4,Promise.all(v)];case 2:g=b.sent(),w=g.map((function(t){return t.actions})).flat(),p=__spreadArray(__spreadArray([],N(g.map((function(t){return t.documentation}))),true),Z1(t,i,r,w),true);return[2,new K1(w,p,d)];case 3:A.dispose(),h.dispose();return[7];case 4:return[2]}}))}))}function Z1(t,i,n,r){var e,o,s,u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:if(!(i&&r.length))return[3,5];u=0,a=t.all(i);f.label=1;case 1:if(!(u<a.length))return[3,5];c=a[u];h=c._getAdditionalMenuItems;if(!h)return[3,3];return[5,__values((e=c._getAdditionalMenuItems)===null||e===void 0?void 0:e.call(c,{trigger:n.type,only:(s=(o=n.filter)===null||o===void 0?void 0:o.include)===null||s===void 0?void 0:s.value},r.map((function(t){return t.action}))))];case 2:h=f.sent();f.label=3;case 3:h;f.label=4;case 4:u++;return[3,1];case 5:return[2]}}))}var $1;function t2(t,i,n,r){return __awaiter(this,arguments,void 0,(function(t,i,n,r,e){var o,s,u,a,c,h,f,l;if(e===void 0){e=Gn.None}return __generator(this,(function(d){switch(d.label){case 0:s=t.get(dT),u=t.get(Eh),a=t.get(Tf),c=t.get(PI);a.publicLog2("codeAction.applyCodeAction",{codeActionTitle:i.action.title,codeActionKind:i.action.kind,codeActionIsPreferred:!!i.action.isPreferred,reason:n});return[4,i.resolve(e)];case 1:if(!(d.sent(),!e.isCancellationRequested))return[3,7];h=!((o=i.action.edit)===null||o===void 0)&&o.edits.length;if(!h)return[3,3];return[4,s.apply(i.action.edit,{editor:r==null?void 0:r.editor,label:i.action.title,quotableLabel:i.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:n!==$1.OnSave,showPreview:r==null?void 0:r.preview})];case 2:h=!d.sent().isApplied;d.label=3;case 3:if(h)return[2];if(!i.action.command)return[3,7];d.label=4;case 4:d.trys.push([4,6,,7]);return[4,u.executeCommand.apply(u,__spreadArray([i.action.command.id],i.action.command.arguments||[],false))];case 5:d.sent();return[3,7];case 6:f=d.sent();l=function(t){return typeof t=="string"?t:t instanceof Error&&typeof t.message=="string"?t.message:void 0}(f);c.error(typeof l=="string"?l:Bt(0,"An unknown error occurred while applying the code action"));return[3,7];case 7:return[2]}}))}))}(function(t){t.OnSave="onSave",t.FromProblemsView="fromProblemsView",t.FromCodeActions="fromCodeActions",t.FromAILightbulb="fromAILightbulb"})($1||($1={})),Bh.registerCommand("_executeCodeActionProvider",(function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c,h,f,l;return __generator(this,(function(d){switch(d.label){case 0:if(!(i instanceof zr))throw An();o=t.get(gg).codeActionProvider,s=t.get(vh).getModel(i);if(!s)throw An();u=$r.isISelection(n)?$r.liftSelection(n):Zr.isIRange(n)?s.validateRange(n):void 0;if(!u)throw An();a=typeof r=="string"?new D0(r):void 0;return[4,q1(o,s,u,{type:1,triggerAction:L1.Default,filter:{includeSourceActions:!0,include:a}},ZT.None,Gn.None)];case 1:c=d.sent(),h=[],f=Math.min(c.validActions.length,typeof e=="number"?e:0);for(l=0;l<f;l++)h.push(c.validActions[l].resolve(Gn.None));d.label=2;case 2:d.trys.push([2,,4,5]);return[4,Promise.all(h)];case 3:return[2,(d.sent(),c.validActions.map((function(t){return t.action})))];case 4:setTimeout((function(){return c.dispose()}),100);return[7];case 5:return[2]}}))}))}));var i2,n2=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},r2=function(t,i){return function(n,r){i(n,r,t)}};var e2=i2=function(){function t(t){this.keybindingService=t}t.prototype.getResolver=function(){var t=this;var i=new po((function(){return t.keybindingService.getKeybindings().filter((function(t){return i2.codeActionCommands.indexOf(t.command)>=0})).filter((function(t){return t.resolvedKeybinding})).map((function(t){var i=t.commandArgs;return t.command===G1?i={kind:T1.SourceOrganizeImports.value}:t.command===V1&&(i={kind:T1.SourceFixAll.value}),__assign({resolvedKeybinding:t.resolvedKeybinding},z1.fromUser(i,{kind:D0.None,apply:"never"}))}))}));return function(n){if(n.kind){var r=t.bestKeybindingForCodeAction(n,i.value);return r==null?void 0:r.resolvedKeybinding}}};t.prototype.bestKeybindingForCodeAction=function(t,i){if(!t.kind)return;var n=new D0(t.kind);return i.filter((function(t){return t.kind.contains(n)})).filter((function(i){return!i.preferred||t.isPreferred})).reduceRight((function(t,i){return t?t.kind.contains(i.kind)?i:t:i}),void 0)};return t}();e2.codeActionCommands=[P1,H1,W1,G1,V1],e2=i2=n2([r2(0,vE)],e2),fp("symbolIcon.arrayForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.booleanForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Bt(0,"The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.colorForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.constantForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Bt(0,"The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Bt(0,"The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Bt(0,"The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Bt(0,"The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Bt(0,"The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.fileForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.folderForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Bt(0,"The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Bt(0,"The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.keyForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.keywordForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Bt(0,"The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.moduleForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.namespaceForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.nullForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.numberForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.objectForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.operatorForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.packageForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.propertyForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.referenceForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.snippetForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.stringForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.structForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.textForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.typeParameterForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.unitForeground",{dark:yp,light:yp,hcDark:yp,hcLight:yp},Bt(0,"The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fp("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Bt(0,"The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));var o2=Object.freeze({kind:D0.Empty,title:Bt(0,"More Actions...")}),s2=Object.freeze([{kind:T1.QuickFix,title:Bt(0,"Quick Fix")},{kind:T1.RefactorExtract,title:Bt(0,"Extract"),icon:re.wrench},{kind:T1.RefactorInline,title:Bt(0,"Inline"),icon:re.wrench},{kind:T1.RefactorRewrite,title:Bt(0,"Rewrite"),icon:re.wrench},{kind:T1.RefactorMove,title:Bt(0,"Move"),icon:re.wrench},{kind:T1.SurroundWith,title:Bt(0,"Surround With"),icon:re.surroundWith},{kind:T1.Source,title:Bt(0,"Source Action"),icon:re.symbolFile},o2]);var u2,a2,c2=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},h2=function(t,i){return function(n,r){i(n,r,t)}};(function(t){t.Hidden={type:0},t.Showing=function(){function t(t,i,n,r){this.actions=t,this.trigger=i,this.editorPosition=n,this.widgetPosition=r,this.type=1}return t}()})(a2||(a2={}));var f2=u2=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._keybindingService=n,e._onClick=e._register(new Ln),e.onClick=e._onClick.event,e._state=a2.Hidden,e._iconClasses=[],e._domNode=Nc("div.lightBulbWidget"),e._register(wk.ignoreTarget(e._domNode)),e._editor.addContentWidget(e),e._register(e._editor.onDidChangeModelContent((function(t){var i=e._editor.getModel();(e.state.type!==1||!i||e.state.editorPosition.lineNumber>=i.getLineCount())&&e.hide()}))),e._register(Ta(e._domNode,(function(t){if(e.state.type!==1)return;e._editor.focus(),t.preventDefault();var i=Ka(e._domNode),n=i.top,r=i.height,o=e._editor.getOption(67);var s=Math.floor(o/3);e.state.widgetPosition.position!==null&&e.state.widgetPosition.position.lineNumber<e.state.editorPosition.lineNumber&&(s+=o),e._onClick.fire({x:t.posx,y:n+r+s,actions:e.state.actions,trigger:e.state.trigger})}))),e._register(Oa(e._domNode,"mouseenter",(function(t){1&~t.buttons||e.hide()}))),e._register(Qn.runAndSubscribe(e._keybindingService.onDidUpdateKeybindings,(function(){var t,i,n,r;e._preferredKbLabel=(i=(t=e._keybindingService.lookupKeybinding(J1))===null||t===void 0?void 0:t.getLabel())!==null&&i!==void 0?i:void 0,e._quickFixKbLabel=(r=(n=e._keybindingService.lookupKeybinding(Y1))===null||n===void 0?void 0:n.getLabel())!==null&&r!==void 0?r:void 0,e._updateLightBulbTitleAndIcon()})));return e}i.prototype.dispose=function(){t.prototype.dispose.call(this),this._editor.removeContentWidget(this)};i.prototype.getId=function(){return"LightBulbWidget"};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getPosition=function(){return this._state.type===1?this._state.widgetPosition:null};i.prototype.update=function(t,n,r){var e=this;if(t.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();var o=this._editor.getModel();if(!o)return this.hide();var s=o.validatePosition(r),u=s.lineNumber,a=s.column,c=o.getOptions().tabSize,h=this._editor.getOptions().get(50),f=$B(o.getLineContent(u),c),l=function(t){return t>2&&e._editor.getTopForLineNumber(t)===e._editor.getTopForLineNumber(t-1)};var d=u,v=1;if(!(h.spaceWidth*f>22)){if(u>1&&!l(u-1))d-=1;else if(u<o.getLineCount()&&!l(u+1))d+=1;else if(a*h.spaceWidth<22)return this.hide();v=/^\S\s*$/.test(o.getLineContent(d))?2:1}this.state=new a2.Showing(t,n,r,{position:{lineNumber:d,column:v},preference:i._posPref}),this._editor.layoutContentWidget(this)};i.prototype.hide=function(){this.state!==a2.Hidden&&(this.state=a2.Hidden,this._editor.layoutContentWidget(this))};Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this._updateLightBulbTitleAndIcon()},enumerable:false,configurable:true});i.prototype._updateLightBulbTitleAndIcon=function(){var t,i;if((t=this._domNode.classList).remove.apply(t,this._iconClasses),this._iconClasses=[],this.state.type!==1)return;var n,r=!1;this.state.actions.allAIFixes?(n=re.sparkleFilled,this.state.actions.validActions.length===1&&(r=!0)):n=this.state.actions.hasAutoFix?this.state.actions.hasAIFix?re.lightbulbSparkleAutofix:re.lightbulbAutofix:this.state.actions.hasAIFix?re.lightbulbSparkle:re.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,r),this._iconClasses=xh.asClassNameArray(n),(i=this._domNode.classList).add.apply(i,this._iconClasses)};i.prototype._updateLightbulbTitle=function(t,i){this.state.type===1&&(i?this.title=Bt(0,"Run: {0}",this.state.actions.validActions[0].action.title):t&&this._preferredKbLabel?this.title=Bt(0,"Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!t&&this._quickFixKbLabel?this.title=Bt(0,"Show Code Actions ({0})",this._quickFixKbLabel):t||(this.title=Bt(0,"Show Code Actions")))};Object.defineProperty(i.prototype,"title",{set:function(t){this._domNode.title=t},enumerable:false,configurable:true});return i}(Cn);f2.ID="editor.contrib.lightbulbWidget",f2._posPref=[0],f2=u2=c2([h2(1,vE),h2(2,Eh)],f2);var l2=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},d2=function(t,i){return function(n,r){i(n,r,t)}};var v2="acceptSelectedCodeAction",A2="previewSelectedCodeAction";var g2=function(){function t(){}Object.defineProperty(t.prototype,"templateId",{get:function(){return"header"},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){t.classList.add("group-header");var i=document.createElement("span");return t.append(i),{container:t,text:i}};t.prototype.renderElement=function(t,i,n){var r,e;n.text.textContent=(e=(r=t.group)===null||r===void 0?void 0:r.title)!==null&&e!==void 0?e:""};t.prototype.disposeTemplate=function(t){};return t}();var w2=function(){function t(t,i){this._supportsPreview=t,this._keybindingService=i}Object.defineProperty(t.prototype,"templateId",{get:function(){return"action"},enumerable:false,configurable:true});t.prototype.renderTemplate=function(t){t.classList.add(this.templateId);var i=document.createElement("div");i.className="icon",t.append(i);var n=document.createElement("span");return n.className="title",t.append(n),{container:t,icon:i,text:n,keybinding:new wP(t,ei)}};t.prototype.renderElement=function(t,i,n){var r,e,o;if(!((r=t.group)===null||r===void 0)&&r.icon?(n.icon.className=xh.asClassName(t.group.icon),t.group.icon.color&&(n.icon.style.color=ap(t.group.icon.color.id))):(n.icon.className=xh.asClassName(re.lightBulb),n.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!t.item||!t.label)return;n.text.textContent=k2(t.label),n.keybinding.set(t.keybinding),function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}t?Rc.apply(void 0,i):Tc.apply(void 0,i)}(!!t.keybinding,n.keybinding.element);var s=(e=this._keybindingService.lookupKeybinding(v2))===null||e===void 0?void 0:e.getLabel(),u=(o=this._keybindingService.lookupKeybinding(A2))===null||o===void 0?void 0:o.getLabel();n.container.classList.toggle("option-disabled",t.disabled),t.disabled?n.container.title=t.label:s&&u?this._supportsPreview&&t.canPreview?n.container.title=Bt(0,"{0} to Apply, {1} to Preview",s,u):n.container.title=Bt(0,"{0} to Apply",s):n.container.title=""};t.prototype.disposeTemplate=function(t){t.keybinding.dispose()};return t}();w2=l2([d2(1,vE)],w2);var p2=function(t){__extends(i,t);function i(){return t.call(this,"acceptSelectedAction")||this}return i}(UIEvent);var m2=function(t){__extends(i,t);function i(){return t.call(this,"previewSelectedAction")||this}return i}(UIEvent);function b2(t){if(t.kind==="action")return t.label}var y2=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._delegate=e,u._contextViewService=o,u._keybindingService=s,u._actionLineHeight=24,u._headerLineHeight=26,u.cts=u._register(new Kn),u.domNode=document.createElement("div"),u.domNode.classList.add("actionList");var a={getHeight:function(t){return t.kind==="header"?u._headerLineHeight:u._actionLineHeight},getTemplateId:function(t){return t.kind}};u._list=u._register(new bz(i,u.domNode,a,[new w2(n,u._keybindingService),new g2],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:b2},accessibilityProvider:{getAriaLabel:function(t){if(t.kind==="action"){var i=t.label?k2(t==null?void 0:t.label):"";return t.disabled&&(i=Bt(0,"{0}, Disabled Reason: {1}",i,t.disabled)),i}return null},getWidgetAriaLabel:function(){return Bt(0,"Action Widget")},getRole:function(t){return t.kind==="action"?"option":"separator"},getWidgetRole:function(){return"listbox"}}})),u._list.style(Vz),u._register(u._list.onMouseClick((function(t){return u.onListClick(t)}))),u._register(u._list.onMouseOver((function(t){return u.onListHover(t)}))),u._register(u._list.onDidChangeFocus((function(){return u.onFocus()}))),u._register(u._list.onDidChangeSelection((function(t){return u.onListSelection(t)}))),u._allMenuItems=r,u._list.splice(0,u._list.length,u._allMenuItems),u._list.length&&u.focusNext();return u}i.prototype.focusCondition=function(t){return!t.disabled&&t.kind==="action"};i.prototype.hide=function(t){this._delegate.onHide(t),this.cts.cancel(),this._contextViewService.hideContextView()};i.prototype.layout=function(t){var i=this;var n=this._allMenuItems.filter((function(t){return t.kind==="header"})).length,r=this._allMenuItems.length*this._actionLineHeight+n*this._headerLineHeight-n*this._actionLineHeight;this._list.layout(r);var e=t;if(this._allMenuItems.length>=50)e=380;else{var o=this._allMenuItems.map((function(t,n){var r=i.domNode.ownerDocument.getElementById(i._list.getElementID(n));if(r){r.style.width="auto";var e=r.getBoundingClientRect().width;return r.style.width="",e}return 0}));e=Math.max.apply(Math,__spreadArray(__spreadArray([],o,false),[t],false))}var s=Math.min(r,.7*this.domNode.ownerDocument.body.clientHeight);return this._list.layout(s,e),this.domNode.style.height="".concat(s,"px"),this._list.domFocus(),e};i.prototype.focusPrevious=function(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)};i.prototype.focusNext=function(){this._list.focusNext(1,!0,void 0,this.focusCondition)};i.prototype.acceptSelected=function(t){var i=this._list.getFocus();if(i.length===0)return;var n=i[0],r=this._list.element(n);if(!this.focusCondition(r))return;var e=t?new m2:new p2;this._list.setSelection([n],e)};i.prototype.onListSelection=function(t){if(!t.elements.length)return;var i=t.elements[0];i.item&&this.focusCondition(i)?this._delegate.onSelect(i.item,t.browserEvent instanceof m2):this._list.setSelection([])};i.prototype.onFocus=function(){var t,i;var n=this._list.getFocus();if(n.length===0)return;var r=n[0],e=this._list.element(r);(i=(t=this._delegate).onFocus)===null||i===void 0||i.call(t,e.item)};i.prototype.onListHover=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){switch(r.label){case 0:i=t.element;if(!(i&&i.item&&this.focusCondition(i)))return[3,3];if(!(this._delegate.onHover&&!i.disabled&&i.kind==="action"))return[3,2];return[4,this._delegate.onHover(i.item,this.cts.token)];case 1:n=r.sent();i.canPreview=n?n.canPreview:void 0;r.label=2;case 2:t.index&&this._list.splice(t.index,1,[i]);r.label=3;case 3:this._list.setFocus(typeof t.index=="number"?[t.index]:[]);return[2]}}))}))};i.prototype.onListClick=function(t){t.element&&this.focusCondition(t.element)&&this._list.setFocus([])};return i}(Cn);function k2(t){return t.replace(/\r\n|\r|\n/g," ")}y2=l2([d2(4,RO),d2(5,vE)],y2);var x2=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},E2=function(t,i){return function(n,r){i(n,r,t)}};fp("actionBar.toggledBackground",{dark:Vm,light:Vm,hcDark:Vm,hcLight:Vm},Bt(0,"Background color for toggled action items in action bar."));var B2={Visible:new cf("codeActionMenuVisible",!1,Bt(0,"Whether the action widget list is visible"))},C2=lh("actionWidgetService");var D2=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._contextViewService=i,e._contextKeyService=n,e._instantiationService=r,e._list=e._register(new Dn);return e}Object.defineProperty(i.prototype,"isVisible",{get:function(){return B2.Visible.getValue(this._contextKeyService)||!1},enumerable:false,configurable:true});i.prototype.show=function(t,i,n,r,e,o,s){var u=this;var a=B2.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(y2,t,i,n,r);this._contextViewService.showContextView({getAnchor:function(){return e},render:function(t){return a.set(!0),u._renderWidget(t,c,s!==null&&s!==void 0?s:[])},onHide:function(t){a.reset(),u._onWidgetClosed(t)}},o,!1)};i.prototype.acceptSelected=function(t){var i;(i=this._list.value)===null||i===void 0||i.acceptSelected(t)};i.prototype.focusPrevious=function(){var t,i;(i=(t=this._list)===null||t===void 0?void 0:t.value)===null||i===void 0||i.focusPrevious()};i.prototype.focusNext=function(){var t,i;(i=(t=this._list)===null||t===void 0?void 0:t.value)===null||i===void 0||i.focusNext()};i.prototype.hide=function(){var t;(t=this._list.value)===null||t===void 0||t.hide(),this._list.clear()};i.prototype._renderWidget=function(t,i,n){var r=this;var e;var o=document.createElement("div");if(o.classList.add("action-widget"),t.appendChild(o),this._list.value=i,!this._list.value)throw new Error("List has no value");o.appendChild(this._list.value.domNode);var s=new Bn,u=document.createElement("div"),a=t.appendChild(u);a.classList.add("context-view-block"),s.add(Oa(a,Ec.MOUSE_DOWN,(function(t){return t.stopPropagation()})));var c=document.createElement("div"),h=t.appendChild(c);h.classList.add("context-view-pointerBlock"),s.add(Oa(h,Ec.POINTER_MOVE,(function(){return h.remove()}))),s.add(Oa(h,Ec.MOUSE_DOWN,(function(){return h.remove()})));var f=0;if(n.length){var l=this._createActionBar(".action-widget-action-bar",n);l&&(o.appendChild(l.getContainer().parentElement),s.add(l),f=l.getContainer().offsetWidth)}var d=(e=this._list.value)===null||e===void 0?void 0:e.layout(f);o.style.width="".concat(d,"px");var v=s.add(Mc(t));return s.add(v.onDidBlur((function(){return r.hide()}))),s};i.prototype._createActionBar=function(t,i){if(!i.length)return;var n=Nc(t),r=new cU(n);return r.push(i,{icon:!1,label:!0}),r};i.prototype._onWidgetClosed=function(t){var i;(i=this._list.value)===null||i===void 0||i.hide(t)};return i}(Cn);D2=x2([E2(0,RO),E2(1,hf),E2(2,fh)],D2),Ad(C2,D2,1);var M2=1100;Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"hideCodeActionWidget",title:Ct(0,"Hide action widget"),precondition:B2.Visible,keybinding:{weight:M2,primary:9,secondary:[1033]}})||this}i.prototype.run=function(t){t.get(C2).hide()};return i}(Nf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"selectPrevCodeAction",title:Ct(0,"Select previous action"),precondition:B2.Visible,keybinding:{weight:M2,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})||this}i.prototype.run=function(t){var i=t.get(C2);i instanceof D2&&i.focusPrevious()};return i}(Nf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"selectNextCodeAction",title:Ct(0,"Select next action"),precondition:B2.Visible,keybinding:{weight:M2,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})||this}i.prototype.run=function(t){var i=t.get(C2);i instanceof D2&&i.focusNext()};return i}(Nf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:v2,title:Ct(0,"Accept selected action"),precondition:B2.Visible,keybinding:{weight:M2,primary:3,secondary:[2137]}})||this}i.prototype.run=function(t){var i=t.get(C2);i instanceof D2&&i.acceptSelected()};return i}(Nf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:A2,title:Ct(0,"Preview selected action"),precondition:B2.Visible,keybinding:{weight:M2,primary:2051}})||this}i.prototype.run=function(t){var i=t.get(C2);i instanceof D2&&i.acceptSelected(!0)};return i}(Nf));var _2=new cf("supportedCodeAction",""),F2="_typescript.applyFixAllCodeAction";var S2=function(t){__extends(i,t);function i(i,n,r,e){if(e===void 0){e=250}var o=this;o=t.call(this)||this,o._editor=i,o._markerService=n,o._signalChange=r,o._delay=e,o._autoTriggerTimer=o._register(new Ks),o._register(o._markerService.onMarkerChanged((function(t){return o._onMarkerChanges(t)}))),o._register(o._editor.onDidChangeCursorPosition((function(){return o._tryAutoTrigger()})));return o}i.prototype.trigger=function(t){var i=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);this._signalChange(i?{trigger:t,selection:i}:void 0)};i.prototype._onMarkerChanges=function(t){var i=this._editor.getModel();i&&t.some((function(t){return ZM(t,i.uri)}))&&this._tryAutoTrigger()};i.prototype._tryAutoTrigger=function(){var t=this;this._autoTriggerTimer.cancelAndSet((function(){t.trigger({type:2,triggerAction:L1.Default})}),this._delay)};i.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(t){if(!this._editor.hasModel())return;var i=this._editor.getSelection();if(t.type===1)return i;var n=this._editor.getOption(65).enabled;if(n!==Ui.Off){if(n===Ui.On)return i;if(n===Ui.OnCode){if(!i.isEmpty())return i;var r=this._editor.getModel(),e=i.getPosition(),o=e.lineNumber,s=e.column,u=r.getLineContent(o);if(u.length===0)return;if(s===1){if(/\s/.test(u[0]))return}else if(s===r.getLineMaxColumn(o)){if(/\s/.test(u[u.length-1]))return}else if(/\s/.test(u[s-2])&&/\s/.test(u[s-1]))return}return i}};return i}(Cn);var I2;(function(t){t.Empty={type:0},t.Triggered=function(){function t(t,i,n){this.trigger=t,this.position=i,this._cancellablePromise=n,this.type=1,this.actions=n.catch((function(t){if(dn(t))return Q2;throw t}))}t.prototype.cancel=function(){this._cancellablePromise.cancel()};return t}()})(I2||(I2={}));var Q2=Object.freeze({allActions:[],validActions:[],dispose:function(){},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});var O2=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._editor=i,u._registry=n,u._markerService=r,u._progressService=o,u._configurationService=s,u._codeActionOracle=u._register(new Dn),u._state=I2.Empty,u._onDidChangeState=u._register(new Ln),u.onDidChangeState=u._onDidChangeState.event,u._disposed=!1,u._supportedCodeActions=_2.bindTo(e),u._register(u._editor.onDidChangeModel((function(){return u._update()}))),u._register(u._editor.onDidChangeModelLanguage((function(){return u._update()}))),u._register(u._registry.onDidChange((function(){return u._update()}))),u._register(u._editor.onDidChangeConfiguration((function(t){t.hasChanged(65)&&u._update()}))),u._update();return u}i.prototype.dispose=function(){this._disposed||(this._disposed=!0,t.prototype.dispose.call(this),this.setState(I2.Empty,!0))};i.prototype._settingEnabledNearbyQuickfixes=function(){var t;var i=(t=this._editor)===null||t===void 0?void 0:t.getModel();return!!this._configurationService&&this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:i==null?void 0:i.uri})};i.prototype._update=function(){var t=this;if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(I2.Empty);var i=this._editor.getModel();if(i&&this._registry.has(i)&&!this._editor.getOption(91)){var n=this._registry.all(i).flatMap((function(t){var i;return(i=t.providedCodeActionKinds)!==null&&i!==void 0?i:[]}));this._supportedCodeActions.set(n.join(" ")),this._codeActionOracle.value=new S2(this._editor,this._markerService,(function(n){var r;if(!n)return void t.setState(I2.Empty);var e=n.selection.getStartPosition(),o=Us((function(r){return __awaiter(t,void 0,void 0,(function(){var t,e,o,s,u,a,c,h,f,l,d,v,A,g,w,p,m,m,b,y,k,x,E,B,C,D,M,_,F,S,I,Q,O,N;return __generator(this,(function(R){switch(R.label){case 0:if(!(this._settingEnabledNearbyQuickfixes()&&n.trigger.type===1&&(n.trigger.triggerAction===L1.QuickFix||!((e=(t=n.trigger.filter)===null||t===void 0?void 0:t.include)===null||e===void 0)&&e.contains(T1.QuickFix))))return[3,6];return[4,q1(this._registry,i,n.selection,n.trigger,ZT.None,r)];case 1:d=R.sent(),v=__spreadArray([],d.allActions,true);if(r.isCancellationRequested)return[2,Q2];A=(o=d.validActions)===null||o===void 0?void 0:o.some((function(t){return!!t.action.kind&&T1.QuickFix.contains(new D0(t.action.kind))})),g=this._markerService.read({resource:i.uri});if(A){for(w=0,p=d.validActions;w<p.length;w++){m=p[w];!((u=(s=m.action.command)===null||s===void 0?void 0:s.arguments)===null||u===void 0)&&u.some((function(t){return typeof t=="string"&&t.includes(F2)}))&&(m.action.diagnostics=__spreadArray([],g.filter((function(t){return t.relatedInformation})),true))}return[2,{validActions:d.validActions,allActions:v,documentation:d.documentation,hasAutoFix:d.hasAutoFix,hasAIFix:d.hasAIFix,allAIFixes:d.allAIFixes,dispose:function(){d.dispose()}}]}if(!(!A&&g.length>0))return[3,6];m=n.selection.getPosition();b=m,y=Number.MAX_VALUE;k=__spreadArray([],d.validActions,true);x=0,E=g;R.label=2;case 2:if(!(x<E.length))return[3,5];B=E[x];C=B.endColumn,D=B.endLineNumber,M=B.startLineNumber;if(!(D===m.lineNumber||M===m.lineNumber))return[3,4];b=new qr(D,C);_={type:n.trigger.type,triggerAction:n.trigger.triggerAction,filter:{include:!((a=n.trigger.filter)===null||a===void 0)&&a.include?(c=n.trigger.filter)===null||c===void 0?void 0:c.include:T1.QuickFix},autoApply:n.trigger.autoApply,context:{notAvailableMessage:((h=n.trigger.context)===null||h===void 0?void 0:h.notAvailableMessage)||"",position:b}},F=new $r(b.lineNumber,b.column,b.lineNumber,b.column);return[4,q1(this._registry,i,F,_,ZT.None,r)];case 3:S=R.sent();if(S.validActions.length!==0){for(I=0,Q=S.validActions;I<Q.length;I++){O=Q[I];!((l=(f=O.action.command)===null||f===void 0?void 0:f.arguments)===null||l===void 0)&&l.some((function(t){return typeof t=="string"&&t.includes(F2)}))&&(O.action.diagnostics=__spreadArray([],g.filter((function(t){return t.relatedInformation})),true))}d.allActions.length===0&&v.push.apply(v,S.allActions),Math.abs(m.column-C)<y?k.unshift.apply(k,S.validActions):k.push.apply(k,S.validActions)}y=Math.abs(m.column-C);R.label=4;case 4:x++;return[3,2];case 5:N=k.filter((function(t,i,n){return n.findIndex((function(i){return i.action.title===t.action.title}))===i}));return[2,(N.sort((function(t,i){return t.action.isPreferred&&!i.action.isPreferred?-1:!t.action.isPreferred&&i.action.isPreferred||t.action.isAI&&!i.action.isAI?1:!t.action.isAI&&i.action.isAI?-1:0})),{validActions:N,allActions:v,documentation:d.documentation,hasAutoFix:d.hasAutoFix,hasAIFix:d.hasAIFix,allAIFixes:d.allAIFixes,dispose:function(){d.dispose()}})];case 6:return[2,q1(this._registry,i,n.selection,n.trigger,ZT.None,r)]}}))}))}));n.trigger.type===1&&((r=t._progressService)===null||r===void 0||r.showWhile(o,250));var s=new I2.Triggered(n.trigger,e,o);var u=!1;t._state.type===1&&(u=t._state.trigger.type===1&&s.type===1&&s.trigger.type===2&&t._state.position!==s.position),u||t.setState(s)}),void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:L1.Default})}else this._supportedCodeActions.reset()};i.prototype.trigger=function(t){var i;(i=this._codeActionOracle.value)===null||i===void 0||i.trigger(t)};i.prototype.setState=function(t,i){t!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=t,i||this._disposed||this._onDidChangeState.fire(t))};return i}(Cn);var N2,R2=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},T2=function(t,i){return function(n,r){i(n,r,t)}};var L2=N2=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h){var f=this;f=t.call(this)||this,f._commandService=u,f._configurationService=a,f._actionWidgetService=c,f._instantiationService=h,f._activeCodeActions=f._register(new Dn),f._showDisabled=!1,f._disposed=!1,f._editor=i,f._model=f._register(new O2(f._editor,o.codeActionProvider,n,r,s,a)),f._register(f._model.onDidChangeState((function(t){return f.update(t)}))),f._lightBulbWidget=new po((function(){var t=f._editor.getContribution(f2.ID);return t&&f._register(t.onClick((function(t){return f.showCodeActionsFromLightbulb(t.actions,t)}))),t})),f._resolver=e.createInstance(e2),f._register(f._editor.onDidLayoutChange((function(){return f._actionWidgetService.hide()})));return f}i.get=function(t){return t.getContribution(N2.ID)};i.prototype.dispose=function(){this._disposed=!0,t.prototype.dispose.call(this)};i.prototype.showCodeActionsFromLightbulb=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r;return __generator(this,(function(e){switch(e.label){case 0:if(!(t.allAIFixes&&t.validActions.length===1))return[3,2];n=t.validActions[0],r=n.action.command;r&&r.id==="inlineChat.start"&&r.arguments&&r.arguments.length>=1&&(r.arguments[0]=__assign(__assign({},r.arguments[0]),{autoSend:!1}));return[4,this._applyCodeAction(n,!1,!1,$1.FromAILightbulb)];case 1:return[2,void e.sent()];case 2:return[4,this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!0})];case 3:e.sent();return[2]}}))}))};i.prototype.showCodeActions=function(t,i,n){return this.showCodeActionList(i,n,{includeDisabledActions:!1,fromLightbulb:!1})};i.prototype.manualTriggerAtCurrentPosition=function(t,i,n,r){var e;if(!this._editor.hasModel())return;(e=d1.get(this._editor))===null||e===void 0||e.closeMessage();var o=this._editor.getPosition();this._trigger({type:1,triggerAction:i,filter:n,autoApply:r,context:{notAvailableMessage:t,position:o}})};i.prototype._trigger=function(t){return this._model.trigger(t)};i.prototype._applyCodeAction=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:e.trys.push([0,,2,3]);return[4,this._instantiationService.invokeFunction(t2,t,r,{preview:n,editor:this._editor})];case 1:e.sent();return[3,3];case 2:i&&this._trigger({type:2,triggerAction:L1.QuickFix,filter:{}});return[7];case 3:return[2]}}))}))};i.prototype.update=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s,u,a,c,h,f,l;return __generator(this,(function(d){switch(d.label){case 0:if(t.type!==1)return[2,void((i=this._lightBulbWidget.rawValue)===null||i===void 0||i.hide())];d.label=1;case 1:d.trys.push([1,3,,4]);return[4,t.actions];case 2:a=d.sent();return[3,4];case 3:c=d.sent();return[2,void cn(c)];case 4:if(!!this._disposed)return[3,12];if(!((n=this._lightBulbWidget.value)===null||n===void 0||n.update(a,t.trigger,t.position),t.trigger.type===1))return[3,11];if(!(!((r=t.trigger.filter)===null||r===void 0)&&r.include))return[3,10];h=this.tryGetValidActionToApply(t.trigger,a);if(!h)return[3,9];d.label=5;case 5:d.trys.push([5,,7,8]);(e=this._lightBulbWidget.value)===null||e===void 0||e.hide();return[4,this._applyCodeAction(h,!1,!1,$1.FromCodeActions)];case 6:d.sent();return[3,8];case 7:a.dispose();return[7];case 8:return[2];case 9:if(t.trigger.context){f=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,a);if(f&&f.action.disabled)return[2,((o=d1.get(this._editor))===null||o===void 0||o.showMessage(f.action.disabled,t.trigger.context.position),void a.dispose())]}d.label=10;case 10:l=!!(!((s=t.trigger.filter)===null||s===void 0)&&s.include);if(t.trigger.context&&(!a.allActions.length||!l&&!a.validActions.length))return[2,((u=d1.get(this._editor))===null||u===void 0||u.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=a,void a.dispose())];this._activeCodeActions.value=a,this.showCodeActionList(a,this.toCoords(t.position),{includeDisabledActions:l,fromLightbulb:!1});return[3,12];case 11:this._actionWidgetService.isVisible?a.dispose():this._activeCodeActions.value=a;d.label=12;case 12:return[2]}}))}))};i.prototype.getInvalidActionThatWouldHaveBeenApplied=function(t,i){if(i.allActions.length)return t.autoApply==="first"&&i.validActions.length===0||t.autoApply==="ifSingle"&&i.allActions.length===1?i.allActions.find((function(t){var i=t.action;return i.disabled})):void 0};i.prototype.tryGetValidActionToApply=function(t,i){if(i.validActions.length)return t.autoApply==="first"&&i.validActions.length>0||t.autoApply==="ifSingle"&&i.validActions.length===1?i.validActions[0]:void 0};i.prototype.showCodeActionList=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u;var a=this;return __generator(this,(function(c){r=this._editor.createDecorationsCollection(),e=this._editor.getDomNode();if(!e)return[2];o=n.includeDisabledActions&&(this._showDisabled||t.validActions.length===0)?t.allActions:t.validActions;if(!o.length)return[2];s=qr.isIPosition(i)?this.toCoords(i):i,u={onSelect:function(t,i){return __awaiter(a,void 0,void 0,(function(){return __generator(this,(function(n){this._applyCodeAction(t,!0,!!i,$1.FromCodeActions),this._actionWidgetService.hide(),r.clear();return[2]}))}))},onHide:function(){var t;(t=a._editor)===null||t===void 0||t.focus(),r.clear()},onHover:function(t,i){return __awaiter(a,void 0,void 0,(function(){var n,r,e,o;return __generator(this,(function(s){if(i.isCancellationRequested)return[2];r=!1;e=t.action.kind;if(e){o=new D0(e);r=[T1.RefactorExtract,T1.RefactorInline,T1.RefactorRewrite].some((function(t){return t.contains(o)}))}return[2,{canPreview:r||!!(!((n=t.action.edit)===null||n===void 0)&&n.edits.length)}]}))}))},onFocus:function(t){var i,n;if(t&&t.action){var e=t.action.ranges,o=t.action.diagnostics;if(r.clear(),e&&e.length>0){var s=o&&(o==null?void 0:o.length)>1?o.map((function(t){return{range:t,options:N2.DECORATION}})):e.map((function(t){return{range:t,options:N2.DECORATION}}));r.set(s)}else if(o&&o.length>0){var s=o.map((function(t){return{range:t,options:N2.DECORATION}}));r.set(s);var u=o[0];u.startLineNumber&&u.startColumn&&Tw(Bt(0,"Context: {0} at line {1} and column {2}.",(n=(i=a._editor.getModel())===null||i===void 0?void 0:i.getWordAtPosition({lineNumber:u.startLineNumber,column:u.startColumn}))===null||n===void 0?void 0:n.word,u.startLineNumber,u.startColumn))}}else r.clear()}};this._actionWidgetService.show("codeActionWidget",!0,function(t,i,n){if(!i)return t.map((function(t){var i;return{kind:"action",item:t,group:o2,disabled:!!t.action.disabled,label:t.action.disabled||t.action.title,canPreview:!!(!((i=t.action.edit)===null||i===void 0)&&i.edits.length)}}));var r=s2.map((function(t){return{group:t,actions:[]}}));for(var e=0,o=t;e<o.length;e++){var s=o[e];var u=s.action.kind?new D0(s.action.kind):D0.None;for(var a=0,c=r;a<c.length;a++){var h=c[a];if(h.group.kind.contains(u)){h.actions.push(s);break}}}var f=[];for(var l=0,d=r;l<d.length;l++){var s=d[l];if(s.actions.length){f.push({kind:"header",group:s.group});for(var v=0,A=s.actions;v<A.length;v++){var u=A[v];var h=s.group;f.push({kind:"action",item:u,group:u.action.isAI?{title:h.title,kind:h.kind,icon:re.sparkle}:h,label:u.action.title,disabled:!!u.action.disabled,keybinding:n(u.action)})}}}return f}(o,this._shouldShowHeaders(),this._resolver.getResolver()),u,s,e,this._getActionBarActions(t,i,n));return[2]}))}))};i.prototype.toCoords=function(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();var i=this._editor.getScrolledVisiblePosition(t),n=Ka(this._editor.getDomNode());return{x:n.left+i.left,y:n.top+i.top+i.height}};i.prototype._shouldShowHeaders=function(){var t;var i=(t=this._editor)===null||t===void 0?void 0:t.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:i==null?void 0:i.uri})};i.prototype._getActionBarActions=function(t,i,n){var r=this;if(n.fromLightbulb)return[];var e=t.documentation.map((function(t){var i;return{id:t.id,label:t.title,tooltip:(i=t.tooltip)!==null&&i!==void 0?i:"",class:void 0,enabled:!0,run:function(){var i;var n;return(i=r._commandService).executeCommand.apply(i,__spreadArray([t.id],(n=t.arguments)!==null&&n!==void 0?n:[],false))}}}));return n.includeDisabledActions&&t.validActions.length>0&&t.allActions.length!==t.validActions.length&&e.push(this._showDisabled?{id:"hideMoreActions",label:Bt(0,"Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:function(){return r._showDisabled=!1,r.showCodeActionList(t,i,n)}}:{id:"showMoreActions",label:Bt(0,"Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:function(){return r._showDisabled=!0,r.showCodeActionList(t,i,n)}}),e};return i}(Cn);function j2(t){return Hh.regex(_2.keys()[0],new RegExp("(\\s|^)"+Eo(t.value)+"\\b"))}L2.ID="editor.contrib.codeActionController",L2.DECORATION=iS.register({description:"quickfix-highlight",className:"quickfix-edit-highlight"}),L2=N2=R2([T2(1,QU),T2(2,hf),T2(3,fh),T2(4,gg),T2(5,$T),T2(6,Eh),T2(7,sd),T2(8,C2),T2(9,fh)],L2),cx((function(t,i){(function(t,n){n&&i.addRule(".monaco-editor ".concat(t," { background-color: ").concat(n,"; }"))})(".quickfix-edit-highlight",t.getColor(Zp));var n=t.getColor($p);n&&i.addRule(".monaco-editor .quickfix-edit-highlight { border: 1px ".concat(zy(t.type)?"dotted":"solid"," ").concat(n,"; box-sizing: border-box; }"))}));var z2={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Bt(0,"Kind of the code action to run.")},apply:{type:"string",description:Bt(0,"Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Bt(0,"Always apply the first returned code action."),Bt(0,"Apply the first returned code action if it is the only one."),Bt(0,"Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Bt(0,"Controls if only preferred code actions should be returned.")}}};function U2(t,i,n,r,e){if(e===void 0){e=L1.Default}if(t.hasModel()){var o=L2.get(t);o==null||o.manualTriggerAtCurrentPosition(i,e,n,r)}}il(L2.ID,L2,3),il(f2.ID,f2,4),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:Y1,label:Bt(0,"Quick Fix..."),alias:"Quick Fix...",precondition:Hh.and(hB.writable,hB.hasCodeActionsProvider),kbOpts:{kbExpr:hB.textInputFocus,primary:2137,weight:100}})||this}i.prototype.run=function(t,i){return U2(i,Bt(0,"No code actions available"),void 0,void 0,L1.QuickFix)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:P1,label:Bt(0,"Refactor..."),alias:"Refactor...",precondition:Hh.and(hB.writable,hB.hasCodeActionsProvider),kbOpts:{kbExpr:hB.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Hh.and(hB.writable,j2(T1.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:z2}]}})||this}i.prototype.run=function(t,i,n){var r=z1.fromUser(n,{kind:T1.Refactor,apply:"never"});return U2(i,typeof(n==null?void 0:n.kind)=="string"?r.preferred?Bt(0,"No preferred refactorings for '{0}' available",n.kind):Bt(0,"No refactorings for '{0}' available",n.kind):r.preferred?Bt(0,"No preferred refactorings available"):Bt(0,"No refactorings available"),{include:T1.Refactor.contains(r.kind)?r.kind:D0.None,onlyIncludePreferredActions:r.preferred},r.apply,L1.Refactor)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:W1,label:Bt(0,"Source Action..."),alias:"Source Action...",precondition:Hh.and(hB.writable,hB.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Hh.and(hB.writable,j2(T1.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:z2}]}})||this}i.prototype.run=function(t,i,n){var r=z1.fromUser(n,{kind:T1.Source,apply:"never"});return U2(i,typeof(n==null?void 0:n.kind)=="string"?r.preferred?Bt(0,"No preferred source actions for '{0}' available",n.kind):Bt(0,"No source actions for '{0}' available",n.kind):r.preferred?Bt(0,"No preferred source actions available"):Bt(0,"No source actions available"),{include:T1.Source.contains(r.kind)?r.kind:D0.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply,L1.SourceAction)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:G1,label:Bt(0,"Organize Imports"),alias:"Organize Imports",precondition:Hh.and(hB.writable,j2(T1.SourceOrganizeImports)),kbOpts:{kbExpr:hB.textInputFocus,primary:1581,weight:100}})||this}i.prototype.run=function(t,i){return U2(i,Bt(0,"No organize imports action available"),{include:T1.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",L1.OrganizeImports)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:J1,label:Bt(0,"Auto Fix..."),alias:"Auto Fix...",precondition:Hh.and(hB.writable,j2(T1.QuickFix)),kbOpts:{kbExpr:hB.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})||this}i.prototype.run=function(t,i){return U2(i,Bt(0,"No auto fixes available"),{include:T1.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",L1.AutoFix)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:V1,label:Bt(0,"Fix All"),alias:"Fix All",precondition:Hh.and(hB.writable,j2(T1.SourceFixAll))})||this}i.prototype.run=function(t,i){return U2(i,Bt(0,"No fix all action available"),{include:T1.SourceFixAll,includeSourceActions:!0},"ifSingle",L1.FixAll)};return i}(Vf)),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:H1,precondition:Hh.and(hB.writable,hB.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:z2}]}})||this}i.prototype.runEditorCommand=function(t,i,n){var r=z1.fromUser(n,{kind:D0.Empty,apply:"ifSingle"});return U2(i,typeof(n==null?void 0:n.kind)=="string"?r.preferred?Bt(0,"No preferred code actions for '{0}' available",n.kind):Bt(0,"No code actions for '{0}' available",n.kind):r.preferred?Bt(0,"No preferred code actions available"):Bt(0,"No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)};return i}(Gf))),yf.as(bd).registerConfiguration(__assign(__assign({},pT),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:Bt(0,"Enable/disable showing group headers in the Code Action menu."),default:!0}}})),yf.as(bd).registerConfiguration(__assign(__assign({},pT),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:Bt(0,"Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}));var H2=function(){function t(){this.lenses=[],this._disposables=new Bn}t.prototype.dispose=function(){this._disposables.dispose()};Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposables.isDisposed},enumerable:false,configurable:true});t.prototype.add=function(t,i){this._disposables.add(t);for(var n=0,r=t.lenses;n<r.length;n++){var e=r[n];this.lenses.push({symbol:e,provider:i})}};return t}();function Y2(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s;var u=this;return __generator(this,(function(a){switch(a.label){case 0:r=t.ordered(i),e=new Map,o=new H2,s=r.map((function(t,r){return __awaiter(u,void 0,void 0,(function(){var s,u;return __generator(this,(function(a){switch(a.label){case 0:e.set(t,r);a.label=1;case 1:a.trys.push([1,3,,4]);return[4,Promise.resolve(t.provideCodeLenses(i,n))];case 2:s=a.sent();s&&o.add(s,t);return[3,4];case 3:u=a.sent();hn(u);return[3,4];case 4:return[2]}}))}))}));return[4,Promise.all(s)];case 1:return[2,(a.sent(),o.lenses=o.lenses.sort((function(t,i){return t.symbol.range.startLineNumber<i.symbol.range.startLineNumber?-1:t.symbol.range.startLineNumber>i.symbol.range.startLineNumber?1:e.get(t.provider)<e.get(i.provider)?-1:e.get(t.provider)>e.get(i.provider)?1:t.symbol.range.startColumn<i.symbol.range.startColumn?-1:t.symbol.range.startColumn>i.symbol.range.startColumn?1:0})),o)]}}))}))}Bh.registerCommand("_executeCodeLensProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=i[0],e=i[1];lt(zr.isUri(r)),lt(typeof e=="number"||!e);var o=t.get(gg).codeLensProvider,s=t.get(vh).getModel(r);if(!s)throw An();var u=[],a=new Bn;return Y2(o,s,Gn.None).then((function(t){a.add(t);var i=[];var n=function(t){e==null||t.symbol.command?u.push(t.symbol):e-- >0&&t.provider.resolveCodeLens&&i.push(Promise.resolve(t.provider.resolveCodeLens(s,t.symbol,Gn.None)).then((function(i){return u.push(i||t.symbol)})))};for(var r=0,o=t.lenses;r<o.length;r++){var c=o[r];n(c)}return Promise.all(i)})).then((function(){return u})).finally((function(){setTimeout((function(){return a.dispose()}),100)}))}));var J2=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},P2=function(t,i){return function(n,r){i(n,r,t)}};var W2=lh("ICodeLensCache");var G2=function(){function t(t,i){this.lineCount=t,this.data=i}return t}();var V2=function(){function t(t){var i=this;this._fakeProvider=new(function(){function t(){}t.prototype.provideCodeLenses=function(){throw new Error("not supported")};return t}()),this._cache=new xv(20,.75),La(go,(function(){return t.remove("codelens/cache",1)}));var n="codelens/cache2",r=t.get(n,1,"{}");this._deserialize(r),Qn.once(t.onWillSaveState)((function(r){r.reason===jz.SHUTDOWN&&t.store(n,i._serialize(),1,1)}))}t.prototype.put=function(t,i){var n=i.lenses.map((function(t){var i;return{range:t.symbol.range,command:t.symbol.command&&{id:"",title:(i=t.symbol.command)===null||i===void 0?void 0:i.title}}})),r=new H2;r.add({lenses:n,dispose:function(){}},this._fakeProvider);var e=new G2(t.getLineCount(),r);this._cache.set(t.uri.toString(),e)};t.prototype.get=function(t){var i=this._cache.get(t.uri.toString());return i&&i.lineCount===t.getLineCount()?i.data:void 0};t.prototype.delete=function(t){this._cache.delete(t.uri.toString())};t.prototype._serialize=function(){var t=Object.create(null);for(var i=0,n=this._cache;i<n.length;i++){var r=n[i],e=r[0],o=r[1];var s=new Set;for(var u=0,a=o.data.lenses;u<a.length;u++){var c=a[u];s.add(c.symbol.range.startLineNumber)}t[e]={lineCount:o.lineCount,lines:__spreadArray([],s.values(),true)}}return JSON.stringify(t)};t.prototype._deserialize=function(t){try{var i=JSON.parse(t);for(var n in i){var r=i[n],e=[];for(var o=0,s=r.lines;o<s.length;o++){var u=s[o];e.push({range:new Zr(u,1,u,11)})}var a=new H2;a.add({lenses:e,dispose:function(){}},this._fakeProvider),this._cache.set(n,new G2(r.lineCount,a))}}catch(t){}};return t}();V2=J2([P2(0,Lz)],V2),Ad(W2,V2,1);var K2=function(){function t(t,i,n){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=i,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}t.prototype.onComputedHeight=function(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())};t.prototype.isVisible=function(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")};return t}();var X2=function(){function t(i,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id="codelens.widget-"+t._idPool++,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}t.prototype.withCommands=function(i,n){this._commands.clear();var r=[];var e=!1;for(var o=0;o<i.length;o++){var s=i[o];if(s&&(e=!0,s.command)){var u=XO(s.command.title.trim());if(s.command.id){var a="c"+t._idPool++;r.push(Nc.apply(void 0,__spreadArray(["a",{id:a,title:s.command.tooltip,role:"button"}],u,false))),this._commands.set(a,s.command)}else r.push(Nc.apply(void 0,__spreadArray(["span",{title:s.command.tooltip}],u,false)));o+1<i.length&&r.push(Nc("span",void 0," | "))}}e?(Sc.apply(void 0,__spreadArray([this._domNode],r,false)),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Sc(this._domNode,Nc("span",void 0,"no commands"))};t.prototype.getCommand=function(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0};t.prototype.getId=function(){return this._id};t.prototype.getDomNode=function(){return this._domNode};t.prototype.updatePosition=function(t){var i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[1]}};t.prototype.getPosition=function(){return this._widgetPosition||null};return t}();X2._idPool=0;var q2=function(){function t(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}t.prototype.addDecoration=function(t,i){this._addDecorations.push(t),this._addDecorationsCallbacks.push(i)};t.prototype.removeDecoration=function(t){this._removeDecorations.push(t)};t.prototype.commit=function(t){var i=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(var n=0,r=i.length;n<r;n++)this._addDecorationsCallbacks[n](i[n])};return t}();var Z2=iS.register({collapseOnReplaceEdit:!0,description:"codelens"});var $2=function(){function t(t,i,n,r,e,o){var s=this;var u;this._isDisposed=!1,this._editor=i,this._data=t,this._decorationIds=[];var a=[];this._data.forEach((function(t,i){t.symbol.command&&a.push(t.symbol),n.addDecoration({range:t.symbol.range,options:Z2},(function(t){return s._decorationIds[i]=t})),u=u?Zr.plusRange(u,t.symbol.range):Zr.lift(t.symbol.range)})),this._viewZone=new K2(u.startLineNumber-1,e,o),this._viewZoneId=r.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}t.prototype._createContentWidgetIfNecessary=function(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new X2(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))};t.prototype.dispose=function(t,i){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],i==null||i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0};t.prototype.isDisposed=function(){return this._isDisposed};t.prototype.isValid=function(){var t=this;return this._decorationIds.some((function(i,n){var r=t._editor.getModel().getDecorationRange(i),e=t._data[n].symbol;return!(!r||Zr.isEmpty(e.range)!==r.isEmpty())}))};t.prototype.updateCodeLensSymbols=function(t,i){var n=this;this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=t,this._data.forEach((function(t,r){i.addDecoration({range:t.symbol.range,options:Z2},(function(t){return n._decorationIds[r]=t}))}))};t.prototype.updateHeight=function(t,i){this._viewZone.heightInPx=t,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)};t.prototype.computeIfNecessary=function(t){if(!this._viewZone.isVisible())return null;for(var i=0;i<this._decorationIds.length;i++){var n=t.getDecorationRange(this._decorationIds[i]);n&&(this._data[i].symbol.range=n)}return this._data};t.prototype.updateCommands=function(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(var i=0;i<this._data.length;i++){var n=t[i];if(n){var r=this._data[i].symbol;r.command=n.command||r.command}}};t.prototype.getCommand=function(t){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(t)};t.prototype.getLineNumber=function(){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1};t.prototype.update=function(t){if(this.isValid()){var i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}};return t}();var t4=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},i4=function(t,i){return function(n,r){i(n,r,t)}};var n4=function(){function t(t,i,n,r,e,o){var s=this;this._editor=t,this._languageFeaturesService=i,this._commandService=r,this._notificationService=e,this._codeLensCache=o,this._disposables=new Bn,this._localToDispose=new Bn,this._lenses=[],this._oldCodeLensModels=new Bn,this._provideCodeLensDebounce=n.for(i.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(i.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new qs((function(){return s._resolveCodeLensesInViewport()}),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel((function(){return s._onModelChange()}))),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){return s._onModelChange()}))),this._disposables.add(this._editor.onDidChangeConfiguration((function(t){(t.hasChanged(50)||t.hasChanged(19)||t.hasChanged(18))&&s._updateLensStyle(),t.hasChanged(17)&&s._onModelChange()}))),this._disposables.add(i.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}t.prototype.dispose=function(){var t;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(t=this._currentCodeLensModel)===null||t===void 0||t.dispose()};t.prototype._getLayoutInfo=function(){var t=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));var i=this._editor.getOption(19);return(!i||i<5)&&(i=.9*this._editor.getOption(52)|0),{fontSize:i,codeLensHeight:i*t|0}};t.prototype._updateLensStyle=function(){var t=this;var i=this._getLayoutInfo(),n=i.codeLensHeight,r=i.fontSize,e=this._editor.getOption(18),o=this._editor.getOption(50),s=this._editor.getContainerDomNode().style;s.setProperty("--vscode-editorCodeLens-lineHeight","".concat(n,"px")),s.setProperty("--vscode-editorCodeLens-fontSize","".concat(r,"px")),s.setProperty("--vscode-editorCodeLens-fontFeatureSettings",o.fontFeatureSettings),e&&(s.setProperty("--vscode-editorCodeLens-fontFamily",e),s.setProperty("--vscode-editorCodeLens-fontFamilyDefault",en.fontFamily)),this._editor.changeViewZones((function(i){for(var r=0,e=t._lenses;r<e.length;r++){var o=e[r];o.updateHeight(n,i)}}))};t.prototype._localDispose=function(){var t,i,n;(t=this._getCodeLensModelPromise)===null||t===void 0||t.cancel(),this._getCodeLensModelPromise=void 0,(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(n=this._currentCodeLensModel)===null||n===void 0||n.dispose()};t.prototype._onModelChange=function(){var t=this;this._localDispose();var i=this._editor.getModel();if(!i||!this._editor.getOption(17)||i.isTooLargeForTokenization())return;var n=this._codeLensCache.get(i);if(n&&this._renderCodeLensSymbols(n),!this._languageFeaturesService.codeLensProvider.has(i))return void(n&&Gs((function(){var r=t._codeLensCache.get(i);n===r&&(t._codeLensCache.delete(i),t._onModelChange())}),3e4,this._localToDispose));for(var r=0,e=this._languageFeaturesService.codeLensProvider.all(i);r<e.length;r++){var o=e[r];if(typeof o.onDidChange=="function"){var s=o.onDidChange((function(){return u.schedule()}));this._localToDispose.add(s)}}var u=new qs((function(){var n;var r=Date.now();(n=t._getCodeLensModelPromise)===null||n===void 0||n.cancel(),t._getCodeLensModelPromise=Us((function(n){return Y2(t._languageFeaturesService.codeLensProvider,i,n)})),t._getCodeLensModelPromise.then((function(n){t._currentCodeLensModel&&t._oldCodeLensModels.add(t._currentCodeLensModel),t._currentCodeLensModel=n,t._codeLensCache.put(i,n);var e=t._provideCodeLensDebounce.update(i,Date.now()-r);u.delay=e,t._renderCodeLensSymbols(n),t._resolveCodeLensesInViewportSoon()}),cn)}),this._provideCodeLensDebounce.get(i));this._localToDispose.add(u),this._localToDispose.add(En((function(){return t._resolveCodeLensesScheduler.cancel()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((function(){var i;t._editor.changeDecorations((function(i){t._editor.changeViewZones((function(n){var r=[];var e=-1;t._lenses.forEach((function(t){t.isValid()&&e!==t.getLineNumber()?(t.update(n),e=t.getLineNumber()):r.push(t)}));var o=new q2;r.forEach((function(i){i.dispose(o,n),t._lenses.splice(t._lenses.indexOf(i),1)})),o.commit(i)}))})),u.schedule(),t._resolveCodeLensesScheduler.cancel(),(i=t._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),t._resolveCodeLensesPromise=void 0}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((function(){u.schedule()}))),this._localToDispose.add(this._editor.onDidBlurEditorText((function(){u.cancel()}))),this._localToDispose.add(this._editor.onDidScrollChange((function(i){i.scrollTopChanged&&t._lenses.length>0&&t._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((function(){t._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(En((function(){if(t._editor.getModel()){var i=eV.capture(t._editor);t._editor.changeDecorations((function(i){t._editor.changeViewZones((function(n){t._disposeAllLenses(i,n)}))})),i.restore(t._editor)}else t._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((function(i){var n;if(i.target.type!==9)return;var r=i.target.element;if((r==null?void 0:r.tagName)==="SPAN"&&(r=r.parentElement),(r==null?void 0:r.tagName)==="A")for(var e=0,o=t._lenses;e<o.length;e++){var s=o[e];var u=s.getCommand(r);if(u){(n=t._commandService).executeCommand.apply(n,__spreadArray([u.id],u.arguments||[],false)).catch((function(i){return t._notificationService.error(i)}));break}}}))),u.schedule()};t.prototype._disposeAllLenses=function(t,i){var n=new q2;for(var r=0,e=this._lenses;r<e.length;r++){var o=e[r];o.dispose(n,i)}t&&n.commit(t),this._lenses.length=0};t.prototype._renderCodeLensSymbols=function(t){var i=this;if(!this._editor.hasModel())return;var n=this._editor.getModel().getLineCount(),r=[];var e;for(var o=0,s=t.lenses;o<s.length;o++){var u=s[o];var a=u.symbol.range.startLineNumber;a<1||a>n||(e&&e[e.length-1].symbol.range.startLineNumber===a?e.push(u):(e=[u],r.push(e)))}if(!r.length&&!this._lenses.length)return;var c=eV.capture(this._editor),h=this._getLayoutInfo();this._editor.changeDecorations((function(t){i._editor.changeViewZones((function(n){var e=new q2;var o=0,s=0;for(;s<r.length&&o<i._lenses.length;){var u=r[s][0].symbol.range.startLineNumber,a=i._lenses[o].getLineNumber();a<u?(i._lenses[o].dispose(e,n),i._lenses.splice(o,1)):a===u?(i._lenses[o].updateCodeLensSymbols(r[s],e),s++,o++):(i._lenses.splice(o,0,new $2(r[s],i._editor,e,n,h.codeLensHeight,(function(){return i._resolveCodeLensesInViewportSoon()}))),o++,s++)}for(;o<i._lenses.length;)i._lenses[o].dispose(e,n),i._lenses.splice(o,1);for(;s<r.length;)i._lenses.push(new $2(r[s],i._editor,e,n,h.codeLensHeight,(function(){return i._resolveCodeLensesInViewportSoon()}))),s++;e.commit(t)}))})),c.restore(this._editor)};t.prototype._resolveCodeLensesInViewportSoon=function(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()};t.prototype._resolveCodeLensesInViewport=function(){var t=this;var i;(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0;var n=this._editor.getModel();if(!n)return;var r=[],e=[];if(this._lenses.forEach((function(t){var i=t.computeIfNecessary(n);i&&(r.push(i),e.push(t))})),r.length===0)return;var o=Date.now(),s=Us((function(t){var i=r.map((function(i,r){var o=new Array(i.length),s=i.map((function(i,r){return i.symbol.command||typeof i.provider.resolveCodeLens!="function"?(o[r]=i.symbol,Promise.resolve(void 0)):Promise.resolve(i.provider.resolveCodeLens(n,i.symbol,t)).then((function(t){o[r]=t}),hn)}));return Promise.all(s).then((function(){t.isCancellationRequested||e[r].isDisposed()||e[r].updateCommands(o)}))}));return Promise.all(i)}));this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then((function(){var i=t._resolveCodeLensesDebounce.update(n,Date.now()-o);t._resolveCodeLensesScheduler.delay=i,t._currentCodeLensModel&&t._codeLensCache.put(n,t._currentCodeLensModel),t._oldCodeLensModels.clear(),s===t._resolveCodeLensesPromise&&(t._resolveCodeLensesPromise=void 0)}),(function(i){cn(i),s===t._resolveCodeLensesPromise&&(t._resolveCodeLensesPromise=void 0)}))};t.prototype.getModel=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,this._getCodeLensModelPromise];case 1:i.sent();return[4,this._resolveCodeLensesPromise];case 2:return[2,(i.sent(),!((t=this._currentCodeLensModel)===null||t===void 0)&&t.isDisposed?void 0:this._currentCodeLensModel)]}}))}))};return t}();n4.ID="css.editor.codeLens",n4=t4([i4(1,gg),i4(2,zQ),i4(3,Eh),i4(4,PI),i4(5,W2)],n4),il(n4.ID,n4,1),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"codelens.showLensesInCurrentLine",precondition:hB.hasCodeLensProvider,label:Bt(0,"Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c,h,f,l,d,f,v,A;return __generator(this,(function(g){switch(g.label){case 0:if(!i.hasModel())return[2];n=t.get(ZU),r=t.get(Eh),e=t.get(PI),o=i.getSelection().positionLineNumber,s=i.getContribution(n4.ID);if(!s)return[2];return[4,s.getModel()];case 1:u=g.sent();if(!u)return[2];a=[];for(c=0,h=u.lenses;c<h.length;c++){f=h[c];f.symbol.command&&f.symbol.range.startLineNumber===o&&a.push({label:f.symbol.command.title,command:f.symbol.command})}if(a.length===0)return[2];return[4,n.pick(a,{canPickMany:!1,placeHolder:Bt(0,"Select a command")})];case 2:l=g.sent();if(!l)return[2];d=l.command;if(!u.isDisposed)return[3,4];return[4,s.getModel()];case 3:f=g.sent(),v=f==null?void 0:f.lenses.find((function(t){var i;return t.symbol.range.startLineNumber===o&&((i=t.symbol.command)===null||i===void 0?void 0:i.title)===d.title}));if(!v||!v.symbol.command)return[2];d=v.symbol.command;g.label=4;case 4:g.trys.push([4,6,,7]);return[4,r.executeCommand.apply(r,__spreadArray([d.id],d.arguments||[],false))];case 5:g.sent();return[3,7];case 6:A=g.sent();e.error(A);return[3,7];case 7:return[2]}}))}))};return i}(Vf));var r4=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},e4=function(t,i){return function(n,r){i(n,r,t)}};var o4=function(){function t(t,i){this._editorWorkerClient=new Dg(t,!1,"editorWorkerService",i)}t.prototype.provideDocumentColors=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){return[2,this._editorWorkerClient.computeDefaultDocumentColors(t.uri)]}))}))};t.prototype.provideColorPresentations=function(t,i,n){var r=i.range,e=i.color,o=e.alpha,s=new ZA(new KA(Math.round(255*e.red),Math.round(255*e.green),Math.round(255*e.blue),o)),u=o?ZA.Format.CSS.formatRGB(s):ZA.Format.CSS.formatRGBA(s),a=o?ZA.Format.CSS.formatHSL(s):ZA.Format.CSS.formatHSLA(s),c=o?ZA.Format.CSS.formatHex(s):ZA.Format.CSS.formatHexA(s),h=[];return h.push({label:u,textEdit:{range:r,text:u}}),h.push({label:a,textEdit:{range:r,text:a}}),h.push({label:c,textEdit:{range:r,text:c}}),h};return t}();var s4=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._register(r.colorProvider.register("*",new o4(i,n)));return e}return i}(Cn);function u4(t,i,n){return __awaiter(this,arguments,void 0,(function(t,i,n,r){if(r===void 0){r=!0}return __generator(this,(function(e){return[2,l4(new c4,t,i,n,r)]}))}))}function a4(t,i,n,r){return Promise.resolve(n.provideColorPresentations(t,i,r))}s4=r4([e4(0,vh),e4(1,jd),e4(2,gg)],s4),TG(s4);var c4=function(){function t(){}t.prototype.compute=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,t.provideDocumentColors(i,n)];case 1:e=a.sent();if(Array.isArray(e))for(o=0,s=e;o<s.length;o++){u=s[o];r.push({colorInfo:u,provider:t})}return[2,Array.isArray(e)]}}))}))};return t}();var h4=function(){function t(){}t.prototype.compute=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,t.provideDocumentColors(i,n)];case 1:e=a.sent();if(Array.isArray(e))for(o=0,s=e;o<s.length;o++){u=s[o];r.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]})}return[2,Array.isArray(e)]}}))}))};return t}();var f4=function(){function t(t){this.colorInfo=t}t.prototype.compute=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(e){switch(e.label){case 0:return[4,t.provideColorPresentations(i,this.colorInfo,Gn.None)];case 1:n=e.sent();return[2,(Array.isArray(n)&&r.push.apply(r,n),Array.isArray(n))]}}))}))};return t}();function l4(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c,h,f,l,d;return __generator(this,(function(v){switch(v.label){case 0:s=!1;u=[],a=i.ordered(n);c=a.length-1;v.label=1;case 1:if(!(c>=0))return[3,6];h=a[c];if(!(h instanceof o4))return[3,2];o=h;return[3,5];case 2:v.trys.push([2,4,,5]);return[4,t.compute(h,n,r,u)];case 3:v.sent()&&(s=!0);return[3,5];case 4:f=v.sent();hn(f);return[3,5];case 5:c--;return[3,1];case 6:if(!s)return[3,7];l=u;return[3,11];case 7:if(!(o&&e))return[3,9];return[4,t.compute(o,n,r,u)];case 8:d=(v.sent(),u);return[3,10];case 9:d=[];v.label=10;case 10:l=d;v.label=11;case 11:return[2,l]}}))}))}function d4(t,i){var n=t.get(gg).colorProvider,r=t.get(vh).getModel(i);if(!r)throw An();return{model:r,colorProviderRegistry:n,isDefaultColorDecoratorsEnabled:t.get(sd).getValue("editor.defaultColorDecorators",{resource:i})}}Bh.registerCommand("_executeDocumentColorProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=i[0];if(!(r instanceof zr))throw An();var e=d4(t,r),o=e.model,s=e.colorProviderRegistry,u=e.isDefaultColorDecoratorsEnabled;return l4(new h4,s,o,Gn.None,u)})),Bh.registerCommand("_executeColorPresentationProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=i[0],e=i[1],o=e.uri,s=e.range;if(!(o instanceof zr&&Array.isArray(r)&&r.length===4&&Zr.isIRange(s)))throw An();var u=d4(t,o),a=u.model,c=u.colorProviderRegistry,h=u.isDefaultColorDecoratorsEnabled,f=r[0],l=r[1],d=r[2],v=r[3];return l4(new f4({range:s,color:{red:f,green:l,blue:d,alpha:v}}),c,a,Gn.None,h)}));var v4,A4=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},g4=function(t,i){return function(n,r){i(n,r,t)}};var w4=Object.create({});var p4=v4=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._editor=i,o._configurationService=n,o._languageFeaturesService=r,o._localToDispose=o._register(new Bn),o._decorationsIds=[],o._colorDatas=new Map,o._colorDecoratorIds=o._editor.createDecorationsCollection(),o._ruleFactory=new By(o._editor),o._decoratorLimitReporter=new m4,o._colorDecorationClassRefs=o._register(new Bn),o._debounceInformation=e.for(r.colorProvider,"Document Colors",{min:v4.RECOMPUTE_TIME}),o._register(i.onDidChangeModel((function(){o._isColorDecoratorsEnabled=o.isEnabled(),o.updateColors()}))),o._register(i.onDidChangeModelLanguage((function(){return o.updateColors()}))),o._register(r.colorProvider.onDidChange((function(){return o.updateColors()}))),o._register(i.onDidChangeConfiguration((function(t){var i=o._isColorDecoratorsEnabled;o._isColorDecoratorsEnabled=o.isEnabled(),o._isDefaultColorDecoratorsEnabled=o._editor.getOption(147);var n=i!==o._isColorDecoratorsEnabled||t.hasChanged(21),r=t.hasChanged(147);(n||r)&&(o._isColorDecoratorsEnabled?o.updateColors():o.removeAllDecorations())}))),o._timeoutTimer=null,o._computePromise=null,o._isColorDecoratorsEnabled=o.isEnabled(),o._isDefaultColorDecoratorsEnabled=o._editor.getOption(147),o.updateColors();return o}i.prototype.isEnabled=function(){var t=this._editor.getModel();if(!t)return!1;var i=t.getLanguageId(),n=this._configurationService.getValue(i);if(n&&typeof n=="object"){var r=n.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(20)};i.get=function(t){return t.getContribution(this.ID)};i.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),t.prototype.dispose.call(this)};i.prototype.updateColors=function(){var t=this;if(this.stop(),!this._isColorDecoratorsEnabled)return;var i=this._editor.getModel();i&&this._languageFeaturesService.colorProvider.has(i)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((function(){t._timeoutTimer||(t._timeoutTimer=new Ks,t._timeoutTimer.cancelAndSet((function(){t._timeoutTimer=null,t.beginCompute()}),t._debounceInformation.get(i)))}))),this.beginCompute())};i.prototype.beginCompute=function(){return __awaiter(this,void 0,void 0,(function(){var t,i;var n=this;return __generator(this,(function(r){switch(r.label){case 0:this._computePromise=Us((function(t){return __awaiter(n,void 0,void 0,(function(){var i,n,r;return __generator(this,(function(e){switch(e.label){case 0:i=this._editor.getModel();if(!i)return[2,[]];n=new In(!1);return[4,u4(this._languageFeaturesService.colorProvider,i,t,this._isDefaultColorDecoratorsEnabled)];case 1:r=e.sent();return[2,(this._debounceInformation.update(i,n.elapsed()),r)]}}))}))}));r.label=1;case 1:r.trys.push([1,3,,4]);return[4,this._computePromise];case 2:t=r.sent();this.updateDecorations(t),this.updateColorDecorators(t),this._computePromise=null;return[3,4];case 3:i=r.sent();cn(i);return[3,4];case 4:return[2]}}))}))};i.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()};i.prototype.updateDecorations=function(t){var i=this;var n=t.map((function(t){return{range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:iS.EMPTY}}));this._editor.changeDecorations((function(r){i._decorationsIds=r.deltaDecorations(i._decorationsIds,n),i._colorDatas=new Map,i._decorationsIds.forEach((function(n,r){return i._colorDatas.set(n,t[r])}))}))};i.prototype.updateColorDecorators=function(t){this._colorDecorationClassRefs.clear();var i=[],n=this._editor.getOption(21);for(var r=0;r<t.length&&i.length<n;r++){var e=t[r].colorInfo.color,o=e.red,s=e.green,u=e.blue,a=e.alpha,c=new KA(Math.round(255*o),Math.round(255*s),Math.round(255*u),a),h="rgba(".concat(c.r,", ").concat(c.g,", ").concat(c.b,", ").concat(c.a,")"),f=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:h}));i.push({range:{startLineNumber:t[r].colorInfo.range.startLineNumber,startColumn:t[r].colorInfo.range.startColumn,endLineNumber:t[r].colorInfo.range.endLineNumber,endColumn:t[r].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:" ",inlineClassName:"".concat(f.className," colorpicker-color-decoration"),inlineClassNameAffectsLetterSpacing:!0,attachedData:w4}}})}var l=n<t.length&&n;this._decoratorLimitReporter.update(t.length,l),this._colorDecoratorIds.set(i)};i.prototype.removeAllDecorations=function(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()};i.prototype.getColorData=function(t){var i=this;var n=this._editor.getModel();if(!n)return null;var r=n.getDecorationsInRange(Zr.fromPositions(t,t)).filter((function(t){return i._colorDatas.has(t.id)}));return r.length===0?null:this._colorDatas.get(r[0].id)};i.prototype.isColorDecoration=function(t){return this._colorDecoratorIds.has(t)};return i}(Cn);p4.ID="editor.contrib.colorDetector",p4.RECOMPUTE_TIME=1e3,p4=v4=A4([g4(1,sd),g4(2,gg),g4(3,zQ)],p4);var m4=function(){function t(){this._onDidChange=new Ln,this._computed=0,this._limited=!1}t.prototype.update=function(t,i){t===this._computed&&i===this._limited||(this._computed=t,this._limited=i,this._onDidChange.fire())};return t}();il(p4.ID,p4,1);var b4=function(){function t(t,i,n){this.presentationIndex=n,this._onColorFlushed=new Ln,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Ln,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Ln,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=i}Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:false,configurable:true});t.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)};t.prototype.guessColorPresentation=function(t,i){var n=-1;for(var r=0;r<this.colorPresentations.length;r++)if(i.toLowerCase()===this.colorPresentations[r].label){n=r;break}if(n===-1){var r=i.split("(")[0].toLowerCase();for(var e=0;e<this.colorPresentations.length;e++)if(this.colorPresentations[e].label.toLowerCase().startsWith(r)){n=e;break}}n!==-1&&n!==this.presentationIndex&&(this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation))};t.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)};return t}();var y4=Nc;var k4=function(t){__extends(i,t);function i(i,n,r,e){if(e===void 0){e=!1}var o=this;o=t.call(this)||this,o.model=n,o.showingStandaloneColorPicker=e,o._closeButton=null,o._domNode=y4(".colorpicker-header"),_c(i,o._domNode),o._pickedColorNode=_c(o._domNode,y4(".picked-color")),_c(o._pickedColorNode,y4("span.codicon.codicon-color-mode")),o._pickedColorPresentation=_c(o._pickedColorNode,document.createElement("span")),o._pickedColorPresentation.classList.add("picked-color-presentation");var s=Bt(0,"Click to toggle color options (rgb/hsl/hex)");o._pickedColorNode.setAttribute("title",s),o._originalColorNode=_c(o._domNode,y4(".original-color")),o._originalColorNode.style.backgroundColor=ZA.Format.CSS.format(o.model.originalColor)||"",o.backgroundColor=r.getColorTheme().getColor(im)||ZA.white,o._register(r.onDidColorThemeChange((function(t){o.backgroundColor=t.getColor(im)||ZA.white}))),o._register(Oa(o._pickedColorNode,Ec.CLICK,(function(){return o.model.selectNextColorPresentation()}))),o._register(Oa(o._originalColorNode,Ec.CLICK,(function(){o.model.color=o.model.originalColor,o.model.flushColor()}))),o._register(n.onDidChangeColor(o.onDidChangeColor,o)),o._register(n.onDidChangePresentation(o.onDidChangePresentation,o)),o._pickedColorNode.style.backgroundColor=ZA.Format.CSS.format(n.color)||"",o._pickedColorNode.classList.toggle("light",n.color.rgba.a<.5?o.backgroundColor.isLighter():n.color.isLighter()),o.onDidChangeColor(o.model.color),o.showingStandaloneColorPicker&&(o._domNode.classList.add("standalone-colorpicker"),o._closeButton=o._register(new x4(o._domNode)));return o}Object.defineProperty(i.prototype,"closeButton",{get:function(){return this._closeButton},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"pickedColorNode",{get:function(){return this._pickedColorNode},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"originalColorNode",{get:function(){return this._originalColorNode},enumerable:false,configurable:true});i.prototype.onDidChangeColor=function(t){this._pickedColorNode.style.backgroundColor=ZA.Format.CSS.format(t)||"",this._pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()};i.prototype.onDidChangePresentation=function(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""};return i}(Cn);var x4=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._onClicked=n._register(new Ln),n.onClicked=n._onClicked.event,n._button=document.createElement("div"),n._button.classList.add("close-button"),_c(i,n._button);var r=document.createElement("div");r.classList.add("close-button-inner-div"),_c(n._button,r),_c(r,y4(".button"+xh.asCSSSelector(DW("color-picker-close",re.close,Bt(0,"Icon to close the color picker"))))).classList.add("close-icon"),n._register(Oa(n._button,Ec.CLICK,(function(){n._onClicked.fire()})));return n}return i}(Cn);var E4=function(t){__extends(i,t);function i(i,n,r,e){if(e===void 0){e=!1}var o=this;o=t.call(this)||this,o.model=n,o.pixelRatio=r,o._insertButton=null,o._domNode=y4(".colorpicker-body"),_c(i,o._domNode),o._saturationBox=new B4(o._domNode,o.model,o.pixelRatio),o._register(o._saturationBox),o._register(o._saturationBox.onDidChange(o.onDidSaturationValueChange,o)),o._register(o._saturationBox.onColorFlushed(o.flushColor,o)),o._opacityStrip=new D4(o._domNode,o.model,e),o._register(o._opacityStrip),o._register(o._opacityStrip.onDidChange(o.onDidOpacityChange,o)),o._register(o._opacityStrip.onColorFlushed(o.flushColor,o)),o._hueStrip=new M4(o._domNode,o.model,e),o._register(o._hueStrip),o._register(o._hueStrip.onDidChange(o.onDidHueChange,o)),o._register(o._hueStrip.onColorFlushed(o.flushColor,o)),e&&(o._insertButton=o._register(new _4(o._domNode)),o._domNode.classList.add("standalone-colorpicker"));return o}i.prototype.flushColor=function(){this.model.flushColor()};i.prototype.onDidSaturationValueChange=function(t){var i=t.s,n=t.v;var r=this.model.color.hsva;this.model.color=new ZA(new qA(r.h,i,n,r.a))};i.prototype.onDidOpacityChange=function(t){var i=this.model.color.hsva;this.model.color=new ZA(new qA(i.h,i.s,i.v,t))};i.prototype.onDidHueChange=function(t){var i=this.model.color.hsva,n=360*(1-t);this.model.color=new ZA(new qA(n===360?0:n,i.s,i.v,i.a))};Object.defineProperty(i.prototype,"domNode",{get:function(){return this._domNode},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"saturationBox",{get:function(){return this._saturationBox},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"enterButton",{get:function(){return this._insertButton},enumerable:false,configurable:true});i.prototype.layout=function(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()};return i}(Cn);var B4=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.model=n,e.pixelRatio=r,e._onDidChange=new Ln,e.onDidChange=e._onDidChange.event,e._onColorFlushed=new Ln,e.onColorFlushed=e._onColorFlushed.event,e._domNode=y4(".saturation-wrap"),_c(i,e._domNode),e._canvas=document.createElement("canvas"),e._canvas.className="saturation-box",_c(e._domNode,e._canvas),e.selection=y4(".saturation-selection"),_c(e._domNode,e.selection),e.layout(),e._register(Oa(e._domNode,Ec.POINTER_DOWN,(function(t){return e.onPointerDown(t)}))),e._register(e.model.onDidChangeColor(e.onDidChangeColor,e)),e.monitor=null;return e}Object.defineProperty(i.prototype,"domNode",{get:function(){return this._domNode},enumerable:false,configurable:true});i.prototype.onPointerDown=function(t){var i=this;if(!(t.target&&t.target instanceof Element))return;this.monitor=this._register(new sp);var n=Ka(this._domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.pointerId,t.buttons,(function(t){return i.onDidChangePosition(t.pageX-n.left,t.pageY-n.top)}),(function(){return null}));var r=Oa(t.target.ownerDocument,Ec.POINTER_UP,(function(){i._onColorFlushed.fire(),r.dispose(),i.monitor&&(i.monitor.stopMonitoring(!0),i.monitor=null)}),!0)};i.prototype.onDidChangePosition=function(t,i){var n=Math.max(0,Math.min(1,t/this.width)),r=Math.max(0,Math.min(1,1-i/this.height));this.paintSelection(n,r),this._onDidChange.fire({s:n,v:r})};i.prototype.layout=function(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();var t=this.model.color.hsva;this.paintSelection(t.s,t.v)};i.prototype.paint=function(){var t=this.model.color.hsva,i=new ZA(new qA(t.h,1,1,1)),n=this._canvas.getContext("2d"),r=n.createLinearGradient(0,0,this._canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");var e=n.createLinearGradient(0,0,0,this._canvas.height);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this._canvas.width,this._canvas.height),n.fillStyle=ZA.Format.CSS.format(i),n.fill(),n.fillStyle=r,n.fill(),n.fillStyle=e,n.fill()};i.prototype.paintSelection=function(t,i){this.selection.style.left=t*this.width+"px",this.selection.style.top=this.height-i*this.height+"px"};i.prototype.onDidChangeColor=function(t){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();var i=t.hsva;this.paintSelection(i.s,i.v)};return i}(Cn);var C4=function(t){__extends(i,t);function i(i,n,r){if(r===void 0){r=!1}var e=this;e=t.call(this)||this,e.model=n,e._onDidChange=new Ln,e.onDidChange=e._onDidChange.event,e._onColorFlushed=new Ln,e.onColorFlushed=e._onColorFlushed.event,r?(e.domNode=_c(i,y4(".standalone-strip")),e.overlay=_c(e.domNode,y4(".standalone-overlay"))):(e.domNode=_c(i,y4(".strip")),e.overlay=_c(e.domNode,y4(".overlay"))),e.slider=_c(e.domNode,y4(".slider")),e.slider.style.top="0px",e._register(Oa(e.domNode,Ec.POINTER_DOWN,(function(t){return e.onPointerDown(t)}))),e._register(n.onDidChangeColor(e.onDidChangeColor,e)),e.layout();return e}i.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var t=this.getValue(this.model.color);this.updateSliderPosition(t)};i.prototype.onDidChangeColor=function(t){var i=this.getValue(t);this.updateSliderPosition(i)};i.prototype.onPointerDown=function(t){var i=this;if(!(t.target&&t.target instanceof Element))return;var n=this._register(new sp),r=Ka(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),n.startMonitoring(t.target,t.pointerId,t.buttons,(function(t){return i.onDidChangeTop(t.pageY-r.top)}),(function(){return null}));var e=Oa(t.target.ownerDocument,Ec.POINTER_UP,(function(){i._onColorFlushed.fire(),e.dispose(),n.stopMonitoring(!0),i.domNode.classList.remove("grabbing")}),!0)};i.prototype.onDidChangeTop=function(t){var i=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(i),this._onDidChange.fire(i)};i.prototype.updateSliderPosition=function(t){this.slider.style.top=(1-t)*this.height+"px"};return i}(Cn);var D4=function(t){__extends(i,t);function i(i,n,r){if(r===void 0){r=!1}var e=this;e=t.call(this,i,n,r)||this,e.domNode.classList.add("opacity-strip"),e.onDidChangeColor(e.model.color);return e}i.prototype.onDidChangeColor=function(i){t.prototype.onDidChangeColor.call(this,i);var n=i.rgba,r=n.r,e=n.g,o=n.b,s=new ZA(new KA(r,e,o,1)),u=new ZA(new KA(r,e,o,0));this.overlay.style.background="linear-gradient(to bottom, ".concat(s," 0%, ").concat(u," 100%)")};i.prototype.getValue=function(t){return t.hsva.a};return i}(C4);var M4=function(t){__extends(i,t);function i(i,n,r){if(r===void 0){r=!1}var e=this;e=t.call(this,i,n,r)||this,e.domNode.classList.add("hue-strip");return e}i.prototype.getValue=function(t){return 1-t.hsva.h/360};return i}(C4);var _4=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._onClicked=n._register(new Ln),n.onClicked=n._onClicked.event,n._button=_c(i,document.createElement("button")),n._button.classList.add("insert-button"),n._button.textContent="Insert",n._register(Oa(n._button,Ec.CLICK,(function(){n._onClicked.fire()})));return n}Object.defineProperty(i.prototype,"button",{get:function(){return this._button},enumerable:false,configurable:true});return i}(Cn);var F4=function(t){__extends(i,t);function i(i,n,r,e,o){if(o===void 0){o=!1}var s=this;s=t.call(this)||this,s.model=n,s.pixelRatio=r,s._register(qc.getInstance(ka(i)).onDidChange((function(){return s.layout()})));var u=y4(".colorpicker-widget");i.appendChild(u),s.header=s._register(new k4(u,s.model,e,o)),s.body=s._register(new E4(u,s.model,s.pixelRatio,o));return s}i.prototype.layout=function(){this.body.layout()};return i}(pk);var S4=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},I4=function(t,i){return function(n,r){i(n,r,t)}};var Q4=function(){function t(t,i,n,r){this.owner=t,this.range=i,this.model=n,this.provider=r,this.forceShowAtRange=!0}t.prototype.isValidForHoverAnchor=function(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn};return t}();var O4=function(){function t(t,i){this._editor=t,this._themeService=i,this.hoverOrdinal=2}t.prototype.computeSync=function(t,i){return[]};t.prototype.computeAsync=function(t,i,n){return eu.fromPromise(this._computeAsync(t,i,n))};t.prototype._computeAsync=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var t,n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:if(!this._editor.hasModel())return[2,[]];t=p4.get(this._editor);if(!t)return[2,[]];n=0,r=i;s.label=1;case 1:if(!(n<r.length))return[3,4];e=r[n];if(!t.isColorDecoration(e))return[3,3];o=t.getColorData(e.range.getStartPosition());if(!o)return[3,3];return[4,T4(this,this._editor.getModel(),o.colorInfo,o.provider)];case 2:return[2,[s.sent()]];case 3:n++;return[3,1];case 4:return[2,[]]}}))}))};t.prototype.renderHoverParts=function(t,i){return L4(this,this._editor,this._themeService,i,t)};return t}();O4=S4([I4(1,ex)],O4);var N4=function(){function t(t,i,n,r){this.owner=t,this.range=i,this.model=n,this.provider=r}return t}();var R4=function(){function t(t,i){this._editor=t,this._themeService=i,this._color=null}t.prototype.createColorHover=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u,a,c,h,f,l;var d;return __generator(this,(function(v){switch(v.label){case 0:if(!this._editor.hasModel()||!p4.get(this._editor))return[2,null];return[4,u4(n,this._editor.getModel(),Gn.None)];case 1:r=v.sent();e=null,o=null;for(s=0,u=r;s<u.length;s++){a=u[s];c=a.colorInfo;Zr.containsRange(c.range,t.range)&&(e=c,o=a.provider)}h=e!==null&&e!==void 0?e:t,f=o!==null&&o!==void 0?o:i,l=!!e;d={};return[4,T4(this,this._editor.getModel(),h,f)];case 2:return[2,(d.colorHover=v.sent(),d.foundInEditor=l,d)]}}))}))};t.prototype.updateEditorModel=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r;return __generator(this,(function(e){switch(e.label){case 0:if(!this._editor.hasModel())return[2];i=t.model;n=new Zr(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);r=this._color;if(!r)return[3,2];return[4,z4(this._editor.getModel(),i,this._color,n,t)];case 1:r=(e.sent(),n=j4(this._editor,n,i));e.label=2;case 2:r;return[2]}}))}))};t.prototype.renderHoverParts=function(t,i){return L4(this,this._editor,this._themeService,i,t)};Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t},enumerable:false,configurable:true});return t}();function T4(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,l,d;return __generator(this,(function(v){switch(v.label){case 0:e=i.getValueInRange(n.range),o=n.color,s=o.red,u=o.green,a=o.blue,c=o.alpha,h=new KA(Math.round(255*s),Math.round(255*u),Math.round(255*a),c),f=new ZA(h);return[4,a4(i,n,r,Gn.None)];case 1:l=v.sent(),d=new b4(f,[],0);return[2,(d.colorPresentations=l||[],d.guessColorPresentation(f,e),t instanceof O4?new Q4(t,Zr.lift(n.range),d,r):new N4(t,Zr.lift(n.range),d,r))]}}))}))}function L4(t,i,n,r,e){var o=this;if(r.length===0||!i.hasModel())return Cn.None;if(e.setMinimumDimensions){var s=i.getOption(67)+8;e.setMinimumDimensions(new Ga(302,s))}var u=new Bn,a=r[0],c=i.getModel(),h=a.model,f=u.add(new F4(e.fragment,h,i.getOption(143),n,t instanceof R4));e.setColorPicker(f);var l=!1,d=new Zr(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);if(t instanceof R4){var s=r[0].model.color;t.color=s,z4(c,h,s,d,a),u.add(h.onColorFlushed((function(i){t.color=i})))}else u.add(h.onColorFlushed((function(t){return __awaiter(o,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,z4(c,h,t,d,a)];case 1:n.sent(),l=!0,d=j4(i,d,h);return[2]}}))}))})));return u.add(h.onDidChangeColor((function(t){z4(c,h,t,d,a)}))),u.add(i.onDidChangeModelContent((function(t){l?l=!1:(e.hide(),i.focus())}))),u}function j4(t,i,n){var r,e;var o=[],s=(r=n.presentation.textEdit)!==null&&r!==void 0?r:{range:i,text:n.presentation.label,forceMoveMarkers:!1};o.push(s),n.presentation.additionalTextEdits&&o.push.apply(o,n.presentation.additionalTextEdits);var u=Zr.lift(s.range),a=t.getModel()._setTrackedRange(null,u,3);return t.executeEdits("colorpicker",o),t.pushUndoStop(),(e=t.getModel()._getTrackedRange(a))!==null&&e!==void 0?e:u}function z4(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(s){switch(s.label){case 0:return[4,a4(t,{range:r,color:{red:n.rgba.r/255,green:n.rgba.g/255,blue:n.rgba.b/255,alpha:n.rgba.a}},e.provider,Gn.None)];case 1:o=s.sent();i.colorPresentations=o||[];return[2]}}))}))}function U4(t,i){return!!t[i]}R4=S4([I4(1,ex)],R4);var H4=function(){function t(t,i){this.target=t.target,this.isLeftClick=t.event.leftButton,this.isMiddleClick=t.event.middleButton,this.isRightClick=t.event.rightButton,this.hasTriggerModifier=U4(t.event,i.triggerModifier),this.hasSideBySideModifier=U4(t.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}return t}();var Y4=function(){function t(t,i){this.keyCodeIsTriggerKey=t.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=U4(t,i.triggerModifier)}return t}();var J4=function(){function t(t,i,n,r){this.triggerKey=t,this.triggerModifier=i,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=r}t.prototype.equals=function(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier};return t}();function P4(t){return t==="altKey"?Gt?new J4(57,"metaKey",6,"altKey"):new J4(5,"ctrlKey",6,"altKey"):Gt?new J4(6,"altKey",57,"metaKey"):new J4(6,"altKey",5,"ctrlKey")}var W4=function(t){__extends(i,t);function i(i,n){var r=this;var e;r=t.call(this)||this,r._onMouseMoveOrRelevantKeyDown=r._register(new Ln),r.onMouseMoveOrRelevantKeyDown=r._onMouseMoveOrRelevantKeyDown.event,r._onExecute=r._register(new Ln),r.onExecute=r._onExecute.event,r._onCancel=r._register(new Ln),r.onCancel=r._onCancel.event,r._editor=i,r._extractLineNumberFromMouseEvent=(e=n==null?void 0:n.extractLineNumberFromMouseEvent)!==null&&e!==void 0?e:function(t){return t.target.position?t.target.position.lineNumber:0},r._opts=P4(r._editor.getOption(78)),r._lastMouseMoveEvent=null,r._hasTriggerKeyOnMouseDown=!1,r._lineNumberOnMouseDown=0,r._register(r._editor.onDidChangeConfiguration((function(t){if(t.hasChanged(78)){var i=P4(r._editor.getOption(78));if(r._opts.equals(i))return;r._opts=i,r._lastMouseMoveEvent=null,r._hasTriggerKeyOnMouseDown=!1,r._lineNumberOnMouseDown=0,r._onCancel.fire()}}))),r._register(r._editor.onMouseMove((function(t){return r._onEditorMouseMove(new H4(t,r._opts))}))),r._register(r._editor.onMouseDown((function(t){return r._onEditorMouseDown(new H4(t,r._opts))}))),r._register(r._editor.onMouseUp((function(t){return r._onEditorMouseUp(new H4(t,r._opts))}))),r._register(r._editor.onKeyDown((function(t){return r._onEditorKeyDown(new Y4(t,r._opts))}))),r._register(r._editor.onKeyUp((function(t){return r._onEditorKeyUp(new Y4(t,r._opts))}))),r._register(r._editor.onMouseDrag((function(){return r._resetHandler()}))),r._register(r._editor.onDidChangeCursorSelection((function(t){return r._onDidChangeCursorSelection(t)}))),r._register(r._editor.onDidChangeModel((function(t){return r._resetHandler()}))),r._register(r._editor.onDidChangeModelContent((function(){return r._resetHandler()}))),r._register(r._editor.onDidScrollChange((function(t){(t.scrollTopChanged||t.scrollLeftChanged)&&r._resetHandler()})));return r}i.prototype._onDidChangeCursorSelection=function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()};i.prototype._onEditorMouseMove=function(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])};i.prototype._onEditorMouseDown=function(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(t)};i.prototype._onEditorMouseUp=function(t){var i=this._extractLineNumberFromMouseEvent(t);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(t)};i.prototype._onEditorKeyDown=function(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()};i.prototype._onEditorKeyUp=function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()};i.prototype._resetHandler=function(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()};return i}(Cn);var G4=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},V4=function(t,i){return function(n,r){i(n,r,t)}};var K4=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l,d){var v=this;v=t.call(this,i,__assign(__assign({},e.getRawOptions()),{overflowWidgetsDomNode:e.getOverflowWidgetsDomNode()}),r,o,s,u,a,c,h,f,l,d)||this,v._parentEditor=e,v._overwriteOptions=n,t.prototype.updateOptions.call(v,v._overwriteOptions),v._register(e.onDidChangeConfiguration((function(t){return v._onParentConfigurationChanged(t)})));return v}i.prototype.getParentEditor=function(){return this._parentEditor};i.prototype._onParentConfigurationChanged=function(i){t.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),t.prototype.updateOptions.call(this,this._overwriteOptions)};i.prototype.updateOptions=function(i){bt(this._overwriteOptions,i,!0),t.prototype.updateOptions.call(this,this._overwriteOptions)};return i}(KI);K4=G4([V4(4,fh),V4(5,dh),V4(6,Eh),V4(7,hf),V4(8,ex),V4(9,PI),V4(10,Kw),V4(11,jd),V4(12,gg)],K4);var X4=new ZA(new KA(0,122,204)),q4={showArrow:!0,showFrame:!0,className:"",frameColor:X4,arrowColor:X4,keepEditorSelection:!1};var Z4=function(){function t(t,i,n,r,e,o,s,u){this.id="",this.domNode=t,this.afterLineNumber=i,this.afterColumn=n,this.heightInLines=r,this.showInHiddenAreas=s,this.ordinal=u,this._onDomNodeTop=e,this._onComputedHeight=o}t.prototype.onDomNodeTop=function(t){this._onDomNodeTop(t)};t.prototype.onComputedHeight=function(t){this._onComputedHeight(t)};return t}();var $4=function(){function t(t,i){this._id=t,this._domNode=i}t.prototype.getId=function(){return this._id};t.prototype.getDomNode=function(){return this._domNode};t.prototype.getPosition=function(){return null};return t}();var t3=function(){function t(i){this._editor=i,this._ruleName=t._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}t.prototype.dispose=function(){this.hide(),bc(this._ruleName)};Object.defineProperty(t.prototype,"color",{set:function(t){this._color!==t&&(this._color=t,this._updateStyle())},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"height",{set:function(t){this._height!==t&&(this._height=t,this._updateStyle())},enumerable:false,configurable:true});t.prototype._updateStyle=function(){bc(this._ruleName),mc(".monaco-editor ".concat(this._ruleName),"border-style: solid; border-color: transparent; border-bottom-color: ".concat(this._color,"; border-width: ").concat(this._height,"px; bottom: -").concat(this._height,"px !important; margin-left: -").concat(this._height,"px; "))};t.prototype.show=function(t){t.column===1&&(t={lineNumber:t.lineNumber,column:2}),this._decorations.set([{range:Zr.fromPositions(t),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])};t.prototype.hide=function(){this._decorations.clear()};return t}();t3._IdGenerator=new lR(".arrow-decoration-");var i3=function(){function t(t,i){if(i===void 0){i={}}var n=this;this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new Bn,this.container=null,this._isShowing=!1,this.editor=t,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=gt(i),bt(this.options,q4,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((function(t){var i=n._getWidth(t);n.domNode.style.width=i+"px",n.domNode.style.left=n._getLeft(t)+"px",n._onWidth(i)})))}t.prototype.dispose=function(){var t=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((function(i){t._viewZone&&i.removeZone(t._viewZone.id),t._viewZone=null})),this._positionMarkerId.clear(),this._disposables.dispose()};t.prototype.create=function(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new t3(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()};t.prototype.style=function(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()};t.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}};t.prototype._getWidth=function(t){return t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth};t.prototype._getLeft=function(t){return t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?t.minimap.minimapWidth:0};t.prototype._onViewZoneTop=function(t){this.domNode.style.top=t+"px"};t.prototype._onViewZoneHeight=function(t){var i;if(this.domNode.style.height="".concat(t,"px"),this.container){var n=t-this._decoratingElementsHeight();this.container.style.height="".concat(n,"px");var r=this.editor.getLayoutInfo();this._doLayout(n,this._getWidth(r))}(i=this._resizeSash)===null||i===void 0||i.layout()};Object.defineProperty(t.prototype,"position",{get:function(){var t=this._positionMarkerId.getRange(0);if(t)return t.getStartPosition()},enumerable:false,configurable:true});t.prototype.show=function(t,i){var n=Zr.isIRange(t)?Zr.lift(t):Zr.fromPositions(t);this._isShowing=!0,this._showImpl(n,i),this._isShowing=!1,this._positionMarkerId.set([{range:n,options:iS.EMPTY}])};t.prototype.hide=function(){var t=this;var i;this._viewZone&&(this.editor.changeViewZones((function(i){t._viewZone&&i.removeZone(t._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(i=this._arrow)===null||i===void 0||i.hide(),this._positionMarkerId.clear()};t.prototype._decoratingElementsHeight=function(){var t=this.editor.getOption(67);var i=0;return this.options.showArrow&&(i+=2*Math.round(t/3)),this.options.showFrame&&(i+=2*Math.round(t/9)),i};t.prototype._showImpl=function(t,i){var n=this;var r=t.getStartPosition(),e=this.editor.getLayoutInfo(),o=this._getWidth(e);this.domNode.style.width="".concat(o,"px"),this.domNode.style.left=this._getLeft(e)+"px";var s=document.createElement("div");s.style.overflow="hidden";var u=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){var a=Math.max(12,this.editor.getLayoutInfo().height/u*.8);i=Math.min(i,a)}var c=0,h=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(u/3),this._arrow.height=c,this._arrow.show(r)),this.options.showFrame&&(h=Math.round(u/9)),this.editor.changeViewZones((function(t){n._viewZone&&t.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new Z4(s,r.lineNumber,r.column,i,(function(t){return n._onViewZoneTop(t)}),(function(t){return n._onViewZoneHeight(t)}),n.options.showInHiddenAreas,n.options.ordinal),n._viewZone.id=t.addZone(n._viewZone),n._overlayWidget=new $4("vs.editor.contrib.zoneWidget"+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)})),this.container&&this.options.showFrame){var a=this.options.frameWidth?this.options.frameWidth:h;this.container.style.borderTopWidth=a+"px",this.container.style.borderBottomWidth=a+"px"}var f=i*u-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=f+"px",this.container.style.overflow="hidden"),this._doLayout(f,o),this.options.keepEditorSelection||this.editor.setSelection(t);var l=this.editor.getModel();if(l){var a=l.validateRange(new Zr(t.startLineNumber,1,t.endLineNumber+1,1));this.revealRange(a,a.startLineNumber===l.getLineCount())}};t.prototype.revealRange=function(t,i){i?this.editor.revealLineNearTop(t.endLineNumber,0):this.editor.revealRange(t,0)};t.prototype.setCssClass=function(t,i){this.container&&(i&&this.container.classList.remove(i),this.container.classList.add(t))};t.prototype._onWidth=function(t){};t.prototype._doLayout=function(t,i){};t.prototype._relayout=function(t){var i=this;this._viewZone&&this._viewZone.heightInLines!==t&&this.editor.changeViewZones((function(n){i._viewZone&&(i._viewZone.heightInLines=t,n.layoutZone(i._viewZone.id))}))};t.prototype._initSash=function(){var t=this;if(this._resizeSash)return;var i;this._resizeSash=this._disposables.add(new yH(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((function(n){t._viewZone&&(i={startY:n.startY,heightInLines:t._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((function(){i=void 0}))),this._disposables.add(this._resizeSash.onDidChange((function(n){if(i){var r=(n.currentY-i.startY)/t.editor.getOption(67),e=r<0?Math.ceil(r):Math.floor(r),o=i.heightInLines+e;o>5&&o<35&&t._relayout(o)}})))};t.prototype.getHorizontalSashLeft=function(){return 0};t.prototype.getHorizontalSashTop=function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2};t.prototype.getHorizontalSashWidth=function(){var t=this.editor.getLayoutInfo();return t.width-t.minimap.minimapWidth};return t}();var n3=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},r3=function(t,i){return function(n,r){i(n,r,t)}};var e3=lh("IPeekViewService");var o3;Ad(e3,function(){function t(){this._widgets=new Map}t.prototype.addExclusiveWidget=function(t,i){var n=this;var r=this._widgets.get(t);r&&(r.listener.dispose(),r.widget.dispose()),this._widgets.set(t,{widget:i,listener:i.onDidClose((function(){var r=n._widgets.get(t);r&&r.widget===i&&(r.listener.dispose(),n._widgets.delete(t))}))})};return t}(),1),function(t){t.inPeekEditor=new cf("inReferenceSearchEditor",!0,Bt(0,"Whether the current code editor is embedded inside peek")),t.notInPeekEditor=t.inPeekEditor.toNegated()}(o3||(o3={}));var s3=function(){function t(t,i){t instanceof K4&&o3.inPeekEditor.bindTo(i)}t.prototype.dispose=function(){};return t}();s3.ID="editor.contrib.referenceController",s3=n3([r3(1,hf)],s3),il(s3.ID,s3,0);var u3={headerBackgroundColor:ZA.white,primaryHeadingColor:ZA.fromHex("#333333"),secondaryHeadingColor:ZA.fromHex("#6c6c6cb3")};var a3=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,n)||this,e.instantiationService=r,e._onDidClose=new Ln,e.onDidClose=e._onDidClose.event,bt(e.options,u3,!1);return e}i.prototype.dispose=function(){this.disposed||(this.disposed=!0,t.prototype.dispose.call(this),this._onDidClose.fire(this))};i.prototype.style=function(i){var n=this.options;i.headerBackgroundColor&&(n.headerBackgroundColor=i.headerBackgroundColor),i.primaryHeadingColor&&(n.primaryHeadingColor=i.primaryHeadingColor),i.secondaryHeadingColor&&(n.secondaryHeadingColor=i.secondaryHeadingColor),t.prototype.style.call(this,i)};i.prototype._applyStyles=function(){t.prototype._applyStyles.call(this);var i=this.options;this._headElement&&i.headerBackgroundColor&&(this._headElement.style.backgroundColor=i.headerBackgroundColor.toString()),this._primaryHeading&&i.primaryHeadingColor&&(this._primaryHeading.style.color=i.primaryHeadingColor.toString()),this._secondaryHeading&&i.secondaryHeadingColor&&(this._secondaryHeading.style.color=i.secondaryHeadingColor.toString()),this._bodyElement&&i.frameColor&&(this._bodyElement.style.borderColor=i.frameColor.toString())};i.prototype._fillContainer=function(t){this.setCssClass("peekview-widget"),this._headElement=Nc(".head"),this._bodyElement=Nc(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)};i.prototype._fillHead=function(t,i){var n=this;this._titleElement=Nc(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),Ra(this._titleElement,"click",(function(t){return n._onTitleClick(t)}))),_c(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=Nc("span.filename"),this._secondaryHeading=Nc("span.dirname"),this._metaHeading=Nc("span.meta"),_c(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);var r=Nc(".peekview-actions");_c(this._headElement,r);var e=this._getActionBarOptions();this._actionbarWidget=new cU(r,e),this._disposables.add(this._actionbarWidget),i||this._actionbarWidget.push(new gh("peekview.close",Bt(0,"Close"),xh.asClassName(re.close),!0,(function(){return n.dispose(),Promise.resolve()})),{label:!1,icon:!0})};i.prototype._fillTitleIcon=function(t){};i.prototype._getActionBarOptions=function(){return{actionViewItemProvider:aU.bind(void 0,this.instantiationService),orientation:0}};i.prototype._onTitleClick=function(t){};i.prototype.setTitle=function(t,i){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),i?this._secondaryHeading.innerText=i:Ia(this._secondaryHeading))};i.prototype.setMetaTitle=function(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,Rc(this._metaHeading)):Tc(this._metaHeading))};i.prototype._doLayout=function(t,i){if(!this._isShowing&&t<0)return void this.dispose();var n=Math.ceil(1.2*this.editor.getOption(67)),r=Math.round(t-(n+2));this._doLayoutHead(n,i),this._doLayoutBody(r,i)};i.prototype._doLayoutHead=function(t,i){this._headElement&&(this._headElement.style.height="".concat(t,"px"),this._headElement.style.lineHeight=this._headElement.style.height)};i.prototype._doLayoutBody=function(t,i){this._bodyElement&&(this._bodyElement.style.height="".concat(t,"px"))};return i}(i3);a3=n3([r3(2,fh)],a3);var c3=fp("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Background color of the peek view title area.")),h3=fp("peekViewTitleLabel.foreground",{dark:ZA.white,light:ZA.black,hcDark:ZA.white,hcLight:Np},Bt(0,"Color of the peek view title.")),f3=fp("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},Bt(0,"Color of the peek view title info.")),l3=fp("peekView.border",{dark:Jp,light:Jp,hcDark:Ep,hcLight:Ep},Bt(0,"Color of the peek view borders and arrow.")),d3=fp("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Background color of the peek view result list."));fp("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:ZA.white,hcLight:Np},Bt(0,"Foreground color for line nodes in the peek view result list.")),fp("peekViewResult.fileForeground",{dark:ZA.white,light:"#1E1E1E",hcDark:ZA.white,hcLight:Np},Bt(0,"Foreground color for file nodes in the peek view result list.")),fp("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},Bt(0,"Background color of the selected entry in the peek view result list.")),fp("peekViewResult.selectionForeground",{dark:ZA.white,light:"#6C6C6C",hcDark:ZA.white,hcLight:Np},Bt(0,"Foreground color of the selected entry in the peek view result list."));var v3=fp("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:ZA.black,hcLight:ZA.white},Bt(0,"Background color of the peek view editor."));fp("peekViewEditorGutter.background",{dark:v3,light:v3,hcDark:v3,hcLight:v3},Bt(0,"Background color of the gutter in the peek view editor.")),fp("peekViewEditorStickyScroll.background",{dark:v3,light:v3,hcDark:v3,hcLight:v3},Bt(0,"Background color of sticky scroll in the peek view editor.")),fp("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},Bt(0,"Match highlight color in the peek view result list.")),fp("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},Bt(0,"Match highlight color in the peek view editor.")),fp("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Bp,hcLight:Bp},Bt(0,"Match highlight border in the peek view editor."));var A3=function(){function t(t,i,n,r){this.isProviderFirst=t,this.parent=i,this.link=n,this._rangeCallback=r,this.id=dR.nextId()}Object.defineProperty(t.prototype,"uri",{get:function(){return this.link.uri},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"range",{get:function(){var t,i;return(i=(t=this._range)!==null&&t!==void 0?t:this.link.targetSelectionRange)!==null&&i!==void 0?i:this.link.range},set:function(t){this._range=t,this._rangeCallback(this)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"ariaMessage",{get:function(){var t;var i=(t=this.parent.getPreview(this))===null||t===void 0?void 0:t.preview(this.range);return i?Bt(0,"{0} in {1} on line {2} at column {3}",i.value,t_(this.uri),this.range.startLineNumber,this.range.startColumn):Bt(0,"in {0} on line {1} at column {2}",t_(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:false,configurable:true});return t}();var g3=function(){function t(t){this._modelReference=t}t.prototype.dispose=function(){this._modelReference.dispose()};t.prototype.preview=function(t,i){if(i===void 0){i=8}var n=this._modelReference.object.textEditorModel;if(!n)return;var r=t.startLineNumber,e=t.startColumn,o=t.endLineNumber,s=t.endColumn,u=n.getWordUntilPosition({lineNumber:r,column:e-i}),a=new Zr(r,u.startColumn,r,e),c=new Zr(o,s,o,1073741824),h=n.getValueInRange(a).replace(/^\s+/,""),f=n.getValueInRange(t);return{value:h+f+n.getValueInRange(c).replace(/\s+$/,""),highlight:{start:h.length,end:h.length+f.length}}};return t}();var w3=function(){function t(t,i){this.parent=t,this.uri=i,this.children=[],this._previews=new yv}t.prototype.dispose=function(){kn(this._previews.values()),this._previews.clear()};t.prototype.getPreview=function(t){return this._previews.get(t.uri)};Object.defineProperty(t.prototype,"ariaMessage",{get:function(){var t=this.children.length;return t===1?Bt(0,"1 symbol in {0}, full path {1}",t_(this.uri),this.uri.fsPath):Bt(0,"{0} symbols in {1}, full path {2}",t,t_(this.uri),this.uri.fsPath)},enumerable:false,configurable:true});t.prototype.resolve=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:if(this._previews.size!==0)return[2,this];i=0,n=this.children;s.label=1;case 1:if(!(i<n.length))return[3,6];r=n[i];if(!!this._previews.has(r.uri))return[3,5];s.label=2;case 2:s.trys.push([2,4,,5]);return[4,t.createModelReference(r.uri)];case 3:e=s.sent();this._previews.set(r.uri,new g3(e));return[3,5];case 4:o=s.sent();cn(o);return[3,5];case 5:i++;return[3,1];case 6:return[2,this]}}))}))};return t}();var p3=function(){function t(i,n){var r=this;this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Ln,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=i,this._title=n;var e=i[0];var o;i.sort(t._compareReferences);for(var s=0,u=i;s<u.length;s++){var a=u[s];if(o&&qM.isEqual(o.uri,a.uri,!0)||(o=new w3(this,a.uri),this.groups.push(o)),o.children.length===0||t._compareReferences(a,o.children[o.children.length-1])!==0){var c=new A3(e===a,o,a,(function(t){return r._onDidChangeReferenceRange.fire(t)}));this.references.push(c),o.children.push(c)}}}t.prototype.dispose=function(){kn(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0};t.prototype.clone=function(){return new t(this._links,this._title)};Object.defineProperty(t.prototype,"title",{get:function(){return this._title},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.groups.length===0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"ariaMessage",{get:function(){return this.isEmpty?Bt(0,"No results found"):this.references.length===1?Bt(0,"Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?Bt(0,"Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Bt(0,"Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:false,configurable:true});t.prototype.nextOrPreviousReference=function(t,i){var n=t.parent;var r=n.children.indexOf(t);var e=n.children.length,o=n.parent.groups.length;return o===1||i&&r+1<e||!i&&r>0?(r=i?(r+1)%e:(r+e-1)%e,n.children[r]):(r=n.parent.groups.indexOf(n),i?(r=(r+1)%o,n.parent.groups[r].children[0]):(r=(r+o-1)%o,n.parent.groups[r].children[n.parent.groups[r].children.length-1]))};t.prototype.nearestReference=function(t,i){var n=this.references.map((function(n,r){return{idx:r,prefixLen:Ho(n.uri.toString(),t.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-i.lineNumber)+Math.abs(n.range.startColumn-i.column)}})).sort((function(t,i){return t.prefixLen>i.prefixLen?-1:t.prefixLen<i.prefixLen?1:t.offsetDist<i.offsetDist?-1:t.offsetDist>i.offsetDist?1:0}))[0];if(n)return this.references[n.idx]};t.prototype.referenceAt=function(t,i){for(var n=0,r=this.references;n<r.length;n++){var e=r[n];if(e.uri.toString()===t.toString()&&Zr.containsPosition(e.range,i))return e}};t.prototype.firstReference=function(){for(var t=0,i=this.references;t<i.length;t++){var n=i[t];if(n.isProviderFirst)return n}return this.references[0]};t._compareReferences=function(t,i){return qM.compare(t.uri,i.uri)||Zr.compareRangesUsingStarts(t.range,i.range)};return t}();var m3,b3=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},y3=function(t,i){return function(n,r){i(n,r,t)}};var k3=function(){function t(t){this._resolverService=t}t.prototype.hasChildren=function(t){return t instanceof p3||t instanceof w3};t.prototype.getChildren=function(t){if(t instanceof p3)return t.groups;if(t instanceof w3)return t.resolve(this._resolverService).then((function(t){return t.children}));throw new Error("bad tree")};return t}();k3=b3([y3(0,Ah)],k3);var x3=function(){function t(){}t.prototype.getHeight=function(){return 23};t.prototype.getTemplateId=function(t){return t instanceof w3?D3.id:_3.id};return t}();var E3=function(){function t(t){this._keybindingService=t}t.prototype.getKeyboardNavigationLabel=function(t){var i;if(t instanceof A3){var n=(i=t.parent.getPreview(t))===null||i===void 0?void 0:i.preview(t.range);if(n)return n.value}return t_(t.uri)};return t}();E3=b3([y3(0,vE)],E3);var B3=function(){function t(){}t.prototype.getId=function(t){return t instanceof A3?t.id:t.uri};return t}();var C3=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._labelService=n;var e=document.createElement("div");e.classList.add("reference-file"),r.file=r._register(new lP(e,{supportHighlights:!0})),r.badge=new JP(_c(e,Nc(".count")),{},Gz),i.appendChild(e);return r}i.prototype.set=function(t,i){var n=n_(t.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(t.uri),this._labelService.getUriLabel(n,{relative:!0}),{title:this._labelService.getUriLabel(t.uri),matches:i});var r=t.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(Bt(0,"{0} references",r)):this.badge.setTitleFormat(Bt(0,"{0} reference",r))};return i}(Cn);C3=b3([y3(1,XT)],C3);var D3=m3=function(){function t(i){this._instantiationService=i,this.templateId=t.id}t.prototype.renderTemplate=function(t){return this._instantiationService.createInstance(C3,t)};t.prototype.renderElement=function(t,i,n){n.set(t.element,ON(t.filterData))};t.prototype.disposeTemplate=function(t){t.dispose()};return t}();D3.id="FileReferencesRenderer",D3=m3=b3([y3(0,fh)],D3);var M3=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.label=n._register(new hP(i));return n}i.prototype.set=function(t,i){var n;var r=(n=t.parent.getPreview(t))===null||n===void 0?void 0:n.preview(t.range);if(r&&r.value){var e=r.value,o=r.highlight;i&&!WN.isDefault(i)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,ON(i))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[o]))}else this.label.set("".concat(t_(t.uri),":").concat(t.range.startLineNumber+1,":").concat(t.range.startColumn+1))};return i}(Cn);var _3=function(){function t(){this.templateId=t.id}t.prototype.renderTemplate=function(t){return new M3(t)};t.prototype.renderElement=function(t,i,n){n.set(t.element,t.filterData)};t.prototype.disposeTemplate=function(t){t.dispose()};return t}();_3.id="OneReferenceRenderer";var F3=function(){function t(){}t.prototype.getWidgetAriaLabel=function(){return Bt(0,"References")};t.prototype.getAriaLabel=function(t){return t.ariaMessage};return t}();var S3=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},I3=function(t,i){return function(n,r){i(n,r,t)}};var Q3=function(){function t(t,i){var n=this;this._editor=t,this._model=i,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Bn,this._callOnModelChange=new Bn,this._callOnDispose.add(this._editor.onDidChangeModel((function(){return n._onModelChanged()}))),this._onModelChanged()}t.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()};t.prototype._onModelChanged=function(){this._callOnModelChange.clear();var t=this._editor.getModel();if(t){for(var i=0,n=this._model.references;i<n.length;i++){var r=n[i];if(r.uri.toString()===t.uri.toString())return void this._addDecorations(r.parent)}}};t.prototype._addDecorations=function(i){var n=this;if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(){return n._onDecorationChanged()})));var r=[],e=[];for(var o=0,s=i.children.length;o<s;o++){var u=i.children[o];this._decorationIgnoreSet.has(u.id)||u.uri.toString()===this._editor.getModel().uri.toString()&&(r.push({range:u.range,options:t.DecorationOptions}),e.push(o))}this._editor.changeDecorations((function(t){var o=t.deltaDecorations([],r);for(var s=0;s<o.length;s++)n._decorations.set(o[s],i.children[e[s]])}))};t.prototype._onDecorationChanged=function(){var t=[],i=this._editor.getModel();if(i){for(var n=0,r=this._decorations;n<r.length;n++){var e=r[n],o=e[0],s=e[1];var u=i.getDecorationRange(o);if(!u)continue;var a=!1;Zr.equalsRange(u,s.range)||((Zr.spansMultipleLines(u)||s.range.endColumn-s.range.startColumn!==u.endColumn-u.startColumn)&&(a=!0),a?(this._decorationIgnoreSet.add(s.id),t.push(o)):s.range=u)}for(var o=0,s=t.length;o<s;o++)this._decorations.delete(t[o]);this._editor.removeDecorations(t)}};t.prototype.removeDecorations=function(){this._editor.removeDecorations(__spreadArray([],this._decorations.keys(),true)),this._decorations.clear()};return t}();Q3.DecorationOptions=iS.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var O3=function(){function t(){this.ratio=.7,this.heightInLines=18}t.fromJSON=function(t){var i,n;try{var r=JSON.parse(t);i=r.ratio,n=r.heightInLines}catch(t){}return{ratio:i||.7,heightInLines:n||18}};return t}();var N3=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i}(eP);var R3=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l){var d=this;d=t.call(this,i,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s)||this,d._defaultTreeKeyboardSupport=n,d.layoutData=r,d._textModelResolverService=o,d._instantiationService=s,d._peekViewService=u,d._uriLabel=a,d._undoRedoService=c,d._keybindingService=h,d._languageService=f,d._languageConfigurationService=l,d._disposeOnNewModel=new Bn,d._callOnDispose=new Bn,d._onDidSelectReference=new Ln,d.onDidSelectReference=d._onDidSelectReference.event,d._dim=new Ga(0,0),d._applyTheme(e.getColorTheme()),d._callOnDispose.add(e.onDidColorThemeChange(d._applyTheme.bind(d))),d._peekViewService.addExclusiveWidget(i,d),d.create();return d}i.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),kn(this._preview),kn(this._previewNotAvailableMessage),kn(this._tree),kn(this._previewModelReference),this._splitView.dispose(),t.prototype.dispose.call(this)};i.prototype._applyTheme=function(t){var i=t.getColor(l3)||ZA.transparent;this.style({arrowColor:i,frameColor:i,headerBackgroundColor:t.getColor(c3)||ZA.transparent,primaryHeadingColor:t.getColor(h3),secondaryHeadingColor:t.getColor(f3)})};i.prototype.show=function(i){t.prototype.show.call(this,i,this.layoutData.heightInLines||18)};i.prototype.focusOnReferenceTree=function(){this._tree.domFocus()};i.prototype.focusOnPreviewEditor=function(){this._preview.focus()};i.prototype.isPreviewEditorFocused=function(){return this._preview.hasTextFocus()};i.prototype._onTitleClick=function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})};i.prototype._fillBody=function(t){var i=this;this.setCssClass("reference-zone-widget"),this._messageContainer=_c(t,Nc("div.messages")),Tc(this._messageContainer),this._splitView=new MH(t,{orientation:1}),this._previewContainer=_c(t,Nc("div.preview.inline")),this._preview=this._instantiationService.createInstance(K4,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},{},this.editor),Tc(this._previewContainer),this._previewNotAvailableMessage=new PF(Bt(0,"no preview available"),Fd,PF.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=_c(t,Nc("div.ref-tree.inline"));var n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new F3,keyboardNavigationLabelProvider:this._instantiationService.createInstance(E3),identityProvider:new B3,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:d3}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Ra(this._treeContainer,"keydown",(function(t){t.equals(9)&&(i._keybindingService.dispatchEvent(t,t.target),t.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(N3,"ReferencesWidget",this._treeContainer,new x3,[this._instantiationService.createInstance(D3),this._instantiationService.createInstance(_3)],this._instantiationService.createInstance(k3),n),this._splitView.addView({onDidChange:Qn.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(t){i._preview.layout({height:i._dim.height,width:t})}},DH.Distribute),this._splitView.addView({onDidChange:Qn.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(t){i._treeContainer.style.height="".concat(i._dim.height,"px"),i._treeContainer.style.width="".concat(t,"px"),i._tree.layout(i._dim.height,t)}},DH.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){i._dim.width&&(i.layoutData.ratio=i._splitView.getViewSize(0)/i._dim.width)}),void 0));var r=function(t,n){t instanceof A3&&(n==="show"&&i._revealReference(t,!1),i._onDidSelectReference.fire({element:t,kind:n,source:"tree"}))};this._tree.onDidOpen((function(t){t.sideBySide?r(t.element,"side"):t.editorOptions.pinned?r(t.element,"goto"):r(t.element,"show")})),Tc(this._treeContainer)};i.prototype._onWidth=function(t){this._dim&&this._doLayoutBody(this._dim.height,t)};i.prototype._doLayoutBody=function(i,n){t.prototype._doLayoutBody.call(this,i,n),this._dim=new Ga(n,i),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)};i.prototype.setSelection=function(t){var i=this;return this._revealReference(t,!0).then((function(){i._model&&(i._tree.setSelection([t]),i._tree.setFocus([t]))}))};i.prototype.setModel=function(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()};i.prototype._onNewModel=function(){var t=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=Bt(0,"No results"),Rc(this._messageContainer),Promise.resolve(void 0)):(Tc(this._messageContainer),this._decorationsManager=new Q3(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(i){return t._tree.rerender(i)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(i){var n=i.event,r=i.target;if(n.detail!==2)return;var e=t._getFocusedReference();e&&t._onDidSelectReference.fire({element:{uri:e.uri,range:r.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),Rc(this._treeContainer),Rc(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)};i.prototype._getFocusedReference=function(){var t=this._tree.getFocus()[0];return t instanceof A3?t:t instanceof w3&&t.children.length>0?t.children[0]:void 0};i.prototype.revealReference=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,this._revealReference(t,!1)];case 1:i.sent(),this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"});return[2]}}))}))};i.prototype._revealReference=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:if(this._revealedReference===t)return[2];this._revealedReference=t,t.uri.scheme!==oa.inMemory?this.setTitle($M(t.uri),this._uriLabel.getUriLabel(n_(t.uri))):this.setTitle(Bt(0,"References"));n=this._textModelResolverService.createModelReference(t.uri);r=this._tree.getInput()===t.parent;if(r)return[3,2];i&&this._tree.reveal(t.parent);return[4,this._tree.expand(t.parent)];case 1:r=a.sent();a.label=2;case 2:r,this._tree.reveal(t);return[4,n];case 3:e=a.sent();if(!this._model)return[2,void e.dispose()];kn(this._previewModelReference);o=e.object;if(o){s=this._preview.getModel()===o.textEditorModel?0:1,u=Zr.lift(t.range).collapseToStart();this._previewModelReference=e,this._preview.setModel(o.textEditorModel),this._preview.setSelection(u),this._preview.revealRangeInCenter(u,s)}else this._preview.setModel(this._previewNotAvailableMessage),e.dispose();return[2]}}))}))};return i}(a3);R3=S3([I3(3,ex),I3(4,Ah),I3(5,fh),I3(6,e3),I3(7,XT),I3(8,OF),I3(9,vE),I3(10,ld),I3(11,jd)],R3);var T3,L3=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},j3=function(t,i){return function(n,r){i(n,r,t)}};var z3=new cf("referenceSearchVisible",!1,Bt(0,"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));var U3=T3=function(){function t(t,i,n,r,e,o,s,u){this._defaultTreeKeyboardSupport=t,this._editor=i,this._editorService=r,this._notificationService=e,this._instantiationService=o,this._storageService=s,this._configurationService=u,this._disposables=new Bn,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=z3.bindTo(n)}t.get=function(t){return t.getContribution(T3.ID)};t.prototype.dispose=function(){var t,i;this._referenceSearchVisible.reset(),this._disposables.dispose(),(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._widget=void 0,this._model=void 0};t.prototype.toggleWidget=function(t,i,n){var r=this;var e;if(this._widget&&(e=this._widget.position),this.closeWidget(),e&&t.containsPosition(e))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){r.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){r._ignoreModelChangeEvent||r.closeWidget()})));var o="peekViewLayout",s=O3.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(R3,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(Bt(0,"Loading...")),this._widget.show(t),this._disposables.add(this._widget.onDidClose((function(){i.cancel(),r._widget&&(r._storageService.store(o,JSON.stringify(r._widget.layoutData),0,1),r._widget=void 0),r.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(t){var i=t.element,e=t.kind;if(i)switch(e){case"open":t.source==="editor"&&r._configurationService.getValue("editor.stablePeek")||r.openReference(i,!1,!1);break;case"side":r.openReference(i,!0,!1);break;case"goto":n?r._gotoReference(i,!0):r.openReference(i,!1,!0)}})));var u=++this._requestIdPool;i.then((function(i){var n;if(u===r._requestIdPool&&r._widget)return(n=r._model)===null||n===void 0||n.dispose(),r._model=i,r._widget.setModel(r._model).then((function(){if(r._widget&&r._model&&r._editor.hasModel()){r._model.isEmpty?r._widget.setMetaTitle(""):r._widget.setMetaTitle(Bt(0,"{0} ({1})",r._model.title,r._model.references.length));var i=r._editor.getModel().uri,n=new qr(t.startLineNumber,t.startColumn),e=r._model.nearestReference(i,n);if(e)return r._widget.setSelection(e).then((function(){r._widget&&r._editor.getOption(87)==="editor"&&r._widget.focusOnPreviewEditor()}))}}));i.dispose()}),(function(t){r._notificationService.error(t)}))};t.prototype.changeFocusBetweenPreviewAndReferences=function(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())};t.prototype.goToNextOrPreviousReference=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:if(!this._editor.hasModel()||!this._model||!this._widget)return[2];i=this._widget.position;if(!i)return[2];n=this._model.nearestReference(this._editor.getModel().uri,i);if(!n)return[2];r=this._model.nextOrPreviousReference(n,t),e=this._editor.hasTextFocus(),o=this._widget.isPreviewEditorFocused();return[4,this._widget.setSelection(r)];case 1:s.sent();return[4,this._gotoReference(r,!1)];case 2:s.sent(),e?this._editor.focus():this._widget&&o&&this._widget.focusOnPreviewEditor();return[2]}}))}))};t.prototype.revealReference=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:i=this._editor.hasModel()&&this._model&&this._widget;if(!i)return[3,2];return[4,this._widget.revealReference(t)];case 1:i=n.sent();n.label=2;case 2:i;return[2]}}))}))};t.prototype.closeWidget=function(t){if(t===void 0){t=!0}var i,n;(i=this._widget)===null||i===void 0||i.dispose(),(n=this._model)===null||n===void 0||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,t&&this._editor.focus(),this._requestIdPool+=1};t.prototype._gotoReference=function(t,i){var n=this;var r;(r=this._widget)===null||r===void 0||r.hide(),this._ignoreModelChangeEvent=!0;var e=Zr.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:e,selectionSource:"code.jump",pinned:i}},this._editor).then((function(t){var i;if(n._ignoreModelChangeEvent=!1,t&&n._widget)if(n._editor===t)n._widget.show(e),n._widget.focusOnReferenceTree();else{var r=T3.get(t),o=n._model.clone();n.closeWidget(),t.focus(),r==null||r.toggleWidget(e,Us((function(t){return Promise.resolve(o)})),(i=n._peekMode)!==null&&i!==void 0&&i)}else n.closeWidget()}),(function(t){n._ignoreModelChangeEvent=!1,cn(t)}))};t.prototype.openReference=function(t,i,n){i||this.closeWidget();var r=t.uri,e=t.range;this._editorService.openCodeEditor({resource:r,options:{selection:e,selectionSource:"code.jump",pinned:n}},this._editor,i)};return t}();function H3(t,i){var n=function(t){var i=t.get(dh).getFocusedCodeEditor();return i instanceof K4?i.getParentEditor():i}(t);if(!n)return;var r=U3.get(n);r&&i(r)}U3.ID="editor.contrib.referencesController",U3=T3=L3([j3(2,hf),j3(3,dh),j3(4,PI),j3(5,fh),j3(6,Lz),j3(7,sd)],U3),xf.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:or(2089,60),when:Hh.or(z3,o3.inPeekEditor),handler:function(t){H3(t,(function(t){t.changeFocusBetweenPreviewAndReferences()}))}}),xf.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Hh.or(z3,o3.inPeekEditor),handler:function(t){H3(t,(function(t){t.goToNextOrPreviousReference(!0)}))}}),xf.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Hh.or(z3,o3.inPeekEditor),handler:function(t){H3(t,(function(t){t.goToNextOrPreviousReference(!1)}))}}),Bh.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Bh.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Bh.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Bh.registerCommand("closeReferenceSearch",(function(t){return H3(t,(function(t){return t.closeWidget()}))})),xf.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Hh.and(o3.inPeekEditor,Hh.not("config.editor.stablePeek"))}),xf.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Hh.and(z3,Hh.not("config.editor.stablePeek"),Hh.or(hB.editorTextFocus,oJ.negate()))}),xf.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Hh.and(z3,dJ,mJ.negate(),yJ.negate()),handler:function(t){var i;var n=(i=t.get(aJ).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(n)&&n[0]instanceof A3&&H3(t,(function(t){return t.revealReference(n[0])}))}}),xf.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Hh.and(z3,dJ,mJ.negate(),yJ.negate()),handler:function(t){var i;var n=(i=t.get(aJ).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(n)&&n[0]instanceof A3&&H3(t,(function(t){return t.openReference(n[0],!0,!0)}))}}),Bh.registerCommand("openReference",(function(t){var i;var n=(i=t.get(aJ).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(n)&&n[0]instanceof A3&&H3(t,(function(t){return t.openReference(n[0],!1,!0)}))}));var Y3=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},J3=function(t,i){return function(n,r){i(n,r,t)}};var P3=new cf("hasSymbols",!1,Bt(0,"Whether there are symbol locations that can be navigated via keyboard-only.")),W3=lh("ISymbolNavigationService");var G3=function(){function t(t,i,n,r){this._editorService=i,this._notificationService=n,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=P3.bindTo(t)}t.prototype.reset=function(){var t,i;this._ctxHasSymbols.reset(),(t=this._currentState)===null||t===void 0||t.dispose(),(i=this._currentMessage)===null||i===void 0||i.dispose(),this._currentModel=void 0,this._currentIdx=-1};t.prototype.put=function(t){var i=this;var n=t.parent.parent;if(n.references.length<=1)return void this.reset();this._currentModel=n,this._currentIdx=n.references.indexOf(t),this._ctxHasSymbols.set(!0),this._showMessage();var r=new V3(this._editorService),e=r.onDidChange((function(t){if(i._ignoreEditorChange)return;var r=i._editorService.getActiveCodeEditor();if(!r)return;var e=r.getModel(),o=r.getPosition();if(!e||!o)return;var s=!1,u=!1;for(var a=0,c=n.references;a<c.length;a++){var h=c[a];if(ZM(h.uri,e.uri))s=!0,u=u||Zr.containsPosition(h.range,o);else if(s)break}s&&u||i.reset()}));this._currentState=xn(r,e)};t.prototype.revealNext=function(t){var i=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:Zr.collapseToStart(n.range),selectionRevealType:3}},t).finally((function(){i._ignoreEditorChange=!1}))};t.prototype._showMessage=function(){var t;(t=this._currentMessage)===null||t===void 0||t.dispose();var i=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=i?Bt(0,"Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,i.getLabel()):Bt(0,"Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)};return t}();G3=Y3([J3(0,hf),J3(1,dh),J3(2,PI),J3(3,vE)],G3),Ad(W3,G3,1),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:P3,kbOpts:{weight:100,primary:70}})||this}i.prototype.runEditorCommand=function(t,i){return t.get(W3).revealNext(i)};return i}(Gf))),xf.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:P3,primary:9,handler:function(t){t.get(W3).reset()}});var V3=function(){function t(t){this._listener=new Map,this._disposables=new Bn,this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}t.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),kn(this._listener.values())};t.prototype._onDidAddEditor=function(t){var i=this;this._listener.set(t,xn(t.onDidChangeCursorPosition((function(n){return i._onDidChange.fire({editor:t})})),t.onDidChangeModelContent((function(n){return i._onDidChange.fire({editor:t})}))))};t.prototype._onDidRemoveEditor=function(t){var i;(i=this._listener.get(t))===null||i===void 0||i.dispose(),this._listener.delete(t)};return t}();function K3(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o;return __generator(this,(function(s){switch(s.label){case 0:e=n.ordered(t).map((function(n){return Promise.resolve(r(n,t,i)).then(void 0,(function(t){hn(t)}))}));o=N;return[4,Promise.all(e)];case 1:return[2,o.apply(void 0,[s.sent().flat()])]}}))}))}function X3(t,i,n,r){return K3(i,n,t,(function(t,i,n){return t.provideDefinition(i,n,r)}))}function q3(t,i,n,r){return K3(i,n,t,(function(t,i,n){return t.provideDeclaration(i,n,r)}))}function Z3(t,i,n,r){return K3(i,n,t,(function(t,i,n){return t.provideImplementation(i,n,r)}))}function $3(t,i,n,r){return K3(i,n,t,(function(t,i,n){return t.provideTypeDefinition(i,n,r)}))}function t5(t,i,n,r,e){var o=this;return K3(i,n,t,(function(t,i,n){return __awaiter(o,void 0,void 0,(function(){var o,s;return __generator(this,(function(u){switch(u.label){case 0:return[4,t.provideReferences(i,n,{includeDeclaration:!0},e)];case 1:o=u.sent();if(!r||!o||o.length!==2)return[2,o];return[4,t.provideReferences(i,n,{includeDeclaration:!1},e)];case 2:s=u.sent();return[2,s&&s.length===1?s:o]}}))}))}))}function i5(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r;return __generator(this,(function(e){switch(e.label){case 0:return[4,t()];case 1:i=e.sent(),n=new p3(i,""),r=n.references.map((function(t){return t.link}));return[2,(n.dispose(),r)]}}))}))}var n5,r5,e5,o5,s5,u5,a5,c5;V3=Y3([J3(0,dh)],V3),qf("_executeDefinitionProvider",(function(t,i,n){var r=X3(t.get(gg).definitionProvider,i,n,Gn.None);return i5((function(){return r}))})),qf("_executeTypeDefinitionProvider",(function(t,i,n){var r=$3(t.get(gg).typeDefinitionProvider,i,n,Gn.None);return i5((function(){return r}))})),qf("_executeDeclarationProvider",(function(t,i,n){var r=q3(t.get(gg).declarationProvider,i,n,Gn.None);return i5((function(){return r}))})),qf("_executeReferenceProvider",(function(t,i,n){var r=t5(t.get(gg).referenceProvider,i,n,!1,Gn.None);return i5((function(){return r}))})),qf("_executeImplementationProvider",(function(t,i,n){var r=Z3(t.get(gg).implementationProvider,i,n,Gn.None);return i5((function(){return r}))})),If.appendMenuItem(_f.EditorContext,{submenu:_f.EditorContextPeek,title:Bt(0,"Peek"),group:"navigation",order:100});var h5=function(){function t(t,i){this.model=t,this.position=i}t.is=function(i){return!(!i||typeof i!="object")&&(i instanceof t||!(!qr.isIPosition(i.position)||!i.model))};return t}();var f5=function(t){__extends(i,t);function i(n,r){var e=this;e=t.call(this,i._patchConfig(r))||this,e.configuration=n,i._allSymbolNavigationCommands.set(r.id,e);return e}i.all=function(){return i._allSymbolNavigationCommands.values()};i._patchConfig=function(t){var i=__assign(__assign({},t),{f1:!0});if(i.menu)for(var n=0,r=vi.wrap(i.menu);n<r.length;n++){var e=r[n];e.id!==_f.EditorContext&&e.id!==_f.EditorContextPeek||(e.when=Hh.and(t.precondition,e.when))}return i};i.prototype.runEditorCommand=function(t,n,r,e){var o=this;if(!n.hasModel())return Promise.resolve(void 0);var s=t.get(PI),u=t.get(dh),a=t.get($T),c=t.get(W3),h=t.get(gg),f=t.get(fh),l=n.getModel(),d=n.getPosition(),v=h5.is(r)?r:new h5(l,d),A=new AZ(n,5),g=Hs(this._getLocationModel(h,v.model,v.position,A.token),A.token).then((function(t){return __awaiter(o,void 0,void 0,(function(){var o,s,a,h,a;var v=this;return __generator(this,(function(g){if(!t||A.token.isCancellationRequested)return[2];if(Rw(t.ariaMessage),t.referenceAt(l.uri,d)){a=this._getAlternativeCommand(n);!i._activeAlternativeCommands.has(a)&&i._allSymbolNavigationCommands.has(a)&&(s=i._allSymbolNavigationCommands.get(a))}h=t.references.length;if(h===0){if(!this.configuration.muteMessage){a=l.getWordAtPosition(d);(o=d1.get(n))===null||o===void 0||o.showMessage(this._getNoResultFoundMessage(a),d)}}else{if(h!==1||!s)return[2,this._onResult(u,c,n,t,e)];i._activeAlternativeCommands.add(this.desc.id),f.invokeFunction((function(t){return s.runEditorCommand(t,n,r,e).finally((function(){i._activeAlternativeCommands.delete(v.desc.id)}))}))}return[2]}))}))}),(function(t){s.error(t)})).finally((function(){A.dispose()}));return a.showWhile(g,250),g};i.prototype._onResult=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a;return __generator(this,(function(c){switch(c.label){case 0:o=this._getGoToPreference(n);if(!(n instanceof K4||!(this.configuration.openInPeek||o==="peek"&&r.references.length>1)))return[3,2];s=r.firstReference(),u=r.references.length>1&&o==="gotoAndPeek";return[4,this._openReference(n,t,s,this.configuration.openToSide,!u)];case 1:a=c.sent();u&&a?this._openInPeek(a,r,e):r.dispose(),o==="goto"&&i.put(s);return[3,3];case 2:this._openInPeek(n,r,e);c.label=3;case 3:return[2]}}))}))};i.prototype._openReference=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:if((s=n)&&zr.isUri(s.uri)&&Zr.isIRange(s.range)&&(Zr.isIRange(s.originSelectionRange)||Zr.isIRange(s.targetSelectionRange))&&(o=n.targetSelectionRange),o||(o=n.range),!o)return[2];return[4,i.openCodeEditor({resource:n.uri,options:{selection:Zr.collapseToStart(o),selectionRevealType:3,selectionSource:"code.jump"}},t,r)];case 1:u=h.sent();if(u){if(e){a=u.getModel(),c=u.createDecorationsCollection([{range:o,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((function(){u.getModel()===a&&c.clear()}),350)}return[2,u]}return[2]}}))}))};i.prototype._openInPeek=function(t,i,n){var r=U3.get(t);r&&t.hasModel()?r.toggleWidget(n!==null&&n!==void 0?n:t.getSelection(),Us((function(t){return Promise.resolve(i)})),this.configuration.openInPeek):i.dispose()};return i}(Xf);f5._allSymbolNavigationCommands=new Map,f5._activeAlternativeCommands=new Set;var l5=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:e=p3.bind;return[4,X3(t.definitionProvider,i,n,r)];case 1:return[2,new(e.apply(p3,[void 0,o.sent(),Bt(0,"Definitions")]))]}}))}))};i.prototype._getNoResultFoundMessage=function(t){return t&&t.word?Bt(0,"No definition found for '{0}'",t.word):Bt(0,"No definition found")};i.prototype._getAlternativeCommand=function(t){return t.getOption(58).alternativeDefinitionCommand};i.prototype._getGoToPreference=function(t){return t.getOption(58).multipleDefinitions};return i}(f5);Rf(((n5=function(t){__extends(i,t);function i(){var i=this;i=t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:n5.id,title:__assign(__assign({},Ct(0,"Go to Definition")),{mnemonicTitle:Bt(0,"Go to &&Definition")}),precondition:hB.hasDefinitionProvider,keybinding:[{when:hB.editorTextFocus,primary:70,weight:100},{when:Hh.and(hB.editorTextFocus,rJ),primary:2118,weight:100}],menu:[{id:_f.EditorContext,group:"navigation",order:1.1},{id:_f.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]})||this,Bh.registerCommandAlias("editor.action.goToDeclaration",n5.id);return i}return i}(l5)).id="editor.action.revealDefinition",n5)),Rf(((r5=function(t){__extends(i,t);function i(){var n=this;n=t.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:i.id,title:Ct(0,"Open Definition to the Side"),precondition:Hh.and(hB.hasDefinitionProvider,hB.isInEmbeddedEditor.toNegated()),keybinding:[{when:hB.editorTextFocus,primary:or(2089,70),weight:100},{when:Hh.and(hB.editorTextFocus,rJ),primary:or(2089,2118),weight:100}]})||this,Bh.registerCommandAlias("editor.action.openDeclarationToTheSide",i.id);return n}return i}(l5)).id="editor.action.revealDefinitionAside",r5)),Rf(((e5=function(t){__extends(i,t);function i(){var n=this;n=t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:i.id,title:Ct(0,"Peek Definition"),precondition:Hh.and(hB.hasDefinitionProvider,o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated()),keybinding:{when:hB.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:_f.EditorContextPeek,group:"peek",order:2}})||this,Bh.registerCommandAlias("editor.action.previewDeclaration",i.id);return n}return i}(l5)).id="editor.action.peekDefinition",e5));var d5=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:e=p3.bind;return[4,q3(t.declarationProvider,i,n,r)];case 1:return[2,new(e.apply(p3,[void 0,o.sent(),Bt(0,"Declarations")]))]}}))}))};i.prototype._getNoResultFoundMessage=function(t){return t&&t.word?Bt(0,"No declaration found for '{0}'",t.word):Bt(0,"No declaration found")};i.prototype._getAlternativeCommand=function(t){return t.getOption(58).alternativeDeclarationCommand};i.prototype._getGoToPreference=function(t){return t.getOption(58).multipleDeclarations};return i}(f5);Rf(((o5=function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:o5.id,title:__assign(__assign({},Ct(0,"Go to Declaration")),{mnemonicTitle:Bt(0,"Go to &&Declaration")}),precondition:Hh.and(hB.hasDeclarationProvider,hB.isInEmbeddedEditor.toNegated()),menu:[{id:_f.EditorContext,group:"navigation",order:1.3},{id:_f.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})||this}i.prototype._getNoResultFoundMessage=function(t){return t&&t.word?Bt(0,"No declaration found for '{0}'",t.word):Bt(0,"No declaration found")};return i}(d5)).id="editor.action.revealDeclaration",o5)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:Ct(0,"Peek Declaration"),precondition:Hh.and(hB.hasDeclarationProvider,o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated()),menu:{id:_f.EditorContextPeek,group:"peek",order:3}})||this}return i}(d5));var v5=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:e=p3.bind;return[4,$3(t.typeDefinitionProvider,i,n,r)];case 1:return[2,new(e.apply(p3,[void 0,o.sent(),Bt(0,"Type Definitions")]))]}}))}))};i.prototype._getNoResultFoundMessage=function(t){return t&&t.word?Bt(0,"No type definition found for '{0}'",t.word):Bt(0,"No type definition found")};i.prototype._getAlternativeCommand=function(t){return t.getOption(58).alternativeTypeDefinitionCommand};i.prototype._getGoToPreference=function(t){return t.getOption(58).multipleTypeDefinitions};return i}(f5);Rf(((s5=function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:s5.ID,title:__assign(__assign({},Ct(0,"Go to Type Definition")),{mnemonicTitle:Bt(0,"Go to &&Type Definition")}),precondition:hB.hasTypeDefinitionProvider,keybinding:{when:hB.editorTextFocus,primary:0,weight:100},menu:[{id:_f.EditorContext,group:"navigation",order:1.4},{id:_f.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})||this}return i}(v5)).ID="editor.action.goToTypeDefinition",s5)),Rf(((u5=function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:i.ID,title:Ct(0,"Peek Type Definition"),precondition:Hh.and(hB.hasTypeDefinitionProvider,o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated()),menu:{id:_f.EditorContextPeek,group:"peek",order:4}})||this}return i}(v5)).ID="editor.action.peekTypeDefinition",u5));var A5=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:e=p3.bind;return[4,Z3(t.implementationProvider,i,n,r)];case 1:return[2,new(e.apply(p3,[void 0,o.sent(),Bt(0,"Implementations")]))]}}))}))};i.prototype._getNoResultFoundMessage=function(t){return t&&t.word?Bt(0,"No implementation found for '{0}'",t.word):Bt(0,"No implementation found")};i.prototype._getAlternativeCommand=function(t){return t.getOption(58).alternativeImplementationCommand};i.prototype._getGoToPreference=function(t){return t.getOption(58).multipleImplementations};return i}(f5);Rf(((a5=function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:a5.ID,title:__assign(__assign({},Ct(0,"Go to Implementations")),{mnemonicTitle:Bt(0,"Go to &&Implementations")}),precondition:hB.hasImplementationProvider,keybinding:{when:hB.editorTextFocus,primary:2118,weight:100},menu:[{id:_f.EditorContext,group:"navigation",order:1.45},{id:_f.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})||this}return i}(A5)).ID="editor.action.goToImplementation",a5)),Rf(((c5=function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:i.ID,title:Ct(0,"Peek Implementations"),precondition:Hh.and(hB.hasImplementationProvider,o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated()),keybinding:{when:hB.editorTextFocus,primary:3142,weight:100},menu:{id:_f.EditorContextPeek,group:"peek",order:5}})||this}return i}(A5)).ID="editor.action.peekImplementation",c5));var g5=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._getNoResultFoundMessage=function(t){return t?Bt(0,"No references found for '{0}'",t.word):Bt(0,"No references found")};i.prototype._getAlternativeCommand=function(t){return t.getOption(58).alternativeReferenceCommand};i.prototype._getGoToPreference=function(t){return t.getOption(58).multipleReferences};return i}(f5);Rf(function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:__assign(__assign({},Ct(0,"Go to References")),{mnemonicTitle:Bt(0,"Go to &&References")}),precondition:Hh.and(hB.hasReferenceProvider,o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated()),keybinding:{when:hB.editorTextFocus,primary:1094,weight:100},menu:[{id:_f.EditorContext,group:"navigation",order:1.45},{id:_f.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})||this}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:e=p3.bind;return[4,t5(t.referenceProvider,i,n,!0,r)];case 1:return[2,new(e.apply(p3,[void 0,o.sent(),Bt(0,"References")]))]}}))}))};return i}(g5)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:Ct(0,"Peek References"),precondition:Hh.and(hB.hasReferenceProvider,o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated()),menu:{id:_f.EditorContextPeek,group:"peek",order:6}})||this}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:e=p3.bind;return[4,t5(t.referenceProvider,i,n,!1,r)];case 1:return[2,new(e.apply(p3,[void 0,o.sent(),Bt(0,"References")]))]}}))}))};return i}(g5));var w5=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i,{id:"editor.action.goToLocation",title:Ct(0,"Go to Any Symbol"),precondition:Hh.and(o3.notInPeekEditor,hB.isInEmbeddedEditor.toNegated())})||this,e._references=n,e._gotoMultipleBehaviour=r;return e}i.prototype._getLocationModel=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new p3(this._references,Bt(0,"Locations"))]}))}))};i.prototype._getNoResultFoundMessage=function(t){return t&&Bt(0,"No results for '{0}'",t.word)||""};i.prototype._getGoToPreference=function(t){var i;return(i=this._gotoMultipleBehaviour)!==null&&i!==void 0?i:t.getOption(58).multipleReferences};i.prototype._getAlternativeCommand=function(){return""};return i}(f5);Bh.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:zr},{name:"position",description:"The position at which to start",constraint:qr.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:function(t,i,n,r,e,o,s){return __awaiter(f,void 0,void 0,(function(){var u,a;return __generator(this,(function(c){switch(c.label){case 0:lt(zr.isUri(i)),lt(qr.isIPosition(n)),lt(Array.isArray(r)),lt(e===void 0||typeof e=="string"),lt(s===void 0||typeof s=="boolean");u=t.get(dh);return[4,u.openCodeEditor({resource:i},u.getFocusedCodeEditor())];case 1:a=c.sent();if(wZ(a))return[2,(a.setPosition(n),a.revealPositionInCenterIfOutsideViewport(n,0),a.invokeWithinContext((function(t){var i=new(function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._getNoResultFoundMessage=function(i){return o||t.prototype._getNoResultFoundMessage.call(this,i)};return i}(w5))({muteMessage:!o,openInPeek:!!s,openToSide:!1},r,e);t.get(fh).invokeFunction(i.run.bind(i),a)})))];return[2]}}))}))}}),Bh.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:zr},{name:"position",description:"The position at which to start",constraint:qr.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:function(t,i,n,r,e){return __awaiter(f,void 0,void 0,(function(){return __generator(this,(function(o){t.get(Eh).executeCommand("editor.action.goToLocations",i,n,r,e,void 0,!0);return[2]}))}))}}),Bh.registerCommand({id:"editor.action.findReferences",handler:function(t,i,n){lt(zr.isUri(i)),lt(qr.isIPosition(n));var r=t.get(gg),e=t.get(dh);return e.openCodeEditor({resource:i},e.getFocusedCodeEditor()).then((function(t){if(!wZ(t)||!t.hasModel())return;var i=U3.get(t);if(!i)return;var e=Us((function(i){return t5(r.referenceProvider,t.getModel(),qr.lift(n),!1,i).then((function(t){return new p3(t,Bt(0,"References"))}))})),o=new Zr(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(i.toggleWidget(o,e,!1))}))}}),Bh.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var p5,m5=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},b5=function(t,i){return function(n,r){i(n,r,t)}};var y5=p5=function(){function t(t,i,n,r){var e=this;this.textModelResolverService=i,this.languageService=n,this.languageFeaturesService=r,this.toUnhook=new Bn,this.toUnhookForKeyboard=new Bn,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=t,this.linkDecorations=this.editor.createDecorationsCollection();var o=new W4(t);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown((function(t){var i=t[0],n=t[1];e.startFindDefinitionFromMouse(i,n!==null&&n!==void 0?n:void 0)}))),this.toUnhook.add(o.onExecute((function(t){e.isEnabled(t)&&e.gotoDefinition(t.target.position,t.hasSideBySideModifier).catch((function(t){cn(t)})).finally((function(){e.removeLinkDecorations()}))}))),this.toUnhook.add(o.onCancel((function(){e.removeLinkDecorations(),e.currentWordAtPosition=null})))}t.get=function(t){return t.getContribution(p5.ID)};t.prototype.startFindDefinitionFromCursor=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){switch(n.label){case 0:return[4,this.startFindDefinition(t)];case 1:n.sent(),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((function(){i.currentWordAtPosition=null,i.removeLinkDecorations(),i.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((function(t){t&&(i.currentWordAtPosition=null,i.removeLinkDecorations(),i.toUnhookForKeyboard.clear())})));return[2]}}))}))};t.prototype.startFindDefinitionFromMouse=function(t,i){if(t.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(t,i))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=t.target.position;this.startFindDefinition(n)};t.prototype.startFindDefinition=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s,u,a,c,h,f;var l=this;return __generator(this,(function(d){switch(d.label){case 0:this.toUnhookForKeyboard.clear();n=t?(i=this.editor.getModel())===null||i===void 0?void 0:i.getWordAtPosition(t):null;if(!n)return[2,(this.currentWordAtPosition=null,void this.removeLinkDecorations())];if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return[2];this.currentWordAtPosition=n;r=new vZ(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Us((function(i){return l.findDefinition(t,i)}));d.label=1;case 1:d.trys.push([1,3,,4]);return[4,this.previousPromise];case 2:e=d.sent();return[3,4];case 3:o=d.sent();return[2,void cn(o)];case 4:if(!e||!e.length||!r.validate(this.editor))return[2,void this.removeLinkDecorations()];s=e[0].originSelectionRange?Zr.lift(e[0].originSelectionRange):new Zr(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn);if(e.length>1){u=s;for(a=0,c=e;a<c.length;a++){h=c[a].originSelectionRange;h&&(u=Zr.plusRange(u,h))}this.addDecoration(u,(new uR).appendText(Bt(0,"Click to show {0} definitions.",e.length)))}else{f=e[0];if(!f.uri)return[2];this.textModelResolverService.createModelReference(f.uri).then((function(t){if(!t.object||!t.object.textEditorModel)return void t.dispose();var i=t.object.textEditorModel,n=f.range.startLineNumber;if(n<1||n>i.getLineCount())return void t.dispose();var r=l.getPreviewValue(i,n,f),e=l.languageService.guessLanguageIdByFilepathOrFirstLine(i.uri);l.addDecoration(s,r?(new uR).appendCodeblock(e||"",r):void 0),t.dispose()}))}return[2]}}))}))};t.prototype.getPreviewValue=function(t,i,n){var r=n.range;return r.endLineNumber-r.startLineNumber>=p5.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(t,i)),this.stripIndentationFromPreviewRange(t,i,r)};t.prototype.stripIndentationFromPreviewRange=function(t,i,n){var r=t.getLineFirstNonWhitespaceColumn(i);for(var e=i+1;e<n.endLineNumber;e++){var o=t.getLineFirstNonWhitespaceColumn(e);r=Math.min(r,o)}return t.getValueInRange(n).replace(new RegExp("^\\s{".concat(r-1,"}"),"gm"),"").trim()};t.prototype.getPreviewRangeBasedOnIndentation=function(t,i){var n=t.getLineFirstNonWhitespaceColumn(i),r=Math.min(t.getLineCount(),i+p5.MAX_SOURCE_PREVIEW_LINES);var e=i+1;for(;e<r&&n!==t.getLineFirstNonWhitespaceColumn(e);e++);return new Zr(i,1,e+1,1)};t.prototype.addDecoration=function(t,i){var n={range:t,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:i}};this.linkDecorations.set([n])};t.prototype.removeLinkDecorations=function(){this.linkDecorations.clear()};t.prototype.isEnabled=function(t,i){var n;return this.editor.hasModel()&&t.isLeftClick&&t.isNoneOrSingleMouseDown&&t.target.type===6&&!(((n=t.target.detail.injectedText)===null||n===void 0?void 0:n.options)instanceof tS)&&(t.hasTriggerModifier||!!i&&i.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())};t.prototype.findDefinition=function(t,i){var n=this.editor.getModel();return n?X3(this.languageFeaturesService.definitionProvider,n,t,i):Promise.resolve(null)};t.prototype.gotoDefinition=function(t,i){var n=this;return this.editor.setPosition(t),this.editor.invokeWithinContext((function(t){var r=!i&&n.editor.getOption(88)&&!n.isInPeekEditor(t);return new l5({openToSide:i,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(t)}))};t.prototype.isInPeekEditor=function(t){var i=t.get(hf);return o3.inPeekEditor.getValue(i)};t.prototype.dispose=function(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()};return t}();y5.ID="editor.contrib.gotodefinitionatposition",y5.MAX_SOURCE_PREVIEW_LINES=8,y5=p5=m5([b5(1,Ah),b5(2,ld),b5(3,gg)],y5),il(y5.ID,y5,2);var k5=function(){function t(t,i,n){this.value=t,this.isComplete=i,this.hasLoadingMessage=n}return t}();var x5=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._editor=i,r._computer=n,r._onResult=r._register(new Ln),r.onResult=r._onResult.event,r._firstWaitScheduler=r._register(new qs((function(){return r._triggerAsyncComputation()}),0)),r._secondWaitScheduler=r._register(new qs((function(){return r._triggerSyncComputation()}),0)),r._loadingMessageScheduler=r._register(new qs((function(){return r._triggerLoadingMessage()}),0)),r._state=0,r._asyncIterable=null,r._asyncIterableDone=!1,r._result=[];return r}i.prototype.dispose=function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),t.prototype.dispose.call(this)};Object.defineProperty(i.prototype,"_hoverTime",{get:function(){return this._editor.getOption(60).delay},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"_firstWaitTime",{get:function(){return this._hoverTime/2},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"_secondWaitTime",{get:function(){return this._hoverTime-this._firstWaitTime},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"_loadingMessageTime",{get:function(){return 3*this._hoverTime},enumerable:false,configurable:true});i.prototype._setState=function(t,i){if(i===void 0){i=!0}this._state=t,i&&this._fireResult()};i.prototype._triggerAsyncComputation=function(){var t=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=function(t){var i=this;var n=new Kn,r=t(n.token);return new ou(n,(function(t){return __awaiter(i,void 0,void 0,(function(){var i,e,o,s,u,a,c;var h,f,l,d;return __generator(this,(function(v){switch(v.label){case 0:i=n.token.onCancellationRequested((function(){i.dispose(),n.dispose(),t.reject(new vn)}));v.label=1;case 1:v.trys.push([1,14,,15]);v.label=2;case 2:v.trys.push([2,7,8,13]);e=true,o=__asyncValues(r);v.label=3;case 3:return[4,o.next()];case 4:if(!(s=v.sent(),h=s.done,!h))return[3,6];d=s.value;e=false;u=d;if(n.token.isCancellationRequested)return[2];t.emitOne(u);v.label=5;case 5:e=true;return[3,3];case 6:return[3,13];case 7:a=v.sent();f={error:a};return[3,13];case 8:v.trys.push([8,,11,12]);if(!(!e&&!h&&(l=o.return)))return[3,10];return[4,l.call(o)];case 9:v.sent();v.label=10;case 10:return[3,12];case 11:if(f)throw f.error;return[7];case 12:return[7];case 13:i.dispose(),n.dispose();return[3,15];case 14:c=v.sent();i.dispose(),n.dispose(),t.reject(c);return[3,15];case 15:return[2]}}))}))}))}((function(i){return t._computer.computeAsync(i)})),function(){return __awaiter(t,void 0,void 0,(function(){var t,i,n,r,e,o;var s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:h.trys.push([0,13,,14]);h.label=1;case 1:h.trys.push([1,6,7,12]);t=true,i=__asyncValues(this._asyncIterable);h.label=2;case 2:return[4,i.next()];case 3:if(!(n=h.sent(),s=n.done,!s))return[3,5];c=n.value;t=false;r=c;r&&(this._result.push(r),this._fireResult());h.label=4;case 4:t=true;return[3,2];case 5:return[3,12];case 6:e=h.sent();u={error:e};return[3,12];case 7:h.trys.push([7,,10,11]);if(!(!t&&!s&&(a=i.return)))return[3,9];return[4,a.call(i)];case 8:h.sent();h.label=9;case 9:return[3,11];case 10:if(u)throw u.error;return[7];case 11:return[7];case 12:this._asyncIterableDone=!0,this._state!==3&&this._state!==4||this._setState(0);return[3,14];case 13:o=h.sent();cn(o);return[3,14];case 14:return[2]}}))}))}()):this._asyncIterableDone=!0};i.prototype._triggerSyncComputation=function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)};i.prototype._triggerLoadingMessage=function(){this._state===3&&this._setState(4)};i.prototype._fireResult=function(){if(this._state===1||this._state===2)return;var t=this._state===0,i=this._state===4;this._onResult.fire(new k5(this._result.slice(0),t,i))};i.prototype.start=function(t){if(t===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}};i.prototype.cancel=function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)};return i}(Cn);var E5=function(){function t(t,i,n,r){this.priority=t,this.range=i,this.initialMousePosX=n,this.initialMousePosY=r,this.type=1}t.prototype.equals=function(t){return t.type===1&&this.range.equalsRange(t.range)};t.prototype.canAdoptVisibleHover=function(t,i){return t.type===1&&i.lineNumber===this.range.startLineNumber};return t}();var B5=function(){function t(t,i,n,r,e,o){this.priority=t,this.owner=i,this.range=n,this.initialMousePosX=r,this.initialMousePosY=e,this.supportsMarkerHover=o,this.type=2}t.prototype.equals=function(t){return t.type===2&&this.owner===t.owner};t.prototype.canAdoptVisibleHover=function(t,i){return t.type===2&&this.owner===t.owner};return t}();var C5=new(function(){function t(){this._participants=[]}t.prototype.register=function(t){this._participants.push(t)};t.prototype.getAll=function(){return this._participants};return t}());var D5=function(){function t(){var t=this;var i;this._onDidWillResize=new Ln,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Ln,this.onDidResize=this._onDidResize.event,this._sashListener=new Bn,this._size=new Ga(0,0),this._minSize=new Ga(0,0),this._maxSize=new Ga(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new yH(this.domNode,{getVerticalSashLeft:function(){return t._size.width}},{orientation:0}),this._westSash=new yH(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new yH(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:vH.North}),this._southSash=new yH(this.domNode,{getHorizontalSashTop:function(){return t._size.height}},{orientation:1,orthogonalEdge:vH.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var n=0,r=0;this._sashListener.add(Qn.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((function(){i===void 0&&(t._onDidWillResize.fire(),i=t._size,n=0,r=0)}))),this._sashListener.add(Qn.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((function(){i!==void 0&&(i=void 0,n=0,r=0,t._onDidResize.fire({dimension:t._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((function(e){i&&(r=e.currentX-e.startX,t.layout(i.height+n,i.width+r),t._onDidResize.fire({dimension:t._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((function(e){i&&(r=-(e.currentX-e.startX),t.layout(i.height+n,i.width+r),t._onDidResize.fire({dimension:t._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((function(e){i&&(n=-(e.currentY-e.startY),t.layout(i.height+n,i.width+r),t._onDidResize.fire({dimension:t._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((function(e){i&&(n=e.currentY-e.startY,t.layout(i.height+n,i.width+r),t._onDidResize.fire({dimension:t._size,done:!1,south:!0}))}))),this._sashListener.add(Qn.any(this._eastSash.onDidReset,this._westSash.onDidReset)((function(i){t._preferredSize&&(t.layout(t._size.height,t._preferredSize.width),t._onDidResize.fire({dimension:t._size,done:!0}))}))),this._sashListener.add(Qn.any(this._northSash.onDidReset,this._southSash.onDidReset)((function(i){t._preferredSize&&(t.layout(t._preferredSize.height,t._size.width),t._onDidResize.fire({dimension:t._size,done:!0}))})))}t.prototype.dispose=function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()};t.prototype.enableSashes=function(t,i,n,r){this._northSash.state=t?3:0,this._eastSash.state=i?3:0,this._southSash.state=n?3:0,this._westSash.state=r?3:0};t.prototype.layout=function(t,i){if(t===void 0){t=this.size.height}if(i===void 0){i=this.size.width}var n=this._minSize,r=n.height,e=n.width,o=this._maxSize,s=o.height,u=o.width;t=Math.max(r,Math.min(s,t)),i=Math.max(e,Math.min(u,i));var a=new Ga(i,t);Ga.equals(a,this._size)||(this.domNode.style.height=t+"px",this.domNode.style.width=i+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())};t.prototype.clearSashHoverState=function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()};Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._maxSize},set:function(t){this._maxSize=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"minSize",{get:function(){return this._minSize},set:function(t){this._minSize=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"preferredSize",{get:function(){return this._preferredSize},set:function(t){this._preferredSize=t},enumerable:false,configurable:true});return t}();var M5=function(t){__extends(i,t);function i(i,n){if(n===void 0){n=new Ga(10,10)}var r=this;r=t.call(this)||this,r._editor=i,r.allowEditorOverflow=!0,r.suppressMouseDown=!1,r._resizableNode=r._register(new D5),r._contentPosition=null,r._isResizing=!1,r._resizableNode.domNode.style.position="absolute",r._resizableNode.minSize=Ga.lift(n),r._resizableNode.layout(n.height,n.width),r._resizableNode.enableSashes(!0,!0,!0,!0),r._register(r._resizableNode.onDidResize((function(t){r._resize(new Ga(t.dimension.width,t.dimension.height)),t.done&&(r._isResizing=!1)}))),r._register(r._resizableNode.onDidWillResize((function(){r._isResizing=!0})));return r}Object.defineProperty(i.prototype,"isResizing",{get:function(){return this._isResizing},enumerable:false,configurable:true});i.prototype.getDomNode=function(){return this._resizableNode.domNode};i.prototype.getPosition=function(){return this._contentPosition};Object.defineProperty(i.prototype,"position",{get:function(){var t;return!((t=this._contentPosition)===null||t===void 0)&&t.position?qr.lift(this._contentPosition.position):void 0},enumerable:false,configurable:true});i.prototype._availableVerticalSpaceAbove=function(t){var i=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(t);if(!(!i||!n))return Ka(i).top+n.top-30};i.prototype._availableVerticalSpaceBelow=function(t){var i=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(t);if(!i||!n)return;var r=Ka(i),e=Pa(i.ownerDocument.body),o=r.top+n.top+n.height;return e.height-o-24};i.prototype._findPositionPreference=function(t,i){var n,r;var e=Math.min((n=this._availableVerticalSpaceBelow(i))!==null&&n!==void 0?n:1/0,t),o=Math.min((r=this._availableVerticalSpaceAbove(i))!==null&&r!==void 0?r:1/0,t),s=Math.min(Math.max(o,e),t),u=Math.min(t,s);var a;return a=this._editor.getOption(60).above?u<=o?1:2:u<=e?2:1,a===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),a};i.prototype._resize=function(t){this._resizableNode.layout(t.height,t.width)};return i}(Cn);var _5,F5,S5=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},I5=function(t,i){return function(n,r){i(n,r,t)}};var Q5=Nc;var O5=_5=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._instantiationService=n,e._keybindingService=r,e._currentResult=null,e._widget=e._register(e._instantiationService.createInstance(L5,e._editor)),e._participants=[];for(var o=0,s=C5.getAll();o<s.length;o++){var u=s[o];e._participants.push(e._instantiationService.createInstance(u,e._editor))}e._participants.sort((function(t,i){return t.hoverOrdinal-i.hoverOrdinal})),e._computer=new z5(e._editor,e._participants),e._hoverOperation=e._register(new x5(e._editor,e._computer)),e._register(e._hoverOperation.onResult((function(t){if(!e._computer.anchor)return;var i=t.hasLoadingMessage?e._addLoadingMessage(t.value):t.value;e._withResult(new N5(e._computer.anchor,i,t.isComplete))}))),e._register(Ra(e._widget.getDomNode(),"keydown",(function(t){t.equals(9)&&e.hide()}))),e._register(ye.onDidChange((function(){e._widget.position&&e._currentResult&&e._setCurrentResult(e._currentResult)})));return e}i.prototype._startShowingOrUpdateHover=function(t,i,n,r,e){return!this._widget.position||!this._currentResult?!!t&&(this._startHoverOperationIfNecessary(t,i,n,r,!1),!0):this._editor.getOption(60).sticky&&e&&this._widget.isMouseGettingCloser(e.event.posx,e.event.posy)?(t&&this._startHoverOperationIfNecessary(t,i,n,r,!0),!0):t?!(!t||!this._currentResult.anchor.equals(t))||(t.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(t)),this._startHoverOperationIfNecessary(t,i,n,r,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(t,i,n,r,!1),!0)):(this._setCurrentResult(null),!1)};i.prototype._startHoverOperationIfNecessary=function(t,i,n,r,e){this._computer.anchor&&this._computer.anchor.equals(t)||(this._hoverOperation.cancel(),this._computer.anchor=t,this._computer.shouldFocus=r,this._computer.source=n,this._computer.insistOnKeepingHoverVisible=e,this._hoverOperation.start(i))};i.prototype._setCurrentResult=function(t){this._currentResult!==t&&(t&&t.messages.length===0&&(t=null),this._currentResult=t,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())};i.prototype._addLoadingMessage=function(t){if(this._computer.anchor){for(var i=0,n=this._participants;i<n.length;i++){var r=n[i];if(r.createLoadingMessage){var e=r.createLoadingMessage(this._computer.anchor);if(e)return t.slice(0).concat([e])}}}return t};i.prototype._withResult=function(t){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!t.isComplete||this._computer.insistOnKeepingHoverVisible&&t.messages.length===0)||this._setCurrentResult(t)};i.prototype._renderMessages=function(t,n){var r=this;var e=i.computeHoverRanges(this._editor,t.range,n),o=e.showAtPosition,s=e.showAtSecondaryPosition,u=e.highlightRange,a=new Bn,c=a.add(new j5(this._keybindingService)),h=document.createDocumentFragment();var f=null;var l={fragment:h,statusBar:c,setColorPicker:function(t){return f=t},onContentsChanged:function(){return r._widget.onContentsChanged()},setMinimumDimensions:function(t){return r._widget.setMinimumDimensions(t)},hide:function(){return r.hide()}};var d=function(t){var i=n.filter((function(i){return i.owner===t}));i.length>0&&a.add(t.renderHoverParts(l,i))};for(var v=0,A=this._participants;v<A.length;v++){var g=A[v];d(g)}var w=n.some((function(t){return t.isBeforeContent}));if(c.hasContent&&h.appendChild(c.hoverElement),h.hasChildNodes()){if(u){var p=this._editor.createDecorationsCollection();p.set([{range:u,options:i._DECORATION_OPTIONS}]),a.add(En((function(){p.clear()})))}this._widget.showAt(h,new T5(t.initialMousePosX,t.initialMousePosY,f,o,s,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,w,a))}else a.dispose()};i.computeHoverRanges=function(t,i,n){var r=1;if(t.hasModel()){var e=t._getViewModel(),o=e.coordinatesConverter,s=o.convertModelRangeToViewRange(i),u=new qr(s.startLineNumber,e.getLineMinColumn(s.startLineNumber));r=o.convertViewPositionToModelPosition(u).column}var a=i.startLineNumber;var c=i.startColumn,h=n[0].range,f=null;for(var l=0,d=n;l<d.length;l++){var e=d[l];h=Zr.plusRange(h,e.range),e.range.startLineNumber===a&&e.range.endLineNumber===a&&(c=Math.max(Math.min(c,e.range.startColumn),r)),e.forceShowAtRange&&(f=e.range)}return{showAtPosition:f?f.getStartPosition():new qr(a,i.startColumn),showAtSecondaryPosition:f?f.getStartPosition():new qr(a,c),highlightRange:h}};i.prototype.showsOrWillShow=function(t){if(this._widget.isResizing)return!0;var i=[];for(var n=0,r=this._participants;n<r.length;n++){var e=r[n];if(e.suggestHoverAnchor){var o=e.suggestHoverAnchor(t);o&&i.push(o)}}var s=t.target;if(s.type===6&&i.push(new E5(0,s.range,t.event.posx,t.event.posy)),s.type===7){var e=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!s.detail.isAfterLines&&typeof s.detail.horizontalDistanceToText=="number"&&s.detail.horizontalDistanceToText<e&&i.push(new E5(0,s.range,t.event.posx,t.event.posy))}return i.length===0?this._startShowingOrUpdateHover(null,0,0,!1,t):(i.sort((function(t,i){return i.priority-t.priority})),this._startShowingOrUpdateHover(i[0],0,0,!1,t))};i.prototype.startShowingAtRange=function(t,i,n,r){this._startShowingOrUpdateHover(new E5(0,t,void 0,void 0),i,n,r,null)};i.prototype.containsNode=function(t){return!!t&&this._widget.getDomNode().contains(t)};i.prototype.focus=function(){this._widget.focus()};i.prototype.scrollUp=function(){this._widget.scrollUp()};i.prototype.scrollDown=function(){this._widget.scrollDown()};i.prototype.scrollLeft=function(){this._widget.scrollLeft()};i.prototype.scrollRight=function(){this._widget.scrollRight()};i.prototype.pageUp=function(){this._widget.pageUp()};i.prototype.pageDown=function(){this._widget.pageDown()};i.prototype.goToTop=function(){this._widget.goToTop()};i.prototype.goToBottom=function(){this._widget.goToBottom()};i.prototype.hide=function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)};Object.defineProperty(i.prototype,"isColorPickerVisible",{get:function(){return this._widget.isColorPickerVisible},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isVisibleFromKeyboard",{get:function(){return this._widget.isVisibleFromKeyboard},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isVisible",{get:function(){return this._widget.isVisible},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isFocused",{get:function(){return this._widget.isFocused},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isResizing",{get:function(){return this._widget.isResizing},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"widget",{get:function(){return this._widget},enumerable:false,configurable:true});return i}(Cn);O5._DECORATION_OPTIONS=iS.register({description:"content-hover-highlight",className:"hoverHighlight"}),O5=_5=S5([I5(1,fh),I5(2,vE)],O5);var N5=function(){function t(t,i,n){this.anchor=t,this.messages=i,this.isComplete=n}t.prototype.filter=function(t){var i=this.messages.filter((function(i){return i.isValidForHoverAnchor(t)}));return i.length===this.messages.length?this:new R5(this,this.anchor,i,this.isComplete)};return t}();var R5=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,n,r,e)||this,o.original=i;return o}i.prototype.filter=function(t){return this.original.filter(t)};return i}(N5);var T5=function(){function t(t,i,n,r,e,o,s,u,a,c){this.initialMousePosX=t,this.initialMousePosY=i,this.colorPicker=n,this.showAtPosition=r,this.showAtSecondaryPosition=e,this.preferAbove=o,this.stoleFocus=s,this.source=u,this.isBeforeContent=a,this.disposables=c,this.closestMouseDistance=void 0}return t}();var L5=F5=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;var u=i.getOption(67)+8,a=new Ga(150,u);s=t.call(this,i,a)||this,s._configurationService=r,s._accessibilityService=e,s._keybindingService=o,s._hover=s._register(new jO),s._minimumSize=a,s._hoverVisibleKey=hB.hoverVisible.bindTo(n),s._hoverFocusedKey=hB.hoverFocused.bindTo(n),_c(s._resizableNode.domNode,s._hover.containerDomNode),s._resizableNode.domNode.style.zIndex="50",s._register(s._editor.onDidLayoutChange((function(){s.isVisible&&s._updateMaxDimensions()}))),s._register(s._editor.onDidChangeConfiguration((function(t){t.hasChanged(50)&&s._updateFont()})));var c=s._register(Mc(s._resizableNode.domNode));s._register(c.onDidFocus((function(){s._hoverFocusedKey.set(!0)}))),s._register(c.onDidBlur((function(){s._hoverFocusedKey.set(!1)}))),s._setHoverData(void 0),s._editor.addContentWidget(s);return s}Object.defineProperty(i.prototype,"isColorPickerVisible",{get:function(){var t;return!!(!((t=this._visibleData)===null||t===void 0)&&t.colorPicker)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isVisibleFromKeyboard",{get:function(){var t;return((t=this._visibleData)===null||t===void 0?void 0:t.source)===1},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isVisible",{get:function(){var t;return(t=this._hoverVisibleKey.get())!==null&&t!==void 0&&t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isFocused",{get:function(){var t;return(t=this._hoverFocusedKey.get())!==null&&t!==void 0&&t},enumerable:false,configurable:true});i.prototype.dispose=function(){var i;t.prototype.dispose.call(this),(i=this._visibleData)===null||i===void 0||i.disposables.dispose(),this._editor.removeContentWidget(this)};i.prototype.getId=function(){return i.ID};i._applyDimensions=function(t,i,n){var r=typeof i=="number"?"".concat(i,"px"):i,e=typeof n=="number"?"".concat(n,"px"):n;t.style.width=r,t.style.height=e};i.prototype._setContentsDomNodeDimensions=function(t,n){var r=this._hover.contentsDomNode;return i._applyDimensions(r,t,n)};i.prototype._setContainerDomNodeDimensions=function(t,n){var r=this._hover.containerDomNode;return i._applyDimensions(r,t,n)};i.prototype._setHoverWidgetDimensions=function(t,i){this._setContentsDomNodeDimensions(t,i),this._setContainerDomNodeDimensions(t,i),this._layoutContentWidget()};i._applyMaxDimensions=function(t,i,n){var r=typeof i=="number"?"".concat(i,"px"):i,e=typeof n=="number"?"".concat(n,"px"):n;t.style.maxWidth=r,t.style.maxHeight=e};i.prototype._setHoverWidgetMaxDimensions=function(t,n){i._applyMaxDimensions(this._hover.contentsDomNode,t,n),i._applyMaxDimensions(this._hover.containerDomNode,t,n),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof t=="number"?"".concat(t,"px"):t),this._layoutContentWidget()};i.prototype._hasHorizontalScrollbar=function(){var t=this._hover.scrollbar.getScrollDimensions();return t.scrollWidth>t.width};i.prototype._adjustContentsBottomPadding=function(){var t=this._hover.contentsDomNode,i="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");t.style.paddingBottom!==i&&(t.style.paddingBottom=i)};i.prototype._setAdjustedHoverWidgetDimensions=function(t){this._setHoverWidgetMaxDimensions("none","none");var i=t.width,n=t.height;this._setHoverWidgetDimensions(i,n),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(i,n-10))};i.prototype._updateResizableNodeMaxDimensions=function(){var t,i;var n=(t=this._findMaximumRenderingWidth())!==null&&t!==void 0?t:1/0,r=(i=this._findMaximumRenderingHeight())!==null&&i!==void 0?i:1/0;this._resizableNode.maxSize=new Ga(n,r),this._setHoverWidgetMaxDimensions(n,r)};i.prototype._resize=function(t){var n,r;i._lastDimensions=new Ga(t.width,t.height),this._setAdjustedHoverWidgetDimensions(t),this._resizableNode.layout(t.height,t.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(r=(n=this._visibleData)===null||n===void 0?void 0:n.colorPicker)===null||r===void 0||r.layout()};i.prototype._findAvailableSpaceVertically=function(){var t;var i=(t=this._visibleData)===null||t===void 0?void 0:t.showAtPosition;if(i)return this._positionPreference===1?this._availableVerticalSpaceAbove(i):this._availableVerticalSpaceBelow(i)};i.prototype._findMaximumRenderingHeight=function(){var t=this._findAvailableSpaceVertically();if(!t)return;var i=6;return Array.from(this._hover.contentsDomNode.children).forEach((function(t){i+=t.clientHeight})),this._hasHorizontalScrollbar()&&(i+=10),Math.min(t,i)};i.prototype._isHoverTextOverflowing=function(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");var t=Array.from(this._hover.contentsDomNode.children).some((function(t){return t.scrollWidth>t.clientWidth}));return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),t};i.prototype._findMaximumRenderingWidth=function(){if(!this._editor||!this._editor.hasModel())return;var t=this._isHoverTextOverflowing(),i=this._contentWidth===void 0?0:this._contentWidth-2;return t||this._hover.containerDomNode.clientWidth<i?Pa(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2};i.prototype.isMouseGettingCloser=function(t,i){if(!this._visibleData)return!1;if(this._visibleData.initialMousePosX===void 0||this._visibleData.initialMousePosY===void 0)return this._visibleData.initialMousePosX=t,this._visibleData.initialMousePosY=i,!1;var n=Ka(this.getDomNode());this._visibleData.closestMouseDistance===void 0&&(this._visibleData.closestMouseDistance=U5(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,n.left,n.top,n.width,n.height));var r=U5(t,i,n.left,n.top,n.width,n.height);return!(r>this._visibleData.closestMouseDistance+4)&&(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,r),!0)};i.prototype._setHoverData=function(t){var i;(i=this._visibleData)===null||i===void 0||i.disposables.dispose(),this._visibleData=t,this._hoverVisibleKey.set(!!t),this._hover.containerDomNode.classList.toggle("hidden",!t)};i.prototype._updateFont=function(){var t=this;var i=this._editor.getOption(50),n=i.fontSize,r=i.lineHeight,e=this._hover.contentsDomNode;e.style.fontSize="".concat(n,"px"),e.style.lineHeight=""+r/n,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(i){return t._editor.applyFontInfo(i)}))};i.prototype._updateContent=function(t){var i=this._hover.contentsDomNode;i.style.paddingBottom="",i.textContent="",i.appendChild(t)};i.prototype._layoutContentWidget=function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()};i.prototype._updateMaxDimensions=function(){var t=Math.max(this._editor.getLayoutInfo().height/4,250,i._lastDimensions.height),n=Math.max(.66*this._editor.getLayoutInfo().width,500,i._lastDimensions.width);this._setHoverWidgetMaxDimensions(n,t)};i.prototype._render=function(t,i){this._setHoverData(i),this._updateFont(),this._updateContent(t),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()};i.prototype.getPosition=function(){var t;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(t=this._positionPreference)!==null&&t!==void 0?t:1]}:null};i.prototype.showAt=function(t,i){var n,r,e,o;if(!this._editor||!this._editor.hasModel())return;this._render(t,i);var s=tc(this._hover.containerDomNode),u=i.showAtPosition;this._positionPreference=(n=this._findPositionPreference(s,u))!==null&&n!==void 0?n:1,this.onContentsChanged(),i.stoleFocus&&this._hover.containerDomNode.focus(),(r=i.colorPicker)===null||r===void 0||r.layout();var a=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&UO(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(o=(e=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||e===void 0?void 0:e.getAriaLabel())!==null&&o!==void 0?o:"");a&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+a)};i.prototype.hide=function(){if(!this._visibleData)return;var t=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new Ga(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),t&&this._editor.focus()};i.prototype._removeConstraintsRenderNormally=function(){var t=this._editor.getLayoutInfo();this._resizableNode.layout(t.height,t.width),this._setHoverWidgetDimensions("auto","auto")};i.prototype._adjustHoverHeightForScrollbar=function(t){var i;var n=this._hover.containerDomNode,r=this._hover.contentsDomNode,e=(i=this._findMaximumRenderingHeight())!==null&&i!==void 0?i:1/0;this._setContainerDomNodeDimensions(qa(n),Math.min(e,t)),this._setContentsDomNodeDimensions(qa(r),Math.min(e,t-10))};i.prototype.setMinimumDimensions=function(t){this._minimumSize=new Ga(Math.max(this._minimumSize.width,t.width),Math.max(this._minimumSize.height,t.height)),this._updateMinimumWidth()};i.prototype._updateMinimumWidth=function(){var t=this._contentWidth===void 0?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new Ga(t,this._minimumSize.height)};i.prototype.onContentsChanged=function(){var t;this._removeConstraintsRenderNormally();var i=this._hover.containerDomNode;var n=tc(i),r=qa(i);if(this._resizableNode.layout(n,r),this._setHoverWidgetDimensions(r,n),n=tc(i),r=qa(i),this._contentWidth=r,this._updateMinimumWidth(),this._resizableNode.layout(n,r),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(n)),(t=this._visibleData)===null||t===void 0?void 0:t.showAtPosition){var e=tc(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(e,this._visibleData.showAtPosition)}this._layoutContentWidget()};i.prototype.focus=function(){this._hover.containerDomNode.focus()};i.prototype.scrollUp=function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,i=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:t-i.lineHeight})};i.prototype.scrollDown=function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,i=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:t+i.lineHeight})};i.prototype.scrollLeft=function(){var t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t-30})};i.prototype.scrollRight=function(){var t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t+30})};i.prototype.pageUp=function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,i=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t-i})};i.prototype.pageDown=function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,i=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t+i})};i.prototype.goToTop=function(){this._hover.scrollbar.setScrollPosition({scrollTop:0})};i.prototype.goToBottom=function(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})};return i}(M5);L5.ID="editor.contrib.resizableContentHoverWidget",L5._lastDimensions=new Ga(0,0),L5=F5=S5([I5(1,hf),I5(2,sd),I5(3,Kw),I5(4,vE)],L5);var j5=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._keybindingService=i,n._hasContent=!1,n.hoverElement=Q5("div.hover-row.status-bar"),n.actionsElement=_c(n.hoverElement,Q5("div.actions"));return n}Object.defineProperty(i.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:false,configurable:true});i.prototype.addAction=function(t){var i=this._keybindingService.lookupKeybinding(t.commandId),n=i?i.getLabel():null;return this._hasContent=!0,this._register(zO.render(this.actionsElement,t,n))};i.prototype.append=function(t){var i=_c(this.actionsElement,t);return this._hasContent=!0,i};return i}(Cn);j5=S5([I5(0,vE)],j5);var z5=function(){function t(t,i){this._editor=t,this._participants=i,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"shouldFocus",{get:function(){return this._shouldFocus},set:function(t){this._shouldFocus=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"insistOnKeepingHoverVisible",{get:function(){return this._insistOnKeepingHoverVisible},set:function(t){this._insistOnKeepingHoverVisible=t},enumerable:false,configurable:true});t._getLineDecorations=function(t,i){if(i.type!==1&&!i.supportsMarkerHover)return[];var n=t.getModel(),r=i.range.startLineNumber;if(r>n.getLineCount())return[];var e=n.getLineMaxColumn(r);return t.getLineDecorations(r).filter((function(t){if(t.options.isWholeLine)return!0;var n=t.range.startLineNumber===r?t.range.startColumn:1,o=t.range.endLineNumber===r?t.range.endColumn:e;if(t.options.showIfCollapsed){if(n>i.range.startColumn+1||i.range.endColumn-1>o)return!1}else if(n>i.range.startColumn||i.range.endColumn>o)return!1;return!0}))};t.prototype.computeAsync=function(i){var n=this._anchor;if(!this._editor.hasModel()||!n)return eu.EMPTY;var r=t._getLineDecorations(this._editor,n);return eu.merge(this._participants.map((function(t){return t.computeAsync?t.computeAsync(n,r,i):eu.EMPTY})))};t.prototype.computeSync=function(){if(!this._editor.hasModel()||!this._anchor)return[];var i=t._getLineDecorations(this._editor,this._anchor);var n=[];for(var r=0,e=this._participants;r<e.length;r++){var o=e[r];n=n.concat(o.computeSync(this._anchor,i))}return N(n)};return t}();function U5(t,i,n,r,e,o){var s=n+e/2,u=r+o/2,a=Math.max(Math.abs(t-s)-e/2,0),c=Math.max(Math.abs(i-u)-o/2,0);return Math.sqrt(a*a+c*c)}var H5=Nc;var Y5=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._renderDisposeables=e._register(new Bn),e._editor=i,e._isVisible=!1,e._messages=[],e._hover=e._register(new jO),e._hover.containerDomNode.classList.toggle("hidden",!e._isVisible),e._markdownRenderer=e._register(new JR({editor:e._editor},n,r)),e._computer=new J5(e._editor),e._hoverOperation=e._register(new x5(e._editor,e._computer)),e._register(e._hoverOperation.onResult((function(t){e._withResult(t.value)}))),e._register(e._editor.onDidChangeModelDecorations((function(){return e._onModelDecorationsChanged()}))),e._register(e._editor.onDidChangeConfiguration((function(t){t.hasChanged(50)&&e._updateFont()}))),e._editor.addOverlayWidget(e);return e}i.prototype.dispose=function(){this._editor.removeOverlayWidget(this),t.prototype.dispose.call(this)};i.prototype.getId=function(){return i.ID};i.prototype.getDomNode=function(){return this._hover.containerDomNode};i.prototype.getPosition=function(){return null};i.prototype._updateFont=function(){var t=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(i){return t._editor.applyFontInfo(i)}))};i.prototype._onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))};i.prototype.startShowingAt=function(t,i){this._computer.lineNumber===t&&this._computer.lane===i||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._computer.lane=i,this._hoverOperation.start(0))};i.prototype.hide=function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))};i.prototype._withResult=function(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()};i.prototype._renderMessages=function(t,i){this._renderDisposeables.clear();var n=document.createDocumentFragment();for(var r=0,e=i;r<e.length;r++){var o=e[r];var s=H5("div.hover-row.markdown-hover"),u=_c(s,H5("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(o.value));u.appendChild(a.element),n.appendChild(s)}this._updateContents(n),this._showAt(t)};i.prototype._updateContents=function(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()};i.prototype._showAt=function(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var i=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(t),r=this._editor.getScrollTop(),e=this._editor.getOption(67),o=n-r-(this._hover.containerDomNode.clientHeight-e)/2,s=i.glyphMarginLeft+i.glyphMarginWidth+(this._computer.lane==="lineNo"?i.lineNumbersWidth:0);this._hover.containerDomNode.style.left="".concat(s,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(o),0),"px")};return i}(Cn);Y5.ID="editor.contrib.modesGlyphHoverWidget";var J5=function(){function t(t){this._editor=t,this._lineNumber=-1,this._laneOrLine=Fv.Center}Object.defineProperty(t.prototype,"lineNumber",{get:function(){return this._lineNumber},set:function(t){this._lineNumber=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lane",{get:function(){return this._laneOrLine},set:function(t){this._laneOrLine=t},enumerable:false,configurable:true});t.prototype.computeSync=function(){var t,i;var n=function(t){return{value:t}},r=this._editor.getLineDecorations(this._lineNumber),e=[],o=this._laneOrLine==="lineNo";if(!r)return e;for(var s=0,u=r;s<u.length;s++){var a=u[s];var c=(i=(t=a.options.glyphMargin)===null||t===void 0?void 0:t.position)!==null&&i!==void 0?i:Fv.Center;if(!o&&c!==this._laneOrLine)continue;var h=o?a.options.lineNumberHoverMessage:a.options.glyphMarginHoverMessage;h&&!aR(h)&&e.push.apply(e,W(h).map(n))}return e};return t}();var P5=function(){function t(t,i,n){this.provider=t,this.hover=i,this.ordinal=n}return t}();function W5(t,i,n,r){var e=t.ordered(i).map((function(t,e){return function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s;return __generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,Promise.resolve(t.provideHover(n,r,e))];case 1:o=u.sent();if(o&&function(t){var i=t.range!==void 0,n=t.contents!==void 0&&t.contents&&t.contents.length>0;return i&&n}(o))return[2,new P5(t,o,i)];return[3,3];case 2:s=u.sent();hn(s);return[3,3];case 3:return[2]}}))}))}(t,e,i,n,r)}));return eu.fromPromises(e).coalesce()}qf("_executeHoverProvider",(function(t,i,n){return function(t,i,n,r){return W5(t,i,n,r).map((function(t){return t.hover})).toPromise()}(t.get(gg).hoverProvider,i,n,Gn.None)}));var G5=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},V5=function(t,i){return function(n,r){i(n,r,t)}};var K5=Nc;var X5=function(){function t(t,i,n,r,e){this.owner=t,this.range=i,this.contents=n,this.isBeforeContent=r,this.ordinal=e}t.prototype.isValidForHoverAnchor=function(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn};return t}();var q5=function(){function t(t,i,n,r,e){this._editor=t,this._languageService=i,this._openerService=n,this._configurationService=r,this._languageFeaturesService=e,this.hoverOrdinal=3}t.prototype.createLoadingMessage=function(t){return new X5(this,t.range,[(new uR).appendText(Bt(0,"Loading..."))],!1,2e3)};t.prototype.computeSync=function(t,i){if(!this._editor.hasModel()||t.type!==1)return[];var n=this._editor.getModel(),r=t.range.startLineNumber,e=n.getLineMaxColumn(r),o=[];var s=1e3;var u=n.getLineLength(r),a=n.getLanguageIdAtPosition(t.range.startLineNumber,t.range.startColumn),c=this._editor.getOption(117),h=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:a});var f=!1;c>=0&&u>c&&t.range.startColumn>=c&&(f=!0,o.push(new X5(this,t.range,[{value:Bt(0,"Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,s++))),!f&&typeof h=="number"&&u>=h&&o.push(new X5(this,t.range,[{value:Bt(0,"Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,s++));var l=!1;for(var d=0,v=i;d<v.length;d++){var A=v[d];var g=A.range.startLineNumber===r?A.range.startColumn:1,w=A.range.endLineNumber===r?A.range.endColumn:e,p=A.options.hoverMessage;if(!p||aR(p))continue;A.options.beforeContentClassName&&(l=!0);var m=new Zr(t.range.startLineNumber,g,t.range.startLineNumber,w);o.push(new X5(this,m,W(p),l,s++))}return o};t.prototype.computeAsync=function(t,i,n){var r=this;if(!this._editor.hasModel()||t.type!==1)return eu.EMPTY;var e=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(e))return eu.EMPTY;var o=new qr(t.range.startLineNumber,t.range.startColumn);return W5(this._languageFeaturesService.hoverProvider,e,o,n).filter((function(t){return!aR(t.hover.contents)})).map((function(i){var n=i.hover.range?Zr.lift(i.hover.range):t.range;return new X5(r,n,i.hover.contents,!1,i.ordinal)}))};t.prototype.renderHoverParts=function(t,i){return Z5(t,i,this._editor,this._languageService,this._openerService)};return t}();function Z5(t,i,n,r,e){i.sort((function(t,i){return t.ordinal-i.ordinal}));var o=new Bn;for(var s=0,u=i;s<u.length;s++){var a=u[s];var c=function(i){if(aR(i))return"continue";var s=K5("div.hover-row.markdown-hover"),u=_c(s,K5("div.hover-contents")),a=o.add(new JR({editor:n},r,e));o.add(a.onDidRenderAsync((function(){u.className="hover-contents code-hover-contents",t.onContentsChanged()})));var c=o.add(a.render(i));u.appendChild(c.element),t.fragment.appendChild(s)};for(var h=0,f=a.contents;h<f.length;h++){var l=f[h];c(l)}}return o}q5=G5([V5(1,ld),V5(2,HO),V5(3,sd),V5(4,gg)],q5);var $5=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},t8=function(t,i){return function(n,r){i(n,r,t)}};var i8=function(){function t(t,i,n){this.marker=t,this.index=i,this.total=n}return t}();var n8=function(){function t(t,i,n){var r=this;this._markerService=i,this._configService=n,this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this._dispoables=new Bn,this._markers=[],this._nextIdx=-1,zr.isUri(t)?this._resourceFilter=function(i){return i.toString()===t.toString()}:t&&(this._resourceFilter=t);var e=this._configService.getValue("problems.sortOrder"),o=function(t,i){var n=Qo(t.resource.toString(),i.resource.toString());return n===0&&(n=e==="position"?Zr.compareRangesUsingStarts(t,i)||SU.compare(t.severity,i.severity):SU.compare(t.severity,i.severity)||Zr.compareRangesUsingStarts(t,i)),n},s=function(){r._markers=r._markerService.read({resource:zr.isUri(t)?t:void 0,severities:SU.Error|SU.Warning|SU.Info}),typeof t=="function"&&(r._markers=r._markers.filter((function(t){return r._resourceFilter(t.resource)}))),r._markers.sort(o)};s(),this._dispoables.add(i.onMarkerChanged((function(t){r._resourceFilter&&!t.some((function(t){return r._resourceFilter(t)}))||(s(),r._nextIdx=-1,r._onDidChange.fire())})))}t.prototype.dispose=function(){this._dispoables.dispose(),this._onDidChange.dispose()};t.prototype.matches=function(t){return!this._resourceFilter&&!t||!(!this._resourceFilter||!t)&&this._resourceFilter(t)};Object.defineProperty(t.prototype,"selected",{get:function(){var t=this._markers[this._nextIdx];return t&&new i8(t,this._nextIdx+1,this._markers.length)},enumerable:false,configurable:true});t.prototype._initIdx=function(t,i,n){var r=!1,e=this._markers.findIndex((function(i){return i.resource.toString()===t.uri.toString()}));e<0&&(e=F(this._markers,{resource:t.uri},(function(t,i){return Qo(t.resource.toString(),i.resource.toString())})),e<0&&(e=~e));for(var o=e;o<this._markers.length;o++){var s=Zr.lift(this._markers[o]);if(s.isEmpty()){var u=t.getWordAtPosition(s.getStartPosition());u&&(s=new Zr(s.startLineNumber,u.startColumn,s.startLineNumber,u.endColumn))}if(i&&(s.containsPosition(i)||i.isBeforeOrEqual(s.getStartPosition()))){this._nextIdx=o,r=!0;break}if(this._markers[o].resource.toString()!==t.uri.toString())break}r||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)};t.prototype.resetIndex=function(){this._nextIdx=-1};t.prototype.move=function(t,i,n){if(this._markers.length===0)return!1;var r=this._nextIdx;return this._nextIdx===-1?this._initIdx(i,n,t):t?this._nextIdx=(this._nextIdx+1)%this._markers.length:t||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx};t.prototype.find=function(t,i){var n=this._markers.findIndex((function(i){return i.resource.toString()===t.toString()}));if(!(n<0)){for(;n<this._markers.length;n++)if(Zr.containsPosition(this._markers[n],i))return new i8(this._markers[n],n+1,this._markers.length)}};return t}();n8=$5([t8(1,QU),t8(2,sd)],n8);var r8=lh("IMarkerNavigationService");var e8=function(){function t(t,i){this._markerService=t,this._configService=i,this._provider=new gi}t.prototype.getMarkerList=function(t){for(var i=0,n=this._provider;i<n.length;i++){var r=n[i];var e=r.getMarkerList(t);if(e)return e}return new n8(t,this._markerService,this._configService)};return t}();var o8;e8=$5([t8(0,QU),t8(1,sd)],e8),Ad(r8,e8,1),function(t){t.className=function(t){switch(t){case YI.Ignore:return"severity-ignore "+xh.asClassName(re.info);case YI.Info:return xh.asClassName(re.info);case YI.Warning:return xh.asClassName(re.warning);case YI.Error:return xh.asClassName(re.error);default:return""}}}(o8||(o8={}));var s8,u8=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},a8=function(t,i){return function(n,r){i(n,r,t)}};var c8=function(){function t(t,i,n,r,e){var o=this;this._openerService=r,this._labelService=e,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Bn,this._editor=i;var s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(Ra(this._relatedBlock,"click",(function(t){t.preventDefault();var i=o._relatedDiagnostics.get(t.target);i&&n(i)}))),this._scrollable=new Ok(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(t){s.style.left="-".concat(t.scrollLeft,"px"),s.style.top="-".concat(t.scrollTop,"px")}))),this._disposables.add(this._scrollable)}t.prototype.dispose=function(){kn(this._disposables)};t.prototype.update=function(t){var i=this;var n=t.source,r=t.message,e=t.relatedInformation,o=t.code;var s=((n==null?void 0:n.length)||0)+2;o&&(s+=typeof o=="string"?o.length:o.value.length);var u=_o(r);this._lines=u.length,this._longestLineLength=0;for(var a=0,c=u;a<c.length;a++){var h=c[a];this._longestLineLength=Math.max(h.length+s,this._longestLineLength)}Ia(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(t)),this._editor.applyFontInfo(this._messageBlock);var f=this._messageBlock;for(var l=0,d=u;l<d.length;l++){var h=d[l];f=document.createElement("div"),f.innerText=h,h===""&&(f.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(f)}if(n||o){var h=document.createElement("span");if(h.classList.add("details"),f.appendChild(h),n){var v=document.createElement("span");v.innerText=n,v.classList.add("source"),h.appendChild(v)}if(o)if(typeof o=="string"){var v=document.createElement("span");v.innerText="(".concat(o,")"),v.classList.add("code"),h.appendChild(v)}else this._codeLink=Nc("a.code-link"),this._codeLink.setAttribute("href","".concat(o.target.toString())),this._codeLink.onclick=function(t){i._openerService.open(o.target,{allowCommands:!0}),t.preventDefault(),t.stopPropagation()},_c(this._codeLink,Nc("span")).innerText=o.value,h.appendChild(this._codeLink)}if(Ia(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),L(e)){var h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop="".concat(Math.floor(.66*this._editor.getOption(67)),"px"),this._lines+=1;for(var A=0,g=e;A<g.length;A++){var v=g[A];var w=document.createElement("div"),p=document.createElement("a");p.classList.add("filename"),p.innerText="".concat(this._labelService.getUriBasenameLabel(v.resource),"(").concat(v.startLineNumber,", ").concat(v.startColumn,"): "),p.title=this._labelService.getUriLabel(v.resource),this._relatedDiagnostics.set(p,v);var m=document.createElement("span");m.innerText=v.message,w.appendChild(p),w.appendChild(m),this._lines+=1,h.appendChild(w)}}var b=this._editor.getOption(50),y=Math.ceil(b.typicalFullwidthCharacterWidth*this._longestLineLength*.75),k=b.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:y,scrollHeight:k})};t.prototype.layout=function(t,i){this._scrollable.getDomNode().style.height="".concat(t,"px"),this._scrollable.getDomNode().style.width="".concat(i,"px"),this._scrollable.setScrollDimensions({width:i,height:t})};t.prototype.getHeightInLines=function(){return Math.min(17,this._lines)};t.prototype.getAriaLabel=function(t){var i="";switch(t.severity){case SU.Error:i=Bt(0,"Error");break;case SU.Warning:i=Bt(0,"Warning");break;case SU.Info:i=Bt(0,"Info");break;case SU.Hint:i=Bt(0,"Hint")}var n=Bt(0,"{0} at {1}. ",i,t.startLineNumber+":"+t.startColumn);var r=this._editor.getModel();return r&&t.startLineNumber<=r.getLineCount()&&t.startLineNumber>=1&&(n="".concat(r.getLineContent(t.startLineNumber),", ").concat(n)),n};return t}();var h8=s8=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this,i,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o)||this,a._themeService=n,a._openerService=r,a._menuService=e,a._contextKeyService=s,a._labelService=u,a._callOnDispose=new Bn,a._onDidSelectRelatedInformation=new Ln,a.onDidSelectRelatedInformation=a._onDidSelectRelatedInformation.event,a._severity=SU.Warning,a._backgroundColor=ZA.white,a._applyTheme(n.getColorTheme()),a._callOnDispose.add(n.onDidColorThemeChange(a._applyTheme.bind(a))),a.create();return a}i.prototype._applyTheme=function(t){this._backgroundColor=t.getColor(b8);var i=v8,n=A8;this._severity===SU.Warning?(i=g8,n=w8):this._severity===SU.Info&&(i=p8,n=m8);var r=t.getColor(i),e=t.getColor(n);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:e,primaryHeadingColor:t.getColor(h3),secondaryHeadingColor:t.getColor(f3)})};i.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),t.prototype._applyStyles.call(this)};i.prototype.dispose=function(){this._callOnDispose.dispose(),t.prototype.dispose.call(this)};i.prototype._fillHead=function(n){var r=this;t.prototype._fillHead.call(this,n),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun((function(t){return r.editor.focus()})));var e=[],o=this._menuService.createMenu(i.TitleMenu,this._contextKeyService);nU(o,void 0,e),this._actionbarWidget.push(e,{label:!1,icon:!0,index:0}),o.dispose()};i.prototype._fillTitleIcon=function(t){this._icon=_c(t,Nc(""))};i.prototype._fillBody=function(t){var i=this;this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new c8(this._container,this.editor,(function(t){return i._onDidSelectRelatedInformation.fire(t)}),this._openerService,this._labelService),this._disposables.add(this._message)};i.prototype.show=function(){throw new Error("call showAtMarker")};i.prototype.showAtMarker=function(i,n,r){this._container.classList.remove("stale"),this._message.update(i),this._severity=i.severity,this._applyTheme(this._themeService.getColorTheme());var e=Zr.lift(i),o=this.editor.getPosition(),s=o&&e.containsPosition(o)?o:e.getStartPosition();t.prototype.show.call(this,s,this.computeRequiredHeight());var u=this.editor.getModel();if(u){var a=Bt(0,r>1?"{0} of {1} problems":"{0} of {1} problem",n,r);this.setTitle(t_(u.uri),a)}this._icon.className="codicon ".concat(o8.className(SU.toSeverity(this._severity))),this.editor.revealPositionNearTop(s,0),this.editor.focus()};i.prototype.updateMarker=function(t){this._container.classList.remove("stale"),this._message.update(t)};i.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()};i.prototype._doLayoutBody=function(i,n){t.prototype._doLayoutBody.call(this,i,n),this._heightInPixel=i,this._message.layout(i,n),this._container.style.height="".concat(i,"px")};i.prototype._onWidth=function(t){this._message.layout(this._heightInPixel,t)};i.prototype._relayout=function(){t.prototype._relayout.call(this,this.computeRequiredHeight())};i.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()};return i}(a3);h8.TitleMenu=new _f("gotoErrorTitleMenu"),h8=s8=u8([a8(1,ex),a8(2,HO),a8(3,Ff),a8(4,fh),a8(5,hf),a8(6,XT)],h8);var f8=Ap(jp,zp),l8=Ap(Hp,Yp),d8=Ap(Jp,Pp),v8=fp("editorMarkerNavigationError.background",{dark:f8,light:f8,hcDark:Ep,hcLight:Ep},Bt(0,"Editor marker navigation widget error color.")),A8=fp("editorMarkerNavigationError.headerBackground",{dark:vp(v8,.1),light:vp(v8,.1),hcDark:null,hcLight:null},Bt(0,"Editor marker navigation widget error heading background.")),g8=fp("editorMarkerNavigationWarning.background",{dark:l8,light:l8,hcDark:Ep,hcLight:Ep},Bt(0,"Editor marker navigation widget warning color.")),w8=fp("editorMarkerNavigationWarning.headerBackground",{dark:vp(g8,.1),light:vp(g8,.1),hcDark:"#0C141F",hcLight:vp(g8,.2)},Bt(0,"Editor marker navigation widget warning heading background.")),p8=fp("editorMarkerNavigationInfo.background",{dark:d8,light:d8,hcDark:Ep,hcLight:Ep},Bt(0,"Editor marker navigation widget info color.")),m8=fp("editorMarkerNavigationInfo.headerBackground",{dark:vp(p8,.1),light:vp(p8,.1),hcDark:null,hcLight:null},Bt(0,"Editor marker navigation widget info heading background.")),b8=fp("editorMarkerNavigation.background",{dark:Op,light:Op,hcDark:Op,hcLight:Op},Bt(0,"Editor marker navigation widget background."));var y8,k8=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},x8=function(t,i){return function(n,r){i(n,r,t)}};var E8=y8=function(){function t(t,i,n,r,e){this._markerNavigationService=i,this._contextKeyService=n,this._editorService=r,this._instantiationService=e,this._sessionDispoables=new Bn,this._editor=t,this._widgetVisible=M8.bindTo(this._contextKeyService)}t.get=function(t){return t.getContribution(y8.ID)};t.prototype.dispose=function(){this._cleanUp(),this._sessionDispoables.dispose()};t.prototype._cleanUp=function(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0};t.prototype._getOrCreateModel=function(t){var i=this;if(this._model&&this._model.matches(t))return this._model;var n=!1;return this._model&&(n=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(t),n&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(h8,this._editor),this._widget.onDidClose((function(){return i.close()}),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((function(t){var n,r,e;!((n=i._model)===null||n===void 0)&&n.selected&&Zr.containsPosition((r=i._model)===null||r===void 0?void 0:r.selected.marker,t.position)||(e=i._model)===null||e===void 0||e.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((function(){if(!i._widget||!i._widget.position||!i._model)return;var t=i._model.find(i._editor.getModel().uri,i._widget.position);t?i._widget.updateMarker(t.marker):i._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((function(t){i._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:Zr.lift(t).collapseToStart()}},i._editor),i.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((function(){return i._cleanUp()}))),this._model};t.prototype.close=function(t){if(t===void 0){t=!0}this._cleanUp(),t&&this._editor.focus()};t.prototype.showAtMarker=function(t){if(this._editor.hasModel()){var i=this._getOrCreateModel(this._editor.getModel().uri);i.resetIndex(),i.move(!0,this._editor.getModel(),new qr(t.startLineNumber,t.startColumn)),i.selected&&this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}};t.prototype.nagivate=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:if(!this._editor.hasModel())return[3,3];e=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(e.move(t,this._editor.getModel(),this._editor.getPosition()),!e.selected)return[2];if(!(e.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()))return[3,2];this._cleanUp();return[4,this._editorService.openCodeEditor({resource:e.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:e.selected.marker}},this._editor)];case 1:o=s.sent();o&&((n=y8.get(o))===null||n===void 0||n.close(),(r=y8.get(o))===null||r===void 0||r.nagivate(t,i));return[3,3];case 2:this._widget.showAtMarker(e.selected.marker,e.selected.index,e.selected.total);s.label=3;case 3:return[2]}}))}))};return t}();E8.ID="editor.contrib.markerController",E8=y8=k8([x8(1,r8),x8(2,hf),x8(3,dh),x8(4,fh)],E8);var B8=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,r)||this,e._next=i,e._multiFile=n;return e}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){i.hasModel()&&((t=E8.get(i))===null||t===void 0||t.nagivate(this._next,this._multiFile));return[2]}))}))};return i}(Vf);var C8=function(t){__extends(i,t);function i(){return t.call(this,!0,!1,{id:i.ID,label:i.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:578,weight:100},menuOpts:{menuId:h8.TitleMenu,title:i.LABEL,icon:DW("marker-navigation-next",re.arrowDown,Bt(0,"Icon for goto next marker.")),group:"navigation",order:1}})||this}return i}(B8);C8.ID="editor.action.marker.next",C8.LABEL=Bt(0,"Go to Next Problem (Error, Warning, Info)");var D8=function(t){__extends(i,t);function i(){return t.call(this,!1,!1,{id:i.ID,label:i.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:1602,weight:100},menuOpts:{menuId:h8.TitleMenu,title:i.LABEL,icon:DW("marker-navigation-previous",re.arrowUp,Bt(0,"Icon for goto previous marker.")),group:"navigation",order:2}})||this}return i}(B8);D8.ID="editor.action.marker.prev",D8.LABEL=Bt(0,"Go to Previous Problem (Error, Warning, Info)");il(E8.ID,E8,4),$f(C8),$f(D8),$f(function(t){__extends(i,t);function i(){return t.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:Bt(0,"Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:66,weight:100},menuOpts:{menuId:_f.MenubarGoMenu,title:Bt(0,"Next &&Problem"),group:"6_problem_nav",order:1}})||this}return i}(B8)),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:Bt(0,"Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:1090,weight:100},menuOpts:{menuId:_f.MenubarGoMenu,title:Bt(0,"Previous &&Problem"),group:"6_problem_nav",order:2}})||this}return i}(B8));var M8=new cf("markersNavigationVisible",!1);Zf(new(Gf.bindToContribution(E8.get))({id:"closeMarkersNavigation",precondition:M8,handler:function(t){return t.close()},kbOpts:{weight:150,kbExpr:hB.focus,primary:9,secondary:[1033]}}));var _8=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},F8=function(t,i){return function(n,r){i(n,r,t)}};var S8=Nc;var I8=function(){function t(t,i,n){this.owner=t,this.range=i,this.marker=n}t.prototype.isValidForHoverAnchor=function(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn};return t}();var Q8={type:1,filter:{include:T1.QuickFix},triggerAction:L1.QuickFixHover};var O8=function(){function t(t,i,n,r){this._editor=t,this._markerDecorationsService=i,this._openerService=n,this._languageFeaturesService=r,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}t.prototype.computeSync=function(t,i){if(!this._editor.hasModel()||t.type!==1&&!t.supportsMarkerHover)return[];var n=this._editor.getModel(),r=t.range.startLineNumber,e=n.getLineMaxColumn(r),o=[];for(var s=0,u=i;s<u.length;s++){var a=u[s];var c=a.range.startLineNumber===r?a.range.startColumn:1,h=a.range.endLineNumber===r?a.range.endColumn:e,f=this._markerDecorationsService.getMarker(n.uri,a);if(!f)continue;var l=new Zr(t.range.startLineNumber,c,t.range.startLineNumber,h);o.push(new I8(this,l,f))}return o};t.prototype.renderHoverParts=function(t,i){var n=this;if(!i.length)return Cn.None;var r=new Bn;i.forEach((function(i){return t.fragment.appendChild(n.renderMarkerHover(i,r))}));var e=i.length===1?i[0]:i.sort((function(t,i){return SU.compare(t.marker.severity,i.marker.severity)}))[0];return this.renderMarkerStatusbar(t,e,r),r};t.prototype.renderMarkerHover=function(t,i){var n=this;var r=S8("div.hover-row"),e=_c(r,S8("div.marker.hover-contents")),o=t.marker,s=o.source,u=o.message,a=o.code,c=o.relatedInformation;this._editor.applyFontInfo(e);var h=_c(e,S8("span"));if(h.style.whiteSpace="pre-wrap",h.innerText=u,s||a)if(a&&typeof a!="string"){var f=S8("span");s&&(_c(f,S8("span")).innerText=s);var l=_c(f,S8("a.code-link"));l.setAttribute("href",a.target.toString()),i.add(Oa(l,"click",(function(t){n._openerService.open(a.target,{allowCommands:!0}),t.preventDefault(),t.stopPropagation()}))),_c(l,S8("span")).innerText=a.value;var d=_c(e,f);d.style.opacity="0.6",d.style.paddingLeft="6px"}else{var f=_c(e,S8("span"));f.style.opacity="0.6",f.style.paddingLeft="6px",f.innerText=s&&a?"".concat(s,"(").concat(a,")"):s||"(".concat(a,")")}if(L(c)){var v=function(t,r,o,s){var u=_c(e,S8("div"));u.style.marginTop="8px";var a=_c(u,S8("a"));a.innerText="".concat(t_(r),"(").concat(o,", ").concat(s,"): "),a.style.cursor="pointer",i.add(Oa(a,"click",(function(t){t.stopPropagation(),t.preventDefault(),n._openerService&&n._openerService.open(r,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:o,startColumn:s}}}).catch(cn)})));var c=_c(u,S8("span"));c.innerText=t,A._editor.applyFontInfo(c)};var A=this;for(var g=0,w=c;g<w.length;g++){var p=w[g],f=p.message,m=p.resource,d=p.startLineNumber,b=p.startColumn;v(f,m,d,b)}}return r};t.prototype.renderMarkerStatusbar=function(t,i,n){var r=this;if(i.marker.severity===SU.Error||i.marker.severity===SU.Warning||i.marker.severity===SU.Info){var e=E8.get(this._editor);e&&t.statusBar.addAction({label:Bt(0,"View Problem"),commandId:C8.ID,run:function(){t.hide(),e.showAtMarker(i.marker),r._editor.focus()}})}if(!this._editor.getOption(91)){var o=t.statusBar.append(S8("div"));this.recentMarkerCodeActionsInfo&&(IU.makeKey(this.recentMarkerCodeActionsInfo.marker)===IU.makeKey(i.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=Bt(0,"No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Cn.None:Gs((function(){return o.textContent=Bt(0,"Checking for quick fixes...")}),200,n);o.textContent||(o.textContent=" ");var u=this.getCodeActions(i.marker);n.add(En((function(){return u.cancel()}))),u.then((function(e){if(s.dispose(),r.recentMarkerCodeActionsInfo={marker:i.marker,hasCodeActions:e.validActions.length>0},!r.recentMarkerCodeActionsInfo.hasCodeActions)return e.dispose(),void(o.textContent=Bt(0,"No quick fixes available"));o.style.display="none";var u=!1;n.add(En((function(){u||e.dispose()}))),t.statusBar.addAction({label:Bt(0,"Quick Fix..."),commandId:Y1,run:function(i){u=!0;var n=L2.get(r._editor),o=Ka(i);t.hide(),n==null||n.showCodeActions(Q8,e,{x:o.left,y:o.top,width:o.width,height:o.height})}})}),cn)}};t.prototype.getCodeActions=function(t){var i=this;return Us((function(n){return q1(i._languageFeaturesService.codeActionProvider,i._editor.getModel(),new Zr(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),Q8,ZT.None,n)}))};return t}();O8=_8([F8(1,jw),F8(2,HO),F8(3,gg)],O8);var N8="editor.action.inlineSuggest.commit",R8="editor.action.inlineSuggest.showPrevious",T8="editor.action.inlineSuggest.showNext";var L8,j8=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},z8=function(t,i){return function(n,r){i(n,r,t)}};var U8=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.model=n,e.instantiationService=r,e.alwaysShowToolbar=Rj(e.editor.onDidChangeConfiguration,(function(){return e.editor.getOption(62).showToolbar==="always"})),e.sessionPosition=void 0,e.position=Ej(e,(function(t){var i,n,r;var o=(i=e.model.read(t))===null||i===void 0?void 0:i.primaryGhostText.read(t);if(!e.alwaysShowToolbar.read(t)||!o||o.parts.length===0)return e.sessionPosition=void 0,null;var s=o.parts[0].column;e.sessionPosition&&e.sessionPosition.lineNumber!==o.lineNumber&&(e.sessionPosition=void 0);var u=new qr(o.lineNumber,Math.min(s,(r=(n=e.sessionPosition)===null||n===void 0?void 0:n.column)!==null&&r!==void 0?r:Number.MAX_SAFE_INTEGER));return e.sessionPosition=u,u})),e._register(Ij((function(t,n){var r=e.model.read(t);if(!r||!e.alwaysShowToolbar.read(t))return;var o=n.add(e.instantiationService.createInstance(J8,e.editor,!0,e.position,r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.selectedInlineCompletion.map((function(t){var i;return(i=t==null?void 0:t.inlineCompletion.source.inlineCompletions.commands)!==null&&i!==void 0?i:[]}))));i.addContentWidget(o),n.add(En((function(){return i.removeContentWidget(o)}))),n.add(_j((function(t){e.position.read(t)&&r.lastTriggerKind.read(t)!==ce.Explicit&&r.triggerExplicitly()})))})));return e}return i}(Cn);U8=j8([z8(2,fh)],U8);var H8=DW("inline-suggestion-hints-next",re.chevronRight,Bt(0,"Icon for show next parameter hint.")),Y8=DW("inline-suggestion-hints-previous",re.chevronLeft,Bt(0,"Icon for show previous parameter hint."));var J8=L8=function(t){__extends(i,t);function i(n,r,e,o,s,u,a,c,h,f,l){var d=this;d=t.call(this)||this,d.editor=n,d.withBorder=r,d._position=e,d._currentSuggestionIdx=o,d._suggestionCount=s,d._extraCommands=u,d._commandService=a,d.keybindingService=h,d._contextKeyService=f,d._menuService=l,d.id="InlineSuggestionHintsContentWidget"+i.id++,d.allowEditorOverflow=!0,d.suppressMouseDown=!1,d.nodes=Gc("div.inlineSuggestionsHints",{className:d.withBorder?".withBorder":""},[Gc("div@toolBar")]),d.previousAction=d.createCommandAction(R8,Bt(0,"Previous"),xh.asClassName(Y8)),d.availableSuggestionCountAction=new gh("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),d.nextAction=d.createCommandAction(T8,Bt(0,"Next"),xh.asClassName(H8)),d.inlineCompletionsActionsMenus=d._register(d._menuService.createMenu(_f.InlineCompletionsActions,d._contextKeyService)),d.clearAvailableSuggestionCountLabelDebounced=d._register(new qs((function(){d.availableSuggestionCountAction.label=""}),100)),d.disableButtonsDebounced=d._register(new qs((function(){d.previousAction.enabled=d.nextAction.enabled=!1}),100)),d.lastCommands=[],d.toolBar=d._register(c.createInstance(G8,d.nodes.toolBar,_f.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:function(t){return t.startsWith("primary")}},actionViewItemProvider:function(t,i){if(t instanceof Of)return c.createInstance(W8,t,void 0);if(t===d.availableSuggestionCountAction){var n=new P8(void 0,t,{label:!0,icon:!1});return n.setClass("availableSuggestionCount"),n}},telemetrySource:"InlineSuggestionToolbar"})),d.toolBar.setPrependedPrimaryActions([d.previousAction,d.availableSuggestionCountAction,d.nextAction]),d._register(d.toolBar.onDidChangeDropdownVisibility((function(t){i._dropDownVisible=t}))),d._register(_j((function(t){d._position.read(t),d.editor.layoutContentWidget(d)}))),d._register(_j((function(t){var i=d._suggestionCount.read(t),n=d._currentSuggestionIdx.read(t);i!==void 0?(d.clearAvailableSuggestionCountLabelDebounced.cancel(),d.availableSuggestionCountAction.label="".concat(n+1,"/").concat(i)):d.clearAvailableSuggestionCountLabelDebounced.schedule(),i!==void 0&&i>1?(d.disableButtonsDebounced.cancel(),d.previousAction.enabled=d.nextAction.enabled=!0):d.disableButtonsDebounced.schedule()}))),d._register(_j((function(t){var i=d._extraCommands.read(t);if(_(d.lastCommands,i))return;d.lastCommands=i;var n=i.map((function(t){return{class:void 0,id:t.id,enabled:!0,tooltip:t.tooltip||"",label:t.title,run:function(i){return d._commandService.executeCommand(t.id)}}}));for(var r=0,e=d.inlineCompletionsActionsMenus.getActions();r<e.length;r++){var o=e[r],s=o[0],u=o[1];for(var a=0,c=u;a<c.length;a++){var h=c[a];h instanceof Of&&n.push(h)}}n.length>0&&n.unshift(new ph),d.toolBar.setAdditionalSecondaryActions(n)})));return d}Object.defineProperty(i,"dropDownVisible",{get:function(){return this._dropDownVisible},enumerable:false,configurable:true});i.prototype.createCommandAction=function(t,i,n){var r=this;var e=new gh(t,i,n,!0,(function(){return r._commandService.executeCommand(t)})),o=this.keybindingService.lookupKeybinding(t,this._contextKeyService);var s=i;return o&&(s=Bt(0,"{0} ({1})",i,o.getLabel())),e.tooltip=s,e};i.prototype.getId=function(){return this.id};i.prototype.getDomNode=function(){return this.nodes.root};i.prototype.getPosition=function(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}};return i}(Cn);J8._dropDownVisible=!1,J8.id=0,J8=L8=j8([z8(6,Eh),z8(7,fh),z8(8,vE),z8(9,hf),z8(10,Ff)],J8);var P8=function(t){__extends(i,t);function i(){var i=this;i=t.apply(this,arguments)||this,i._className=void 0;return i}i.prototype.setClass=function(t){this._className=t};i.prototype.render=function(i){t.prototype.render.call(this,i),this._className&&i.classList.add(this._className)};i.prototype.updateTooltip=function(){};return i}(Mz);var W8=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.updateLabel=function(){var i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return t.prototype.updateLabel.call(this);if(this.label){var n=Gc("div.keybinding").root;this._register(new wP(n,ei,__assign({disableTitle:!0},gP))).set(i),this.label.textContent=this._action.label,this.label.appendChild(n),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}};i.prototype.updateTooltip=function(){};return i}(eU),G8=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;c=t.call(this,i,__assign({resetMenu:n},r),e,o,s,u,a)||this,c.menuId=n,c.options2=r,c.menuService=e,c.contextKeyService=o,c.menu=c._store.add(c.menuService.createMenu(c.menuId,c.contextKeyService,{emitEventsForSubmenuChanges:!0})),c.additionalActions=[],c.prependedPrimaryActions=[],c._store.add(c.menu.onDidChange((function(){return c.updateToolbar()}))),c.updateToolbar();return c}i.prototype.updateToolbar=function(){var t,i,n,r,e,o,s;var u=[],a=[];nU(this.menu,(t=this.options2)===null||t===void 0?void 0:t.menuOptions,{primary:u,secondary:a},(n=(i=this.options2)===null||i===void 0?void 0:i.toolbarOptions)===null||n===void 0?void 0:n.primaryGroup,(e=(r=this.options2)===null||r===void 0?void 0:r.toolbarOptions)===null||e===void 0?void 0:e.shouldInlineSubmenu,(s=(o=this.options2)===null||o===void 0?void 0:o.toolbarOptions)===null||s===void 0?void 0:s.useSeparatorsInPrimaryActions),a.push.apply(a,this.additionalActions),u.unshift.apply(u,this.prependedPrimaryActions),this.setActions(u,a)};i.prototype.setPrependedPrimaryActions=function(t){_(this.prependedPrimaryActions,t,(function(t,i){return t===i}))||(this.prependedPrimaryActions=t,this.updateToolbar())};i.prototype.setAdditionalSecondaryActions=function(t){_(this.additionalActions,t,(function(t,i){return t===i}))||(this.additionalActions=t,this.updateToolbar())};return i}(rX);G8=j8([z8(3,Ff),z8(4,hf),z8(5,TO),z8(6,vE),z8(7,Tf)],G8);var V8,K8=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},X8=function(t,i){return function(n,r){i(n,r,t)}};var q8=V8=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._editor=i,s._instantiationService=n,s._openerService=r,s._languageService=e,s._keybindingService=o,s._listenersStore=new Bn,s._hoverState={mouseDown:!1,contentHoverFocused:!1,activatedByDecoratorClick:!1},s._reactToEditorMouseMoveRunner=s._register(new qs((function(){return s._reactToEditorMouseMove(s._mouseMoveEvent)}),0)),s._hookListeners(),s._register(s._editor.onDidChangeConfiguration((function(t){t.hasChanged(60)&&(s._unhookListeners(),s._hookListeners())})));return s}i.get=function(t){return t.getContribution(i.ID)};i.prototype._hookListeners=function(){var t=this;var i=this._editor.getOption(60);this._hoverSettings={enabled:i.enabled,sticky:i.sticky,hidingDelay:i.delay},i.enabled?(this._listenersStore.add(this._editor.onMouseDown((function(i){return t._onEditorMouseDown(i)}))),this._listenersStore.add(this._editor.onMouseUp((function(){return t._onEditorMouseUp()}))),this._listenersStore.add(this._editor.onMouseMove((function(i){return t._onEditorMouseMove(i)}))),this._listenersStore.add(this._editor.onKeyDown((function(i){return t._onKeyDown(i)})))):(this._listenersStore.add(this._editor.onMouseMove((function(i){return t._onEditorMouseMove(i)}))),this._listenersStore.add(this._editor.onKeyDown((function(i){return t._onKeyDown(i)})))),this._listenersStore.add(this._editor.onMouseLeave((function(i){return t._onEditorMouseLeave(i)}))),this._listenersStore.add(this._editor.onDidChangeModel((function(){t._cancelScheduler(),t._hideWidgets()}))),this._listenersStore.add(this._editor.onDidChangeModelContent((function(){return t._cancelScheduler()}))),this._listenersStore.add(this._editor.onDidScrollChange((function(i){return t._onEditorScrollChanged(i)})))};i.prototype._unhookListeners=function(){this._listenersStore.clear()};i.prototype._cancelScheduler=function(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()};i.prototype._onEditorScrollChanged=function(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()};i.prototype._onEditorMouseDown=function(t){var i;this._hoverState.mouseDown=!0;var n=t.target;n.type!==9||n.detail!==L5.ID?n.type===12&&n.detail===Y5.ID||(n.type!==12&&(this._hoverState.contentHoverFocused=!1),!((i=this._contentWidget)===null||i===void 0)&&i.widget.isResizing||this._hideWidgets()):this._hoverState.contentHoverFocused=!0};i.prototype._onEditorMouseUp=function(){this._hoverState.mouseDown=!1};i.prototype._onEditorMouseLeave=function(t){var i,n;this._cancelScheduler();var r=t.event.browserEvent.relatedTarget;!((i=this._contentWidget)===null||i===void 0)&&i.widget.isResizing||!((n=this._contentWidget)===null||n===void 0)&&n.containsNode(r)||this._hideWidgets()};i.prototype._isMouseOverWidget=function(t){var i,n,r,e,o;var s=t.target,u=this._hoverSettings.sticky;return!(!u||s.type!==9||s.detail!==L5.ID)||!(!u||!(!((i=this._contentWidget)===null||i===void 0)&&i.containsNode((n=t.event.browserEvent.view)===null||n===void 0?void 0:n.document.activeElement))||!((e=(r=t.event.browserEvent.view)===null||r===void 0?void 0:r.getSelection())===null||e===void 0)&&e.isCollapsed)||!(u||s.type!==9||s.detail!==L5.ID||!(!((o=this._contentWidget)===null||o===void 0)&&o.isColorPickerVisible))||!(!u||s.type!==12||s.detail!==Y5.ID)};i.prototype._onEditorMouseMove=function(t){var i,n,r,e;if(this._mouseMoveEvent=t,((i=this._contentWidget)===null||i===void 0?void 0:i.isFocused)||((n=this._contentWidget)===null||n===void 0?void 0:n.isResizing)||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused)return;var o=this._hoverSettings.sticky;if(o&&(!((r=this._contentWidget)===null||r===void 0)&&r.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(t))return void this._reactToEditorMouseMoveRunner.cancel();var s=this._hoverSettings.hidingDelay;!((e=this._contentWidget)===null||e===void 0)&&e.isVisible&&o&&s>0?this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(s):this._reactToEditorMouseMove(t)};i.prototype._reactToEditorMouseMove=function(t){var i,n,r,e;if(!t)return;var o=t.target,s=(i=o.element)===null||i===void 0?void 0:i.classList.contains("colorpicker-color-decoration"),u=this._editor.getOption(148),a=this._hoverSettings.enabled,c=this._hoverState.activatedByDecoratorClick;if(s&&(u==="click"&&!c||u==="hover"&&!a||u==="clickAndHover"&&!a&&!c)||!s&&!a&&!c)return void this._hideWidgets();this._getOrCreateContentWidget().showsOrWillShow(t)?(n=this._glyphWidget)===null||n===void 0||n.hide():o.type===2&&o.position&&o.detail.glyphMarginLane?((r=this._contentWidget)===null||r===void 0||r.hide(),this._getOrCreateGlyphWidget().startShowingAt(o.position.lineNumber,o.detail.glyphMarginLane)):o.type===3&&o.position?((e=this._contentWidget)===null||e===void 0||e.hide(),this._getOrCreateGlyphWidget().startShowingAt(o.position.lineNumber,"lineNo")):this._hideWidgets()};i.prototype._onKeyDown=function(t){var i;if(!this._editor.hasModel())return;var n=this._keybindingService.softDispatch(t,this._editor.getDomNode()),r=n.kind===1||n.kind===2&&n.commandId==="editor.action.showHover"&&((i=this._contentWidget)===null||i===void 0?void 0:i.isVisible);t.keyCode===5||t.keyCode===6||t.keyCode===57||t.keyCode===4||r||this._hideWidgets()};i.prototype._hideWidgets=function(){var t,i,n;this._hoverState.mouseDown&&this._hoverState.contentHoverFocused&&(!((t=this._contentWidget)===null||t===void 0)&&t.isColorPickerVisible)||J8.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._hoverState.contentHoverFocused=!1,(i=this._glyphWidget)===null||i===void 0||i.hide(),(n=this._contentWidget)===null||n===void 0||n.hide())};i.prototype._getOrCreateContentWidget=function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(O5,this._editor)),this._contentWidget};i.prototype._getOrCreateGlyphWidget=function(){return this._glyphWidget||(this._glyphWidget=new Y5(this._editor,this._languageService,this._openerService)),this._glyphWidget};i.prototype.showContentHover=function(t,i,n,r,e){if(e===void 0){e=!1}this._hoverState.activatedByDecoratorClick=e,this._getOrCreateContentWidget().startShowingAtRange(t,i,n,r)};i.prototype.focus=function(){var t;(t=this._contentWidget)===null||t===void 0||t.focus()};i.prototype.scrollUp=function(){var t;(t=this._contentWidget)===null||t===void 0||t.scrollUp()};i.prototype.scrollDown=function(){var t;(t=this._contentWidget)===null||t===void 0||t.scrollDown()};i.prototype.scrollLeft=function(){var t;(t=this._contentWidget)===null||t===void 0||t.scrollLeft()};i.prototype.scrollRight=function(){var t;(t=this._contentWidget)===null||t===void 0||t.scrollRight()};i.prototype.pageUp=function(){var t;(t=this._contentWidget)===null||t===void 0||t.pageUp()};i.prototype.pageDown=function(){var t;(t=this._contentWidget)===null||t===void 0||t.pageDown()};i.prototype.goToTop=function(){var t;(t=this._contentWidget)===null||t===void 0||t.goToTop()};i.prototype.goToBottom=function(){var t;(t=this._contentWidget)===null||t===void 0||t.goToBottom()};Object.defineProperty(i.prototype,"isColorPickerVisible",{get:function(){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.isColorPickerVisible},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isHoverVisible",{get:function(){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.isVisible},enumerable:false,configurable:true});i.prototype.dispose=function(){var i,n;t.prototype.dispose.call(this),this._unhookListeners(),this._listenersStore.dispose(),(i=this._glyphWidget)===null||i===void 0||i.dispose(),(n=this._contentWidget)===null||n===void 0||n.dispose()};return i}(Cn);var Z8;q8.ID="editor.contrib.hover",q8=V8=K8([X8(1,fh),X8(2,HO),X8(3,ld),X8(4,vE)],q8),function(t){t.NoAutoFocus="noAutoFocus",t.FocusIfVisible="focusIfVisible",t.AutoFocusImmediately="autoFocusImmediately"}(Z8||(Z8={}));il(q8.ID,q8,2),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.showHover",label:Bt(0,"Show or Focus Hover"),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Z8.NoAutoFocus,Z8.FocusIfVisible,Z8.AutoFocusImmediately],enumDescriptions:[Bt(0,"The hover will not automatically take focus."),Bt(0,"The hover will take focus only if it is already visible."),Bt(0,"The hover will automatically take focus when it appears.")],default:Z8.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2087),weight:100}})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=q8.get(i);if(!r)return;var e=n==null?void 0:n.focus;var o=Z8.FocusIfVisible;Object.values(Z8).includes(e)?o=e:typeof e=="boolean"&&e&&(o=Z8.AutoFocusImmediately);var s=function(t){var n=i.getPosition(),e=new Zr(n.lineNumber,n.column,n.lineNumber,n.column);r.showContentHover(e,1,1,t)},u=i.getOption(2)===2;r.isHoverVisible?o!==Z8.NoAutoFocus?r.focus():s(u):s(u||o===Z8.AutoFocusImmediately)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:Bt(0,"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}i.prototype.run=function(t,i){var n=q8.get(i);if(!n)return;var r=i.getPosition();if(!r)return;var e=new Zr(r.lineNumber,r.column,r.lineNumber,r.column),o=y5.get(i);o&&o.startFindDefinitionFromCursor(r).then((function(){n.showContentHover(e,1,1,!0)}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.scrollUpHover",label:Bt(0,"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:16,weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.scrollUp()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.scrollDownHover",label:Bt(0,"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:18,weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.scrollDown()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.scrollLeftHover",label:Bt(0,"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:15,weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.scrollLeft()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.scrollRightHover",label:Bt(0,"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:17,weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.scrollRight()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.pageUpHover",label:Bt(0,"Page Up Hover"),alias:"Page Up Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:11,secondary:[528],weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.pageUp()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.pageDownHover",label:Bt(0,"Page Down Hover"),alias:"Page Down Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:12,secondary:[530],weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.pageDown()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.goToTopHover",label:Bt(0,"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:14,secondary:[2064],weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.goToTop()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.goToBottomHover",label:Bt(0,"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:hB.hoverFocused,kbOpts:{kbExpr:hB.hoverFocused,primary:13,secondary:[2066],weight:100}})||this}i.prototype.run=function(t,i){var n=q8.get(i);n&&n.goToBottom()};return i}(Vf)),C5.register(q5),C5.register(O8),cx((function(t,i){var n=t.getColor(nm);n&&(i.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(n.transparent(.5),"; }")),i.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(n.transparent(.5),"; }")),i.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(n.transparent(.5),"; }")))}));var $8=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._register(i.onMouseDown((function(t){return n.onMouseDown(t)})));return n}i.prototype.dispose=function(){t.prototype.dispose.call(this)};i.prototype.onMouseDown=function(t){var i=this._editor.getOption(148);if(i!=="click"&&i!=="clickAndHover")return;var n=t.target;if(n.type!==6||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==w4||!n.range)return;var r=this._editor.getContribution(q8.ID);if(r&&!r.isColorPickerVisible){var e=new Zr(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);r.showContentHover(e,1,0,!1,!0)}};return i}(Cn);$8.ID="editor.contrib.colorContribution",il($8.ID,$8,2),C5.register(O4);var t6,i6,n6=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},r6=function(t,i){return function(n,r){i(n,r,t)}};var e6=t6=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this)||this,a._editor=i,a._modelService=r,a._keybindingService=e,a._instantiationService=o,a._languageFeatureService=s,a._languageConfigurationService=u,a._standaloneColorPickerWidget=null,a._standaloneColorPickerVisible=hB.standaloneColorPickerVisible.bindTo(n),a._standaloneColorPickerFocused=hB.standaloneColorPickerFocused.bindTo(n);return a}i.prototype.showOrFocus=function(){var t;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(t=this._standaloneColorPickerWidget)===null||t===void 0||t.focus():this._standaloneColorPickerWidget=new o6(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))};i.prototype.hide=function(){var t;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(t=this._standaloneColorPickerWidget)===null||t===void 0||t.hide(),this._editor.focus()};i.prototype.insertColor=function(){var t;(t=this._standaloneColorPickerWidget)===null||t===void 0||t.updateEditor(),this.hide()};i.get=function(t){return t.getContribution(i.ID)};return i}(Cn);e6.ID="editor.contrib.standaloneColorPickerController",e6=t6=n6([r6(1,hf),r6(2,vh),r6(3,vE),r6(4,fh),r6(5,gg),r6(6,jd)],e6),il(e6.ID,e6,1);var o6=i6=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;var h;c=t.call(this)||this,c._editor=i,c._standaloneColorPickerVisible=n,c._standaloneColorPickerFocused=r,c._modelService=o,c._keybindingService=s,c._languageFeaturesService=u,c._languageConfigurationService=a,c.allowEditorOverflow=!0,c._position=void 0,c._body=document.createElement("div"),c._colorHover=null,c._selectionSetInEditor=!1,c._onResult=c._register(new Ln),c.onResult=c._onResult.event,c._standaloneColorPickerVisible.set(!0),c._standaloneColorPickerParticipant=e.createInstance(R4,c._editor),c._position=(h=c._editor._getViewModel())===null||h===void 0?void 0:h.getPrimaryCursorState().modelState.position;var f=c._editor.getSelection(),l=f?{startLineNumber:f.startLineNumber,startColumn:f.startColumn,endLineNumber:f.endLineNumber,endColumn:f.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},d=c._register(Mc(c._body));c._register(d.onDidBlur((function(t){c.hide()}))),c._register(d.onDidFocus((function(t){c.focus()}))),c._register(c._editor.onDidChangeCursorPosition((function(){c._selectionSetInEditor?c._selectionSetInEditor=!1:c.hide()}))),c._register(c._editor.onMouseMove((function(t){var i;var n=(i=t.target.element)===null||i===void 0?void 0:i.classList;n&&n.contains("colorpicker-color-decoration")&&c.hide()}))),c._register(c.onResult((function(t){c._render(t.value,t.foundInEditor)}))),c._start(l),c._body.style.zIndex="50",c._editor.addContentWidget(c);return c}i.prototype.updateEditor=function(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)};i.prototype.getId=function(){return i6.ID};i.prototype.getDomNode=function(){return this._body};i.prototype.getPosition=function(){if(!this._position)return null;var t=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:t?[1,2]:[2,1],positionAffinity:2}};i.prototype.hide=function(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()};i.prototype.focus=function(){this._standaloneColorPickerFocused.set(!0),this._body.focus()};i.prototype._start=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:return[4,this._computeAsync(t)];case 1:i=n.sent();i&&this._onResult.fire(new s6(i.result,i.foundInEditor));return[2]}}))}))};i.prototype._computeAsync=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){switch(r.label){case 0:if(!this._editor.hasModel())return[2,null];i={range:t,color:{red:0,green:0,blue:0,alpha:1}};return[4,this._standaloneColorPickerParticipant.createColorHover(i,new o4(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider)];case 1:n=r.sent();return[2,n?{result:n.colorHover,foundInEditor:n.foundInEditor}:null]}}))}))};i.prototype._render=function(t,i){var n=this;var r=document.createDocumentFragment();var e;var o={fragment:r,statusBar:this._register(new j5(this._keybindingService)),setColorPicker:function(t){return e=t},onContentsChanged:function(){},hide:function(){return n.hide()}};if(this._colorHover=t,this._register(this._standaloneColorPickerParticipant.renderHoverParts(o,[t])),e===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px",this._body.tabIndex=0,this._body.appendChild(r),e.layout();var s=e.body,u=s.saturationBox.domNode.clientWidth,a=s.domNode.clientWidth-u-22-8,c=e.body.enterButton;c==null||c.onClicked((function(){n.updateEditor(),n.hide()}));var h=e.header;h.pickedColorNode.style.width=u+8+"px",h.originalColorNode.style.width=a+"px";var f=e.header.closeButton;f==null||f.onClicked((function(){n.hide()})),i&&(c&&(c.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(t.range)),this._editor.layoutContentWidget(this)};return i}(Cn);o6.ID="editor.contrib.standaloneColorPickerWidget",o6=i6=n6([r6(3,fh),r6(4,vh),r6(5,vE),r6(6,gg),r6(7,jd)],o6);var s6=function(){function t(t,i){this.value=t,this.foundInEditor=i}return t}();$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.hideColorPicker",label:Bt(0,"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:hB.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})||this}i.prototype.run=function(t,i){var n;(n=e6.get(i))===null||n===void 0||n.hide()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.insertColorWithStandaloneColorPicker",label:Bt(0,"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:hB.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})||this}i.prototype.run=function(t,i){var n;(n=e6.get(i))===null||n===void 0||n.insertColor()};return i}(Vf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.showOrFocusStandaloneColorPicker",title:__assign(__assign({},Ct(0,"Show or Focus Standalone Color Picker")),{mnemonicTitle:Bt(0,"&&Show or Focus Standalone Color Picker")}),precondition:void 0,menu:[{id:_f.CommandPalette}]})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=e6.get(i))===null||n===void 0||n.showOrFocus()};return i}(Xf));var u6=function(){function t(t,i,n){this.languageConfigurationService=n,this._selection=t,this._insertSpace=i,this._usedEndToken=null}t._haystackHasNeedleAtOffset=function(t,i,n){if(n<0)return!1;var r=i.length;if(n+r>t.length)return!1;for(var e=0;e<r;e++){var o=t.charCodeAt(n+e),s=i.charCodeAt(e);if(o!==s&&!(o>=65&&o<=90&&o+32===s||s>=65&&s<=90&&s+32===o))return!1}return!0};t.prototype._createOperationsForBlockComment=function(i,n,r,e,o,s){var u=i.startLineNumber,a=i.startColumn,c=i.endLineNumber,h=i.endColumn,f=o.getLineContent(u),l=o.getLineContent(c);var d,v=f.lastIndexOf(n,a-1+n.length),A=l.indexOf(r,h-1-r.length);if(v!==-1&&A!==-1)if(u===c)f.substring(v+n.length,A).indexOf(r)>=0&&(v=-1,A=-1);else{var g=f.substring(v+n.length),w=l.substring(0,A);(g.indexOf(r)>=0||w.indexOf(r)>=0)&&(v=-1,A=-1)}v!==-1&&A!==-1?(e&&v+n.length<f.length&&f.charCodeAt(v+n.length)===32&&(n+=" "),e&&A>0&&l.charCodeAt(A-1)===32&&(r=" "+r,A-=1),d=t._createRemoveBlockCommentOperations(new Zr(u,v+n.length+1,c,A+1),n,r)):(d=t._createAddBlockCommentOperations(i,n,r,this._insertSpace),this._usedEndToken=d.length===1?r:null);for(var p=0,m=d;p<m.length;p++){var g=m[p];s.addTrackedEditOperation(g.range,g.text)}};t._createRemoveBlockCommentOperations=function(t,i,n){var r=[];return Zr.isEmpty(t)?r.push(BT.delete(new Zr(t.startLineNumber,t.startColumn-i.length,t.endLineNumber,t.endColumn+n.length))):(r.push(BT.delete(new Zr(t.startLineNumber,t.startColumn-i.length,t.startLineNumber,t.startColumn))),r.push(BT.delete(new Zr(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+n.length)))),r};t._createAddBlockCommentOperations=function(t,i,n,r){var e=[];return Zr.isEmpty(t)?e.push(BT.replace(new Zr(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),i+"  "+n)):(e.push(BT.insert(new qr(t.startLineNumber,t.startColumn),i+(r?" ":""))),e.push(BT.insert(new qr(t.endLineNumber,t.endColumn),(r?" ":"")+n))),e};t.prototype.getEditOperations=function(t,i){var n=this._selection.startLineNumber,r=this._selection.startColumn;t.tokenization.tokenizeIfCheap(n);var e=t.getLanguageIdAtPosition(n,r),o=this.languageConfigurationService.getLanguageConfiguration(e).comments;o&&o.blockCommentStartToken&&o.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,o.blockCommentStartToken,o.blockCommentEndToken,this._insertSpace,t,i)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations();if(n.length===2){var r=n[0],e=n[1];return new $r(r.range.endLineNumber,r.range.endColumn,e.range.startLineNumber,e.range.startColumn)}{var r=n[0].range,e=this._usedEndToken?-this._usedEndToken.length-1:0;return new $r(r.endLineNumber,r.endColumn+e,r.endLineNumber,r.endColumn+e)}};return t}();var a6=function(){function t(t,i,n,r,e,o,s){this.languageConfigurationService=t,this._selection=i,this._indentSize=n,this._type=r,this._insertSpace=e,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=s||!1}t._gatherPreflightCommentStrings=function(t,i,n,r){t.tokenization.tokenizeIfCheap(i);var e=t.getLanguageIdAtPosition(i,1),o=r.getLanguageConfiguration(e).comments,s=o?o.lineCommentToken:null;if(!s)return null;var u=[];for(var a=0,c=n-i+1;a<c;a++)u[a]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return u};t._analyzeLines=function(t,i,n,r,e,o,s,u){var a,c=!0;a=t===0||t!==1;for(var h=0,f=r.length;h<f;h++){var l=r[h],d=e+h;if(d===e&&s){l.ignore=!0;continue}var v=n.getLineContent(d),A=Fo(v);if(A!==-1){if(c=!1,l.ignore=!1,l.commentStrOffset=A,a&&!u6._haystackHasNeedleAtOffset(v,l.commentStr,A)&&(t===0?a=!1:t===1||(l.ignore=!0)),a&&i){var g=A+l.commentStrLength;g<v.length&&v.charCodeAt(g)===32&&(l.commentStrLength+=1)}}else l.ignore=o,l.commentStrOffset=v.length}if(t===0&&c){a=!1;for(var h=0,f=r.length;h<f;h++)r[h].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:r}};t._gatherPreflightData=function(i,n,r,e,o,s,u,a){var c=t._gatherPreflightCommentStrings(r,e,o,a);return c===null?{supported:!1}:t._analyzeLines(i,n,r,c,e,s,u,a)};t.prototype._executeLineComments=function(i,n,r,e){var o;r.shouldRemoveComments?o=t._createRemoveLineCommentsOperations(r.lines,e.startLineNumber):(t._normalizeInsertionPoint(i,r.lines,e.startLineNumber,this._indentSize),o=this._createAddLineCommentsOperations(r.lines,e.startLineNumber));var s=new qr(e.positionLineNumber,e.positionColumn);for(var u=0,a=o.length;u<a;u++)n.addEditOperation(o[u].range,o[u].text),Zr.isEmpty(o[u].range)&&Zr.getStartPosition(o[u].range).equals(s)&&i.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[u].text||"").length);this._selectionId=n.trackSelection(e)};t.prototype._attemptRemoveBlockComment=function(t,i,n,r){var e=i.startLineNumber,o=i.endLineNumber;var s=r.length+Math.max(t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn);var u=t.getLineContent(e).lastIndexOf(n,s-1),a=t.getLineContent(o).indexOf(r,i.endColumn-1-n.length);return u!==-1&&a===-1&&(a=t.getLineContent(e).indexOf(r,u+n.length),o=e),u===-1&&a!==-1&&(u=t.getLineContent(o).lastIndexOf(n,a),e=o),!i.isEmpty()||u!==-1&&a!==-1||(u=t.getLineContent(e).indexOf(n),u!==-1&&(a=t.getLineContent(e).indexOf(r,u+n.length))),u!==-1&&t.getLineContent(e).charCodeAt(u+n.length)===32&&(n+=" "),a!==-1&&t.getLineContent(o).charCodeAt(a-1)===32&&(r=" "+r,a-=1),u!==-1&&a!==-1?u6._createRemoveBlockCommentOperations(new Zr(e,u+n.length+1,o,a+1),n,r):null};t.prototype._executeBlockComment=function(t,i,n){t.tokenization.tokenizeIfCheap(n.startLineNumber);var r=t.getLanguageIdAtPosition(n.startLineNumber,1),e=this.languageConfigurationService.getLanguageConfiguration(r).comments;if(!e||!e.blockCommentStartToken||!e.blockCommentEndToken)return;var o=e.blockCommentStartToken,s=e.blockCommentEndToken;var u=this._attemptRemoveBlockComment(t,n,o,s);if(!u){if(n.isEmpty()){var a=t.getLineContent(n.startLineNumber);var c=Fo(a);c===-1&&(c=a.length),u=u6._createAddBlockCommentOperations(new Zr(n.startLineNumber,c+1,n.startLineNumber,a.length+1),o,s,this._insertSpace)}else u=u6._createAddBlockCommentOperations(new Zr(n.startLineNumber,t.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),o,s,this._insertSpace);u.length===1&&(this._deltaColumn=o.length+1)}this._selectionId=i.trackSelection(n);for(var h=0,f=u;h<f.length;h++){var a=f[h];i.addEditOperation(a.range,a.text)}};t.prototype.getEditOperations=function(i,n){var r=this._selection;if(this._moveEndPositionDown=!1,r.startLineNumber===r.endLineNumber&&this._ignoreFirstLine)return n.addEditOperation(new Zr(r.startLineNumber,i.getLineMaxColumn(r.startLineNumber),r.startLineNumber+1,1),r.startLineNumber===i.getLineCount()?"":"\n"),void(this._selectionId=n.trackSelection(r));r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,i.getLineMaxColumn(r.endLineNumber-1)));var e=t._gatherPreflightData(this._type,this._insertSpace,i,r.startLineNumber,r.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return e.supported?this._executeLineComments(i,n,e,r):this._executeBlockComment(i,n,r)};t.prototype.computeCursorState=function(t,i){var n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new $r(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)};t._createRemoveLineCommentsOperations=function(t,i){var n=[];for(var r=0,e=t.length;r<e;r++){var o=t[r];o.ignore||n.push(BT.delete(new Zr(i+r,o.commentStrOffset+1,i+r,o.commentStrOffset+o.commentStrLength+1)))}return n};t.prototype._createAddLineCommentsOperations=function(t,i){var n=[],r=this._insertSpace?" ":"";for(var e=0,o=t.length;e<o;e++){var s=t[e];s.ignore||n.push(BT.insert(new qr(i+e,s.commentStrOffset+1),s.commentStr+r))}return n};t.nextVisibleColumn=function(t,i,n,r){return n?t+(i-t%i):t+r};t._normalizeInsertionPoint=function(i,n,r,e){var o,s,u=1073741824;for(var a=0,c=n.length;a<c;a++){if(n[a].ignore)continue;var h=i.getLineContent(r+a);var f=0;for(var l=0,d=n[a].commentStrOffset;f<u&&l<d;l++)f=t.nextVisibleColumn(f,e,h.charCodeAt(l)===9,1);f<u&&(u=f)}u=Math.floor(u/e)*e;for(var a=0,c=n.length;a<c;a++){if(n[a].ignore)continue;var v=i.getLineContent(r+a);var f=0;for(o=0,s=n[a].commentStrOffset;f<u&&o<s;o++)f=t.nextVisibleColumn(f,e,v.charCodeAt(o)===9,1);n[a].commentStrOffset=f>u?o-1:o}};return t}();var c6=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._type=i;return r}i.prototype.run=function(t,i){var n=t.get(jd);if(!i.hasModel())return;var r=[],e=i.getModel().getOptions(),o=i.getOption(23),s=i.getSelections().map((function(t,i){return{selection:t,index:i,ignoreFirstLine:!1}}));s.sort((function(t,i){return Zr.compareRangesUsingStarts(t.selection,i.selection)}));var u=s[0];for(var a=1;a<s.length;a++){var c=s[a];u.selection.endLineNumber===c.selection.startLineNumber&&(u.index<c.index?c.ignoreFirstLine=!0:(u.ignoreFirstLine=!0,u=c))}for(var h=0,f=s;h<f.length;h++){var a=f[h];r.push(new a6(n,a.selection,e.indentSize,this._type,o.insertSpace,o.ignoreEmptyLines,a.ignoreFirstLine))}i.pushUndoStop(),i.executeCommands(this.id,r),i.pushUndoStop()};return i}(Vf);$f(function(t){__extends(i,t);function i(){return t.call(this,0,{id:"editor.action.commentLine",label:Bt(0,"Toggle Line Comment"),alias:"Toggle Line Comment",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:_f.MenubarEditMenu,group:"5_insert",title:Bt(0,"&&Toggle Line Comment"),order:1}})||this}return i}(c6)),$f(function(t){__extends(i,t);function i(){return t.call(this,1,{id:"editor.action.addCommentLine",label:Bt(0,"Add Line Comment"),alias:"Add Line Comment",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2081),weight:100}})||this}return i}(c6)),$f(function(t){__extends(i,t);function i(){return t.call(this,2,{id:"editor.action.removeCommentLine",label:Bt(0,"Remove Line Comment"),alias:"Remove Line Comment",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2099),weight:100}})||this}return i}(c6)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.blockComment",label:Bt(0,"Toggle Block Comment"),alias:"Toggle Block Comment",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:_f.MenubarEditMenu,group:"5_insert",title:Bt(0,"Toggle &&Block Comment"),order:2}})||this}i.prototype.run=function(t,i){var n=t.get(jd);if(!i.hasModel())return;var r=i.getOption(23),e=[],o=i.getSelections();for(var s=0,u=o;s<u.length;s++){var a=u[s];e.push(new u6(a,r.insertSpace,n))}i.pushUndoStop(),i.executeCommands(this.id,e),i.pushUndoStop()};return i}(Vf));var h6,f6=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},l6=function(t,i){return function(n,r){i(n,r,t)}};var d6=h6=function(){function t(t,i,n,r,e,o,s,u){var a=this;this._contextMenuService=i,this._contextViewService=n,this._contextKeyService=r,this._keybindingService=e,this._menuService=o,this._configurationService=s,this._workspaceContextService=u,this._toDispose=new Bn,this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.add(this._editor.onContextMenu((function(t){return a._onContextMenu(t)}))),this._toDispose.add(this._editor.onMouseWheel((function(t){if(a._contextMenuIsBeingShownCount>0){var i=a._contextViewService.getContextViewElement(),n=t.srcElement;n.shadowRoot&&oc(i)===n.shadowRoot||a._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((function(t){a._editor.getOption(24)&&t.keyCode===58&&(t.preventDefault(),t.stopPropagation(),a.showContextMenu())})))}t.get=function(i){return i.getContribution(t.ID)};t.prototype._onContextMenu=function(t){if(!this._editor.hasModel())return;if(!this._editor.getOption(24))return this._editor.focus(),void(t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position));if(t.target.type===12||t.target.type===6&&t.target.detail.injectedText)return;if(t.event.preventDefault(),t.event.stopPropagation(),t.target.type===11)return this._showScrollbarContextMenu(t.event);if(t.target.type!==6&&t.target.type!==7&&t.target.type!==1)return;if(this._editor.focus(),t.target.position){var i=!1;for(var n=0,r=this._editor.getSelections();n<r.length;n++){var e=r[n];if(e.containsPosition(t.target.position)){i=!0;break}}i||this._editor.setPosition(t.target.position)}var o=null;t.target.type!==1&&(o=t.event),this.showContextMenu(o)};t.prototype.showContextMenu=function(t){if(!this._editor.getOption(24)||!this._editor.hasModel())return;var i=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?_f.SimpleEditorContext:_f.EditorContext);i.length>0&&this._doShowContextMenu(i,t)};t.prototype._getMenuActions=function(t,i){var n=[],r=this._menuService.createMenu(i,this._contextKeyService),e=r.getActions({arg:t.uri});r.dispose();for(var o=0,s=e;o<s.length;o++){var u=s[o];var a=u[1];var c=0;for(var h=0,f=a;h<f.length;h++){var l=f[h];if(l instanceof Qf){var d=this._getMenuActions(t,l.item.submenu);d.length>0&&(n.push(new mh(l.id,l.label,d)),c++)}else n.push(l),c++}c&&n.push(new ph)}return n.length&&n.pop(),n};t.prototype._doShowContextMenu=function(t,i){var n=this;if(i===void 0){i=null}if(!this._editor.hasModel())return;var r=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});var e=i;if(!e){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=Ka(this._editor.getDomNode()),u=s.left+o.left,a=s.top+o.top+o.height;e={x:u,y:a}}var c=this._editor.getOption(127)&&!Zt;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:function(){return e},getActions:function(){return t},getActionViewItem:function(t){var i=n._keybindingFor(t);if(i)return new Mz(t,t,{label:!0,keybinding:i.getLabel(),isMenu:!0});var r=t;return typeof r.getActionViewItem=="function"?r.getActionViewItem():new Mz(t,t,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(t){return n._keybindingFor(t)},onHide:function(t){n._contextMenuIsBeingShownCount--,n._editor.updateOptions({hover:r})}})};t.prototype._showScrollbarContextMenu=function(t){var i=this;if(!this._editor.hasModel()||this._workspaceContextService.getWorkspace().id===dL)return;var n=this._editor.getOption(73);var r=0;var e=function(t){return{id:"menu-action-"+ ++r,label:t.label,tooltip:"",class:void 0,enabled:t.enabled===void 0||t.enabled,checked:t.checked,run:t.run}},o=function(t,n,o,s,u){if(!n)return e({label:t,enabled:n,run:function(){}});var a=function(t){return function(){i._configurationService.updateValue(o,t)}},c=[];for(var h=0,f=u;h<f.length;h++){var l=f[h];c.push(e({label:l.label,checked:s===l.value,run:a(l.value)}))}return function(t,i){return new mh("menu-action-"+ ++r,t,i,void 0)}(t,c)},s=[];s.push(e({label:Bt(0,"Minimap"),checked:n.enabled,run:function(){i._configurationService.updateValue("editor.minimap.enabled",!n.enabled)}})),s.push(new ph),s.push(e({label:Bt(0,"Render Characters"),enabled:n.enabled,checked:n.renderCharacters,run:function(){i._configurationService.updateValue("editor.minimap.renderCharacters",!n.renderCharacters)}})),s.push(o(Bt(0,"Vertical size"),n.enabled,"editor.minimap.size",n.size,[{label:Bt(0,"Proportional"),value:"proportional"},{label:Bt(0,"Fill"),value:"fill"},{label:Bt(0,"Fit"),value:"fit"}])),s.push(o(Bt(0,"Slider"),n.enabled,"editor.minimap.showSlider",n.showSlider,[{label:Bt(0,"Mouse Over"),value:"mouseover"},{label:Bt(0,"Always"),value:"always"}]));var u=this._editor.getOption(127)&&!Zt;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:function(){return t},getActions:function(){return s},onHide:function(t){i._contextMenuIsBeingShownCount--,i._editor.focus()}})};t.prototype._keybindingFor=function(t){return this._keybindingService.lookupKeybinding(t.id)};t.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()};return t}();d6.ID="editor.contrib.contextmenu",d6=h6=f6([l6(1,TO),l6(2,RO),l6(3,hf),l6(4,vE),l6(5,Ff),l6(6,sd),l6(7,sL)],d6);il(d6.ID,d6,2),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.showContextMenu",label:Bt(0,"Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:1092,weight:100}})||this}i.prototype.run=function(t,i){var n;(n=d6.get(i))===null||n===void 0||n.showContextMenu()};return i}(Vf));var v6=function(){function t(t){this.selections=t}t.prototype.equals=function(t){var i=this.selections.length;if(i!==t.selections.length)return!1;for(var n=0;n<i;n++)if(!this.selections[n].equalsSelection(t.selections[n]))return!1;return!0};return t}();var A6=function(){function t(t,i,n){this.cursorState=t,this.scrollTop=i,this.scrollLeft=n}return t}();var g6=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._isCursorUndoRedo=!1,n._undoStack=[],n._redoStack=[],n._register(i.onDidChangeModel((function(t){n._undoStack=[],n._redoStack=[]}))),n._register(i.onDidChangeModelContent((function(t){n._undoStack=[],n._redoStack=[]}))),n._register(i.onDidChangeCursorSelection((function(t){if(n._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;var r=new v6(t.oldSelections);n._undoStack.length>0&&n._undoStack[n._undoStack.length-1].cursorState.equals(r)||(n._undoStack.push(new A6(r,i.getScrollTop(),i.getScrollLeft())),n._redoStack=[],n._undoStack.length>50&&n._undoStack.shift())})));return n}i.get=function(t){return t.getContribution(i.ID)};i.prototype.cursorUndo=function(){this._editor.hasModel()&&this._undoStack.length!==0&&(this._redoStack.push(new A6(new v6(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))};i.prototype.cursorRedo=function(){this._editor.hasModel()&&this._redoStack.length!==0&&(this._undoStack.push(new A6(new v6(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))};i.prototype._applyState=function(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1};return i}(Cn);g6.ID="editor.contrib.cursorUndoRedoController";il(g6.ID,g6,0),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"cursorUndo",label:Bt(0,"Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:2099,weight:100}})||this}i.prototype.run=function(t,i,n){var r;(r=g6.get(i))===null||r===void 0||r.cursorUndo()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"cursorRedo",label:Bt(0,"Cursor Redo"),alias:"Cursor Redo",precondition:void 0})||this}i.prototype.run=function(t,i,n){var r;(r=g6.get(i))===null||r===void 0||r.cursorRedo()};return i}(Vf));var w6=function(){function t(t,i,n){this.selection=t,this.targetPosition=i,this.copy=n,this.targetSelection=null}t.prototype.getEditOperations=function(t,i){var n=t.getValueInRange(this.selection);this.copy||i.addEditOperation(this.selection,null),i.addEditOperation(new Zr(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new $r(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new $r(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new $r(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new $r(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new $r(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection};t.prototype.computeCursorState=function(t,i){return this.targetSelection};return t}();function p6(t){return Gt?t.altKey:t.ctrlKey}var m6=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._dndDecorationIds=n._editor.createDecorationsCollection(),n._register(n._editor.onMouseDown((function(t){return n._onEditorMouseDown(t)}))),n._register(n._editor.onMouseUp((function(t){return n._onEditorMouseUp(t)}))),n._register(n._editor.onMouseDrag((function(t){return n._onEditorMouseDrag(t)}))),n._register(n._editor.onMouseDrop((function(t){return n._onEditorMouseDrop(t)}))),n._register(n._editor.onMouseDropCanceled((function(){return n._onEditorMouseDropCanceled()}))),n._register(n._editor.onKeyDown((function(t){return n.onEditorKeyDown(t)}))),n._register(n._editor.onKeyUp((function(t){return n.onEditorKeyUp(t)}))),n._register(n._editor.onDidBlurEditorWidget((function(){return n.onEditorBlur()}))),n._register(n._editor.onDidBlurEditorText((function(){return n.onEditorBlur()}))),n._mouseDown=!1,n._modifierPressed=!1,n._dragSelection=null;return n}i.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1};i.prototype.onEditorKeyDown=function(t){this._editor.getOption(35)&&!this._editor.getOption(22)&&(p6(t)&&(this._modifierPressed=!0),this._mouseDown&&p6(t)&&this._editor.updateOptions({mouseStyle:"copy"}))};i.prototype.onEditorKeyUp=function(t){this._editor.getOption(35)&&!this._editor.getOption(22)&&(p6(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))};i.prototype._onEditorMouseDown=function(t){this._mouseDown=!0};i.prototype._onEditorMouseUp=function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})};i.prototype._onEditorMouseDrag=function(t){var i=t.target;if(this._dragSelection===null){var n=(this._editor.getSelections()||[]).filter((function(t){return i.position&&t.containsPosition(i.position)}));if(n.length!==1)return;this._dragSelection=n[0]}p6(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),i.position&&(this._dragSelection.containsPosition(i.position)?this._removeDecoration():this.showAt(i.position))};i.prototype._onEditorMouseDropCanceled=function(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1};i.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var n=new qr(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){var r=null;if(t.event.shiftKey){var e=this._editor.getSelection();if(e){var o=e.selectionStartLineNumber,s=e.selectionStartColumn;r=[new $r(o,s,n.lineNumber,n.column)]}}else r=(this._editor.getSelections()||[]).map((function(t){return t.containsPosition(n)?new $r(n.lineNumber,n.column,n.lineNumber,n.column):t}));this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(n)||(p6(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new w6(this._dragSelection,n,p6(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1};i.prototype.showAt=function(t){this._dndDecorationIds.set([{range:new Zr(t.lineNumber,t.column,t.lineNumber,t.column),options:i._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)};i.prototype._removeDecoration=function(){this._dndDecorationIds.clear()};i.prototype._hitContent=function(t){return t.type===6||t.type===7};i.prototype._hitMargin=function(t){return t.type===2||t.type===3||t.type===4};i.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,t.prototype.dispose.call(this)};return i}(Cn);var b6;m6.ID="editor.contrib.dragAndDrop",m6.TRIGGER_KEY_VALUE=Gt?6:5,m6._DECORATION_OPTIONS=iS.register({description:"dnd-target",className:"dnd-target"}),il(m6.ID,m6,2),il(C1.ID,C1,0),TG(J0),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:x1,precondition:E1,kbOpts:{weight:100,primary:2137}})||this}i.prototype.runEditorCommand=function(t,i){var n;return(n=C1.get(i))===null||n===void 0?void 0:n.changePasteType()};return i}(Gf))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.hidePasteWidget",precondition:E1,kbOpts:{weight:100,primary:9}})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=C1.get(i))===null||n===void 0||n.clearWidgets()};return i}(Gf))),$f((b6=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.pasteAs",label:Bt(0,"Paste As..."),alias:"Paste As...",precondition:hB.writable,metadata:{description:"Paste as",args:[{name:"args",schema:i.argsSchema}]}})||this}i.prototype.run=function(t,i,n){var r;var e=typeof(n==null?void 0:n.kind)=="string"?n.kind:void 0;return!e&&n&&(e=typeof n.id=="string"?n.id:void 0),(r=C1.get(i))===null||r===void 0?void 0:r.pasteAs(e?new D0(e):void 0)};return i}(Vf),b6.argsSchema={type:"object",properties:{kind:{type:"string",description:Bt(0,"The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}},b6)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.pasteAsText",label:Bt(0,"Paste as Text"),alias:"Paste as Text",precondition:hB.writable})||this}i.prototype.run=function(t,i){var n;return(n=C1.get(i))===null||n===void 0?void 0:n.pasteAs({providerId:L0.id})};return i}(Vf));var y6=function(){function t(t){this.identifier=t}return t}();var k6=lh("treeViewsDndService");Ad(k6,function(){function t(){this._dragOperations=new Map}t.prototype.removeDragOperationTransfer=function(t){if(t&&this._dragOperations.has(t)){var i=this._dragOperations.get(t);return this._dragOperations.delete(t),i}};return t}(),1);var x6,E6=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},B6=function(t,i){return function(n,r){i(n,r,t)}};var C6="editor.experimental.dropIntoEditor.defaultProvider",D6="editor.changeDropType",M6=new cf("dropWidgetVisible",!1,Bt(0,"Whether the drop widget is showing"));var _6=x6=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._configService=r,s._languageFeaturesService=e,s._treeViewsDragAndDropService=o,s.treeItemsTransfer=F0.getInstance(),s._dropProgressManager=s._register(n.createInstance(c1,"dropIntoEditor",i)),s._postDropWidgetManager=s._register(n.createInstance(m1,"dropIntoEditor",i,M6,{id:D6,label:Bt(0,"Show drop options...")})),s._register(i.onDropIntoEditor((function(t){return s.onDropIntoEditor(i,t.position,t.event)})));return s}i.get=function(t){return t.getContribution(x6.ID)};i.prototype.clearWidgets=function(){this._postDropWidgetManager.clear()};i.prototype.changeDropType=function(){this._postDropWidgetManager.tryShowSelector()};i.prototype.onDropIntoEditor=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e;var o=this;return __generator(this,(function(s){if(!n.dataTransfer||!t.hasModel())return[2];(r=this._currentOperation)===null||r===void 0||r.cancel(),t.focus(),t.setPosition(i);e=Us((function(r){return __awaiter(o,void 0,void 0,(function(){var o,s,u,a,c,h,f;var l=this;return __generator(this,(function(d){switch(d.label){case 0:o=new AZ(t,1,void 0,r);d.label=1;case 1:d.trys.push([1,,6,7]);return[4,this.extractDataTransferData(n)];case 2:s=d.sent();if(s.size===0||o.token.isCancellationRequested)return[2];u=t.getModel();if(!u)return[2];a=this._languageFeaturesService.documentOnDropEditProvider.ordered(u).filter((function(t){return!t.dropMimeTypes||t.dropMimeTypes.some((function(t){return s.matches(t)}))}));return[4,this.getDropEdits(a,u,i,s,o)];case 3:c=d.sent();if(o.token.isCancellationRequested)return[2];if(!c.length)return[3,5];h=this.getInitialActiveEditIndex(u,c),f=t.getOption(36).showDropSelector==="afterDrop";return[4,this._postDropWidgetManager.applyEditAndShowIfNeeded([Zr.fromPositions(i)],{activeEditIndex:h,allEdits:c},f,(function(t){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(i){return[2,t]}))}))}),r)];case 4:d.sent();d.label=5;case 5:return[3,7];case 6:o.dispose(),this._currentOperation===e&&(this._currentOperation=void 0);return[7];case 7:return[2]}}))}))}));this._dropProgressManager.showWhile(i,Bt(0,"Running drop handlers. Click to cancel"),e),this._currentOperation=e;return[2]}))}))};i.prototype.getDropEdits=function(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o;var s=this;return __generator(this,(function(u){switch(u.label){case 0:return[4,Hs(Promise.all(t.map((function(t){return __awaiter(s,void 0,void 0,(function(){var o,s;return __generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,t.provideDocumentOnDropEdits(i,n,r,e.token)];case 1:o=u.sent();return[2,o==null?void 0:o.map((function(i){return __assign(__assign({},i),{providerId:t.id})}))];case 2:s=u.sent();console.error(s);return[3,3];case 3:return[2]}}))}))}))),e.token)];case 1:o=u.sent();return[2,e1(N(o!==null&&o!==void 0?o:[]).flat())]}}))}))};i.prototype.getInitialActiveEditIndex=function(t,i){var n=this._configService.getValue(C6,{resource:t.uri});var r=function(t,n){var r=new D0(n),e=i.findIndex((function(i){return r.value===i.providerId&&i.handledMimeType&&E0(t,[i.handledMimeType])}));if(e>=0)return{value:e}};for(var e=0,o=Object.entries(n);e<o.length;e++){var s=o[e],u=s[0],a=s[1];var c=r(u,a);if(typeof c==="object")return c.value}return 0};i.prototype.extractDataTransferData=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s,u,a,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:if(!t.dataTransfer)return[2,new k0];i=O0(t.dataTransfer);if(!this.treeItemsTransfer.hasData(y6.prototype))return[3,4];n=this.treeItemsTransfer.getData(y6.prototype);if(!Array.isArray(n))return[3,4];r=0,e=n;l.label=1;case 1:if(!(r<e.length))return[3,4];o=e[r];return[4,this._treeViewsDragAndDropService.removeDragOperationTransfer(o.identifier)];case 2:s=l.sent();if(s)for(u=0,a=s;u<a.length;u++){c=a[u],h=c[0],f=c[1];i.replace(h,f)}l.label=3;case 3:r++;return[3,1];case 4:return[2,i]}}))}))};return i}(Cn);_6.ID="editor.contrib.dropIntoEditorController",_6=x6=E6([B6(1,fh),B6(2,sd),B6(3,gg),B6(4,k6)],_6),il(_6.ID,_6,2),TG(Y0),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:D6,precondition:M6,kbOpts:{weight:100,primary:2137}})||this}i.prototype.runEditorCommand=function(t,i,n){var r;(r=_6.get(i))===null||r===void 0||r.changeDropType()};return i}(Gf))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.hideDropWidget",precondition:M6,kbOpts:{weight:100,primary:9}})||this}i.prototype.runEditorCommand=function(t,i,n){var r;(r=_6.get(i))===null||r===void 0||r.clearWidgets()};return i}(Gf))),yf.as(bd).registerConfiguration(__assign(__assign({},pT),{properties:(h={},h[C6]={type:"object",scope:5,description:Bt(0,"Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}},h)}));var F6=function(){function t(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}t.prototype.dispose=function(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null};t.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null};t.prototype.getCount=function(){return this._decorations.length};t.prototype.getFindScope=function(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null};t.prototype.getFindScopes=function(){var t=this;if(this._findScopeDecorationIds.length){var i=this._findScopeDecorationIds.map((function(i){return t._editor.getModel().getDecorationRange(i)})).filter((function(t){return!!t}));if(i.length)return i}return null};t.prototype.getStartPosition=function(){return this._startPosition};t.prototype.setStartPosition=function(t){this._startPosition=t,this.setCurrentFindMatch(null)};t.prototype._getDecorationIndex=function(t){var i=this._decorations.indexOf(t);return i>=0?i+1:1};t.prototype.getDecorationRangeAt=function(t){var i=t<this._decorations.length?this._decorations[t]:null;return i?this._editor.getModel().getDecorationRange(i):null};t.prototype.getCurrentMatchesPosition=function(i){var n=this._editor.getModel().getDecorationsInRange(i);for(var r=0,e=n;r<e.length;r++){var o=e[r];var s=o.options;if(s===t._FIND_MATCH_DECORATION||s===t._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0};t.prototype.setCurrentFindMatch=function(i){var n=this;var r=null,e=0;if(i)for(var o=0,s=this._decorations.length;o<s;o++){var u=this._editor.getModel().getDecorationRange(this._decorations[o]);if(i.equalsRange(u)){r=this._decorations[o],e=o+1;break}}return this._highlightedDecorationId===null&&r===null||this._editor.changeDecorations((function(i){if(n._highlightedDecorationId!==null&&(i.changeDecorationOptions(n._highlightedDecorationId,t._FIND_MATCH_DECORATION),n._highlightedDecorationId=null),r!==null&&(n._highlightedDecorationId=r,i.changeDecorationOptions(n._highlightedDecorationId,t._CURRENT_FIND_MATCH_DECORATION)),n._rangeHighlightDecorationId!==null&&(i.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),r!==null){var e=n._editor.getModel().getDecorationRange(r);if(e.startLineNumber!==e.endLineNumber&&e.endColumn===1){var o=e.endLineNumber-1,s=n._editor.getModel().getLineMaxColumn(o);e=new Zr(e.startLineNumber,e.startColumn,o,s)}n._rangeHighlightDecorationId=i.addDecoration(e,t._RANGE_HIGHLIGHT_DECORATION)}})),e};t.prototype.set=function(i,n){var r=this;this._editor.changeDecorations((function(e){var o=t._FIND_MATCH_DECORATION;var s=[];if(i.length>1e3){o=t._FIND_MATCH_NO_OVERVIEW_DECORATION;var u=r._editor.getModel().getLineCount(),a=r._editor.getLayoutInfo().height/u,c=Math.max(2,Math.ceil(3/a));var h=i[0].range.startLineNumber,f=i[0].range.endLineNumber;for(var l=1,d=i.length;l<d;l++){var v=i[l].range;f+c>=v.startLineNumber?v.endLineNumber>f&&(f=v.endLineNumber):(s.push({range:new Zr(h,1,f,1),options:t._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),h=v.startLineNumber,f=v.endLineNumber)}s.push({range:new Zr(h,1,f,1),options:t._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var A=new Array(i.length);for(var u=0,a=i.length;u<a;u++)A[u]={range:i[u].range,options:o};r._decorations=e.deltaDecorations(r._decorations,A),r._overviewRulerApproximateDecorations=e.deltaDecorations(r._overviewRulerApproximateDecorations,s),r._rangeHighlightDecorationId&&(e.removeDecoration(r._rangeHighlightDecorationId),r._rangeHighlightDecorationId=null),r._findScopeDecorationIds.length&&(r._findScopeDecorationIds.forEach((function(t){return e.removeDecoration(t)})),r._findScopeDecorationIds=[]),n!=null&&n.length&&(r._findScopeDecorationIds=n.map((function(i){return e.addDecoration(i,t._FIND_SCOPE_DECORATION)})))}))};t.prototype.matchBeforePosition=function(t){if(this._decorations.length===0)return null;for(var i=this._decorations.length-1;i>=0;i--){var n=this._decorations[i],r=this._editor.getModel().getDecorationRange(n);if(r&&!(r.endLineNumber>t.lineNumber)&&(r.endLineNumber<t.lineNumber||!(r.endColumn>t.column)))return r}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])};t.prototype.matchAfterPosition=function(t){if(this._decorations.length===0)return null;for(var i=0,n=this._decorations.length;i<n;i++){var r=this._decorations[i],e=this._editor.getModel().getDecorationRange(r);if(e&&!(e.startLineNumber<t.lineNumber)&&(e.startLineNumber>t.lineNumber||!(e.startColumn<t.column)))return e}return this._editor.getModel().getDecorationRange(this._decorations[0])};t.prototype._allDecorations=function(){var t=[];return t=t.concat(this._decorations),t=t.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&t.push.apply(t,this._findScopeDecorationIds),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t};return t}();F6._CURRENT_FIND_MATCH_DECORATION=iS.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:ox(Sm),position:_v.Center},minimap:{color:ox(Rm),position:1}}),F6._FIND_MATCH_DECORATION=iS.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:ox(Sm),position:_v.Center},minimap:{color:ox(Rm),position:1}}),F6._FIND_MATCH_NO_OVERVIEW_DECORATION=iS.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),F6._FIND_MATCH_ONLY_OVERVIEW_DECORATION=iS.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:ox(Sm),position:_v.Center}}),F6._RANGE_HIGHLIGHT_DECORATION=iS.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),F6._FIND_SCOPE_DECORATION=iS.register({description:"find-scope",className:"findScope",isWholeLine:!0});var S6=function(){function t(t,i,n){this._editorSelection=t,this._ranges=i,this._replaceStrings=n,this._trackedEditorSelectionId=null}t.prototype.getEditOperations=function(t,i){if(this._ranges.length>0){var n=[];for(var r=0;r<this._ranges.length;r++)n.push({range:this._ranges[r],text:this._replaceStrings[r]});n.sort((function(t,i){return Zr.compareRangesUsingStarts(t.range,i.range)}));var e=[];var o=n[0];for(var r=1;r<n.length;r++)o.range.endLineNumber===n[r].range.startLineNumber&&o.range.endColumn===n[r].range.startColumn?(o.range=o.range.plusRange(n[r].range),o.text=o.text+n[r].text):(e.push(o),o=n[r]);e.push(o);for(var s=0,u=e;s<u.length;s++){var r=u[s];i.addEditOperation(r.range,r.text)}}this._trackedEditorSelectionId=i.trackSelection(this._editorSelection)};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this._trackedEditorSelectionId)};return t}();function I6(t,i){if(t&&t[0]!==""){var n=Q6(t,i,"-"),r=Q6(t,i,"_");return n&&!r?O6(t,i,"-"):!n&&r?O6(t,i,"_"):t[0].toUpperCase()===t[0]?i.toUpperCase():t[0].toLowerCase()===t[0]?i.toLowerCase():function(t,i){if(i===void 0){i=!1}return!!t&&(i&&(t=t.replace(/\\./g,"")),t.toLowerCase()!==t)}(t[0][0])&&i.length>0?i[0].toUpperCase()+i.substr(1):t[0][0].toUpperCase()!==t[0][0]&&i.length>0?i[0].toLowerCase()+i.substr(1):i}return i}function Q6(t,i,n){return t[0].indexOf(n)!==-1&&i.indexOf(n)!==-1&&t[0].split(n).length===i.split(n).length}function O6(t,i,n){var r=i.split(n),e=t[0].split(n);var o="";return r.forEach((function(t,i){o+=I6([e[i]],t)+n})),o.slice(0,-1)}var N6=function(){function t(t){this.staticValue=t,this.kind=0}return t}();var R6=function(){function t(t){this.pieces=t,this.kind=1}return t}();var T6=function(){function t(t){t&&t.length!==0?t.length===1&&t[0].staticValue!==null?this._state=new N6(t[0].staticValue):this._state=new R6(t):this._state=new N6("")}t.fromStaticValue=function(i){return new t([L6.staticValue(i)])};Object.defineProperty(t.prototype,"hasReplacementPatterns",{get:function(){return this._state.kind===1},enumerable:false,configurable:true});t.prototype.buildReplaceString=function(i,n){if(this._state.kind===0)return n?I6(i,this._state.staticValue):this._state.staticValue;var r="";for(var e=0,o=this._state.pieces.length;e<o;e++){var s=this._state.pieces[e];if(s.staticValue!==null){r+=s.staticValue;continue}var u=t._substitute(s.matchIndex,i);if(s.caseOps!==null&&s.caseOps.length>0){var a=[],c=s.caseOps.length;var h=0;for(var f=0,l=u.length;f<l;f++){if(h>=c){a.push(u.slice(f));break}switch(s.caseOps[h]){case"U":a.push(u[f].toUpperCase());break;case"u":a.push(u[f].toUpperCase()),h++;break;case"L":a.push(u[f].toLowerCase());break;case"l":a.push(u[f].toLowerCase()),h++;break;default:a.push(u[f])}}u=a.join("")}r+=u}return r};t._substitute=function(t,i){if(i===null)return"";if(t===0)return i[0];var n="";for(;t>0;){if(t<i.length)return(i[t]||"")+n;n=String(t%10)+n,t=Math.floor(t/10)}return"$"+n};return t}();var L6=function(){function t(t,i,n){this.staticValue=t,this.matchIndex=i,n&&n.length!==0?this.caseOps=n.slice(0):this.caseOps=null}t.staticValue=function(i){return new t(i,-1,null)};t.caseOps=function(i,n){return new t(null,i,n)};return t}();var j6=function(){function t(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}t.prototype.emitUnchanged=function(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t};t.prototype.emitStatic=function(t,i){this._emitStatic(t),this._lastCharIndex=i};t.prototype._emitStatic=function(t){t.length!==0&&(this._currentStaticPiece+=t)};t.prototype.emitMatchIndex=function(t,i,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L6.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L6.caseOps(t,n),this._lastCharIndex=i};t.prototype.finalize=function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L6.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new T6(this._result)};return t}();var z6=new cf("findWidgetVisible",!1);z6.toNegated();var U6=new cf("findInputFocussed",!1),H6=new cf("replaceInputFocussed",!1),Y6={primary:545,mac:{primary:2593}},J6={primary:565,mac:{primary:2613}},P6={primary:560,mac:{primary:2608}},W6={primary:554,mac:{primary:2602}},G6={primary:558,mac:{primary:2606}},V6="actions.find",K6="actions.findWithSelection",X6="editor.actions.findWithArgs",q6="editor.action.nextMatchFindAction",Z6="editor.action.previousMatchFindAction",$6="editor.action.goToMatchFindAction",t9="editor.action.nextSelectionMatchFindAction",i9="editor.action.previousSelectionMatchFindAction",n9="editor.action.startFindReplaceAction",r9="closeFindWidget",e9="toggleFindCaseSensitive",o9="toggleFindWholeWord",s9="toggleFindRegex",u9="toggleFindInSelection",a9="togglePreserveCase",c9="editor.action.replaceOne",h9="editor.action.replaceAll",f9="editor.action.selectAllMatches",l9=19999;var d9=function(){function t(t,i){var n=this;this._toDispose=new Bn,this._editor=t,this._state=i,this._isDisposed=!1,this._startSearchingTimer=new Ks,this._decorations=new F6(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new qs((function(){return n.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(t){t.reason!==3&&t.reason!==5&&t.reason!==6||n._decorations.setStartPosition(n._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(t){n._ignoreModelContentChanged||(t.isFlush&&n._decorations.reset(),n._decorations.setStartPosition(n._editor.getPosition()),n._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(t){return n._onStateChanged(t)}))),this.research(!1,this._state.searchScope)}t.prototype.dispose=function(){this._isDisposed=!0,kn(this._startSearchingTimer),this._toDispose.dispose()};t.prototype._onStateChanged=function(t){var i=this;!this._isDisposed&&this._editor.hasModel()&&(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){t.searchScope?i.research(t.moveCursor,i._state.searchScope):i.research(t.moveCursor)}),240)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))};t._getSearchRange=function(t,i){return i||t.getFullModelRange()};t.prototype.research=function(t,i){var n=this;var r=null;i!==void 0?i!==null&&(r=Array.isArray(i)?i:[i]):r=this._decorations.getFindScopes(),r!==null&&(r=r.map((function(t){if(t.startLineNumber!==t.endLineNumber){var i=t.endLineNumber;return t.endColumn===1&&(i-=1),new Zr(t.startLineNumber,1,i,n._editor.getModel().getLineMaxColumn(i))}return t})));var e=this._findMatches(r,!1,l9);this._decorations.set(e,r);var o=this._editor.getSelection();var s=this._decorations.getCurrentMatchesPosition(o);if(s===0&&e.length>0){var u=tA(e.map((function(t){return t.range})),(function(t){return Zr.compareRangesUsingStarts(t,o)>=0}));s=u>0?u-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),t&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())};t.prototype._hasMatches=function(){return this._state.matchesCount>0};t.prototype._cannotFind=function(){if(!this._hasMatches()){var t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1};t.prototype._setCurrentFindMatch=function(t){var i=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(i,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)};t.prototype._prevSearchPosition=function(t){var i=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);var n=t.lineNumber,r=t.column;var e=this._editor.getModel();return i||r===1?(n===1?n=e.getLineCount():n--,r=e.getLineMaxColumn(n)):r--,new qr(n,r)};t.prototype._moveToPrevMatch=function(i,n){if(n===void 0){n=!1}if(!this._state.canNavigateBack()){var r=this._decorations.matchAfterPosition(i);return void(r&&this._setCurrentFindMatch(r))}if(this._decorations.getCount()<l9){var e=this._decorations.matchBeforePosition(i);return e&&e.isEmpty()&&e.getStartPosition().equals(i)&&(i=this._prevSearchPosition(i),e=this._decorations.matchBeforePosition(i)),void(e&&this._setCurrentFindMatch(e))}if(this._cannotFind())return;var o=this._decorations.getFindScope(),s=t._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(i)&&(i=s.getEndPosition()),i.isBefore(s.getStartPosition())&&(i=s.getEndPosition());var u=i.lineNumber,a=i.column,c=this._editor.getModel();var h=new qr(u,a),f=c.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);return f&&f.range.isEmpty()&&f.range.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),f=c.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),f?n||s.containsRange(f.range)?void this._setCurrentFindMatch(f.range):this._moveToPrevMatch(f.range.getStartPosition(),!0):void 0};t.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())};t.prototype._nextSearchPosition=function(t){var i=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);var n=t.lineNumber,r=t.column;var e=this._editor.getModel();return i||r===e.getLineMaxColumn(n)?(n===e.getLineCount()?n=1:n++,r=1):r++,new qr(n,r)};t.prototype._moveToNextMatch=function(t){if(!this._state.canNavigateForward()){var i=this._decorations.matchBeforePosition(t);return void(i&&this._setCurrentFindMatch(i))}if(this._decorations.getCount()<l9){var i=this._decorations.matchAfterPosition(t);return i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),i=this._decorations.matchAfterPosition(t)),void(i&&this._setCurrentFindMatch(i))}var n=this._getNextMatch(t,!1,!0);n&&this._setCurrentFindMatch(n.range)};t.prototype._getNextMatch=function(i,n,r,e){if(e===void 0){e=!1}if(this._cannotFind())return null;var o=this._decorations.getFindScope(),s=t._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(i)&&(i=s.getStartPosition()),i.isBefore(s.getStartPosition())&&(i=s.getStartPosition());var u=i.lineNumber,a=i.column,c=this._editor.getModel();var h=new qr(u,a),f=c.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,n);return r&&f&&f.range.isEmpty()&&f.range.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),f=c.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,n)),f?e||s.containsRange(f.range)?f:this._getNextMatch(f.range.getEndPosition(),n,r,!0):null};t.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())};t.prototype._moveToMatch=function(t){var i=this._decorations.getDecorationRangeAt(t);i&&this._setCurrentFindMatch(i)};t.prototype.moveToMatch=function(t){this._moveToMatch(t)};t.prototype._getReplacePattern=function(){return this._state.isRegex?function(t){if(!t||t.length===0)return new T6(null);var i=[],n=new j6(t);for(var r=0,e=t.length;r<e;r++){var o=t.charCodeAt(r);if(o!==92){if(o===36){if(r++,r>=e)break;var s=t.charCodeAt(r);if(s===36){n.emitUnchanged(r-1),n.emitStatic("$",r+1);continue}if(s===48||s===38){n.emitUnchanged(r-1),n.emitMatchIndex(0,r+1,i),i.length=0;continue}if(49<=s&&s<=57){var u=s-48;if(r+1<e){var a=t.charCodeAt(r+1);if(48<=a&&a<=57){r++,u=10*u+(a-48),n.emitUnchanged(r-2),n.emitMatchIndex(u,r+1,i),i.length=0;continue}}n.emitUnchanged(r-1),n.emitMatchIndex(u,r+1,i),i.length=0;continue}}}else{if(r++,r>=e)break;var s=t.charCodeAt(r);switch(s){case 92:n.emitUnchanged(r-1),n.emitStatic("\\",r+1);break;case 110:n.emitUnchanged(r-1),n.emitStatic("\n",r+1);break;case 116:n.emitUnchanged(r-1),n.emitStatic("\t",r+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(r-1),n.emitStatic("",r+1),i.push(String.fromCharCode(s))}}}return n.finalize()}(this._state.replaceString):T6.fromStaticValue(this._state.replaceString)};t.prototype.replace=function(){if(!this._hasMatches())return;var t=this._getReplacePattern(),i=this._editor.getSelection(),n=this._getNextMatch(i.getStartPosition(),!0,!1);if(n)if(i.equalsRange(n.range)){var r=t.buildReplaceString(n.matches,this._state.preserveCase),e=new IE(i,r);this._executeEditorCommand("replace",e),this._decorations.setStartPosition(new qr(i.startLineNumber,i.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)};t.prototype._findMatches=function(i,n,r){var e=this;var o=(i||[null]).map((function(i){return t._getSearchRange(e._editor.getModel(),i)}));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,n,r)};t.prototype.replaceAll=function(){if(!this._hasMatches())return;var t=this._decorations.getFindScopes();t===null&&this._state.matchesCount>=l9?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)};t.prototype._largeReplaceAll=function(){var t=new Lv(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!t)return;var i=t.regex;if(!i.multiline){var n="mu";i.ignoreCase&&(n+="i"),i.global&&(n+="g"),i=new RegExp(i.source,n)}var r=this._editor.getModel(),e=r.getValue(1),o=r.getFullModelRange(),s=this._getReplacePattern();var u;var a=this._state.preserveCase;u=s.hasReplacementPatterns||a?e.replace(i,(function(){return s.buildReplaceString(arguments,a)})):e.replace(i,s.buildReplaceString(null,a));var c=new RE(o,u,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)};t.prototype._regularReplaceAll=function(t){var i=this._getReplacePattern(),n=this._findMatches(t,i.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(var e=0,o=n.length;e<o;e++)r[e]=i.buildReplaceString(n[e].matches,this._state.preserveCase);var s=new S6(this._editor.getSelection(),n.map((function(t){return t.range})),r);this._executeEditorCommand("replaceAll",s)};t.prototype.selectAllMatches=function(){if(!this._hasMatches())return;var t=this._decorations.getFindScopes();var i=this._findMatches(t,!1,1073741824).map((function(t){return new $r(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn)}));var n=this._editor.getSelection();for(var r=0,e=i.length;r<e;r++)if(i[r].equalsRange(n)){i=[n].concat(i.slice(0,r)).concat(i.slice(r+1));break}this._editor.setSelections(i)};t.prototype._executeEditorCommand=function(t,i){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,i),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}};return t}();var v9=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._hideSoon=e._register(new qs((function(){return e._hide()}),2e3)),e._isVisible=!1,e._editor=i,e._state=n,e._keybindingService=r,e._domNode=document.createElement("div"),e._domNode.className="findOptionsWidget",e._domNode.style.display="none",e._domNode.style.top="10px",e._domNode.style.zIndex="12",e._domNode.setAttribute("role","presentation"),e._domNode.setAttribute("aria-hidden","true");var o={inputActiveOptionBorder:ap(Gm),inputActiveOptionForeground:ap(Km),inputActiveOptionBackground:ap(Vm)},s=e._register(zL());e.caseSensitive=e._register(new NH(__assign({appendTitle:e._keybindingLabelFor(e9),isChecked:e._state.matchCase,hoverDelegate:s},o))),e._domNode.appendChild(e.caseSensitive.domNode),e._register(e.caseSensitive.onChange((function(){e._state.change({matchCase:e.caseSensitive.checked},!1)}))),e.wholeWords=e._register(new RH(__assign({appendTitle:e._keybindingLabelFor(o9),isChecked:e._state.wholeWord,hoverDelegate:s},o))),e._domNode.appendChild(e.wholeWords.domNode),e._register(e.wholeWords.onChange((function(){e._state.change({wholeWord:e.wholeWords.checked},!1)}))),e.regex=e._register(new TH(__assign({appendTitle:e._keybindingLabelFor(s9),isChecked:e._state.isRegex,hoverDelegate:s},o))),e._domNode.appendChild(e.regex.domNode),e._register(e.regex.onChange((function(){e._state.change({isRegex:e.regex.checked},!1)}))),e._editor.addOverlayWidget(e),e._register(e._state.onFindReplaceStateChange((function(t){var i=!1;t.isRegex&&(e.regex.checked=e._state.isRegex,i=!0),t.wholeWord&&(e.wholeWords.checked=e._state.wholeWord,i=!0),t.matchCase&&(e.caseSensitive.checked=e._state.matchCase,i=!0),!e._state.isRevealed&&i&&e._revealTemporarily()}))),e._register(Oa(e._domNode,Ec.MOUSE_LEAVE,(function(t){return e._onMouseLeave()}))),e._register(Oa(e._domNode,"mouseover",(function(t){return e._onMouseOver()})));return e}i.prototype._keybindingLabelFor=function(t){var i=this._keybindingService.lookupKeybinding(t);return i?" (".concat(i.getLabel(),")"):""};i.prototype.dispose=function(){this._editor.removeOverlayWidget(this),t.prototype.dispose.call(this)};i.prototype.getId=function(){return i.ID};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getPosition=function(){return{preference:0}};i.prototype.highlightFindOptions=function(){this._revealTemporarily()};i.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()};i.prototype._onMouseLeave=function(){this._hideSoon.schedule()};i.prototype._onMouseOver=function(){this._hideSoon.cancel()};i.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")};i.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")};return i}(pk);function A9(t,i){return t===1||t!==2&&i}v9.ID="editor.contrib.findOptionsWidget";var g9=function(t){__extends(i,t);function i(){var i=this;i=t.call(this)||this,i._onFindReplaceStateChange=i._register(new Ln),i.onFindReplaceStateChange=i._onFindReplaceStateChange.event,i._searchString="",i._replaceString="",i._isRevealed=!1,i._isReplaceRevealed=!1,i._isRegex=!1,i._isRegexOverride=0,i._wholeWord=!1,i._wholeWordOverride=0,i._matchCase=!1,i._matchCaseOverride=0,i._preserveCase=!1,i._preserveCaseOverride=0,i._searchScope=null,i._matchesPosition=0,i._matchesCount=0,i._currentMatch=null,i._loop=!0,i._isSearching=!1,i._filters=null;return i}Object.defineProperty(i.prototype,"searchString",{get:function(){return this._searchString},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"isRegex",{get:function(){return A9(this._isRegexOverride,this._isRegex)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"wholeWord",{get:function(){return A9(this._wholeWordOverride,this._wholeWord)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchCase",{get:function(){return A9(this._matchCaseOverride,this._matchCase)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"preserveCase",{get:function(){return A9(this._preserveCaseOverride,this._preserveCase)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:false,configurable:true});i.prototype.changeMatchInfo=function(t,i,n){var r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};var e=!1;i===0&&(t=0),t>i&&(t=i),this._matchesPosition!==t&&(this._matchesPosition=t,r.matchesPosition=!0,e=!0),this._matchesCount!==i&&(this._matchesCount=i,r.matchesCount=!0,e=!0),n!==void 0&&(Zr.equalsRange(this._currentMatch,n)||(this._currentMatch=n,r.currentMatch=!0,e=!0)),e&&this._onFindReplaceStateChange.fire(r)};i.prototype.change=function(t,i,n){var r=this;if(n===void 0){n=!0}var e;var o={moveCursor:i,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};var s=!1;var u=this.isRegex,a=this.wholeWord,c=this.matchCase,h=this.preserveCase;t.searchString!==void 0&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o.searchString=!0,s=!0),t.replaceString!==void 0&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o.replaceString=!0,s=!0),t.isRevealed!==void 0&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o.isRevealed=!0,s=!0),t.isReplaceRevealed!==void 0&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),t.isRegex!==void 0&&(this._isRegex=t.isRegex),t.wholeWord!==void 0&&(this._wholeWord=t.wholeWord),t.matchCase!==void 0&&(this._matchCase=t.matchCase),t.preserveCase!==void 0&&(this._preserveCase=t.preserveCase),t.searchScope!==void 0&&(!((e=t.searchScope)===null||e===void 0)&&e.every((function(t){var i;return(i=r._searchScope)===null||i===void 0?void 0:i.some((function(i){return!Zr.equalsRange(i,t)}))}))||(this._searchScope=t.searchScope,o.searchScope=!0,s=!0)),t.loop!==void 0&&this._loop!==t.loop&&(this._loop=t.loop,o.loop=!0,s=!0),t.isSearching!==void 0&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,o.isSearching=!0,s=!0),t.filters!==void 0&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,o.filters=!0,s=!0),this._isRegexOverride=t.isRegexOverride!==void 0?t.isRegexOverride:0,this._wholeWordOverride=t.wholeWordOverride!==void 0?t.wholeWordOverride:0,this._matchCaseOverride=t.matchCaseOverride!==void 0?t.matchCaseOverride:0,this._preserveCaseOverride=t.preserveCaseOverride!==void 0?t.preserveCaseOverride:0,u!==this.isRegex&&(s=!0,o.isRegex=!0),a!==this.wholeWord&&(s=!0,o.wholeWord=!0),c!==this.matchCase&&(s=!0,o.matchCase=!0),h!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)};i.prototype.canNavigateBack=function(){return this.canNavigateInLoop()||this.matchesPosition!==1};i.prototype.canNavigateForward=function(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount};i.prototype.canNavigateInLoop=function(){return this._loop||this.matchesCount>=l9};return i}(Cn);var w9=Bt(0,"input"),p9=Bt(0,"Preserve Case");var m9=function(t){__extends(i,t);function i(i){var n;return t.call(this,{icon:re.preserveCase,title:p9+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(n=i.hoverDelegate)!==null&&n!==void 0?n:jL("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})||this}return i}(nH);var b9=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._showOptionButtons=r,o.fixFocusOnOptionClickEnabled=!0,o.cachedOptionsWidth=0,o._onDidOptionChange=o._register(new Ln),o.onDidOptionChange=o._onDidOptionChange.event,o._onKeyDown=o._register(new Ln),o.onKeyDown=o._onKeyDown.event,o._onMouseDown=o._register(new Ln),o._onInput=o._register(new Ln),o._onKeyUp=o._register(new Ln),o._onPreserveCaseKeyDown=o._register(new Ln),o.onPreserveCaseKeyDown=o._onPreserveCaseKeyDown.event,o.contextViewProvider=n,o.placeholder=e.placeholder||"",o.validation=e.validation,o.label=e.label||w9;var s=e.appendPreserveCaseLabel||"",u=e.history||[],a=!!e.flexibleHeight,c=!!e.flexibleWidth,h=e.flexibleMaxHeight;o.domNode=document.createElement("div"),o.domNode.classList.add("monaco-findInput"),o.inputBox=o._register(new HH(o.domNode,o.contextViewProvider,{ariaLabel:o.label||"",placeholder:o.placeholder||"",validationOptions:{validation:o.validation},history:u,showHistoryHint:e.showHistoryHint,flexibleHeight:a,flexibleWidth:c,flexibleMaxHeight:h,inputBoxStyles:e.inputBoxStyles})),o.preserveCase=o._register(new m9(__assign({appendTitle:s,isChecked:!1},e.toggleStyles))),o._register(o.preserveCase.onChange((function(t){o._onDidOptionChange.fire(t),!t&&o.fixFocusOnOptionClickEnabled&&o.inputBox.focus(),o.validate()}))),o._register(o.preserveCase.onKeyDown((function(t){o._onPreserveCaseKeyDown.fire(t)}))),o._showOptionButtons?o.cachedOptionsWidth=o.preserveCase.width():o.cachedOptionsWidth=0;var f=[o.preserveCase.domNode];o.onkeydown(o.domNode,(function(t){if(t.equals(15)||t.equals(17)||t.equals(9)){var i=f.indexOf(o.domNode.ownerDocument.activeElement);if(i>=0){var n=-1;t.equals(17)?n=(i+1)%f.length:t.equals(15)&&(n=i===0?f.length-1:i-1),t.equals(9)?(f[i].blur(),o.inputBox.focus()):n>=0&&f[n].focus(),Cc(t,!0)}}}));var l=document.createElement("div");l.className="controls",l.style.display=o._showOptionButtons?"block":"none",l.appendChild(o.preserveCase.domNode),o.domNode.appendChild(l),i==null||i.appendChild(o.domNode),o.onkeydown(o.inputBox.inputElement,(function(t){return o._onKeyDown.fire(t)})),o.onkeyup(o.inputBox.inputElement,(function(t){return o._onKeyUp.fire(t)})),o.oninput(o.inputBox.inputElement,(function(t){return o._onInput.fire()})),o.onmousedown(o.inputBox.inputElement,(function(t){return o._onMouseDown.fire(t)}));return o}i.prototype.enable=function(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()};i.prototype.disable=function(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()};i.prototype.setEnabled=function(t){t?this.enable():this.disable()};i.prototype.select=function(){this.inputBox.select()};i.prototype.focus=function(){this.inputBox.focus()};i.prototype.getPreserveCase=function(){return this.preserveCase.checked};i.prototype.setPreserveCase=function(t){this.preserveCase.checked=t};i.prototype.focusOnPreserve=function(){this.preserveCase.focus()};i.prototype.validate=function(){var t;(t=this.inputBox)===null||t===void 0||t.validate()};Object.defineProperty(i.prototype,"width",{set:function(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"},enumerable:false,configurable:true});i.prototype.dispose=function(){t.prototype.dispose.call(this)};return i}(pk);var y9=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},k9=function(t,i){return function(n,r){i(n,r,t)}};var x9=new cf("suggestWidgetVisible",!1,Bt(0,"Whether suggestion are visible")),E9="historyNavigationWidgetFocus",B9="historyNavigationForwardsEnabled",C9="historyNavigationBackwardsEnabled";var D9;var M9=[];function _9(t,i){if(M9.includes(i))throw new Error("Cannot register the same widget multiple times");M9.push(i);var n=new Bn,r=new cf(E9,!1).bindTo(t),e=new cf(B9,!0).bindTo(t),o=new cf(C9,!0).bindTo(t),s=function(){r.set(!0),D9=i},u=function(){r.set(!1),D9===i&&(D9=void 0)};return uc(i.element)&&s(),n.add(i.onDidFocus((function(){return s()}))),n.add(i.onDidBlur((function(){return u()}))),n.add(En((function(){M9.splice(M9.indexOf(i),1),u()}))),{historyNavigationForwardsEnablement:e,historyNavigationBackwardsEnablement:o,dispose:function(){n.dispose()}}}var F9=function(t){__extends(i,t);function i(i,n,r,e){var o=t.call(this,i,n,r)||this;var s=o._register(e.createScoped(o.inputBox.element));o._register(_9(s,o.inputBox));return o}return i}(JH);F9=y9([k9(3,hf)],F9);var S9=function(t){__extends(i,t);function i(i,n,r,e,o){if(o===void 0){o=!1}var s=t.call(this,i,n,o,r)||this;var u=s._register(e.createScoped(s.inputBox.element));s._register(_9(u,s.inputBox));return s}return i}(b9);function I9(t){var i,n;return((i=t.lookupKeybinding("history.showPrevious"))===null||i===void 0?void 0:i.getElectronAccelerator())==="Up"&&((n=t.lookupKeybinding("history.showNext"))===null||n===void 0?void 0:n.getElectronAccelerator())==="Down"}S9=y9([k9(3,hf)],S9),xf.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Hh.and(Hh.has(E9),Hh.equals(C9,!0),Hh.not("isComposing"),x9.isEqualTo(!1)),primary:16,secondary:[528],handler:function(t){D9==null||D9.showPreviousValue()}}),xf.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Hh.and(Hh.has(E9),Hh.equals(B9,!0),Hh.not("isComposing"),x9.isEqualTo(!1)),primary:18,secondary:[530],handler:function(t){D9==null||D9.showNextValue()}});var Q9=DW("find-selection",re.selection,Bt(0,"Icon for 'Find in Selection' in the editor find widget.")),O9=DW("find-collapsed",re.chevronRight,Bt(0,"Icon to indicate that the editor find widget is collapsed.")),N9=DW("find-expanded",re.chevronDown,Bt(0,"Icon to indicate that the editor find widget is expanded.")),R9=DW("find-replace",re.replace,Bt(0,"Icon for 'Replace' in the editor find widget.")),T9=DW("find-replace-all",re.replaceAll,Bt(0,"Icon for 'Replace All' in the editor find widget.")),L9=DW("find-previous-match",re.arrowUp,Bt(0,"Icon for 'Find Previous' in the editor find widget.")),j9=DW("find-next-match",re.arrowDown,Bt(0,"Icon for 'Find Next' in the editor find widget.")),z9=Bt(0,"Find / Replace"),U9=Bt(0,"Find"),H9=Bt(0,"Find"),Y9=Bt(0,"Previous Match"),J9=Bt(0,"Next Match"),P9=Bt(0,"Find in Selection"),W9=Bt(0,"Close"),G9=Bt(0,"Replace"),V9=Bt(0,"Replace"),K9=Bt(0,"Replace"),X9=Bt(0,"Replace All"),q9=Bt(0,"Toggle Replace"),Z9=Bt(0,"Only the first {0} results are highlighted, but all find operations work on the entire text.",l9),$9=Bt(0,"{0} of {1}"),t7=Bt(0,"No results"),i7=419;var n7=69;var r7="ctrlEnterReplaceAll.windows.donotask",e7=Gt?256:2048;var o7=function(){function t(t){this.afterLineNumber=t,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}return t}();function s7(t,i,n){var r=!!i.match(/\n/);n&&r&&n.selectionStart>0&&t.stopPropagation()}function u7(t,i,n){var r=!!i.match(/\n/);n&&r&&n.selectionEnd<n.value.length&&t.stopPropagation()}var a7=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;h=t.call(this)||this,h._cachedHeight=null,h._revealTimeouts=[],h._codeEditor=i,h._controller=n,h._state=r,h._contextViewProvider=e,h._keybindingService=o,h._contextKeyService=s,h._storageService=a,h._notificationService=c,h._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean(r7,0),h._isVisible=!1,h._isReplaceVisible=!1,h._ignoreChangeEvent=!1,h._updateHistoryDelayer=new Js(500),h._register(En((function(){return h._updateHistoryDelayer.cancel()}))),h._register(h._state.onFindReplaceStateChange((function(t){return h._onStateChanged(t)}))),h._buildDomNode(),h._updateButtons(),h._tryUpdateWidgetWidth(),h._findInput.inputBox.layout(),h._register(h._codeEditor.onDidChangeConfiguration((function(t){if(t.hasChanged(91)&&(h._codeEditor.getOption(91)&&h._state.change({isReplaceRevealed:!1},!1),h._updateButtons()),t.hasChanged(145)&&h._tryUpdateWidgetWidth(),t.hasChanged(2)&&h.updateAccessibilitySupport(),t.hasChanged(41)){var i=h._codeEditor.getOption(41).loop;h._state.change({loop:i},!1);var n=h._codeEditor.getOption(41).addExtraSpaceOnTop;n&&!h._viewZone&&(h._viewZone=new o7(0),h._showViewZone()),!n&&h._viewZone&&h._removeViewZone()}}))),h.updateAccessibilitySupport(),h._register(h._codeEditor.onDidChangeCursorSelection((function(){h._isVisible&&h._updateToggleSelectionFindButton()}))),h._register(h._codeEditor.onDidFocusEditorWidget((function(){return __awaiter(h,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:if(!this._isVisible)return[3,2];return[4,this._controller.getGlobalBufferTerm()];case 1:t=i.sent();t&&t!==this._state.searchString&&(this._state.change({searchString:t},!1),this._findInput.select());i.label=2;case 2:return[2]}}))}))}))),h._findInputFocused=U6.bindTo(s),h._findFocusTracker=h._register(Mc(h._findInput.inputBox.inputElement)),h._register(h._findFocusTracker.onDidFocus((function(){h._findInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._findFocusTracker.onDidBlur((function(){h._findInputFocused.set(!1)}))),h._replaceInputFocused=H6.bindTo(s),h._replaceFocusTracker=h._register(Mc(h._replaceInput.inputBox.inputElement)),h._register(h._replaceFocusTracker.onDidFocus((function(){h._replaceInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._replaceFocusTracker.onDidBlur((function(){h._replaceInputFocused.set(!1)}))),h._codeEditor.addOverlayWidget(h),h._codeEditor.getOption(41).addExtraSpaceOnTop&&(h._viewZone=new o7(0)),h._register(h._codeEditor.onDidChangeModel((function(){h._isVisible&&(h._viewZoneId=void 0)}))),h._register(h._codeEditor.onDidScrollChange((function(t){t.scrollTopChanged?h._layoutViewZone():setTimeout((function(){h._layoutViewZone()}),0)})));return h}i.prototype.getId=function(){return i.ID};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getPosition=function(){return this._isVisible?{preference:0}:null};i.prototype._onStateChanged=function(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(91)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=qa(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){var i=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",i),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory(),t.loop&&this._updateButtons()};i.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,cn)};i.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()};i.prototype._updateMatchesCount=function(){var t;if(this._matchesCount.style.minWidth=n7+"px",this._state.matchesCount>=l9?this._matchesCount.title=Z9:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var i=String(this._state.matchesCount);this._state.matchesCount>=l9&&(i+="+");var n=String(this._state.matchesPosition);n==="0"&&(n="?"),t=ko($9,n,i)}else t=t7;this._matchesCount.appendChild(document.createTextNode(t)),Rw(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),n7=Math.max(n7,this._matchesCount.clientWidth)};i.prototype._getAriaLabel=function(t,i,n){if(t===t7)return n===""?Bt(0,"{0} found",t):Bt(0,"{0} found for '{1}'",t,n);if(i){var r=Bt(0,"{0} found for '{1}', at {2}",t,n,i.startLineNumber+":"+i.startColumn),e=this._codeEditor.getModel();return e&&i.startLineNumber<=e.getLineCount()&&i.startLineNumber>=1?"".concat(e.getLineContent(i.startLineNumber),", ").concat(r):r}return Bt(0,"{0} found for '{1}'",t,n)};i.prototype._updateToggleSelectionFindButton=function(){var t=this._codeEditor.getSelection(),i=!!t&&(t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||i)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()};i.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var t=this._state.searchString.length>0,i=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&i&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&t&&i&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var n=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)};i.prototype._reveal=function(){var t=this;if(this._revealTimeouts.forEach((function(t){clearTimeout(t)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;var i=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{var n=!!i&&i.startLineNumber!==i.endLineNumber;this._toggleSelectionFind.checked=n;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((function(){t._domNode.classList.add("visible"),t._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((function(){t._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);var r=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&i){var n=this._codeEditor.getDomNode();if(n){var e=Ka(n),o=this._codeEditor.getScrolledVisiblePosition(i.getStartPosition()),s=e.left+(o?o.left:0),u=o?o.top:0;if(this._viewZone&&u<this._viewZone.heightInPx){i.endLineNumber>i.startLineNumber&&(r=!1);var a=Va(this._domNode).left;s>a&&(r=!1);var c=this._codeEditor.getScrolledVisiblePosition(i.getEndPosition());e.left+(c?c.left:0)>a&&(r=!1)}}}this._showViewZone(r)}};i.prototype._hide=function(t){this._revealTimeouts.forEach((function(t){clearTimeout(t)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())};i.prototype._layoutViewZone=function(t){var i=this;if(!this._codeEditor.getOption(41).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;var n=this._viewZone;this._viewZoneId===void 0&&n&&this._codeEditor.changeViewZones((function(r){n.heightInPx=i._getHeight(),i._viewZoneId=r.addZone(n),i._codeEditor.setScrollTop(t||i._codeEditor.getScrollTop()+n.heightInPx)}))};i.prototype._showViewZone=function(t){var i=this;if(t===void 0){t=!0}if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new o7(0));var n=this._viewZone;this._codeEditor.changeViewZones((function(r){if(i._viewZoneId!==void 0){var e=i._getHeight();if(e===n.heightInPx)return;var o=e-n.heightInPx;return n.heightInPx=e,r.layoutZone(i._viewZoneId),void(t&&i._codeEditor.setScrollTop(i._codeEditor.getScrollTop()+o))}{var e=i._getHeight();if(e-=i._codeEditor.getOption(84).top,e<=0)return;n.heightInPx=e,i._viewZoneId=r.addZone(n),t&&i._codeEditor.setScrollTop(i._codeEditor.getScrollTop()+e)}}))};i.prototype._removeViewZone=function(){var t=this;this._codeEditor.changeViewZones((function(i){t._viewZoneId!==void 0&&(i.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._viewZone&&(t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx),t._viewZone=void 0))}))};i.prototype._tryUpdateWidgetWidth=function(){if(!this._isVisible||!this._domNode.isConnected)return;var t=this._codeEditor.getLayoutInfo();if(t.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");var i=t.width,n=t.minimap.minimapWidth;var r=!1,e=!1,o=!1;if(this._resized&&qa(this._domNode)>i7)return this._domNode.style.maxWidth=i-28-n-15+"px",void(this._replaceInput.width=qa(this._findInput.domNode));if(447+n>=i&&(e=!0),447+n-n7>=i&&(o=!0),447+n-n7>=i+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",o),this._domNode.classList.toggle("reduced-find-widget",e),o||r||(this._domNode.style.maxWidth=i-28-n-15+"px"),this._findInput.layout({collapsedFindWidget:r,narrowFindWidget:o,reducedFindWidget:e}),this._resized){var s=this._findInput.inputBox.element.clientWidth;s>0&&(this._replaceInput.width=s)}else this._isReplaceVisible&&(this._replaceInput.width=qa(this._findInput.domNode))};i.prototype._getHeight=function(){var t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t};i.prototype._tryUpdateHeight=function(){var t=this._getHeight();return(this._cachedHeight===null||this._cachedHeight!==t)&&(this._cachedHeight=t,this._domNode.style.height="".concat(t,"px"),!0)};i.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()};i.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()};i.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()};i.prototype._updateSearchScope=function(){var t=this;if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var i=this._codeEditor.getSelections();i.map((function(i){i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(i.endLineNumber-1)));var n=t._state.currentMatch;return i.startLineNumber===i.endLineNumber||Zr.equalsRange(i,n)?null:i})).filter((function(t){return!!t})),i.length&&this._state.change({searchScope:i},!0)}};i.prototype._onFindInputMouseDown=function(t){t.middleButton&&t.stopPropagation()};i.prototype._onFindInputKeyDown=function(t){return t.equals(3|e7)?(this._keybindingService.dispatchEvent(t,t.target)||this._findInput.inputBox.insertAtCursor("\n"),void t.preventDefault()):t.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?s7(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):t.equals(18)?u7(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0};i.prototype._onReplaceInputKeyDown=function(t){return t.equals(3|e7)?(this._keybindingService.dispatchEvent(t,t.target)||(Wt&&Kt&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Bt(0,"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(r7,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void t.preventDefault()):t.equals(2)?(this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(1026)?(this._findInput.focus(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?s7(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):t.equals(18)?u7(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0};i.prototype.getVerticalSashLeft=function(t){return 0};i.prototype._keybindingLabelFor=function(t){var i=this._keybindingService.lookupKeybinding(t);return i?" (".concat(i.getLabel(),")"):""};i.prototype._buildDomNode=function(){var t=this;this._findInput=this._register(new F9(null,this._contextViewProvider,{width:221,label:U9,placeholder:H9,appendCaseSensitiveLabel:this._keybindingLabelFor(e9),appendWholeWordsLabel:this._keybindingLabelFor(o9),appendRegexLabel:this._keybindingLabelFor(s9),validation:function(i){if(i.length===0||!t._findInput.getRegex())return null;try{return null}catch(t){return{content:t.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:function(){return I9(t._keybindingService)},inputBoxStyles:Pz,toggleStyles:Jz},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(i){return t._onFindInputKeyDown(i)}))),this._register(this._findInput.inputBox.onDidChange((function(){t._ignoreChangeEvent||t._state.change({searchString:t._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){t._state.change({isRegex:t._findInput.getRegex(),wholeWord:t._findInput.getWholeWords(),matchCase:t._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(i){i.equals(1026)&&t._isReplaceVisible&&(t._replaceInput.focus(),i.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(i){i.equals(2)&&t._isReplaceVisible&&(t._replaceInput.focusOnPreserve(),i.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(i){t._tryUpdateHeight()&&t._showViewZone()}))),Vt&&this._register(this._findInput.onMouseDown((function(i){return t._onFindInputMouseDown(i)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();var i=this._register(zL());this._prevBtn=this._register(new c7({label:Y9+this._keybindingLabelFor(Z6),icon:L9,hoverDelegate:i,onTrigger:function(){dt(t._codeEditor.getAction(Z6)).run().then(void 0,cn)}})),this._nextBtn=this._register(new c7({label:J9+this._keybindingLabelFor(q6),icon:j9,hoverDelegate:i,onTrigger:function(){dt(t._codeEditor.getAction(q6)).run().then(void 0,cn)}}));var n=document.createElement("div");n.className="find-part",n.appendChild(this._findInput.domNode);var r=document.createElement("div");r.className="find-actions",n.appendChild(r),r.appendChild(this._matchesCount),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new nH({icon:Q9,title:P9+this._keybindingLabelFor(u9),isChecked:!1,hoverDelegate:i,inputActiveOptionBackground:ap(Vm),inputActiveOptionBorder:ap(Gm),inputActiveOptionForeground:ap(Km)})),this._register(this._toggleSelectionFind.onChange((function(){if(t._toggleSelectionFind.checked){if(t._codeEditor.hasModel()){var i=t._codeEditor.getSelections();i=i.map((function(i){return i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(i.endLineNumber-1))),i.isEmpty()?null:i})).filter((function(t){return!!t})),i.length&&t._state.change({searchScope:i},!0)}}else t._state.change({searchScope:null},!0)}))),r.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new c7({label:W9+this._keybindingLabelFor(r9),icon:IW,hoverDelegate:i,onTrigger:function(){t._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(i){i.equals(2)&&t._isReplaceVisible&&(t._replaceBtn.isEnabled()?t._replaceBtn.focus():t._codeEditor.focus(),i.preventDefault())}})),this._replaceInput=this._register(new S9(null,void 0,{label:G9,placeholder:V9,appendPreserveCaseLabel:this._keybindingLabelFor(a9),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:function(){return I9(t._keybindingService)},inputBoxStyles:Pz,toggleStyles:Jz},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(i){return t._onReplaceInputKeyDown(i)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){t._state.change({replaceString:t._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(i){t._isReplaceVisible&&t._tryUpdateHeight()&&t._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){t._state.change({preserveCase:t._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(i){i.equals(2)&&(t._prevBtn.isEnabled()?t._prevBtn.focus():t._nextBtn.isEnabled()?t._nextBtn.focus():t._toggleSelectionFind.enabled?t._toggleSelectionFind.focus():t._closeBtn.isEnabled()&&t._closeBtn.focus(),i.preventDefault())})));var e=this._register(zL());this._replaceBtn=this._register(new c7({label:K9+this._keybindingLabelFor(c9),icon:R9,hoverDelegate:e,onTrigger:function(){t._controller.replace()},onKeyDown:function(i){i.equals(1026)&&(t._closeBtn.focus(),i.preventDefault())}})),this._replaceAllBtn=this._register(new c7({label:X9+this._keybindingLabelFor(h9),icon:T9,hoverDelegate:e,onTrigger:function(){t._controller.replaceAll()}}));var o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);var s=document.createElement("div");s.className="replace-actions",o.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new c7({label:q9,className:"codicon toggle left",onTrigger:function(){t._state.change({isReplaceRevealed:!t._isReplaceVisible},!1),t._isReplaceVisible&&(t._replaceInput.width=qa(t._findInput.domNode),t._replaceInput.inputBox.layout()),t._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=z9,this._domNode.role="dialog",this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(n),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(o),this._resizeSash=this._register(new yH(this._domNode,this,{orientation:0,size:2})),this._resized=!1;var u=i7;this._register(this._resizeSash.onDidStart((function(){u=qa(t._domNode)}))),this._register(this._resizeSash.onDidChange((function(i){t._resized=!0;var n=u+i.startX-i.currentX;n<i7||n>(parseFloat(Ja(t._domNode).maxWidth)||0)||(t._domNode.style.width="".concat(n,"px"),t._isReplaceVisible&&(t._replaceInput.width=qa(t._findInput.domNode)),t._findInput.inputBox.layout(),t._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((function(){var i=qa(t._domNode);if(i<i7)return;var n=i7;if(!t._resized||i===i7){var r=t._codeEditor.getLayoutInfo();n=r.width-28-r.minimap.minimapWidth-15,t._resized=!0}t._domNode.style.width="".concat(n,"px"),t._isReplaceVisible&&(t._replaceInput.width=qa(t._findInput.domNode)),t._findInput.inputBox.layout()})))};i.prototype.updateAccessibilitySupport=function(){var t=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(t!==2)};return i}(pk);a7.ID="editor.contrib.findWidget";var c7=function(t){__extends(i,t);function i(i){var n=this;var r;n=t.call(this)||this,n._opts=i;var e="button";n._opts.className&&(e=e+" "+n._opts.className),n._opts.icon&&(e=e+" "+xh.asClassName(n._opts.icon)),n._domNode=document.createElement("div"),n._domNode.tabIndex=0,n._domNode.className=e,n._domNode.setAttribute("role","button"),n._domNode.setAttribute("aria-label",n._opts.label),n._register(YL((r=i.hoverDelegate)!==null&&r!==void 0?r:jL("element"),n._domNode,n._opts.label)),n.onclick(n._domNode,(function(t){n._opts.onTrigger(),t.preventDefault()})),n.onkeydown(n._domNode,(function(t){var i,r;if(t.equals(10)||t.equals(3))return n._opts.onTrigger(),void t.preventDefault();(r=(i=n._opts).onKeyDown)===null||r===void 0||r.call(i,t)}));return n}Object.defineProperty(i.prototype,"domNode",{get:function(){return this._domNode},enumerable:false,configurable:true});i.prototype.isEnabled=function(){return this._domNode.tabIndex>=0};i.prototype.focus=function(){this._domNode.focus()};i.prototype.setEnabled=function(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1};i.prototype.setExpanded=function(t){var i,n,r,e;this._domNode.setAttribute("aria-expanded",String(!!t)),t?((i=this._domNode.classList).remove.apply(i,xh.asClassNameArray(O9)),(n=this._domNode.classList).add.apply(n,xh.asClassNameArray(N9))):((r=this._domNode.classList).remove.apply(r,xh.asClassNameArray(N9)),(e=this._domNode.classList).add.apply(e,xh.asClassNameArray(O9)))};return i}(pk);cx((function(t,i){var n=t.getColor($p);n&&i.addRule(".monaco-editor .findMatch { border: 1px ".concat(zy(t.type)?"dotted":"solid"," ").concat(n,"; box-sizing: border-box; }"));var r=t.getColor(tm);r&&i.addRule(".monaco-editor .findScope { border: 1px ".concat(zy(t.type)?"dashed":"solid"," ").concat(r,"; }"));var e=t.getColor(Ep);e&&i.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(e,"; }"))}));var h7,f7=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},l7=function(t,i){return function(n,r){i(n,r,t)}};function d7(t,i,n){if(i===void 0){i="single"}if(n===void 0){n=!1}if(!t.hasModel())return null;var r=t.getSelection();if(i==="single"&&r.startLineNumber===r.endLineNumber||i==="multiple"){if(r.isEmpty()){var e=t.getConfiguredWordAtPosition(r.getStartPosition());if(e&&n===!1)return e.word}else if(t.getModel().getValueLengthInRange(r)<524288)return t.getModel().getValueInRange(r)}return null}var v7=h7=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s._editor=i,s._findWidgetVisible=z6.bindTo(n),s._contextKeyService=n,s._storageService=r,s._clipboardService=e,s._notificationService=o,s._updateHistoryDelayer=new Js(500),s._state=s._register(new g9),s.loadQueryState(),s._register(s._state.onFindReplaceStateChange((function(t){return s._onStateChanged(t)}))),s._model=null,s._register(s._editor.onDidChangeModel((function(){var t=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:s._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:s._storageService.getBoolean("editor.preserveCase",1,!1)},!1),t&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:s._editor.getOption(41).loop})})));return s}Object.defineProperty(i.prototype,"editor",{get:function(){return this._editor},enumerable:false,configurable:true});i.get=function(t){return t.getContribution(h7.ID)};i.prototype.dispose=function(){this.disposeModel(),t.prototype.dispose.call(this)};i.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)};i.prototype._onStateChanged=function(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)};i.prototype.saveQueryState=function(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)};i.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)};i.prototype.isFindInputFocused=function(){return!!U6.getValue(this._contextKeyService)};i.prototype.getState=function(){return this._state};i.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()};i.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()};i.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()};i.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()};i.prototype.togglePreserveCase=function(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()};i.prototype.toggleSearchScope=function(){var t=this;if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var i=this._editor.getSelections();i=i.map((function(i){return i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,t._editor.getModel().getLineMaxColumn(i.endLineNumber-1))),i.isEmpty()?null:i})).filter((function(t){return!!t})),i.length&&this._state.change({searchScope:i},!0)}};i.prototype.setSearchString=function(t){this._state.isRegex&&(t=Eo(t)),this._state.change({searchString:t},!1)};i.prototype.highlightFindOptions=function(t){if(t===void 0){t=!1}};i.prototype._start=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,r,r,r;return __generator(this,(function(e){switch(e.label){case 0:if(this.disposeModel(),!this._editor.hasModel())return[2];n=__assign(__assign({},i),{isRevealed:!0});if(t.seedSearchStringFromSelection==="single"){r=d7(this._editor,t.seedSearchStringFromSelection,t.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?n.searchString=Eo(r):n.searchString=r)}else if(t.seedSearchStringFromSelection==="multiple"&&!t.updateSearchScope){r=d7(this._editor,t.seedSearchStringFromSelection);r&&(n.searchString=r)}if(!(!n.searchString&&t.seedSearchStringFromGlobalClipboard))return[3,2];return[4,this.getGlobalBufferTerm()];case 1:r=e.sent();if(!this._editor.hasModel())return[2];r&&(n.searchString=r);e.label=2;case 2:if(t.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),t.updateSearchScope){r=this._editor.getSelections();r.some((function(t){return!t.isEmpty()}))&&(n.searchScope=r)}n.loop=t.loop,this._state.change(n,!1),this._model||(this._model=new d9(this._editor,this._state));return[2]}}))}))};i.prototype.start=function(t,i){return this._start(t,i)};i.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)};i.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)};i.prototype.goToMatch=function(t){return!!this._model&&(this._model.moveToMatch(t),!0)};i.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)};i.prototype.replaceAll=function(){var t;return!!this._model&&(!((t=this._editor.getModel())===null||t===void 0)&&t.isTooLargeForHeapOperation()?(this._notificationService.warn(Bt(0,"The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0))};i.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)};i.prototype.getGlobalBufferTerm=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""]}))}))};i.prototype.setGlobalBufferTerm=function(t){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)};return i}(Cn);v7.ID="editor.contrib.findController",v7=h7=f7([l7(1,hf),l7(2,Lz),l7(3,uG),l7(4,PI)],v7);var A7=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a){var c=this;c=t.call(this,i,r,u,a,s)||this,c._contextViewService=n,c._keybindingService=e,c._themeService=o,c._widget=null,c._findOptionsWidget=null;return c}i.prototype._start=function(i,n){return __awaiter(this,void 0,void 0,(function(){var r,e;return __generator(this,(function(o){switch(o.label){case 0:this._widget||this._createFindWidget();r=this._editor.getSelection();e=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":e=!0;break;case"never":e=!1;break;case"multiline":e=!!r&&r.startLineNumber!==r.endLineNumber;break}i.updateSearchScope=i.updateSearchScope||e;return[4,t.prototype._start.call(this,i,n)];case 1:o.sent(),this._widget&&(i.shouldFocus===2?this._widget.focusReplaceInput():i.shouldFocus===1&&this._widget.focusFindInput());return[2]}}))}))};i.prototype.highlightFindOptions=function(t){if(t===void 0){t=!1}this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()};i.prototype._createFindWidget=function(){this._widget=this._register(new a7(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new v9(this._editor,this._state,this._keybindingService))};return i}(v7);A7=f7([l7(1,RO),l7(2,hf),l7(3,vE),l7(4,ex),l7(5,PI),l7(6,Lz),l7(7,uG)],A7);tl(new Kf({id:V6,label:Bt(0,"Find"),alias:"Find",precondition:Hh.or(hB.focus,Hh.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:_f.MenubarEditMenu,group:"3_find",title:Bt(0,"&&Find"),order:1}})).addImplementation(0,(function(t,i,n){var r=v7.get(i);return!!r&&r.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:i.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:i.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(41).loop})}));var g7={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};var w7=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:t=v7.get(i);n=t&&!this._run(t);if(!n)return[3,2];return[4,t.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getState().searchString.length===0&&i.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:i.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(41).loop})];case 1:n=(r.sent(),this._run(t));r.label=2;case 2:n;return[2]}}))}))};return i}(Vf);var p7=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n,r;return __generator(this,(function(e){switch(e.label){case 0:t=v7.get(i);if(!t)return[2];n=d7(i,"single",!1);n&&t.setSearchString(n);r=this._run(t);if(r)return[3,2];return[4,t.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(41).loop})];case 1:r=(e.sent(),this._run(t));e.label=2;case 2:r;return[2]}}))}))};return i}(Vf);tl(new Kf({id:n9,label:Bt(0,"Replace"),alias:"Replace",precondition:Hh.or(hB.focus,Hh.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:_f.MenubarEditMenu,group:"3_find",title:Bt(0,"&&Replace"),order:2}})).addImplementation(0,(function(t,i,n){if(!i.hasModel()||i.getOption(91))return!1;var r=v7.get(i);if(!r)return!1;var e=i.getSelection(),o=r.isFindInputFocused(),s=!e.isEmpty()&&e.startLineNumber===e.endLineNumber&&i.getOption(41).seedSearchStringFromSelection!=="never"&&!o,u=o||s?2:1;return r.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:i.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:i.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:u,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(41).loop})})),il(v7.ID,A7,0),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:X6,label:Bt(0,"Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:g7})||this}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var t,r;return __generator(this,(function(e){switch(e.label){case 0:t=v7.get(i);if(!t)return[3,2];r=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:n.replaceString!==void 0,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};return[4,t.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getState().searchString.length===0&&i.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:i.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(n==null?void 0:n.findInSelection)||!1,loop:i.getOption(41).loop},r)];case 1:e.sent(),t.setGlobalBufferTerm(t.getState().searchString);e.label=2;case 2:return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:K6,label:Bt(0,"Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:t=v7.get(i);n=t;if(!n)return[3,2];return[4,t.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(41).loop})];case 1:n=(r.sent(),t.setGlobalBufferTerm(t.getState().searchString));r.label=2;case 2:n;return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:q6,label:Bt(0,"Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:hB.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Hh.and(hB.focus,U6),primary:3,weight:100}]})||this}i.prototype._run=function(t){return!!t.moveToNextMatch()&&(t.editor.pushUndoStop(),!0)};return i}(w7)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:Z6,label:Bt(0,"Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:hB.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Hh.and(hB.focus,U6),primary:1027,weight:100}]})||this}i.prototype._run=function(t){return t.moveToPrevMatch()};return i}(w7)),$f(function(t){__extends(i,t);function i(){var i=this;i=t.call(this,{id:$6,label:Bt(0,"Go to Match..."),alias:"Go to Match...",precondition:z6})||this,i._highlightDecorations=[];return i}i.prototype.run=function(t,i,n){var r=this;var e=v7.get(i);if(!e)return;var o=e.getState().matchesCount;if(o<1)return void t.get(PI).notify({severity:JI.Warning,message:Bt(0,"No matches. Try searching for something else.")});var s=t.get(ZU).createInputBox();s.placeholder=Bt(0,"Type a number to go to a specific match (between 1 and {0})",o);var u=function(t){var i=parseInt(t);if(isNaN(i))return;var n=e.getState().matchesCount;return i>0&&i<=n?i-1:i<0&&i>=-n?n+i:void 0},a=function(t){var n=u(t);if(typeof n=="number"){s.validationMessage=void 0,e.goToMatch(n);var o=e.getState().currentMatch;o&&r.addDecorations(i,o)}else s.validationMessage=Bt(0,"Please type a number between 1 and {0}",e.getState().matchesCount),r.clearDecorations(i)};s.onDidChangeValue((function(t){a(t)})),s.onDidAccept((function(){var t=u(s.value);typeof t=="number"?(e.goToMatch(t),s.hide()):s.validationMessage=Bt(0,"Please type a number between 1 and {0}",e.getState().matchesCount)})),s.onDidHide((function(){r.clearDecorations(i),s.dispose()})),s.show()};i.prototype.clearDecorations=function(t){var i=this;t.changeDecorations((function(t){i._highlightDecorations=t.deltaDecorations(i._highlightDecorations,[])}))};i.prototype.addDecorations=function(t,i){var n=this;t.changeDecorations((function(t){n._highlightDecorations=t.deltaDecorations(n._highlightDecorations,[{range:i,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:ox(Ux),position:_v.Full}}}])}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:t9,label:Bt(0,"Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:2109,weight:100}})||this}i.prototype._run=function(t){return t.moveToNextMatch()};return i}(p7)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:i9,label:Bt(0,"Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:3133,weight:100}})||this}i.prototype._run=function(t){return t.moveToPrevMatch()};return i}(p7));var m7=Gf.bindToContribution(v7.get);Zf(new m7({id:r9,precondition:z6,handler:function(t){return t.closeFindWidget()},kbOpts:{weight:105,kbExpr:Hh.and(hB.focus,Hh.not("isComposing")),primary:9,secondary:[1033]}})),Zf(new m7({id:e9,precondition:void 0,handler:function(t){return t.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:hB.focus,primary:Y6.primary,mac:Y6.mac,win:Y6.win,linux:Y6.linux}})),Zf(new m7({id:o9,precondition:void 0,handler:function(t){return t.toggleWholeWords()},kbOpts:{weight:105,kbExpr:hB.focus,primary:J6.primary,mac:J6.mac,win:J6.win,linux:J6.linux}})),Zf(new m7({id:s9,precondition:void 0,handler:function(t){return t.toggleRegex()},kbOpts:{weight:105,kbExpr:hB.focus,primary:P6.primary,mac:P6.mac,win:P6.win,linux:P6.linux}})),Zf(new m7({id:u9,precondition:void 0,handler:function(t){return t.toggleSearchScope()},kbOpts:{weight:105,kbExpr:hB.focus,primary:W6.primary,mac:W6.mac,win:W6.win,linux:W6.linux}})),Zf(new m7({id:a9,precondition:void 0,handler:function(t){return t.togglePreserveCase()},kbOpts:{weight:105,kbExpr:hB.focus,primary:G6.primary,mac:G6.mac,win:G6.win,linux:G6.linux}})),Zf(new m7({id:c9,precondition:z6,handler:function(t){return t.replace()},kbOpts:{weight:105,kbExpr:hB.focus,primary:3094}})),Zf(new m7({id:c9,precondition:z6,handler:function(t){return t.replace()},kbOpts:{weight:105,kbExpr:Hh.and(hB.focus,H6),primary:3}})),Zf(new m7({id:h9,precondition:z6,handler:function(t){return t.replaceAll()},kbOpts:{weight:105,kbExpr:hB.focus,primary:2563}})),Zf(new m7({id:h9,precondition:z6,handler:function(t){return t.replaceAll()},kbOpts:{weight:105,kbExpr:Hh.and(hB.focus,H6),primary:void 0,mac:{primary:2051}}})),Zf(new m7({id:f9,precondition:z6,handler:function(t){return t.selectAllMatches()},kbOpts:{weight:105,kbExpr:hB.focus,primary:515}}));var b7={0:" ",1:"u",2:"r"},y7=16777215,k7=4278190080;var x7=function(){function t(t){var i=Math.ceil(t/32);this._states=new Uint32Array(i)}t.prototype.get=function(t){var i=t/32|0,n=t%32;return!!(this._states[i]&1<<n)};t.prototype.set=function(t,i){var n=t/32|0,r=t%32,e=this._states[n];this._states[n]=i?e|1<<r:e&~(1<<r)};return t}();var E7=function(){function t(t,i,n){if(t.length!==i.length||t.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=i,this._collapseStates=new x7(t.length),this._userDefinedStates=new x7(t.length),this._recoveredStates=new x7(t.length),this._types=n,this._parentsComputed=!1}t.prototype.ensureParentIndices=function(){var t=this;if(!this._parentsComputed){this._parentsComputed=!0;var i=[],n=function(n,r){var e=i[i.length-1];return t.getStartLineNumber(e)<=n&&t.getEndLineNumber(e)>=r};for(var r=0,e=this._startIndexes.length;r<e;r++){var o=this._startIndexes[r],s=this._endIndexes[r];if(o>y7||s>y7)throw new Error("startLineNumber or endLineNumber must not exceed "+y7);for(;i.length>0&&!n(o,s);)i.pop();var u=i.length>0?i[i.length-1]:-1;i.push(r),this._startIndexes[r]=o+((255&u)<<24),this._endIndexes[r]=s+((65280&u)<<16)}}};Object.defineProperty(t.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:false,configurable:true});t.prototype.getStartLineNumber=function(t){return this._startIndexes[t]&y7};t.prototype.getEndLineNumber=function(t){return this._endIndexes[t]&y7};t.prototype.getType=function(t){return this._types?this._types[t]:void 0};t.prototype.hasTypes=function(){return!!this._types};t.prototype.isCollapsed=function(t){return this._collapseStates.get(t)};t.prototype.setCollapsed=function(t,i){this._collapseStates.set(t,i)};t.prototype.isUserDefined=function(t){return this._userDefinedStates.get(t)};t.prototype.setUserDefined=function(t,i){return this._userDefinedStates.set(t,i)};t.prototype.isRecovered=function(t){return this._recoveredStates.get(t)};t.prototype.setRecovered=function(t,i){return this._recoveredStates.set(t,i)};t.prototype.getSource=function(t){return this.isUserDefined(t)?1:this.isRecovered(t)?2:0};t.prototype.setSource=function(t,i){i===1?(this.setUserDefined(t,!0),this.setRecovered(t,!1)):i===2?(this.setUserDefined(t,!1),this.setRecovered(t,!0)):(this.setUserDefined(t,!1),this.setRecovered(t,!1))};t.prototype.setCollapsedAllOfType=function(t,i){var n=!1;if(this._types)for(var r=0;r<this._types.length;r++)this._types[r]===t&&(this.setCollapsed(r,i),n=!0);return n};t.prototype.toRegion=function(t){return new B7(this,t)};t.prototype.getParentIndex=function(t){this.ensureParentIndices();var i=((this._startIndexes[t]&k7)>>>24)+((this._endIndexes[t]&k7)>>>16);return i===65535?-1:i};t.prototype.contains=function(t,i){return this.getStartLineNumber(t)<=i&&this.getEndLineNumber(t)>=i};t.prototype.findIndex=function(t){var i=0,n=this._startIndexes.length;if(n===0)return-1;for(;i<n;){var r=Math.floor((i+n)/2);t<this.getStartLineNumber(r)?n=r:i=r+1}return i-1};t.prototype.findRange=function(t){var i=this.findIndex(t);if(i>=0){if(this.getEndLineNumber(i)>=t)return i;for(i=this.getParentIndex(i);i!==-1;){if(this.contains(i,t))return i;i=this.getParentIndex(i)}}return-1};t.prototype.toString=function(){var t=[];for(var i=0;i<this.length;i++)t[i]="[".concat(b7[this.getSource(i)]).concat(this.isCollapsed(i)?"+":"-","] ").concat(this.getStartLineNumber(i),"/").concat(this.getEndLineNumber(i));return t.join(", ")};t.prototype.toFoldRange=function(t){return{startLineNumber:this._startIndexes[t]&y7,endLineNumber:this._endIndexes[t]&y7,type:this._types?this._types[t]:void 0,isCollapsed:this.isCollapsed(t),source:this.getSource(t)}};t.fromFoldRanges=function(i){var n=i.length,r=new Uint32Array(n),e=new Uint32Array(n);var o=[],s=!1;for(var u=0;u<n;u++){var a=i[u];r[u]=a.startLineNumber,e[u]=a.endLineNumber,o.push(a.type),a.type&&(s=!0)}s||(o=void 0);var c=new t(r,e,o);for(var u=0;u<n;u++)i[u].isCollapsed&&c.setCollapsed(u,!0),c.setSource(u,i[u].source);return c};t.sanitizeAndMerge=function(t,i,n){n=n!==null&&n!==void 0?n:Number.MAX_VALUE;var r=function(t,i){return Array.isArray(t)?function(n){return n<i?t[n]:void 0}:function(n){return n<i?t.toFoldRange(n):void 0}},e=r(t,t.length),o=r(i,i.length);var s=0,u=0,a=e(0),c=o(0);var h=[];var f,l=0;var d=[];for(;a||c;){var v=void 0;if(c&&(!a||a.startLineNumber>=c.startLineNumber))a&&a.startLineNumber===c.startLineNumber?(c.source===1?v=c:(v=a,v.isCollapsed=c.isCollapsed&&a.endLineNumber===c.endLineNumber,v.source=0),a=e(++s)):(v=c,c.isCollapsed&&c.source===0&&(v.source=2)),c=o(++u);else{var A=u,g=c;for(;;){if(!g||g.startLineNumber>a.endLineNumber){v=a;break}if(g.source===1&&g.endLineNumber>a.endLineNumber)break;g=o(++A)}a=e(++s)}if(v){for(;f&&f.endLineNumber<v.startLineNumber;)f=h.pop();v.endLineNumber>v.startLineNumber&&v.startLineNumber>l&&v.endLineNumber<=n&&(!f||f.endLineNumber>=v.endLineNumber)&&(d.push(v),l=v.startLineNumber,f&&h.push(f),f=v)}}return d};return t}();var B7=function(){function t(t,i){this.ranges=t,this.index=i}Object.defineProperty(t.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"regionIndex",{get:function(){return this.index},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:false,configurable:true});t.prototype.containedBy=function(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber};t.prototype.containsLine=function(t){return this.startLineNumber<=t&&t<=this.endLineNumber};return t}();var C7=function(){function t(t,i){this._updateEventEmitter=new Ln,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=i,this._regions=new E7(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}Object.defineProperty(t.prototype,"regions",{get:function(){return this._regions},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"textModel",{get:function(){return this._textModel},enumerable:false,configurable:true});t.prototype.toggleCollapseState=function(t){var i=this;if(!t.length)return;t=t.sort((function(t,i){return t.regionIndex-i.regionIndex}));var n={};this._decorationProvider.changeDecorations((function(r){var e=0,o=-1,s=-1;var u=function(t){for(;e<t;){var n=i._regions.getEndLineNumber(e),u=i._regions.isCollapsed(e);if(n<=o){var a=i.regions.getSource(e)!==0;r.changeDecorationOptions(i._editorDecorationIds[e],i._decorationProvider.getDecorationOption(u,n<=s,a))}u&&n>s&&(s=n),e++}};for(var a=0,c=t;a<c.length;a++){var h=c[a];var f=h.regionIndex,l=i._editorDecorationIds[f];if(l&&!n[l]){n[l]=!0,u(f);var d=!i._regions.isCollapsed(f);i._regions.setCollapsed(f,d),o=Math.max(o,i._regions.getEndLineNumber(f))}}u(i._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:t})};t.prototype.removeManualRanges=function(t){var i=new Array,n=function(i){for(var n=0,r=t;n<r.length;n++){var e=r[n];if(!(e.startLineNumber>i.endLineNumber||i.startLineNumber>e.endLineNumber))return!0}return!1};for(var r=0;r<this._regions.length;r++){var e=this._regions.toFoldRange(r);e.source!==0&&n(e)||i.push(e)}this.updatePost(E7.fromFoldRanges(i))};t.prototype.update=function(t,i){if(i===void 0){i=[]}var n=this._currentFoldedOrManualRanges(i),r=E7.sanitizeAndMerge(t,n,this._textModel.getLineCount());this.updatePost(E7.fromFoldRanges(r))};t.prototype.updatePost=function(t){var i=this;var n=[];var r=-1;for(var e=0,o=t.length;e<o;e++){var s=t.getStartLineNumber(e),u=t.getEndLineNumber(e),a=t.isCollapsed(e),c=t.getSource(e)!==0,h={startLineNumber:s,startColumn:this._textModel.getLineMaxColumn(s),endLineNumber:u,endColumn:this._textModel.getLineMaxColumn(u)+1};n.push({range:h,options:this._decorationProvider.getDecorationOption(a,u<=r,c)}),a&&u>r&&(r=u)}this._decorationProvider.changeDecorations((function(t){return i._editorDecorationIds=t.deltaDecorations(i._editorDecorationIds,n)})),this._regions=t,this._updateEventEmitter.fire({model:this})};t.prototype._currentFoldedOrManualRanges=function(t){if(t===void 0){t=[]}var i=function(i,n){for(var r=0,e=t;r<e.length;r++){var o=e[r];if(i<o&&o<=n)return!0}return!1},n=[];for(var r=0,e=this._regions.length;r<e;r++){var o=this.regions.isCollapsed(r);var s=this.regions.getSource(r);if(o||s!==0){var u=this._regions.toFoldRange(r),a=this._textModel.getDecorationRange(this._editorDecorationIds[r]);a&&(o&&i(a.startLineNumber,a.endLineNumber)&&(o=!1),n.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,type:u.type,isCollapsed:o,source:s}))}}return n};t.prototype.getMemento=function(){var t=this._currentFoldedOrManualRanges(),i=[],n=this._textModel.getLineCount();for(var r=0,e=t.length;r<e;r++){var o=t[r];if(o.startLineNumber>=o.endLineNumber||o.startLineNumber<1||o.endLineNumber>n)continue;var s=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);i.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,isCollapsed:o.isCollapsed,source:o.source,checksum:s})}return i.length>0?i:void 0};t.prototype.applyMemento=function(t){var i,n;if(!Array.isArray(t))return;var r=[],e=this._textModel.getLineCount();for(var o=0,s=t;o<s.length;o++){var u=s[o];if(u.startLineNumber>=u.endLineNumber||u.startLineNumber<1||u.endLineNumber>e)continue;var a=this._getLinesChecksum(u.startLineNumber+1,u.endLineNumber);u.checksum&&a!==u.checksum||r.push({startLineNumber:u.startLineNumber,endLineNumber:u.endLineNumber,type:void 0,isCollapsed:(i=u.isCollapsed)===null||i===void 0||i,source:(n=u.source)!==null&&n!==void 0?n:0})}var c=E7.sanitizeAndMerge(this._regions,r,e);this.updatePost(E7.fromFoldRanges(c))};t.prototype._getLinesChecksum=function(t,i){return la(this._textModel.getLineContent(t)+this._textModel.getLineContent(i))%1e6};t.prototype.dispose=function(){this._decorationProvider.removeDecorations(this._editorDecorationIds)};t.prototype.getAllRegionsAtLine=function(t,i){var n=[];if(this._regions){var r=this._regions.findRange(t),e=1;for(;r>=0;){var o=this._regions.toRegion(r);i&&!i(o,e)||n.push(o),e++,r=o.parentIndex}}return n};t.prototype.getRegionAtLine=function(t){if(this._regions){var i=this._regions.findRange(t);if(i>=0)return this._regions.toRegion(i)}return null};t.prototype.getRegionsInside=function(t,i){var n=[],r=t?t.regionIndex+1:0,e=t?t.endLineNumber:Number.MAX_VALUE;if(i&&i.length===2){var o=[];for(var s=r,u=this._regions.length;s<u;s++){var a=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<e))break;for(;o.length>0&&!a.containedBy(o[o.length-1]);)o.pop();o.push(a),i(a,o.length)&&n.push(a)}}else for(var o=r,s=this._regions.length;o<s;o++){var u=this._regions.toRegion(o);if(!(this._regions.getStartLineNumber(o)<e))break;i&&!i(u)||n.push(u)}return n};return t}();function D7(t,i,n){var r=[];var e=function(n){var e=t.getRegionAtLine(n);if(e){var o=!e.isCollapsed;if(r.push(e),i>1){var s=t.getRegionsInside(e,(function(t,n){return t.isCollapsed!==o&&n<i}));r.push.apply(r,s)}}};for(var o=0,s=n;o<s.length;o++){var u=s[o];e(u)}t.toggleCollapseState(r)}function M7(t,i,n,r){if(n===void 0){n=Number.MAX_VALUE}var e=[];if(r&&r.length>0)for(var o=0,s=r;o<s.length;o++){var u=s[o];var a=t.getRegionAtLine(u);if(a&&(a.isCollapsed!==i&&e.push(a),n>1)){var c=t.getRegionsInside(a,(function(t,r){return t.isCollapsed!==i&&r<n}));e.push.apply(e,c)}}else{var u=t.getRegionsInside(null,(function(t,r){return t.isCollapsed!==i&&r<n}));e.push.apply(e,u)}t.toggleCollapseState(e)}function _7(t,i,n,r){var e=[];for(var o=0,s=r;o<s.length;o++){var u=s[o];var a=t.getAllRegionsAtLine(u,(function(t,r){return t.isCollapsed!==i&&r<=n}));e.push.apply(e,a)}t.toggleCollapseState(e)}function F7(t,i,n){var r=[];for(var e=0,o=n;e<o.length;e++){var s=o[e];var u=t.getAllRegionsAtLine(s,void 0);u.length>0&&r.push(u[0])}var a=t.getRegionsInside(null,(function(t){return r.every((function(i){return!i.containedBy(t)&&!t.containedBy(i)}))&&t.isCollapsed!==i}));t.toggleCollapseState(a)}function S7(t,i,n){var r=t.textModel,e=t.regions,o=[];for(var s=e.length-1;s>=0;s--)if(n!==e.isCollapsed(s)){var u=e.getStartLineNumber(s);i.test(r.getLineContent(u))&&o.push(e.toRegion(s))}t.toggleCollapseState(o)}function I7(t,i,n){var r=t.regions,e=[];for(var o=r.length-1;o>=0;o--)n!==r.isCollapsed(o)&&i===r.getType(o)&&e.push(r.toRegion(o));t.toggleCollapseState(e)}var Q7=function(){function t(t){var i=this;this._updateEventEmitter=new Ln,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange((function(t){return i.updateHiddenRanges()})),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:false,configurable:true});t.prototype.notifyChangeModelContent=function(t){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=t.changes.some((function(t){return t.range.endLineNumber!==t.range.startLineNumber||_D(t.text)[0]!==0})))};t.prototype.updateHiddenRanges=function(){var t=!1;var i=[];var n=0,r=0,e=Number.MAX_VALUE,o=-1;var s=this._foldingModel.regions;for(;n<s.length;n++){if(!s.isCollapsed(n))continue;var u=s.getStartLineNumber(n)+1,a=s.getEndLineNumber(n);e<=u&&a<=o||(!t&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===u&&this._hiddenRanges[r].endLineNumber===a?(i.push(this._hiddenRanges[r]),r++):(t=!0,i.push(new Zr(u,1,a,1))),e=u,o=a)}(this._hasLineChanges||t||r<this._hiddenRanges.length)&&this.applyHiddenRanges(i)};t.prototype.applyHiddenRanges=function(t){this._hiddenRanges=t,this._hasLineChanges=!1,this._updateEventEmitter.fire(t)};t.prototype.hasRanges=function(){return this._hiddenRanges.length>0};t.prototype.isHidden=function(t){return O7(this._hiddenRanges,t)!==null};t.prototype.adjustSelections=function(t){var i=this;var n=!1;var r=this._foldingModel.textModel;var e=null;var o=function(t){return e&&function(t,i){return t>=i.startLineNumber&&t<=i.endLineNumber}(t,e)||(e=O7(i._hiddenRanges,t)),e?e.startLineNumber-1:null};for(var s=0,u=t.length;s<u;s++){var a=t[s];var c=o(a.startLineNumber);c&&(a=a.setStartPosition(c,r.getLineMaxColumn(c)),n=!0);var h=o(a.endLineNumber);h&&(a=a.setEndPosition(h,r.getLineMaxColumn(h)),n=!0),t[s]=a}return n};t.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)};return t}();function O7(t,i){var n=tA(t,(function(t){return i<t.startLineNumber}))-1;return n>=0&&t[n].endLineNumber>=i?t[n]:null}var N7=function(){function t(t,i,n){this.editorModel=t,this.languageConfigurationService=i,this.foldingRangesLimit=n,this.id="indent"}t.prototype.dispose=function(){};t.prototype.compute=function(t){var i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,r=i&&i.markers;return Promise.resolve(function(t,i,n,r){if(r===void 0){r=T7}var e=t.getOptions().tabSize,o=new R7(r);var s;n&&(s=new RegExp("(".concat(n.start.source,")|(?:").concat(n.end.source,")")));var u=[],a=t.getLineCount()+1;u.push({indent:-1,endAbove:a,line:a});for(var c=t.getLineCount();c>0;c--){var h=t.getLineContent(c),f=$B(h,e);var l=void 0,d=u[u.length-1];if(f!==-1){if(s&&(l=h.match(s))){if(!l[1]){u.push({indent:-2,endAbove:c,line:c});continue}{var v=u.length-1;for(;v>0&&u[v].indent!==-2;)v--;if(v>0){u.length=v+1,d=u[v],o.insertFirst(c,d.line,f),d.line=c,d.indent=f,d.endAbove=c;continue}}}if(d.indent>f){do{u.pop(),d=u[u.length-1]}while(d.indent>f);var v=d.endAbove-1;v-c>=1&&o.insertFirst(c,v,f)}d.indent===f?d.endAbove=c:u.push({indent:f,endAbove:c,line:c})}else i&&(d.endAbove=c)}return o.toIndentRanges(t)}(this.editorModel,n,r,this.foldingRangesLimit))};return t}();var R7=function(){function t(t){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}t.prototype.insertFirst=function(t,i,n){if(t>y7||i>y7)return;var r=this._length;this._startIndexes[r]=t,this._endIndexes[r]=i,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)};t.prototype.toIndentRanges=function(t){var i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);var n=new Uint32Array(this._length),r=new Uint32Array(this._length);for(var e=this._length-1,o=0;e>=0;e--,o++)n[o]=this._startIndexes[e],r[o]=this._endIndexes[e];return new E7(n,r)}{this._foldingRangesLimit.update(this._length,i);var n=0,r=this._indentOccurrences.length;for(var s=0;s<this._indentOccurrences.length;s++){var u=this._indentOccurrences[s];if(u){if(u+n>i){r=s;break}n+=u}}var e=t.getOptions().tabSize,o=new Uint32Array(i),a=new Uint32Array(i);for(var s=this._length-1,u=0;s>=0;s--){var c=this._startIndexes[s],h=$B(t.getLineContent(c),e);(h<r||h===r&&n++<i)&&(o[u]=c,a[u]=this._endIndexes[s],u++)}return new E7(o,a)}};return t}();var T7={limit:5e3,update:function(){}},L7=fp("editor.foldBackground",{light:vp(Vp,.3),dark:vp(Vp,.3),hcDark:null,hcLight:null},Bt(0,"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);fp("editorGutter.foldingControlForeground",{dark:kp,light:kp,hcDark:kp,hcLight:kp},Bt(0,"Color of the folding control in the editor gutter."));var j7=DW("folding-expanded",re.chevronDown,Bt(0,"Icon for expanded ranges in the editor glyph margin.")),z7=DW("folding-collapsed",re.chevronRight,Bt(0,"Icon for collapsed ranges in the editor glyph margin.")),U7=DW("folding-manual-collapsed",z7,Bt(0,"Icon for manually collapsed ranges in the editor glyph margin.")),H7=DW("folding-manual-expanded",j7,Bt(0,"Icon for manually expanded ranges in the editor glyph margin.")),Y7={color:ox(L7),position:1},J7=Bt(0,"Click to expand the range."),P7=Bt(0,"Click to collapse the range.");var W7=function(){function t(t){this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}t.prototype.getDecorationOption=function(i,n,r){return n?t.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?i?this.showFoldingHighlights?t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:t.NO_CONTROLS_EXPANDED_RANGE_DECORATION:i?r?this.showFoldingHighlights?t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?r?t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:r?t.MANUALLY_EXPANDED_VISUAL_DECORATION:t.EXPANDED_VISUAL_DECORATION};t.prototype.changeDecorations=function(t){return this.editor.changeDecorations(t)};t.prototype.removeDecorations=function(t){this.editor.removeDecorations(t)};return t}();W7.COLLAPSED_VISUAL_DECORATION=iS.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:J7,firstLineDecorationClassName:xh.asClassName(z7)}),W7.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=iS.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Y7,isWholeLine:!0,linesDecorationsTooltip:J7,firstLineDecorationClassName:xh.asClassName(z7)}),W7.MANUALLY_COLLAPSED_VISUAL_DECORATION=iS.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:J7,firstLineDecorationClassName:xh.asClassName(U7)}),W7.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=iS.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Y7,isWholeLine:!0,linesDecorationsTooltip:J7,firstLineDecorationClassName:xh.asClassName(U7)}),W7.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=iS.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:J7}),W7.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=iS.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Y7,isWholeLine:!0,linesDecorationsTooltip:J7}),W7.EXPANDED_VISUAL_DECORATION=iS.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xh.asClassName(j7),linesDecorationsTooltip:P7}),W7.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=iS.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:xh.asClassName(j7),linesDecorationsTooltip:P7}),W7.MANUALLY_EXPANDED_VISUAL_DECORATION=iS.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xh.asClassName(H7),linesDecorationsTooltip:P7}),W7.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=iS.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:xh.asClassName(H7),linesDecorationsTooltip:P7}),W7.NO_CONTROLS_EXPANDED_RANGE_DECORATION=iS.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),W7.HIDDEN_RANGE_DECORATION=iS.register({description:"folding-hidden-range-decoration",stickiness:1});var G7={};var V7=function(){function t(t,i,n,r,e){this.editorModel=t,this.providers=i,this.handleFoldingRangesChange=n,this.foldingRangesLimit=r,this.fallbackRangeProvider=e,this.id="syntax",this.disposables=new Bn,e&&this.disposables.add(e);for(var o=0,s=i;o<s.length;o++){var u=s[o];typeof u.onDidChange=="function"&&this.disposables.add(u.onDidChange(n))}}t.prototype.compute=function(t){var i=this;return function(t,i,n){var r=null;var e=t.map((function(t,e){return Promise.resolve(t.provideFoldingRanges(i,G7,n)).then((function(t){if(!n.isCancellationRequested&&Array.isArray(t)){Array.isArray(r)||(r=[]);var o=i.getLineCount();for(var s=0,u=t;s<u.length;s++){var a=u[s];a.start>0&&a.end>a.start&&a.end<=o&&r.push({start:a.start,end:a.end,rank:e,kind:a.kind})}}}),hn)}));return Promise.all(e).then((function(t){return r}))}(this.providers,this.editorModel,t).then((function(n){var r,e;return n?function(t,i){var n=t.sort((function(t,i){var n=t.start-i.start;return n===0&&(n=t.rank-i.rank),n})),r=new K7(i);var e;var o=[];for(var s=0,u=n;s<u.length;s++){var a=u[s];if(e){if(a.start>e.start)if(a.end<=e.end)o.push(e),e=a,r.add(a.start,a.end,a.kind&&a.kind.value,o.length);else{if(a.start>e.end){do{e=o.pop()}while(e&&a.start>e.end);e&&o.push(e),e=a}r.add(a.start,a.end,a.kind&&a.kind.value,o.length)}}else e=a,r.add(a.start,a.end,a.kind&&a.kind.value,o.length)}return r.toIndentRanges()}(n,i.foldingRangesLimit):(e=(r=i.fallbackRangeProvider)===null||r===void 0?void 0:r.compute(t))!==null&&e!==void 0?e:null}))};t.prototype.dispose=function(){this.disposables.dispose()};return t}();var K7=function(){function t(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}t.prototype.add=function(t,i,n,r){if(t>y7||i>y7)return;var e=this._length;this._startIndexes[e]=t,this._endIndexes[e]=i,this._nestingLevels[e]=r,this._types[e]=n,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)};t.prototype.toIndentRanges=function(){var t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);var i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(var r=0;r<this._length;r++)i[r]=this._startIndexes[r],n[r]=this._endIndexes[r];return new E7(i,n,this._types)}{this._foldingRangesLimit.update(this._length,t);var i=0,n=this._nestingLevelCounts.length;for(var e=0;e<this._nestingLevelCounts.length;e++){var o=this._nestingLevelCounts[e];if(o){if(o+i>t){n=e;break}i+=o}}var r=new Uint32Array(t),s=new Uint32Array(t),u=[];for(var e=0,o=0;e<this._length;e++){var a=this._nestingLevels[e];(a<n||a===n&&i++<t)&&(r[o]=this._startIndexes[e],s[o]=this._endIndexes[e],u[o]=this._types[e],o++)}return new E7(r,s,u)}};return t}();var X7,q7=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Z7=function(t,i){return function(n,r){i(n,r,t)}};var $7=new cf("foldingEnabled",!1);var ttt=X7=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u.contextKeyService=n,u.languageConfigurationService=r,u.languageFeaturesService=s,u.localToDispose=u._register(new Bn),u.editor=i,u._foldingLimitReporter=new itt(i);var a=u.editor.getOptions();u._isEnabled=a.get(43),u._useFoldingProviders=a.get(44)!=="indentation",u._unfoldOnClickAfterEndOfLine=a.get(48),u._restoringViewState=!1,u._currentModelHasFoldedImports=!1,u._foldingImportsByDefault=a.get(46),u.updateDebounceInfo=o.for(s.foldingRangeProvider,"Folding",{min:200}),u.foldingModel=null,u.hiddenRangeModel=null,u.rangeProvider=null,u.foldingRegionPromise=null,u.foldingModelPromise=null,u.updateScheduler=null,u.cursorChangedScheduler=null,u.mouseDownInfo=null,u.foldingDecorationProvider=new W7(i),u.foldingDecorationProvider.showFoldingControls=a.get(110),u.foldingDecorationProvider.showFoldingHighlights=a.get(45),u.foldingEnabled=$7.bindTo(u.contextKeyService),u.foldingEnabled.set(u._isEnabled),u._register(u.editor.onDidChangeModel((function(){return u.onModelChanged()}))),u._register(u.editor.onDidChangeConfiguration((function(t){if(t.hasChanged(43)&&(u._isEnabled=u.editor.getOptions().get(43),u.foldingEnabled.set(u._isEnabled),u.onModelChanged()),t.hasChanged(47)&&u.onModelChanged(),t.hasChanged(110)||t.hasChanged(45)){var i=u.editor.getOptions();u.foldingDecorationProvider.showFoldingControls=i.get(110),u.foldingDecorationProvider.showFoldingHighlights=i.get(45),u.triggerFoldingModelChanged()}t.hasChanged(44)&&(u._useFoldingProviders=u.editor.getOptions().get(44)!=="indentation",u.onFoldingStrategyChanged()),t.hasChanged(48)&&(u._unfoldOnClickAfterEndOfLine=u.editor.getOptions().get(48)),t.hasChanged(46)&&(u._foldingImportsByDefault=u.editor.getOptions().get(46))}))),u.onModelChanged();return u}i.get=function(t){return t.getContribution(i.ID)};i.getFoldingRangeProviders=function(t,n){var r,e;var o=t.foldingRangeProvider.ordered(n);return(e=(r=i._foldingRangeSelector)===null||r===void 0?void 0:r.call(i,o,n))!==null&&e!==void 0?e:o};i.prototype.saveViewState=function(){var t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){var i=this.foldingModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:i,lineCount:t.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}};i.prototype.restoreViewState=function(t){var i=this.editor.getModel();if(i&&this._isEnabled&&!i.isTooLargeForTokenization()&&this.hiddenRangeModel&&t&&(this._currentModelHasFoldedImports=!!t.foldedImports,t.collapsedRegions&&t.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(t.collapsedRegions)}finally{this._restoringViewState=!1}}};i.prototype.onModelChanged=function(){var t=this;this.localToDispose.clear();var i=this.editor.getModel();this._isEnabled&&i&&!i.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new C7(i,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Q7(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((function(i){return t.onHiddenRangesChanges(i)}))),this.updateScheduler=new Js(this.updateDebounceInfo.get(i)),this.cursorChangedScheduler=new qs((function(){return t.revealCursor()}),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange((function(){return t.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((function(){return t.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelContent((function(i){return t.onDidChangeModelContent(i)}))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((function(){return t.onCursorPositionChanged()}))),this.localToDispose.add(this.editor.onMouseDown((function(i){return t.onEditorMouseDown(i)}))),this.localToDispose.add(this.editor.onMouseUp((function(i){return t.onEditorMouseUp(i)}))),this.localToDispose.add({dispose:function(){var i,n;t.foldingRegionPromise&&(t.foldingRegionPromise.cancel(),t.foldingRegionPromise=null),(i=t.updateScheduler)===null||i===void 0||i.cancel(),t.updateScheduler=null,t.foldingModel=null,t.foldingModelPromise=null,t.hiddenRangeModel=null,t.cursorChangedScheduler=null,(n=t.rangeProvider)===null||n===void 0||n.dispose(),t.rangeProvider=null}}),this.triggerFoldingModelChanged())};i.prototype.onFoldingStrategyChanged=function(){var t;(t=this.rangeProvider)===null||t===void 0||t.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()};i.prototype.getRangeProvider=function(t){var n=this;if(this.rangeProvider)return this.rangeProvider;var r=new N7(t,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=r,this._useFoldingProviders&&this.foldingModel){var e=i.getFoldingRangeProviders(this.languageFeaturesService,t);e.length>0&&(this.rangeProvider=new V7(t,e,(function(){return n.triggerFoldingModelChanged()}),this._foldingLimitReporter,r))}return this.rangeProvider};i.prototype.getFoldingModel=function(){return this.foldingModelPromise};i.prototype.onDidChangeModelContent=function(t){var i;(i=this.hiddenRangeModel)===null||i===void 0||i.notifyChangeModelContent(t),this.triggerFoldingModelChanged()};i.prototype.triggerFoldingModelChanged=function(){var t=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((function(){var i=t.foldingModel;if(!i)return null;var n=new In,r=t.getRangeProvider(i.textModel),e=t.foldingRegionPromise=Us((function(t){return r.compute(t)}));return e.then((function(r){if(r&&e===t.foldingRegionPromise){var o=void 0;if(t._foldingImportsByDefault&&!t._currentModelHasFoldedImports){var s=r.setCollapsedAllOfType(me.Imports.value,!0);s&&(o=eV.capture(t.editor),t._currentModelHasFoldedImports=s)}var u=t.editor.getSelections(),a=u?u.map((function(t){return t.startLineNumber})):[];i.update(r,a),o==null||o.restore(t.editor);var c=t.updateDebounceInfo.update(i.textModel,n.elapsed());t.updateScheduler&&(t.updateScheduler.defaultDelay=c)}return i}))})).then(void 0,(function(t){return cn(t),null})))};i.prototype.onHiddenRangesChanges=function(t){if(this.hiddenRangeModel&&t.length&&!this._restoringViewState){var i=this.editor.getSelections();i&&this.hiddenRangeModel.adjustSelections(i)&&this.editor.setSelections(i)}this.editor.setHiddenAreas(t,this)};i.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()};i.prototype.revealCursor=function(){var t=this;var i=this.getFoldingModel();i&&i.then((function(i){if(i){var n=t.editor.getSelections();if(n&&n.length>0){var r=[];var e=function(n){var e=n.selectionStartLineNumber;t.hiddenRangeModel&&t.hiddenRangeModel.isHidden(e)&&r.push.apply(r,i.getAllRegionsAtLine(e,(function(t){return t.isCollapsed&&e>t.startLineNumber})))};for(var o=0,s=n;o<s.length;o++){var u=s[o];e(u)}r.length&&(i.toggleCollapseState(r),t.reveal(n[0].getPosition()))}}})).then(void 0,cn)};i.prototype.onEditorMouseDown=function(t){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!t.target||!t.target.range||!t.event.leftButton&&!t.event.middleButton)return;var i=t.target.range;var n=!1;switch(t.target.type){case 4:{var r=t.target.detail,e=t.target.element.offsetLeft;if(r.offsetX-e<4)return;n=!0;break}case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!t.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){var r=this.editor.getModel();if(r&&i.startColumn===r.getLineMaxColumn(i.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:i.startLineNumber,iconClicked:n}};i.prototype.onEditorMouseUp=function(t){var i=this.foldingModel;if(!i||!this.mouseDownInfo||!t.target)return;var n=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,e=t.target.range;if(!e||e.startLineNumber!==n)return;if(r){if(t.target.type!==4)return}else{var o=this.editor.getModel();if(!o||e.startColumn!==o.getLineMaxColumn(n))return}var s=i.getRegionAtLine(n);if(s&&s.startLineNumber===n){var o=s.isCollapsed;if(r||o){var u=[];if(t.event.altKey){var a=function(t){return!t.containedBy(s)&&!s.containedBy(t)},c=i.getRegionsInside(null,a);for(var h=0,f=c;h<f.length;h++){var l=f[h];l.isCollapsed&&u.push(l)}u.length===0&&(u=c)}else{var a=t.event.middleButton||t.event.shiftKey;if(a)for(var d=0,v=i.getRegionsInside(s);d<v.length;d++){var c=v[d];c.isCollapsed===o&&u.push(c)}!o&&a&&u.length!==0||u.push(s)}i.toggleCollapseState(u),this.reveal({lineNumber:n,column:1})}}};i.prototype.reveal=function(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)};return i}(Cn);ttt.ID="editor.contrib.folding",ttt=X7=q7([Z7(1,hf),Z7(2,jd),Z7(3,PI),Z7(4,zQ),Z7(5,gg)],ttt);var itt=function(){function t(t){this.editor=t,this._onDidChange=new Ln,this._computed=0,this._limited=!1}Object.defineProperty(t.prototype,"limit",{get:function(){return this.editor.getOptions().get(47)},enumerable:false,configurable:true});t.prototype.update=function(t,i){t===this._computed&&i===this._limited||(this._computed=t,this._limited=i,this._onDidChange.fire())};return t}();var ntt=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.runEditorCommand=function(t,i,n){var r=this;var e=t.get(jd),o=ttt.get(i);if(!o)return;var s=o.getFoldingModel();return s?(this.reportTelemetry(t,i),s.then((function(t){if(t){r.invoke(o,t,i,n,e);var s=i.getSelection();s&&o.reveal(s.getStartPosition())}}))):void 0};i.prototype.getSelectedLines=function(t){var i=t.getSelections();return i?i.map((function(t){return t.startLineNumber})):[]};i.prototype.getLineNumbers=function(t,i){return t&&t.selectionLines?t.selectionLines.map((function(t){return t+1})):this.getSelectedLines(i)};i.prototype.run=function(t,i){};return i}(Vf);function rtt(t){if(!ct(t)){if(!et(t))return!1;var i=t;if(!ct(i.levels)&&!st(i.levels)||!ct(i.direction)&&!rt(i.direction)||!(ct(i.selectionLines)||Array.isArray(i.selectionLines)&&i.selectionLines.every(st)))return!1}return!0}var ett=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(i.ID_PREFIX.length))};i.prototype.invoke=function(t,i,n){(function(t,i,n,r){var e=t.getRegionsInside(null,(function(t,e){return e===i&&t.isCollapsed!==n&&!r.some((function(i){return t.containsLine(i)}))}));t.toggleCollapseState(e)})(i,this.getFoldingLevel(),!0,this.getSelectedLines(n))};return i}(ntt);ett.ID_PREFIX="editor.foldLevel",ett.ID=function(t){return ett.ID_PREFIX+t};il(ttt.ID,ttt,0),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.unfold",label:Bt(0,"Unfold"),alias:"Unfold",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:rtt,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}i.prototype.invoke=function(t,i,n,r){var e=r&&r.levels||1,o=this.getLineNumbers(r,n);r&&r.direction==="up"?_7(i,!1,e,o):M7(i,!1,e,o)};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.unfoldRecursively",label:Bt(0,"Unfold Recursively"),alias:"Unfold Recursively",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2142),weight:100}})||this}i.prototype.invoke=function(t,i,n,r){M7(i,!1,Number.MAX_VALUE,this.getSelectedLines(n))};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.fold",label:Bt(0,"Fold"),alias:"Fold",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:rtt,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}i.prototype.invoke=function(t,i,n,r){var e=this.getLineNumbers(r,n),o=r&&r.levels,s=r&&r.direction;typeof o!="number"&&typeof s!="string"?function(t,i,n){var r=[];for(var e=0,o=n;e<o.length;e++){var s=o[e];var u=t.getAllRegionsAtLine(s,(function(t){return t.isCollapsed!==i}));u.length>0&&r.push(u[0])}t.toggleCollapseState(r)}(i,!0,e):s==="up"?_7(i,!0,o||1,e):M7(i,!0,o||1,e)};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.foldRecursively",label:Bt(0,"Fold Recursively"),alias:"Fold Recursively",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2140),weight:100}})||this}i.prototype.invoke=function(t,i,n){var r=this.getSelectedLines(n);M7(i,!0,Number.MAX_VALUE,r)};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.foldAll",label:Bt(0,"Fold All"),alias:"Fold All",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2069),weight:100}})||this}i.prototype.invoke=function(t,i,n){M7(i,!0)};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.unfoldAll",label:Bt(0,"Unfold All"),alias:"Unfold All",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2088),weight:100}})||this}i.prototype.invoke=function(t,i,n){M7(i,!1)};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.foldAllBlockComments",label:Bt(0,"Fold All Block Comments"),alias:"Fold All Block Comments",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2138),weight:100}})||this}i.prototype.invoke=function(t,i,n,r,e){if(i.regions.hasTypes())I7(i,me.Comment.value,!0);else{var o=n.getModel();if(!o)return;var s=e.getLanguageConfiguration(o.getLanguageId()).comments;s&&s.blockCommentStartToken&&S7(i,new RegExp("^\\s*"+Eo(s.blockCommentStartToken)),!0)}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.foldAllMarkerRegions",label:Bt(0,"Fold All Regions"),alias:"Fold All Regions",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2077),weight:100}})||this}i.prototype.invoke=function(t,i,n,r,e){if(i.regions.hasTypes())I7(i,me.Region.value,!0);else{var o=n.getModel();if(!o)return;var s=e.getLanguageConfiguration(o.getLanguageId()).foldingRules;s&&s.markers&&s.markers.start&&S7(i,new RegExp(s.markers.start),!0)}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.unfoldAllMarkerRegions",label:Bt(0,"Unfold All Regions"),alias:"Unfold All Regions",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2078),weight:100}})||this}i.prototype.invoke=function(t,i,n,r,e){if(i.regions.hasTypes())I7(i,me.Region.value,!1);else{var o=n.getModel();if(!o)return;var s=e.getLanguageConfiguration(o.getLanguageId()).foldingRules;s&&s.markers&&s.markers.start&&S7(i,new RegExp(s.markers.start),!1)}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.foldAllExcept",label:Bt(0,"Fold All Except Selected"),alias:"Fold All Except Selected",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2136),weight:100}})||this}i.prototype.invoke=function(t,i,n){F7(i,!0,this.getSelectedLines(n))};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.unfoldAllExcept",label:Bt(0,"Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2134),weight:100}})||this}i.prototype.invoke=function(t,i,n){F7(i,!1,this.getSelectedLines(n))};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.toggleFold",label:Bt(0,"Toggle Fold"),alias:"Toggle Fold",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2090),weight:100}})||this}i.prototype.invoke=function(t,i,n){D7(i,1,this.getSelectedLines(n))};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.gotoParentFold",label:Bt(0,"Go to Parent Fold"),alias:"Go to Parent Fold",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,weight:100}})||this}i.prototype.invoke=function(t,i,n){var r=this.getSelectedLines(n);if(r.length>0){var e=function(t,i){var n=null;var r=i.getRegionAtLine(t);if(r!==null&&(n=r.startLineNumber,t===n)){var e=r.parentIndex;n=e!==-1?i.regions.getStartLineNumber(e):null}return n}(r[0],i);e!==null&&n.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.gotoPreviousFold",label:Bt(0,"Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,weight:100}})||this}i.prototype.invoke=function(t,i,n){var r=this.getSelectedLines(n);if(r.length>0){var e=function(t,i){var n=i.getRegionAtLine(t);if(n!==null&&n.startLineNumber===t){if(t!==n.startLineNumber)return n.startLineNumber;{var r=n.parentIndex;var e=0;for(r!==-1&&(e=i.regions.getStartLineNumber(n.parentIndex));n!==null;){if(!(n.regionIndex>0)||(n=i.regions.toRegion(n.regionIndex-1),n.startLineNumber<=e))return null;if(n.parentIndex===r)return n.startLineNumber}}}else if(i.regions.length>0)for(n=i.regions.toRegion(i.regions.length-1);n!==null;){if(n.startLineNumber<t)return n.startLineNumber;n=n.regionIndex>0?i.regions.toRegion(n.regionIndex-1):null}return null}(r[0],i);e!==null&&n.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.gotoNextFold",label:Bt(0,"Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,weight:100}})||this}i.prototype.invoke=function(t,i,n){var r=this.getSelectedLines(n);if(r.length>0){var e=function(t,i){var n=i.getRegionAtLine(t);if(n!==null&&n.startLineNumber===t){var r=n.parentIndex;var e=0;if(r!==-1)e=i.regions.getEndLineNumber(n.parentIndex);else{if(i.regions.length===0)return null;e=i.regions.getEndLineNumber(i.regions.length-1)}for(;n!==null;){if(!(n.regionIndex<i.regions.length)||(n=i.regions.toRegion(n.regionIndex+1),n.startLineNumber>=e))return null;if(n.parentIndex===r)return n.startLineNumber}}else if(i.regions.length>0)for(n=i.regions.toRegion(0);n!==null;){if(n.startLineNumber>t)return n.startLineNumber;n=n.regionIndex<i.regions.length?i.regions.toRegion(n.regionIndex+1):null}return null}(r[0],i);e!==null&&n.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.createFoldingRangeFromSelection",label:Bt(0,"Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2135),weight:100}})||this}i.prototype.invoke=function(t,i,n){var r;var e=[],o=n.getSelections();if(o){for(var s=0,u=o;s<u.length;s++){var a=u[s];var c=a.endLineNumber;a.endColumn===1&&--c,c>a.startLineNumber&&(e.push({startLineNumber:a.startLineNumber,endLineNumber:c,type:void 0,isCollapsed:!0,source:1}),n.setSelection({startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.startLineNumber,endColumn:1}))}if(e.length>0){e.sort((function(t,i){return t.startLineNumber-i.startLineNumber}));var a=E7.sanitizeAndMerge(i.regions,e,(r=n.getModel())===null||r===void 0?void 0:r.getLineCount());i.updatePost(E7.fromFoldRanges(a))}}};return i}(ntt)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.removeManualFoldingRanges",label:Bt(0,"Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2137),weight:100}})||this}i.prototype.invoke=function(t,i,n){var r=n.getSelections();if(r){var e=[];for(var o=0,s=r;o<s.length;o++){var u=s[o];var a=u.startLineNumber,c=u.endLineNumber;e.push(c>=a?{startLineNumber:a,endLineNumber:c}:{endLineNumber:c,startLineNumber:a})}i.removeManualRanges(e),t.triggerFoldingModelChanged()}};return i}(ntt));for(var Yt=1;Yt<=7;Yt++)ott=new ett({id:ett.ID(Yt),label:Bt(0,"Fold Level {0}",Yt),alias:"Fold Level ".concat(Yt),precondition:$7,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2048|21+Yt),weight:100}}),rl.INSTANCE.registerEditorAction(ott);var ott;Bh.registerCommand("_executeFoldingRangeProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c,h,f,l,d,f,v;return __generator(this,(function(A){switch(A.label){case 0:n=i[0];if(!(n instanceof zr))throw An();r=t.get(gg),e=t.get(vh).getModel(n);if(!e)throw An();o=t.get(sd);if(!o.getValue("editor.folding",{resource:n}))return[2,[]];s=t.get(jd),u=o.getValue("editor.foldingStrategy",{resource:n}),a={get limit(){return o.getValue("editor.foldingMaximumRegions",{resource:n})},update:function(t,i){}},c=new N7(e,s,a);h=c;if(u!=="indentation"){f=ttt.getFoldingRangeProviders(r,e);f.length&&(h=new V7(e,f,(function(){}),a,c))}return[4,h.compute(Gn.None)];case 1:l=A.sent(),d=[];try{if(l)for(f=0;f<l.length;f++){v=l.getType(f);d.push({start:l.getStartLineNumber(f),end:l.getEndLineNumber(f),kind:v?me.fromValue(v):void 0})}return[2,d]}finally{h.dispose()}return[2]}}))}))}));$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.fontZoomIn",label:Bt(0,"Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})||this}i.prototype.run=function(t,i){eh.setZoomLevel(eh.getZoomLevel()+1)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.fontZoomOut",label:Bt(0,"Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})||this}i.prototype.run=function(t,i){eh.setZoomLevel(eh.getZoomLevel()-1)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.fontZoomReset",label:Bt(0,"Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})||this}i.prototype.run=function(t,i){eh.setZoomLevel(0)};return i}(Vf));var stt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},utt=function(t,i){return function(n,r){i(n,r,t)}};var att=function(){function t(t,i,n,r){var e=this;this._editor=t,this._languageFeaturesService=i,this._workerService=n,this._accessibilitySignalService=r,this._disposables=new Bn,this._sessionDisposables=new Bn,this._disposables.add(i.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel((function(){return e._update()}))),this._disposables.add(t.onDidChangeModelLanguage((function(){return e._update()}))),this._disposables.add(t.onDidChangeConfiguration((function(t){t.hasChanged(56)&&e._update()}))),this._update()}t.prototype.dispose=function(){this._disposables.dispose(),this._sessionDisposables.dispose()};t.prototype._update=function(){var t=this;if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;var i=this._editor.getModel(),n=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(i)[0];if(!n||!n.autoFormatTriggerCharacters)return;var r=new fv;for(var e=0,o=n.autoFormatTriggerCharacters;e<o.length;e++){var s=o[e];r.add(s.charCodeAt(0))}this._sessionDisposables.add(this._editor.onDidType((function(i){var n=i.charCodeAt(i.length-1);r.has(n)&&t._trigger(String.fromCharCode(n))})))};t.prototype._trigger=function(t){var i=this;if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;var n=this._editor.getModel(),r=this._editor.getPosition(),e=new Kn,o=this._editor.onDidChangeModelContent((function(t){if(t.isFlush)return e.cancel(),void o.dispose();for(var i=0,n=t.changes.length;i<n;i++)if(t.changes[i].range.endLineNumber<=r.lineNumber)return e.cancel(),void o.dispose()}));_Z(this._workerService,this._languageFeaturesService,n,r,t,n.getFormattingOptions(),e.token).then((function(t){e.token.isCancellationRequested||L(t)&&(i._accessibilitySignalService.playSignal(OG.format,{userGesture:!1}),bZ.execute(i._editor,t,!0))})).finally((function(){o.dispose()}))};return t}();att.ID="editor.contrib.autoFormat",att=stt([utt(1,gg),utt(2,FU),utt(3,SG)],att);var ctt=function(){function t(t,i,n){var r=this;this.editor=t,this._languageFeaturesService=i,this._instantiationService=n,this._callOnDispose=new Bn,this._callOnModel=new Bn,this._callOnDispose.add(t.onDidChangeConfiguration((function(){return r._update()}))),this._callOnDispose.add(t.onDidChangeModel((function(){return r._update()}))),this._callOnDispose.add(t.onDidChangeModelLanguage((function(){return r._update()}))),this._callOnDispose.add(i.documentRangeFormattingEditProvider.onDidChange(this._update,this))}t.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()};t.prototype._update=function(){var t=this;this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((function(i){var n=i.range;return t._trigger(n)})))};t.prototype._trigger=function(t){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(BZ,this.editor,t,2,ZT.None,Gn.None,!1).catch(cn))};return t}();ctt.ID="editor.contrib.formatOnPaste",ctt=stt([utt(1,gg),utt(2,fh)],ctt);il(att.ID,att,2),il(ctt.ID,ctt,2),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.formatDocument",label:Bt(0,"Format Document"),alias:"Format Document",precondition:Hh.and(hB.notInCompositeEditor,hB.writable,hB.hasDocumentFormattingProvider),kbOpts:{kbExpr:hB.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:if(!i.hasModel())return[3,2];n=t.get(fh);return[4,t.get($T).showWhile(n.invokeFunction(DZ,i,1,ZT.None,Gn.None,!0),250)];case 1:r.sent();r.label=2;case 2:return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.formatSelection",label:Bt(0,"Format Selection"),alias:"Format Selection",precondition:Hh.and(hB.writable,hB.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2084),weight:100},contextMenuOpts:{when:hB.hasNonEmptySelection,group:"1_modification",order:1.31}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:if(!i.hasModel())return[2];n=t.get(fh),r=i.getModel(),e=i.getSelections().map((function(t){return t.isEmpty()?new Zr(t.startLineNumber,1,t.startLineNumber,r.getLineMaxColumn(t.startLineNumber)):t}));return[4,t.get($T).showWhile(n.invokeFunction(BZ,i,e,1,ZT.None,Gn.None,!0),250)];case 1:o.sent();return[2]}}))}))};return i}(Vf)),Bh.registerCommand("editor.action.format",(function(t){return __awaiter(f,void 0,void 0,(function(){var i,n,r;return __generator(this,(function(e){switch(e.label){case 0:i=t.get(dh).getFocusedCodeEditor();if(!i||!i.hasModel())return[2];n=t.get(Eh);if(!i.getSelection().isEmpty())return[3,2];return[4,n.executeCommand("editor.action.formatDocument")];case 1:r=e.sent();return[3,4];case 2:return[4,n.executeCommand("editor.action.formatSelection")];case 3:r=e.sent();e.label=4;case 4:r;return[2]}}))}))}));var htt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},ftt=function(t,i){return function(n,r){i(n,r,t)}};var ltt=function(){function t(){}t.prototype.remove=function(){var t;(t=this.parent)===null||t===void 0||t.children.delete(this.id)};t.findId=function(t,i){var n;typeof t=="string"?n="".concat(i.id,"/").concat(t):(n="".concat(i.id,"/").concat(t.name),i.children.get(n)!==void 0&&(n="".concat(i.id,"/").concat(t.name,"_").concat(t.range.startLineNumber,"_").concat(t.range.startColumn)));var r=n;for(var e=0;i.children.get(r)!==void 0;e++)r="".concat(n,"_").concat(e);return r};t.empty=function(t){return t.children.size===0};return t}();var dtt=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.id=i,e.parent=n,e.symbol=r,e.children=new Map;return e}return i}(ltt);var vtt=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o.id=i,o.parent=n,o.label=r,o.order=e,o.children=new Map;return o}return i}(ltt);var Att=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.uri=i,n.id="root",n.parent=void 0,n._groups=new Map,n.children=new Map,n.id="root",n.parent=void 0;return n}i.create=function(t,n,r){var e=new Kn(r),o=new i(n.uri),s=t.ordered(n),u=s.map((function(t,r){var s;var u=ltt.findId("provider_".concat(r),o),a=new vtt(u,o,(s=t.displayName)!==null&&s!==void 0?s:"Unknown Outline Provider",r);return Promise.resolve(t.provideDocumentSymbols(n,e.token)).then((function(t){for(var n=0,r=t||[];n<r.length;n++){var e=r[n];i._makeOutlineElement(e,a)}return a}),(function(t){return hn(t),a})).then((function(t){ltt.empty(t)?t.remove():o._groups.set(u,t)}))})),a=t.onDidChange((function(){_(t.ordered(n),s)||e.cancel()}));return Promise.all(u).then((function(){return e.token.isCancellationRequested&&!r.isCancellationRequested?i.create(t,n,r):o._compact()})).finally((function(){e.dispose(),a.dispose(),e.dispose()}))};i._makeOutlineElement=function(t,n){var r=ltt.findId(t,n),e=new dtt(r,n,t);if(t.children)for(var o=0,s=t.children;o<s.length;o++){var u=s[o];i._makeOutlineElement(u,e)}n.children.set(e.id,e)};i.prototype._compact=function(){var t=0;for(var i=0,n=this._groups;i<n.length;i++){var r=n[i],e=r[0],o=r[1];o.children.size===0?this._groups.delete(e):t+=1}if(t!==1)this.children=this._groups;else{var e=vi.first(this._groups.values());for(var s=0,u=e.children;s<u.length;s++){var a=u[s],o=a[1];o.parent=this,this.children.set(o.id,o)}}return this};i.prototype.getTopLevelSymbols=function(){var t=[];for(var i=0,n=this.children.values();i<n.length;i++){var r=n[i];r instanceof dtt?t.push(r.symbol):t.push.apply(t,vi.map(r.children.values(),(function(t){return t.symbol})))}return t.sort((function(t,i){return Zr.compareRangesUsingStarts(t.range,i.range)}))};i.prototype.asListOfDocumentSymbols=function(){var t=this.getTopLevelSymbols(),n=[];return i._flattenDocumentSymbols(n,t,""),n.sort((function(t,i){return qr.compare(Zr.getStartPosition(t.range),Zr.getStartPosition(i.range))||qr.compare(Zr.getEndPosition(i.range),Zr.getEndPosition(t.range))}))};i._flattenDocumentSymbols=function(t,n,r){for(var e=0,o=n;e<o.length;e++){var s=o[e];t.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||r,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&i._flattenDocumentSymbols(t,s.children,s.name)}};return i}(ltt);var gtt=lh("IOutlineModelService");var wtt=function(){function t(t,i,n){var r=this;this._languageFeaturesService=t,this._disposables=new Bn,this._cache=new xv(10,.7),this._debounceInformation=i.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved((function(t){r._cache.delete(t.id)})))}t.prototype.dispose=function(){this._disposables.dispose()};t.prototype.getOrCreate=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u;var a=this;return __generator(this,(function(c){switch(c.label){case 0:n=this._languageFeaturesService.documentSymbolProvider,r=n.ordered(t);e=this._cache.get(t.id);if(!e||e.versionId!==t.getVersionId()||!_(e.provider,r)){o=new Kn;e={versionId:t.getVersionId(),provider:r,promiseCnt:0,source:o,promise:Att.create(n,t,o.token),model:void 0},this._cache.set(t.id,e);s=Date.now();e.promise.then((function(i){e.model=i,a._debounceInformation.update(t,Date.now()-s)})).catch((function(i){a._cache.delete(t.id)}))}if(e.model)return[2,e.model];e.promiseCnt+=1;u=i.onCancellationRequested((function(){--e.promiseCnt==0&&(e.source.cancel(),a._cache.delete(t.id))}));c.label=1;case 1:c.trys.push([1,,3,4]);return[4,e.promise];case 2:return[2,c.sent()];case 3:u.dispose();return[7];case 4:return[2]}}))}))};return t}();wtt=htt([ftt(0,gg),ftt(1,zQ),ftt(2,vh)],wtt),Ad(gtt,wtt,1),Bh.registerCommand("_executeDocumentSymbolProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(this,void 0,void 0,(function(){var n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:n=i[0];lt(zr.isUri(n));r=t.get(gtt),e=t.get(Ah);return[4,e.createModelReference(n)];case 1:o=s.sent();s.label=2;case 2:s.trys.push([2,,4,5]);return[4,r.getOrCreate(o.object.textEditorModel,Gn.None)];case 3:return[2,s.sent().getTopLevelSymbols()];case 4:o.dispose();return[7];case 5:return[2]}}))}))}));var ptt=function(t){__extends(i,t);function i(n,r){var e=this;e=t.call(this)||this,e.contextKeyService=n,e.model=r,e.inlineCompletionVisible=i.inlineSuggestionVisible.bindTo(e.contextKeyService),e.inlineCompletionSuggestsIndentation=i.inlineSuggestionHasIndentation.bindTo(e.contextKeyService),e.inlineCompletionSuggestsIndentationLessThanTabSize=i.inlineSuggestionHasIndentationLessThanTabSize.bindTo(e.contextKeyService),e.suppressSuggestions=i.suppressSuggestions.bindTo(e.contextKeyService),e._register(_j((function(t){var i=e.model.read(t),n=i==null?void 0:i.state.read(t),r=!!(n!=null&&n.inlineCompletion)&&(n==null?void 0:n.primaryGhostText)!==void 0&&!(n!=null&&n.primaryGhostText.isEmpty());e.inlineCompletionVisible.set(r),n!=null&&n.primaryGhostText&&(n!=null&&n.inlineCompletion)&&e.suppressSuggestions.set(n.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)}))),e._register(_j((function(t){var i=e.model.read(t);var n=!1,r=!0;var o=i==null?void 0:i.primaryGhostText.read(t);if(i!=null&&i.selectedSuggestItem&&o&&o.parts.length>0){var s=o.parts[0],u=s.column,a=s.lines,c=a[0];if(u<=i.textModel.getLineIndentColumn(o.lineNumber)){var h=Fo(c);h===-1&&(h=c.length-1),n=h>0;var f=i.textModel.getOptions().tabSize;r=$y.visibleColumnFromColumn(c,h+1,f)<f}}e.inlineCompletionSuggestsIndentation.set(n),e.inlineCompletionSuggestsIndentationLessThanTabSize.set(r)})));return e}return i}(Cn);ptt.inlineSuggestionVisible=new cf("inlineSuggestionVisible",!1,Bt(0,"Whether an inline suggestion is visible")),ptt.inlineSuggestionHasIndentation=new cf("inlineSuggestionHasIndentation",!1,Bt(0,"Whether the inline suggestion starts with whitespace")),ptt.inlineSuggestionHasIndentationLessThanTabSize=new cf("inlineSuggestionHasIndentationLessThanTabSize",!0,Bt(0,"Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),ptt.suppressSuggestions=new cf("inlineSuggestionSuppressSuggestions",void 0,Bt(0,"Whether suggestions should be suppressed for the current suggestion"));var mtt=function(){function t(t,i){this.lineNumber=t,this.parts=i}t.prototype.equals=function(t){return this.lineNumber===t.lineNumber&&this.parts.length===t.parts.length&&this.parts.every((function(i,n){return i.equals(t.parts[n])}))};t.prototype.renderForScreenReader=function(t){if(this.parts.length===0)return"";var i=this.parts[this.parts.length-1],n=t.substr(0,i.column-1);return new GK(__spreadArray([],this.parts.map((function(t){return new VK(Zr.fromPositions(new qr(1,t.column)),t.lines.join("\n"))})),true)).applyToString(n).substring(this.parts[0].column-1)};t.prototype.isEmpty=function(){return this.parts.every((function(t){return t.lines.length===0}))};Object.defineProperty(t.prototype,"lineCount",{get:function(){return 1+this.parts.reduce((function(t,i){return t+i.lines.length-1}),0)},enumerable:false,configurable:true});return t}();var btt=function(){function t(t,i,n){this.column=t,this.text=i,this.preview=n,this.lines=_o(this.text)}t.prototype.equals=function(t){return this.column===t.column&&this.lines.length===t.lines.length&&this.lines.every((function(i,n){return i===t.lines[n]}))};return t}();var ytt=function(){function t(t,i,n,r){if(r===void 0){r=0}this.lineNumber=t,this.columnRange=i,this.text=n,this.additionalReservedLineCount=r,this.parts=[new btt(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=_o(this.text)}t.prototype.renderForScreenReader=function(t){return this.newLines.join("\n")};Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.newLines.length},enumerable:false,configurable:true});t.prototype.isEmpty=function(){return this.parts.every((function(t){return t.lines.length===0}))};t.prototype.equals=function(t){return this.lineNumber===t.lineNumber&&this.columnRange.equals(t.columnRange)&&this.newLines.length===t.newLines.length&&this.newLines.every((function(i,n){return i===t.newLines[n]}))&&this.additionalReservedLineCount===t.additionalReservedLineCount};return t}();function ktt(t,i){return _(t,i,xtt)}function xtt(t,i){return t===i||!(!t||!i)&&(t instanceof mtt&&i instanceof mtt||t instanceof ytt&&i instanceof ytt)&&t.equals(i)}var Ett=[];var Btt=function(){function t(t,i){if(this.startColumn=t,this.endColumnExclusive=i,t>i)throw new mn("startColumn ".concat(t," cannot be after endColumnExclusive ").concat(i))}t.prototype.toRange=function(t){return new Zr(t,this.startColumn,t,this.endColumnExclusive)};t.prototype.equals=function(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive};return t}();function Ctt(t,i){var n=new Bn,r=t.createDecorationsCollection();return n.add(Fj({debugName:function(){return"Apply decorations from ".concat(i.debugName)}},(function(t){var n=i.read(t);r.set(n)}))),n.add({dispose:function(){r.clear()}}),n}function Dtt(t,i){return new qr(t.lineNumber-i.lineNumber+1,t.lineNumber-i.lineNumber==0?t.column-i.column+1:t.column)}var Mtt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},_tt=function(t,i){return function(n,r){i(n,r,t)}};var Ftt="ghost-text";var Stt=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.model=n,e.languageService=r,e.isDisposed=mj(e,!1),e.currentTextModel=Rj(e.editor.onDidChangeModel,(function(){return e.editor.getModel()})),e.uiState=Ej(e,(function(t){if(e.isDisposed.read(t))return;var i=e.currentTextModel.read(t);if(i!==e.model.targetTextModel.read(t))return;var n=e.model.ghostText.read(t);if(!n)return;var r=n instanceof ytt?n.columnRange:void 0,o=[],s=[];function u(t,i){if(s.length>0){var n=s[s.length-1];i&&n.decorations.push(new Rg(n.content.length+1,n.content.length+1+t[0].length,i,0)),n.content+=t[0],t=t.slice(1)}for(var r=0,e=t;r<e.length;r++){var n=e[r];s.push({content:n,decorations:i?[new Rg(1,n.length+1,i,0)]:[]})}}var a=i.getLineContent(n.lineNumber);var c,h=0;for(var f=0,l=n.parts;f<l.length;f++){var d=l[f];var v=d.lines;c===void 0?(o.push({column:d.column,text:v[0],preview:d.preview}),v=v.slice(1)):u([a.substring(h,d.column-1)],void 0),v.length>0&&(u(v,Ftt),c===void 0&&d.column<=a.length&&(c=d.column)),h=d.column-1}c!==void 0&&u([a.substring(h)],void 0);var A=c!==void 0?new Btt(c,a.length+1):void 0;return{replacedRange:r,inlineTexts:o,additionalLines:s,hiddenRange:A,lineNumber:n.lineNumber,additionalReservedLineCount:e.model.minReservedLineCount.read(t),targetTextModel:i}})),e.decorations=Ej(e,(function(t){var i=e.uiState.read(t);if(!i)return[];var n=[];i.replacedRange&&n.push({range:i.replacedRange.toRange(i.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),i.hiddenRange&&n.push({range:i.hiddenRange.toRange(i.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(var r=0,o=i.inlineTexts;r<o.length;r++){var s=o[r];n.push({range:Zr.fromPositions(new qr(i.lineNumber,s.column)),options:{description:Ftt,after:{content:s.text,inlineClassName:s.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Sv.Left},showIfCollapsed:!0}})}return n})),e.additionalLinesWidget=e._register(new Itt(e.editor,e.languageService.languageIdCodec,Ej((function(t){var i=e.uiState.read(t);return i?{lineNumber:i.lineNumber,additionalLines:i.additionalLines,minReservedLineCount:i.additionalReservedLineCount,targetTextModel:i.targetTextModel}:void 0})))),e._register(En((function(){e.isDisposed.set(!0,void 0)}))),e._register(Ctt(e.editor,e.decorations));return e}i.prototype.ownsViewZone=function(t){return this.additionalLinesWidget.viewZoneId===t};return i}(Cn);Stt=Mtt([_tt(2,ld)],Stt);var Itt=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.languageIdCodec=n,e.lines=r,e._viewZoneId=void 0,e.editorOptionsChanged=Lj("editorOptionChanged",Qn.filter(e.editor.onDidChangeConfiguration,(function(t){return t.hasChanged(33)||t.hasChanged(117)||t.hasChanged(99)||t.hasChanged(94)||t.hasChanged(51)||t.hasChanged(50)||t.hasChanged(67)}))),e._register(_j((function(t){var i=e.lines.read(t);e.editorOptionsChanged.read(t),i?e.updateLines(i.lineNumber,i.additionalLines,i.minReservedLineCount):e.clear()})));return e}Object.defineProperty(i.prototype,"viewZoneId",{get:function(){return this._viewZoneId},enumerable:false,configurable:true});i.prototype.dispose=function(){t.prototype.dispose.call(this),this.clear()};i.prototype.clear=function(){var t=this;this.editor.changeViewZones((function(i){t._viewZoneId&&(i.removeZone(t._viewZoneId),t._viewZoneId=void 0)}))};i.prototype.updateLines=function(t,i,n){var r=this;var e=this.editor.getModel();if(!e)return;var o=e.getOptions().tabSize;this.editor.changeViewZones((function(e){r._viewZoneId&&(e.removeZone(r._viewZoneId),r._viewZoneId=void 0);var s=Math.max(i.length,n);if(s>0){var u=document.createElement("div");(function(t,i,n,r,e){var o=r.get(33),s=r.get(117),u="none",a=r.get(94),c=r.get(51),h=r.get(50),f=r.get(67),l=new Wl(1e4);l.appendString('<div class="suggest-preview-text">');for(var d=0,v=n.length;d<v;d++){var A=n[d],g=A.content;l.appendString('<div class="view-line'),l.appendString('" style="top:'),l.appendString(String(d*f)),l.appendString('px;width:1000000px;">');var w=is(g),p=$o(g),m=Og.createEmpty(g,e);Wg(new Hg(h.isMonospace&&!o,h.canUseHalfwidthRightwardsArrow,g,!1,w,p,0,m,A.decorations,i,0,h.spaceWidth,h.middotWidth,h.wsmiddotWidth,s,u,a,c!==Hi.OFF,null),l),l.appendString("</div>")}l.appendString("</div>"),ih(t,h);var b=l.build(),y=Qtt?Qtt.createHTML(b):b;t.innerHTML=y})(u,o,i,r.editor.getOptions(),r.languageIdCodec),r._viewZoneId=e.addZone({afterLineNumber:t,heightInLines:s,domNode:u,afterColumnAffinity:1})}}))};return i}(Cn);var Qtt=ml("editorGhostText",{createHTML:function(t){return t}});var Ott=function(){function t(t){var i=this;this.lines=t,this.tokenization={getLineTokens:function(t){return i.lines[t-1]}}}t.prototype.getLineCount=function(){return this.lines.length};t.prototype.getLineLength=function(t){return this.lines[t-1].getLineContent().length};return t}();function Ntt(t,i,n,r){return __awaiter(this,arguments,void 0,(function(t,i,n,r,e,o){function s(t){if(!t.yieldsToGroupIds)return[];var i=[];for(var n=0,r=t.yieldsToGroupIds||[];n<r.length;n++){var e=r[n];var o=f.get(e);for(var s=0,u=o;s<u.length;s++){var a=u[s];i.push(a)}}return i}function u(t,i){if(i=__spreadArray(__spreadArray([],i,true),[t],false),g.has(t))return i;g.add(t);try{var n=s(t);for(var r=0,e=n;r<e.length;r++){var o=e[r];var a=u(o,i);if(a)return a}}finally{g.delete(t)}}function a(t){var o=this;var c=A.get(t);if(c)return c;var h=u(t,[]);h&&hn(new Error("Inline completions: cyclic yield-to dependency detected. Path: ".concat(h.map((function(t){return t.toString?t.toString():""+t})).join(" -> "))));var f=new nu;return A.set(t,f.p),function(){return __awaiter(o,void 0,void 0,(function(){var o,u,c,f,l,d;return __generator(this,(function(v){switch(v.label){case 0:if(!!h)return[3,4];o=s(t);u=0,c=o;v.label=1;case 1:if(!(u<c.length))return[3,4];f=c[u];return[4,a(f)];case 2:l=v.sent();if(l&&l.items.length>0)return[2];v.label=3;case 3:u++;return[3,1];case 4:v.trys.push([4,6,,7]);return[4,t.provideInlineCompletions(n,i,r,e)];case 5:return[2,v.sent()];case 6:d=v.sent();return[2,void hn(d)];case 7:return[2]}}))}))}().then((function(t){return f.complete(t)}),(function(t){return f.error(t)})),f.p}var c,h,f,l,d,v,A,g,w,p,m,b,y,v,k,x,E,B,C,D;var M=this;if(e===void 0){e=Gn.None}return __generator(this,(function(r){switch(r.label){case 0:c=function(t,i){var n=i.getWordAtPosition(t),r=i.getLineMaxColumn(t.lineNumber);return n?new Zr(t.lineNumber,n.startColumn,t.lineNumber,r):Zr.fromPositions(t,t.with(void 0,r))}(i,n),h=t.all(n),f=new Bv;for(l=0,d=h;l<d.length;l++){v=d[l];v.groupId&&f.add(v.groupId,v)}A=new Map,g=new Set;return[4,Promise.all(h.map((function(t){return __awaiter(M,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:i={provider:t};return[4,a(t)];case 1:return[2,(i.completions=n.sent(),i)]}}))}))})))];case 1:w=r.sent(),p=new Map,m=[];for(b=0,y=w;b<y.length;b++){v=y[b];k=v.completions;if(!k)continue;x=new Ttt(k,v.provider);m.push(x);for(E=0,B=k.items;E<B.length;E++){C=B[E];D=Ltt.from(C,x,c,n,o);p.set(D.hash(),D)}}return[2,new Rtt(Array.from(p.values()),new Set(p.keys()),m)]}}))}))}var Rtt=function(){function t(t,i,n){this.completions=t,this.hashs=i,this.providerResults=n}t.prototype.has=function(t){return this.hashs.has(t.hash())};t.prototype.dispose=function(){for(var t=0,i=this.providerResults;t<i.length;t++){var n=i[t];n.removeRef()}};return t}();var Ttt=function(){function t(t,i){this.inlineCompletions=t,this.provider=i,this.refCount=1}t.prototype.addRef=function(){this.refCount++};t.prototype.removeRef=function(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)};return t}();var Ltt=function(){function t(t,i,n,r,e,o,s,u){this.filterText=t,this.command=i,this.range=n,this.insertText=r,this.snippetInfo=e,this.additionalTextEdits=o,this.sourceInlineCompletion=s,this.source=u,r=(t=t.replace(/\r\n|\r/g,"\n")).replace(/\r\n|\r/g,"\n")}t.from=function(i,n,r,e,o){var s,u,a=i.range?Zr.lift(i.range):r;if(typeof i.insertText=="string"){if(s=i.insertText,o&&i.completeBracketPairs){s=jtt(s,a.getStartPosition(),e,o);var c=s.length-i.insertText.length;c!==0&&(a=new Zr(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+c))}u=void 0}else if("snippet"in i.insertText){var c=i.insertText.snippet.length;if(o&&i.completeBracketPairs){i.insertText.snippet=jtt(i.insertText.snippet,a.getStartPosition(),e,o);var h=i.insertText.snippet.length-c;h!==0&&(a=new Zr(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+h))}var f=(new n1).parse(i.insertText.snippet);f.children.length===1&&f.children[0]instanceof G0?(s=f.children[0].value,u=void 0):(s=f.toString(),u={snippet:i.insertText.snippet,range:a})}else wf();return new t(s,i.command,a,s,u,i.additionalTextEdits||Ett,i,n)};t.prototype.withRange=function(i){return new t(this.filterText,this.command,i,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)};t.prototype.hash=function(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})};return t}();function jtt(t,i,n,r){var e=n.getLineContent(i.lineNumber).substring(0,i.column-1)+t,o=n.tokenization.tokenizeLineWithEdit(i,e.length-(i.column-1),t),s=o==null?void 0:o.sliceAndInflate(i.column-1,e.length,0);return s?function(t,i){var n=new tM,r=new pM(n,(function(t){return i.getLanguageConfiguration(t)})),e=BM(new vM(new Ott([t]),r),[],void 0,!0);var o="";var s=t.getLineContent();return function t(i,n){if(i.kind===2)if(t(i.openingBracket,n),n=jD(n,i.openingBracket.length),i.child&&(t(i.child,n),n=jD(n,i.child.length)),i.closingBracket)t(i.closingBracket,n),n=jD(n,i.closingBracket.length);else{var e=r.getSingleLanguageBracketTokens(i.openingBracket.languageId).findClosingTokenText(i.openingBracket.bracketIds);o+=e}else if(i.kind!==3){if(i.kind===0||i.kind===1)o+=s.substring(n,jD(n,i.length));else if(i.kind===4)for(var u=0,a=i.children;u<a.length;u++){var e=a[u];t(e,n),n=jD(n,e.length)}}}(e,OD),o}(s,r):t}function ztt(t,i,n){var r=n?t.range.intersectRanges(n):t.range;if(!r)return t;var e=i.getValueInRange(r,1),o=Ho(e,t.text),s=QD.ofText(e.substring(0,o)).addToPosition(t.range.getStartPosition()),u=t.text.substring(o),a=Zr.fromPositions(s,t.range.getEndPosition());return new VK(a,u)}function Utt(t,i){return t.text.startsWith(i.text)&&(n=t.range,(r=i.range).getStartPosition().equals(n.getStartPosition())&&r.getEndPosition().isBeforeOrEqual(n.getEndPosition()));var n,r}function Htt(t,i,n,r,e){if(e===void 0){e=0}var o=ztt(t,i);if(o.range.endLineNumber!==o.range.startLineNumber)return;var s=i.getLineContent(o.range.startLineNumber),u=So(s).length;if(o.range.startColumn-1<=u){var a=So(o.text).length,c=s.substring(o.range.startColumn-1,u),h=[o.range.getStartPosition(),o.range.getEndPosition()],f=h[0],l=h[1],d=f.column+c.length<=l.column?f.delta(0,c.length):l,v=Zr.fromPositions(d,l),A=o.text.startsWith(c)?o.text.substring(c.length):o.text.substring(a);o=new VK(v,A)}var g=i.getValueInRange(o.range),w=function(t,i){if((Ytt==null?void 0:Ytt.originalValue)===t&&(Ytt==null?void 0:Ytt.newValue)===i)return Ytt==null?void 0:Ytt.changes;{var n=Ptt(t,i,!0);if(n){var r=Jtt(n);if(r>0){var e=Ptt(t,i,!1);e&&Jtt(e)<r&&(n=e)}}return Ytt={originalValue:t,newValue:i,changes:n},n}}(g,o.text);if(!w)return;var p=o.range.startLineNumber,m=new Array;if(n==="prefix"){var a=w.filter((function(t){return t.originalLength===0}));if(a.length>1||a.length===1&&a[0].originalStart!==g.length)return}var b=o.text.length-e;for(var y=0,k=w;y<k.length;y++){var a=k[y];var c=o.range.startColumn+a.originalStart+a.originalLength;if(n==="subwordSmart"&&r&&r.lineNumber===o.range.startLineNumber&&c<r.column||a.originalLength>0)return;if(a.modifiedLength===0)continue;var f=a.modifiedStart+a.modifiedLength,l=Math.max(a.modifiedStart,Math.min(f,b)),d=o.text.substring(a.modifiedStart,l),v=o.text.substring(l,Math.max(a.modifiedStart,f));d.length>0&&m.push(new btt(c,d,!1)),v.length>0&&m.push(new btt(c,v,!0))}return new mtt(p,m)}var Ytt;function Jtt(t){var i=0;for(var n=0,r=t;n<r.length;n++){var e=r[n];i+=e.originalLength}return i}function Ptt(t,i,n){if(t.length>5e3||i.length>5e3)return;function r(t){var i=0;for(var n=0,r=t.length;n<r;n++){var e=t.charCodeAt(n);e>i&&(i=e)}return i}var e=Math.max(r(t),r(i));function o(t){if(t<0)throw new Error("unexpected");return e+t+1}function s(t){var i=0,r=0;var e=new Int32Array(t.length);for(var s=0,u=t.length;s<u;s++)if(n&&t[s]==="("){var a=100*r+i;e[s]=o(2*a),i++}else if(n&&t[s]===")"){i=Math.max(i-1,0);var a=100*r+i;e[s]=o(2*a+1),i===0&&r++}else e[s]=t.charCodeAt(s);return e}var u=s(t),a=s(i);return new rv({getElements:function(){return u}},{getElements:function(){return a}}).ComputeDiff(!1).changes}var Wtt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Gtt=function(t,i){return function(n,r){i(n,r,t)}};var Vtt=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.textModel=i,s.versionId=n,s._debounceValue=r,s.languageFeaturesService=e,s.languageConfigurationService=o,s._updateOperation=s._register(new Dn),s.inlineCompletions=yj("inlineCompletions",void 0),s.suggestWidgetInlineCompletions=yj("suggestWidgetInlineCompletions",void 0),s._register(s.textModel.onDidChangeContent((function(){s._updateOperation.clear()})));return s}i.prototype.fetch=function(t,i,n){var r=this;var e,o;var s=new Ktt(t,i,this.textModel.getVersionId()),u=i.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((e=this._updateOperation.value)===null||e===void 0)&&e.request.satisfies(s))return this._updateOperation.value.promise;if(!((o=u.get())===null||o===void 0)&&o.request.satisfies(s))return Promise.resolve(!0);var a=!!this._updateOperation.value;this._updateOperation.clear();var c=new Kn,h=function(){return __awaiter(r,void 0,void 0,(function(){var r,e,o,h,f,l,d,v;return __generator(this,(function(A){switch(A.label){case 0:o=a||i.triggerKind===ce.Automatic;if(!o)return[3,2];return[4,(r=this._debounceValue.get(this.textModel),e=c.token,new Promise((function(t){var i;var n=setTimeout((function(){i&&i.dispose(),t()}),r);e&&(i=e.onCancellationRequested((function(){clearTimeout(n),i&&i.dispose(),t()})))})))];case 1:o=A.sent();A.label=2;case 2:if(o,c.token.isCancellationRequested||this.textModel.getVersionId()!==s.versionId)return[2,!1];h=new Date;return[4,Ntt(this.languageFeaturesService.inlineCompletionsProvider,t,this.textModel,i,c.token,this.languageConfigurationService)];case 3:f=A.sent();if(c.token.isCancellationRequested||this.textModel.getVersionId()!==s.versionId)return[2,!1];l=new Date;this._debounceValue.update(this.textModel,l.getTime()-h.getTime());d=new qtt(f,s,this.textModel,this.versionId);if(n){v=n.toInlineCompletion(void 0);n.canBeReused(this.textModel,t)&&!f.has(v)&&d.prepend(n.inlineCompletion,v.range,!0)}return[2,(this._updateOperation.clear(),Aj((function(t){u.set(d,t)})),!0)]}}))}))}(),f=new Xtt(s,c,h);return this._updateOperation.value=f,h};i.prototype.clear=function(t){this._updateOperation.clear(),this.inlineCompletions.set(void 0,t),this.suggestWidgetInlineCompletions.set(void 0,t)};i.prototype.clearSuggestWidgetInlineCompletions=function(t){var i;!((i=this._updateOperation.value)===null||i===void 0)&&i.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,t)};i.prototype.cancelUpdate=function(){this._updateOperation.clear()};return i}(Cn);Vtt=Wtt([Gtt(3,gg),Gtt(4,jd)],Vtt);var Ktt=function(){function t(t,i,n){this.position=t,this.context=i,this.versionId=n}t.prototype.satisfies=function(t){return this.position.equals(t.position)&&function(t,i,n){return!t||!i?t===i:n(t,i)}(this.context.selectedSuggestionInfo,t.context.selectedSuggestionInfo,(function(t,i){return t.equals(i)}))&&(t.context.triggerKind===ce.Automatic||this.context.triggerKind===ce.Explicit)&&this.versionId===t.versionId};return t}();var Xtt=function(){function t(t,i,n){this.request=t,this.cancellationTokenSource=i,this.promise=n}t.prototype.dispose=function(){this.cancellationTokenSource.cancel()};return t}();var qtt=function(){function t(t,i,n,r){var e=this;this.inlineCompletionProviderResult=t,this.request=i,this.textModel=n,this.versionId=r,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=Ej(this,(function(t){e.versionId.read(t);var i=!1;for(var n=0,r=e._inlineCompletions;n<r.length;n++){var o=r[n];i=i||o._updateRange(e.textModel)}return i&&e._rangeVersionIdValue++,e._rangeVersionIdValue}));var o=n.deltaDecorations([],t.completions.map((function(t){return{range:t.range,options:{description:"inline-completion-tracking-range"}}})));this._inlineCompletions=t.completions.map((function(t,i){return new Ztt(t,o[i],e._rangeVersionId)}))}Object.defineProperty(t.prototype,"inlineCompletions",{get:function(){return this._inlineCompletions},enumerable:false,configurable:true});t.prototype.clone=function(){return this._refCount++,this};t.prototype.dispose=function(){var t=this;if(this._refCount--,this._refCount===0){setTimeout((function(){t.textModel.isDisposed()||t.textModel.deltaDecorations(t._inlineCompletions.map((function(t){return t.decorationId})),[])}),0),this.inlineCompletionProviderResult.dispose();for(var i=0,n=this._prependedInlineCompletionItems;i<n.length;i++){var r=n[i];r.source.removeRef()}}};t.prototype.prepend=function(t,i,n){n&&t.source.addRef();var r=this.textModel.deltaDecorations([],[{range:i,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new Ztt(t,r,this._rangeVersionId,i)),this._prependedInlineCompletionItems.push(t)};return t}();var Ztt=function(){function t(t,i,n,r){this.inlineCompletion=t,this.decorationId=i,this.rangeVersion=n,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=r!==null&&r!==void 0?r:t.range}Object.defineProperty(t.prototype,"forwardStable",{get:function(){var t;return(t=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&t!==void 0&&t},enumerable:false,configurable:true});t.prototype.toInlineCompletion=function(t){return this.inlineCompletion.withRange(this._getUpdatedRange(t))};t.prototype.toSingleTextEdit=function(t){return new VK(this._getUpdatedRange(t),this.inlineCompletion.insertText)};t.prototype.isVisible=function(t,i,n){var r=ztt(this._toFilterTextReplacement(n),t);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(n).getStartPosition())||i.lineNumber!==r.range.startLineNumber)return!1;var e=t.getValueInRange(r.range,1),o=r.text,s=Math.max(0,i.column-r.range.startColumn);var u=o.substring(0,s),a=o.substring(s),c=e.substring(0,s),h=e.substring(s);var f=t.getLineIndentColumn(r.range.startLineNumber);return r.range.startColumn<=f&&(c=c.trimStart(),c.length===0&&(h=h.trimStart()),u=u.trimStart(),u.length===0&&(a=a.trimStart())),u.startsWith(c)&&!!hN(h,a)};t.prototype.canBeReused=function(t,i){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(i)&&this.isVisible(t,i,void 0)&&!this._isSmallerThanOriginal(void 0)};t.prototype._toFilterTextReplacement=function(t){return new VK(this._getUpdatedRange(t),this.inlineCompletion.filterText)};t.prototype._isSmallerThanOriginal=function(t){return $tt(this._getUpdatedRange(t)).isBefore($tt(this.inlineCompletion.range))};t.prototype._getUpdatedRange=function(t){return this.rangeVersion.read(t),this._updatedRange};t.prototype._updateRange=function(t){var i=t.getDecorationRange(this.decorationId);return i?!this._updatedRange.equalsRange(i)&&(this._updatedRange=i,!0):(this._isValid=!1,!0)};return t}();function $tt(t){return t.startLineNumber===t.endLineNumber?new qr(1,1+t.endColumn-t.startColumn):new qr(1+t.endLineNumber-t.startLineNumber,t.endColumn)}var tit={Visible:x9,HasFocusedSuggestion:new cf("suggestWidgetHasFocusedSuggestion",!1,Bt(0,"Whether any suggestion is focused")),DetailsVisible:new cf("suggestWidgetDetailsVisible",!1,Bt(0,"Whether suggestion details are visible")),MultipleSuggestions:new cf("suggestWidgetMultipleSuggestions",!1,Bt(0,"Whether there are multiple suggestions to pick from")),MakesTextEdit:new cf("suggestionMakesTextEdit",!0,Bt(0,"Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new cf("acceptSuggestionOnEnter",!0,Bt(0,"Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new cf("suggestionHasInsertAndReplaceRange",!1,Bt(0,"Whether the current suggestion has insert and replace behaviour")),InsertMode:new cf("suggestionInsertMode",void 0,{type:"string",description:Bt(0,"Whether the default behaviour is to insert or replace")}),CanResolve:new cf("suggestionCanResolve",!1,Bt(0,"Whether the current suggestion supports to resolve further details"))},iit=new _f("suggestWidgetStatusBar");var nit=function(){function t(t,i,n,r){var e;this.position=t,this.completion=i,this.container=n,this.provider=r,this.isInvalid=!1,this.score=WN.Default,this.distance=0,this.textLabel=typeof i.label=="string"?i.label:(e=i.label)===null||e===void 0?void 0:e.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=i.sortText&&i.sortText.toLowerCase(),this.filterTextLow=i.filterText&&i.filterText.toLowerCase(),this.extensionId=i.extensionId,Zr.isIRange(i.range)?(this.editStart=new qr(i.range.startLineNumber,i.range.startColumn),this.editInsertEnd=new qr(i.range.endLineNumber,i.range.endColumn),this.editReplaceEnd=new qr(i.range.endLineNumber,i.range.endColumn),this.isInvalid=this.isInvalid||Zr.spansMultipleLines(i.range)||i.range.startLineNumber!==t.lineNumber):(this.editStart=new qr(i.range.insert.startLineNumber,i.range.insert.startColumn),this.editInsertEnd=new qr(i.range.insert.endLineNumber,i.range.insert.endColumn),this.editReplaceEnd=new qr(i.range.replace.endLineNumber,i.range.replace.endColumn),this.isInvalid=this.isInvalid||Zr.spansMultipleLines(i.range.insert)||Zr.spansMultipleLines(i.range.replace)||i.range.insert.startLineNumber!==t.lineNumber||i.range.replace.startLineNumber!==t.lineNumber||i.range.insert.startColumn!==i.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}Object.defineProperty(t.prototype,"isResolved",{get:function(){return this._resolveDuration!==void 0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"resolveDuration",{get:function(){return this._resolveDuration!==void 0?this._resolveDuration:-1},enumerable:false,configurable:true});t.prototype.resolve=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;var r=this;return __generator(this,(function(e){if(!this._resolveCache){i=t.onCancellationRequested((function(){r._resolveCache=void 0,r._resolveDuration=void 0})),n=new In(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,t)).then((function(t){Object.assign(r.completion,t),r._resolveDuration=n.elapsed()}),(function(t){dn(t)&&(r._resolveCache=void 0,r._resolveDuration=void 0)})).finally((function(){i.dispose()}))}return[2,this._resolveCache]}))}))};return t}();var rit=function(){function t(t,i,n,r,e){if(t===void 0){t=2}if(i===void 0){i=new Set}if(n===void 0){n=new Set}if(r===void 0){r=new Map}if(e===void 0){e=!0}this.snippetSortOrder=t,this.kindFilter=i,this.providerFilter=n,this.providerItemsToReuse=r,this.showDeprecated=e}return t}();rit.default=new rit;var eit=function(){function t(t,i,n,r){this.items=t,this.needsClipboard=i,this.durations=n,this.disposable=r}return t}();function oit(t,i,n){return __awaiter(this,arguments,void 0,(function(t,i,n,r,e,o){var s,u,a,c,h,f,l,d,v,A,g,w,p,m,b,y;var k=this;if(r===void 0){r=rit.default}if(e===void 0){e={triggerKind:0}}if(o===void 0){o=Gn.None}return __generator(this,(function(x){switch(x.label){case 0:s=new In;n=n.clone();u=i.getWordAtPosition(n),a=u?new Zr(n.lineNumber,u.startColumn,n.lineNumber,u.endColumn):Zr.fromPositions(n),c={replace:a,insert:a.setEndPosition(n.lineNumber,n.column)},h=[],f=new Bn,l=[];d=!1;v=function(t,i,e){var o,s,u;var a=!1;if(!i)return a;for(var v=0,A=i.suggestions;v<A.length;v++){var g=A[v];if(!r.kindFilter.has(g.kind)){if(!r.showDeprecated&&(!((o=g==null?void 0:g.tags)===null||o===void 0)&&o.includes(1)))continue;g.range||(g.range=c),g.sortText||(g.sortText=typeof g.label=="string"?g.label:g.label.label),!d&&g.insertTextRules&&4&g.insertTextRules&&(d=n1.guessNeedsClipboard(g.insertText)),h.push(new nit(n,g,i,t)),a=!0}}return yn(i)&&f.add(i),l.push({providerName:(s=t._debugDisplayName)!==null&&s!==void 0?s:"unknown_provider",elapsedProvider:(u=i.duration)!==null&&u!==void 0?u:-1,elapsedOverall:e.elapsed()}),a},A=function(){return __awaiter(k,void 0,void 0,(function(){return __generator(this,(function(t){return[2]}))}))}();g=function(t){var s;return __generator(this,(function(u){switch(u.label){case 0:s=!1;return[4,Promise.all(t.map((function(t){return __awaiter(k,void 0,void 0,(function(){var u,u,a,c;return __generator(this,(function(f){switch(f.label){case 0:if(r.providerItemsToReuse.has(t)){u=r.providerItemsToReuse.get(t);return[2,(u.forEach((function(t){return h.push(t)})),void(s=s||u.length>0))]}if(!(!(r.providerFilter.size>0)||r.providerFilter.has(t)))return[3,4];f.label=1;case 1:f.trys.push([1,3,,4]);u=new In;return[4,t.provideCompletionItems(i,n,e,o)];case 2:a=f.sent();s=v(t,a,u)||s;return[3,4];case 3:c=f.sent();hn(c);return[3,4];case 4:return[2]}}))}))})))];case 1:if(u.sent(),s||o.isCancellationRequested)return[2,"break"];return[2]}}))};w=0,p=t.orderedGroups(i);x.label=1;case 1:if(!(w<p.length))return[3,4];m=p[w];return[5,g(m)];case 2:b=x.sent();if(b==="break")return[3,4];x.label=3;case 3:w++;return[3,1];case 4:return[4,A];case 5:return[2,(x.sent(),o.isCancellationRequested?(f.dispose(),Promise.reject(new vn)):new eit(h.sort((y=r.snippetSortOrder,uit.get(y))),d,{entries:l,elapsed:s.elapsed()},f))]}}))}))}function sit(t,i){if(t.sortTextLow&&i.sortTextLow){if(t.sortTextLow<i.sortTextLow)return-1;if(t.sortTextLow>i.sortTextLow)return 1}return t.textLabel<i.textLabel?-1:t.textLabel>i.textLabel?1:t.completion.kind-i.completion.kind}var uit=new Map;uit.set(0,(function(t,i){if(t.completion.kind!==i.completion.kind){if(t.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return sit(t,i)})),uit.set(2,(function(t,i){if(t.completion.kind!==i.completion.kind){if(t.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return sit(t,i)})),uit.set(1,sit),Bh.registerCommand("_executeCompletionItemProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s,u,a,c,h,f,l,d,v;return __generator(this,(function(A){switch(A.label){case 0:n=i[0],r=i[1],e=i[2],o=i[3];lt(zr.isUri(n)),lt(qr.isIPosition(r)),lt(typeof e=="string"||!e),lt(typeof o=="number"||!o);s=t.get(gg).completionProvider;return[4,t.get(Ah).createModelReference(n)];case 1:u=A.sent();A.label=2;case 2:A.trys.push([2,,8,9]);a={incomplete:!1,suggestions:[]},c=[],h=u.object.textEditorModel.validatePosition(r);return[4,oit(s,u.object.textEditorModel,h,void 0,{triggerCharacter:e!==null&&e!==void 0?e:void 0,triggerKind:e?1:0})];case 3:f=A.sent();for(l=0,d=f.items;l<d.length;l++){v=d[l];c.length<(o!==null&&o!==void 0?o:0)&&c.push(v.resolve(Gn.None)),a.incomplete=a.incomplete||v.container.incomplete,a.suggestions.push(v.completion)}A.label=4;case 4:A.trys.push([4,,6,7]);return[4,Promise.all(c)];case 5:return[2,(A.sent(),a)];case 6:setTimeout((function(){return f.disposable.dispose()}),100);return[7];case 7:return[3,9];case 8:u.dispose();return[7];case 9:return[2]}}))}))}));var ait=function(){function t(){}t.isAllOff=function(t){return t.other==="off"&&t.comments==="off"&&t.strings==="off"};t.isAllOn=function(t){return t.other==="on"&&t.comments==="on"&&t.strings==="on"};t.valueFor=function(t,i){switch(i){case 1:return t.comments;case 2:return t.strings;default:return t.other}};return t}();function cit(t,i){if(i===void 0){i=Wt}return function(t,i){if(i===void 0){i=Wt}return!!i&&KM(t.charCodeAt(0))&&t.charCodeAt(1)===58}(t,i)?t.charAt(0).toUpperCase()+t.slice(1):t}var hit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},fit=function(t,i){return function(n,r){i(n,r,t)}};var lit=function(){function t(t){this._delegates=t}t.prototype.resolve=function(t){for(var i=0,n=this._delegates;i<n.length;i++){var r=n[i];var e=r.resolve(t);if(e!==void 0)return e}};return t}();var dit=function(){function t(t,i,n,r){this._model=t,this._selection=i,this._selectionIdx=n,this._overtypingCapturer=r}t.prototype.resolve=function(t){var i=t.name;if(i==="SELECTION"||i==="TM_SELECTED_TEXT"){var n=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){var e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(n=e.value,r=e.multiline)}if(n&&r&&t.snippet){var e=So(this._model.getLineContent(this._selection.startLineNumber),0,this._selection.startColumn-1);var o=e;t.snippet.walk((function(i){return i!==t&&(i instanceof G0&&(o=So(_o(i.value).pop())),!0)}));var s=Ho(o,e);n=n.replace(/(\r\n|\r|\n)(.*)/g,(function(t,i,n){return"".concat(i).concat(o.substr(s)).concat(n)}))}return n}if(i==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(i==="TM_CURRENT_WORD"){var n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}return i==="TM_LINE_INDEX"?String(this._selection.positionLineNumber-1):i==="TM_LINE_NUMBER"?String(this._selection.positionLineNumber):i==="CURSOR_INDEX"?String(this._selectionIdx):i==="CURSOR_NUMBER"?String(this._selectionIdx+1):void 0};return t}();var vit=function(){function t(t,i){this._labelService=t,this._model=i}t.prototype.resolve=function(t){var i=t.name;if(i==="TM_FILENAME")return Sr(this._model.uri.fsPath);if(i==="TM_FILENAME_BASE"){var n=Sr(this._model.uri.fsPath),r=n.lastIndexOf(".");return r<=0?n:n.slice(0,r)}return i==="TM_DIRECTORY"?Fr(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(n_(this._model.uri)):i==="TM_FILEPATH"?this._labelService.getUriLabel(this._model.uri):i==="RELATIVE_FILEPATH"?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0};return t}();var Ait=function(){function t(t,i,n,r){this._readClipboardText=t,this._selectionIdx=i,this._selectionCount=n,this._spread=r}t.prototype.resolve=function(t){if(t.name!=="CLIPBOARD")return;var i=this._readClipboardText();if(i){if(this._spread){var n=i.split(/\r\n|\n|\r/).filter((function(t){return!bo(t)}));if(n.length===this._selectionCount)return n[this._selectionIdx]}return i}};return t}();var git=function(){function t(t,i,n){this._model=t,this._selection=i,this._languageConfigurationService=n}t.prototype.resolve=function(t){var i=t.name,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=this._languageConfigurationService.getLanguageConfiguration(n).comments;if(r)return i==="LINE_COMMENT"?r.lineCommentToken||void 0:i==="BLOCK_COMMENT_START"?r.blockCommentStartToken||void 0:i==="BLOCK_COMMENT_END"&&r.blockCommentEndToken||void 0};return t}();git=hit([fit(2,jd)],git);var wit=function(){function t(){this._date=new Date}t.prototype.resolve=function(i){var n=i.name;if(n==="CURRENT_YEAR")return String(this._date.getFullYear());if(n==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(n==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(n==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(n==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(n==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(n==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(n==="CURRENT_DAY_NAME")return t.dayNames[this._date.getDay()];if(n==="CURRENT_DAY_NAME_SHORT")return t.dayNamesShort[this._date.getDay()];if(n==="CURRENT_MONTH_NAME")return t.monthNames[this._date.getMonth()];if(n==="CURRENT_MONTH_NAME_SHORT")return t.monthNamesShort[this._date.getMonth()];if(n==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(n==="CURRENT_TIMEZONE_OFFSET"){var r=this._date.getTimezoneOffset(),e=r>0?"-":"+",o=Math.trunc(Math.abs(r/60)),s=o<10?"0"+o:o,u=Math.abs(r)-60*o;return e+s+":"+(u<10?"0"+u:u)}};return t}();wit.dayNames=[Bt(0,"Sunday"),Bt(0,"Monday"),Bt(0,"Tuesday"),Bt(0,"Wednesday"),Bt(0,"Thursday"),Bt(0,"Friday"),Bt(0,"Saturday")],wit.dayNamesShort=[Bt(0,"Sun"),Bt(0,"Mon"),Bt(0,"Tue"),Bt(0,"Wed"),Bt(0,"Thu"),Bt(0,"Fri"),Bt(0,"Sat")],wit.monthNames=[Bt(0,"January"),Bt(0,"February"),Bt(0,"March"),Bt(0,"April"),Bt(0,"May"),Bt(0,"June"),Bt(0,"July"),Bt(0,"August"),Bt(0,"September"),Bt(0,"October"),Bt(0,"November"),Bt(0,"December")],wit.monthNamesShort=[Bt(0,"Jan"),Bt(0,"Feb"),Bt(0,"Mar"),Bt(0,"Apr"),Bt(0,"May"),Bt(0,"Jun"),Bt(0,"Jul"),Bt(0,"Aug"),Bt(0,"Sep"),Bt(0,"Oct"),Bt(0,"Nov"),Bt(0,"Dec")];var pit=function(){function t(t){this._workspaceService=t}t.prototype.resolve=function(t){if(!this._workspaceService)return;var i=function(t,i){if(typeof t=="string"||t===void 0)return typeof t=="string"?{id:Sr(t)}:i?cL:hL;var n=t;return n.configuration?{id:n.id,configPath:n.configuration}:n.folders.length===1?{id:n.id,uri:n.folders[0].uri}:{id:n.id}}(this._workspaceService.getWorkspace());return aL(i)?void 0:t.name==="WORKSPACE_NAME"?this._resolveWorkspaceName(i):t.name==="WORKSPACE_FOLDER"?this._resoveWorkspacePath(i):void 0};t.prototype._resolveWorkspaceName=function(t){if(uL(t))return Sr(t.uri.path);var i=Sr(t.configPath.path);return i.endsWith(lL)&&(i=i.substr(0,i.length-14-1)),i};t.prototype._resoveWorkspacePath=function(t){if(uL(t))return cit(t.uri.fsPath);var i=Sr(t.configPath.path);var n=t.configPath.fsPath;return n.endsWith(i)&&(n=n.substr(0,n.length-i.length-1)),n?cit(n):"/"};return t}();var mit=function(){function t(){}t.prototype.resolve=function(t){var i=t.name;return i==="RANDOM"?Math.random().toString().slice(-6):i==="RANDOM_HEX"?Math.random().toString(16).slice(-6):i==="UUID"?b0():void 0};return t}();var bit,yit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},kit=function(t,i){return function(n,r){i(n,r,t)}};var xit=function(){function t(t,i,n){this._editor=t,this._snippet=i,this._snippetLineLeadingWhitespace=n,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=I(i.placeholders,K0.compareByIndex),this._placeholderGroupsIdx=-1}t.prototype.initialize=function(t){this._offset=t.newPosition};t.prototype.dispose=function(){this._placeholderDecorations&&this._editor.removeDecorations(__spreadArray([],this._placeholderDecorations.values(),true)),this._placeholderGroups.length=0};t.prototype._initDecorations=function(){var i=this;if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;var n=this._editor.getModel();this._editor.changeDecorations((function(r){for(var e=0,o=i._snippet.placeholders;e<o.length;e++){var s=o[e];var u=i._snippet.offset(s),a=i._snippet.fullLen(s),c=Zr.fromPositions(n.getPositionAt(i._offset+u),n.getPositionAt(i._offset+u+a)),h=s.isFinalTabstop?t._decor.inactiveFinal:t._decor.inactive,f=r.addDecoration(c,h);i._placeholderDecorations.set(s,f)}}))};t.prototype.move=function(i){var n=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){var r=[];for(var e=0,o=this._placeholderGroups[this._placeholderGroupsIdx];e<o.length;e++){var s=o[e];if(s.transform){var u=this._placeholderDecorations.get(s),a=this._editor.getModel().getDecorationRange(u),c=this._editor.getModel().getValueInRange(a),h=s.transform.resolve(c).split(/\r\n|\r|\n/);for(var f=1;f<h.length;f++)h[f]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+h[f]);r.push(BT.replace(a,h.join(this._editor.getModel().getEOL())))}}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}var l=!1;i===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,l=!0):i===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,l=!0);var d=this._editor.getModel().changeDecorations((function(i){var r=new Set,e=[];for(var o=0,s=n._placeholderGroups[n._placeholderGroupsIdx];o<s.length;o++){var u=s[o];var a=n._placeholderDecorations.get(u),c=n._editor.getModel().getDecorationRange(a);e.push(new $r(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),l=l&&n._hasPlaceholderBeenCollapsed(u),i.changeDecorationOptions(a,u.isFinalTabstop?t._decor.activeFinal:t._decor.active),r.add(u);for(var h=0,f=n._snippet.enclosingPlaceholders(u);h<f.length;h++){var d=f[h];var v=n._placeholderDecorations.get(d);i.changeDecorationOptions(v,d.isFinalTabstop?t._decor.activeFinal:t._decor.active),r.add(d)}}for(var A=0,g=n._placeholderDecorations;A<g.length;A++){var w=g[A],u=w[0],a=w[1];r.has(u)||i.changeDecorationOptions(a,u.isFinalTabstop?t._decor.inactiveFinal:t._decor.inactive)}return e}));return l?this.move(i):d!==null&&d!==void 0?d:[]};t.prototype._hasPlaceholderBeenCollapsed=function(t){var i=t;for(;i;){if(i instanceof K0){var n=this._placeholderDecorations.get(i);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&i.toString().length>0)return!0}i=i.parent}return!1};Object.defineProperty(t.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isTrivialSnippet",{get:function(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){var t=this._snippet.placeholders[0];if(t.isFinalTabstop&&this._snippet.rightMostDescendant===t)return!0}return!1},enumerable:false,configurable:true});t.prototype.computePossibleSelections=function(){var t=new Map;for(var i=0,n=this._placeholderGroups;i<n.length;i++){var r=n[i];var e=void 0;for(var o=0,s=r;o<s.length;o++){var u=s[o];if(u.isFinalTabstop)break;e||(e=[],t.set(u.index,e));var a=this._placeholderDecorations.get(u),c=this._editor.getModel().getDecorationRange(a);if(!c){t.delete(u.index);break}e.push(c)}}return t};Object.defineProperty(t.prototype,"activeChoice",{get:function(){if(!this._placeholderDecorations)return;var t=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(t!=null&&t.choice))return;var i=this._placeholderDecorations.get(t);if(!i)return;var n=this._editor.getModel().getDecorationRange(i);return n?{range:n,choice:t.choice}:void 0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hasChoice",{get:function(){var t=!1;return this._snippet.walk((function(i){return t=i instanceof X0,!t})),t},enumerable:false,configurable:true});t.prototype.merge=function(i){var n=this;var r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(e){for(var o=0,s=n._placeholderGroups[n._placeholderGroupsIdx];o<s.length;o++){var u=s[o];var a=i.shift();console.assert(a._offset!==-1),console.assert(!a._placeholderDecorations);var c=a._snippet.placeholderInfo.last.index;for(var h=0,f=a._snippet.placeholderInfo.all;h<f.length;h++){var l=f[h];l.isFinalTabstop?l.index=u.index+(c+1)/n._nestingLevel:l.index=u.index+l.index/n._nestingLevel}n._snippet.replace(u,a._snippet.children);var d=n._placeholderDecorations.get(u);e.removeDecoration(d),n._placeholderDecorations.delete(u);for(var v=0,A=a._snippet.placeholders;v<A.length;v++){var l=A[v];var g=a._snippet.offset(l),w=a._snippet.fullLen(l),p=Zr.fromPositions(r.getPositionAt(a._offset+g),r.getPositionAt(a._offset+g+w)),m=e.addDecoration(p,t._decor.inactive);n._placeholderDecorations.set(l,m)}}n._placeholderGroups=I(n._snippet.placeholders,K0.compareByIndex)}))};return t}();xit._decor={active:iS.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:iS.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:iS.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:iS.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var Eit={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};var Bit=bit=function(){function t(t,i,n,r){if(n===void 0){n=Eit}this._editor=t,this._template=i,this._options=n,this._languageConfigurationService=r,this._templateMerges=[],this._snippets=[]}t.adjustWhitespace=function(t,i,n,r,e){var o=So(t.getLineContent(i.lineNumber),0,i.column-1);var s;return r.walk((function(i){if(!(i instanceof G0)||i.parent instanceof X0||e&&!e.has(i))return!0;var u=i.value.split(/\r\n|\r|\n/);if(n){var a=r.offset(i);if(a===0)u[0]=t.normalizeIndentation(u[0]);else{s=s!==null&&s!==void 0?s:r.toString();var c=s.charCodeAt(a-1);c!==10&&c!==13||(u[0]=t.normalizeIndentation(o+u[0]))}for(var c=1;c<u.length;c++)u[c]=t.normalizeIndentation(o+u[c])}var h=u.join(t.getEOL());return h!==i.value&&(i.parent.replace(i,[new G0(h)]),s=void 0),!0})),o};t.adjustSelection=function(t,i,n,r){if(n!==0||r!==0){var e=i.positionLineNumber,o=i.positionColumn,s=o-n,u=o+r,a=t.validateRange({startLineNumber:e,startColumn:s,endLineNumber:e,endColumn:u});i=$r.createWithDirection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn,i.getDirection())}return i};t.createEditsAndSnippetsFromSelections=function(t,i,n,r,e,o,s,u,a){var c=[],h=[];if(!t.hasModel())return{edits:c,snippets:h};var f=t.getModel(),l=t.invokeWithinContext((function(t){return t.get(sL)})),d=t.invokeWithinContext((function(t){return new vit(t.get(XT),f)})),v=function(){return s},A=f.getValueInRange(bit.adjustSelection(f,t.getSelection(),n,0)),g=f.getValueInRange(bit.adjustSelection(f,t.getSelection(),0,r)),w=f.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),p=t.getSelections().map((function(t,i){return{selection:t,idx:i}})).sort((function(t,i){return Zr.compareRangesUsingStarts(t.selection,i.selection)}));for(var m=0,b=p;m<b.length;m++){var y=b[m],k=y.selection,x=y.idx;var E=bit.adjustSelection(f,k,n,0),B=bit.adjustSelection(f,k,0,r);A!==f.getValueInRange(E)&&(E=k),g!==f.getValueInRange(B)&&(B=k);var C=k.setStartPosition(E.startLineNumber,E.startColumn).setEndPosition(B.endLineNumber,B.endColumn),D=(new n1).parse(i,!0,e),M=C.getStartPosition(),_=bit.adjustWhitespace(f,M,o||x>0&&w!==f.getLineFirstNonWhitespaceColumn(k.positionLineNumber),D);D.resolveVariables(new lit([d,new Ait(v,x,p.length,t.getOption(79)==="spread"),new dit(f,k,x,u),new git(f,k,a),new wit,new pit(l),new mit])),c[x]=BT.replace(C,D.toString()),c[x].identifier={major:x,minor:0},c[x]._isTracked=!0,h[x]=new xit(t,D,_)}return{edits:c,snippets:h}};t.createEditsAndSnippetsFromEdits=function(t,i,n,r,e,o,s){if(!t.hasModel()||i.length===0)return{edits:[],snippets:[]};var u=[],a=t.getModel(),c=new n1,h=new i1,f=new lit([t.invokeWithinContext((function(t){return new vit(t.get(XT),a)})),new Ait((function(){return e}),0,t.getSelections().length,t.getOption(79)==="spread"),new dit(a,t.getSelection(),0,o),new git(a,t.getSelection(),s),new wit,new pit(t.invokeWithinContext((function(t){return t.get(sL)}))),new mit]);i=i.sort((function(t,i){return Zr.compareRangesUsingStarts(t.range,i.range)}));var l=0;for(var d=0;d<i.length;d++){var v=i[d],A=v.range,g=v.template;if(d>0){var w=i[d-1].range,p=Zr.fromPositions(w.getEndPosition(),A.getStartPosition()),m=new G0(a.getValueInRange(p));h.appendChild(m),l+=m.value.length}var b=c.parseFragment(g,h);bit.adjustWhitespace(a,A.getStartPosition(),!0,h,new Set(b)),h.resolveVariables(f);var y=h.toString(),k=y.slice(l);l=y.length;var x=BT.replace(A,k);x.identifier={major:d,minor:0},x._isTracked=!0,u.push(x)}return c.ensureFinalTabstop(h,n,!0),{edits:u,snippets:[new xit(t,h,"")]}};t.prototype.dispose=function(){kn(this._snippets)};t.prototype._logInfo=function(){return'template="'.concat(this._template,'", merged_templates="').concat(this._templateMerges.join(" -> "),'"')};t.prototype.insert=function(){var t=this;if(!this._editor.hasModel())return;var i=typeof this._template=="string"?bit.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):bit.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService),n=i.edits,r=i.snippets;this._snippets=r,this._editor.executeEdits("snippet",n,(function(i){var n=i.filter((function(t){return!!t.identifier}));for(var e=0;e<r.length;e++)r[e].initialize(n[e].textChange);return t._snippets[0].hasPlaceholder?t._move(!0):n.map((function(t){return $r.fromPositions(t.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])};t.prototype.merge=function(t,i){var n=this;if(i===void 0){i=Eit}if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var r=bit.createEditsAndSnippetsFromSelections(this._editor,t,i.overwriteBefore,i.overwriteAfter,!0,i.adjustWhitespace,i.clipboardText,i.overtypingCapturer,this._languageConfigurationService),e=r.edits,o=r.snippets;this._editor.executeEdits("snippet",e,(function(t){var i=t.filter((function(t){return!!t.identifier}));for(var r=0;r<o.length;r++)o[r].initialize(i[r].textChange);var e=o[0].isTrivialSnippet;if(!e){for(var s=0,u=n._snippets;s<u.length;s++){var r=u[s];r.merge(o)}console.assert(o.length===0)}return n._snippets[0].hasPlaceholder&&!e?n._move(void 0):i.map((function(t){return $r.fromPositions(t.range.getEndPosition())}))}))};t.prototype.next=function(){var t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())};t.prototype.prev=function(){var t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())};t.prototype._move=function(t){var i=[];for(var n=0,r=this._snippets;n<r.length;n++){var e=r[n];var o=e.move(t);i.push.apply(i,o)}return i};Object.defineProperty(t.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"hasChoice",{get:function(){return this._snippets[0].hasChoice},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"activeChoice",{get:function(){return this._snippets[0].activeChoice},enumerable:false,configurable:true});t.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;var i=new Map;var n=function(n){var r=n.computePossibleSelections();if(i.size===0)for(var e=0,o=r;e<o.length;e++){var s=o[e],u=s[0],a=s[1];a.sort(Zr.compareRangesUsingStarts);for(var c=0,h=t;c<h.length;c++){var f=h[c];if(a[0].containsRange(f)){i.set(u,[]);break}}}if(i.size===0)return{value:!1};i.forEach((function(t,i){t.push.apply(t,r.get(i))}))};for(var r=0,e=this._snippets;r<e.length;r++){var o=e[r];var s=n(o);if(typeof s==="object")return s.value}t.sort(Zr.compareRangesUsingStarts);for(var u=0,a=i;u<a.length;u++){var c=a[u],o=c[0],h=c[1];if(h.length===t.length){h.sort(Zr.compareRangesUsingStarts);for(var f=0;f<h.length;f++)h[f].containsRange(t[f])||i.delete(o)}else i.delete(o)}return i.size>0};return t}();Bit=bit=yit([kit(3,jd)],Bit);var Cit,Dit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Mit=function(t,i){return function(n,r){i(n,r,t)}};var _it={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};var Fit=Cit=function(){function t(t,i,n,r,e){this._editor=t,this._logService=i,this._languageFeaturesService=n,this._languageConfigurationService=e,this._snippetListener=new Bn,this._modelVersionId=-1,this._inSnippet=Cit.InSnippetMode.bindTo(r),this._hasNextTabstop=Cit.HasNextTabstop.bindTo(r),this._hasPrevTabstop=Cit.HasPrevTabstop.bindTo(r)}t.get=function(t){return t.getContribution(Cit.ID)};t.prototype.dispose=function(){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(t=this._session)===null||t===void 0||t.dispose(),this._snippetListener.dispose()};t.prototype.insert=function(t,i){try{this._doInsert(t,i===void 0?_it:__assign(__assign({},_it),i))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",t),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}};t.prototype._doInsert=function(t,i){var n=this;var r;if(this._editor.hasModel()){if(this._snippetListener.clear(),i.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof t!="string"&&this.cancel(),this._session?(lt(typeof t=="string"),this._session.merge(t,i)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Bit(this._editor,t,i,this._languageConfigurationService),this._session.insert()),i.undoStopAfter&&this._editor.getModel().pushStackElement(),(r=this._session)===null||r===void 0?void 0:r.hasChoice){var e={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:function(t,i){if(!n._session||t!==n._editor.getModel()||!qr.equals(n._editor.getPosition(),i))return;var r=n._session.activeChoice;if(!r||r.choice.options.length===0)return;var e=t.getValueInRange(r.range),o=!!r.choice.options.find((function(t){return t.value===e})),s=[];for(var u=0;u<r.choice.options.length;u++){var a=r.choice.options[u];s.push({kind:13,label:a.value,insertText:a.value,sortText:"a".repeat(u+1),range:r.range,filterText:o?"".concat(e,"_").concat(a.value):void 0,command:{id:"jumpToNextSnippetPlaceholder",title:Bt(0,"Go to next placeholder...")}})}return{suggestions:s}}},o=this._editor.getModel();var s,u=!1;var a=function(){s==null||s.dispose(),u=!1},c=function(){u||(s=n._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},e),n._snippetListener.add(s),u=!0)};this._choiceCompletions={provider:e,enable:c,disable:a}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(t){return t.isFlush&&n.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return n.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return n._updateState()})))}};t.prototype._updateState=function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}};t.prototype._handleChoice=function(){var t=this;var i;if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);var n=this._session.activeChoice;if(!n||!this._choiceCompletions)return(i=this._choiceCompletions)===null||i===void 0||i.disable(),void(this._currentChoice=void 0);this._currentChoice!==n.choice&&(this._currentChoice=n.choice,this._choiceCompletions.enable(),queueMicrotask((function(){(function(t,i){var n;(n=t.getContribution("editor.contrib.suggestController"))===null||n===void 0||n.triggerSuggest((new Set).add(i),void 0,!0)})(t._editor,t._choiceCompletions.provider)})))};t.prototype.finish=function(){for(;this._inSnippet.get();)this.next()};t.prototype.cancel=function(t){if(t===void 0){t=!1}var i;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(i=this._session)===null||i===void 0||i.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])};t.prototype.prev=function(){var t;(t=this._session)===null||t===void 0||t.prev(),this._updateState()};t.prototype.next=function(){var t;(t=this._session)===null||t===void 0||t.next(),this._updateState()};t.prototype.isInSnippet=function(){return!!this._inSnippet.get()};return t}();Fit.ID="snippetController2",Fit.InSnippetMode=new cf("inSnippetMode",!1,Bt(0,"Whether the editor in current in snippet mode")),Fit.HasNextTabstop=new cf("hasNextTabstop",!1,Bt(0,"Whether there is a next tab stop when in snippet mode")),Fit.HasPrevTabstop=new cf("hasPrevTabstop",!1,Bt(0,"Whether there is a previous tab stop when in snippet mode")),Fit=Cit=Dit([Mit(1,Lf),Mit(2,gg),Mit(3,hf),Mit(4,jd)],Fit),il(Fit.ID,Fit,4);var Sit=Gf.bindToContribution(Fit.get);Zf(new Sit({id:"jumpToNextSnippetPlaceholder",precondition:Hh.and(Fit.InSnippetMode,Fit.HasNextTabstop),handler:function(t){return t.next()},kbOpts:{weight:130,kbExpr:hB.editorTextFocus,primary:2}})),Zf(new Sit({id:"jumpToPrevSnippetPlaceholder",precondition:Hh.and(Fit.InSnippetMode,Fit.HasPrevTabstop),handler:function(t){return t.prev()},kbOpts:{weight:130,kbExpr:hB.editorTextFocus,primary:1026}})),Zf(new Sit({id:"leaveSnippet",precondition:Fit.InSnippetMode,handler:function(t){return t.cancel(!0)},kbOpts:{weight:130,kbExpr:hB.editorTextFocus,primary:9,secondary:[1033]}})),Zf(new Sit({id:"acceptSnippet",precondition:Fit.InSnippetMode,handler:function(t){return t.finish()}}));var Iit,Qit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Oit=function(t,i){return function(n,r){i(n,r,t)}};(function(t){t[t.Undo=0]="Undo",t[t.Redo=1]="Redo",t[t.AcceptWord=2]="AcceptWord",t[t.Other=3]="Other"})(Iit||(Iit={}));var Nit=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c,h,f,l){var d=this;var v;d=t.call(this)||this,d.textModel=i,d.selectedSuggestItem=n,d.textModelVersionId=r,d._positions=e,d._debounceValue=o,d._suggestPreviewEnabled=s,d._suggestPreviewMode=u,d._inlineSuggestMode=a,d._enabled=c,d._instantiationService=h,d._commandService=f,d._languageConfigurationService=l,d._source=d._register(d._instantiationService.createInstance(Vtt,d.textModel,d.textModelVersionId,d._debounceValue)),d._isActive=mj(d,!1),d._forceUpdateSignal=zj("forceUpdate"),d._selectedInlineCompletionId=mj(d,void 0),d._primaryPosition=Ej(d,(function(t){var i;return(i=d._positions.read(t)[0])!==null&&i!==void 0?i:new qr(1,1)})),d._isAcceptingPartially=!1,d._preserveCurrentCompletionReasons=new Set([Iit.Redo,Iit.Undo,Iit.AcceptWord]),d._fetchInlineCompletions=function(t,i){var n;return new Mj(new ej(t.owner,t.debugName,void 0),i,t.createEmptyChangeSummary,t.handleChange,void 0,(n=t.equalityComparer)!==null&&n!==void 0?n:xj)}({owner:d,createEmptyChangeSummary:function(){return{preserveCurrentCompletion:!1,inlineCompletionTriggerKind:ce.Automatic}},handleChange:function(t,i){return t.didChange(d.textModelVersionId)&&d._preserveCurrentCompletionReasons.has(t.change)?i.preserveCurrentCompletion=!0:t.didChange(d._forceUpdateSignal)&&(i.inlineCompletionTriggerKind=t.change),!0}},(function(t,i){if(d._forceUpdateSignal.read(t),!(d._enabled.read(t)&&d.selectedSuggestItem.read(t)||d._isActive.read(t)))return void d._source.cancelUpdate();d.textModelVersionId.read(t);var n=d.selectedInlineCompletion.get(),r=i.preserveCurrentCompletion||n!=null&&n.forwardStable?n:void 0,e=d._source.suggestWidgetInlineCompletions.get(),o=d.selectedSuggestItem.read(t);if(e&&!o){var s=d._source.inlineCompletions.get();Aj((function(t){(!s||e.request.versionId>s.request.versionId)&&d._source.inlineCompletions.set(e.clone(),t),d._source.clearSuggestWidgetInlineCompletions(t)}))}var u=d._primaryPosition.read(t),a={triggerKind:i.inlineCompletionTriggerKind,selectedSuggestionInfo:o==null?void 0:o.toSelectedSuggestionInfo()};return d._source.fetch(u,a,r)})),d._filteredInlineCompletionItems=Ej(d,(function(t){var i=d._source.inlineCompletions.read(t);if(!i)return[];var n=d._primaryPosition.read(t);return i.inlineCompletions.filter((function(i){return i.isVisible(d.textModel,n,t)}))})),d.selectedInlineCompletionIndex=Ej(d,(function(t){var i=d._selectedInlineCompletionId.read(t),n=d._filteredInlineCompletionItems.read(t),r=d._selectedInlineCompletionId===void 0?-1:n.findIndex((function(t){return t.semanticId===i}));return r===-1?(d._selectedInlineCompletionId.set(void 0,void 0),0):r})),d.selectedInlineCompletion=Ej(d,(function(t){return d._filteredInlineCompletionItems.read(t)[d.selectedInlineCompletionIndex.read(t)]})),d.lastTriggerKind=d._source.inlineCompletions.map(d,(function(t){return t==null?void 0:t.request.context.triggerKind})),d.inlineCompletionsCount=Ej(d,(function(t){return d.lastTriggerKind.read(t)===ce.Explicit?d._filteredInlineCompletionItems.read(t).length:void 0})),d.state=Bj({owner:d,equalityComparer:function(t,i){return t&&i?ktt(t.ghostTexts,i.ghostTexts)&&t.inlineCompletion===i.inlineCompletion&&t.suggestItem===i.suggestItem:t===i}},(function(t){var i,n;var r=d.textModel,e=d.selectedSuggestItem.read(t);if(e){var o=ztt(e.toSingleTextEdit(),r),s=d._computeAugmentation(o,t);if(!d._suggestPreviewEnabled.read(t)&&!s)return;var u=(i=s==null?void 0:s.edit)!==null&&i!==void 0?i:o,a=s?s.edit.text.length-o.text.length:0,c=d._suggestPreviewMode.read(t),h=d._positions.read(t),f=__spreadArray([u],Rit(d.textModel,h,u),true),l=f.map((function(t,i){return Htt(t,r,c,h[i],a)})).filter(ht);return{edits:f,primaryGhostText:(n=l[0])!==null&&n!==void 0?n:new mtt(u.range.endLineNumber,[]),ghostTexts:l,inlineCompletion:s==null?void 0:s.completion,suggestItem:e}}{if(!d._isActive.read(t))return;var o=d.selectedInlineCompletion.read(t);if(!o)return;var s=o.toSingleTextEdit(t),v=d._inlineSuggestMode.read(t),A=d._positions.read(t),g=__spreadArray([s],Rit(d.textModel,A,s),true),w=g.map((function(t,i){return Htt(t,r,v,A[i],0)})).filter(ht);return w[0]?{edits:g,primaryGhostText:w[0],ghostTexts:w,inlineCompletion:o,suggestItem:void 0}:void 0}})),d.ghostTexts=Bj({owner:d,equalityComparer:ktt},(function(t){var i=d.state.read(t);if(i)return i.ghostTexts})),d.primaryGhostText=Bj({owner:d,equalityComparer:xtt},(function(t){var i=d.state.read(t);if(i)return i==null?void 0:i.primaryGhostText})),d._register(Hj(d._fetchInlineCompletions)),d._register(_j((function(t){var i,n;var r=d.state.read(t),e=r==null?void 0:r.inlineCompletion;if((e==null?void 0:e.semanticId)!==(v==null?void 0:v.semanticId)&&(v=e,e)){var o=e.inlineCompletion,s=o.source;(n=(i=s.provider).handleItemDidShow)===null||n===void 0||n.call(i,s.inlineCompletions,o.sourceInlineCompletion,o.insertText)}})));return d}Object.defineProperty(i.prototype,"isAcceptingPartially",{get:function(){return this._isAcceptingPartially},enumerable:false,configurable:true});i.prototype.trigger=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:this._isActive.set(!0,t);return[4,this._fetchInlineCompletions.get()];case 1:i.sent();return[2]}}))}))};i.prototype.triggerExplicitly=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){switch(n.label){case 0:wj(t,(function(t){i._isActive.set(!0,t),i._forceUpdateSignal.trigger(t,ce.Explicit)}));return[4,this._fetchInlineCompletions.get()];case 1:n.sent();return[2]}}))}))};i.prototype.stop=function(t){var i=this;wj(t,(function(t){i._isActive.set(!1,t),i._source.clear(t)}))};i.prototype._computeAugmentation=function(t,i){var n=this.textModel,r=this._source.suggestWidgetInlineCompletions.read(i);return function(t,i){for(var n=0,r=t;n<r.length;n++){var e=r[n];var o=i(e);if(o!==void 0)return o}}(r?r.inlineCompletions:[this.selectedInlineCompletion.read(i)].filter(ht),(function(r){var e=r.toSingleTextEdit(i);return e=ztt(e,n,Zr.fromPositions(e.range.getStartPosition(),t.range.getEndPosition())),Utt(e,t)?{completion:r,edit:e}:void 0}))};i.prototype._deltaSelectedInlineCompletionIndex=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.triggerExplicitly()];case 1:r.sent();i=this._filteredInlineCompletionItems.get()||[];if(i.length>0){n=(this.selectedInlineCompletionIndex.get()+t+i.length)%i.length;this._selectedInlineCompletionId.set(i[n].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0);return[2]}}))}))};i.prototype.next=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this._deltaSelectedInlineCompletionIndex(1)];case 1:t.sent();return[2]}}))}))};i.prototype.previous=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this._deltaSelectedInlineCompletionIndex(-1)];case 1:t.sent();return[2]}}))}))};i.prototype.accept=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s;var u;var a=this;return __generator(this,(function(c){switch(c.label){case 0:if(t.getModel()!==this.textModel)throw new mn;n=this.state.get();if(!n||n.primaryGhostText.isEmpty()||!n.inlineCompletion)return[2];r=n.inlineCompletion.toInlineCompletion(void 0);if(t.pushUndoStop(),r.snippetInfo)t.executeEdits("inlineSuggestion.accept",__spreadArray([BT.replaceMove(r.range,"")],r.additionalTextEdits,true)),t.setPosition(r.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(i=Fit.get(t))===null||i===void 0||i.insert(r.snippetInfo.snippet,{undoStopBefore:!1});else{e=n.edits,o=Tit(e).map((function(t){return $r.fromPositions(t)}));t.executeEdits("inlineSuggestion.accept",__spreadArray(__spreadArray([],e.map((function(t){return BT.replaceMove(t.range,t.text)})),true),r.additionalTextEdits,true)),t.setSelections(o,"inlineCompletionAccept")}r.command&&r.source.addRef(),Aj((function(t){a._source.clear(t),a._isActive.set(!1,t)}));s=r.command;if(!s)return[3,2];return[4,(u=this._commandService).executeCommand.apply(u,__spreadArray([r.command.id],r.command.arguments||[],false)).then(void 0,hn)];case 1:s=(c.sent(),r.source.removeRef());c.label=2;case 2:s;return[2]}}))}))};i.prototype.acceptNextWord=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){switch(n.label){case 0:return[4,this._acceptNext(t,(function(t,n){var r=i.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),e=i._languageConfigurationService.getLanguageConfiguration(r),o=new RegExp(e.wordDefinition.source,e.wordDefinition.flags.replace("g","")),s=n.match(o);var u=0;u=s&&s.index!==void 0?s.index===0?s[0].length:s.index:n.length;var a=/\s+/g.exec(n);return a&&a.index!==void 0&&a.index+a[0].length<u&&(u=a.index+a[0].length),u}),0)];case 1:n.sent();return[2]}}))}))};i.prototype.acceptNextLine=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,this._acceptNext(t,(function(t,i){var n=i.match(/\n/);return n&&n.index!==void 0?n.index+1:i.length}),1)];case 1:i.sent();return[2]}}))}))};i.prototype._acceptNext=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u,a,c,h,f,l,d,v,A,g,w,d,v;return __generator(this,(function(p){switch(p.label){case 0:if(t.getModel()!==this.textModel)throw new mn;r=this.state.get();if(!r||r.primaryGhostText.isEmpty()||!r.inlineCompletion)return[2];e=r.primaryGhostText,o=r.inlineCompletion.toInlineCompletion(void 0);if(!(o.snippetInfo||o.filterText!==o.insertText))return[3,2];return[4,this.accept(t)];case 1:return[2,void p.sent()];case 2:s=e.parts[0],u=new qr(e.lineNumber,s.column),a=s.text,c=i(u,a);if(c===a.length&&e.parts.length===1)return[2,void this.accept(t)];h=a.substring(0,c),f=this._positions.get(),l=f[0];o.source.addRef();try{this._isAcceptingPartially=!0;try{t.pushUndoStop();d=Zr.fromPositions(l,u),v=t.getModel().getValueInRange(d)+h,A=new VK(d,v),g=__spreadArray([A],Rit(this.textModel,f,A),true),w=Tit(g).map((function(t){return $r.fromPositions(t)}));t.executeEdits("inlineSuggestion.accept",g.map((function(t){return BT.replaceMove(t.range,t.text)}))),t.setSelections(w,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(o.source.provider.handlePartialAccept){d=Zr.fromPositions(o.range.getStartPosition(),QD.ofText(h).addToPosition(u)),v=t.getModel().getValueInRange(d,1);o.source.provider.handlePartialAccept(o.source.inlineCompletions,o.sourceInlineCompletion,v.length,{kind:n})}}finally{o.source.removeRef()}return[2]}}))}))};i.prototype.handleSuggestAccepted=function(t){var i,n;var r=ztt(t.toSingleTextEdit(),this.textModel),e=this._computeAugmentation(r,void 0);if(!e)return;var o=e.completion.inlineCompletion;(n=(i=o.source.provider).handlePartialAccept)===null||n===void 0||n.call(i,o.source.inlineCompletions,o.sourceInlineCompletion,r.text.length,{kind:2})};return i}(Cn);function Rit(t,i,n){if(i.length===1)return[];var r=i[0],e=i.slice(1),o=n.range.getStartPosition(),s=n.range.getEndPosition(),u=t.getValueInRange(Zr.fromPositions(r,s)),a=Dtt(r,o);if(a.lineNumber<1)return cn(new mn("positionWithinTextEdit line number should be bigger than 0.\n\t\t\tInvalid subtraction between ".concat(r.toString()," and ").concat(o.toString()))),[];var c=function(t,i){var n="";var r=function(t){var i;var n=[],r=t.split(/(\r\n|\r|\n)/);for(var e=0;e<Math.ceil(r.length/2);e++)n.push(r[2*e]+((i=r[2*e+1])!==null&&i!==void 0?i:""));return n}(t);for(var e=i.lineNumber-1;e<r.length;e++)n+=r[e].substring(e===i.lineNumber-1?i.column-1:0);return n}(n.text,a);return e.map((function(i){var n=(r=Dtt(i,o),e=s,new qr(r.lineNumber+e.lineNumber-1,e.lineNumber===1?r.column+e.column-1:e.column));var r,e;var a=t.getValueInRange(Zr.fromPositions(i,n)),h=Ho(u,a),f=Zr.fromPositions(i,i.delta(0,h));return new VK(f,c)}))}function Tit(t){var i=nt.createSortPermutation(t,(function(t,i){return Zr.compareRangesUsingStarts(t.range,i.range)})),n=new GK(i.apply(t)).getNewRanges();return i.inverse().apply(n).map((function(t){return t.getEndPosition()}))}Nit=Qit([Oit(9,fh),Oit(10,Eh),Oit(11,jd)],Nit);var Lit,jit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},zit=function(t,i){return function(n,r){i(n,r,t)}};var Uit=function(){function t(t){this.name=t}t.prototype.select=function(t,i,n){if(n.length===0)return 0;var r=n[0].score[0];for(var e=0;e<n.length;e++){var o=n[e],s=o.score,u=o.completion;if(s[0]!==r)break;if(u.preselect)return e}return 0};return t}();var Hit=function(t){__extends(i,t);function i(){return t.call(this,"first")||this}i.prototype.memorize=function(t,i,n){};i.prototype.toJSON=function(){};i.prototype.fromJSON=function(){};return i}(Uit);var Yit=Lit=function(){function t(t,i){var n=this;this._storageService=t,this._configService=i,this._disposables=new Bn,this._persistSoon=new qs((function(){return n._saveState()}),500),this._disposables.add(t.onWillSaveState((function(t){t.reason===jz.SHUTDOWN&&n._saveState()})))}t.prototype.dispose=function(){this._disposables.dispose(),this._persistSoon.dispose()};t.prototype.memorize=function(t,i,n){this._withStrategy(t,i).memorize(t,i,n),this._persistSoon.schedule()};t.prototype.select=function(t,i,n){return this._withStrategy(t,i).select(t,i,n)};t.prototype._withStrategy=function(t,i){var n;var r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(i.lineNumber,i.column),resource:t.uri});if(((n=this._strategy)===null||n===void 0?void 0:n.name)!==r){this._saveState();var e=Lit._strategyCtors.get(r)||Hit;this._strategy=new e;try{var o=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=this._storageService.get("".concat(Lit._storagePrefix,"/").concat(r),o);s&&this._strategy.fromJSON(JSON.parse(s))}catch(t){}}return this._strategy};t.prototype._saveState=function(){if(this._strategy){var t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store("".concat(Lit._storagePrefix,"/").concat(this._strategy.name),i,t,1)}};return t}();Yit._strategyCtors=new Map([["recentlyUsedByPrefix",function(t){__extends(i,t);function i(){var i=this;i=t.call(this,"recentlyUsedByPrefix")||this,i._trie=oL.forStrings(),i._seq=0;return i}i.prototype.memorize=function(t,i,n){var r=t.getWordUntilPosition(i).word,e="".concat(t.getLanguageId(),"/").concat(r);this._trie.set(e,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})};i.prototype.select=function(i,n,r){var e=i.getWordUntilPosition(n).word;if(!e)return t.prototype.select.call(this,i,n,r);var o="".concat(i.getLanguageId(),"/").concat(e);var s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(var u=0;u<r.length;u++){var a=r[u].completion,c=a.kind,h=a.insertText;if(c===s.type&&h===s.insertText)return u}return t.prototype.select.call(this,i,n,r)};i.prototype.toJSON=function(){var t=[];return this._trie.forEach((function(i,n){return t.push([n,i])})),t.sort((function(t,i){return-(t[1].touch-i[1].touch)})).forEach((function(t,i){return t[1].touch=i})),t.slice(0,200)};i.prototype.fromJSON=function(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(var i=0,n=t;i<n.length;i++){var r=n[i],e=r[0],o=r[1];o.type=typeof o.type=="number"?o.type:ae.fromString(o.type),this._trie.set(e,o)}}};return i}(Uit)],["recentlyUsed",function(t){__extends(i,t);function i(){var i=this;i=t.call(this,"recentlyUsed")||this,i._cache=new xv(300,.66),i._seq=0;return i}i.prototype.memorize=function(t,i,n){var r="".concat(t.getLanguageId(),"/").concat(n.textLabel);this._cache.set(r,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})};i.prototype.select=function(i,n,r){if(r.length===0)return 0;var e=i.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(e))return t.prototype.select.call(this,i,n,r);var o=r[0].score[0];var s=-1,u=-1,a=-1;for(var c=0;c<r.length&&r[c].score[0]===o;c++){var h="".concat(i.getLanguageId(),"/").concat(r[c].textLabel),f=this._cache.peek(h);if(f&&f.touch>a&&f.type===r[c].completion.kind&&f.insertText===r[c].completion.insertText&&(a=f.touch,u=c),r[c].completion.preselect&&s===-1)return c}return u!==-1?u:s!==-1?s:0};i.prototype.toJSON=function(){return this._cache.toJSON()};i.prototype.fromJSON=function(t){this._cache.clear();for(var i=0,n=t;i<n.length;i++){var r=n[i],e=r[0],o=r[1];o.touch=0,o.type=typeof o.type=="number"?o.type:ae.fromString(o.type),this._cache.set(e,o)}this._seq=this._cache.size};return i}(Uit)],["first",Hit]]),Yit._storagePrefix="suggest/memories",Yit=Lit=jit([zit(0,Lz),zit(1,sd)],Yit);var Jit=lh("ISuggestMemories");Ad(Jit,Yit,1);var Pit,Wit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Git=function(t,i){return function(n,r){i(n,r,t)}};var Vit=Pit=function(){function t(i,n){var r=this;this._editor=i,this._enabled=!1,this._ckAtEnd=t.AtEnd.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration((function(t){return t.hasChanged(123)&&r._update()})),this._update()}t.prototype.dispose=function(){var t;this._configListener.dispose(),(t=this._selectionListener)===null||t===void 0||t.dispose(),this._ckAtEnd.reset()};t.prototype._update=function(){var t=this;var i=this._editor.getOption(123)==="on";if(this._enabled!==i)if(this._enabled=i,this._enabled){var n=function(){if(!t._editor.hasModel())return void t._ckAtEnd.set(!1);var i=t._editor.getModel(),n=t._editor.getSelection(),r=i.getWordAtPosition(n.getStartPosition());r?t._ckAtEnd.set(r.endColumn===n.getStartPosition().column):t._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(n),n()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)};return t}();Vit.AtEnd=new cf("atEndOfWord",!1),Vit=Pit=Wit([Git(1,hf)],Vit);var Kit,Xit=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},qit=function(t,i){return function(n,r){i(n,r,t)}};var Zit=Kit=function(){function t(i,n){this._editor=i,this._index=0,this._ckOtherSuggestions=t.OtherSuggestions.bindTo(n)}t.prototype.dispose=function(){this.reset()};t.prototype.reset=function(){var t;this._ckOtherSuggestions.reset(),(t=this._listener)===null||t===void 0||t.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1};t.prototype.set=function(i,n){var r=this;var e=i.model,o=i.index;if(e.items.length===0)return void this.reset();t._moveIndex(!0,e,o)!==o?(this._acceptNext=n,this._model=e,this._index=o,this._listener=this._editor.onDidChangeCursorPosition((function(){r._ignore||r.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()};t._moveIndex=function(t,i,n){var r=n;for(var e=i.items.length;e>0&&(r=(r+i.items.length+(t?1:-1))%i.items.length,r!==n)&&i.items[r].completion.additionalTextEdits;e--);return r};t.prototype.next=function(){this._move(!0)};t.prototype.prev=function(){this._move(!1)};t.prototype._move=function(i){if(this._model)try{this._ignore=!0,this._index=t._moveIndex(i,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}};return t}();Zit.OtherSuggestions=new cf("hasOtherSuggestions",!1),Zit=Kit=Xit([qit(1,hf)],Zit);var $it=function(){function t(t,i,n,r){var e=this;this._disposables=new Bn,this._disposables.add(n.onDidSuggest((function(t){t.completionModel.items.length===0&&e.reset()}))),this._disposables.add(n.onDidCancel((function(t){e.reset()}))),this._disposables.add(i.onDidShow((function(){return e._onItem(i.getFocusedItem())}))),this._disposables.add(i.onDidFocus(this._onItem,this)),this._disposables.add(i.onDidHide(this.reset,this)),this._disposables.add(t.onWillType((function(o){if(e._active&&!i.isFrozen()&&n.state!==0){var s=o.charCodeAt(o.length-1);e._active.acceptCharacters.has(s)&&t.getOption(0)&&r(e._active.item)}})))}t.prototype._onItem=function(t){if(!t||!L(t.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===t.item)return;var i=new fv;for(var n=0,r=t.item.completion.commitCharacters;n<r.length;n++){var e=r[n];e.length>0&&i.add(e.charCodeAt(0))}this._active={acceptCharacters:i,item:t}};t.prototype.reset=function(){this._active=void 0};t.prototype.dispose=function(){this._disposables.dispose()};return t}();var tnt=function(){function t(){}t.prototype.provideSelectionRanges=function(i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:r=[];e=function(n){var e,o;return __generator(this,(function(s){switch(s.label){case 0:e=[];r.push(e);o=new Map;return[4,new Promise((function(r){return t._bracketsRightYield(r,0,i,n,o)}))];case 1:s.sent();return[4,new Promise((function(r){return t._bracketsLeftYield(r,0,i,n,o,e)}))];case 2:s.sent();return[2]}}))};o=0,s=n;a.label=1;case 1:if(!(o<s.length))return[3,4];u=s[o];return[5,e(u)];case 2:a.sent();a.label=3;case 3:o++;return[3,1];case 4:return[2,r]}}))}))};t._bracketsRightYield=function(i,n,r,e,o){var s=new Map,u=Date.now();for(;;){if(n>=t._maxRounds){i();break}if(!e){i();break}var a=r.bracketPairs.findNextBracket(e);if(!a){i();break}if(Date.now()-u>t._maxDuration){setTimeout((function(){return t._bracketsRightYield(i,n+1,r,e,o)}));break}if(a.bracketInfo.isOpeningBracket){var c=a.bracketInfo.bracketText,h=s.has(c)?s.get(c):0;s.set(c,h+1)}else{var c=a.bracketInfo.getOpeningBrackets()[0].bracketText;var f=s.has(c)?s.get(c):0;if(f-=1,s.set(c,Math.max(0,f)),f<0){var l=o.get(c);l||(l=new gi,o.set(c,l)),l.push(a.range)}}e=a.range.getEndPosition()}};t._bracketsLeftYield=function(i,n,r,e,o,s){var u=new Map,a=Date.now();for(;;){if(n>=t._maxRounds&&o.size===0){i();break}if(!e){i();break}var c=r.bracketPairs.findPrevBracket(e);if(!c){i();break}if(Date.now()-a>t._maxDuration){setTimeout((function(){return t._bracketsLeftYield(i,n+1,r,e,o,s)}));break}if(c.bracketInfo.isOpeningBracket){var h=c.bracketInfo.bracketText;var f=u.has(h)?u.get(h):0;if(f-=1,u.set(h,Math.max(0,f)),f<0){var l=o.get(h);if(l){var d=l.shift();l.size===0&&o.delete(h);var v=Zr.fromPositions(c.range.getEndPosition(),d.getStartPosition()),A=Zr.fromPositions(c.range.getStartPosition(),d.getEndPosition());s.push({range:v}),s.push({range:A}),t._addBracketLeading(r,A,s)}}}else{var g=c.bracketInfo.getOpeningBrackets()[0].bracketText,f=u.has(g)?u.get(g):0;u.set(g,f+1)}e=c.range.getStartPosition()}};t._addBracketLeading=function(t,i,n){if(i.startLineNumber===i.endLineNumber)return;var r=i.startLineNumber,e=t.getLineFirstNonWhitespaceColumn(r);e!==0&&e!==i.startColumn&&(n.push({range:Zr.fromPositions(new qr(r,e),i.getEndPosition())}),n.push({range:Zr.fromPositions(new qr(r,1),i.getEndPosition())}));var o=r-1;if(o>0){var s=t.getLineFirstNonWhitespaceColumn(o);s===i.startColumn&&s!==t.getLineLastNonWhitespaceColumn(o)&&(n.push({range:Zr.fromPositions(new qr(o,s),i.getEndPosition())}),n.push({range:Zr.fromPositions(new qr(o,1),i.getEndPosition())}))}};return t}();tnt._maxDuration=30,tnt._maxRounds=2;var int=function(){function t(){}t.create=function(i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:if(!n.getOption(118).localityBonus||!n.hasModel())return[2,t.None];r=n.getModel(),e=n.getPosition();if(!i.canComputeWordRanges(r.uri))return[2,t.None];return[4,(new tnt).provideSelectionRanges(r,[e])];case 1:o=a.sent()[0];if(o.length===0)return[2,t.None];return[4,i.computeWordRanges(r.uri,o[0].range)];case 2:s=a.sent();if(!s)return[2,t.None];u=r.getWordUntilPosition(e);return[2,(delete s[u.word],new(function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.distance=function(t,i){if(!e.equals(n.getPosition()))return 0;if(i.kind===17)return 2<<20;var r=typeof i.label=="string"?i.label:i.label.label,u=s[r];if(T(u))return 2<<20;var a=F(u,Zr.fromPositions(t),Zr.compareRangesUsingStarts),c=a>=0?u[a]:u[Math.max(0,~a-1)];var h=o.length;for(var f=0,l=o;f<l.length;f++){var d=l[f];if(!Zr.containsRange(d.range,c))break;h-=1}return h};return i}(t)))]}}))}))};return t}();int.None=new(function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.distance=function(){return 0};return i}(int));var nnt=function(){function t(t,i){this.leadingLineContent=t,this.characterCountDelta=i}return t}();var rnt=function(){function t(i,n,r,e,o,s,u,a){if(u===void 0){u=GN.default}if(a===void 0){a=void 0}this.clipboardText=a,this._snippetCompareFn=t._compareCompletionItems,this._items=i,this._column=n,this._wordDistance=e,this._options=o,this._refilterKind=1,this._lineContext=r,this._fuzzyScoreOptions=u,s==="top"?this._snippetCompareFn=t._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=t._compareCompletionItemsSnippetsDown)}Object.defineProperty(t.prototype,"lineContext",{get:function(){return this._lineContext},set:function(t){this._lineContext.leadingLineContent===t.leadingLineContent&&this._lineContext.characterCountDelta===t.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:false,configurable:true});t.prototype.getItemsByProvider=function(){return this._ensureCachedState(),this._itemsByProvider};t.prototype.getIncompleteProvider=function(){this._ensureCachedState();var t=new Set;for(var i=0,n=this.getItemsByProvider();i<n.length;i++){var r=n[i],e=r[0],o=r[1];o.length>0&&o[0].container.incomplete&&t.add(e)}return t};Object.defineProperty(t.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:false,configurable:true});t.prototype._ensureCachedState=function(){this._refilterKind!==0&&this._createCachedState()};t.prototype._createCachedState=function(){this._itemsByProvider=new Map;var t=[],i=this._lineContext,n=i.leadingLineContent,r=i.characterCountDelta;var e="",o="";var s=this._refilterKind===1?this._items:this._filteredItems,u=[],a=!this._options.filterGraceful||s.length>2e3?VN:XN;for(var c=0;c<s.length;c++){var h=s[c];if(h.isInvalid)continue;var f=this._itemsByProvider.get(h.provider);f?f.push(h):this._itemsByProvider.set(h.provider,[h]);var l=h.position.column-h.editStart.column,d=l+r-(h.position.column-this._column);if(e.length!==d&&(e=d===0?"":n.slice(-d),o=e.toLowerCase()),h.word=e,d===0)h.score=WN.Default;else{var v=0;for(;v<l;){var A=e.charCodeAt(v);if(A!==32&&A!==9)break;v+=1}if(v>=d)h.score=WN.Default;else if(typeof h.completion.filterText=="string"){var A=a(e,o,v,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!A)continue;No(h.completion.filterText,h.textLabel)===0?h.score=A:(h.score=QN(e,o,v,h.textLabel,h.labelLow,0),h.score[0]=A[0])}else{var A=a(e,o,v,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!A)continue;h.score=A}}h.idx=c,h.distance=this._wordDistance.distance(h.position,h.completion),u.push(h),t.push(h.textLabel.length)}this._filteredItems=u.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:t.length?S(t.length-.85,t,(function(t,i){return t-i})):0}};t._compareCompletionItems=function(t,i){return t.score[0]>i.score[0]?-1:t.score[0]<i.score[0]?1:t.distance<i.distance?-1:t.distance>i.distance?1:t.idx<i.idx?-1:t.idx>i.idx?1:0};t._compareCompletionItemsSnippetsDown=function(i,n){if(i.completion.kind!==n.completion.kind){if(i.completion.kind===27)return 1;if(n.completion.kind===27)return-1}return t._compareCompletionItems(i,n)};t._compareCompletionItemsSnippetsUp=function(i,n){if(i.completion.kind!==n.completion.kind){if(i.completion.kind===27)return-1;if(n.completion.kind===27)return 1}return t._compareCompletionItems(i,n)};return t}();var ent,ont=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},snt=function(t,i){return function(n,r){i(n,r,t)}};var unt=function(){function t(t,i,n){this.leadingLineContent=t.getLineContent(i.lineNumber).substr(0,i.column-1),this.leadingWord=t.getWordUntilPosition(i),this.lineNumber=i.lineNumber,this.column=i.column,this.triggerOptions=n}t.shouldAutoTrigger=function(t){if(!t.hasModel())return!1;var i=t.getModel(),n=t.getPosition();i.tokenization.tokenizeIfCheap(n.lineNumber);var r=i.getWordAtPosition(n);return!!r&&(r.endColumn===n.column||r.startColumn+1===n.column)&&!!isNaN(Number(r.word))};return t}();var ant=ent=function(){function t(t,i,n,r,e,o,s,u,a){var c=this;this._editor=t,this._editorWorkerService=i,this._clipboardService=n,this._telemetryService=r,this._logService=e,this._contextKeyService=o,this._configurationService=s,this._languageFeaturesService=u,this._envService=a,this._toDispose=new Bn,this._triggerCharacterListener=new Bn,this._triggerQuickSuggest=new Ks,this._triggerState=void 0,this._completionDisposables=new Bn,this._onDidCancel=new Ln,this._onDidTrigger=new Ln,this._onDidSuggest=new Ln,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new $r(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){c._updateTriggerCharacters(),c.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){c._updateTriggerCharacters(),c.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){c._updateTriggerCharacters()}))),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange((function(){c._updateTriggerCharacters(),c._updateActiveSuggestSession()})));var h=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){h=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){h=!1,c._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(t){h||c._onCursorChange(t)}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){h||c._triggerState===void 0||c._refilterCompletionItems()}))),this._updateTriggerCharacters()}t.prototype.dispose=function(){kn(this._triggerCharacterListener),kn([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()};t.prototype._updateTriggerCharacters=function(){var t=this;if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;var i=new Map;for(var n=0,r=this._languageFeaturesService.completionProvider.all(this._editor.getModel());n<r.length;n++){var e=r[n];for(var o=0,s=e.triggerCharacters||[];o<s.length;o++){var u=s[o];var a=i.get(u);a||(a=new Set,a.add(void 0),i.set(u,a)),a.add(e)}}var c=function(n){var r;if(!function(t,i,n){if(!i.getContextKeyValue("inlineSuggestionVisible"))return!0;var r=i.getContextKeyValue(ptt.suppressSuggestions.key);return r!==void 0?!r:!t.getOption(62).suppressSuggestions}(t._editor,t._contextKeyService)||unt.shouldAutoTrigger(t._editor))return;if(!n){var e=t._editor.getPosition();n=t._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}var o="";Po(n.charCodeAt(n.length-1))?Jo(n.charCodeAt(n.length-2))&&(o=n.substr(n.length-2)):o=n.charAt(n.length-1);var s=i.get(o);if(s){var e=new Map;if(t._completionModel)for(var u=0,a=t._completionModel.getItemsByProvider();u<a.length;u++){var c=a[u],h=c[0],f=c[1];s.has(h)||e.set(h,f)}t.trigger({auto:!0,triggerKind:1,triggerCharacter:o,retrigger:!!t._completionModel,clipboardText:(r=t._completionModel)===null||r===void 0?void 0:r.clipboardText,completionOptions:{providerFilter:s,providerItemsToReuse:e}})}};this._triggerCharacterListener.add(this._editor.onDidType(c)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd((function(){return c()})))};Object.defineProperty(t.prototype,"state",{get:function(){return this._triggerState?this._triggerState.auto?2:1:0},enumerable:false,configurable:true});t.prototype.cancel=function(t){if(t===void 0){t=!1}var i;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(i=this._requestToken)===null||i===void 0||i.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))};t.prototype.clear=function(){this._completionDisposables.clear()};t.prototype._updateActiveSuggestSession=function(){this._triggerState!==void 0&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:this._triggerState.auto,retrigger:!0}):this.cancel())};t.prototype._onCursorChange=function(t){if(!this._editor.hasModel())return;var i=this._currentSelection;this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||t.reason!==0&&t.reason!==3||t.source!=="keyboard"&&t.source!=="deleteLeft"?this.cancel():this._triggerState===void 0&&t.reason===0?(i.containsRange(this._currentSelection)||i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&t.reason===3&&this._refilterCompletionItems()};t.prototype._onCompositionEnd=function(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()};t.prototype._doTriggerQuickSuggest=function(){var t=this;var i;ait.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((i=Fit.get(this._editor))===null||i===void 0)&&i.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(t._triggerState!==void 0||!unt.shouldAutoTrigger(t._editor)||!t._editor.hasModel()||!t._editor.hasWidgetFocus())return;var i=t._editor.getModel(),n=t._editor.getPosition(),r=t._editor.getOption(89);if(!ait.isAllOff(r)){if(!ait.isAllOn(r)){i.tokenization.tokenizeIfCheap(n.lineNumber);var e=i.tokenization.getLineTokens(n.lineNumber),o=e.getStandardTokenType(e.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(ait.valueFor(r,o)!=="on")return}(function(t,i,n){if(!i.getContextKeyValue(ptt.inlineSuggestionVisible.key))return!0;var r=i.getContextKeyValue(ptt.suppressSuggestions.key);return r!==void 0?!r:!t.getOption(62).suppressSuggestions})(t._editor,t._contextKeyService)&&t._languageFeaturesService.completionProvider.has(i)&&t.trigger({auto:!0})}}),this._editor.getOption(90)))};t.prototype._refilterCompletionItems=function(){lt(this._editor.hasModel()),lt(this._triggerState!==void 0);var t=this._editor.getModel(),i=this._editor.getPosition(),n=new unt(t,i,__assign(__assign({},this._triggerState),{refilter:!0}));this._onNewContext(n)};t.prototype.trigger=function(t){var i=this;var n,r,e,o,s,u;if(!this._editor.hasModel())return;var a=this._editor.getModel(),c=new unt(a,this._editor.getPosition(),t);this.cancel(t.retrigger),this._triggerState=t,this._onDidTrigger.fire({auto:t.auto,shy:(n=t.shy)!==null&&n!==void 0&&n,position:this._editor.getPosition()}),this._context=c;var h={triggerKind:(r=t.triggerKind)!==null&&r!==void 0?r:0};t.triggerCharacter&&(h={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new Kn;var f=1;switch(this._editor.getOption(112)){case"top":f=0;break;case"bottom":f=2}var l=ent.createSuggestFilter(this._editor),d=l.itemKind,v=l.showDeprecated,A=new rit(f,(o=(e=t.completionOptions)===null||e===void 0?void 0:e.kindFilter)!==null&&o!==void 0?o:d,(s=t.completionOptions)===null||s===void 0?void 0:s.providerFilter,(u=t.completionOptions)===null||u===void 0?void 0:u.providerItemsToReuse,v),g=int.create(this._editorWorkerService,this._editor),w=oit(this._languageFeaturesService.completionProvider,a,this._editor.getPosition(),A,h,this._requestToken.token);Promise.all([w,g]).then((function(n){return __awaiter(i,[n],void 0,(function(i){var n,r,e,o,s,u,a,c,h;var f=i[0],l=i[1];return __generator(this,(function(i){switch(i.label){case 0:if((n=this._requestToken)===null||n===void 0||n.dispose(),!this._editor.hasModel())return[2];r=t==null?void 0:t.clipboardText;e=!r&&f.needsClipboard;if(!e)return[3,2];return[4,this._clipboardService.readText()];case 1:e=r=i.sent();i.label=2;case 2:if(e,this._triggerState===void 0)return[2];o=this._editor.getModel(),s=new unt(o,this._editor.getPosition(),t),u=__assign(__assign({},GN.default),{firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly});if(this._completionModel=new rnt(f.items,this._context.column,{leadingLineContent:s.leadingLineContent,characterCountDelta:s.column-this._context.column},l,this._editor.getOption(118),this._editor.getOption(112),u,r),this._completionDisposables.add(f.disposable),this._onNewContext(s),this._reportDurationsTelemetry(f.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(a=0,c=f.items;a<c.length;a++){h=c[a];h.isInvalid&&this._logService.warn("[suggest] did IGNORE invalid completion item from ".concat(h.provider._debugDisplayName),h.completion)}return[2]}}))}))})).catch(cn)};t.prototype._reportDurationsTelemetry=function(t){var i=this;this._telemetryGate++%230==0&&setTimeout((function(){i._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(t)}),i._logService.debug("suggest.durations.json",t)}))};t.createSuggestFilter=function(t){var i=new Set;t.getOption(112)==="none"&&i.add(27);var n=t.getOption(118);return n.showMethods||i.add(0),n.showFunctions||i.add(1),n.showConstructors||i.add(2),n.showFields||i.add(3),n.showVariables||i.add(4),n.showClasses||i.add(5),n.showStructs||i.add(6),n.showInterfaces||i.add(7),n.showModules||i.add(8),n.showProperties||i.add(9),n.showEvents||i.add(10),n.showOperators||i.add(11),n.showUnits||i.add(12),n.showValues||i.add(13),n.showConstants||i.add(14),n.showEnums||i.add(15),n.showEnumMembers||i.add(16),n.showKeywords||i.add(17),n.showWords||i.add(18),n.showColors||i.add(19),n.showFiles||i.add(20),n.showReferences||i.add(21),n.showColors||i.add(22),n.showFolders||i.add(23),n.showTypeParameters||i.add(24),n.showSnippets||i.add(27),n.showUsers||i.add(25),n.showIssues||i.add(26),{itemKind:i,showDeprecated:n.showDeprecated}};t.prototype._onNewContext=function(t){if(this._context)if(t.lineNumber===this._context.lineNumber)if(So(t.leadingLineContent)===So(this._context.leadingLineContent)){if(t.column<this._context.column)t.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();else if(this._completionModel)if(t.leadingWord.word.length!==0&&t.leadingWord.startColumn>this._context.leadingWord.startColumn){if(unt.shouldAutoTrigger(this._editor)&&this._context){var i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}}else if(t.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&t.leadingWord.word.length!==0){var i=new Map,n=new Set;for(var r=0,e=this._completionModel.getItemsByProvider();r<e.length;r++){var o=e[r],s=o[0],u=o[1];u.length>0&&u[0].container.incomplete?n.add(s):i.set(s,u)}this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:n,providerItemsToReuse:i}})}else{var i=this._completionModel.lineContext;var n=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},this._completionModel.items.length===0){var s=unt.shouldAutoTrigger(this._editor);if(!this._context)return void this.cancel();if(s&&this._context.leadingWord.endColumn<t.leadingWord.startColumn)return void this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});if(this._context.triggerOptions.auto)return void this.cancel();if(this._completionModel.lineContext=i,n=this._completionModel.items.length>0,n&&t.leadingWord.word.length===0)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:t.triggerOptions,isFrozen:n})}}else this.cancel();else this.cancel()};return t}();ant=ent=ont([snt(1,FU),snt(2,uG),snt(3,Tf),snt(4,Lf),snt(5,hf),snt(6,sd),snt(7,gg),snt(8,TQ)],ant);var cnt=function(){function t(i,n){var r=this;this._disposables=new Bn,this._lastOvertyped=[],this._locked=!1,this._disposables.add(i.onWillType((function(){if(r._locked||!i.hasModel())return;var n=i.getSelections(),e=n.length;var o=!1;for(var s=0;s<e;s++)if(!n[s].isEmpty()){o=!0;break}if(!o)return void(r._lastOvertyped.length!==0&&(r._lastOvertyped.length=0));r._lastOvertyped=[];var u=i.getModel();for(var s=0;s<e;s++){var a=n[s];if(u.getValueLengthInRange(a)>t._maxSelectionLength)return;r._lastOvertyped[s]={value:u.getValueInRange(a),multiline:a.startLineNumber!==a.endLineNumber}}}))),this._disposables.add(n.onDidTrigger((function(t){r._locked=!0}))),this._disposables.add(n.onDidCancel((function(t){r._locked=!1})))}t.prototype.getLastOvertypedInfo=function(t){if(t>=0&&t<this._lastOvertyped.length)return this._lastOvertyped[t]};t.prototype.dispose=function(){this._disposables.dispose()};return t}();cnt._maxSelectionLength=51200;var hnt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},fnt=function(t,i){return function(n,r){i(n,r,t)}};var lnt=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.updateLabel=function(){var n=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!n)return t.prototype.updateLabel.call(this);this.label&&(this.label.textContent=Bt(0,"{0} ({1})",this._action.label,i.symbolPrintEnter(n)))};i.symbolPrintEnter=function(t){var i;return(i=t.getLabel())===null||i===void 0?void 0:i.replace(/\benter\b/gi,"⏎")};return i}(eU),dnt=function(){function t(t,i,n,r,e){this._menuId=i,this._menuService=r,this._contextKeyService=e,this._menuDisposables=new Bn,this.element=_c(t,Nc(".suggest-status-bar"));var o=function(t){return t instanceof Of?n.createInstance(lnt,t,void 0):void 0};this._leftActions=new cU(this.element,{actionViewItemProvider:o}),this._rightActions=new cU(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}t.prototype.dispose=function(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()};t.prototype.show=function(){var t=this;var i=this._menuService.createMenu(this._menuId,this._contextKeyService),n=function(){var n=[],r=[];for(var e=0,o=i.getActions();e<o.length;e++){var s=o[e],u=s[0],a=s[1];u==="left"?n.push.apply(n,a):r.push.apply(r,a)}t._leftActions.clear(),t._leftActions.push(n),t._rightActions.clear(),t._rightActions.push(r)};this._menuDisposables.add(i.onDidChange((function(){return n()}))),this._menuDisposables.add(i)};t.prototype.hide=function(){this._menuDisposables.clear()};return t}();dnt=hnt([fnt(2,fh),fnt(3,Ff),fnt(4,hf)],dnt);var vnt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Ant=function(t,i){return function(n,r){i(n,r,t)}};function gnt(t){return!!t&&!!(t.completion.documentation||t.completion.detail&&t.completion.detail!==t.completion.label)}var wnt=function(){function t(t,i){var n=this;this._editor=t,this._onDidClose=new Ln,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Ln,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Bn,this._renderDisposeable=new Bn,this._borderWidth=1,this._size=new Ga(330,0),this.domNode=Nc(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=i.createInstance(JR,{editor:t}),this._body=Nc(".body"),this._scrollbar=new Rk(this._body,{alwaysConsumeMouseWheel:!0}),_c(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=_c(this._body,Nc(".header")),this._close=_c(this._header,Nc("span"+xh.asCSSSelector(re.close))),this._close.title=Bt(0,"Close"),this._type=_c(this._header,Nc("p.type")),this._docs=_c(this._body,Nc("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((function(t){t.hasChanged(50)&&n._configureFont()})))}t.prototype.dispose=function(){this._disposables.dispose(),this._renderDisposeable.dispose()};t.prototype._configureFont=function(){var t=this._editor.getOptions(),i=t.get(50),n=i.getMassagedFontFamily(),r=t.get(119)||i.fontSize,e=t.get(120)||i.lineHeight,o=i.fontWeight,s="".concat(r,"px"),u="".concat(e,"px");this.domNode.style.fontSize=s,this.domNode.style.lineHeight=""+e/r,this.domNode.style.fontWeight=o,this.domNode.style.fontFeatureSettings=i.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=u,this._close.style.width=u};t.prototype.getLayoutInfo=function(){var t=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,i=this._borderWidth;return{lineHeight:t,borderWidth:i,borderHeight:2*i,verticalPadding:22,horizontalPadding:14}};t.prototype.renderLoading=function(){this._type.textContent=Bt(0,"Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)};t.prototype.renderItem=function(t,i){var n=this;var r,e;this._renderDisposeable.clear();var o=t.completion,s=o.detail,u=o.documentation;if(i){var a="";a+="score: ".concat(t.score[0],"\n"),a+="prefix: ".concat((r=t.word)!==null&&r!==void 0?r:"(no prefix)","\n"),a+="word: ".concat(t.completion.filterText?t.completion.filterText+" (filterText)":t.textLabel,"\n"),a+="distance: ".concat(t.distance," (localityBonus-setting)\n"),a+="index: ".concat(t.idx,", based on ").concat(t.completion.sortText&&'sortText: "'.concat(t.completion.sortText,'"')||"label","\n"),a+="commit_chars: ".concat((e=t.completion.commitCharacters)===null||e===void 0?void 0:e.join(""),"\n"),u=(new uR).appendCodeblock("empty",a),s="Provider: ".concat(t.provider._debugDisplayName)}if(i||gnt(t)){if(this.domNode.classList.remove("no-docs","no-type"),s){var a=s.length>1e5?"".concat(s.substr(0,1e5),"…"):s;this._type.textContent=a,this._type.title=a,Rc(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(a))}else Ia(this._type),this._type.title="",Tc(this._type),this.domNode.classList.add("no-type");if(Ia(this._docs),typeof u=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=u;else if(u){this._docs.classList.add("markdown-docs"),Ia(this._docs);var a=this._markdownRenderer.render(u);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((function(){n.layout(n._size.width,n._type.clientHeight+n._docs.clientHeight),n._onDidChangeContents.fire(n)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=function(t){t.preventDefault(),t.stopPropagation()},this._close.onclick=function(t){t.preventDefault(),t.stopPropagation(),n._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()};t.prototype.clearContents=function(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""};Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.domNode.classList.contains("no-docs")},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});t.prototype.layout=function(t,i){var n=new Ga(t,i);Ga.equals(n,this._size)||(this._size=n,function(t,i,n){typeof i=="number"&&(t.style.width="".concat(i,"px")),typeof n=="number"&&(t.style.height="".concat(n,"px"))}(this.domNode,t,i)),this._scrollbar.scanDomNode()};t.prototype.scrollDown=function(t){if(t===void 0){t=8}this._body.scrollTop+=t};t.prototype.scrollUp=function(t){if(t===void 0){t=8}this._body.scrollTop-=t};t.prototype.scrollTop=function(){this._body.scrollTop=0};t.prototype.scrollBottom=function(){this._body.scrollTop=this._body.scrollHeight};t.prototype.pageDown=function(){this.scrollDown(80)};t.prototype.pageUp=function(){this.scrollUp(80)};Object.defineProperty(t.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth=t},enumerable:false,configurable:true});return t}();wnt=vnt([Ant(1,fh)],wnt);var pnt=function(){function t(t,i){var n=this;var r,e;this.widget=t,this._editor=i,this.allowEditorOverflow=!0,this._disposables=new Bn,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new D5,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);var o=0,s=0;this._disposables.add(this._resizable.onDidWillResize((function(){r=n._topLeft,e=n._resizable.size}))),this._disposables.add(this._resizable.onDidResize((function(t){if(r&&e){n.widget.layout(t.dimension.width,t.dimension.height);var i=!1;t.west&&(s=e.width-t.dimension.width,i=!0),t.north&&(o=e.height-t.dimension.height,i=!0),i&&n._applyTopLeft({top:r.top+o,left:r.left+s})}t.done&&(r=void 0,e=void 0,o=0,s=0,n._userSize=t.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((function(){var t;n._anchorBox&&n._placeAtAnchor(n._anchorBox,(t=n._userSize)!==null&&t!==void 0?t:n.widget.size,n._preferAlignAtTop)})))}t.prototype.dispose=function(){this._resizable.dispose(),this._disposables.dispose(),this.hide()};t.prototype.getId=function(){return"suggest.details"};t.prototype.getDomNode=function(){return this._resizable.domNode};t.prototype.getPosition=function(){return this._topLeft?{preference:this._topLeft}:null};t.prototype.show=function(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)};t.prototype.hide=function(t){if(t===void 0){t=!1}this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),t&&(this._userSize=void 0,this.widget.clearContents())};t.prototype.placeAtAnchor=function(t,i){var n;var r=t.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=i,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size,i)};t.prototype._placeAtAnchor=function(t,i,n){var r;var e=Pa(this.getDomNode().ownerDocument.body),o=this.widget.getLayoutInfo(),s=new Ga(220,2*o.lineHeight),u=t.top,a=function(){var n=e.width-(t.left+t.width+o.borderWidth+o.horizontalPadding),r=-o.borderWidth+t.left+t.width,a=new Ga(n,e.height-t.top-o.borderHeight-o.verticalPadding),c=a.with(void 0,t.top+t.height-o.borderHeight-o.verticalPadding);return{top:u,left:r,fit:n-i.width,maxSizeTop:a,maxSizeBottom:c,minSize:s.with(Math.min(n,s.width))}}(),c=function(){var n=t.left-o.borderWidth-o.horizontalPadding,r=Math.max(o.horizontalPadding,t.left-i.width-o.borderWidth),a=new Ga(n,e.height-t.top-o.borderHeight-o.verticalPadding),c=a.with(void 0,t.top+t.height-o.borderHeight-o.verticalPadding);return{top:u,left:r,fit:n-i.width,maxSizeTop:a,maxSizeBottom:c,minSize:s.with(Math.min(n,s.width))}}(),h=function(){var n=t.left,r=-o.borderWidth+t.top+t.height,u=new Ga(t.width-o.borderHeight,e.height-t.top-t.height-o.verticalPadding);return{top:r,left:n,fit:u.height-i.height,maxSizeBottom:u,maxSizeTop:u,minSize:s.with(u.width)}}(),f=[a,c,h],l=(r=f.find((function(t){return t.fit>=0})))!==null&&r!==void 0?r:f.sort((function(t,i){return i.fit-t.fit}))[0],d=t.top+t.height-o.borderHeight;var v,A=i.height;var g=Math.max(l.maxSizeTop.height,l.maxSizeBottom.height);var w;A>g&&(A=g),n?A<=l.maxSizeTop.height?(v=!0,w=l.maxSizeTop):(v=!1,w=l.maxSizeBottom):A<=l.maxSizeBottom.height?(v=!1,w=l.maxSizeBottom):(v=!0,w=l.maxSizeTop);var p=l.top,m=l.left;!v&&A>t.height&&(p=d-A);var b=this._editor.getDomNode();if(b){var y=b.getBoundingClientRect();p-=y.top,m-=y.left}this._applyTopLeft({left:m,top:p}),this._resizable.enableSashes(!v,l===a,v,l!==a),this._resizable.minSize=l.minSize,this._resizable.maxSize=w,this._resizable.layout(A,Math.min(w.width,i.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)};t.prototype._applyTopLeft=function(t){this._topLeft=t,this._editor.layoutOverlayWidget(this)};return t}();var mnt;(function(t){t[t.FILE=0]="FILE",t[t.FOLDER=1]="FOLDER",t[t.ROOT_FOLDER=2]="ROOT_FOLDER"})(mnt||(mnt={}));var bnt=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function ynt(t,i,n,r,e){if(e)return["codicon-".concat(e.id),"predefined-file-icon"];var o=r===mnt.ROOT_FOLDER?["rootfolder-icon"]:r===mnt.FOLDER?["folder-icon"]:["file-icon"];if(n){var s=void 0;if(n.scheme===oa.data)s=c_.parseMetaData(n).get(c_.META_DATA_LABEL);else{var u=n.path.match(bnt);u?(s=knt(u[2].toLowerCase()),u[1]&&o.push("".concat(knt(u[1].toLowerCase()),"-name-dir-icon"))):s=knt(n.authority.toLowerCase())}if(r===mnt.ROOT_FOLDER)o.push("".concat(s,"-root-name-folder-icon"));else if(r===mnt.FOLDER)o.push("".concat(s,"-name-folder-icon"));else{if(s){if(o.push("".concat(s,"-name-file-icon")),o.push("name-file-icon"),s.length<=255){var a=s.split(".");for(var c=1;c<a.length;c++)o.push("".concat(a.slice(c).join("."),"-ext-file-icon"))}o.push("ext-file-icon")}var u=function(t,i,n){if(!n)return null;var r=null;if(n.scheme===oa.data){var e=c_.parseMetaData(n).get(c_.META_DATA_MIME);e&&(r=i.getLanguageIdByMimeType(e))}else{var e=t.getModel(n);e&&(r=e.getLanguageId())}return r&&r!==Fd?r:i.guessLanguageIdByFilepathOrFirstLine(n)}(t,i,n);u&&o.push("".concat(knt(u),"-lang-file-icon"))}}return o}function knt(t){return t.replace(/[\11\12\14\15\40]/g,"/")}var xnt,Ent=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Bnt=function(t,i){return function(n,r){i(n,r,t)}};function Cnt(t){return"suggest-aria-id:".concat(t)}var Dnt=DW("suggest-more-info",re.chevronRight,Bt(0,"Icon for more information in the suggest widget.")),Mnt=new(xnt=function(){function t(){}t.prototype.extract=function(i,n){if(i.textLabel.match(t._regexStrict))return n[0]=i.textLabel,!0;if(i.completion.detail&&i.completion.detail.match(t._regexStrict))return n[0]=i.completion.detail,!0;if(i.completion.documentation){var r=typeof i.completion.documentation=="string"?i.completion.documentation:i.completion.documentation.value,e=t._regexRelaxed.exec(r);if(e&&(e.index===0||e.index+e[0].length===r.length))return n[0]=e[0],!0}return!1};return t}(),xnt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,xnt._regexStrict=new RegExp("^".concat(xnt._regexRelaxed.source,"$"),"i"),xnt);var _nt=function(){function t(t,i,n,r){this._editor=t,this._modelService=i,this._languageService=n,this._themeService=r,this._onDidToggleDetails=new Ln,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}t.prototype.dispose=function(){this._onDidToggleDetails.dispose()};t.prototype.renderTemplate=function(t){var i=this;var n=new Bn,r=t;r.classList.add("show-file-icons");var e=_c(t,Nc(".icon")),o=_c(e,Nc("span.colorspan")),s=_c(t,Nc(".contents")),u=_c(s,Nc(".main")),a=_c(u,Nc(".icon-label.codicon")),c=_c(u,Nc("span.left")),h=_c(u,Nc("span.right")),f=new lP(c,{supportHighlights:!0,supportIcons:!0});n.add(f);var l=_c(c,Nc("span.signature-label")),d=_c(c,Nc("span.qualifier-label")),v=_c(h,Nc("span.details-label")),A=_c(h,Nc("span.readMore"+xh.asCSSSelector(Dnt)));return A.title=Bt(0,"Read More"),{root:r,left:c,right:h,icon:e,colorspan:o,iconLabel:f,iconContainer:a,parametersLabel:l,qualifierLabel:d,detailsLabel:v,readMore:A,disposables:n,configureFont:function(){var t=i._editor.getOptions(),n=t.get(50),o=n.getMassagedFontFamily(),s=n.fontFeatureSettings,a=t.get(119)||n.fontSize,c=t.get(120)||n.lineHeight,h=n.fontWeight,f="".concat(a,"px"),l="".concat(c,"px"),d="".concat(n.letterSpacing,"px");r.style.fontSize=f,r.style.fontWeight=h,r.style.letterSpacing=d,u.style.fontFamily=o,u.style.fontFeatureSettings=s,u.style.lineHeight=l,e.style.height=l,e.style.width=l,A.style.height=l,A.style.width=l}}};t.prototype.renderElement=function(t,i,n){var r;var e=this;n.configureFont();var o=t.completion;n.root.id=Cnt(i),n.colorspan.style.backgroundColor="";var s={labelEscapeNewLines:!0,matches:ON(t.score)},u=[];if(o.kind===19&&Mnt.extract(t,u))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=u[0];else if(o.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";var a=ynt(this._modelService,this._languageService,zr.from({scheme:"fake",path:t.textLabel}),mnt.FILE),c=ynt(this._modelService,this._languageService,zr.from({scheme:"fake",path:o.detail}),mnt.FILE);s.extraClasses=a.length>c.length?a:c}else o.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",s.extraClasses=[ynt(this._modelService,this._languageService,zr.from({scheme:"fake",path:t.textLabel}),mnt.FOLDER),ynt(this._modelService,this._languageService,zr.from({scheme:"fake",path:o.detail}),mnt.FOLDER)].flat()):(n.icon.className="icon hide",n.iconContainer.className="",(r=n.iconContainer.classList).add.apply(r,__spreadArray(["suggest-icon"],xh.asClassNameArray(ae.toIcon(o.kind)),false)));o.tags&&o.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),n.iconLabel.setLabel(t.textLabel,void 0,s),typeof o.label=="string"?(n.parametersLabel.textContent="",n.detailsLabel.textContent=Fnt(o.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=Fnt(o.label.detail||""),n.detailsLabel.textContent=Fnt(o.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?Rc(n.detailsLabel):Tc(n.detailsLabel),gnt(t)?(n.right.classList.add("can-expand-details"),Rc(n.readMore),n.readMore.onmousedown=function(t){t.stopPropagation(),t.preventDefault()},n.readMore.onclick=function(t){t.stopPropagation(),t.preventDefault(),e._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),Tc(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)};t.prototype.disposeTemplate=function(t){t.disposables.dispose()};return t}();function Fnt(t){return t.replace(/\r\n|\r|\n/g,"")}_nt=Ent([Bnt(1,vh),Bnt(2,ld),Bnt(3,ex)],_nt);var Snt,Int=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Qnt=function(t,i){return function(n,r){i(n,r,t)}};fp("editorSuggestWidget.background",{dark:Rp,light:Rp,hcDark:Rp,hcLight:Rp},Bt(0,"Background color of the suggest widget.")),fp("editorSuggestWidget.border",{dark:Lp,light:Lp,hcDark:Lp,hcLight:Lp},Bt(0,"Border color of the suggest widget."));var Ont=fp("editorSuggestWidget.foreground",{dark:Np,light:Np,hcDark:Np,hcLight:Np},Bt(0,"Foreground color of the suggest widget."));fp("editorSuggestWidget.selectedForeground",{dark:ly,light:ly,hcDark:ly,hcLight:ly},Bt(0,"Foreground color of the selected entry in the suggest widget.")),fp("editorSuggestWidget.selectedIconForeground",{dark:dy,light:dy,hcDark:dy,hcLight:dy},Bt(0,"Icon foreground color of the selected entry in the suggest widget."));var Nnt=fp("editorSuggestWidget.selectedBackground",{dark:vy,light:vy,hcDark:vy,hcLight:vy},Bt(0,"Background color of the selected entry in the suggest widget."));fp("editorSuggestWidget.highlightForeground",{dark:zb,light:zb,hcDark:zb,hcLight:zb},Bt(0,"Color of the match highlights in the suggest widget.")),fp("editorSuggestWidget.focusHighlightForeground",{dark:Ub,light:Ub,hcDark:Ub,hcLight:Ub},Bt(0,"Color of the match highlights in the suggest widget when an item is focused.")),fp("editorSuggestWidgetStatus.foreground",{dark:vp(Ont,.5),light:vp(Ont,.5),hcDark:vp(Ont,.5),hcLight:vp(Ont,.5)},Bt(0,"Foreground color of the suggest widget status."));var Rnt=function(){function t(t,i){this._service=t,this._key="suggestWidget.size/".concat(i.getEditorType(),"/").concat(i instanceof K4)}t.prototype.restore=function(){var t;var i=(t=this._service.get(this._key,0))!==null&&t!==void 0?t:"";try{var n=JSON.parse(i);if(Ga.is(n))return Ga.lift(n)}catch(t){}};t.prototype.store=function(t){this._service.store(this._key,JSON.stringify(t),0,1)};t.prototype.reset=function(){this._service.remove(this._key,0)};return t}();var Tnt=Snt=function(){function t(t,i,n,r,e){var o=this;this.editor=t,this._storageService=i,this._state=0,this._isAuto=!1,this._pendingLayout=new Dn,this._pendingShowDetails=new Dn,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Ks,this._disposables=new Bn,this._onDidSelect=new zn,this._onDidFocus=new zn,this._onDidHide=new Ln,this._onDidShow=new Ln,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Ln,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new D5,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Lnt(this,t),this._persistedSize=new Rnt(i,t);var s=function(){function t(t,i,n,r){if(n===void 0){n=!1}if(r===void 0){r=!1}this.persistedSize=t,this.currentSize=i,this.persistHeight=n,this.persistWidth=r}return t}();var u;this._disposables.add(this.element.onDidWillResize((function(){o._contentWidget.lockPreference(),u=new s(o._persistedSize.restore(),o.element.size)}))),this._disposables.add(this.element.onDidResize((function(t){var i,n,r,e;if(o._resize(t.dimension.width,t.dimension.height),u&&(u.persistHeight=u.persistHeight||!!t.north||!!t.south,u.persistWidth=u.persistWidth||!!t.east||!!t.west),t.done){if(u){var s=o.getLayoutInfo(),a=s.itemHeight,c=s.defaultSize,h=Math.round(a/2);var f=o.element.size,l=f.width,d=f.height;(!u.persistHeight||Math.abs(u.currentSize.height-d)<=h)&&(d=(n=(i=u.persistedSize)===null||i===void 0?void 0:i.height)!==null&&n!==void 0?n:c.height),(!u.persistWidth||Math.abs(u.currentSize.width-l)<=h)&&(l=(e=(r=u.persistedSize)===null||r===void 0?void 0:r.width)!==null&&e!==void 0?e:c.width),o._persistedSize.store(new Ga(l,d))}o._contentWidget.unlockPreference(),u=void 0}}))),this._messageElement=_c(this.element.domNode,Nc(".message")),this._listElement=_c(this.element.domNode,Nc(".tree"));var a=this._disposables.add(e.createInstance(wnt,this.editor));a.onDidClose(this.toggleDetails,this,this._disposables),this._details=new pnt(a,this.editor);var c=function(){return o.element.domNode.classList.toggle("no-icons",!o.editor.getOption(118).showIcons)};c();var h=e.createInstance(_nt,this.editor);this._disposables.add(h),this._disposables.add(h.onDidToggleDetails((function(){return o.toggleDetails()}))),this._list=new bz("SuggestWidget",this._listElement,{getHeight:function(t){return o.getLayoutInfo().itemHeight},getTemplateId:function(t){return"suggestion"}},[h],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:function(){return"option"},getWidgetAriaLabel:function(){return Bt(0,"Suggest")},getWidgetRole:function(){return"listbox"},getAriaLabel:function(t){var i=t.textLabel;if(typeof t.completion.label!="string"){var n=t.completion.label,r=n.detail,e=n.description;r&&e?i=Bt(0,"{0} {1}, {2}",i,r,e):r?i=Bt(0,"{0} {1}",i,r):e&&(i=Bt(0,"{0}, {1}",i,e))}if(!t.isResolved||!o._isDetailsVisible())return i;var s=t.completion,u=s.documentation,a=s.detail;return Bt(0,"{0}, docs: {1}",i,ko("{0}{1}",a||"",u?typeof u=="string"?u:u.value:""))}}}),this._list.style(Kz({listInactiveFocusBackground:Nnt,listInactiveFocusOutline:Bp})),this._status=e.createInstance(dnt,this.element.domNode,iit);var f=function(){return o.element.domNode.classList.toggle("with-status-bar",o.editor.getOption(118).showStatusBar)};f(),this._disposables.add(r.onDidColorThemeChange((function(t){return o._onThemeChange(t)}))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown((function(t){return o._onListMouseDownOrTap(t)}))),this._disposables.add(this._list.onTap((function(t){return o._onListMouseDownOrTap(t)}))),this._disposables.add(this._list.onDidChangeSelection((function(t){return o._onListSelection(t)}))),this._disposables.add(this._list.onDidChangeFocus((function(t){return o._onListFocus(t)}))),this._disposables.add(this.editor.onDidChangeCursorSelection((function(){return o._onCursorSelectionChanged()}))),this._disposables.add(this.editor.onDidChangeConfiguration((function(t){t.hasChanged(118)&&(f(),c()),o._completionModel&&(t.hasChanged(50)||t.hasChanged(119)||t.hasChanged(120))&&o._list.splice(0,o._list.length,o._completionModel.items)}))),this._ctxSuggestWidgetVisible=tit.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=tit.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=tit.MultipleSuggestions.bindTo(n),this._ctxSuggestWidgetHasFocusedSuggestion=tit.HasFocusedSuggestion.bindTo(n),this._disposables.add(Ra(this._details.widget.domNode,"keydown",(function(t){o._onDetailsKeydown.fire(t)}))),this._disposables.add(this.editor.onMouseDown((function(t){return o._onEditorMouseDown(t)})))}t.prototype.dispose=function(){var t;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(t=this._loadingTimeout)===null||t===void 0||t.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()};t.prototype._onEditorMouseDown=function(t){this._details.widget.domNode.contains(t.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(t.target.element)&&this.editor.focus()};t.prototype._onCursorSelectionChanged=function(){this._state!==0&&this._contentWidget.layout()};t.prototype._onListMouseDownOrTap=function(t){t.element!==void 0&&t.index!==void 0&&(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this._select(t.element,t.index))};t.prototype._onListSelection=function(t){t.elements.length&&this._select(t.elements[0],t.indexes[0])};t.prototype._select=function(t,i){var n=this._completionModel;n&&(this._onDidSelect.fire({item:t,index:i,model:n}),this.editor.focus())};t.prototype._onThemeChange=function(t){this._details.widget.borderWidth=zy(t.type)?2:1};t.prototype._onListFocus=function(t){var i=this;var n;if(this._ignoreFocusEvents)return;if(!t.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);var r=t.elements[0],e=t.indexes[0];r!==this._focusedItem&&((n=this._currentSuggestionDetails)===null||n===void 0||n.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=r,this._list.reveal(e),this._currentSuggestionDetails=Us((function(t){return __awaiter(i,void 0,void 0,(function(){var i,n;var e=this;return __generator(this,(function(o){switch(o.label){case 0:i=Gs((function(){e._isDetailsVisible()&&e.showDetails(!0)}),250),n=t.onCancellationRequested((function(){return i.dispose()}));o.label=1;case 1:o.trys.push([1,,3,4]);return[4,r.resolve(t)];case 2:return[2,o.sent()];case 3:i.dispose(),n.dispose();return[7];case 4:return[2]}}))}))})),this._currentSuggestionDetails.then((function(){e>=i._list.length||r!==i._list.element(e)||(i._ignoreFocusEvents=!0,i._list.splice(e,1,[r]),i._list.setFocus([e]),i._ignoreFocusEvents=!1,i._isDetailsVisible()?i.showDetails(!1):i.element.domNode.classList.remove("docs-side"),i.editor.setAriaOptions({activeDescendant:Cnt(e)}))})).catch(cn)),this._onDidFocus.fire({item:r,index:e,model:this._completionModel})};t.prototype._setState=function(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",t===4),this.element.domNode.classList.remove("message"),t){case 0:Tc(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Snt.LOADING_MESSAGE,Tc(this._listElement,this._status.element),Rc(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Tw(Snt.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Snt.NO_SUGGESTIONS_MESSAGE,Tc(this._listElement,this._status.element),Rc(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Tw(Snt.NO_SUGGESTIONS_MESSAGE);break;case 3:case 4:Tc(this._messageElement),Rc(this._listElement,this._status.element),this._show();break;case 5:Tc(this._messageElement),Rc(this._listElement,this._status.element),this._details.show(),this._show()}};t.prototype._show=function(){var t=this;this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((function(){t.element.domNode.classList.add("visible"),t._onDidShow.fire(t)}),100)};t.prototype.showTriggered=function(t,i){var n=this;this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!t,this._isAuto||(this._loadingTimeout=Gs((function(){return n._setState(1)}),i)))};t.prototype.showSuggestions=function(t,i,n,r,e){var o=this;var s,u;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(u=this._currentSuggestionDetails)===null||u===void 0||u.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==t&&(this._completionModel=t),n&&this._state!==2&&this._state!==0)return void this._setState(4);var a=this._completionModel.items.length,c=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),c)return this._setState(r?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(i,0),this._list.setFocus(e?[]:[i])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=za(ka(this.element.domNode),(function(){o._pendingLayout.clear(),o._layout(o.element.size),o._details.widget.domNode.classList.remove("focused")}))};t.prototype.focusSelected=function(){this._list.length>0&&this._list.setFocus([0])};t.prototype.selectNextPage=function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}};t.prototype.selectNext=function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}};t.prototype.selectLast=function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}};t.prototype.selectPreviousPage=function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}};t.prototype.selectPrevious=function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}};t.prototype.selectFirst=function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}};t.prototype.getFocusedItem=function(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}};t.prototype.toggleDetailsFocus=function(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))};t.prototype.toggleDetails=function(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!gnt(this._list.getFocusedElements()[0])&&!this._explainMode||this._state!==3&&this._state!==5&&this._state!==4||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))};t.prototype.showDetails=function(t){var i=this;this._pendingShowDetails.value=za(ka(this.element.domNode),(function(){i._pendingShowDetails.clear(),i._details.show(),t?i._details.widget.renderLoading():i._details.widget.renderItem(i._list.getFocusedElements()[0],i._explainMode),i._details.widget.isEmpty?i._details.hide():(i._positionDetails(),i.element.domNode.classList.add("shows-details")),i.editor.focus()}))};t.prototype.toggleExplainMode=function(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())};t.prototype.resetPersistedSize=function(){this._persistedSize.reset()};t.prototype.hideWidget=function(){var t;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(t=this._loadingTimeout)===null||t===void 0||t.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();var i=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);i&&i.height<n&&this._persistedSize.store(i.with(void 0,n))};t.prototype.isFrozen=function(){return this._state===4};t.prototype._afterRender=function(t){t!==null?this._state!==2&&this._state!==1&&(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()};t.prototype._layout=function(t){var i,n,r;if(!this.editor.hasModel()||!this.editor.getDomNode())return;var e=Pa(this.element.domNode.ownerDocument.body),o=this.getLayoutInfo();t||(t=o.defaultSize);var s=t.height,u=t.width;if(this._status.element.style.height="".concat(o.itemHeight,"px"),this._state===2||this._state===1)s=o.itemHeight+o.borderHeight,u=o.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Ga(u,s),this._contentWidget.setPreference(2);else{var a=e.width-o.borderHeight-2*o.horizontalPadding;u>a&&(u=a);var c=this._completionModel?this._completionModel.stats.pLabelLen*o.typicalHalfwidthCharacterWidth:u,h=o.statusBarHeight+this._list.contentHeight+o.borderHeight,f=o.itemHeight+o.statusBarHeight,l=Ka(this.editor.getDomNode()),d=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),v=l.top+d.top+d.height,A=Math.min(e.height-v-o.verticalPadding,h),g=l.top+d.top-o.verticalPadding,w=Math.min(g,h);var p=Math.min(Math.max(w,A)+o.borderHeight,h);s===((i=this._cappedHeight)===null||i===void 0?void 0:i.capped)&&(s=this._cappedHeight.wanted),s<f&&(s=f),s>p&&(s=p),s>A||this._forceRenderingAbove&&g>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),p=w):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),p=A),this.element.preferredSize=new Ga(c,o.defaultSize.height),this.element.maxSize=new Ga(a,p),this.element.minSize=new Ga(220,f),this._cappedHeight=s===h?{wanted:(r=(n=this._cappedHeight)===null||n===void 0?void 0:n.wanted)!==null&&r!==void 0?r:t.height,capped:s}:void 0}this._resize(u,s)};t.prototype._resize=function(t,i){var n=this.element.maxSize,r=n.width,e=n.height;t=Math.min(r,t),i=Math.min(e,i);var o=this.getLayoutInfo().statusBarHeight;this._list.layout(i-o,t),this._listElement.style.height=i-o+"px",this.element.layout(i,t),this._contentWidget.layout(),this._positionDetails()};t.prototype._positionDetails=function(){var t;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((t=this._contentWidget.getPosition())===null||t===void 0?void 0:t.preference[0])===2)};t.prototype.getLayoutInfo=function(){var t=this.editor.getOption(50),i=OQ(this.editor.getOption(120)||t.lineHeight,8,1e3),n=this.editor.getOption(118).showStatusBar&&this._state!==2&&this._state!==1?i:0,r=this._details.widget.borderWidth,e=2*r;return{itemHeight:i,statusBarHeight:n,borderWidth:r,borderHeight:e,typicalHalfwidthCharacterWidth:t.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Ga(430,n+12*i+e)}};t.prototype._isDetailsVisible=function(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)};t.prototype._setDetailsVisible=function(t){this._storageService.store("expandSuggestionDocs",t,0,0)};t.prototype.forceRenderingAbove=function(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))};t.prototype.stopForceRenderingAbove=function(){this._forceRenderingAbove=!1};return t}();Tnt.LOADING_MESSAGE=Bt(0,"Loading..."),Tnt.NO_SUGGESTIONS_MESSAGE=Bt(0,"No suggestions."),Tnt=Snt=Int([Qnt(1,Lz),Qnt(2,hf),Qnt(3,ex),Qnt(4,fh)],Tnt);var Lnt=function(){function t(t,i){this._widget=t,this._editor=i,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}t.prototype.dispose=function(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))};t.prototype.getId=function(){return"editor.widget.suggestWidget"};t.prototype.getDomNode=function(){return this._widget.element.domNode};t.prototype.show=function(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))};t.prototype.hide=function(){this._hidden||(this._hidden=!0,this.layout())};t.prototype.layout=function(){this._editor.layoutContentWidget(this)};t.prototype.getPosition=function(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null};t.prototype.beforeRender=function(){var t=this._widget.element.size,i=t.height,n=t.width,r=this._widget.getLayoutInfo(),e=r.borderWidth,o=r.horizontalPadding;return new Ga(n+2*e+o,i+2*e)};t.prototype.afterRender=function(t){this._widget._afterRender(t)};t.prototype.setPreference=function(t){this._preferenceLocked||(this._preference=t)};t.prototype.lockPreference=function(){this._preferenceLocked=!0};t.prototype.unlockPreference=function(){this._preferenceLocked=!1};t.prototype.setPosition=function(t){this._position=t};return t}();var jnt,znt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Unt=function(t,i){return function(n,r){i(n,r,t)}};var Hnt=function(){function t(t,i){var n=this;if(this._model=t,this._position=i,this._decorationOptions=iS.register({description:"suggest-line-suffix",stickiness:1}),t.getLineMaxColumn(i.lineNumber)!==i.column){var r=t.getOffsetAt(i),e=t.getPositionAt(r+1);t.changeDecorations((function(t){n._marker&&t.removeDecoration(n._marker),n._marker=t.addDecoration(Zr.fromPositions(i,e),n._decorationOptions)}))}}t.prototype.dispose=function(){var t=this;this._marker&&!this._model.isDisposed()&&this._model.changeDecorations((function(i){i.removeDecoration(t._marker),t._marker=void 0}))};t.prototype.delta=function(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){var i=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(i.getStartPosition())-this._model.getOffsetAt(t)}return this._model.getLineMaxColumn(t.lineNumber)-t.column};return t}();var Ynt=jnt=function(){function t(t,i,n,r,e,o,s){var u=this;this._memoryService=i,this._commandService=n,this._contextKeyService=r,this._instantiationService=e,this._logService=o,this._telemetryService=s,this._lineSuffix=new Dn,this._toDispose=new Bn,this._selectors=new Jnt((function(t){return t.priority})),this._onWillInsertSuggestItem=new Ln,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=t,this.model=e.createInstance(ant,this.editor),this._selectors.register({priority:0,select:function(t,i,n){return u._memoryService.select(t,i,n)}});var a=tit.InsertMode.bindTo(r);a.set(t.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger((function(){return a.set(t.getOption(118).insertMode)}))),this.widget=this._toDispose.add(new ja(ka(t.getDomNode()),(function(){var t=u._instantiationService.createInstance(Tnt,u.editor);u._toDispose.add(t),u._toDispose.add(t.onDidSelect((function(t){return u._insertSuggestion(t,0)}),u));var i=new $it(u.editor,t,u.model,(function(t){return u._insertSuggestion(t,2)}));u._toDispose.add(i);var n=tit.MakesTextEdit.bindTo(u._contextKeyService),r=tit.HasInsertAndReplaceRange.bindTo(u._contextKeyService),e=tit.CanResolve.bindTo(u._contextKeyService);return u._toDispose.add(En((function(){n.reset(),r.reset(),e.reset()}))),u._toDispose.add(t.onDidFocus((function(t){var i=t.item;var o=u.editor.getPosition(),s=i.editStart.column,a=o.column;var c=!0;u.editor.getOption(1)!=="smart"||u.model.state!==2||i.completion.additionalTextEdits||4&i.completion.insertTextRules||a-s!==i.completion.insertText.length||(c=u.editor.getModel().getValueInRange({startLineNumber:o.lineNumber,startColumn:s,endLineNumber:o.lineNumber,endColumn:a})!==i.completion.insertText),n.set(c),r.set(!qr.equals(i.editInsertEnd,i.editReplaceEnd)),e.set(!!i.provider.resolveCompletionItem||!!i.completion.documentation||i.completion.detail!==i.completion.label)}))),u._toDispose.add(t.onDetailsKeyDown((function(t){t.toKeyCodeChord().equals(new Ds(!0,!1,!1,!1,33))||Gt&&t.toKeyCodeChord().equals(new Ds(!1,!1,!1,!0,33))?t.stopPropagation():t.toKeyCodeChord().isModifierKey()||u.editor.focus()}))),t}))),this._overtypingCapturer=this._toDispose.add(new ja(ka(t.getDomNode()),(function(){return u._toDispose.add(new cnt(u.editor,u.model))}))),this._alternatives=this._toDispose.add(new ja(ka(t.getDomNode()),(function(){return u._toDispose.add(new Zit(u.editor,u._contextKeyService))}))),this._toDispose.add(e.createInstance(Vit,t)),this._toDispose.add(this.model.onDidTrigger((function(t){u.widget.value.showTriggered(t.auto,t.shy?250:50),u._lineSuffix.value=new Hnt(u.editor.getModel(),t.position)}))),this._toDispose.add(this.model.onDidSuggest((function(t){if(t.triggerOptions.shy)return;var i=-1;for(var n=0,r=u._selectors.itemsOrderedByPriorityDesc;n<r.length;n++){var e=r[n];if(i=e.select(u.editor.getModel(),u.editor.getPosition(),t.completionModel.items),i!==-1)break}if(i===-1&&(i=0),u.model.state===0)return;var o=!1;if(t.triggerOptions.auto){var e=u.editor.getOption(118);e.selectionMode==="never"||e.selectionMode==="always"?o=e.selectionMode==="never":e.selectionMode==="whenTriggerCharacter"?o=t.triggerOptions.triggerKind!==1:e.selectionMode==="whenQuickSuggestion"&&(o=t.triggerOptions.triggerKind===1&&!t.triggerOptions.refilter)}u.widget.value.showSuggestions(t.completionModel,i,t.isFrozen,t.triggerOptions.auto,o)}))),this._toDispose.add(this.model.onDidCancel((function(t){t.retrigger||u.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){u.model.cancel(),u.model.clear()})));var c=tit.AcceptSuggestionsOnEnter.bindTo(r),h=function(){var t=u.editor.getOption(1);c.set(t==="on"||t==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return h()}))),h()}t.get=function(i){return i.getContribution(t.ID)};t.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()};t.prototype._insertSuggestion=function(t,i){var n;var r=this;if(!t||!t.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;var e=Fit.get(this.editor);if(!e)return;this._onWillInsertSuggestItem.fire({item:t.item});var o=this.editor.getModel(),s=o.getAlternativeVersionId(),u=t.item,a=[],c=new Kn;1&i||this.editor.pushUndoStop();var h=this.getOverwriteInfo(u,!!(8&i));this._memoryService.memorize(o,this.editor.getPosition(),u);var f=u.isResolved;var l=-1,d=-1;if(Array.isArray(u.completion.additionalTextEdits)){this.model.cancel();var v=eV.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",u.completion.additionalTextEdits.map((function(t){var i=Zr.lift(t.range);if(i.startLineNumber===u.position.lineNumber&&i.startColumn>u.position.column){var n=r.editor.getPosition().column-u.position.column,e=n,o=Zr.spansMultipleLines(i)?0:n;i=new Zr(i.startLineNumber,i.startColumn+e,i.endLineNumber,i.endColumn+o)}return BT.replaceMove(i,t.text)}))),v.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!f){var A=new In;var g;var w=o.onDidChangeContent((function(t){if(t.isFlush)return c.cancel(),void w.dispose();for(var i=0,n=t.changes;i<n.length;i++){var r=n[i];var e=Zr.getEndPosition(r.range);g&&!qr.isBefore(e,g)||(g=e)}})),n=i;i|=2;var p=!1;var m=this.editor.onWillType((function(){m.dispose(),p=!0,2&n||r.editor.pushUndoStop()}));a.push(u.resolve(c.token).then((function(){if(!u.completion.additionalTextEdits||c.token.isCancellationRequested)return;if(g&&u.completion.additionalTextEdits.some((function(t){return qr.isBefore(g,Zr.getStartPosition(t.range))})))return!1;p&&r.editor.pushUndoStop();var t=eV.capture(r.editor);return r.editor.executeEdits("suggestController.additionalTextEdits.async",u.completion.additionalTextEdits.map((function(t){return BT.replaceMove(Zr.lift(t.range),t.text)}))),t.restoreRelativeVerticalPositionOfCursor(r.editor),!p&&2&n||r.editor.pushUndoStop(),!0})).then((function(t){r._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",A.elapsed(),t),d=t===!0?1:t===!1?0:-2})).finally((function(){w.dispose(),m.dispose()})))}var b=u.completion.insertText;if(4&u.completion.insertTextRules||(b=n1.escape(b)),this.model.cancel(),e.insert(b,{overwriteBefore:h.overwriteBefore,overwriteAfter:h.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&u.completion.insertTextRules),clipboardText:t.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&i||this.editor.pushUndoStop(),u.completion.command)if(u.completion.command.id===Pnt.id)this.model.trigger({auto:!0,retrigger:!0});else{var y=new In;a.push((n=this._commandService).executeCommand.apply(n,__spreadArray([u.completion.command.id],u.completion.command.arguments?__spreadArray([],u.completion.command.arguments,true):[],false)).catch((function(t){u.completion.extensionId?hn(t):cn(t)})).finally((function(){l=y.elapsed()})))}4&i&&this._alternatives.value.set(t,(function(t){for(c.cancel();o.canUndo();){s!==o.getAlternativeVersionId()&&o.undo(),r._insertSuggestion(t,3|(8&i?8:0));break}})),this._alertCompletionItem(u),Promise.all(a).finally((function(){r._reportSuggestionAcceptedTelemetry(u,o,f,l,d),r.model.clear(),c.dispose()}))};t.prototype._reportSuggestionAcceptedTelemetry=function(t,i,n,r,e){var o,s,u;Math.floor(100*Math.random())!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(s=(o=t.extensionId)===null||o===void 0?void 0:o.value)!==null&&s!==void 0?s:"unknown",providerId:(u=t.provider._debugDisplayName)!==null&&u!==void 0?u:"unknown",kind:t.completion.kind,basenameHash:la(t_(i.uri)).toString(16),languageId:i.getLanguageId(),fileExtension:i_(i.uri),resolveInfo:t.provider.resolveCompletionItem?n?1:0:-1,resolveDuration:t.resolveDuration,commandDuration:r,additionalEditsAsync:e})};t.prototype.getOverwriteInfo=function(t,i){lt(this.editor.hasModel());var n=this.editor.getOption(118).insertMode==="replace";i&&(n=!n);var r=t.position.column-t.editStart.column,e=(n?t.editReplaceEnd.column:t.editInsertEnd.column)-t.position.column;return{overwriteBefore:r+(this.editor.getPosition().column-t.position.column),overwriteAfter:e+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}};t.prototype._alertCompletionItem=function(t){L(t.completion.additionalTextEdits)&&Rw(Bt(0,"Accepting '{0}' made {1} additional edits",t.textLabel,t.completion.additionalTextEdits.length))};t.prototype.triggerSuggest=function(t,i,n){this.editor.hasModel()&&(this.model.trigger({auto:i!=null&&i,completionOptions:{providerFilter:t,kindFilter:n?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())};t.prototype.triggerSuggestAndAcceptBest=function(t){var i=this;if(!this.editor.hasModel())return;var n=this.editor.getPosition(),r=function(){n.equals(i.editor.getPosition())&&i._commandService.executeCommand(t.fallback)},e=function(t){if(4&t.completion.insertTextRules||t.completion.additionalTextEdits)return!0;var n=i.editor.getPosition(),r=t.editStart.column,e=n.column;return e-r!==t.completion.insertText.length?!0:i.editor.getModel().getValueInRange({startLineNumber:n.lineNumber,startColumn:r,endLineNumber:n.lineNumber,endColumn:e})!==t.completion.insertText};Qn.once(this.model.onDidTrigger)((function(t){var n=[];Qn.any(i.model.onDidTrigger,i.model.onDidCancel)((function(){kn(n),r()}),void 0,n),i.model.onDidSuggest((function(t){var o=t.completionModel;if(kn(n),o.items.length===0)return void r();var s=i._memoryService.select(i.editor.getModel(),i.editor.getPosition(),o.items),u=o.items[s];e(u)?(i.editor.pushUndoStop(),i._insertSuggestion({index:s,item:u,model:o},7)):r()}),void 0,n)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(n,0),this.editor.focus()};t.prototype.acceptSelectedSuggestion=function(t,i){var n=this.widget.value.getFocusedItem();var r=0;t&&(r|=4),i&&(r|=8),this._insertSuggestion(n,r)};t.prototype.acceptNextSuggestion=function(){this._alternatives.value.next()};t.prototype.acceptPrevSuggestion=function(){this._alternatives.value.prev()};t.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()};t.prototype.focusSuggestion=function(){this.widget.value.focusSelected()};t.prototype.selectNextSuggestion=function(){this.widget.value.selectNext()};t.prototype.selectNextPageSuggestion=function(){this.widget.value.selectNextPage()};t.prototype.selectLastSuggestion=function(){this.widget.value.selectLast()};t.prototype.selectPrevSuggestion=function(){this.widget.value.selectPrevious()};t.prototype.selectPrevPageSuggestion=function(){this.widget.value.selectPreviousPage()};t.prototype.selectFirstSuggestion=function(){this.widget.value.selectFirst()};t.prototype.toggleSuggestionDetails=function(){this.widget.value.toggleDetails()};t.prototype.toggleExplainMode=function(){this.widget.value.toggleExplainMode()};t.prototype.toggleSuggestionFocus=function(){this.widget.value.toggleDetailsFocus()};t.prototype.resetWidgetSize=function(){this.widget.value.resetPersistedSize()};t.prototype.forceRenderingAbove=function(){this.widget.value.forceRenderingAbove()};t.prototype.stopForceRenderingAbove=function(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()};t.prototype.registerSelector=function(t){return this._selectors.register(t)};return t}();Ynt.ID="editor.contrib.suggestController",Ynt=jnt=znt([Unt(1,Jit),Unt(2,Eh),Unt(3,hf),Unt(4,fh),Unt(5,Lf),Unt(6,Tf)],Ynt);var Jnt=function(){function t(t){this.prioritySelector=t,this._items=new Array}t.prototype.register=function(t){var i=this;if(this._items.indexOf(t)!==-1)throw new Error("Value is already registered");return this._items.push(t),this._items.sort((function(t,n){return i.prioritySelector(n)-i.prioritySelector(t)})),{dispose:function(){var n=i._items.indexOf(t);n>=0&&i._items.splice(n,1)}}};Object.defineProperty(t.prototype,"itemsOrderedByPriorityDesc",{get:function(){return this._items},enumerable:false,configurable:true});return t}();var Pnt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.id,label:Bt(0,"Trigger Suggest"),alias:"Trigger Suggest",precondition:Hh.and(hB.writable,hB.hasCompletionItemProvider,tit.Visible.toNegated()),kbOpts:{kbExpr:hB.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})||this}i.prototype.run=function(t,i,n){var r=Ynt.get(i);if(!r)return;var e;n&&typeof n=="object"&&n.auto===!0&&(e=!0),r.triggerSuggest(void 0,e,void 0)};return i}(Vf);Pnt.id="editor.action.triggerSuggest",il(Ynt.ID,Ynt,2),$f(Pnt);var Wnt=190,Gnt=Gf.bindToContribution(Ynt.get);Zf(new Gnt({id:"acceptSelectedSuggestion",precondition:Hh.and(tit.Visible,tit.HasFocusedSuggestion),handler:function(t){t.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Hh.and(tit.Visible,hB.textInputFocus),weight:Wnt},{primary:3,kbExpr:Hh.and(tit.Visible,hB.textInputFocus,tit.AcceptSuggestionsOnEnter,tit.MakesTextEdit),weight:Wnt}],menuOpts:[{menuId:iit,title:Bt(0,"Insert"),group:"left",order:1,when:tit.HasInsertAndReplaceRange.toNegated()},{menuId:iit,title:Bt(0,"Insert"),group:"left",order:1,when:Hh.and(tit.HasInsertAndReplaceRange,tit.InsertMode.isEqualTo("insert"))},{menuId:iit,title:Bt(0,"Replace"),group:"left",order:1,when:Hh.and(tit.HasInsertAndReplaceRange,tit.InsertMode.isEqualTo("replace"))}]})),Zf(new Gnt({id:"acceptAlternativeSelectedSuggestion",precondition:Hh.and(tit.Visible,hB.textInputFocus,tit.HasFocusedSuggestion),kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:1027,secondary:[1026]},handler:function(t){t.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:iit,group:"left",order:2,when:Hh.and(tit.HasInsertAndReplaceRange,tit.InsertMode.isEqualTo("insert")),title:Bt(0,"Replace")},{menuId:iit,group:"left",order:2,when:Hh.and(tit.HasInsertAndReplaceRange,tit.InsertMode.isEqualTo("replace")),title:Bt(0,"Insert")}]})),Bh.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Zf(new Gnt({id:"hideSuggestWidget",precondition:tit.Visible,handler:function(t){return t.cancelSuggestWidget()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:9,secondary:[1033]}})),Zf(new Gnt({id:"selectNextSuggestion",precondition:Hh.and(tit.Visible,Hh.or(tit.MultipleSuggestions,tit.HasFocusedSuggestion.negate())),handler:function(t){return t.selectNextSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Zf(new Gnt({id:"selectNextPageSuggestion",precondition:Hh.and(tit.Visible,Hh.or(tit.MultipleSuggestions,tit.HasFocusedSuggestion.negate())),handler:function(t){return t.selectNextPageSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:12,secondary:[2060]}})),Zf(new Gnt({id:"selectLastSuggestion",precondition:Hh.and(tit.Visible,Hh.or(tit.MultipleSuggestions,tit.HasFocusedSuggestion.negate())),handler:function(t){return t.selectLastSuggestion()}})),Zf(new Gnt({id:"selectPrevSuggestion",precondition:Hh.and(tit.Visible,Hh.or(tit.MultipleSuggestions,tit.HasFocusedSuggestion.negate())),handler:function(t){return t.selectPrevSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Zf(new Gnt({id:"selectPrevPageSuggestion",precondition:Hh.and(tit.Visible,Hh.or(tit.MultipleSuggestions,tit.HasFocusedSuggestion.negate())),handler:function(t){return t.selectPrevPageSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:11,secondary:[2059]}})),Zf(new Gnt({id:"selectFirstSuggestion",precondition:Hh.and(tit.Visible,Hh.or(tit.MultipleSuggestions,tit.HasFocusedSuggestion.negate())),handler:function(t){return t.selectFirstSuggestion()}})),Zf(new Gnt({id:"focusSuggestion",precondition:Hh.and(tit.Visible,tit.HasFocusedSuggestion.negate()),handler:function(t){return t.focusSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),Zf(new Gnt({id:"focusAndAcceptSuggestion",precondition:Hh.and(tit.Visible,tit.HasFocusedSuggestion.negate()),handler:function(t){t.focusSuggestion(),t.acceptSelectedSuggestion(!0,!1)}})),Zf(new Gnt({id:"toggleSuggestionDetails",precondition:Hh.and(tit.Visible,tit.HasFocusedSuggestion),handler:function(t){return t.toggleSuggestionDetails()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:iit,group:"right",order:1,when:Hh.and(tit.DetailsVisible,tit.CanResolve),title:Bt(0,"show less")},{menuId:iit,group:"right",order:1,when:Hh.and(tit.DetailsVisible.toNegated(),tit.CanResolve),title:Bt(0,"show more")}]})),Zf(new Gnt({id:"toggleExplainMode",precondition:tit.Visible,handler:function(t){return t.toggleExplainMode()},kbOpts:{weight:100,primary:2138}})),Zf(new Gnt({id:"toggleSuggestionFocus",precondition:tit.Visible,handler:function(t){return t.toggleSuggestionFocus()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:2570,mac:{primary:778}}})),Zf(new Gnt({id:"insertBestCompletion",precondition:Hh.and(hB.textInputFocus,Hh.equals("config.editor.tabCompletion","on"),Vit.AtEnd,tit.Visible.toNegated(),Zit.OtherSuggestions.toNegated(),Fit.InSnippetMode.toNegated()),handler:function(t,i){t.triggerSuggestAndAcceptBest(et(i)?__assign({fallback:"tab"},i):{fallback:"tab"})},kbOpts:{weight:Wnt,primary:2}})),Zf(new Gnt({id:"insertNextSuggestion",precondition:Hh.and(hB.textInputFocus,Hh.equals("config.editor.tabCompletion","on"),Zit.OtherSuggestions,tit.Visible.toNegated(),Fit.InSnippetMode.toNegated()),handler:function(t){return t.acceptNextSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:2}})),Zf(new Gnt({id:"insertPrevSuggestion",precondition:Hh.and(hB.textInputFocus,Hh.equals("config.editor.tabCompletion","on"),Zit.OtherSuggestions,tit.Visible.toNegated(),Fit.InSnippetMode.toNegated()),handler:function(t){return t.acceptPrevSuggestion()},kbOpts:{weight:Wnt,kbExpr:hB.textInputFocus,primary:1026}})),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.resetSuggestSize",label:Bt(0,"Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})||this}i.prototype.run=function(t,i){var n;(n=Ynt.get(i))===null||n===void 0||n.resetWidgetSize()};return i}(Vf));var Vnt=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o.editor=i,o.suggestControllerPreselector=n,o.checkModelVersion=r,o.onWillAccept=e,o.isSuggestWidgetVisible=!1,o.isShiftKeyPressed=!1,o._isActive=!1,o._currentSuggestItemInfo=void 0,o._selectedItem=mj(o,void 0),o._register(i.onKeyDown((function(t){t.shiftKey&&!o.isShiftKeyPressed&&(o.isShiftKeyPressed=!0,o.update(o._isActive))}))),o._register(i.onKeyUp((function(t){t.shiftKey&&o.isShiftKeyPressed&&(o.isShiftKeyPressed=!1,o.update(o._isActive))})));var s=Ynt.get(o.editor);if(s){o._register(s.registerSelector({priority:100,select:function(t,i,n){Aj((function(t){return o.checkModelVersion(t)}));var r=o.editor.getModel();if(!r)return-1;var e=o.suggestControllerPreselector(),u=e?ztt(e,r):void 0;if(!u)return-1;var a=qr.lift(i),c=nA(n.map((function(t,i){var n=ztt(Knt.fromSuggestion(s,r,a,t,o.isShiftKeyPressed).toSingleTextEdit(),r);return{index:i,valid:Utt(u,n),prefixLength:n.text.length,suggestItem:t}})).filter((function(t){return t&&t.valid&&t.prefixLength>0})),X((function(t){return t.prefixLength}),q));return c?c.index:-1}}));var u=!1;var a=function(){u||(u=!0,o._register(s.widget.value.onDidShow((function(){o.isSuggestWidgetVisible=!0,o.update(!0)}))),o._register(s.widget.value.onDidHide((function(){o.isSuggestWidgetVisible=!1,o.update(!1)}))),o._register(s.widget.value.onDidFocus((function(){o.isSuggestWidgetVisible=!0,o.update(!0)}))))};o._register(Qn.once(s.model.onDidTrigger)((function(t){a()}))),o._register(s.onWillInsertSuggestItem((function(t){var i=o.editor.getPosition(),n=o.editor.getModel();if(!i||!n)return;var r=Knt.fromSuggestion(s,n,i,t.item,o.isShiftKeyPressed);o.onWillAccept(r)})))}o.update(o._isActive);return o}Object.defineProperty(i.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:false,configurable:true});i.prototype.update=function(t){var i=this;var n=this.getSuggestItemInfo();this._isActive===t&&function(t,i){return t===i?!0:!t||!i?!1:t.equals(i)}(this._currentSuggestItemInfo,n)||(this._isActive=t,this._currentSuggestItemInfo=n,Aj((function(t){i.checkModelVersion(t),i._selectedItem.set(i._isActive?i._currentSuggestItemInfo:void 0,t)})))};i.prototype.getSuggestItemInfo=function(){var t=Ynt.get(this.editor);if(!t||!this.isSuggestWidgetVisible)return;var i=t.widget.value.getFocusedItem(),n=this.editor.getPosition(),r=this.editor.getModel();return i&&n&&r?Knt.fromSuggestion(t,r,n,i.item,this.isShiftKeyPressed):void 0};i.prototype.stopForceRenderingAbove=function(){var t=Ynt.get(this.editor);t==null||t.stopForceRenderingAbove()};i.prototype.forceRenderingAbove=function(){var t=Ynt.get(this.editor);t==null||t.forceRenderingAbove()};return i}(Cn);var Knt=function(){function t(t,i,n,r){this.range=t,this.insertText=i,this.completionItemKind=n,this.isSnippetText=r}t.fromSuggestion=function(i,n,r,e,o){var s=e.completion.insertText,u=!1;if(4&e.completion.insertTextRules){var a=(new n1).parse(s);a.children.length<100&&Bit.adjustWhitespace(n,r,!0,a),s=a.toString(),u=!0}var c=i.getOverwriteInfo(e,o);return new t(Zr.fromPositions(r.delta(0,-c.overwriteBefore),r.delta(0,Math.max(c.overwriteAfter,0))),s,e.completion.kind,u)};t.prototype.equals=function(t){return this.range.equalsRange(t.range)&&this.insertText===t.insertText&&this.completionItemKind===t.completionItemKind&&this.isSnippetText===t.isSnippetText};t.prototype.toSelectedSuggestionInfo=function(){return new de(this.range,this.insertText,this.completionItemKind,this.isSnippetText)};t.prototype.toSingleTextEdit=function(){return new VK(this.range,this.insertText)};return t}();var Xnt,qnt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Znt=function(t,i){return function(n,r){i(n,r,t)}};var $nt=Xnt=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;h=t.call(this)||this,h.editor=i,h._instantiationService=n,h._contextKeyService=r,h._configurationService=e,h._commandService=o,h._debounceService=s,h._languageFeaturesService=u,h._accessibilitySignalService=a,h._keybindingService=c,h.model=h._register(yj("inlineCompletionModel",void 0)),h._textModelVersionId=mj(h,-1),h._positions=mj(h,[new qr(1,1)]),h._suggestWidgetAdaptor=h._register(new Vnt(h.editor,(function(){var t,i;return(i=(t=h.model.get())===null||t===void 0?void 0:t.selectedInlineCompletion.get())===null||i===void 0?void 0:i.toSingleTextEdit(void 0)}),(function(t){return h.updateObservables(t,Iit.Other)}),(function(t){Aj((function(i){var n;h.updateObservables(i,Iit.Other),(n=h.model.get())===null||n===void 0||n.handleSuggestAccepted(t)}))}))),h._enabled=Rj(h.editor.onDidChangeConfiguration,(function(){return h.editor.getOption(62).enabled})),h._fontFamily=Rj(h.editor.onDidChangeConfiguration,(function(){return h.editor.getOption(62).fontFamily})),h._ghostTexts=Ej(h,(function(t){var i;var n=h.model.read(t);return(i=n==null?void 0:n.ghostTexts.read(t))!==null&&i!==void 0?i:[]})),h._stablizedGhostTexts=function(t,i){var n=mj("result",[]),r=[];return i.add(_j((function(i){var e=t.read(i);Aj((function(t){if(e.length!==r.length){r.length=e.length;for(var i=0;i<r.length;i++)r[i]||(r[i]=mj("item",e[i]));n.set(__spreadArray([],r,true),t)}r.forEach((function(i,n){return i.set(e[n],t)}))}))}))),n}(h._ghostTexts,h._store),h._ghostTextWidgets=function(t,i,n,r){var e=new Jj(n,r);return Bj({debugReferenceFn:n,owner:t,onLastObserverRemoved:function(){e.dispose(),e=new Jj(n)}},(function(t){return e.setItems(i.read(t)),e.getItems()}))}(h,h._stablizedGhostTexts,(function(t,i){return i.add(h._instantiationService.createInstance(Stt,h.editor,{ghostText:t,minReservedLineCount:Oj(0),targetTextModel:h.model.map((function(t){return t==null?void 0:t.textModel}))}))})).recomputeInitiallyAndOnChange(h._store),h._debounceValue=h._debounceService.for(h._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),h._playAccessibilitySignal=zj(h),h._isReadonly=Rj(h.editor.onDidChangeConfiguration,(function(){return h.editor.getOption(91)})),h._textModel=Rj(h.editor.onDidChangeModel,(function(){return h.editor.getModel()})),h._textModelIfWritable=Ej((function(t){return h._isReadonly.read(t)?void 0:h._textModel.read(t)})),h._register(new ptt(h._contextKeyService,h.model)),h._register(_j((function(t){var r=h._textModelIfWritable.read(t);Aj((function(t){if(h.model.set(void 0,t),h.updateObservables(t,Iit.Other),r){var e=n.createInstance(Nit,r,h._suggestWidgetAdaptor.selectedItem,h._textModelVersionId,h._positions,h._debounceValue,Rj(i.onDidChangeConfiguration,(function(){return i.getOption(118).preview})),Rj(i.onDidChangeConfiguration,(function(){return i.getOption(118).previewMode})),Rj(i.onDidChangeConfiguration,(function(){return i.getOption(62).mode})),h._enabled);h.model.set(e,t)}}))})));var f=h._register(fc());h._register(_j((function(t){var i=h._fontFamily.read(t);f.setStyle(i===""||i==="default"?"":"\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .ghost-text {\n\tfont-family: ".concat(i,";\n}"))})));var l=function(t){var i;return t.isUndoing?Iit.Undo:t.isRedoing?Iit.Redo:!((i=h.model.get())===null||i===void 0)&&i.isAcceptingPartially?Iit.AcceptWord:Iit.Other};var d;h._register(i.onDidChangeModelContent((function(t){return Aj((function(i){return h.updateObservables(i,l(t))}))}))),h._register(i.onDidChangeCursorPosition((function(t){return Aj((function(i){var n;h.updateObservables(i,Iit.Other),t.reason!==3&&t.source!=="api"||(n=h.model.get())===null||n===void 0||n.stop(i)}))}))),h._register(i.onDidType((function(){return Aj((function(t){var i;h.updateObservables(t,Iit.Other),h._enabled.get()&&((i=h.model.get())===null||i===void 0||i.trigger(t))}))}))),h._register(h._commandService.onDidExecuteCommand((function(t){new Set([mB.Tab.id,mB.DeleteLeft.id,mB.DeleteRight.id,N8,"acceptSelectedSuggestion"]).has(t.commandId)&&i.hasTextFocus()&&h._enabled.get()&&Aj((function(t){var i;(i=h.model.get())===null||i===void 0||i.trigger(t)}))}))),h._register(h.editor.onDidBlurEditorWidget((function(){h._contextKeyService.getContextKeyValue("accessibleViewIsShown")||h._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||i.getOption(62).keepOnBlur||J8.dropDownVisible||Aj((function(t){var i;(i=h.model.get())===null||i===void 0||i.stop(t)}))}))),h._register(_j((function(t){var i;var n=(i=h.model.read(t))===null||i===void 0?void 0:i.state.read(t);n!=null&&n.suggestItem?n.primaryGhostText.lineCount>=2&&h._suggestWidgetAdaptor.forceRenderingAbove():h._suggestWidgetAdaptor.stopForceRenderingAbove()}))),h._register(En((function(){h._suggestWidgetAdaptor.stopForceRenderingAbove()}))),h._register(Sj({handleChange:function(t,i){return t.didChange(h._playAccessibilitySignal)&&(d=void 0),!0}},(function(t){return __awaiter(h,void 0,void 0,(function(){var i,n,r;var e=this;return __generator(this,(function(o){this._playAccessibilitySignal.read(t);i=this.model.read(t),n=i==null?void 0:i.state.read(t);if(i&&n&&n.inlineCompletion){if(n.inlineCompletion.semanticId!==d){d=n.inlineCompletion.semanticId;r=i.textModel.getLineContent(n.primaryGhostText.lineNumber);this._accessibilitySignalService.playSignal(OG.inlineSuggestion).then((function(){e.editor.getOption(8)&&e.provideScreenReaderUpdate(n.primaryGhostText.renderForScreenReader(r))}))}}else d=void 0;return[2]}))}))}))),h._register(new U8(h.editor,h.model,h._instantiationService)),h._register(h._configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&h.editor.updateOptions({inlineCompletionsAccessibilityVerbose:h._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}))),h.editor.updateOptions({inlineCompletionsAccessibilityVerbose:h._configurationService.getValue("accessibility.verbosity.inlineCompletions")});return h}i.get=function(t){return t.getContribution(Xnt.ID)};i.prototype.playAccessibilitySignal=function(t){this._playAccessibilitySignal.trigger(t)};i.prototype.provideScreenReaderUpdate=function(t){var i=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),n=this._keybindingService.lookupKeybinding("editor.action.accessibleView");var r;!i&&n&&this.editor.getOption(149)&&(r=Bt(0,"Inspect this in the accessible view ({0})",n.getAriaLabel())),Rw(r?t+", "+r:t)};i.prototype.updateObservables=function(t,i){var n,r,e;var o=this.editor.getModel();this._textModelVersionId.set((n=o==null?void 0:o.getVersionId())!==null&&n!==void 0?n:-1,t,i),this._positions.set((e=(r=this.editor.getSelections())===null||r===void 0?void 0:r.map((function(t){return t.getPosition()})))!==null&&e!==void 0?e:[new qr(1,1)],t)};i.prototype.shouldShowHoverAt=function(t){var i;var n=(i=this.model.get())===null||i===void 0?void 0:i.primaryGhostText.get();return!!n&&n.parts.some((function(i){return t.containsPosition(new qr(n.lineNumber,i.column))}))};i.prototype.shouldShowHoverAtViewZone=function(t){var i,n;return(n=(i=this._ghostTextWidgets.get()[0])===null||i===void 0?void 0:i.ownsViewZone(t))!==null&&n!==void 0&&n};return i}(Cn);$nt.ID="editor.contrib.inlineCompletionsController",$nt=Xnt=qnt([Znt(1,fh),Znt(2,hf),Znt(3,sd),Znt(4,Eh),Znt(5,zQ),Znt(6,gg),Znt(7,SG),Znt(8,vE)],$nt);var trt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Hh.and(hB.writable,ptt.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){n=$nt.get(i);(t=n==null?void 0:n.model.get())===null||t===void 0||t.next();return[2]}))}))};return i}(Vf);trt.ID=T8;var irt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Hh.and(hB.writable,ptt.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){n=$nt.get(i);(t=n==null?void 0:n.model.get())===null||t===void 0||t.previous();return[2]}))}))};return i}(Vf);irt.ID=R8;var nrt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:ptt.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){t=$nt.get(i);Aj((function(i){var n;(n=t==null?void 0:t.model.get())===null||n===void 0||n.stop(i)}));return[2]}))}))};return i}(Vf);nrt.ID="editor.action.inlineSuggest.hide";var rrt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,title:Bt(0,"Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:_f.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Hh.equals("config.editor.inlineSuggest.showToolbar","always")})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){i=t.get(sd),n=i.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";i.updateValue("editor.inlineSuggest.showToolbar",n);return[2]}))}))};return i}(Nf);rrt.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var ert=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},ort=function(t,i){return function(n,r){i(n,r,t)}};var srt=function(){function t(t,i,n){this.owner=t,this.range=i,this.controller=n}t.prototype.isValidForHoverAnchor=function(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn};return t}();var urt=function(){function t(t,i,n,r,e,o){this._editor=t,this._languageService=i,this._openerService=n,this.accessibilityService=r,this._instantiationService=e,this._telemetryService=o,this.hoverOrdinal=4}t.prototype.suggestHoverAnchor=function(t){var i=$nt.get(this._editor);if(!i)return null;var n=t.target;if(n.type===8){var r=n.detail;if(i.shouldShowHoverAtViewZone(r.viewZoneId))return new B5(1e3,this,Zr.fromPositions(this._editor.getModel().validatePosition(r.positionBefore||r.position)),t.event.posx,t.event.posy,!1)}return n.type===7&&i.shouldShowHoverAt(n.range)?new B5(1e3,this,n.range,t.event.posx,t.event.posy,!1):n.type===6&&n.detail.mightBeForeignElement&&i.shouldShowHoverAt(n.range)?new B5(1e3,this,n.range,t.event.posx,t.event.posy,!1):null};t.prototype.computeSync=function(t,i){if(this._editor.getOption(62).showToolbar!=="onHover")return[];var n=$nt.get(this._editor);return n&&n.shouldShowHoverAt(t.range)?[new srt(this,t.range,n)]:[]};t.prototype.renderHoverParts=function(t,i){var n=new Bn,r=i[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(t,r,n);var e=r.controller.model.get(),o=this._instantiationService.createInstance(J8,this._editor,!1,Oj(null),e.selectedInlineCompletionIndex,e.inlineCompletionsCount,e.selectedInlineCompletion.map((function(t){var i;return(i=t==null?void 0:t.inlineCompletion.source.inlineCompletions.commands)!==null&&i!==void 0?i:[]})));return t.fragment.appendChild(o.getDomNode()),e.triggerExplicitly(),n.add(o),n};t.prototype.renderScreenReaderText=function(t,i,n){var r=this;var e=Nc,o=e("div.hover-row.markdown-hover"),s=_c(o,e("div.hover-contents",{"aria-live":"assertive"})),u=n.add(new JR({editor:this._editor},this._languageService,this._openerService));n.add(_j((function(e){var o;var a=(o=i.controller.model.read(e))===null||o===void 0?void 0:o.primaryGhostText.read(e);if(a){var c=r._editor.getModel().getLineContent(a.lineNumber);(function(i){n.add(u.onDidRenderAsync((function(){s.className="hover-contents code-hover-contents",t.onContentsChanged()})));var r=Bt(0,"Suggestion:"),e=n.add(u.render((new uR).appendText(r).appendCodeblock("text",i)));s.replaceChildren(e.element)})(a.renderForScreenReader(c))}else Sc(s)}))),t.fragment.appendChild(o)};return t}();function art(t,i){var n=0;for(var r=0;r<t.length;r++)t.charAt(r)==="\t"?n+=i:n++;return n}function crt(t,i,n){t=t<0?0:t;var r="";if(!n){var e=Math.floor(t/i);t%=i;for(var o=0;o<e;o++)r+="\t"}for(var e=0;e<t;e++)r+=" ";return r}function hrt(t,i,n,r,e){if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return[];var o=i.getLanguageConfiguration(t.getLanguageId()).indentationRules;if(!o)return[];for(r=Math.min(r,t.getLineCount());n<=r&&o.unIndentedLinePattern;){var s=t.getLineContent(n);if(!o.unIndentedLinePattern.test(s))break;n++}if(n>r-1)return[];var u=t.getOptions(),a=u.tabSize,c=u.indentSize,h=u.insertSpaces,f=function(t,i){return i=i||1,qE.shiftIndent(t,t.length+i,a,c,h)},l=function(t,i){return i=i||1,qE.unshiftIndent(t,t.length+i,a,c,h)},d=[];var v;var A=t.getLineContent(n);var g=A;if(e!=null){v=e;var s=So(A);g=v+A.substring(s.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(g)&&(v=l(v),g=v+A.substring(s.length)),A!==g&&d.push(BT.replaceMove(new $r(n,1,n,s.length+1),bE(v,c,h)))}else v=So(A);var w=v;o.increaseIndentPattern&&o.increaseIndentPattern.test(g)?(w=f(w),v=f(v)):o.indentNextLinePattern&&o.indentNextLinePattern.test(g)&&(w=f(w));for(var s=++n;s<=r;s++){var p=t.getLineContent(s),m=So(p),b=w+p.substring(m.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(b)&&(w=l(w),v=l(v)),m!==w&&d.push(BT.replaceMove(new $r(s,1,s,m.length+1),bE(w,c,h))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(p)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(b)?(v=f(v),w=v):w=o.indentNextLinePattern&&o.indentNextLinePattern.test(b)?f(w):v)}return d}urt=ert([ort(1,ld),ort(2,HO),ort(3,Kw),ort(4,fh),ort(5,Tf)],urt),il($nt.ID,$nt,3),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inlineSuggest.trigger",label:Bt(0,"Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:hB.writable})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;var n=this;return __generator(this,(function(r){switch(r.label){case 0:t=$nt.get(i);return[4,function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:n=new pj(t,i);r.label=1;case 1:r.trys.push([1,,3,4]);return[4,t(n)];case 2:r.sent();return[3,4];case 3:n.finish();return[7];case 4:return[2]}}))}))}((function(i){return __awaiter(n,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,(n=t==null?void 0:t.model.get())===null||n===void 0?void 0:n.triggerExplicitly(i)];case 1:r.sent(),t==null||t.playAccessibilitySignal(i);return[2]}}))}))}))];case 1:r.sent();return[2]}}))}))};return i}(Vf)),$f(trt),$f(irt),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inlineSuggest.acceptNextWord",label:Bt(0,"Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Hh.and(hB.writable,ptt.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:Hh.and(hB.writable,ptt.inlineSuggestionVisible)},menuOpts:[{menuId:_f.InlineSuggestionToolbar,title:Bt(0,"Accept Word"),group:"primary",order:2}]})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:n=$nt.get(i);return[4,(t=n==null?void 0:n.model.get())===null||t===void 0?void 0:t.acceptNextWord(n.editor)];case 1:r.sent();return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inlineSuggest.acceptNextLine",label:Bt(0,"Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Hh.and(hB.writable,ptt.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:_f.InlineSuggestionToolbar,title:Bt(0,"Accept Line"),group:"secondary",order:2}]})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:n=$nt.get(i);return[4,(t=n==null?void 0:n.model.get())===null||t===void 0?void 0:t.acceptNextLine(n.editor)];case 1:r.sent();return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:N8,label:Bt(0,"Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:ptt.inlineSuggestionVisible,menuOpts:[{menuId:_f.InlineSuggestionToolbar,title:Bt(0,"Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Hh.and(ptt.inlineSuggestionVisible,hB.tabMovesFocus.toNegated(),ptt.inlineSuggestionHasIndentationLessThanTabSize,tit.Visible.toNegated(),hB.hoverFocused.toNegated())}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){n=$nt.get(i);n&&((t=n.model.get())===null||t===void 0||t.accept(n.editor),n.editor.focus());return[2]}))}))};return i}(Vf)),$f(nrt),Rf(rrt),C5.register(urt);var frt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},lrt=function(t,i){return function(n,r){i(n,r,t)}};var drt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:hB.writable})||this}i.prototype.run=function(t,i){var n=i.getModel();if(!n)return;var r=n.getOptions(),e=i.getSelection();if(!e)return;var o=new xrt(e,r.tabSize);i.pushUndoStop(),i.executeCommands(this.id,[o]),i.pushUndoStop(),n.updateOptions({insertSpaces:!0})};return i}(Vf);drt.ID="editor.action.indentationToSpaces";var vrt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:hB.writable})||this}i.prototype.run=function(t,i){var n=i.getModel();if(!n)return;var r=n.getOptions(),e=i.getSelection();if(!e)return;var o=new Ert(e,r.tabSize);i.pushUndoStop(),i.executeCommands(this.id,[o]),i.pushUndoStop(),n.updateOptions({insertSpaces:!1})};return i}(Vf);vrt.ID="editor.action.indentationToTabs";var Art=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,r)||this,e.insertSpaces=i,e.displaySizeOnly=n;return e}i.prototype.run=function(t,i){var n=this;var r=t.get(ZU),e=t.get(vh),o=i.getModel();if(!o)return;var s=e.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),u=o.getOptions(),a=[1,2,3,4,5,6,7,8].map((function(t){return{id:t.toString(),label:t.toString(),description:t===s.tabSize&&t===u.tabSize?Bt(0,"Configured Tab Size"):t===s.tabSize?Bt(0,"Default Tab Size"):t===u.tabSize?Bt(0,"Current Tab Size"):void 0}})),c=Math.min(o.getOptions().tabSize-1,7);setTimeout((function(){r.pick(a,{placeHolder:Bt(0,"Select Tab Size for Current File"),activeItem:a[c]}).then((function(t){if(t&&o&&!o.isDisposed()){var i=parseInt(t.label,10);n.displaySizeOnly?o.updateOptions({tabSize:i}):o.updateOptions({tabSize:i,indentSize:i,insertSpaces:n.insertSpaces})}}))}),50)};return i}(Vf);var grt=function(t){__extends(i,t);function i(){return t.call(this,!1,!1,{id:i.ID,label:Bt(0,"Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})||this}return i}(Art);grt.ID="editor.action.indentUsingTabs";var wrt=function(t){__extends(i,t);function i(){return t.call(this,!0,!1,{id:i.ID,label:Bt(0,"Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})||this}return i}(Art);wrt.ID="editor.action.indentUsingSpaces";var prt=function(t){__extends(i,t);function i(){return t.call(this,!0,!0,{id:i.ID,label:Bt(0,"Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})||this}return i}(Art);prt.ID="editor.action.changeTabDisplaySize";var mrt=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})||this}i.prototype.run=function(t,i){var n=t.get(vh),r=i.getModel();if(!r)return;var e=n.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(e.insertSpaces,e.tabSize)};return i}(Vf);mrt.ID="editor.action.detectIndentation";var brt=function(){function t(t,i){this._initialSelection=i,this._edits=[],this._selectionId=null;for(var n=0,r=t;n<r.length;n++){var e=r[n];e.range&&typeof e.text=="string"&&this._edits.push(e)}}t.prototype.getEditOperations=function(t,i){for(var n=0,r=this._edits;n<r.length;n++){var e=r[n];i.addEditOperation(Zr.lift(e.range),e.text)}var o=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,this._selectionId=i.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=i.trackSelection(this._initialSelection,!1))),o||(this._selectionId=i.trackSelection(this._initialSelection))};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this._selectionId)};return t}();var yrt=function(){function t(t,i){var n=this;this.editor=t,this._languageConfigurationService=i,this.callOnDispose=new Bn,this.callOnModel=new Bn,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return n.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return n.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return n.update()})))}t.prototype.update=function(){var t=this;this.callOnModel.clear(),this.editor.getOption(12)<4||this.editor.getOption(55)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(i){var n=i.range;t.trigger(n)})))};t.prototype.trigger=function(t){var i=this.editor.getSelections();if(i===null||i.length>1)return;var n=this.editor.getModel();if(!n||!n.tokenization.isCheapToTokenize(t.getStartPosition().lineNumber))return;var r=this.editor.getOption(12),e=n.getOptions(),o=e.tabSize,s=e.indentSize,u=e.insertSpaces,a=[],c={shiftIndent:function(t){return qE.shiftIndent(t,t.length+1,o,s,u)},unshiftIndent:function(t){return qE.unshiftIndent(t,t.length+1,o,s,u)}};var h=t.startLineNumber;for(;h<=t.endLineNumber&&this.shouldIgnoreLine(n,h);)h++;if(h>t.endLineNumber)return;var f=n.getLineContent(h);if(!/\S/.test(f.substring(0,t.startColumn-1))){var l=iB(r,n,n.getLanguageId(),h,c,this._languageConfigurationService);if(l!==null){var d=So(f),v=art(l,o);if(v!==art(d,o)){var A=crt(v,o,u);a.push({range:new Zr(h,1,h,d.length+1),text:A}),f=A+f.substr(d.length)}else{var A=nB(n,h,this._languageConfigurationService);if(A===0||A===8)return}}}var g=h;for(;h<t.endLineNumber&&!/\S/.test(n.getLineContent(h+1));)h++;if(h!==t.endLineNumber){var l=iB(r,{tokenization:{getLineTokens:function(t){return n.tokenization.getLineTokens(t)},getLanguageId:function(){return n.getLanguageId()},getLanguageIdAtPosition:function(t,i){return n.getLanguageIdAtPosition(t,i)}},getLineContent:function(t){return t===g?f:n.getLineContent(t)}},n.getLanguageId(),h+1,c,this._languageConfigurationService);if(l!==null){var d=art(l,o),v=art(So(n.getLineContent(h+1)),o);if(d!==v){var A=d-v;for(var w=h+1;w<=t.endLineNumber;w++){var p=So(n.getLineContent(w)),m=crt(art(p,o)+A,o,u);m!==p&&a.push({range:new Zr(w,1,w,p.length+1),text:m})}}}}if(a.length>0){this.editor.pushUndoStop();var l=new brt(a,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",l),this.editor.pushUndoStop()}};t.prototype.shouldIgnoreLine=function(t,i){t.tokenization.forceTokenization(i);var n=t.getLineFirstNonWhitespaceColumn(i);if(n===0)return!0;var r=t.tokenization.getLineTokens(i);if(r.getCount()>0){var e=r.findTokenIndexAtOffset(n);if(e>=0&&r.getStandardTokenType(e)===1)return!0}return!1};t.prototype.dispose=function(){this.callOnDispose.dispose(),this.callOnModel.dispose()};return t}();function krt(t,i,n,r){if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return;var e="";for(var o=0;o<n;o++)e+=" ";var s=new RegExp(e,"gi");for(var o=1,u=t.getLineCount();o<=u;o++){var a=t.getLineFirstNonWhitespaceColumn(o);if(a===0&&(a=t.getLineMaxColumn(o)),a===1)continue;var c=new Zr(o,1,o,a),h=t.getValueInRange(c),f=r?h.replace(/\t/gi,e):h.replace(s,"\t");i.addEditOperation(c,f)}}yrt.ID="editor.contrib.autoIndentOnPaste",yrt=frt([lrt(1,jd)],yrt);var xrt=function(){function t(t,i){this.selection=t,this.tabSize=i,this.selectionId=null}t.prototype.getEditOperations=function(t,i){this.selectionId=i.trackSelection(this.selection),krt(t,i,this.tabSize,!0)};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this.selectionId)};return t}();var Ert=function(){function t(t,i){this.selection=t,this.tabSize=i,this.selectionId=null}t.prototype.getEditOperations=function(t,i){this.selectionId=i.trackSelection(this.selection),krt(t,i,this.tabSize,!1)};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this.selectionId)};return t}();il(yrt.ID,yrt,2),$f(drt),$f(vrt),$f(grt),$f(wrt),$f(prt),$f(mrt),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.reindentlines",label:Bt(0,"Reindent Lines"),alias:"Reindent Lines",precondition:hB.writable})||this}i.prototype.run=function(t,i){var n=t.get(jd),r=i.getModel();if(!r)return;var e=hrt(r,n,1,r.getLineCount());e.length>0&&(i.pushUndoStop(),i.executeEdits(this.id,e),i.pushUndoStop())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.reindentselectedlines",label:Bt(0,"Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:hB.writable})||this}i.prototype.run=function(t,i){var n=t.get(jd),r=i.getModel();if(!r)return;var e=i.getSelections();if(e===null)return;var o=[];for(var s=0,u=e;s<u.length;s++){var a=u[s];var c=a.startLineNumber,h=a.endLineNumber;if(c!==h&&a.endColumn===1&&h--,c===1){if(c===h)continue}else c--;var f=hrt(r,n,c,h);o.push.apply(o,f)}o.length>0&&(i.pushUndoStop(),i.executeEdits(this.id,o),i.pushUndoStop())};return i}(Vf));var Brt=function(){function t(t,i){this.range=t,this.direction=i}return t}();var Crt=function(){function t(t,i,n){this.hint=t,this.anchor=i,this.provider=n,this._isResolved=!1}t.prototype.with=function(i){var n=new t(this.hint,i.anchor,this.provider);return n._isResolved=this._isResolved,n._currentResolve=this._currentResolve,n};t.prototype.resolve=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){switch(n.label){case 0:if(!(typeof this.provider.resolveInlayHint=="function"))return[3,4];if(!this._currentResolve)return[3,2];return[4,this._currentResolve];case 1:return[2,(n.sent(),t.isCancellationRequested?void 0:this.resolve(t))];case 2:this._isResolved||(this._currentResolve=this._doResolve(t).finally((function(){return i._currentResolve=void 0})));return[4,this._currentResolve];case 3:n.sent();n.label=4;case 4:return[2]}}))}))};t.prototype._doResolve=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,Promise.resolve(this.provider.resolveInlayHint(this.hint,t))];case 1:e=s.sent();this.hint.tooltip=(i=e==null?void 0:e.tooltip)!==null&&i!==void 0?i:this.hint.tooltip,this.hint.label=(n=e==null?void 0:e.label)!==null&&n!==void 0?n:this.hint.label,this.hint.textEdits=(r=e==null?void 0:e.textEdits)!==null&&r!==void 0?r:this.hint.textEdits,this._isResolved=!0;return[3,3];case 2:o=s.sent();hn(o),this._isResolved=!1;return[3,3];case 3:return[2]}}))}))};return t}();var Drt=function(){function t(i,n,r){this._disposables=new Bn,this.ranges=i,this.provider=new Set;var e=[];for(var o=0,s=n;o<s.length;o++){var u=s[o],a=u[0],c=u[1];this._disposables.add(a),this.provider.add(c);for(var h=0,f=a.hints;h<f.length;h++){var l=f[h];var d=r.validatePosition(l.position);var v="before";var A=t._getRangeAtPosition(r,d);var g=void 0;A.getStartPosition().isBefore(d)?(g=Zr.fromPositions(A.getStartPosition(),d),v="after"):(g=Zr.fromPositions(d,A.getEndPosition()),v="before"),e.push(new Crt(l,new Brt(g,v),c))}}this.items=e.sort((function(t,i){return qr.compare(t.hint.position,i.hint.position)}))}t.create=function(i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s;var u=this;return __generator(this,(function(a){switch(a.label){case 0:o=[],s=i.ordered(n).reverse().map((function(i){return r.map((function(r){return __awaiter(u,void 0,void 0,(function(){var s,u;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);return[4,i.provideInlayHints(n,r,e)];case 1:s=a.sent();(s!=null&&s.hints.length||i.onDidChangeInlayHints)&&o.push([s!==null&&s!==void 0?s:t._emptyInlayHintList,i]);return[3,3];case 2:u=a.sent();hn(u);return[3,3];case 3:return[2]}}))}))}))}));return[4,Promise.all(s.flat())];case 1:if(a.sent(),e.isCancellationRequested||n.isDisposed())throw new vn;return[2,new t(r,o,n)]}}))}))};t.prototype.dispose=function(){this._disposables.dispose()};t._getRangeAtPosition=function(t,i){var n=i.lineNumber,r=t.getWordAtPosition(i);if(r)return new Zr(n,r.startColumn,n,r.endColumn);t.tokenization.tokenizeIfCheap(n);var e=t.tokenization.getLineTokens(n),o=i.column-1,s=e.findTokenIndexAtOffset(o);var u=e.getStartOffset(s),a=e.getEndOffset(s);return a-u==1&&(u===o&&s>1?(u=e.getStartOffset(s-1),a=e.getEndOffset(s-1)):a===o&&s<e.getCount()-1&&(u=e.getStartOffset(s+1),a=e.getEndOffset(s+1))),new Zr(n,u+1,n,a+1)};return t}();function Mrt(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,l,d,v,A,g,w,p;var m=this;return __generator(this,(function(b){switch(b.label){case 0:o=t.get(Ah),s=t.get(TO),u=t.get(Eh),a=t.get(fh),c=t.get(PI);return[4,r.item.resolve(Gn.None)];case 1:if(b.sent(),!r.part.location)return[2];h=r.part.location,f=[],l=new Set(If.getMenuItems(_f.EditorContext).map((function(t){return Mf(t)?t.command.id:b0()})));d=function(t){l.has(t.desc.id)&&f.push(new gh(t.desc.id,Of.label(t.desc,{renderShortTitle:!0}),void 0,!0,(function(){return __awaiter(m,void 0,void 0,(function(){var n,e,s;return __generator(this,(function(u){switch(u.label){case 0:return[4,o.createModelReference(h.uri)];case 1:n=u.sent();u.label=2;case 2:u.trys.push([2,,4,5]);e=new h5(n.object.textEditorModel,Zr.getStartPosition(h.range)),s=r.item.anchor.range;return[4,a.invokeFunction(t.runEditorCommand.bind(t),i,e,s)];case 3:u.sent();return[3,5];case 4:n.dispose();return[7];case 5:return[2]}}))}))})))};for(v=0,A=f5.all();v<A.length;v++){g=A[v];d(g)}if(r.part.command){w=r.part.command;f.push(new ph),f.push(new gh(w.id,w.title,void 0,!0,(function(){return __awaiter(m,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,u.executeCommand.apply(u,__spreadArray([w.id],(t=w.arguments)!==null&&t!==void 0?t:[],false))];case 1:n.sent();return[3,3];case 2:i=n.sent();c.notify({severity:JI.Error,source:r.item.provider.displayName,message:i});return[3,3];case 3:return[2]}}))}))})))}p=i.getOption(127);s.showContextMenu({domForShadowRoot:p&&(e=i.getDomNode())!==null&&e!==void 0?e:void 0,getAnchor:function(){var t=Ka(n);return{x:t.left,y:t.top+t.height+8}},getActions:function(){return f},onHide:function(){i.focus()},autoSelectFirstItem:!0});return[2]}}))}))}function _rt(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o;var s=this;return __generator(this,(function(u){switch(u.label){case 0:e=t.get(Ah);return[4,e.createModelReference(r.uri)];case 1:o=u.sent();return[4,n.invokeWithinContext((function(t){return __awaiter(s,void 0,void 0,(function(){var e,s,u,a;return __generator(this,(function(c){e=i.hasSideBySideModifier,s=t.get(hf),u=o3.inPeekEditor.getValue(s),a=!e&&n.getOption(88)&&!u;return[2,new l5({openToSide:e,openInPeek:a,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(t,new h5(o.object.textEditorModel,Zr.getStartPosition(r.range)),Zr.lift(r.range))]}))}))}))];case 2:u.sent(),o.dispose();return[2]}}))}))}Drt._emptyInlayHintList=Object.freeze({dispose:function(){},hints:[]});var Frt,Srt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Irt=function(t,i){return function(n,r){i(n,r,t)}};var Qrt=function(){function t(){this._entries=new xv(50)}t.prototype.get=function(i){var n=t._key(i);return this._entries.get(n)};t.prototype.set=function(i,n){var r=t._key(i);this._entries.set(r,n)};t._key=function(t){return"".concat(t.uri.toString(),"/").concat(t.getVersionId())};return t}();var Ort=lh("IInlayHintsCache");Ad(Ort,Qrt,1);var Nrt=function(){function t(t,i){this.item=t,this.index=i}Object.defineProperty(t.prototype,"part",{get:function(){var t=this.item.hint.label;return typeof t=="string"?{label:t}:t[this.index]},enumerable:false,configurable:true});return t}();var Rrt=function(){function t(t,i){this.part=t,this.hasTriggerModifier=i}return t}();var Trt=Frt=function(){function t(t,i,n,r,e,o,s){var u=this;this._editor=t,this._languageFeaturesService=i,this._inlayHintsCache=r,this._commandService=e,this._notificationService=o,this._instaService=s,this._disposables=new Bn,this._sessionDisposables=new Bn,this._decorationsMetadata=new Map,this._ruleFactory=new By(this._editor),this._activeRenderMode=0,this._debounceInfo=n.for(i.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(i.inlayHintsProvider.onDidChange((function(){return u._update()}))),this._disposables.add(t.onDidChangeModel((function(){return u._update()}))),this._disposables.add(t.onDidChangeModelLanguage((function(){return u._update()}))),this._disposables.add(t.onDidChangeConfiguration((function(t){t.hasChanged(141)&&u._update()}))),this._update()}t.get=function(t){var i;return(i=t.getContribution(Frt.ID))!==null&&i!==void 0?i:void 0};t.prototype.dispose=function(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()};t.prototype._update=function(){var t=this;this._sessionDisposables.clear(),this._removeAllDecorations();var i=this._editor.getOption(141);if(i.enabled==="off")return;var n=this._editor.getModel();if(!n||!this._languageFeaturesService.inlayHintsProvider.has(n))return;if(i.enabled==="on")this._activeRenderMode=0;else{var r,e;i.enabled==="onUnlessPressed"?(r=0,e=1):(r=1,e=0),this._activeRenderMode=r,this._sessionDisposables.add(Jc.getInstance().event((function(i){if(!t._editor.hasModel())return;var n=i.altKey&&i.ctrlKey&&!i.shiftKey&&!i.metaKey?e:r;if(n!==t._activeRenderMode){t._activeRenderMode=n;var o=t._editor.getModel(),s=t._copyInlayHintsWithCurrentAnchor(o);t._updateHintsDecorators([o.getFullModelRange()],s),a.schedule(0)}})))}var o=this._inlayHintsCache.get(n);var s;o&&this._updateHintsDecorators([n.getFullModelRange()],o),this._sessionDisposables.add(En((function(){n.isDisposed()||t._cacheHintsForFastRestore(n)})));var u=new Set,a=new qs((function(){return __awaiter(t,void 0,void 0,(function(){var t,i,r,e,o,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:t=Date.now();s==null||s.dispose(!0),s=new Kn;i=n.onWillDispose((function(){return s==null?void 0:s.cancel()}));l.label=1;case 1:l.trys.push([1,3,4,5]);r=s.token;return[4,Drt.create(this._languageFeaturesService.inlayHintsProvider,n,this._getHintsRanges(),r)];case 2:e=l.sent();if(a.delay=this._debounceInfo.update(n,Date.now()-t),r.isCancellationRequested)return[2,void e.dispose()];for(o=0,c=e.provider;o<c.length;o++){h=c[o];typeof h.onDidChangeInlayHints!="function"||u.has(h)||(u.add(h),this._sessionDisposables.add(h.onDidChangeInlayHints((function(){a.isScheduled()||a.schedule()}))))}this._sessionDisposables.add(e),this._updateHintsDecorators(e.ranges,e.items),this._cacheHintsForFastRestore(n);return[3,5];case 3:f=l.sent();cn(f);return[3,5];case 4:s.dispose(),i.dispose();return[7];case 5:return[2]}}))}))}),this._debounceInfo.get(n));this._sessionDisposables.add(a),this._sessionDisposables.add(En((function(){return s==null?void 0:s.dispose(!0)}))),a.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange((function(t){!t.scrollTopChanged&&a.isScheduled()||a.schedule()}))),this._sessionDisposables.add(this._editor.onDidChangeModelContent((function(t){s==null||s.cancel();var i=Math.max(a.delay,1250);a.schedule(i)}))),this._sessionDisposables.add(this._installDblClickGesture((function(){return a.schedule(0)}))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())};t.prototype._installLinkGesture=function(){var t=this;var i=new Bn,n=i.add(new W4(this._editor)),r=new Bn;return i.add(r),i.add(n.onMouseMoveOrRelevantKeyDown((function(i){var n=i[0],e=t._getInlayHintLabelPart(n),o=t._editor.getModel();if(!e||!o)return void r.clear();var s=new Kn;r.add(En((function(){return s.dispose(!0)}))),e.item.resolve(s.token),t._activeInlayHintPart=e.part.command||e.part.location?new Rrt(e,n.hasTriggerModifier):void 0;var u=o.validatePosition(e.item.hint.position).lineNumber,a=new Zr(u,1,u,o.getLineMaxColumn(u)),c=t._getInlineHintsForRange(a);t._updateHintsDecorators([a],c),r.add(En((function(){t._activeInlayHintPart=void 0,t._updateHintsDecorators([a],c)})))}))),i.add(n.onCancel((function(){return r.clear()}))),i.add(n.onExecute((function(i){return __awaiter(t,void 0,void 0,(function(){var t,n,r,e;return __generator(this,(function(o){switch(o.label){case 0:t=this._getInlayHintLabelPart(i);if(!t)return[3,5];n=t.part;if(!n.location)return[3,1];r=this._instaService.invokeFunction(_rt,i,this._editor,n.location);return[3,4];case 1:e=we.is(n.command);if(!e)return[3,3];return[4,this._invokeCommand(n.command,t.item)];case 2:e=o.sent();o.label=3;case 3:r=e;o.label=4;case 4:r;o.label=5;case 5:return[2]}}))}))}))),i};t.prototype._getInlineHintsForRange=function(t){var i=new Set;for(var n=0,r=this._decorationsMetadata.values();n<r.length;n++){var e=r[n];t.containsRange(e.item.anchor.range)&&i.add(e.item)}return Array.from(i)};t.prototype._installDblClickGesture=function(t){var i=this;return this._editor.onMouseUp((function(n){return __awaiter(i,void 0,void 0,(function(){var i,r,e;return __generator(this,(function(o){switch(o.label){case 0:if(n.event.detail!==2)return[2];i=this._getInlayHintLabelPart(n);r=i;if(!r)return[3,2];n.event.preventDefault();return[4,i.item.resolve(Gn.None)];case 1:r=(o.sent(),L(i.item.hint.textEdits));o.label=2;case 2:if(r){e=i.item.hint.textEdits.map((function(t){return BT.replace(Zr.lift(t.range),t.text)}));this._editor.executeEdits("inlayHint.default",e),t()}return[2]}}))}))}))};t.prototype._installContextMenu=function(){var t=this;return this._editor.onContextMenu((function(i){return __awaiter(t,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:if(!(i.event.target instanceof HTMLElement))return[2];t=this._getInlayHintLabelPart(i);n=t;if(!n)return[3,2];return[4,this._instaService.invokeFunction(Mrt,this._editor,i.event.target,t)];case 1:n=r.sent();r.label=2;case 2:n;return[2]}}))}))}))};t.prototype._getInlayHintLabelPart=function(t){var i;if(t.target.type!==6)return;var n=(i=t.target.detail.injectedText)===null||i===void 0?void 0:i.options;return n instanceof tS&&(n==null?void 0:n.attachedData)instanceof Nrt?n.attachedData:void 0};t.prototype._invokeCommand=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r;var e;return __generator(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,(e=this._commandService).executeCommand.apply(e,__spreadArray([t.id],(n=t.arguments)!==null&&n!==void 0?n:[],false))];case 1:o.sent();return[3,3];case 2:r=o.sent();this._notificationService.notify({severity:JI.Error,source:i.provider.displayName,message:r});return[3,3];case 3:return[2]}}))}))};t.prototype._cacheHintsForFastRestore=function(t){var i=this._copyInlayHintsWithCurrentAnchor(t);this._inlayHintsCache.set(t,i)};t.prototype._copyInlayHintsWithCurrentAnchor=function(t){var i=new Map;for(var n=0,r=this._decorationsMetadata;n<r.length;n++){var e=r[n],o=e[0],s=e[1];if(i.has(s.item))continue;var u=t.getDecorationRange(o);if(u){var a=new Brt(u,s.item.anchor.direction),c=s.item.with({anchor:a});i.set(s.item,c)}}return Array.from(i.values())};t.prototype._getHintsRanges=function(){var t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(var r=0,e=i.sort(Zr.compareRangesUsingStarts);r<e.length;r++){var o=e[r];var s=t.validateRange(new Zr(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));n.length!==0&&Zr.areIntersectingOrTouching(n[n.length-1],s)?n[n.length-1]=Zr.plusRange(n[n.length-1],s):n.push(s)}return n};t.prototype._updateHintsDecorators=function(t,i){var n=this;var r,e;var o=[],s=function(t,i,r,e,s){var u;var a={content:r,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:i.className,cursorStops:e,attachedData:s};o.push({item:t,classNameRef:i,decoration:{range:t.anchor.range,options:(u={description:"InlayHint",showIfCollapsed:t.anchor.range.isEmpty(),collapseOnReplaceEdit:!t.anchor.range.isEmpty(),stickiness:0},u[t.anchor.direction]=n._activeRenderMode===0?a:void 0,u)}})},u=function(t,i){var r=n._ruleFactory.createClassNameRef({width:(c/3|0)+"px",display:"inline-block"});s(t,r," ",i?Sv.Right:Sv.None)},a=this._getLayoutInfo(),c=a.fontSize,h=a.fontFamily,f=a.padding,l=a.isUniform,d="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(d,h);var v={line:0,totalLen:0};for(var A=0,g=i;A<g.length;A++){var w=g[A];if(v.line!==w.anchor.range.startLineNumber&&(v={line:w.anchor.range.startLineNumber,totalLen:0}),v.totalLen>Frt._MAX_LABEL_LEN)continue;w.hint.paddingLeft&&u(w,!1);var p=typeof w.hint.label=="string"?[{label:w.hint.label}]:w.hint.label;for(var m=0;m<p.length;m++){var b=p[m],y=m===0,k=m===p.length-1,x={fontSize:"".concat(c,"px"),fontFamily:"var(".concat(d,"), ").concat(en.fontFamily),verticalAlign:l?"baseline":"middle",unicodeBidi:"isolate"};L(w.hint.textEdits)&&(x.cursor="default"),this._fillInColors(x,w.hint),(b.command||b.location)&&((r=this._activeInlayHintPart)===null||r===void 0?void 0:r.part.item)===w&&this._activeInlayHintPart.part.index===m&&(x.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(x.color=ox(Gp),x.cursor="pointer")),f&&(y&&k?(x.padding="1px ".concat(0|Math.max(1,c/4),"px"),x.borderRadius=(c/4|0)+"px"):y?(x.padding="1px 0 1px ".concat(0|Math.max(1,c/4),"px"),x.borderRadius="".concat(c/4|0,"px 0 0 ").concat(c/4|0,"px")):k?(x.padding="1px ".concat(0|Math.max(1,c/4),"px 1px 0"),x.borderRadius="0 ".concat(c/4|0,"px ").concat(c/4|0,"px 0")):x.padding="1px 0 1px 0");var E=b.label;v.totalLen+=E.length;var B=!1;var C=v.totalLen-Frt._MAX_LABEL_LEN;if(C>0&&(E=E.slice(0,-C)+"…",B=!0),s(w,this._ruleFactory.createClassNameRef(x),Lrt(E),k&&!w.hint.paddingRight?Sv.Right:Sv.None,new Nrt(w,m)),B)break}if(w.hint.paddingRight&&u(w,!0),o.length>Frt._MAX_DECORATORS)break}var D=[];var M=function(i,n){var r=(e=_._editor.getModel())===null||e===void 0?void 0:e.getDecorationRange(i);r&&t.some((function(t){return t.containsRange(r)}))&&(D.push(i),n.classNameRef.dispose(),_._decorationsMetadata.delete(i))};var _=this;for(var F=0,S=this._decorationsMetadata;F<S.length;F++){var I=S[F],w=I[0],p=I[1];M(w,p)}var Q=eV.capture(this._editor);this._editor.changeDecorations((function(t){var i=t.deltaDecorations(D,o.map((function(t){return t.decoration})));for(var r=0;r<i.length;r++){var e=o[r];n._decorationsMetadata.set(i[r],e)}})),Q.restore(this._editor)};t.prototype._fillInColors=function(t,i){i.kind===pe.Parameter?(t.backgroundColor=ox(am),t.color=ox(um)):i.kind===pe.Type?(t.backgroundColor=ox(sm),t.color=ox(om)):(t.backgroundColor=ox(em),t.color=ox(rm))};t.prototype._getLayoutInfo=function(){var t=this._editor.getOption(141),i=t.padding,n=this._editor.getOption(52),r=this._editor.getOption(49);var e=t.fontSize;(!e||e<5||e>n)&&(e=n);var o=t.fontFamily||r;return{fontSize:e,fontFamily:o,padding:i,isUniform:!i&&o===r&&e===n}};t.prototype._removeAllDecorations=function(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(var t=0,i=this._decorationsMetadata.values();t<i.length;t++){var n=i[t];n.classNameRef.dispose()}this._decorationsMetadata.clear()};return t}();function Lrt(t){return t.replace(/[ \t]/g," ")}Trt.ID="editor.contrib.InlayHints",Trt._MAX_DECORATORS=1500,Trt._MAX_LABEL_LEN=43,Trt=Frt=Srt([Irt(1,gg),Irt(2,zQ),Irt(3,Ort),Irt(4,Eh),Irt(5,PI),Irt(6,fh)],Trt),Bh.registerCommand("_executeInlayHintProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:n=i[0],r=i[1];lt(zr.isUri(n)),lt(Zr.isIRange(r));e=t.get(gg).inlayHintsProvider;return[4,t.get(Ah).createModelReference(n)];case 1:o=a.sent();a.label=2;case 2:a.trys.push([2,,4,5]);return[4,Drt.create(e,o.object.textEditorModel,[Zr.lift(r)],Gn.None)];case 3:s=a.sent(),u=s.items.map((function(t){return t.hint}));return[2,(setTimeout((function(){return s.dispose()}),0),u)];case 4:o.dispose();return[7];case 5:return[2]}}))}))}));var jrt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},zrt=function(t,i){return function(n,r){i(n,r,t)}};var Urt=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,10,n,i.item.anchor.range,r,e,!0)||this,o.part=i;return o}return i}(B5);var Hrt=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,i,n,r,e,s)||this,u._resolverService=o,u.hoverOrdinal=6;return u}i.prototype.suggestHoverAnchor=function(t){var i;if(!Trt.get(this._editor)||t.target.type!==6)return null;var n=(i=t.target.detail.injectedText)===null||i===void 0?void 0:i.options;return n instanceof tS&&n.attachedData instanceof Nrt?new Urt(n.attachedData,this,t.event.posx,t.event.posy):null};i.prototype.computeSync=function(){return[]};i.prototype.computeAsync=function(t,i,n){var r=this;return t instanceof Urt?new eu((function(i){return __awaiter(r,void 0,void 0,(function(){var r,e,o,s,u,a,c,h,f,l,s,d;var v,A,g,w;return __generator(this,(function(p){switch(p.label){case 0:r=t.part;return[4,r.item.resolve(n)];case 1:if(p.sent(),n.isCancellationRequested)return[2];if(typeof r.item.hint.tooltip=="string"?e=(new uR).appendText(r.item.hint.tooltip):r.item.hint.tooltip&&(e=r.item.hint.tooltip),e&&i.emitOne(new X5(this,t.range,[e],!1,0)),L(r.item.hint.textEdits)&&i.emitOne(new X5(this,t.range,[(new uR).appendText(Bt(0,"Double-click to insert"))],!1,10001)),typeof r.part.tooltip=="string"?o=(new uR).appendText(r.part.tooltip):r.part.tooltip&&(o=r.part.tooltip),o&&i.emitOne(new X5(this,t.range,[o],!1,1)),r.part.location||r.part.command){s=void 0;u=Bt(0,this._editor.getOption(78)==="altKey"?Gt?"cmd + click":"ctrl + click":Gt?"option + click":"alt + click");r.part.location&&r.part.command?s=(new uR).appendText(Bt(0,"Go to Definition ({0}), right click for more",u)):r.part.location?s=(new uR).appendText(Bt(0,"Go to Definition ({0})",u)):r.part.command&&(s=new uR("[".concat(Bt(0,"Execute Command"),"](").concat((a=r.part.command,zr.from({scheme:oa.command,path:a.id,query:a.arguments&&encodeURIComponent(JSON.stringify(a.arguments))}).toString()),' "').concat(r.part.command.title,'") (').concat(u,")"),{isTrusted:!0})),s&&i.emitOne(new X5(this,t.range,[s],!1,1e4))}return[4,this._resolveInlayHintLabelPartHover(r,n)];case 2:c=p.sent();p.label=3;case 3:p.trys.push([3,8,9,14]);h=true,f=__asyncValues(c);p.label=4;case 4:return[4,f.next()];case 5:if(!(l=p.sent(),v=l.done,!v))return[3,7];w=l.value;h=false;s=w;i.emitOne(s);p.label=6;case 6:h=true;return[3,4];case 7:return[3,14];case 8:d=p.sent();A={error:d};return[3,14];case 9:p.trys.push([9,,12,13]);if(!(!h&&!v&&(g=f.return)))return[3,11];return[4,g.call(f)];case 10:p.sent();p.label=11;case 11:return[3,13];case 12:if(A)throw A.error;return[7];case 13:return[7];case 14:return[2]}}))}))})):eu.EMPTY};i.prototype._resolveInlayHintLabelPartHover=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s;var u=this;return __generator(this,(function(a){switch(a.label){case 0:if(!t.part.location)return[2,eu.EMPTY];n=t.part.location,r=n.uri,e=n.range;return[4,this._resolverService.createModelReference(r)];case 1:o=a.sent();try{s=o.object.textEditorModel;return[2,this._languageFeaturesService.hoverProvider.has(s)?W5(this._languageFeaturesService.hoverProvider,s,new qr(e.startLineNumber,e.startColumn),i).filter((function(t){return!aR(t.hover.contents)})).map((function(i){return new X5(u,t.item.anchor.range,i.hover.contents,!1,2+i.ordinal)})):eu.EMPTY]}finally{o.dispose()}return[2]}}))}))};return i}(q5);Hrt=jrt([zrt(1,ld),zrt(2,HO),zrt(3,sd),zrt(4,Ah),zrt(5,gg)],Hrt),il(Trt.ID,Trt,1),C5.register(Hrt);var Yrt=function(){function t(t,i,n){this._editRange=t,this._originalSelection=i,this._text=n}t.prototype.getEditOperations=function(t,i){i.addTrackedEditOperation(this._editRange,this._text)};t.prototype.computeCursorState=function(t,i){var n=i.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new $r(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new $r(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)};return t}();var Jrt,Prt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Wrt=function(t,i){return function(n,r){i(n,r,t)}};var Grt=Jrt=function(){function t(t,i){this.editor=t,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection()}t.get=function(i){return i.getContribution(t.ID)};t.prototype.dispose=function(){};t.prototype.run=function(i,n){var r=this;var e;(e=this.currentRequest)===null||e===void 0||e.cancel();var o=this.editor.getSelection(),s=this.editor.getModel();if(!s||!o)return;var u=o;if(u.startLineNumber!==u.endLineNumber)return;var a=new vZ(this.editor,5),c=s.uri;return this.editorWorkerService.canNavigateValueSet(c)?(this.currentRequest=Us((function(t){return r.editorWorkerService.navigateValueSet(c,u,n)})),this.currentRequest.then((function(n){var e;if(!n||!n.range||!n.value||!a.validate(r.editor))return;var o=Zr.lift(n.range);var s=n.range;var c=n.value.length-(u.endColumn-u.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+n.value.length},c>1&&(u=new $r(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn+c-1));var h=new Yrt(o,u,n.value);r.editor.pushUndoStop(),r.editor.executeCommand(i,h),r.editor.pushUndoStop(),r.decorations.set([{range:s,options:t.DECORATION}]),(e=r.decorationRemover)===null||e===void 0||e.cancel(),r.decorationRemover=Ws(350),r.decorationRemover.then((function(){return r.decorations.clear()})).catch(cn)})).catch(cn)):Promise.resolve(void 0)};return t}();Grt.ID="editor.contrib.inPlaceReplaceController",Grt.DECORATION=iS.register({description:"in-place-replace",className:"valueSetReplacement"}),Grt=Jrt=Prt([Wrt(1,FU)],Grt);il(Grt.ID,Grt,4),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inPlaceReplace.up",label:Bt(0,"Replace with Previous Value"),alias:"Replace with Previous Value",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:3159,weight:100}})||this}i.prototype.run=function(t,i){var n=Grt.get(i);return n?n.run(this.id,!1):Promise.resolve(void 0)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inPlaceReplace.down",label:Bt(0,"Replace with Next Value"),alias:"Replace with Next Value",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:3161,weight:100}})||this}i.prototype.run=function(t,i){var n=Grt.get(i);return n?n.run(this.id,!0):Promise.resolve(void 0)};return i}(Vf));$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"expandLineSelection",label:Bt(0,"Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:hB.textInputFocus,primary:2090}})||this}i.prototype.run=function(t,i,n){if(n=n||{},!i.hasModel())return;var r=i._getViewModel();r.model.pushStackElement(),r.setCursorStates(n.source,3,YE.expandLineSelection(r,r.getCursorStates())),r.revealAllCursors(n.source,!0)};return i}(Vf));var Vrt=function(){function t(t,i,n){this._selection=t,this._cursors=i,this._selectionId=null,this._trimInRegexesAndStrings=n}t.prototype.getEditOperations=function(t,i){var n=function(t,i,n){i.sort((function(t,i){return t.lineNumber===i.lineNumber?t.column-i.column:t.lineNumber-i.lineNumber}));for(var r=i.length-2;r>=0;r--)i[r].lineNumber===i[r+1].lineNumber&&i.splice(r,1);var e=[];var o=0,s=0;var u=i.length;for(var r=1,a=t.getLineCount();r<=a;r++){var c=t.getLineContent(r),h=c.length+1;var f=0;if(s<u&&i[s].lineNumber===r&&(f=i[s].column,s++,f===h)||c.length===0)continue;var l=Io(c);var d=0;if(l===-1)d=1;else{if(l===c.length-1)continue;d=l+2}if(!n){if(!t.tokenization.hasAccurateTokensForLine(r))continue;var v=t.tokenization.getLineTokens(r),A=v.getStandardTokenType(v.findTokenIndexAtOffset(d));if(A===2||A===3)continue}d=Math.max(f,d),e[o++]=BT.delete(new Zr(r,d,r,h))}return e}(t,this._cursors,this._trimInRegexesAndStrings);for(var r=0,e=n.length;r<e;r++){var o=n[r];i.addEditOperation(o.range,o.text)}this._selectionId=i.trackSelection(this._selection)};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this._selectionId)};return t}();var Krt=function(){function t(t,i,n){this._selection=t,this._isCopyingDown=i,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}t.prototype.getEditOperations=function(t,i){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));var r=[];for(var e=n.startLineNumber;e<=n.endLineNumber;e++)r.push(t.getLineContent(e));var o=r.join("\n");o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?i.addEditOperation(new Zr(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===t.getLineCount()?"":"\n"):this._isCopyingDown?i.addEditOperation(new Zr(n.startLineNumber,1,n.startLineNumber,1),o+"\n"):i.addEditOperation(new Zr(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),"\n"+o),this._selectionId=i.trackSelection(n),this._selectionDirection=this._selection.getDirection()};t.prototype.computeCursorState=function(t,i){var n=i.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var r=n.startLineNumber,e=n.startColumn,o=n.endLineNumber,s=n.endColumn;this._startLineNumberDelta!==0&&(r+=this._startLineNumberDelta,e=1),this._endLineNumberDelta!==0&&(o+=this._endLineNumberDelta,s=1),n=$r.createWithDirection(r,e,o,s,this._selectionDirection)}return n};return t}();var Xrt=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},qrt=function(t,i){return function(n,r){i(n,r,t)}};var Zrt=function(){function t(t,i,n,r){this._languageConfigurationService=r,this._selection=t,this._isMovingDown=i,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}t.prototype.getEditOperations=function(t,i){var n=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=i.trackSelection(this._selection));if(!this._isMovingDown&&this._selection.startLineNumber===1)return void(this._selectionId=i.trackSelection(this._selection));this._moveEndPositionDown=!1;var r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,t.getLineMaxColumn(r.endLineNumber-1)));var e=t.getOptions(),o=e.tabSize,s=e.indentSize,u=e.insertSpaces,a=this.buildIndentConverter(o,s,u),c={tokenization:{getLineTokens:function(i){return t.tokenization.getLineTokens(i)},getLanguageId:function(){return t.getLanguageId()},getLanguageIdAtPosition:function(i,n){return t.getLanguageIdAtPosition(i,n)}},getLineContent:null};if(r.startLineNumber===r.endLineNumber&&t.getLineMaxColumn(r.startLineNumber)===1){var h=r.startLineNumber,f=this._isMovingDown?h+1:h-1;t.getLineMaxColumn(f)===1?i.addEditOperation(new Zr(1,1,1,1),null):(i.addEditOperation(new Zr(h,1,h,1),t.getLineContent(f)),i.addEditOperation(new Zr(f,1,f,t.getLineMaxColumn(f)),null)),r=new $r(f,1,f,1)}else{var l,d;if(this._isMovingDown){l=r.endLineNumber+1,d=t.getLineContent(l),i.addEditOperation(new Zr(l-1,t.getLineMaxColumn(l-1),l,t.getLineMaxColumn(l)),null);var v=d;if(this.shouldAutoIndent(t,r)){var A=this.matchEnterRule(t,a,o,l,r.startLineNumber-1);if(A!==null)v=crt(A+art(So(t.getLineContent(l)),o),o,u)+this.trimStart(d);else{c.getLineContent=function(i){return i===r.startLineNumber?t.getLineContent(l):t.getLineContent(i)};var g=iB(this._autoIndent,c,t.getLanguageIdAtPosition(l,1),r.startLineNumber,a,this._languageConfigurationService);if(g!==null){var w=So(t.getLineContent(l)),p=art(g,o);p!==art(w,o)&&(v=crt(p,o,u)+this.trimStart(d))}}i.addEditOperation(new Zr(r.startLineNumber,1,r.startLineNumber,1),v+"\n");var m=this.matchEnterRuleMovingDown(t,a,o,r.startLineNumber,l,v);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(t,i,r,o,u,m);else{c.getLineContent=function(i){return i===r.startLineNumber?v:i>=r.startLineNumber+1&&i<=r.endLineNumber+1?t.getLineContent(i-1):t.getLineContent(i)};var g=iB(this._autoIndent,c,t.getLanguageIdAtPosition(l,1),r.startLineNumber+1,a,this._languageConfigurationService);if(g!==null){var w=So(t.getLineContent(r.startLineNumber)),p=art(g,o),b=art(w,o);if(p!==b){var y=p-b;this.getIndentEditsOfMovingBlock(t,i,r,o,u,y)}}}}else i.addEditOperation(new Zr(r.startLineNumber,1,r.startLineNumber,1),v+"\n")}else if(l=r.startLineNumber-1,d=t.getLineContent(l),i.addEditOperation(new Zr(l,1,l+1,1),null),i.addEditOperation(new Zr(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber),r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),"\n"+d),this.shouldAutoIndent(t,r)){c.getLineContent=function(i){return i===l?t.getLineContent(r.startLineNumber):t.getLineContent(i)};var k=this.matchEnterRule(t,a,o,r.startLineNumber,r.startLineNumber-2);if(k!==null)k!==0&&this.getIndentEditsOfMovingBlock(t,i,r,o,u,k);else{var A=iB(this._autoIndent,c,t.getLanguageIdAtPosition(r.startLineNumber,1),l,a,this._languageConfigurationService);if(A!==null){var m=So(t.getLineContent(r.startLineNumber)),g=art(A,o),w=art(m,o);if(g!==w){var p=g-w;this.getIndentEditsOfMovingBlock(t,i,r,o,u,p)}}}}}this._selectionId=i.trackSelection(r)};t.prototype.buildIndentConverter=function(t,i,n){return{shiftIndent:function(r){return qE.shiftIndent(r,r.length+1,t,i,n)},unshiftIndent:function(r){return qE.unshiftIndent(r,r.length+1,t,i,n)}}};t.prototype.parseEnterResult=function(t,i,n,r,e){if(e){var o=e.indentation;e.indentAction===xl.None||e.indentAction===xl.Indent?o=e.indentation+e.appendText:e.indentAction===xl.IndentOutdent?o=e.indentation:e.indentAction===xl.Outdent&&(o=i.unshiftIndent(e.indentation)+e.appendText);var s=t.getLineContent(r);if(this.trimStart(s).indexOf(this.trimStart(o))>=0){var u=So(t.getLineContent(r));var a=So(o);var c=nB(t,r,this._languageConfigurationService);return c!==null&&2&c&&(a=i.unshiftIndent(a)),art(a,n)-art(u,n)}}return null};t.prototype.matchEnterRuleMovingDown=function(t,i,n,r,e,o){if(Io(o)>=0){var s=t.getLineMaxColumn(e),u=PE(this._autoIndent,t,new Zr(e,s,e,s),this._languageConfigurationService);return this.parseEnterResult(t,i,n,r,u)}{var s=r-1;for(;s>=1&&!(Io(t.getLineContent(s))>=0);)s--;if(s<1||r>t.getLineCount())return null;var u=t.getLineMaxColumn(s),a=PE(this._autoIndent,t,new Zr(s,u,s,u),this._languageConfigurationService);return this.parseEnterResult(t,i,n,r,a)}};t.prototype.matchEnterRule=function(t,i,n,r,e,o){var s=e;for(;s>=1;){var u=void 0;if(u=s===e&&o!==void 0?o:t.getLineContent(s),Io(u)>=0)break;s--}if(s<1||r>t.getLineCount())return null;var a=t.getLineMaxColumn(s),c=PE(this._autoIndent,t,new Zr(s,a,s,a),this._languageConfigurationService);return this.parseEnterResult(t,i,n,r,c)};t.prototype.trimStart=function(t){return t.replace(/^\s+/,"")};t.prototype.shouldAutoIndent=function(t,i){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(i.startLineNumber))return!1;var n=t.getLanguageIdAtPosition(i.startLineNumber,1);return n===t.getLanguageIdAtPosition(i.endLineNumber,1)&&this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport!==null};t.prototype.getIndentEditsOfMovingBlock=function(t,i,n,r,e,o){for(var s=n.startLineNumber;s<=n.endLineNumber;s++){var u=So(t.getLineContent(s)),a=crt(art(u,r)+o,r,e);a!==u&&(i.addEditOperation(new Zr(s,1,s,u.length+1),a),s===n.endLineNumber&&n.endColumn<=u.length+1&&a===""&&(this._moveEndLineSelectionShrink=!0))}};t.prototype.computeCursorState=function(t,i){var n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n};return t}();Zrt=Xrt([qrt(3,jd)],Zrt);var $rt=function(){function t(t,i){this.selection=t,this.descending=i,this.selectionId=null}t.getCollator=function(){return t._COLLATOR||(t._COLLATOR=new Intl.Collator),t._COLLATOR};t.prototype.getEditOperations=function(t,i){var n=function(t,i,n){var r=tet(t,i,n);return r?BT.replace(new Zr(r.startLineNumber,1,r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),r.after.join("\n")):null}(t,this.selection,this.descending);n&&i.addEditOperation(n.range,n.text),this.selectionId=i.trackSelection(this.selection)};t.prototype.computeCursorState=function(t,i){return i.getTrackedSelection(this.selectionId)};t.canRun=function(t,i,n){if(t===null)return!1;var r=tet(t,i,n);if(!r)return!1;for(var e=0,o=r.before.length;e<o;e++)if(r.before[e]!==r.after[e])return!0;return!1};return t}();function tet(t,i,n){var r=i.startLineNumber;var e=i.endLineNumber;if(i.endColumn===1&&e--,r>=e)return null;var o=[];for(var s=r;s<=e;s++)o.push(t.getLineContent(s));var u=o.slice(0);return u.sort($rt.getCollator().compare),n===!0&&(u=u.reverse()),{startLineNumber:r,endLineNumber:e,before:o,after:u}}$rt._COLLATOR=null;var iet=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.down=i;return r}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getSelections().map((function(t,i){return{selection:t,index:i,ignore:!1}}));n.sort((function(t,i){return Zr.compareRangesUsingStarts(t.selection,i.selection)}));var r=n[0];for(var e=1;e<n.length;e++){var o=n[e];r.selection.endLineNumber===o.selection.startLineNumber&&(r.index<o.index?o.ignore=!0:(r.ignore=!0,r=o))}var s=[];for(var u=0,a=n;u<a.length;u++){var e=a[u];s.push(new Krt(e.selection,this.down,e.ignore))}i.pushUndoStop(),i.executeCommands(this.id,s),i.pushUndoStop()};return i}(Vf);var net=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.down=i;return r}i.prototype.run=function(t,i){var n=t.get(jd),r=[],e=i.getSelections()||[],o=i.getOption(12);for(var s=0,u=e;s<u.length;s++){var a=u[s];r.push(new Zrt(a,this.down,o,n))}i.pushUndoStop(),i.executeCommands(this.id,r),i.pushUndoStop()};return i}(Vf);var ret=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r.descending=i;return r}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getModel();var r=i.getSelections();r.length===1&&r[0].isEmpty()&&(r=[new $r(1,1,n.getLineCount(),n.getLineMaxColumn(n.getLineCount()))]);for(var e=0,o=r;e<o.length;e++){var s=o[e];if(!$rt.canRun(i.getModel(),s,this.descending))return}var u=[];for(var s=0,a=r.length;s<a;s++)u[s]=new $rt(r[s],this.descending);i.pushUndoStop(),i.executeCommands(this.id,u),i.pushUndoStop()};return i}(Vf);var eet=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:or(2089,2102),weight:100}})||this}i.prototype.run=function(t,i,n){var r=[];n.reason==="auto-save"&&(r=(i.getSelections()||[]).map((function(t){return new qr(t.positionLineNumber,t.positionColumn)})));var e=i.getSelection();if(e===null)return;var o=t.get(sd),s=i.getModel(),u=o.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:s==null?void 0:s.getLanguageId(),resource:s==null?void 0:s.uri}),a=new Vrt(e,r,u);i.pushUndoStop(),i.executeCommands(this.id,[a]),i.pushUndoStop()};return i}(Vf);eet.ID="editor.action.trimTrailingWhitespace";var oet=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getSelection(),r=this._getRangesToDelete(i),e=[];for(var o=0,s=r.length-1;o<s;o++){var u=r[o],a=r[o+1];Zr.intersectRanges(u,a)===null?e.push(u):r[o+1]=Zr.plusRange(u,a)}e.push(r[r.length-1]);var c=this._getEndCursorState(n,e),h=e.map((function(t){return BT.replace(t,"")}));i.pushUndoStop(),i.executeEdits(this.id,h,c),i.pushUndoStop()};return i}(Vf);var set=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.run=function(t,i){var n=i.getSelections();if(n===null)return;var r=i.getModel();if(r===null)return;var e=i.getOption(131),o=[];for(var s=0,u=n;s<u.length;s++){var a=u[s];if(a.isEmpty()){var c=a.getStartPosition(),h=i.getConfiguredWordAtPosition(c);if(!h)continue;var f=new Zr(c.lineNumber,h.startColumn,c.lineNumber,h.endColumn),l=r.getValueInRange(f);o.push(BT.replace(f,this._modifyText(l,e)))}else{var c=r.getValueInRange(a);o.push(BT.replace(a,this._modifyText(c,e)))}}i.pushUndoStop(),i.executeEdits(this.id,o),i.pushUndoStop()};return i}(Vf);var uet=function(){function t(t,i){this._pattern=t,this._flags=i,this._actual=null,this._evaluated=!1}t.prototype.get=function(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(t){}}return this._actual};t.prototype.isSupported=function(){return this.get()!==null};return t}();var aet=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToTitlecase",label:Bt(0,"Transform to Title Case"),alias:"Transform to Title Case",precondition:hB.writable})||this}i.prototype._modifyText=function(t,n){var r=i.titleBoundary.get();return r?t.toLocaleLowerCase().replace(r,(function(t){return t.toLocaleUpperCase()})):t};return i}(set);aet.titleBoundary=new uet("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var cet=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToSnakecase",label:Bt(0,"Transform to Snake Case"),alias:"Transform to Snake Case",precondition:hB.writable})||this}i.prototype._modifyText=function(t,n){var r=i.caseBoundary.get(),e=i.singleLetters.get();return r&&e?t.replace(r,"$1_$2").replace(e,"$1_$2$3").toLocaleLowerCase():t};return i}(set);cet.caseBoundary=new uet("(\\p{Ll})(\\p{Lu})","gmu"),cet.singleLetters=new uet("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");var het=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToCamelcase",label:Bt(0,"Transform to Camel Case"),alias:"Transform to Camel Case",precondition:hB.writable})||this}i.prototype._modifyText=function(t,n){var r=i.wordBoundary.get();if(!r)return t;var e=t.split(r);return e.shift()+e.map((function(t){return t.substring(0,1).toLocaleUpperCase()+t.substring(1)})).join("")};return i}(set);het.wordBoundary=new uet("[_\\s-]","gm");var fet=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToPascalcase",label:Bt(0,"Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:hB.writable})||this}i.prototype._modifyText=function(t,n){var r=i.wordBoundary.get(),e=i.wordBoundaryToMaintain.get();return!r||!e?t:t.split(e).map((function(t){return t.split(r)})).flat().map((function(t){return t.substring(0,1).toLocaleUpperCase()+t.substring(1)})).join("")};return i}(set);fet.wordBoundary=new uet("[_\\s-]","gm"),fet.wordBoundaryToMaintain=new uet("(?<=\\.)","gm");var det=function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToKebabcase",label:Bt(0,"Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:hB.writable})||this}i.isSupported=function(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every((function(t){return t.isSupported()}))};i.prototype._modifyText=function(t,n){var r=i.caseBoundary.get(),e=i.singleLetters.get(),o=i.underscoreBoundary.get();return r&&e&&o?t.replace(o,"$1-$3").replace(r,"$1-$2").replace(e,"$1-$2").toLocaleLowerCase():t};return i}(set);det.caseBoundary=new uet("(\\p{Ll})(\\p{Lu})","gmu"),det.singleLetters=new uet("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),det.underscoreBoundary=new uet("(\\S)(_)(\\S)","gm"),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,{id:"editor.action.copyLinesUpAction",label:Bt(0,"Copy Line Up"),alias:"Copy Line Up",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"2_line",title:Bt(0,"&&Copy Line Up"),order:1}})||this}return i}(iet)),$f(function(t){__extends(i,t);function i(){return t.call(this,!0,{id:"editor.action.copyLinesDownAction",label:Bt(0,"Copy Line Down"),alias:"Copy Line Down",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"2_line",title:Bt(0,"Co&&py Line Down"),order:2}})||this}return i}(iet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.duplicateSelection",label:Bt(0,"Duplicate Selection"),alias:"Duplicate Selection",precondition:hB.writable,menuOpts:{menuId:_f.MenubarSelectionMenu,group:"2_line",title:Bt(0,"&&Duplicate Selection"),order:5}})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=[],e=i.getSelections(),o=i.getModel();for(var s=0,u=e;s<u.length;s++){var a=u[s];if(a.isEmpty())r.push(new Krt(a,!0));else{var c=new $r(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);r.push(new QE(c,o.getValueInRange(a)))}}i.pushUndoStop(),i.executeCommands(this.id,r),i.pushUndoStop()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,{id:"editor.action.moveLinesUpAction",label:Bt(0,"Move Line Up"),alias:"Move Line Up",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"2_line",title:Bt(0,"Mo&&ve Line Up"),order:3}})||this}return i}(net)),$f(function(t){__extends(i,t);function i(){return t.call(this,!0,{id:"editor.action.moveLinesDownAction",label:Bt(0,"Move Line Down"),alias:"Move Line Down",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"2_line",title:Bt(0,"Move &&Line Down"),order:4}})||this}return i}(net)),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,{id:"editor.action.sortLinesAscending",label:Bt(0,"Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:hB.writable})||this}return i}(ret)),$f(function(t){__extends(i,t);function i(){return t.call(this,!0,{id:"editor.action.sortLinesDescending",label:Bt(0,"Sort Lines Descending"),alias:"Sort Lines Descending",precondition:hB.writable})||this}return i}(ret)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.removeDuplicateLines",label:Bt(0,"Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:hB.writable})||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;var r=[],e=[];var o=0,s=!0,u=i.getSelections();u.length===1&&u[0].isEmpty()&&(u=[new $r(1,1,n.getLineCount(),n.getLineMaxColumn(n.getLineCount()))],s=!1);for(var a=0,c=u;a<c.length;a++){var h=c[a];var f=new Set,l=[];for(var d=h.startLineNumber;d<=h.endLineNumber;d++){var v=n.getLineContent(d);f.has(v)||(l.push(v),f.add(v))}var A=new $r(h.startLineNumber,1,h.endLineNumber,n.getLineMaxColumn(h.endLineNumber)),g=h.startLineNumber-o,w=new $r(g,1,g+l.length-1,l[l.length-1].length);r.push(BT.replace(A,l.join("\n"))),e.push(w),o+=h.endLineNumber-h.startLineNumber+1-l.length}i.pushUndoStop(),i.executeEdits(this.id,r,s?e:void 0),i.pushUndoStop()};return i}(Vf)),$f(eet),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.deleteLines",label:Bt(0,"Delete Line"),alias:"Delete Line",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:3113,weight:100}})||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=this._getLinesToRemove(i),r=i.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;var e=0;var o=[],s=[];for(var u=0,a=n.length;u<a;u++){var c=n[u];var h=c.startLineNumber,f=c.endLineNumber,l=1,d=r.getLineMaxColumn(f);f<r.getLineCount()?(f+=1,d=1):h>1&&(h-=1,l=r.getLineMaxColumn(h)),o.push(BT.replace(new $r(h,l,f,d),"")),s.push(new $r(h-e,c.positionColumn,h-e,c.positionColumn)),e+=c.endLineNumber-c.startLineNumber+1}i.pushUndoStop(),i.executeEdits(this.id,o,s),i.pushUndoStop()};i.prototype._getLinesToRemove=function(t){var i=t.getSelections().map((function(t){var i=t.endLineNumber;return t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(i-=1),{startLineNumber:t.startLineNumber,selectionStartColumn:t.selectionStartColumn,endLineNumber:i,positionColumn:t.positionColumn}}));i.sort((function(t,i){return t.startLineNumber===i.startLineNumber?t.endLineNumber-i.endLineNumber:t.startLineNumber-i.startLineNumber}));var n=[];var r=i[0];for(var e=1;e<i.length;e++)r.endLineNumber+1>=i[e].startLineNumber?r.endLineNumber=i[e].endLineNumber:(n.push(r),r=i[e]);return n.push(r),n};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.indentLines",label:Bt(0,"Indent Line"),alias:"Indent Line",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:2142,weight:100}})||this}i.prototype.run=function(t,i){var n=i._getViewModel();n&&(i.pushUndoStop(),i.executeCommands(this.id,rB.indent(n.cursorConfig,i.getModel(),i.getSelections())),i.pushUndoStop())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.outdentLines",label:Bt(0,"Outdent Line"),alias:"Outdent Line",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:2140,weight:100}})||this}i.prototype.run=function(t,i){mB.Outdent.runEditorCommand(t,i,null)};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.insertLineBefore",label:Bt(0,"Insert Line Above"),alias:"Insert Line Above",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:3075,weight:100}})||this}i.prototype.run=function(t,i){var n=i._getViewModel();n&&(i.pushUndoStop(),i.executeCommands(this.id,rB.lineInsertBefore(n.cursorConfig,i.getModel(),i.getSelections())))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.insertLineAfter",label:Bt(0,"Insert Line Below"),alias:"Insert Line Below",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:2051,weight:100}})||this}i.prototype.run=function(t,i){var n=i._getViewModel();n&&(i.pushUndoStop(),i.executeCommands(this.id,rB.lineInsertAfter(n.cursorConfig,i.getModel(),i.getSelections())))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"deleteAllLeft",label:Bt(0,"Delete All Left"),alias:"Delete All Left",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}i.prototype._getEndCursorState=function(t,i){var n=null;var r=[];var e=0;return i.forEach((function(i){var o;if(i.endColumn===1&&e>0){var s=i.startLineNumber-e;o=new $r(s,i.startColumn,s,i.startColumn)}else o=new $r(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn);e+=i.endLineNumber-i.startLineNumber,i.intersectRanges(t)?n=o:r.push(o)})),n&&r.unshift(n),r};i.prototype._getRangesToDelete=function(t){var i=t.getSelections();if(i===null)return[];var n=i;var r=t.getModel();return r===null?[]:(n.sort(Zr.compareRangesUsingStarts),n=n.map((function(t){if(t.isEmpty()){if(t.startColumn===1){var i=Math.max(1,t.startLineNumber-1),n=t.startLineNumber===1?1:r.getLineLength(i)+1;return new Zr(i,n,t.startLineNumber,1)}return new Zr(t.startLineNumber,1,t.startLineNumber,t.startColumn)}return new Zr(t.startLineNumber,1,t.endLineNumber,t.endColumn)})),n)};return i}(oet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"deleteAllRight",label:Bt(0,"Delete All Right"),alias:"Delete All Right",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}i.prototype._getEndCursorState=function(t,i){var n=null;var r=[];for(var e=0,o=i.length,s=0;e<o;e++){var u=i[e],a=new $r(u.startLineNumber-s,u.startColumn,u.startLineNumber-s,u.startColumn);u.intersectRanges(t)?n=a:r.push(a)}return n&&r.unshift(n),r};i.prototype._getRangesToDelete=function(t){var i=t.getModel();if(i===null)return[];var n=t.getSelections();if(n===null)return[];var r=n.map((function(t){if(t.isEmpty()){var n=i.getLineMaxColumn(t.startLineNumber);return t.startColumn===n?new Zr(t.startLineNumber,t.startColumn,t.startLineNumber+1,1):new Zr(t.startLineNumber,t.startColumn,t.startLineNumber,n)}return t}));return r.sort(Zr.compareRangesUsingStarts),r};return i}(oet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.joinLines",label:Bt(0,"Join Lines"),alias:"Join Lines",precondition:hB.writable,kbOpts:{kbExpr:hB.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}i.prototype.run=function(t,i){var n=i.getSelections();if(n===null)return;var r=i.getSelection();if(r===null)return;n.sort(Zr.compareRangesUsingStarts);var e=[],o=n.reduce((function(t,i){return t.isEmpty()?t.endLineNumber===i.startLineNumber?(r.equalsSelection(t)&&(r=i),i):i.startLineNumber>t.endLineNumber+1?(e.push(t),i):new $r(t.startLineNumber,t.startColumn,i.endLineNumber,i.endColumn):i.startLineNumber>t.endLineNumber?(e.push(t),i):new $r(t.startLineNumber,t.startColumn,i.endLineNumber,i.endColumn)}));e.push(o);var s=i.getModel();if(s===null)return;var u=[],a=[];var c=r,h=0;for(var f=0,l=e.length;f<l;f++){var d=e[f],v=d.startLineNumber,A=1;var g=void 0,w=void 0,p=0;var m=s.getLineLength(d.endLineNumber)-d.endColumn;if(d.isEmpty()||d.startLineNumber===d.endLineNumber){var b=d.getStartPosition();b.lineNumber<s.getLineCount()?(g=v+1,w=s.getLineMaxColumn(g)):(g=b.lineNumber,w=s.getLineMaxColumn(b.lineNumber))}else g=d.endLineNumber,w=s.getLineMaxColumn(g);var y=s.getLineContent(v);for(var b=v+1;b<=g;b++){var k=s.getLineContent(b),x=s.getLineFirstNonWhitespaceColumn(b);if(x>=1){var E=!0;y===""&&(E=!1),!E||y.charAt(y.length-1)!==" "&&y.charAt(y.length-1)!=="\t"||(E=!1,y=y.replace(/[\s\uFEFF\xA0]+$/g," "));var B=k.substr(x-1);y+=(E?" ":"")+B,p=E?B.length+1:B.length}else p=0}var C=new Zr(v,A,g,w);if(!C.isEmpty()){var b=void 0;d.isEmpty()?(u.push(BT.replace(C,y)),b=new $r(C.startLineNumber-h,y.length-p+1,v-h,y.length-p+1)):d.startLineNumber===d.endLineNumber?(u.push(BT.replace(C,y)),b=new $r(d.startLineNumber-h,d.startColumn,d.endLineNumber-h,d.endColumn)):(u.push(BT.replace(C,y)),b=new $r(d.startLineNumber-h,d.startColumn,d.startLineNumber-h,y.length-m)),Zr.intersectRanges(C,r)!==null?c=b:a.push(b)}h+=C.endLineNumber-C.startLineNumber}a.unshift(c),i.pushUndoStop(),i.executeEdits(this.id,u,a),i.pushUndoStop()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transpose",label:Bt(0,"Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:hB.writable})||this}i.prototype.run=function(t,i){var n=i.getSelections();if(n===null)return;var r=i.getModel();if(r===null)return;var e=[];for(var o=0,s=n.length;o<s;o++){var u=n[o];if(!u.isEmpty())continue;var a=u.getStartPosition(),c=r.getLineMaxColumn(a.lineNumber);if(a.column>=c){if(a.lineNumber===r.getLineCount())continue;var h=new Zr(a.lineNumber,Math.max(1,a.column-1),a.lineNumber+1,1),f=r.getValueInRange(h).split("").reverse().join("");e.push(new IE(new $r(a.lineNumber,Math.max(1,a.column-1),a.lineNumber+1,1),f))}else{var l=new Zr(a.lineNumber,Math.max(1,a.column-1),a.lineNumber,a.column+1),f=r.getValueInRange(l).split("").reverse().join("");e.push(new RE(l,f,new $r(a.lineNumber,a.column+1,a.lineNumber,a.column+1)))}}i.pushUndoStop(),i.executeCommands(this.id,e),i.pushUndoStop()};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToUppercase",label:Bt(0,"Transform to Uppercase"),alias:"Transform to Uppercase",precondition:hB.writable})||this}i.prototype._modifyText=function(t,i){return t.toLocaleUpperCase()};return i}(set)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.transformToLowercase",label:Bt(0,"Transform to Lowercase"),alias:"Transform to Lowercase",precondition:hB.writable})||this}i.prototype._modifyText=function(t,i){return t.toLocaleLowerCase()};return i}(set)),cet.caseBoundary.isSupported()&&cet.singleLetters.isSupported()&&$f(cet),het.wordBoundary.isSupported()&&$f(het),fet.wordBoundary.isSupported()&&$f(fet),aet.titleBoundary.isSupported()&&$f(aet),det.isSupported()&&$f(det);var vet,Aet=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},get=function(t,i){return function(n,r){i(n,r,t)}};var wet=new cf("LinkedEditingInputVisible",!1);var pet=vet=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.languageConfigurationService=e,s._syncRangesToken=0,s._localToDispose=s._register(new Bn),s._editor=i,s._providers=r.linkedEditingRangeProvider,s._enabled=!1,s._visibleContextKey=wet.bindTo(n),s._debounceInformation=o.for(s._providers,"Linked Editing",{max:200}),s._currentDecorations=s._editor.createDecorationsCollection(),s._languageWordPattern=null,s._currentWordPattern=null,s._ignoreChangeEvent=!1,s._localToDispose=s._register(new Bn),s._rangeUpdateTriggerPromise=null,s._rangeSyncTriggerPromise=null,s._currentRequestCts=null,s._currentRequestPosition=null,s._currentRequestModelVersion=null,s._register(s._editor.onDidChangeModel((function(){return s.reinitialize(!0)}))),s._register(s._editor.onDidChangeConfiguration((function(t){(t.hasChanged(70)||t.hasChanged(93))&&s.reinitialize(!1)}))),s._register(s._providers.onDidChange((function(){return s.reinitialize(!1)}))),s._register(s._editor.onDidChangeModelLanguage((function(){return s.reinitialize(!0)}))),s.reinitialize(!0);return s}i.get=function(t){return t.getContribution(vet.ID)};i.prototype.reinitialize=function(t){var i=this;var n=this._editor.getModel(),r=n!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(n);if(r===this._enabled&&!t||(this._enabled=r,this.clearRanges(),this._localToDispose.clear(),!r||n===null))return;this._localToDispose.add(Qn.runAndSubscribe(n.onDidChangeLanguageConfiguration,(function(){i._languageWordPattern=i.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition()})));var e=new Js(this._debounceInformation.get(n)),o=function(){var t;i._rangeUpdateTriggerPromise=e.trigger((function(){return i.updateRanges()}),(t=i._debounceDuration)!==null&&t!==void 0?t:i._debounceInformation.get(n))},s=new Js(0),u=function(t){i._rangeSyncTriggerPromise=s.trigger((function(){return i._syncRanges(t)}))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((function(){o()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((function(t){if(!i._ignoreChangeEvent&&i._currentDecorations.length>0){var n=i._currentDecorations.getRange(0);if(n&&t.changes.every((function(t){return n.intersectRanges(t.range)})))return void u(i._syncRangesToken)}o()}))),this._localToDispose.add({dispose:function(){e.dispose(),s.dispose()}}),this.updateRanges()};i.prototype._syncRanges=function(t){if(!this._editor.hasModel()||t!==this._syncRangesToken||this._currentDecorations.length===0)return;var i=this._editor.getModel(),n=this._currentDecorations.getRange(0);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();var r=i.getValueInRange(n);if(this._currentWordPattern){var e=r.match(this._currentWordPattern);if((e?e[0].length:0)!==r.length)return this.clearRanges()}var o=[];for(var e=1,s=this._currentDecorations.length;e<s;e++){var u=this._currentDecorations.getRange(e);if(u)if(u.startLineNumber!==u.endLineNumber)o.push({range:u,text:r});else{var a=i.getValueInRange(u),c=r,h=u.startColumn,f=u.endColumn;var l=Ho(a,c);h+=l,a=a.substr(l),c=c.substr(l);var d=Yo(a,c);f-=d,a=a.substr(0,a.length-d),c=c.substr(0,c.length-d),h===f&&c.length===0||o.push({range:new Zr(u.startLineNumber,h,u.endLineNumber,f),text:c})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;var e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}};i.prototype.dispose=function(){this.clearRanges(),t.prototype.dispose.call(this)};i.prototype.clearRanges=function(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)};i.prototype.updateRanges=function(){return __awaiter(this,arguments,void 0,(function(t){var i,n,r,e,o,e,s,u,a,c,h,f,l,d;if(t===void 0){t=!1}return __generator(this,(function(v){switch(v.label){case 0:if(!this._editor.hasModel())return[2,void this.clearRanges()];i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return[2,void this.clearRanges()];n=this._editor.getModel(),r=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(i.equals(this._currentRequestPosition))return[2];if(this._currentDecorations.length>0){e=this._currentDecorations.getRange(0);if(e&&e.containsPosition(i))return[2]}}this.clearRanges(),this._currentRequestPosition=i,this._currentRequestModelVersion=r;o=this._currentRequestCts=new Kn;v.label=1;case 1:v.trys.push([1,3,,4]);e=new In(!1);return[4,met(this._providers,n,i,o.token)];case 2:s=v.sent();if(this._debounceInformation.update(n,e.elapsed()),o!==this._currentRequestCts||(this._currentRequestCts=null,r!==n.getVersionId()))return[2];u=[];s!=null&&s.ranges&&(u=s.ranges),this._currentWordPattern=(s==null?void 0:s.wordPattern)||this._languageWordPattern;a=!1;for(c=0,h=u.length;c<h;c++)if(Zr.containsPosition(u[c],i)){if(a=!0,c!==0){f=u[c];u.splice(c,1),u.unshift(f)}break}if(!a)return[2,void this.clearRanges()];l=u.map((function(t){return{range:t,options:vet.DECORATION}}));this._visibleContextKey.set(!0),this._currentDecorations.set(l),this._syncRangesToken++;return[3,4];case 3:d=v.sent();dn(d)||cn(d),this._currentRequestCts!==o&&this._currentRequestCts||this.clearRanges();return[3,4];case 4:return[2]}}))}))};return i}(Cn);pet.ID="editor.contrib.linkedEditing",pet.DECORATION=iS.register({description:"linked-editing",stickiness:0,className:"linked-editing-decoration"}),pet=vet=Aet([get(1,hf),get(2,gg),get(3,jd),get(4,zQ)],pet);function met(t,i,n,r){var e=this;return Vs(t.ordered(i).map((function(t){return function(){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,t.provideLinkedEditingRanges(i,n,r)];case 1:return[2,o.sent()];case 2:e=o.sent();return[2,void hn(e)];case 3:return[2]}}))}))}})),(function(t){return!!t&&L(t==null?void 0:t.ranges)}))}Zf(new(Gf.bindToContribution(pet.get))({id:"cancelLinkedEditingInput",precondition:wet,handler:function(t){return t.clearRanges()},kbOpts:{kbExpr:hB.editorTextFocus,weight:199,primary:9,secondary:[1033]}})),fp("editor.linkedEditingBackground",{dark:ZA.fromHex("#f00").transparent(.3),light:ZA.fromHex("#f00").transparent(.3),hcDark:ZA.fromHex("#f00").transparent(.3),hcLight:ZA.white},Bt(0,"Background color when the editor auto renames on type.")),qf("_executeLinkedEditingProvider",(function(t,i,n){var r=t.get(gg).linkedEditingRangeProvider;return met(r,i,n,Gn.None)})),il(pet.ID,pet,1),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.linkedEditing",label:Bt(0,"Start Linked Editing"),alias:"Start Linked Editing",precondition:Hh.and(hB.writable,hB.hasRenameProvider),kbOpts:{kbExpr:hB.editorTextFocus,primary:3132,weight:100}})||this}i.prototype.runCommand=function(i,n){var r=this;var e=i.get(dh),o=Array.isArray(n)&&n||[void 0,void 0],s=o[0],u=o[1];return zr.isUri(s)&&qr.isIPosition(u)?e.openCodeEditor({resource:s},e.getActiveCodeEditor()).then((function(t){t&&(t.setPosition(u),t.invokeWithinContext((function(i){return r.reportTelemetry(i,t),r.run(i,t)})))}),cn):t.prototype.runCommand.call(this,i,n)};i.prototype.run=function(t,i){var n=pet.get(i);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()};return i}(Vf));var bet=function(){function t(t,i){this._link=t,this._provider=i}t.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}};Object.defineProperty(t.prototype,"range",{get:function(){return this._link.range},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"url",{get:function(){return this._link.url},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:false,configurable:true});t.prototype.resolve=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){return[2,this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,t)).then((function(n){return i._link=n||i._link,i._link.url?i.resolve(t):Promise.reject(new Error("missing"))})):Promise.reject(new Error("missing"))]}))}))};return t}();var yet=function(){function t(i){this._disposables=new Bn;var n=[];var r=function(i,r){var o=i.links.map((function(t){return new bet(t,r)}));n=t._union(n,o),yn(i)&&e._disposables.add(i)};var e=this;for(var o=0,s=i;o<s.length;o++){var u=s[o],a=u[0],c=u[1];r(a,c)}this.links=n}t.prototype.dispose=function(){this._disposables.dispose(),this.links.length=0};t._union=function(t,i){var n=[];var r,e,o,s;for(r=0,o=0,e=t.length,s=i.length;r<e&&o<s;){var u=t[r],a=i[o];if(Zr.areIntersectingOrTouching(u.range,a.range)){r++;continue}Zr.compareRangesUsingStarts(u.range,a.range)<0?(n.push(u),r++):(n.push(a),o++)}for(;r<e;r++)n.push(t[r]);for(;o<s;o++)n.push(i[o]);return n};return t}();function ket(t,i,n){var r=[],e=t.ordered(i).reverse().map((function(t,e){return Promise.resolve(t.provideLinks(i,n)).then((function(i){i&&(r[e]=[i,t])}),hn)}));return Promise.all(e).then((function(){var t=new yet(N(r));return n.isCancellationRequested?(t.dispose(),new yet([])):t}))}Bh.registerCommand("_executeLinkProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s,u,a;return __generator(this,(function(c){switch(c.label){case 0:n=i[0],r=i[1];lt(n instanceof zr),typeof r!="number"&&(r=0);e=t.get(gg).linkProvider,o=t.get(vh).getModel(n);if(!o)return[2,[]];return[4,ket(e,o,Gn.None)];case 1:s=c.sent();if(!s)return[2,[]];u=0;c.label=2;case 2:if(!(u<Math.min(r,s.links.length)))return[3,5];return[4,s.links[u].resolve(Gn.None)];case 3:c.sent();c.label=4;case 4:u++;return[3,2];case 5:a=s.links.slice(0);return[2,(s.dispose(),a)]}}))}))}));var xet,Eet=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Bet=function(t,i){return function(n,r){i(n,r,t)}};var Cet=xet=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.editor=i,s.openerService=n,s.notificationService=r,s.languageFeaturesService=e,s.providers=s.languageFeaturesService.linkProvider,s.debounceInformation=o.for(s.providers,"Links",{min:1e3,max:4e3}),s.computeLinks=s._register(new qs((function(){return s.computeLinksNow()}),1e3)),s.computePromise=null,s.activeLinksList=null,s.currentOccurrences={},s.activeLinkDecorationId=null;var u=s._register(new W4(i));s._register(u.onMouseMoveOrRelevantKeyDown((function(t){var i=t[0],n=t[1];s._onEditorMouseMove(i,n)}))),s._register(u.onExecute((function(t){s.onEditorMouseUp(t)}))),s._register(u.onCancel((function(t){s.cleanUpActiveLinkDecoration()}))),s._register(i.onDidChangeConfiguration((function(t){t.hasChanged(71)&&(s.updateDecorations([]),s.stop(),s.computeLinks.schedule(0))}))),s._register(i.onDidChangeModelContent((function(t){s.editor.hasModel()&&s.computeLinks.schedule(s.debounceInformation.get(s.editor.getModel()))}))),s._register(i.onDidChangeModel((function(t){s.currentOccurrences={},s.activeLinkDecorationId=null,s.stop(),s.computeLinks.schedule(0)}))),s._register(i.onDidChangeModelLanguage((function(t){s.stop(),s.computeLinks.schedule(0)}))),s._register(s.providers.onDidChange((function(t){s.stop(),s.computeLinks.schedule(0)}))),s.computeLinks.schedule(0);return s}i.get=function(t){return t.getContribution(xet.ID)};i.prototype.computeLinksNow=function(){return __awaiter(this,void 0,void 0,(function(){var t,i,n,r;var e=this;return __generator(this,(function(o){switch(o.label){case 0:if(!this.editor.hasModel()||!this.editor.getOption(71))return[2];t=this.editor.getModel();if(!(!t.isTooLargeForSyncing()&&this.providers.has(t)))return[3,5];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Us((function(i){return ket(e.providers,t,i)}));o.label=1;case 1:o.trys.push([1,3,4,5]);i=new In(!1);n=this;return[4,this.computePromise];case 2:if(n.activeLinksList=o.sent(),this.debounceInformation.update(t,i.elapsed()),t.isDisposed())return[2];this.updateDecorations(this.activeLinksList.links);return[3,5];case 3:r=o.sent();cn(r);return[3,5];case 4:this.computePromise=null;return[7];case 5:return[2]}}))}))};i.prototype.updateDecorations=function(t){var i=this;var n=this.editor.getOption(78)==="altKey",r=[],e=Object.keys(this.currentOccurrences);for(var o=0,s=e;o<s.length;o++){var u=s[o];var a=this.currentOccurrences[u];r.push(a.decorationId)}var c=[];if(t)for(var h=0,f=t;h<f.length;h++){var u=f[h];c.push(_et.decoration(u,n))}this.editor.changeDecorations((function(n){var e=n.deltaDecorations(r,c);i.currentOccurrences={},i.activeLinkDecorationId=null;for(var o=0,s=e.length;o<s;o++){var u=new _et(t[o],e[o]);i.currentOccurrences[u.decorationId]=u}}))};i.prototype._onEditorMouseMove=function(t,i){var n=this;var r=this.editor.getOption(78)==="altKey";if(this.isEnabled(t,i)){this.cleanUpActiveLinkDecoration();var e=this.getLinkOccurrence(t.target.position);e&&this.editor.changeDecorations((function(t){e.activate(t,r),n.activeLinkDecorationId=e.decorationId}))}else this.cleanUpActiveLinkDecoration()};i.prototype.cleanUpActiveLinkDecoration=function(){var t=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){var i=this.currentOccurrences[this.activeLinkDecorationId];i&&this.editor.changeDecorations((function(n){i.deactivate(n,t)})),this.activeLinkDecorationId=null}};i.prototype.onEditorMouseUp=function(t){if(!this.isEnabled(t))return;var i=this.getLinkOccurrence(t.target.position);i&&this.openLinkOccurrence(i,t.hasSideBySideModifier,!0)};i.prototype.openLinkOccurrence=function(t,i,n){var r=this;if(n===void 0){n=!1}if(!this.openerService)return;var e=t.link;e.resolve(Gn.None).then((function(t){if(typeof t=="string"&&r.editor.hasModel()){var e=r.editor.getModel().uri;if(e.scheme===oa.file&&t.startsWith("".concat(oa.file,":"))){var o=zr.parse(t);if(o.scheme===oa.file){var s=XM(o);var u=null;s.startsWith("/./")||s.startsWith("\\.\\")?u=".".concat(s.substr(1)):(s.startsWith("//./")||s.startsWith("\\\\.\\"))&&(u=".".concat(s.substr(2))),u&&(t=r_(e,u))}}}return r.openerService.open(t,{openToSide:i,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})}),(function(t){var i=t instanceof Error?t.message:t;i==="invalid"?r.notificationService.warn(Bt(0,"Failed to open this link because it is not well-formed: {0}",e.url.toString())):i==="missing"?r.notificationService.warn(Bt(0,"Failed to open this link because its target is missing.")):cn(t)}))};i.prototype.getLinkOccurrence=function(t){if(!this.editor.hasModel()||!t)return null;var i=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0);for(var n=0,r=i;n<r.length;n++){var e=r[n];var o=this.currentOccurrences[e.id];if(o)return o}return null};i.prototype.isEnabled=function(t,i){return!!(t.target.type===6&&(t.hasTriggerModifier||i&&i.keyCodeIsTriggerKey))};i.prototype.stop=function(){var t;this.computeLinks.cancel(),this.activeLinksList&&((t=this.activeLinksList)===null||t===void 0||t.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.stop()};return i}(Cn);Cet.ID="editor.linkDetector",Cet=xet=Eet([Bet(1,HO),Bet(2,PI),Bet(3,gg),Bet(4,zQ)],Cet);var Det=iS.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),Met=iS.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"});var _et=function(){function t(t,i){this.link=t,this.decorationId=i}t.decoration=function(i,n){return{range:i.range,options:t._getOptions(i,n,!1)}};t._getOptions=function(t,i,n){var r=__assign({},n?Met:Det);return r.hoverMessage=function(t,i){var n=t.url&&/^command:/i.test(t.url.toString()),r=t.tooltip?t.tooltip:Bt(0,n?"Execute command":"Follow link"),e=Bt(0,i?Gt?"cmd + click":"ctrl + click":Gt?"option + click":"alt + click");if(t.url){var o="";if(/^command:/i.test(t.url.toString())){var s=t.url.toString().match(/^command:([^?#]+)/);s&&(o=Bt(0,"Execute command {0}",s[1]))}return new uR("",!0).appendLink(t.url.toString(!0).replace(/ /g,"%20"),r,o).appendMarkdown(" (".concat(e,")"))}return(new uR).appendText("".concat(r," (").concat(e,")"))}(t,i),r};t.prototype.activate=function(i,n){i.changeDecorationOptions(this.decorationId,t._getOptions(this.link,n,!0))};t.prototype.deactivate=function(i,n){i.changeDecorationOptions(this.decorationId,t._getOptions(this.link,n,!1))};return t}();il(Cet.ID,Cet,1),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.openLink",label:Bt(0,"Open Link"),alias:"Open Link",precondition:void 0})||this}i.prototype.run=function(t,i){var n=Cet.get(i);if(!n||!i.hasModel())return;var r=i.getSelections();for(var e=0,o=r;e<o.length;e++){var s=o[e];var u=n.getLinkOccurrence(s.getEndPosition());u&&n.openLinkOccurrence(u,!1)}};return i}(Vf));var Fet=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._register(n._editor.onMouseDown((function(t){var i=n._editor.getOption(117);i>=0&&t.target.type===6&&t.target.position.column>=i&&n._editor.updateOptions({stopRenderingLineAfter:-1})})));return n}return i}(Cn);Fet.ID="editor.contrib.longLinesHelper",il(Fet.ID,Fet,2);var Iet=fp("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},Bt(0,"Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);fp("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},Bt(0,"Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),fp("editor.wordHighlightTextBackground",{light:Iet,dark:Iet,hcDark:Iet,hcLight:Iet},Bt(0,"Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);var Qet=fp("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Bp,hcLight:Bp},Bt(0,"Border color of a symbol during read-access, like reading a variable."));fp("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Bp,hcLight:Bp},Bt(0,"Border color of a symbol during write-access, like writing to a variable.")),fp("editor.wordHighlightTextBorder",{light:Qet,dark:Qet,hcDark:Qet,hcLight:Qet},Bt(0,"Border color of a textual occurrence for a symbol."));var Oet=fp("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},Bt(0,"Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Net=fp("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},Bt(0,"Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ret=fp("editorOverviewRuler.wordHighlightTextForeground",{dark:Im,light:Im,hcDark:Im,hcLight:Im},Bt(0,"Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),Tet=iS.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:ox(Net),position:_v.Center},minimap:{color:ox(Tm),position:1}}),Let=iS.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:ox(Ret),position:_v.Center},minimap:{color:ox(Tm),position:1}}),jet=iS.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:ox(Im),position:_v.Center},minimap:{color:ox(Tm),position:1}}),zet=iS.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Uet=iS.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:ox(Oet),position:_v.Center},minimap:{color:ox(Tm),position:1}});function Het(t){return t?zet:jet}cx((function(t,i){var n=t.getColor(qp);n&&i.addRule(".monaco-editor .selectionHighlight { background-color: ".concat(n.transparent(.5),"; }"))}));var Yet,Jet=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Pet=function(t,i){return function(n,r){i(n,r,t)}};function Wet(t,i){var n=i.filter((function(i){return!t.find((function(t){return t.equals(i)}))}));if(n.length>=1){var r=n.map((function(t){return"line ".concat(t.viewState.position.lineNumber," column ").concat(t.viewState.position.column)})).join(", ");Tw(n.length===1?Bt(0,"Cursor added: {0}",r):Bt(0,"Cursors added: {0}",r))}}var Get=function(){function t(t,i,n){this.selections=t,this.revealRange=i,this.revealScrollType=n}return t}();var Vet=function(){function t(t,i,n,r,e,o,s){this._editor=t,this.findController=i,this.isDisconnectedFromFindController=n,this.searchText=r,this.wholeWord=e,this.matchCase=o,this.currentMatch=s}t.create=function(i,n){if(!i.hasModel())return null;var r=n.getState();if(!i.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new t(i,n,!1,r.searchString,r.wholeWord,r.matchCase,null);var e,o,s=!1;var u=i.getSelections();u.length===1&&u[0].isEmpty()?(s=!0,e=!0,o=!0):(e=r.wholeWord,o=r.matchCase);var a=i.getSelection();var c,h=null;if(a.isEmpty()){var f=i.getConfiguredWordAtPosition(a.getStartPosition());if(!f)return null;c=f.word,h=new $r(a.startLineNumber,f.startColumn,a.startLineNumber,f.endColumn)}else c=i.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new t(i,n,s,c,e,o,h)};t.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var t=this._getNextMatch();if(!t)return null;var i=this._editor.getSelections();return new Get(i.concat(t),t,0)};t.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var t=this._getNextMatch();if(!t)return null;var i=this._editor.getSelections();return new Get(i.slice(0,i.length-1).concat(t),t,0)};t.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var t=this.currentMatch;return this.currentMatch=null,t}this.findController.highlightFindOptions();var i=this._editor.getSelections(),n=i[i.length-1],r=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return r?new $r(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null};t.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var t=this._getPreviousMatch();if(!t)return null;var i=this._editor.getSelections();return new Get(i.concat(t),t,0)};t.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var t=this._getPreviousMatch();if(!t)return null;var i=this._editor.getSelections();return new Get(i.slice(0,i.length-1).concat(t),t,0)};t.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var t=this.currentMatch;return this.currentMatch=null,t}this.findController.highlightFindOptions();var i=this._editor.getSelections(),n=i[i.length-1],r=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return r?new $r(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null};t.prototype.selectAll=function(t){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();var i=this._editor.getModel();return t?i.findMatches(this.searchText,t,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824):i.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)};return t}();var Ket=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._sessionDispose=n._register(new Bn),n._editor=i,n._ignoreSelectionChange=!1,n._session=null;return n}i.get=function(t){return t.getContribution(i.ID)};i.prototype.dispose=function(){this._endSession(),t.prototype.dispose.call(this)};i.prototype._beginSessionIfNeeded=function(t){var i=this;if(!this._session){var n=Vet.create(this._editor,t);if(!n)return;this._session=n;var r={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(r.wholeWordOverride=1,r.matchCaseOverride=1,r.isRegexOverride=2),t.getState().change(r,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((function(t){i._ignoreSelectionChange||i._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((function(){i._endSession()}))),this._sessionDispose.add(t.getState().onFindReplaceStateChange((function(t){(t.matchCase||t.wholeWord)&&i._endSession()})))}};i.prototype._endSession=function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null};i.prototype._setSelections=function(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1};i.prototype._expandEmptyToWord=function(t,i){if(!i.isEmpty())return i;var n=this._editor.getConfiguredWordAtPosition(i.getStartPosition());return n?new $r(i.startLineNumber,n.startColumn,i.startLineNumber,n.endColumn):i};i.prototype._applySessionResult=function(t){t&&(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))};i.prototype.getSession=function(t){return this._session};i.prototype.addSelectionToNextFindMatch=function(t){if(this._editor.hasModel()){if(!this._session){var i=this._editor.getSelections();if(i.length>1){var n=t.getState().matchCase;if(!$et(this._editor.getModel(),i,n)){var r=this._editor.getModel(),e=[];for(var o=0,s=i.length;o<s;o++)e[o]=this._expandEmptyToWord(r,i[o]);return void this._editor.setSelections(e)}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}};i.prototype.addSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())};i.prototype.moveSelectionToNextFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())};i.prototype.moveSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())};i.prototype.selectAll=function(t){if(!this._editor.hasModel())return;var i=null;var n=t.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex){var r=this._editor.getModel();i=n.searchScope?r.findMatches(n.searchString,n.searchScope,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(131):null,!1,1073741824):r.findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(t),!this._session)return;i=this._session.selectAll(n.searchScope)}if(i.length>0){var r=this._editor.getSelection();for(var e=0,o=i.length;e<o;e++){var s=i[e];if(s.range.intersectRanges(r)){i[e]=i[0],i[0]=s;break}}this._setSelections(i.map((function(t){return new $r(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn)})))}};return i}(Cn);Ket.ID="editor.contrib.multiCursorController";var Xet=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.run=function(t,i){var n=Ket.get(i);if(!n)return;var r=i._getViewModel();if(r){var e=r.getCursorStates(),o=v7.get(i);if(o)this._run(n,o);else{var s=t.get(fh).createInstance(v7,i);this._run(n,s),s.dispose()}Wet(e,r.getCursorStates())}};return i}(Vf);var qet=function(){function t(t,i,n,r,e){this._model=t,this._searchText=i,this._matchCase=n,this._wordSeparators=r,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,e&&this._model===e._model&&this._searchText===e._searchText&&this._matchCase===e._matchCase&&this._wordSeparators===e._wordSeparators&&this._modelVersionId===e._modelVersionId&&(this._cachedFindMatches=e._cachedFindMatches)}t.prototype.findMatches=function(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map((function(t){return t.range})),this._cachedFindMatches.sort(Zr.compareRangesUsingStarts)),this._cachedFindMatches};return t}();var Zet=Yet=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._languageFeaturesService=n,r.editor=i,r._isEnabled=i.getOption(108),r._decorations=i.createDecorationsCollection(),r.updateSoon=r._register(new qs((function(){return r._update()}),300)),r.state=null,r._register(i.onDidChangeConfiguration((function(t){r._isEnabled=i.getOption(108)}))),r._register(i.onDidChangeCursorSelection((function(t){r._isEnabled&&(t.selection.isEmpty()?t.reason===3?(r.state&&r._setState(null),r.updateSoon.schedule()):r._setState(null):r._update())}))),r._register(i.onDidChangeModel((function(t){r._setState(null)}))),r._register(i.onDidChangeModelContent((function(t){r._isEnabled&&r.updateSoon.schedule()})));var e=v7.get(i);e&&r._register(e.getState().onFindReplaceStateChange((function(t){r._update()}))),r.updateSoon.schedule();return r}i.prototype._update=function(){this._setState(i._createState(this.state,this._isEnabled,this.editor))};i._createState=function(t,i,n){if(!i||!n.hasModel())return null;var r=n.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;var e=Ket.get(n);if(!e)return null;var o=v7.get(n);if(!o)return null;var s=e.getSession(o);if(!s){var u=n.getSelections();if(u.length>1){var a=o.getState().matchCase;if(!$et(n.getModel(),u,a))return null}s=Vet.create(n,o)}if(!s||s.currentMatch||/^[ \t]+$/.test(s.searchText)||s.searchText.length>200)return null;var c=o.getState(),h=c.matchCase;if(c.isRevealed){var u=c.searchString;h||(u=u.toLowerCase());var f=s.searchText;if(h||(f=f.toLowerCase()),u===f&&s.matchCase===c.matchCase&&s.wholeWord===c.wholeWord&&!c.isRegex)return null}return new qet(n.getModel(),s.searchText,s.matchCase,s.wholeWord?n.getOption(131):null,t)};i.prototype._setState=function(t){if(this.state=t,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;var i=this.editor.getModel();if(i.isTooLargeForTokenization())return;var n=this.state.findMatches(),r=this.editor.getSelections();r.sort(Zr.compareRangesUsingStarts);var e=[];for(var o=0,s=0,u=n.length,a=r.length;o<u;){var c=n[o];if(s>=a)e.push(c),o++;else{var h=Zr.compareRangesUsingStarts(c,r[s]);h<0?(!r[s].isEmpty()&&Zr.areIntersecting(c,r[s])||e.push(c),o++):(h>0||o++,s++)}}var f=this.editor.getOption(81)!=="off",l=this._languageFeaturesService.documentHighlightProvider.has(i)&&f,d=e.map((function(t){return{range:t,options:Het(l)}}));this._decorations.set(d)};i.prototype.dispose=function(){this._setState(null),t.prototype.dispose.call(this)};return i}(Cn);function $et(t,i,n){var r=tot(t,i[0],!n);for(var e=1,o=i.length;e<o;e++){var s=i[e];if(s.isEmpty()||r!==tot(t,s,!n))return!1}return!0}function tot(t,i,n){var r=t.getValueInRange(i);return n?r.toLowerCase():r}Zet.ID="editor.contrib.selectionHighlighter",Zet=Yet=Jet([Pet(1,gg)],Zet);il(Ket.ID,Ket,4),il(Zet.ID,Zet,1),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.insertCursorAbove",label:Bt(0,"Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"3_multi",title:Bt(0,"&&Add Cursor Above"),order:2}})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=!0;n&&n.logicalLine===!1&&(r=!1);var e=i._getViewModel();if(e.cursorConfig.readOnly)return;e.model.pushStackElement();var o=e.getCursorStates();e.setCursorStates(n.source,3,YE.addCursorUp(e,o,r)),e.revealTopMostCursor(n.source),Wet(o,e.getCursorStates())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.insertCursorBelow",label:Bt(0,"Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"3_multi",title:Bt(0,"A&&dd Cursor Below"),order:3}})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=!0;n&&n.logicalLine===!1&&(r=!1);var e=i._getViewModel();if(e.cursorConfig.readOnly)return;e.model.pushStackElement();var o=e.getCursorStates();e.setCursorStates(n.source,3,YE.addCursorDown(e,o,r)),e.revealBottomMostCursor(n.source),Wet(o,e.getCursorStates())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:Bt(0,"Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"3_multi",title:Bt(0,"Add C&&ursors to Line Ends"),order:4}})||this}i.prototype.getCursorsForSelection=function(t,i,n){if(!t.isEmpty()){for(var r=t.startLineNumber;r<t.endLineNumber;r++){var e=i.getLineMaxColumn(r);n.push(new $r(r,e,r,e))}t.endColumn>1&&n.push(new $r(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}};i.prototype.run=function(t,i){var n=this;if(!i.hasModel())return;var r=i.getModel(),e=i.getSelections(),o=i._getViewModel(),s=o.getCursorStates(),u=[];e.forEach((function(t){return n.getCursorsForSelection(t,r,u)})),u.length>0&&i.setSelections(u),Wet(s,o.getCursorStates())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:Bt(0,"Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:2082,weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"3_multi",title:Bt(0,"Add &&Next Occurrence"),order:5}})||this}i.prototype._run=function(t,i){t.addSelectionToNextFindMatch(i)};return i}(Xet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:Bt(0,"Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:_f.MenubarSelectionMenu,group:"3_multi",title:Bt(0,"Add P&&revious Occurrence"),order:6}})||this}i.prototype._run=function(t,i){t.addSelectionToPreviousFindMatch(i)};return i}(Xet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:Bt(0,"Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:or(2089,2082),weight:100}})||this}i.prototype._run=function(t,i){t.moveSelectionToNextFindMatch(i)};return i}(Xet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:Bt(0,"Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}i.prototype._run=function(t,i){t.moveSelectionToPreviousFindMatch(i)};return i}(Xet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.selectHighlights",label:Bt(0,"Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:3114,weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"3_multi",title:Bt(0,"Select All &&Occurrences"),order:7}})||this}i.prototype._run=function(t,i){t.selectAll(i)};return i}(Xet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.changeAll",label:Bt(0,"Change All Occurrences"),alias:"Change All Occurrences",precondition:Hh.and(hB.writable,hB.editorTextFocus),kbOpts:{kbExpr:hB.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})||this}i.prototype._run=function(t,i){t.selectAll(i)};return i}(Xet)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.addCursorsToBottom",label:Bt(0,"Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getSelections(),r=i.getModel().getLineCount(),e=[];for(var o=n[0].startLineNumber;o<=r;o++)e.push(new $r(o,n[0].startColumn,o,n[0].endColumn));var s=i._getViewModel(),u=s.getCursorStates();e.length>0&&i.setSelections(e),Wet(u,s.getCursorStates())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.addCursorsToTop",label:Bt(0,"Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getSelections(),r=[];for(var e=n[0].startLineNumber;e>=1;e--)r.push(new $r(e,n[0].startColumn,e,n[0].endColumn));var o=i._getViewModel(),s=o.getCursorStates();r.length>0&&i.setSelections(r),Wet(s,o.getCursorStates())};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.focusNextCursor",label:Bt(0,"Focus Next Cursor"),metadata:{description:Bt(0,"Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=i._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();var e=Array.from(r.getCursorStates()),o=e.shift();o&&(e.push(o),r.setCursorStates(n.source,3,e),r.revealPrimaryCursor(n.source,!0),Wet(e,r.getCursorStates()))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.focusPreviousCursor",label:Bt(0,"Focus Previous Cursor"),metadata:{description:Bt(0,"Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=i._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();var e=Array.from(r.getCursorStates()),o=e.pop();o&&(e.unshift(o),r.setCursorStates(n.source,3,e),r.revealPrimaryCursor(n.source,!0),Wet(e,r.getCursorStates()))};return i}(Vf));var iot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},not=function(t,i){return function(n,r){i(n,r,t)}};var rot="inline-edit";var eot=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.model=n,e.languageService=r,e.isDisposed=mj(e,!1),e.currentTextModel=Rj(e.editor.onDidChangeModel,(function(){return e.editor.getModel()})),e.uiState=Ej(e,(function(t){var i;if(e.isDisposed.read(t))return;var n=e.currentTextModel.read(t);if(n!==e.model.targetTextModel.read(t))return;var r=e.model.ghostText.read(t);if(!r)return;var o=(i=e.model.range)===null||i===void 0?void 0:i.read(t);o&&o.startLineNumber===o.endLineNumber&&o.startColumn===o.endColumn&&(o=void 0);var s=(!o||o.startLineNumber===o.endLineNumber)&&r.parts.length===1&&r.parts[0].lines.length===1,u=r.parts.length===1&&r.parts[0].lines.every((function(t){return t.length===0})),a=[],c=[];function h(t,i){if(c.length>0){var n=c[c.length-1];i&&n.decorations.push(new Rg(n.content.length+1,n.content.length+1+t[0].length,i,0)),n.content+=t[0],t=t.slice(1)}for(var r=0,e=t;r<e.length;r++){var n=e[r];c.push({content:n,decorations:i?[new Rg(1,n.length+1,i,0)]:[]})}}var f=n.getLineContent(r.lineNumber);var l,d=0;if(!u){for(var v=0,A=r.parts;v<A.length;v++){var g=A[v];var w=g.lines;o&&!s&&(h(w,rot),w=[]),l===void 0?(a.push({column:g.column,text:w[0],preview:g.preview}),w=w.slice(1)):h([f.substring(d,g.column-1)],void 0),w.length>0&&(h(w,rot),l===void 0&&g.column<=f.length&&(l=g.column)),d=g.column-1}l!==void 0&&h([f.substring(d)],void 0)}var p=l!==void 0?new Btt(l,f.length+1):void 0,m=s||!o?r.lineNumber:o.endLineNumber-1;return{inlineTexts:a,additionalLines:c,hiddenRange:p,lineNumber:m,additionalReservedLineCount:e.model.minReservedLineCount.read(t),targetTextModel:n,range:o,isSingleLine:s,isPureRemove:u,backgroundColoring:e.model.backgroundColoring.read(t)}})),e.decorations=Ej(e,(function(t){var i=e.uiState.read(t);if(!i)return[];var n=[];if(i.hiddenRange&&n.push({range:i.hiddenRange.toRange(i.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),i.range){var r=[];if(i.isSingleLine)r.push(i.range);else if(i.isPureRemove){var o=i.range.endLineNumber-i.range.startLineNumber;for(var s=0;s<o;s++){var u=i.range.startLineNumber+s,a=i.targetTextModel.getLineFirstNonWhitespaceColumn(u),c=i.targetTextModel.getLineLastNonWhitespaceColumn(u),h=new Zr(u,a,u,c);r.push(h)}}else{var o=i.range.endLineNumber-i.range.startLineNumber;for(var s=0;s<o;s++){var f=i.range.startLineNumber+s,a=i.targetTextModel.getLineFirstNonWhitespaceColumn(f),c=i.targetTextModel.getLineLastNonWhitespaceColumn(f),h=new Zr(f,a,f,c);r.push(h)}}var l=i.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(var d=0,v=r;d<v.length;d++){var o=v[d];n.push({range:o,options:{inlineClassName:l,description:"inline-edit-remove"}})}}for(var A=0,g=i.inlineTexts;A<g.length;A++){var r=g[A];n.push({range:Zr.fromPositions(new qr(i.lineNumber,r.column)),options:{description:rot,after:{content:r.text,inlineClassName:r.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:Sv.Left},showIfCollapsed:!0}})}return n})),e.additionalLinesWidget=e._register(new Itt(e.editor,e.languageService.languageIdCodec,Ej((function(t){var i=e.uiState.read(t);return i&&!i.isPureRemove?{lineNumber:i.lineNumber,additionalLines:i.additionalLines,minReservedLineCount:i.additionalReservedLineCount,targetTextModel:i.targetTextModel}:void 0})))),e._register(En((function(){e.isDisposed.set(!0,void 0)}))),e._register(Ctt(e.editor,e.decorations));return e}i.prototype.ownsViewZone=function(t){return this.additionalLinesWidget.viewZoneId===t};return i}(Cn);eot=iot([not(2,ld)],eot);var oot,sot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},uot=function(t,i){return function(n,r){i(n,r,t)}};var aot=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.model=n,e.instantiationService=r,e.alwaysShowToolbar=Rj(e.editor.onDidChangeConfiguration,(function(){return e.editor.getOption(63).showToolbar==="always"})),e.sessionPosition=void 0,e.position=Ej(e,(function(t){var i,n,r;var o=(i=e.model.read(t))===null||i===void 0?void 0:i.widget.model.ghostText.read(t);if(!e.alwaysShowToolbar.read(t)||!o||o.parts.length===0)return e.sessionPosition=void 0,null;var s=o.parts[0].column;e.sessionPosition&&e.sessionPosition.lineNumber!==o.lineNumber&&(e.sessionPosition=void 0);var u=new qr(o.lineNumber,Math.min(s,(r=(n=e.sessionPosition)===null||n===void 0?void 0:n.column)!==null&&r!==void 0?r:Number.MAX_SAFE_INTEGER));return e.sessionPosition=u,u})),e._register(Ij((function(t,n){if(!e.model.read(t)||!e.alwaysShowToolbar.read(t))return;var r=n.add(e.instantiationService.createInstance(cot,e.editor,!0,e.position));i.addContentWidget(r),n.add(En((function(){return i.removeContentWidget(r)})))})));return e}return i}(Cn);aot=sot([uot(2,fh)],aot);var cot=oot=function(t){__extends(i,t);function i(n,r,e,o,s,u){var a=this;a=t.call(this)||this,a.editor=n,a.withBorder=r,a._position=e,a._contextKeyService=s,a._menuService=u,a.id="InlineEditHintsContentWidget"+i.id++,a.allowEditorOverflow=!0,a.suppressMouseDown=!1,a.nodes=Gc("div.inlineEditHints",{className:a.withBorder?".withBorder":""},[Gc("div@toolBar")]),a.inlineCompletionsActionsMenus=a._register(a._menuService.createMenu(_f.InlineEditActions,a._contextKeyService)),a.toolBar=a._register(o.createInstance(fot,a.nodes.toolBar,a.editor,_f.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:function(t){return t.startsWith("primary")}},actionViewItemProvider:function(t,i){if(t instanceof Of)return o.createInstance(hot,t,void 0)},telemetrySource:"InlineEditToolbar"})),a._register(a.toolBar.onDidChangeDropdownVisibility((function(t){i._dropDownVisible=t}))),a._register(_j((function(t){a._position.read(t),a.editor.layoutContentWidget(a)}))),a._register(_j((function(t){var i=[];for(var n=0,r=a.inlineCompletionsActionsMenus.getActions();n<r.length;n++){var e=r[n],o=e[0],s=e[1];for(var u=0,c=s;u<c.length;u++){var h=c[u];h instanceof Of&&i.push(h)}}i.length>0&&i.unshift(new ph),a.toolBar.setAdditionalSecondaryActions(i)})));return a}i.prototype.getId=function(){return this.id};i.prototype.getDomNode=function(){return this.nodes.root};i.prototype.getPosition=function(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}};return i}(Cn);cot._dropDownVisible=!1,cot.id=0,cot=oot=sot([uot(3,fh),uot(4,hf),uot(5,Ff)],cot);var hot=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.updateLabel=function(){var i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return t.prototype.updateLabel.call(this);if(this.label){var n=Gc("div.keybinding").root;this._register(new wP(n,ei,__assign({disableTitle:!0},gP))).set(i),this.label.textContent=this._action.label,this.label.appendChild(n),this.label.classList.add("inlineEditStatusBarItemLabel")}};i.prototype.updateTooltip=function(){};return i}(eU);var fot=function(t){__extends(i,t);function i(i,n,r,e,o,s,u,a,c){var h=this;h=t.call(this,i,__assign({resetMenu:r},e),o,s,u,a,c)||this,h.editor=n,h.menuId=r,h.options2=e,h.menuService=o,h.contextKeyService=s,h.menu=h._store.add(h.menuService.createMenu(h.menuId,h.contextKeyService,{emitEventsForSubmenuChanges:!0})),h.additionalActions=[],h.prependedPrimaryActions=[],h._store.add(h.menu.onDidChange((function(){return h.updateToolbar()}))),h._store.add(h.editor.onDidChangeCursorPosition((function(){return h.updateToolbar()}))),h.updateToolbar();return h}i.prototype.updateToolbar=function(){var t,i,n,r,e,o,s;var u=[],a=[];nU(this.menu,(t=this.options2)===null||t===void 0?void 0:t.menuOptions,{primary:u,secondary:a},(n=(i=this.options2)===null||i===void 0?void 0:i.toolbarOptions)===null||n===void 0?void 0:n.primaryGroup,(e=(r=this.options2)===null||r===void 0?void 0:r.toolbarOptions)===null||e===void 0?void 0:e.shouldInlineSubmenu,(s=(o=this.options2)===null||o===void 0?void 0:o.toolbarOptions)===null||s===void 0?void 0:s.useSeparatorsInPrimaryActions),a.push.apply(a,this.additionalActions),u.unshift.apply(u,this.prependedPrimaryActions),this.setActions(u,a)};i.prototype.setAdditionalSecondaryActions=function(t){_(this.additionalActions,t,(function(t,i){return t===i}))||(this.additionalActions=t,this.updateToolbar())};return i}(rX);fot=sot([uot(4,Ff),uot(5,hf),uot(6,TO),uot(7,vE),uot(8,Tf)],fot);var lot,dot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},vot=function(t,i){return function(n,r){i(n,r,t)}};var Aot=function(){function t(t,i){this.widget=t,this.edit=i}t.prototype.dispose=function(){this.widget.dispose()};return t}();var got=lot=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u.editor=i,u.instantiationService=n,u.contextKeyService=r,u.languageFeaturesService=e,u._commandService=o,u._configurationService=s,u._isVisibleContext=lot.inlineEditVisibleContext.bindTo(u.contextKeyService),u._isCursorAtInlineEditContext=lot.cursorAtInlineEditContext.bindTo(u.contextKeyService),u._currentEdit=u._register(yj(u,void 0)),u._isAccepting=mj(u,!1),u._enabled=Rj(u.editor.onDidChangeConfiguration,(function(){return u.editor.getOption(63).enabled})),u._fontFamily=Rj(u.editor.onDidChangeConfiguration,(function(){return u.editor.getOption(63).fontFamily})),u._backgroundColoring=Rj(u.editor.onDidChangeConfiguration,(function(){return u.editor.getOption(63).backgroundColoring}));var a=Lj("InlineEditController.modelContentChangedSignal",i.onDidChangeModelContent);u._register(_j((function(t){u._enabled.read(t)&&(a.read(t),u._isAccepting.read(t)||u.getInlineEdit(i,!0))})));var c=Rj(i.onDidChangeCursorPosition,(function(){return i.getPosition()}));u._register(_j((function(t){if(!u._enabled.read(t))return;var i=c.read(t);i&&u.checkCursorPosition(i)}))),u._register(_j((function(t){var n=u._currentEdit.read(t);if(u._isCursorAtInlineEditContext.set(!1),!n)return void u._isVisibleContext.set(!1);u._isVisibleContext.set(!0);var r=i.getPosition();r&&u.checkCursorPosition(r)})));var h=Lj("InlineEditController.editorBlurSignal",i.onDidBlurEditorWidget);u._register(_j((function(t){return __awaiter(u,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:r=this._enabled.read(t);if(!r)return[3,3];h.read(t);e=this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||i.getOption(63).keepOnBlur;if(e)return[3,2];(n=this._currentRequestCts)===null||n===void 0||n.dispose(!0),this._currentRequestCts=void 0;return[4,this.clear(!1)];case 1:e=o.sent();o.label=2;case 2:r=e;o.label=3;case 3:r;return[2]}}))}))})));var f=Lj("InlineEditController.editorFocusSignal",i.onDidFocusEditorText);u._register(_j((function(t){u._enabled.read(t)&&(f.read(t),u.getInlineEdit(i,!0))})));var l=u._register(fc());u._register(_j((function(t){var i=u._fontFamily.read(t);l.setStyle(i===""||i==="default"?"":"\n.monaco-editor .inline-edit-decoration,\n.monaco-editor .inline-edit-decoration-preview,\n.monaco-editor .inline-edit {\n\tfont-family: ".concat(i,";\n}"))}))),u._register(new aot(u.editor,u._currentEdit,u.instantiationService));return u}i.get=function(t){return t.getContribution(lot.ID)};i.prototype.checkCursorPosition=function(t){var i;if(!this._currentEdit)return void this._isCursorAtInlineEditContext.set(!1);var n=(i=this._currentEdit.get())===null||i===void 0?void 0:i.edit;n?this._isCursorAtInlineEditContext.set(Zr.containsPosition(n.range,t)):this._isCursorAtInlineEditContext.set(!1)};i.prototype.validateInlineEdit=function(t,i){var n,r;if(i.text.includes("\n")&&i.range.startLineNumber!==i.range.endLineNumber&&i.range.startColumn!==i.range.endColumn){if(i.range.startColumn!==1)return!1;var e=i.range.endLineNumber;if(i.range.endColumn!==((r=(n=t.getModel())===null||n===void 0?void 0:n.getLineLength(e))!==null&&r!==void 0?r:0)+1)return!1}return!0};i.prototype.fetchInlineEdit=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u,a,c,h,f;return __generator(this,(function(l){switch(l.label){case 0:this._currentRequestCts&&this._currentRequestCts.dispose(!0);n=t.getModel();if(!n)return[2];r=n.getVersionId(),e=this.languageFeaturesService.inlineEditProvider.all(n);if(e.length===0)return[2];o=e[0];this._currentRequestCts=new Kn;s=this._currentRequestCts.token,u=i?ke.Automatic:ke.Invoke;h=i;if(!h)return[3,2];return[4,(a=50,c=s,new Promise((function(t){var i;var n=setTimeout((function(){i&&i.dispose(),t()}),a);c&&(i=c.onCancellationRequested((function(){clearTimeout(n),i&&i.dispose(),t()})))})))];case 1:h=l.sent();l.label=2;case 2:if(h,s.isCancellationRequested||n.isDisposed()||n.getVersionId()!==r)return[2];return[4,o.provideInlineEdit(n,{triggerKind:u},s)];case 3:f=l.sent();return[2,f&&!s.isCancellationRequested&&!n.isDisposed()&&n.getVersionId()===r&&this.validateInlineEdit(t,f)?f:void 0]}}))}))};i.prototype.getInlineEdit=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:this._isCursorAtInlineEditContext.set(!1);return[4,this.clear()];case 1:a.sent();return[4,this.fetchInlineEdit(t,i)];case 2:r=a.sent();if(!r)return[2];e=r.range.endLineNumber,o=r.range.endColumn,s=new mtt(e,[new btt(o,r.text,!1)]),u=this.instantiationService.createInstance(eot,this.editor,{ghostText:Oj(s),minReservedLineCount:Oj(0),targetTextModel:Oj((n=this.editor.getModel())!==null&&n!==void 0?n:void 0),range:Oj(r.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new Aot(u,r),void 0);return[2]}}))}))};i.prototype.trigger=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.getInlineEdit(this.editor,!1)];case 1:t.sent();return[2]}}))}))};i.prototype.jumpBack=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition));return[2]}))}))};i.prototype.accept=function(){return __awaiter(this,void 0,void 0,(function(){var t,i,n,r;var e;var o=this;return __generator(this,(function(s){switch(s.label){case 0:this._isAccepting.set(!0,void 0);i=(t=this._currentEdit.get())===null||t===void 0?void 0:t.edit;if(!i)return[2];n=i.text;i.text.startsWith("\n")&&(n=i.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[BT.replace(Zr.lift(i.range),n)]);r=i.accepted;if(!r)return[3,2];return[4,(e=this._commandService).executeCommand.apply(e,__spreadArray([i.accepted.id],i.accepted.arguments||[],false)).then(void 0,hn)];case 1:r=s.sent();s.label=2;case 2:r,this.freeEdit(i),Aj((function(t){o._currentEdit.set(void 0,t),o._isAccepting.set(!1,t)}));return[2]}}))}))};i.prototype.jumpToCurrent=function(){var t,i;this._jumpBackPosition=(t=this.editor.getSelection())===null||t===void 0?void 0:t.getStartPosition();var n=(i=this._currentEdit.get())===null||i===void 0?void 0:i.edit;if(!n)return;var r=qr.lift({lineNumber:n.range.startLineNumber,column:n.range.startColumn});this.editor.setPosition(r),this.editor.revealPositionInCenterIfOutsideViewport(r)};i.prototype.clear=function(){return __awaiter(this,arguments,void 0,(function(t){var i,n,r;var e;if(t===void 0){t=!0}return __generator(this,(function(o){switch(o.label){case 0:n=(i=this._currentEdit.get())===null||i===void 0?void 0:i.edit;r=n&&(n!=null&&n.rejected)&&t;if(!r)return[3,2];return[4,(e=this._commandService).executeCommand.apply(e,__spreadArray([n.rejected.id],n.rejected.arguments||[],false)).then(void 0,hn)];case 1:r=o.sent();o.label=2;case 2:r,n&&this.freeEdit(n),this._currentEdit.set(void 0,void 0);return[2]}}))}))};i.prototype.freeEdit=function(t){var i=this.editor.getModel();if(!i)return;var n=this.languageFeaturesService.inlineEditProvider.all(i);n.length!==0&&n[0].freeInlineEdit(t)};i.prototype.shouldShowHoverAt=function(t){var i=this._currentEdit.get();if(!i)return!1;var n=i.edit,r=i.widget.model;if(Zr.containsPosition(n.range,t.getStartPosition())||Zr.containsPosition(n.range,t.getEndPosition()))return!0;var e=r.ghostText.get();return!!e&&e.parts.some((function(i){return t.containsPosition(new qr(e.lineNumber,i.column))}))};i.prototype.shouldShowHoverAtViewZone=function(t){var i,n;return(n=(i=this._currentEdit.get())===null||i===void 0?void 0:i.widget.ownsViewZone(t))!==null&&n!==void 0&&n};return i}(Cn);got.ID="editor.contrib.inlineEditController",got.inlineEditVisibleKey="inlineEditVisible",got.inlineEditVisibleContext=new cf(lot.inlineEditVisibleKey,!1),got.cursorAtInlineEditKey="cursorAtInlineEdit",got.cursorAtInlineEditContext=new cf(lot.cursorAtInlineEditKey,!1),got=lot=dot([vot(1,fh),vot(2,hf),vot(3,gg),vot(4,Eh),vot(5,sd)],got);var wot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},pot=function(t,i){return function(n,r){i(n,r,t)}};var mot=function(){function t(t,i,n){this.owner=t,this.range=i,this.controller=n}t.prototype.isValidForHoverAnchor=function(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn};return t}();var bot=function(){function t(t,i,n){this._editor=t,this._instantiationService=i,this._telemetryService=n,this.hoverOrdinal=5}t.prototype.suggestHoverAnchor=function(t){var i=got.get(this._editor);if(!i)return null;var n=t.target;if(n.type===8){var r=n.detail;if(i.shouldShowHoverAtViewZone(r.viewZoneId)){var e=n.range;return new B5(1e3,this,e,t.event.posx,t.event.posy,!1)}}return n.type===7&&i.shouldShowHoverAt(n.range)?new B5(1e3,this,n.range,t.event.posx,t.event.posy,!1):n.type===6&&n.detail.mightBeForeignElement&&i.shouldShowHoverAt(n.range)?new B5(1e3,this,n.range,t.event.posx,t.event.posy,!1):null};t.prototype.computeSync=function(t,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];var n=got.get(this._editor);return n&&n.shouldShowHoverAt(t.range)?[new mot(this,t.range,n)]:[]};t.prototype.renderHoverParts=function(t,i){var n=new Bn;this._telemetryService.publicLog2("inlineEditHover.shown");var r=this._instantiationService.createInstance(cot,this._editor,!1,Oj(null));return t.fragment.appendChild(r.getDomNode()),n.add(r),n};return t}();bot=wot([pot(1,fh),pot(2,Tf)],bot),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inlineEdit.accept",label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:Hh.and(hB.writable,got.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:Hh.and(hB.writable,got.inlineEditVisibleContext,got.cursorAtInlineEditContext)}],menuOpts:[{menuId:_f.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:t=got.get(i);return[4,t==null?void 0:t.accept()];case 1:n.sent();return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){var i=Hh.and(hB.writable,got.inlineEditVisibleContext);return t.call(this,{id:"editor.action.inlineEdit.reject",label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:i,kbOpts:{weight:100,primary:9,kbExpr:i},menuOpts:[{menuId:_f.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:t=got.get(i);return[4,t==null?void 0:t.clear()];case 1:n.sent();return[2]}}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){var i=Hh.and(hB.writable,got.inlineEditVisibleContext,Hh.not(got.cursorAtInlineEditKey));return t.call(this,{id:"editor.action.inlineEdit.jumpTo",label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:i,kbOpts:{weight:101,primary:2646,kbExpr:i},menuOpts:[{menuId:_f.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:i}]})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){t=got.get(i);t==null||t.jumpToCurrent();return[2]}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){var i=Hh.and(hB.writable,got.cursorAtInlineEditContext);return t.call(this,{id:"editor.action.inlineEdit.jumpBack",label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:i,kbOpts:{weight:110,primary:2646,kbExpr:i},menuOpts:[{menuId:_f.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:i}]})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){t=got.get(i);t==null||t.jumpBack();return[2]}))}))};return i}(Vf)),$f(function(t){__extends(i,t);function i(){var i=Hh.and(hB.writable,Hh.not(got.inlineEditVisibleKey));return t.call(this,{id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:i,kbOpts:{weight:101,primary:2646,kbExpr:i}})||this}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){t=got.get(i);t==null||t.trigger();return[2]}))}))};return i}(Vf)),il(got.ID,got,3),C5.register(bot);var yot={Visible:new cf("parameterHintsVisible",!1),MultipleSignatures:new cf("parameterHintsMultipleSignatures",!1)};function kot(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:o=t.ordered(i);s=0,u=o;f.label=1;case 1:if(!(s<u.length))return[3,6];a=u[s];f.label=2;case 2:f.trys.push([2,4,,5]);return[4,a.provideSignatureHelp(i,n,e,r)];case 3:c=f.sent();if(c)return[2,c];return[3,5];case 4:h=f.sent();hn(h);return[3,5];case 5:s++;return[3,1];case 6:return[2]}}))}))}var xot;Bh.registerCommand("_executeSignatureHelpProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:n=i[0],r=i[1],e=i[2];lt(zr.isUri(n)),lt(qr.isIPosition(r)),lt(typeof e=="string"||!e);o=t.get(gg);return[4,t.get(Ah).createModelReference(n)];case 1:s=a.sent();a.label=2;case 2:a.trys.push([2,,4,5]);return[4,kot(o.signatureHelpProvider,s.object.textEditorModel,qr.lift(r),{triggerKind:fe.Invoke,isRetrigger:!1,triggerCharacter:e},Gn.None)];case 3:u=a.sent();return[2,u?(setTimeout((function(){return u.dispose()}),0),u.value):void 0];case 4:s.dispose();return[7];case 5:return[2]}}))}))})),function(t){t.Default={type:0},t.Pending=function(){function t(t,i){this.request=t,this.previouslyActiveHints=i,this.type=2}return t}(),t.Active=function(){function t(t){this.hints=t,this.type=1}return t}()}(xot||(xot={}));var Eot=function(t){__extends(i,t);function i(n,r,e){if(e===void 0){e=i.DEFAULT_DELAY}var o=this;o=t.call(this)||this,o._onChangedHints=o._register(new Ln),o.onChangedHints=o._onChangedHints.event,o.triggerOnType=!1,o._state=xot.Default,o._pendingTriggers=[],o._lastSignatureHelpResult=o._register(new Dn),o.triggerChars=new fv,o.retriggerChars=new fv,o.triggerId=0,o.editor=n,o.providers=r,o.throttledDelayer=new Js(e),o._register(o.editor.onDidBlurEditorWidget((function(){return o.cancel()}))),o._register(o.editor.onDidChangeConfiguration((function(){return o.onEditorConfigurationChange()}))),o._register(o.editor.onDidChangeModel((function(t){return o.onModelChanged()}))),o._register(o.editor.onDidChangeModelLanguage((function(t){return o.onModelChanged()}))),o._register(o.editor.onDidChangeCursorSelection((function(t){return o.onCursorChange(t)}))),o._register(o.editor.onDidChangeModelContent((function(t){return o.onModelContentChange()}))),o._register(o.providers.onDidChange(o.onModelChanged,o)),o._register(o.editor.onDidType((function(t){return o.onDidType(t)}))),o.onEditorConfigurationChange(),o.onModelChanged();return o}Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){this._state.type===2&&this._state.request.cancel(),this._state=t},enumerable:false,configurable:true});i.prototype.cancel=function(t){if(t===void 0){t=!1}this.state=xot.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)};i.prototype.trigger=function(t,i){var n=this;var r=this.editor.getModel();if(!r||!this.providers.has(r))return;var e=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger((function(){return n.doTrigger(e)}),i).catch(cn)};i.prototype.next=function(){if(this.state.type!==1)return;var t=this.state.hints.signatures.length,i=this.state.hints.activeSignature,n=i%t==t-1,r=this.editor.getOption(86).cycle;!(t<2||n)||r?this.updateActiveSignature(n&&r?0:i+1):this.cancel()};i.prototype.previous=function(){if(this.state.type!==1)return;var t=this.state.hints.signatures.length,i=this.state.hints.activeSignature,n=i===0,r=this.editor.getOption(86).cycle;!(t<2||n)||r?this.updateActiveSignature(n&&r?t-1:i-1):this.cancel()};i.prototype.updateActiveSignature=function(t){this.state.type===1&&(this.state=new xot.Active(__assign(__assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))};i.prototype.doTrigger=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s,u,a;var c=this;return __generator(this,(function(h){switch(h.label){case 0:i=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return[2,!1];r=this._pendingTriggers.reduce(Bot);this._pendingTriggers=[];e={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:i,activeSignatureHelp:n};if(!this.editor.hasModel())return[2,!1];o=this.editor.getModel(),s=this.editor.getPosition();this.state=new xot.Pending(Us((function(t){return kot(c.providers,o,s,e,t)})),n);h.label=1;case 1:h.trys.push([1,3,,4]);return[4,this.state.request];case 2:u=h.sent();return[2,t!==this.triggerId?(u==null||u.dispose(),!1):u&&u.value.signatures&&u.value.signatures.length!==0?(this.state=new xot.Active(u.value),this._lastSignatureHelpResult.value=u,this._onChangedHints.fire(this.state.hints),!0):(u==null||u.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)];case 3:a=h.sent();return[2,(t===this.triggerId&&(this.state=xot.Default),cn(a),!1)];case 4:return[2]}}))}))};i.prototype.getLastActiveHints=function(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}};Object.defineProperty(i.prototype,"isTriggered",{get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()},enumerable:false,configurable:true});i.prototype.onModelChanged=function(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();var t=this.editor.getModel();if(t)for(var i=0,n=this.providers.ordered(t);i<n.length;i++){var r=n[i];for(var e=0,o=r.signatureHelpTriggerCharacters||[];e<o.length;e++){var s=o[e];if(s.length){var u=s.charCodeAt(0);this.triggerChars.add(u),this.retriggerChars.add(u)}}for(var a=0,c=r.signatureHelpRetriggerCharacters||[];a<c.length;a++){var s=c[a];s.length&&this.retriggerChars.add(s.charCodeAt(0))}}};i.prototype.onDidType=function(t){if(!this.triggerOnType)return;var i=t.length-1,n=t.charCodeAt(i);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:fe.TriggerCharacter,triggerCharacter:t.charAt(i)})};i.prototype.onCursorChange=function(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:fe.ContentChange})};i.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:fe.ContentChange})};i.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()};i.prototype.dispose=function(){this.cancel(!0),t.prototype.dispose.call(this)};return i}(Cn);function Bot(t,i){switch(i.triggerKind){case fe.Invoke:return i;case fe.ContentChange:return t;case fe.TriggerCharacter:default:return i}}Eot.DEFAULT_DELAY=120;var Cot,Dot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Mot=function(t,i){return function(n,r){i(n,r,t)}};var _ot=Nc,Fot=DW("parameter-hints-next",re.chevronDown,Bt(0,"Icon for show next parameter hint.")),Sot=DW("parameter-hints-previous",re.chevronUp,Bt(0,"Icon for show previous parameter hint."));var Iot=Cot=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this)||this,s.editor=i,s.model=n,s.renderDisposeables=s._register(new Bn),s.visible=!1,s.announcedLabel=null,s.allowEditorOverflow=!0,s.markdownRenderer=s._register(new JR({editor:i},o,e)),s.keyVisible=yot.Visible.bindTo(r),s.keyMultipleSignatures=yot.MultipleSignatures.bindTo(r);return s}i.prototype.createParameterHintDOMNodes=function(){var t=this;var i=_ot(".editor-widget.parameter-hints-widget"),n=_c(i,_ot(".phwrapper"));n.tabIndex=-1;var r=_c(n,_ot(".controls")),e=_c(r,_ot(".button"+xh.asCSSSelector(Sot))),o=_c(r,_ot(".overloads")),s=_c(r,_ot(".button"+xh.asCSSSelector(Fot)));this._register(Oa(e,"click",(function(i){Cc(i),t.previous()}))),this._register(Oa(s,"click",(function(i){Cc(i),t.next()})));var u=_ot(".body"),a=new Rk(u,{alwaysConsumeMouseWheel:!0});this._register(a),n.appendChild(a.getDomNode());var c=_c(u,_ot(".signature")),h=_c(u,_ot(".docs"));i.style.userSelect="text",this.domNodes={element:i,signature:c,overloads:o,docs:h,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((function(i){t.visible&&t.editor.layoutContentWidget(t)})));var f=function(){if(!t.domNodes)return;var i=t.editor.getOption(50);t.domNodes.element.style.fontSize="".concat(i.fontSize,"px"),t.domNodes.element.style.lineHeight=""+i.lineHeight/i.fontSize};f(),this._register(Qn.chain(this.editor.onDidChangeConfiguration.bind(this.editor),(function(t){return t.filter((function(t){return t.hasChanged(50)}))}))(f)),this._register(this.editor.onDidLayoutChange((function(i){return t.updateMaxHeight()}))),this.updateMaxHeight()};i.prototype.show=function(){var t=this;this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((function(){var i;(i=t.domNodes)===null||i===void 0||i.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))};i.prototype.hide=function(){var t;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(t=this.domNodes)===null||t===void 0||t.element.classList.remove("visible"),this.editor.layoutContentWidget(this))};i.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null};i.prototype.render=function(t){var i;if(this.renderDisposeables.clear(),!this.domNodes)return;var n=t.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";var r=t.signatures[t.activeSignature];if(!r)return;var e=_c(this.domNodes.signature,_ot(".code")),o=this.editor.getOption(50);e.style.fontSize="".concat(o.fontSize,"px"),e.style.fontFamily=o.fontFamily;var s=r.parameters.length>0,u=(i=r.activeParameter)!==null&&i!==void 0?i:t.activeParameter;s?this.renderParameters(e,r,u):_c(e,_ot("span")).textContent=r.label;var a=r.parameters[u];if(a!=null&&a.documentation){var c=_ot("span.documentation");if(typeof a.documentation=="string")c.textContent=a.documentation;else{var h=this.renderMarkdownDocs(a.documentation);c.appendChild(h.element)}_c(this.domNodes.docs,_ot("p",{},c))}if(r.documentation!==void 0)if(typeof r.documentation=="string")_c(this.domNodes.docs,_ot("p",{},r.documentation));else{var f=this.renderMarkdownDocs(r.documentation);_c(this.domNodes.docs,f.element)}var l=this.hasDocs(r,a);if(this.domNodes.signature.classList.toggle("has-docs",l),this.domNodes.docs.classList.toggle("empty",!l),this.domNodes.overloads.textContent=String(t.activeSignature+1).padStart(t.signatures.length.toString().length,"0")+"/"+t.signatures.length,a){var d="";var h=r.parameters[u];d=Array.isArray(h.label)?r.label.substring(h.label[0],h.label[1]):h.label,h.documentation&&(d+=typeof h.documentation=="string"?", ".concat(h.documentation):", ".concat(h.documentation.value)),r.documentation&&(d+=typeof r.documentation=="string"?", ".concat(r.documentation):", ".concat(r.documentation.value)),this.announcedLabel!==d&&(Rw(Bt(0,"{0}, hint",d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()};i.prototype.renderMarkdownDocs=function(t){var i=this;var n=this.renderDisposeables.add(this.markdownRenderer.render(t,{asyncRenderCallback:function(){var t;(t=i.domNodes)===null||t===void 0||t.scrollbar.scanDomNode()}}));return n.element.classList.add("markdown-docs"),n};i.prototype.hasDocs=function(t,i){return!!(i&&typeof i.documentation=="string"&&dt(i.documentation).length>0)||!!(i&&typeof i.documentation=="object"&&dt(i.documentation).value.length>0)||!!(t.documentation&&typeof t.documentation=="string"&&dt(t.documentation).length>0)||!!(t.documentation&&typeof t.documentation=="object"&&dt(t.documentation.value).length>0)};i.prototype.renderParameters=function(t,i,n){var r=this.getParameterLabelOffsets(i,n),e=r[0],o=r[1],s=document.createElement("span");s.textContent=i.label.substring(0,e);var u=document.createElement("span");u.textContent=i.label.substring(e,o),u.className="parameter active";var a=document.createElement("span");a.textContent=i.label.substring(o),_c(t,s,u,a)};i.prototype.getParameterLabelOffsets=function(t,i){var n=t.parameters[i];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){var r=new RegExp("(\\W|^)".concat(Eo(n.label),"(?=\\W|$)"),"g");r.test(t.label);var e=r.lastIndex-n.label.length;return e>=0?[e,r.lastIndex]:[0,0]}return[0,0]}return[0,0]};i.prototype.next=function(){this.editor.focus(),this.model.next()};i.prototype.previous=function(){this.editor.focus(),this.model.previous()};i.prototype.getDomNode=function(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element};i.prototype.getId=function(){return i.ID};i.prototype.updateMaxHeight=function(){if(!this.domNodes)return;var t="".concat(Math.max(this.editor.getLayoutInfo().height/4,250),"px");this.domNodes.element.style.maxHeight=t;var i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)};return i}(Cn);Iot.ID="editor.widget.parameterHintsWidget",Iot=Cot=Dot([Mot(2,hf),Mot(3,HO),Mot(4,ld)],Iot),fp("editorHoverWidget.highlightForeground",{dark:zb,light:zb,hcDark:zb,hcLight:zb},Bt(0,"Foreground color of the active item in the parameter hint."));var Qot,Oot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Not=function(t,i){return function(n,r){i(n,r,t)}};var Rot=Qot=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.model=e._register(new Eot(i,r.signatureHelpProvider)),e._register(e.model.onChangedHints((function(t){var i;t?(e.widget.value.show(),e.widget.value.render(t)):(i=e.widget.rawValue)===null||i===void 0||i.hide()}))),e.widget=new po((function(){return e._register(n.createInstance(Iot,e.editor,e.model))}));return e}i.get=function(t){return t.getContribution(i.ID)};i.prototype.cancel=function(){this.model.cancel()};i.prototype.previous=function(){var t;(t=this.widget.rawValue)===null||t===void 0||t.previous()};i.prototype.next=function(){var t;(t=this.widget.rawValue)===null||t===void 0||t.next()};i.prototype.trigger=function(t){this.model.trigger(t,0)};return i}(Cn);Rot.ID="editor.controller.parameterHints",Rot=Qot=Oot([Not(1,fh),Not(2,gg)],Rot);il(Rot.ID,Rot,2),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.triggerParameterHints",label:Bt(0,"Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:hB.hasSignatureHelpProvider,kbOpts:{kbExpr:hB.editorTextFocus,primary:3082,weight:100}})||this}i.prototype.run=function(t,i){var n=Rot.get(i);n==null||n.trigger({triggerKind:fe.Invoke})};return i}(Vf));var Tot=Gf.bindToContribution(Rot.get);Zf(new Tot({id:"closeParameterHints",precondition:yot.Visible,handler:function(t){return t.cancel()},kbOpts:{weight:175,kbExpr:hB.focus,primary:9,secondary:[1033]}})),Zf(new Tot({id:"showPrevParameterHint",precondition:Hh.and(yot.Visible,yot.MultipleSignatures),handler:function(t){return t.previous()},kbOpts:{weight:175,kbExpr:hB.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Zf(new Tot({id:"showNextParameterHint",precondition:Hh.and(yot.Visible,yot.MultipleSignatures),handler:function(t){return t.next()},kbOpts:{weight:175,kbExpr:hB.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var Lot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},jot=function(t,i){return function(n,r){i(n,r,t)}};var zot=new cf("renameInputVisible",!1,Bt(0,"Whether the rename input widget is visible"));new cf("renameInputFocused",!1,Bt(0,"Whether the rename input widget is focused"));var Uot=function(){function t(t,i,n,r,e,o){var s=this;this._editor=t,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=r,this._logService=o,this.allowEditorOverflow=!0,this._disposables=new Bn,this._visibleContextKey=zot.bindTo(e),this._isEditingRenameCandidate=!1,this._beforeFirstInputFieldEditSW=new In,this._input=new Yot,this._disposables.add(this._input),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(t){t.hasChanged(50)&&s._updateFont()}))),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}t.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)};t.prototype.getId=function(){return"__renameInputWidget"};t.prototype.getDomNode=function(){var t=this;return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._input.domNode),this._renameCandidateListView=this._disposables.add(new Hot(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:function(i){t._input.domNode.value=i,t._isEditingRenameCandidate=!1},onSelectionChange:function(){t._isEditingRenameCandidate=!1,t.acceptInput(!1)}})),this._disposables.add(this._input.onDidChange((function(){var i,n,r,e;((i=t._renameCandidateListView)===null||i===void 0?void 0:i.focusedCandidate)!==void 0&&(t._isEditingRenameCandidate=!0),(n=t._timeBeforeFirstInputFieldEdit)!==null&&n!==void 0||(t._timeBeforeFirstInputFieldEdit=t._beforeFirstInputFieldEditSW.elapsed()),((r=t._renameCandidateProvidersCts)===null||r===void 0?void 0:r.token.isCancellationRequested)===!1&&t._renameCandidateProvidersCts.cancel(),(e=t._renameCandidateListView)===null||e===void 0||e.clearFocus()}))),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode};t.prototype._updateStyles=function(t){var i,n,r,e;if(!this._domNode)return;var o=t.getColor(gm),s=t.getColor(wm);this._domNode.style.backgroundColor=String((i=t.getColor(Rp))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=o?" 0 0 8px 2px ".concat(o):"",this._domNode.style.border=s?"1px solid ".concat(s):"",this._domNode.style.color=String((n=t.getColor(Pm))!==null&&n!==void 0?n:""),this._input.domNode.style.backgroundColor=String((r=t.getColor(Jm))!==null&&r!==void 0?r:"");var u=t.getColor(Wm);this._input.domNode.style.borderWidth=u?"1px":"0px",this._input.domNode.style.borderStyle=u?"solid":"none",this._input.domNode.style.borderColor=(e=u==null?void 0:u.toString())!==null&&e!==void 0?e:"none"};t.prototype._updateFont=function(){if(this._domNode===void 0)return;lt(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._input.domNode);var t=this._editor.getOption(50);this._label.style.fontSize="".concat(this._computeLabelFontSize(t.fontSize),"px")};t.prototype._computeLabelFontSize=function(t){return.8*t};t.prototype.getPosition=function(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;var t=Pa(this.getDomNode().ownerDocument.body),i=Ka(this._editor.getDomNode()),n=this._getTopForPosition();this._nPxAvailableAbove=n+i.top,this._nPxAvailableBelow=t.height-this._nPxAvailableAbove;var r=this._editor.getOption(67),e=Jot.getLayoutInfo({lineHeight:r}).totalHeight,o=this._nPxAvailableBelow>6*e?[2,1]:[1,2];return{position:this._position,preference:o}};t.prototype.beforeRender=function(){var t,i;var n=this._acceptKeybindings,r=n[0],e=n[1];return this._label.innerText=Bt(0,"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(r))===null||t===void 0?void 0:t.getLabel(),(i=this._keybindingService.lookupKeybinding(e))===null||i===void 0?void 0:i.getLabel()),this._domNode.style.minWidth="200px",null};t.prototype.afterRender=function(t){if(this._trace("invoking afterRender, position: ",t?"not null":"null"),t===null)return void this.cancelInput(!0,"afterRender (because position is null)");if(!this._editor.hasModel()||!this._editor.getDomNode())return;lt(this._renameCandidateListView),lt(this._nPxAvailableAbove!==void 0),lt(this._nPxAvailableBelow!==void 0);var i=tc(this._input.domNode),n=tc(this._label);var r;r=t===2?this._nPxAvailableBelow:this._nPxAvailableAbove,this._renameCandidateListView.layout({height:r-n-i,width:qa(this._input.domNode)})};t.prototype.acceptInput=function(t){var i;this._trace("invoking acceptInput"),(i=this._currentAcceptInput)===null||i===void 0||i.call(this,t)};t.prototype.cancelInput=function(t,i){var n;this._trace("invoking cancelInput, caller: ".concat(i,", _currentCancelInput: ").concat(this._currentAcceptInput?"not undefined":"undefined")),(n=this._currentCancelInput)===null||n===void 0||n.call(this,t)};t.prototype.focusNextRenameSuggestion=function(){var t;!((t=this._renameCandidateListView)===null||t===void 0)&&t.focusNext()||(this._input.domNode.value=this._currentName)};t.prototype.focusPreviousRenameSuggestion=function(){var t;!((t=this._renameCandidateListView)===null||t===void 0)&&t.focusPrevious()||(this._input.domNode.value=this._currentName)};t.prototype.getInput=function(t,i,n,r,e){var o=this;var s=this._getSelection(t,i),u=s.start,a=s.end;this._renameCandidateProvidersCts=new Kn;var c=r(this._renameCandidateProvidersCts.token);this._updateRenameCandidates(c,i,e.token),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",n),this._position=new qr(t.startLineNumber,t.startColumn),this._currentName=i,this._input.domNode.value=i,this._input.domNode.setAttribute("selectionStart",u.toString()),this._input.domNode.setAttribute("selectionEnd",a.toString()),this._input.domNode.size=Math.max(1.1*(t.endColumn-t.startColumn),20),this._beforeFirstInputFieldEditSW.reset();var h=new Bn;h.add(En((function(){return e.dispose(!0)}))),h.add(En((function(){o._renameCandidateProvidersCts!==void 0&&(o._renameCandidateProvidersCts.dispose(!0),o._renameCandidateProvidersCts=void 0)})));var f=new nu;return f.p.finally((function(){h.dispose(),o._hide()})),this._currentCancelInput=function(t){var i;return o._trace("invoking _currentCancelInput"),o._currentAcceptInput=void 0,o._currentCancelInput=void 0,(i=o._renameCandidateListView)===null||i===void 0||i.clearCandidates(),f.complete(t),!0},this._currentAcceptInput=function(t){o._trace("invoking _currentAcceptInput"),lt(o._renameCandidateListView!==void 0);var r=o._renameCandidateListView.nCandidates;var e,s;var u=o._renameCandidateListView.focusedCandidate;u!==void 0?(o._trace("using new name from renameSuggestion"),e=u,s={k:"renameSuggestion"}):(o._trace("using new name from inputField"),e=o._input.domNode.value,s=o._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),e!==i&&e.trim().length!==0?(o._currentAcceptInput=void 0,o._currentCancelInput=void 0,o._renameCandidateListView.clearCandidates(),f.complete({newName:e,wantsPreview:n&&t,stats:{source:s,nRenameSuggestions:r,timeBeforeFirstInputFieldEdit:o._timeBeforeFirstInputFieldEdit}})):o.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)")},h.add(e.token.onCancellationRequested((function(){return o.cancelInput(!0,"cts.token.onCancellationRequested")}))),h.add(this._editor.onDidBlurEditorWidget((function(){var t;return o.cancelInput(!(!((t=o._domNode)===null||t===void 0)&&t.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")}))),this._show(),f.p};t.prototype._getSelection=function(t,i){lt(this._editor.hasModel());var n=this._editor.getSelection();var r=0,e=i.length;return Zr.isEmpty(n)||Zr.spansMultipleLines(n)||!Zr.containsRange(t,n)||(r=Math.max(0,n.startColumn-t.startColumn),e=Math.min(t.endColumn,n.endColumn)-t.startColumn),{start:r,end:e}};t.prototype._show=function(){var t=this;this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){t._input.domNode.focus(),t._input.domNode.setSelectionRange(parseInt(t._input.domNode.getAttribute("selectionStart")),parseInt(t._input.domNode.getAttribute("selectionEnd")))}),100)};t.prototype._updateRenameCandidates=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u;var a=this;return __generator(this,(function(c){switch(c.label){case 0:r=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return a._trace.apply(a,__spreadArray(["_updateRenameCandidates"],t,false))};r("start");return[4,Hs(Promise.allSettled(t),n)];case 1:e=c.sent();if(e===void 0)return[2,void r("returning early - received updateRenameCandidates results - undefined")];o=e.flatMap((function(t){return t.status==="fulfilled"&&ht(t.value)?t.value:[]}));r("received updateRenameCandidates results - total (unfiltered) ".concat(o.length," candidates."));s=j(o,(function(t){return t.newSymbolName}));r("distinct candidates - ".concat(s.length," candidates."));u=s.filter((function(t){var n=t.newSymbolName;return n.trim().length>0&&n!==a._input.domNode.value&&n!==i}));r("valid distinct candidates - ".concat(o.length," candidates.")),u.length<1?r("returning early - no valid distinct candidates"):(r("setting candidates"),this._renameCandidateListView.setCandidates(u),r("asking editor to re-layout"),this._editor.layoutContentWidget(this));return[2]}}))}))};t.prototype._hide=function(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)};t.prototype._getTopForPosition=function(){var t=this._editor.getVisibleRanges();var i;return t.length>0?i=t[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),i=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(i)};t.prototype._trace=function(){var t;var i=[];for(var n=0;n<arguments.length;n++){i[n]=arguments[n]}(t=this._logService).trace.apply(t,__spreadArray(["RenameWidget"],i,false))};return t}();Uot=Lot([jot(2,ex),jot(3,vE),jot(4,hf),jot(5,Lf)],Uot);var Hot=function(){function t(i,n){var r=this;this._disposables=new Bn,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=n.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=n.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),i.appendChild(this._listContainer),this._listWidget=t._createListWidget(this._listContainer,this._candidateViewHeight,n.fontInfo),this._listWidget.onDidChangeFocus((function(t){t.elements.length===1&&n.onFocusChange(t.elements[0].newSymbolName)}),this._disposables),this._listWidget.onDidChangeSelection((function(t){t.elements.length===1&&n.onSelectionChange()}),this._disposables),this._disposables.add(this._listWidget.onDidBlur((function(t){r._listWidget.setFocus([])}))),this._listWidget.style(Kz({listInactiveFocusForeground:ly,listInactiveFocusBackground:vy}))}t.prototype.dispose=function(){this._listWidget.dispose(),this._disposables.dispose()};t.prototype.layout=function(t){var i=t.height,n=t.width;this._availableHeight=i,this._minimumWidth=n};t.prototype.setCandidates=function(t){this._listWidget.splice(0,0,t);var i=this._pickListHeight(t.length),n=this._pickListWidth(t);this._listWidget.layout(i,n),this._listContainer.style.height="".concat(i,"px"),this._listContainer.style.width="".concat(n,"px"),Tw(Bt(0,"Received {0} rename suggestions",t.length))};t.prototype.clearCandidates=function(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])};Object.defineProperty(t.prototype,"nCandidates",{get:function(){return this._listWidget.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"focusedCandidate",{get:function(){if(this._listWidget.length===0)return;var t=this._listWidget.getSelectedElements()[0];if(t!==void 0)return t.newSymbolName;var i=this._listWidget.getFocusedElements()[0];return i!==void 0?i.newSymbolName:void 0},enumerable:false,configurable:true});t.prototype.focusNext=function(){if(this._listWidget.length===0)return!1;var t=this._listWidget.getFocus();return t.length===0?(this._listWidget.focusFirst(),!0):t[0]===this._listWidget.length-1?(this._listWidget.setFocus([]),!1):(this._listWidget.focusNext(),!0)};t.prototype.focusPrevious=function(){if(this._listWidget.length===0)return!1;var t=this._listWidget.getFocus();return t.length===0?(this._listWidget.focusLast(),!0):t[0]===0?(this._listWidget.setFocus([]),!1):(this._listWidget.focusPrevious(),!0)};t.prototype.clearFocus=function(){this._listWidget.setFocus([])};Object.defineProperty(t.prototype,"_candidateViewHeight",{get:function(){var t=Jot.getLayoutInfo({lineHeight:this._lineHeight}).totalHeight;return t},enumerable:false,configurable:true});t.prototype._pickListHeight=function(t){var i=this._candidateViewHeight*t;return Math.min(i,this._availableHeight,7*this._candidateViewHeight)};t.prototype._pickListWidth=function(t){var i=Math.ceil(Math.max.apply(Math,t.map((function(t){return t.newSymbolName.length})))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+i+10)};t._createListWidget=function(t,i,n){var r=new(function(){function t(){}t.prototype.getTemplateId=function(t){return"candidate"};t.prototype.getHeight=function(t){return i};return t}()),e=new(function(){function t(){this.templateId="candidate"}t.prototype.renderTemplate=function(t){return new Jot(t,n)};t.prototype.renderElement=function(t,i,n){n.populate(t)};t.prototype.disposeTemplate=function(t){t.dispose()};return t}());return new bz("NewSymbolNameCandidates",t,r,[e],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})};return t}();var Yot=function(){function t(){this._onDidChange=new Ln,this.onDidChange=this._onDidChange.event,this._disposables=new Bn}Object.defineProperty(t.prototype,"domNode",{get:function(){var t=this;return this._domNode||(this._domNode=document.createElement("input"),this._domNode.className="rename-input",this._domNode.type="text",this._domNode.setAttribute("aria-label",Bt(0,"Rename input. Type new name and press Enter to commit.")),this._disposables.add(Oa(this._domNode,"input",(function(){return t._onDidChange.fire()})))),this._domNode},enumerable:false,configurable:true});t.prototype.dispose=function(){this._onDidChange.dispose(),this._disposables.dispose()};return t}();var Jot=function(){function t(i,n){this._domNode=document.createElement("div"),this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height="".concat(n.lineHeight,"px"),this._domNode.style.padding="".concat(t._PADDING,"px");var r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.width=r.style.height=.8*n.lineHeight+"px",this._domNode.appendChild(r),this._icon=qO(re.sparkle),this._icon.style.display="none",r.appendChild(this._icon),this._label=document.createElement("div"),ih(this._label,n),this._domNode.appendChild(this._label),i.appendChild(this._domNode)}t.prototype.populate=function(t){this._updateIcon(t),this._updateLabel(t)};t.prototype._updateIcon=function(t){var i;var n=!!(!((i=t.tags)===null||i===void 0)&&i.includes(ge.AIGenerated));this._icon.style.display=n?"inherit":"none"};t.prototype._updateLabel=function(t){this._label.innerText=t.newSymbolName};t.getLayoutInfo=function(i){var n=i.lineHeight;return{totalHeight:n+2*t._PADDING}};t.prototype.dispose=function(){};return t}();Jot._PADDING=2;var Pot,Wot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Got=function(t,i){return function(n,r){i(n,r,t)}};var Vot=function(){function t(t,i,n){this.model=t,this.position=i,this._providerRenameIdx=0,this._providers=n.ordered(t)}t.prototype.hasProvider=function(){return this._providers.length>0};t.prototype.resolveRenameLocation=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e;return __generator(this,(function(o){switch(o.label){case 0:i=[];this._providerRenameIdx=0;o.label=1;case 1:if(!(this._providerRenameIdx<this._providers.length))return[3,4];n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)return[3,4];return[4,n.resolveRenameLocation(this.model,this.position,t)];case 2:r=o.sent();if(r){if(!r.rejectReason)return[2,r];i.push(r.rejectReason)}o.label=3;case 3:this._providerRenameIdx++;return[3,1];case 4:this._providerRenameIdx=0;e=this.model.getWordAtPosition(this.position);return[2,e?{range:new Zr(this.position.lineNumber,e.startColumn,this.position.lineNumber,e.endColumn),text:e.word,rejectReason:i.length>0?i.join("\n"):void 0}:{range:Zr.fromPositions(this.position),text:"",rejectReason:i.length>0?i.join("\n"):void 0}]}}))}))};t.prototype.provideRenameEdits=function(t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return[2,this._provideRenameEdits(t,this._providerRenameIdx,[],i)]}))}))};t.prototype._provideRenameEdits=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o;return __generator(this,(function(s){switch(s.label){case 0:e=this._providers[i];if(!e)return[2,{edits:[],rejectReason:n.join("\n")}];return[4,e.provideRenameEdits(this.model,this.position,t,r)];case 1:o=s.sent();return[2,o?o.rejectReason?this._provideRenameEdits(t,i+1,n.concat(o.rejectReason),r):o:this._provideRenameEdits(t,i+1,n.concat(Bt(0,"No result.")),r)]}}))}))};return t}();var Kot=Pot=function(){function t(t,i,n,r,e,o,s,u,a){this.editor=t,this._instaService=i,this._notificationService=n,this._bulkEditService=r,this._progressService=e,this._logService=o,this._configService=s,this._languageFeaturesService=u,this._telemetryService=a,this._disposableStore=new Bn,this._cts=new Kn,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(Uot,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}t.get=function(t){return t.getContribution(Pot.ID)};t.prototype.dispose=function(){this._disposableStore.dispose(),this._cts.dispose(!0)};t.prototype.run=function(){return __awaiter(this,void 0,void 0,(function(){var t,i,n,r,e,o,s,u,a,c,h,f,l,d,v;var A=this;return __generator(this,(function(g){switch(g.label){case 0:n=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new Kn,!this.editor.hasModel())return[2,void n("editor has no model")];r=this.editor.getPosition(),e=new Vot(this.editor.getModel(),r,this._languageFeaturesService.renameProvider);if(!e.hasProvider())return[2,void n("skeleton has no provider")];o=new AZ(this.editor,5,void 0,this._cts.token);g.label=1;case 1:g.trys.push([1,3,4,5]);n("resolving rename location");u=e.resolveRenameLocation(o.token);this._progressService.showWhile(u,250);return[4,u];case 2:s=g.sent(),n("resolved rename location");return[3,5];case 3:a=g.sent();return[2,void(a instanceof vn?n("resolve rename location cancelled",JSON.stringify(a,null,"\t")):(n("resolve rename location failed",a instanceof Error?a:JSON.stringify(a,null,"\t")),(typeof a=="string"||cR(a))&&((t=d1.get(this.editor))===null||t===void 0||t.showMessage(a||Bt(0,"An unknown error occurred while resolving rename location"),r))))];case 4:o.dispose();return[7];case 5:if(!s)return[2,void n("returning early - no loc")];if(s.rejectReason)return[2,(n("returning early - rejected with reason: ".concat(s.rejectReason),s.rejectReason),void((i=d1.get(this.editor))===null||i===void 0||i.showMessage(s.rejectReason,r)))];if(o.token.isCancellationRequested)return[2,void n("returning early - cts1 cancelled")];c=new AZ(this.editor,5,s.range,this._cts.token),h=this.editor.getModel(),f=this._languageFeaturesService.newSymbolNamesProvider.all(h);n("creating rename input field and awaiting its result");l=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview");return[4,this._renameWidget.getInput(s.range,s.text,l,(function(t){return f.map((function(i){return i.provideNewSymbolNames(h,s.range,t)}))}),c)];case 6:d=g.sent();if(n("received response from rename input field"),f.length>0&&this._reportTelemetry(f.length,h.getLanguageId(),d),typeof d=="boolean")return[2,(n("returning early - rename input field response - ".concat(d)),d&&this.editor.focus(),void c.dispose())];this.editor.focus(),n("requesting rename edits");v=Hs(e.provideRenameEdits(d.newName,c.token),c.token).then((function(t){return __awaiter(A,void 0,void 0,(function(){var i=this;return __generator(this,(function(r){if(t)if(this.editor.hasModel()){if(t.rejectReason)return[2,(n("returning early - rejected with reason: ".concat(t.rejectReason)),void this._notificationService.info(t.rejectReason))];this.editor.setSelection(Zr.fromPositions(this.editor.getSelection().getPosition())),n("applying edits"),this._bulkEditService.apply(t,{editor:this.editor,showPreview:d.wantsPreview,label:Bt(0,"Renaming '{0}' to '{1}'",s==null?void 0:s.text,d.newName),code:"undoredo.rename",quotableLabel:Bt(0,"Renaming {0} to {1}",s==null?void 0:s.text,d.newName),respectAutoSaveConfig:!0}).then((function(t){n("edits applied"),t.ariaSummary&&Rw(Bt(0,"Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,d.newName,t.ariaSummary))})).catch((function(t){n("error when applying edits ".concat(JSON.stringify(t,null,"\t"))),i._notificationService.error(Bt(0,"Rename failed to apply edits")),i._logService.error(t)}))}else n("returning early - no model after rename edits are provided");else n("returning early - no rename edits result");return[2]}))}))}),(function(t){n("error when providing rename edits",JSON.stringify(t,null,"\t")),A._notificationService.error(Bt(0,"Rename failed to compute edits")),A._logService.error(t)})).finally((function(){c.dispose()}));return[2,(n("returning rename operation"),this._progressService.showWhile(v,250),v)]}}))}))};t.prototype.acceptRenameInput=function(t){this._renameWidget.acceptInput(t)};t.prototype.cancelRenameInput=function(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")};t.prototype.focusNextRenameSuggestion=function(){this._renameWidget.focusNextRenameSuggestion()};t.prototype.focusPreviousRenameSuggestion=function(){this._renameWidget.focusPreviousRenameSuggestion()};t.prototype._reportTelemetry=function(t,i,n){var r=typeof n=="boolean"?{kind:"cancelled",languageId:i,nRenameSuggestionProviders:t}:{kind:"accepted",languageId:i,nRenameSuggestionProviders:t,source:n.stats.source.k,nRenameSuggestions:n.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:n.stats.timeBeforeFirstInputFieldEdit,wantsPreview:n.wantsPreview};this._telemetryService.publicLog2("renameInvokedEvent",r)};return t}();Kot.ID="editor.contrib.renameController",Kot=Pot=Wot([Got(1,fh),Got(2,PI),Got(3,dT),Got(4,$T),Got(5,Lf),Got(6,vg),Got(7,gg),Got(8,Tf)],Kot);il(Kot.ID,Kot,4),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.rename",label:Bt(0,"Rename Symbol"),alias:"Rename Symbol",precondition:Hh.and(hB.writable,hB.hasRenameProvider),kbOpts:{kbExpr:hB.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})||this}i.prototype.runCommand=function(i,n){var r=this;var e=i.get(dh),o=Array.isArray(n)&&n||[void 0,void 0],s=o[0],u=o[1];return zr.isUri(s)&&qr.isIPosition(u)?e.openCodeEditor({resource:s},e.getActiveCodeEditor()).then((function(t){t&&(t.setPosition(u),t.invokeWithinContext((function(i){return r.reportTelemetry(i,t),r.run(i,t)})))}),cn):t.prototype.runCommand.call(this,i,n)};i.prototype.run=function(t,i){var n=t.get(Lf),r=Kot.get(i);return r?(n.trace("[RenameAction] got controller, running..."),r.run()):(n.trace("[RenameAction] returning early - controller missing"),Promise.resolve())};return i}(Vf));var Xot=Gf.bindToContribution(Kot.get);Zf(new Xot({id:"acceptRenameInput",precondition:zot,handler:function(t){return t.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:Hh.and(hB.focus,Hh.not("isComposing")),primary:3}})),Zf(new Xot({id:"acceptRenameInputWithPreview",precondition:Hh.and(zot,Hh.has("config.editor.rename.enablePreview")),handler:function(t){return t.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:Hh.and(hB.focus,Hh.not("isComposing")),primary:2051}})),Zf(new Xot({id:"cancelRenameInput",precondition:zot,handler:function(t){return t.cancelRenameInput()},kbOpts:{weight:199,kbExpr:hB.focus,primary:9,secondary:[1033]}})),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"focusNextRenameSuggestion",title:__assign({},Ct(0,"Focus Next Rename Suggestion")),precondition:zot,keybinding:[{primary:2,secondary:[18],weight:199}]})||this}i.prototype.run=function(t){var i=t.get(dh).getFocusedCodeEditor();if(!i)return;var n=Kot.get(i);n&&n.focusNextRenameSuggestion()};return i}(Nf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"focusPreviousRenameSuggestion",title:__assign({},Ct(0,"Focus Previous Rename Suggestion")),precondition:zot,keybinding:[{primary:1026,secondary:[16],weight:199}]})||this}i.prototype.run=function(t){var i=t.get(dh).getFocusedCodeEditor();if(!i)return;var n=Kot.get(i);n&&n.focusPreviousRenameSuggestion()};return i}(Nf)),qf("_executeDocumentRenameProvider",(function(t,i,n){var r=[];for(var e=3;e<arguments.length;e++){r[e-3]=arguments[e]}var o=r[0];lt(typeof o=="string");var s=t.get(gg).renameProvider;return function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o;return __generator(this,(function(s){switch(s.label){case 0:e=new Vot(i,n,t);return[4,e.resolveRenameLocation(Gn.None)];case 1:o=s.sent();return[2,o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:e.provideRenameEdits(r,Gn.None)]}}))}))}(s,i,n,o)})),qf("_executePrepareRename",(function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o;return __generator(this,(function(s){switch(s.label){case 0:r=t.get(gg).renameProvider,e=new Vot(i,n,r);return[4,e.resolveRenameLocation(Gn.None)];case 1:o=s.sent();if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return[2,o]}}))}))})),yf.as(bd).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:Bt(0,"Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var qot=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Zot=function(t,i){return function(n,r){i(n,r,t)}};var $ot=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.editor=i,e.languageConfigurationService=n,e.editorWorkerService=r,e.decorations=e.editor.createDecorationsCollection(),e.options=e.createOptions(i.getOption(73)),e.computePromise=null,e.currentOccurrences={},e._register(i.onDidChangeModel((function(t){e.currentOccurrences={},e.options=e.createOptions(i.getOption(73)),e.stop(),e.computeSectionHeaders.schedule(0)}))),e._register(i.onDidChangeModelLanguage((function(t){e.currentOccurrences={},e.options=e.createOptions(i.getOption(73)),e.stop(),e.computeSectionHeaders.schedule(0)}))),e._register(n.onDidChange((function(t){var n;var r=(n=e.editor.getModel())===null||n===void 0?void 0:n.getLanguageId();r&&t.affects(r)&&(e.currentOccurrences={},e.options=e.createOptions(i.getOption(73)),e.stop(),e.computeSectionHeaders.schedule(0))}))),e._register(i.onDidChangeConfiguration((function(t){e.options&&!t.hasChanged(73)||(e.options=e.createOptions(i.getOption(73)),e.updateDecorations([]),e.stop(),e.computeSectionHeaders.schedule(0))}))),e._register(e.editor.onDidChangeModelContent((function(t){e.computeSectionHeaders.schedule()}))),e.computeSectionHeaders=e._register(new qs((function(){e.findSectionHeaders()}),250)),e.computeSectionHeaders.schedule(0);return e}i.prototype.createOptions=function(t){if(!t||!this.editor.hasModel())return;var i=this.editor.getModel().getLanguageId();if(!i)return;var n=this.languageConfigurationService.getLanguageConfiguration(i).comments,r=this.languageConfigurationService.getLanguageConfiguration(i).foldingRules;return n||r!=null&&r.markers?{foldingRules:r,findMarkSectionHeaders:t.showMarkSectionHeaders,findRegionSectionHeaders:t.showRegionSectionHeaders}:void 0};i.prototype.findSectionHeaders=function(){var t=this;var i,n;if(!this.editor.hasModel()||!(!((i=this.options)===null||i===void 0)&&i.findMarkSectionHeaders)&&!(!((n=this.options)===null||n===void 0)&&n.findRegionSectionHeaders))return;var r=this.editor.getModel();if(r.isDisposed()||r.isTooLargeForSyncing())return;var e=r.getVersionId();this.editorWorkerService.findSectionHeaders(r.uri,this.options).then((function(i){r.isDisposed()||r.getVersionId()!==e||t.updateDecorations(i)}))};i.prototype.updateDecorations=function(t){var i=this;var n=this.editor.getModel();n&&(t=t.filter((function(t){if(!t.shouldBeInComments)return!0;var i=n.validateRange(t.range),r=n.tokenization.getLineTokens(i.startLineNumber),e=r.findTokenIndexAtOffset(i.startColumn-1),o=r.getStandardTokenType(e);return r.getLanguageId(e)===n.getLanguageId()&&o===1})));var r=Object.values(this.currentOccurrences).map((function(t){return t.decorationId})),e=t.map((function(t){return function(t){return{range:t.range,options:iS.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:t.hasSeparatorLine?2:1,sectionHeaderText:t.text}})}}(t)}));this.editor.changeDecorations((function(n){var o=n.deltaDecorations(r,e);i.currentOccurrences={};for(var s=0,u=o.length;s<u;s++){var a={sectionHeader:t[s],decorationId:o[s]};i.currentOccurrences[a.decorationId]=a}}))};i.prototype.stop=function(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.stop(),this.decorations.clear()};return i}(Cn);function tst(t){var i=new Uint32Array(function(t){var i=0;if(i+=2,t.type==="full")i+=1+t.data.length;else{i+=1,i+=3*t.deltas.length;for(var n=0,r=t.deltas;n<r.length;n++){var e=r[n];e.data&&(i+=e.data.length)}}return i}(t));var n=0;if(i[n++]=t.id,t.type==="full")i[n++]=1,i[n++]=t.data.length,i.set(t.data,n),n+=t.data.length;else{i[n++]=2,i[n++]=t.deltas.length;for(var r=0,e=t.deltas;r<e.length;r++){var o=e[r];i[n++]=o.start,i[n++]=o.deleteCount,o.data?(i[n++]=o.data.length,i.set(o.data,n),n+=o.data.length):i[n++]=0}}return function(t){var i=new Uint8Array(t.buffer,t.byteOffset,4*t.length);return ui()||function(t){for(var i=0,n=t.length;i<n;i+=4){var r=t[i+0],e=t[i+1],o=t[i+2],s=t[i+3];t[i+0]=s,t[i+1]=o,t[i+2]=e,t[i+3]=r}}(i),Rl.wrap(i)}(i)}function ist(t){return t&&!!t.data}function nst(t){return t&&Array.isArray(t.edits)}$ot.ID="editor.sectionHeaderDetector",$ot=qot([Zot(1,jd),Zot(2,FU)],$ot),il($ot.ID,$ot,1);var rst=function(){function t(t,i,n){this.provider=t,this.tokens=i,this.error=n}return t}();function est(t,i){return t.has(i)}function ost(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c;var h=this;return __generator(this,(function(f){switch(f.label){case 0:o=function(t,i){var n=t.orderedGroups(i);return n.length>0?n[0]:[]}(t,i);return[4,Promise.all(o.map((function(t){return __awaiter(h,void 0,void 0,(function(){var o,s,u;return __generator(this,(function(a){switch(a.label){case 0:s=null;a.label=1;case 1:a.trys.push([1,3,,4]);return[4,t.provideDocumentSemanticTokens(i,t===n?r:null,e)];case 2:o=a.sent();return[3,4];case 3:u=a.sent();s=u,o=null;return[3,4];case 4:return[2,(o&&(ist(o)||nst(o))||(o=null),new rst(t,o,s))]}}))}))})))];case 1:s=f.sent();for(u=0,a=s;u<a.length;u++){c=a[u];if(c.error)throw c.error;if(c.tokens)return[2,c]}return[2,s.length>0?s[0]:null]}}))}))}var sst=function(){function t(t,i){this.provider=t,this.tokens=i}return t}();function ust(t,i){var n=t.orderedGroups(i);return n.length>0?n[0]:[]}function ast(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a;var c=this;return __generator(this,(function(h){switch(h.label){case 0:e=ust(t,i);return[4,Promise.all(e.map((function(t){return __awaiter(c,void 0,void 0,(function(){var e,o;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,t.provideDocumentRangeSemanticTokens(i,n,r)];case 1:e=s.sent();return[3,3];case 2:o=s.sent();hn(o),e=null;return[3,3];case 3:return[2,(e&&ist(e)||(e=null),new sst(t,e))]}}))}))})))];case 1:o=h.sent();for(s=0,u=o;s<u.length;s++){a=u[s];if(a.tokens)return[2,a]}return[2,o.length>0?o[0]:null]}}))}))}Bh.registerCommand("_provideDocumentSemanticTokensLegend",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o;return __generator(this,(function(s){n=i[0];lt(n instanceof zr);r=t.get(vh).getModel(n);if(!r)return[2];e=t.get(gg).documentSemanticTokensProvider,o=function(t,i){var n=t.orderedGroups(i);return n.length>0?n[0]:null}(e,r);return[2,o?o[0].getLegend():t.get(Eh).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)]}))}))})),Bh.registerCommand("_provideDocumentSemanticTokens",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s,u,a;return __generator(this,(function(c){switch(c.label){case 0:n=i[0];lt(n instanceof zr);r=t.get(vh).getModel(n);if(!r)return[2];e=t.get(gg).documentSemanticTokensProvider;if(!est(e,r))return[2,t.get(Eh).executeCommand("_provideDocumentRangeSemanticTokens",n,r.getFullModelRange())];return[4,ost(e,r,null,null,Gn.None)];case 1:o=c.sent();if(!o)return[2];s=o.provider,u=o.tokens;if(!u||!ist(u))return[2];a=tst({id:0,type:"full",data:u.data});return[2,(u.resultId&&s.releaseDocumentSemanticTokens(u.resultId),a)]}}))}))})),Bh.registerCommand("_provideDocumentRangeSemanticTokensLegend",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:n=i[0],r=i[1];lt(n instanceof zr);e=t.get(vh).getModel(n);if(!e)return[2];o=t.get(gg).documentRangeSemanticTokensProvider,s=ust(o,e);if(s.length===0)return[2];if(s.length===1)return[2,s[0].getLegend()];if(!r||!Zr.isIRange(r))return[2,(console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend())];return[4,ast(o,e,Zr.lift(r),Gn.None)];case 1:u=a.sent();return[2,u?u.provider.getLegend():void 0]}}))}))})),Bh.registerCommand("_provideDocumentRangeSemanticTokens",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(f,void 0,void 0,(function(){var n,r,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:n=i[0],r=i[1];lt(n instanceof zr),lt(Zr.isIRange(r));e=t.get(vh).getModel(n);if(!e)return[2];o=t.get(gg).documentRangeSemanticTokensProvider;return[4,ast(o,e,Zr.lift(r),Gn.None)];case 1:s=u.sent();return[2,s&&s.tokens?tst({id:0,type:"full",data:s.tokens.data}):void 0]}}))}))}));var cst="editor.semanticHighlighting";function hst(t,i,n){var r;var e=(r=n.getValue(cst,{overrideIdentifier:t.getLanguageId(),resource:t.uri}))===null||r===void 0?void 0:r.enabled;return typeof e=="boolean"?e:i.getColorTheme().semanticHighlighting}var fst,lst=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},dst=function(t,i){return function(n,r){i(n,r,t)}};var vst=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._watchers=Object.create(null);var a=function(t){u._watchers[t.uri.toString()]=new Ast(t,i,r,o,s)},c=function(t,i){i.dispose(),delete u._watchers[t.uri.toString()]},h=function(){for(var t=0,i=n.getModels();t<i.length;t++){var o=i[t];var s=u._watchers[o.uri.toString()];hst(o,r,e)?s||a(o):s&&c(o,s)}};n.getModels().forEach((function(t){hst(t,r,e)&&a(t)})),u._register(n.onModelAdded((function(t){hst(t,r,e)&&a(t)}))),u._register(n.onModelRemoved((function(t){var i=u._watchers[t.uri.toString()];i&&c(t,i)}))),u._register(e.onDidChangeConfiguration((function(t){t.affectsConfiguration(cst)&&h()}))),u._register(r.onDidColorThemeChange(h));return u}i.prototype.dispose=function(){for(var i=0,n=Object.values(this._watchers);i<n.length;i++){var r=n[i];r.dispose()}t.prototype.dispose.call(this)};return i}(Cn);vst=lst([dst(0,tO),dst(1,vh),dst(2,ex),dst(3,sd),dst(4,zQ),dst(5,gg)],vst);var Ast=fst=function(t){__extends(i,t);function i(n,r,e,o,s){var u=this;u=t.call(this)||this,u._semanticTokensStylingService=r,u._isDisposed=!1,u._model=n,u._provider=s.documentSemanticTokensProvider,u._debounceInformation=o.for(u._provider,"DocumentSemanticTokens",{min:i.REQUEST_MIN_DELAY,max:i.REQUEST_MAX_DELAY}),u._fetchDocumentSemanticTokens=u._register(new qs((function(){return u._fetchDocumentSemanticTokensNow()}),i.REQUEST_MIN_DELAY)),u._currentDocumentResponse=null,u._currentDocumentRequestCancellationTokenSource=null,u._documentProvidersChangeListeners=[],u._providersChangedDuringRequest=!1,u._register(u._model.onDidChangeContent((function(){u._fetchDocumentSemanticTokens.isScheduled()||u._fetchDocumentSemanticTokens.schedule(u._debounceInformation.get(u._model))}))),u._register(u._model.onDidChangeAttached((function(){u._fetchDocumentSemanticTokens.isScheduled()||u._fetchDocumentSemanticTokens.schedule(u._debounceInformation.get(u._model))}))),u._register(u._model.onDidChangeLanguage((function(){u._currentDocumentResponse&&(u._currentDocumentResponse.dispose(),u._currentDocumentResponse=null),u._currentDocumentRequestCancellationTokenSource&&(u._currentDocumentRequestCancellationTokenSource.cancel(),u._currentDocumentRequestCancellationTokenSource=null),u._setDocumentSemanticTokens(null,null,null,[]),u._fetchDocumentSemanticTokens.schedule(0)})));var a=function(){kn(u._documentProvidersChangeListeners),u._documentProvidersChangeListeners=[];for(var t=0,i=u._provider.all(n);t<i.length;t++){var r=i[t];typeof r.onDidChange=="function"&&u._documentProvidersChangeListeners.push(r.onDidChange((function(){u._currentDocumentRequestCancellationTokenSource?u._providersChangedDuringRequest=!0:u._fetchDocumentSemanticTokens.schedule(0)})))}};a(),u._register(u._provider.onDidChange((function(){a(),u._fetchDocumentSemanticTokens.schedule(u._debounceInformation.get(u._model))}))),u._register(e.onDidColorThemeChange((function(t){u._setDocumentSemanticTokens(null,null,null,[]),u._fetchDocumentSemanticTokens.schedule(u._debounceInformation.get(u._model))}))),u._fetchDocumentSemanticTokens.schedule(0);return u}i.prototype.dispose=function(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),kn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,t.prototype.dispose.call(this)};i.prototype._fetchDocumentSemanticTokensNow=function(){var t=this;if(this._currentDocumentRequestCancellationTokenSource)return;if(!est(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));if(!this._model.isAttachedToEditor())return;var i=new Kn,n=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,r=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,e=ost(this._provider,this._model,n,r,i.token);this._currentDocumentRequestCancellationTokenSource=i,this._providersChangedDuringRequest=!1;var o=[],s=this._model.onDidChangeContent((function(t){o.push(t)})),u=new In(!1);e.then((function(i){if(t._debounceInformation.update(t._model,u.elapsed()),t._currentDocumentRequestCancellationTokenSource=null,s.dispose(),i){var n=i.provider,r=i.tokens,e=t._semanticTokensStylingService.getStyling(n);t._setDocumentSemanticTokens(n,r||null,e,o)}else t._setDocumentSemanticTokens(null,null,null,o)}),(function(i){i&&(dn(i)||typeof i.message=="string"&&i.message.indexOf("busy")!==-1)||cn(i),t._currentDocumentRequestCancellationTokenSource=null,s.dispose(),(o.length>0||t._providersChangedDuringRequest)&&(t._fetchDocumentSemanticTokens.isScheduled()||t._fetchDocumentSemanticTokens.schedule(t._debounceInformation.get(t._model)))}))};i._copy=function(t,i,n,r,e){e=Math.min(e,n.length-r,t.length-i);for(var o=0;o<e;o++)n[r+o]=t[i+o]};i.prototype._setDocumentSemanticTokens=function(t,n,r,e){var o=this;var s=this._currentDocumentResponse,u=function(){(e.length>0||o._providersChangedDuringRequest)&&!o._fetchDocumentSemanticTokens.isScheduled()&&o._fetchDocumentSemanticTokens.schedule(o._debounceInformation.get(o._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)t&&n&&t.releaseDocumentSemanticTokens(n.resultId);else if(t&&r){if(!n)return this._model.tokenization.setSemanticTokens(null,!0),void u();if(nst(n)){if(!s)return void this._model.tokenization.setSemanticTokens(null,!0);if(n.edits.length===0)n={resultId:n.resultId,data:s.data};else{var a=0;for(var c=0,h=n.edits;c<h.length;c++){var f=h[c];a+=(f.data?f.data.length:0)-f.deleteCount}var l=s.data,d=new Uint32Array(l.length+a);var v=l.length,A=d.length;for(var f=n.edits.length-1;f>=0;f--){var g=n.edits[f];if(g.start>l.length)return r.warnInvalidEditStart(s.resultId,n.resultId,f,g.start,l.length),void this._model.tokenization.setSemanticTokens(null,!0);var w=v-(g.start+g.deleteCount);w>0&&(i._copy(l,v-w,d,A-w,w),A-=w),g.data&&(i._copy(g.data,0,d,A-g.data.length,g.data.length),A-=g.data.length),v=g.start}v>0&&i._copy(l,0,d,0,v),n={resultId:n.resultId,data:d}}}if(ist(n)){this._currentDocumentResponse=new gst(t,n.resultId,n.data);var a=qQ(n,r,this._model.getLanguageId());if(e.length>0)for(var p=0,m=e;p<m.length;p++){var l=m[p];for(var b=0,y=a;b<y.length;b++){var d=y[b];for(var k=0,x=l.changes;k<x.length;k++){var v=x[k];d.applyEdit(v.range,v.text)}}}this._model.tokenization.setSemanticTokens(a,!0)}else this._model.tokenization.setSemanticTokens(null,!0);u()}else this._model.tokenization.setSemanticTokens(null,!1)};return i}(Cn);Ast.REQUEST_MIN_DELAY=300,Ast.REQUEST_MAX_DELAY=2e3,Ast=fst=lst([dst(1,tO),dst(2,ex),dst(3,zQ),dst(4,gg)],Ast);var gst=function(){function t(t,i,n){this.provider=t,this.resultId=i,this.data=n}t.prototype.dispose=function(){this.provider.releaseDocumentSemanticTokens(this.resultId)};return t}();TG(vst);var wst=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},pst=function(t,i){return function(n,r){i(n,r,t)}};var mst=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this)||this,u._semanticTokensStylingService=n,u._themeService=r,u._configurationService=e,u._editor=i,u._provider=s.documentRangeSemanticTokensProvider,u._debounceInformation=o.for(u._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),u._tokenizeViewport=u._register(new qs((function(){return u._tokenizeViewportNow()}),100)),u._outstandingRequests=[];var a=function(){u._editor.hasModel()&&u._tokenizeViewport.schedule(u._debounceInformation.get(u._editor.getModel()))};u._register(u._editor.onDidScrollChange((function(){a()}))),u._register(u._editor.onDidChangeModel((function(){u._cancelAll(),a()}))),u._register(u._editor.onDidChangeModelContent((function(t){u._cancelAll(),a()}))),u._register(u._provider.onDidChange((function(){u._cancelAll(),a()}))),u._register(u._configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration(cst)&&(u._cancelAll(),a())}))),u._register(u._themeService.onDidColorThemeChange((function(){u._cancelAll(),a()}))),a();return u}i.prototype._cancelAll=function(){for(var t=0,i=this._outstandingRequests;t<i.length;t++){var n=i[t];n.cancel()}this._outstandingRequests=[]};i.prototype._removeOutstandingRequest=function(t){for(var i=0,n=this._outstandingRequests.length;i<n;i++)if(this._outstandingRequests[i]===t)return void this._outstandingRequests.splice(i,1)};i.prototype._tokenizeViewportNow=function(){var t=this;if(!this._editor.hasModel())return;var i=this._editor.getModel();if(i.tokenization.hasCompleteSemanticTokens())return;if(!hst(i,this._themeService,this._configurationService)||!function(t,i){return t.has(i)}(this._provider,i))return void(i.tokenization.hasSomeSemanticTokens()&&i.tokenization.setSemanticTokens(null,!1));var n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map((function(n){return t._requestRange(i,n)})))};i.prototype._requestRange=function(t,i){var n=this;var r=t.getVersionId(),e=Us((function(r){return Promise.resolve(ast(n._provider,t,i,r))})),o=new In(!1);return e.then((function(e){if(n._debounceInformation.update(t,o.elapsed()),!e||!e.tokens||t.isDisposed()||t.getVersionId()!==r)return;var s=e.provider,u=e.tokens,a=n._semanticTokensStylingService.getStyling(s);t.tokenization.setPartialSemanticTokens(i,qQ(u,a,t.getLanguageId()))})).then((function(){return n._removeOutstandingRequest(e)}),(function(){return n._removeOutstandingRequest(e)})),e};return i}(Cn);mst.ID="editor.contrib.viewportSemanticTokens",mst=wst([pst(1,tO),pst(2,ex),pst(3,sd),pst(4,zQ),pst(5,gg)],mst),il(mst.ID,mst,1);var bst=function(){function t(t){if(t===void 0){t=!0}this.selectSubwords=t}t.prototype.provideSelectionRanges=function(t,i){var n=[];for(var r=0,e=i;r<e.length;r++){var o=e[r];var s=[];n.push(s),this.selectSubwords&&this._addInWordRanges(s,t,o),this._addWordRanges(s,t,o),this._addWhitespaceLine(s,t,o),s.push({range:t.getFullModelRange()})}return n};t.prototype._addInWordRanges=function(t,i,n){var r=i.getWordAtPosition(n);if(!r)return;var e=r.word,o=r.startColumn,s=n.column-o;var u=s,a=s,c=0;for(;u>=0;u--){var h=e.charCodeAt(u);if(u!==s&&(h===95||h===45)||Lo(h)&&jo(c))break;c=h}for(u+=1;a<e.length;a++){var h=e.charCodeAt(a);if(jo(h)&&Lo(c)||h===95||h===45)break;c=h}u<a&&t.push({range:new Zr(n.lineNumber,o+u,n.lineNumber,o+a)})};t.prototype._addWordRanges=function(t,i,n){var r=i.getWordAtPosition(n);r&&t.push({range:new Zr(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)})};t.prototype._addWhitespaceLine=function(t,i,n){i.getLineLength(n.lineNumber)>0&&i.getLineFirstNonWhitespaceColumn(n.lineNumber)===0&&i.getLineLastNonWhitespaceColumn(n.lineNumber)===0&&t.push({range:new Zr(n.lineNumber,1,n.lineNumber,i.getLineMaxColumn(n.lineNumber))})};return t}();var yst,kst=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},xst=function(t,i){return function(n,r){i(n,r,t)}};var Est=function(){function t(t,i){this.index=t,this.ranges=i}t.prototype.mov=function(i){var n=this.index+(i?1:-1);if(n<0||n>=this.ranges.length)return this;var r=new t(n,this.ranges);return r.ranges[n].equalsRange(this.ranges[this.index])?r.mov(i):r};return t}();var Bst=yst=function(){function t(t,i){this._editor=t,this._languageFeaturesService=i,this._ignoreSelection=!1}t.get=function(t){return t.getContribution(yst.ID)};t.prototype.dispose=function(){var t;(t=this._selectionListener)===null||t===void 0||t.dispose()};t.prototype.run=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e;var o=this;return __generator(this,(function(s){switch(s.label){case 0:if(!this._editor.hasModel())return[2];i=this._editor.getSelections(),n=this._editor.getModel();r=this._state;if(r)return[3,2];return[4,Dst(this._languageFeaturesService.selectionRangeProvider,n,i.map((function(t){return t.getPosition()})),this._editor.getOption(113),Gn.None).then((function(t){var n;if(L(t)&&t.length===i.length&&o._editor.hasModel()&&_(o._editor.getSelections(),i,(function(t,i){return t.equalsSelection(i)}))){var r=function(n){t[n]=t[n].filter((function(t){return t.containsPosition(i[n].getStartPosition())&&t.containsPosition(i[n].getEndPosition())})),t[n].unshift(i[n])};for(var e=0;e<t.length;e++){r(e)}o._state=t.map((function(t){return new Est(0,t)})),(n=o._selectionListener)===null||n===void 0||n.dispose(),o._selectionListener=o._editor.onDidChangeCursorPosition((function(){var t;o._ignoreSelection||((t=o._selectionListener)===null||t===void 0||t.dispose(),o._state=void 0)}))}}))];case 1:r=s.sent();s.label=2;case 2:if(r,!this._state)return[2];this._state=this._state.map((function(i){return i.mov(t)}));e=this._state.map((function(t){return $r.fromPositions(t.ranges[t.index].getStartPosition(),t.ranges[t.index].getEndPosition())}));this._ignoreSelection=!0;try{this._editor.setSelections(e)}finally{this._ignoreSelection=!1}return[2]}}))}))};return t}();Bst.ID="editor.contrib.smartSelectController",Bst=yst=kst([xst(1,gg)],Bst);var Cst=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._forward=i;return r}i.prototype.run=function(t,i){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:t=Bst.get(i);n=t;if(!n)return[3,2];return[4,t.run(this._forward)];case 1:n=r.sent();r.label=2;case 2:n;return[2]}}))}))};return i}(Vf);Bh.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function Dst(t,i,n,r,e){return __awaiter(this,void 0,void 0,(function(){var o,s,u,a,c,h;return __generator(this,(function(f){switch(f.label){case 0:o=t.all(i).concat(new bst(r.selectSubwords));o.length===1&&o.unshift(new tnt);s=[],u=[];for(a=0,c=o;a<c.length;a++){h=c[a];s.push(Promise.resolve(h.provideSelectionRanges(i,n,e)).then((function(t){if(L(t)&&t.length===n.length)for(var i=0;i<n.length;i++){u[i]||(u[i]=[]);for(var r=0,e=t[i];r<e.length;r++){var o=e[r];Zr.isIRange(o.range)&&Zr.containsPosition(o.range,n[i])&&u[i].push(Zr.lift(o.range))}}}),hn))}return[4,Promise.all(s)];case 1:return[2,(f.sent(),u.map((function(t){if(t.length===0)return[];t.sort((function(t,i){return qr.isBefore(t.getStartPosition(),i.getStartPosition())?1:qr.isBefore(i.getStartPosition(),t.getStartPosition())||qr.isBefore(t.getEndPosition(),i.getEndPosition())?-1:qr.isBefore(i.getEndPosition(),t.getEndPosition())?1:0}));var n=[];var e;for(var o=0,s=t;o<s.length;o++){var u=s[o];(!e||Zr.containsRange(u,e)&&!Zr.equalsRange(u,e))&&(n.push(u),e=u)}if(!r.selectLeadingAndTrailingWhitespace)return n;var a=[n[0]];for(var u=1;u<n.length;u++){var c=n[u-1],h=n[u];if(h.startLineNumber!==c.startLineNumber||h.endLineNumber!==c.endLineNumber){var f=new Zr(c.startLineNumber,i.getLineFirstNonWhitespaceColumn(c.startLineNumber),c.endLineNumber,i.getLineLastNonWhitespaceColumn(c.endLineNumber));f.containsRange(c)&&!f.equalsRange(c)&&h.containsRange(f)&&!h.equalsRange(f)&&a.push(f);var l=new Zr(c.startLineNumber,1,c.endLineNumber,i.getLineMaxColumn(c.endLineNumber));l.containsRange(c)&&!l.equalsRange(f)&&h.containsRange(l)&&!h.equalsRange(l)&&a.push(l)}a.push(h)}return a})))]}}))}))}il(Bst.ID,Bst,4),$f(function(t){__extends(i,t);function i(){return t.call(this,!0,{id:"editor.action.smartSelect.expand",label:Bt(0,"Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"1_basic",title:Bt(0,"&&Expand Selection"),order:2}})||this}return i}(Cst)),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,{id:"editor.action.smartSelect.shrink",label:Bt(0,"Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:hB.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:_f.MenubarSelectionMenu,group:"1_basic",title:Bt(0,"&&Shrink Selection"),order:3}})||this}return i}(Cst)),Bh.registerCommand("_executeSelectionRangeProvider",(function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return __awaiter(this,void 0,void 0,(function(){var n,r,e,o;return __generator(this,(function(s){switch(s.label){case 0:n=i[0],r=i[1];lt(zr.isUri(n));e=t.get(gg).selectionRangeProvider;return[4,t.get(Ah).createModelReference(n)];case 1:o=s.sent();try{return[2,Dst(e,o.object.textEditorModel,r,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},Gn.None)]}finally{o.dispose()}return[2]}}))}))}));var Mst=Object.freeze({View:Ct(0,"View"),Help:Ct(0,"Help"),Test:Ct(0,"Test"),File:Ct(0,"File"),Preferences:Ct(0,"Preferences"),Developer:Ct(0,"Developer")});var _st=function(){function t(t,i,n,r){if(r===void 0){r=null}this.startLineNumbers=t,this.endLineNumbers=i,this.lastLineRelativePosition=n,this.showEndForLine=r}t.prototype.equals=function(t){return!!t&&this.lastLineRelativePosition===t.lastLineRelativePosition&&this.showEndForLine===t.showEndForLine&&_(this.startLineNumbers,t.startLineNumbers)&&_(this.endLineNumbers,t.endLineNumbers)};return t}();var Fst=ml("stickyScrollViewLayer",{createHTML:function(t){return t}}),Sst="data-sticky-line-index",Ist="data-sticky-is-line",Qst="data-sticky-is-folding-icon";var Ost=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._foldingIconStore=new Bn,n._rootDomNode=document.createElement("div"),n._lineNumbersDomNode=document.createElement("div"),n._linesDomNodeScrollable=document.createElement("div"),n._linesDomNode=document.createElement("div"),n._lineHeight=n._editor.getOption(67),n._renderedStickyLines=[],n._lineNumbers=[],n._lastLineRelativePosition=0,n._minContentWidthInPx=0,n._isOnGlyphMargin=!1,n._lineNumbersDomNode.className="sticky-widget-line-numbers",n._lineNumbersDomNode.setAttribute("role","none"),n._linesDomNode.className="sticky-widget-lines",n._linesDomNode.setAttribute("role","list"),n._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",n._linesDomNodeScrollable.appendChild(n._linesDomNode),n._rootDomNode.className="sticky-widget",n._rootDomNode.classList.toggle("peek",i instanceof K4),n._rootDomNode.appendChild(n._lineNumbersDomNode),n._rootDomNode.appendChild(n._linesDomNodeScrollable);var r=function(){n._linesDomNode.style.left=n._editor.getOption(115).scrollWithEditor?"-".concat(n._editor.getScrollLeft(),"px"):"0px"};n._register(n._editor.onDidChangeConfiguration((function(t){t.hasChanged(115)&&r(),t.hasChanged(67)&&(n._lineHeight=n._editor.getOption(67))}))),n._register(n._editor.onDidScrollChange((function(t){t.scrollLeftChanged&&r(),t.scrollWidthChanged&&n._updateWidgetWidth()}))),n._register(n._editor.onDidChangeModel((function(){r(),n._updateWidgetWidth()}))),n._register(n._foldingIconStore),r(),n._register(n._editor.onDidLayoutChange((function(t){n._updateWidgetWidth()}))),n._updateWidgetWidth();return n}Object.defineProperty(i.prototype,"lineNumbers",{get:function(){return this._lineNumbers},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"lineNumberCount",{get:function(){return this._lineNumbers.length},enumerable:false,configurable:true});i.prototype.getRenderedStickyLine=function(t){return this._renderedStickyLines.find((function(i){return i.lineNumber===t}))};i.prototype.getCurrentLines=function(){return this._lineNumbers};i.prototype.setState=function(t,i,n){if(n===void 0&&(!this._previousState&&!t||this._previousState&&this._previousState.equals(t)))return;var r=this._isWidgetHeightZero(t),e=r?void 0:t,o=r?0:this._findLineToRebuildWidgetFrom(t,n);this._renderRootNode(e,i,o),this._previousState=t};i.prototype._isWidgetHeightZero=function(t){if(!t)return!0;var i=t.startLineNumbers.length*this._lineHeight+t.lastLineRelativePosition;if(i>0){this._lastLineRelativePosition=t.lastLineRelativePosition;var n=__spreadArray([],t.startLineNumbers,true);t.showEndForLine!==null&&(n[t.showEndForLine]=t.endLineNumbers[t.showEndForLine]),this._lineNumbers=n}else this._lastLineRelativePosition=0,this._lineNumbers=[];return i===0};i.prototype._findLineToRebuildWidgetFrom=function(t,i){if(!t||!this._previousState)return 0;if(i!==void 0)return i;var n=this._previousState,r=t.startLineNumbers.findIndex((function(t){return!n.startLineNumbers.includes(t)}));return r===-1?0:r};i.prototype._updateWidgetWidth=function(){var t=this._editor.getLayoutInfo(),i=t.contentLeft;this._lineNumbersDomNode.style.width="".concat(i,"px"),this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",this._editor.getScrollWidth()-t.verticalScrollbarWidth+"px"),this._rootDomNode.style.width=t.width-t.verticalScrollbarWidth+"px"};i.prototype._clearStickyLinesFromLine=function(t){this._foldingIconStore.clear();for(var i=t;i<this._renderedStickyLines.length;i++){var n=this._renderedStickyLines[i];n.lineNumberDomNode.remove(),n.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,t),this._rootDomNode.style.display="none"};i.prototype._useFoldingOpacityTransition=function(t){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition","opacity ".concat(t?.5:0,"s"))};i.prototype._setFoldingIconsVisibility=function(t){for(var i=0,n=this._renderedStickyLines;i<n.length;i++){var r=n[i];var e=r.foldingIcon;e&&e.setVisible(!!t||e.isCollapsed)}};i.prototype._renderRootNode=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u,a,c,h,o,f,l,d;return __generator(this,(function(v){if(this._clearStickyLinesFromLine(n),!t)return[2];for(r=0,e=this._renderedStickyLines;r<e.length;r++){o=e[r];this._updateTopAndZIndexOfStickyLine(o)}s=this._editor.getLayoutInfo(),u=this._lineNumbers.slice(n);for(a=0,c=u.entries();a<c.length;a++){h=c[a],o=h[0],f=h[1];l=this._renderChildNode(o+n,f,i,s);l&&(this._linesDomNode.appendChild(l.lineDomNode),this._lineNumbersDomNode.appendChild(l.lineNumberDomNode),this._renderedStickyLines.push(l))}i&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));d=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height="".concat(d,"px"),this._linesDomNodeScrollable.style.height="".concat(d,"px"),this._rootDomNode.style.height="".concat(d,"px"),this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max.apply(Math,this._renderedStickyLines.map((function(t){return t.scrollWidth})))+s.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this);return[2]}))}))};i.prototype._setFoldingHoverListeners=function(){var t=this;this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(Oa(this._lineNumbersDomNode,Ec.MOUSE_ENTER,(function(){t._isOnGlyphMargin=!0,t._setFoldingIconsVisibility(!0)}))),this._foldingIconStore.add(Oa(this._lineNumbersDomNode,Ec.MOUSE_LEAVE,(function(){t._isOnGlyphMargin=!1,t._useFoldingOpacityTransition(!0),t._setFoldingIconsVisibility(!1)}))))};i.prototype._renderChildNode=function(t,i,n,r){var e=this._editor._getViewModel();if(!e)return;var o=e.coordinatesConverter.convertModelPositionToViewPosition(new qr(i,1)).lineNumber,s=e.getViewLineRenderingData(o),u=this._editor.getOption(68);var a;try{a=Rg.filter(s.inlineDecorations,o,s.minColumn,s.maxColumn)}catch(t){a=[]}var c=new Hg(!0,!0,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,0,s.tokens,a,s.tabSize,s.startVisibleColumn,1,1,1,500,"none",!0,!0,null),h=new Wl(2e3),f=Wg(c,h);var l;l=Fst?Fst.createHTML(h.build()):h.build();var d=document.createElement("span");d.setAttribute(Sst,String(t)),d.setAttribute(Ist,""),d.setAttribute("role","listitem"),d.tabIndex=0,d.className="sticky-line-content",d.classList.add("stickyLine".concat(i)),d.style.lineHeight="".concat(this._lineHeight,"px"),d.innerHTML=l;var v=document.createElement("span");v.setAttribute(Sst,String(t)),v.setAttribute("data-sticky-is-line-number",""),v.className="sticky-line-number",v.style.lineHeight="".concat(this._lineHeight,"px");var A=r.contentLeft;v.style.width="".concat(A,"px");var g=document.createElement("span");u.renderType===1||u.renderType===3&&i%10==0?g.innerText=i.toString():u.renderType===2&&(g.innerText=Math.abs(i-this._editor.getPosition().lineNumber).toString()),g.className="sticky-line-number-inner",g.style.lineHeight="".concat(this._lineHeight,"px"),g.style.width="".concat(r.lineNumbersWidth,"px"),g.style.paddingLeft="".concat(r.lineNumbersLeft,"px"),v.appendChild(g);var w=this._renderFoldingIconForLine(n,i);w&&v.appendChild(w.domNode),this._editor.applyFontInfo(d),this._editor.applyFontInfo(g),v.style.lineHeight="".concat(this._lineHeight,"px"),d.style.lineHeight="".concat(this._lineHeight,"px"),v.style.height="".concat(this._lineHeight,"px"),d.style.height="".concat(this._lineHeight,"px");var p=new Nst(t,i,d,v,w,f.characterMapping,d.scrollWidth);return this._updateTopAndZIndexOfStickyLine(p)};i.prototype._updateTopAndZIndexOfStickyLine=function(t){var i;var n=t.index,r=t.lineDomNode,e=t.lineNumberDomNode,o=n===this._lineNumbers.length-1;r.style.zIndex=o?"0":"1",e.style.zIndex=o?"0":"1";var s="".concat(n*this._lineHeight+this._lastLineRelativePosition+(!((i=t.foldingIcon)===null||i===void 0)&&i.isCollapsed?1:0),"px"),u=n*this._lineHeight+"px";return r.style.top=o?s:u,e.style.top=o?s:u,t};i.prototype._renderFoldingIconForLine=function(t,i){var n=this._editor.getOption(110);if(!t||n==="never")return;var r=t.regions,e=r.findRange(i),o=r.getStartLineNumber(e);if(i!==o)return;var s=r.isCollapsed(e),u=new Rst(s,o,r.getEndLineNumber(e),this._lineHeight);return u.setVisible(!!this._isOnGlyphMargin||s||n==="always"),u.domNode.setAttribute(Qst,""),u};i.prototype.getId=function(){return"editor.contrib.stickyScrollWidget"};i.prototype.getDomNode=function(){return this._rootDomNode};i.prototype.getPosition=function(){return{preference:null}};i.prototype.getMinContentWidthInPx=function(){return this._minContentWidthInPx};i.prototype.focusLineWithIndex=function(t){0<=t&&t<this._renderedStickyLines.length&&this._renderedStickyLines[t].lineDomNode.focus()};i.prototype.getEditorPositionFromNode=function(t){if(!t||t.children.length>0)return null;var i=this._getRenderedStickyLineFromChildDomNode(t);if(!i)return null;var n=Zy(i.characterMapping,t,0);return new qr(i.lineNumber,n)};i.prototype.getLineNumberFromChildDomNode=function(t){var i,n;return(n=(i=this._getRenderedStickyLineFromChildDomNode(t))===null||i===void 0?void 0:i.lineNumber)!==null&&n!==void 0?n:null};i.prototype._getRenderedStickyLineFromChildDomNode=function(t){var i=this.getLineIndexFromChildDomNode(t);return i===null||i<0||i>=this._renderedStickyLines.length?null:this._renderedStickyLines[i]};i.prototype.getLineIndexFromChildDomNode=function(t){var i=this._getAttributeValue(t,Sst);return i?parseInt(i,10):null};i.prototype.isInStickyLine=function(t){return this._getAttributeValue(t,Ist)!==void 0};i.prototype.isInFoldingIconDomNode=function(t){return this._getAttributeValue(t,Qst)!==void 0};i.prototype._getAttributeValue=function(t,i){for(;t&&t!==this._rootDomNode;){var n=t.getAttribute(i);if(n!==null)return n;t=t.parentElement}};return i}(Cn);var Nst=function(){function t(t,i,n,r,e,o,s){this.index=t,this.lineNumber=i,this.lineDomNode=n,this.lineNumberDomNode=r,this.foldingIcon=e,this.characterMapping=o,this.scrollWidth=s}return t}();var Rst=function(){function t(t,i,n,r){this.isCollapsed=t,this.foldingStartLine=i,this.foldingEndLine=n,this.dimension=r,this.domNode=document.createElement("div"),this.domNode.style.width="".concat(r,"px"),this.domNode.style.height="".concat(r,"px"),this.domNode.className=xh.asClassName(t?z7:j7)}t.prototype.setVisible=function(t){this.domNode.style.cursor=t?"pointer":"default",this.domNode.style.opacity=t?"1":"0"};return t}();var Tst=function(){function t(t,i){this.startLineNumber=t,this.endLineNumber=i}return t}();var Lst=function(){function t(t,i,n){this.range=t,this.children=i,this.parent=n}return t}();var jst=function(){function t(t,i,n,r){this.uri=t,this.version=i,this.element=n,this.outlineProviderId=r}return t}();var zst,Ust,Hst=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Yst=function(t,i){return function(n,r){i(n,r,t)}};(function(t){t.OUTLINE_MODEL="outlineModel",t.FOLDING_PROVIDER_MODEL="foldingProviderModel",t.INDENTATION_MODEL="indentationModel"})(zst||(zst={})),function(t){t[t.VALID=0]="VALID",t[t.INVALID=1]="INVALID",t[t.CANCELED=2]="CANCELED"}(Ust||(Ust={}));var Jst=function(t){__extends(i,t);function i(i,n,r,e){var o=this;switch(o=t.call(this)||this,o._editor=i,o._languageConfigurationService=r,o._languageFeaturesService=e,o._modelProviders=[],o._modelPromise=null,o._updateScheduler=o._register(new Js(300)),o._updateOperation=o._register(new Bn),o._editor.getOption(115).defaultModel){case zst.OUTLINE_MODEL:o._modelProviders.push(new Wst(o._editor,e));case zst.FOLDING_PROVIDER_MODEL:o._modelProviders.push(new Kst(o._editor,n,e));case zst.INDENTATION_MODEL:o._modelProviders.push(new Vst(o._editor,r))}return o}i.prototype.dispose=function(){this._modelProviders.forEach((function(t){return t.dispose()})),this._updateOperation.clear(),this._cancelModelPromise(),t.prototype.dispose.call(this)};i.prototype._cancelModelPromise=function(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)};i.prototype.update=function(t){return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){switch(n.label){case 0:this._updateOperation.clear(),this._updateOperation.add({dispose:function(){i._cancelModelPromise(),i._updateScheduler.cancel()}}),this._cancelModelPromise();return[4,this._updateScheduler.trigger((function(){return __awaiter(i,void 0,void 0,(function(){var i,n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:i=0,n=this._modelProviders;a.label=1;case 1:if(!(i<n.length))return[3,4];r=n[i];e=r.computeStickyModel(t),o=e.statusPromise,s=e.modelPromise;this._modelPromise=s;return[4,o];case 2:u=a.sent();if(this._modelPromise!==s)return[2,null];switch(u){case Ust.CANCELED:return[2,(this._updateOperation.clear(),null)];case Ust.VALID:return[2,r.stickyModel]}a.label=3;case 3:i++;return[3,1];case 4:return[2,null]}}))}))})).catch((function(t){return cn(t),null}))];case 1:return[2,n.sent()]}}))}))};return i}(Cn);Jst=Hst([Yst(2,fh),Yst(3,gg)],Jst);var Pst=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n._editor=i,n._stickyModel=null;return n}Object.defineProperty(i.prototype,"stickyModel",{get:function(){return this._stickyModel},enumerable:false,configurable:true});i.prototype._invalid=function(){return this._stickyModel=null,Ust.INVALID};i.prototype.computeStickyModel=function(t){var i=this;if(t.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};var n=Us((function(t){return i.createModelFromProvider(t)}));return{statusPromise:n.then((function(n){return i.isModelValid(n)?t.isCancellationRequested?Ust.CANCELED:(i._stickyModel=i.createStickyModel(t,n),Ust.VALID):i._invalid()})).then(void 0,(function(t){return cn(t),Ust.CANCELED})),modelPromise:n}};i.prototype.isModelValid=function(t){return!0};i.prototype.isProviderValid=function(){return!0};return i}(Cn);var Wst=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._languageFeaturesService=n;return r}i.prototype.createModelFromProvider=function(t){return Att.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),t)};i.prototype.createStickyModel=function(t,i){var n;var r=this._stickyModelFromOutlineModel(i,(n=this._stickyModel)===null||n===void 0?void 0:n.outlineProviderId),e=r.stickyOutlineElement,o=r.providerID,s=this._editor.getModel();return new jst(s.uri,s.getVersionId(),e,o)};i.prototype.isModelValid=function(t){return t&&t.children.size>0};i.prototype._stickyModelFromOutlineModel=function(t,i){var n=this;var r;if(vi.first(t.children.values())instanceof vtt){var e=vi.find(t.children.values(),(function(t){return t.id===i}));if(e)r=e.children;else{var o=void 0,s="",u=-1;for(var a=0,c=t.children.entries();a<c.length;a++){var h=c[a],f=h[0],l=h[1];var d=this._findSumOfRangesOfGroup(l);d>u&&(o=l,u=d,s=l.id)}i=s,r=o.children}}else r=t.children;var v=[],A=Array.from(r.values()).sort((function(t,i){var r=new Tst(t.symbol.range.startLineNumber,t.symbol.range.endLineNumber),e=new Tst(i.symbol.range.startLineNumber,i.symbol.range.endLineNumber);return n._comparator(r,e)}));for(var g=0,w=A;g<w.length;g++){var e=w[g];v.push(this._stickyModelFromOutlineElement(e,e.symbol.selectionRange.startLineNumber))}return{stickyOutlineElement:new Lst(void 0,v,void 0),providerID:i}};i.prototype._stickyModelFromOutlineElement=function(t,i){var n=this;var r=[];for(var e=0,o=t.children.values();e<o.length;e++){var s=o[e];if(s.symbol.selectionRange.startLineNumber!==s.symbol.range.endLineNumber)if(s.symbol.selectionRange.startLineNumber!==i)r.push(this._stickyModelFromOutlineElement(s,s.symbol.selectionRange.startLineNumber));else for(var u=0,a=s.children.values();u<a.length;u++){var c=a[u];r.push(this._stickyModelFromOutlineElement(c,s.symbol.selectionRange.startLineNumber))}}r.sort((function(t,i){return n._comparator(t.range,i.range)}));var h=new Tst(t.symbol.selectionRange.startLineNumber,t.symbol.range.endLineNumber);return new Lst(h,r,void 0)};i.prototype._comparator=function(t,i){return t.startLineNumber!==i.startLineNumber?t.startLineNumber-i.startLineNumber:i.endLineNumber-t.endLineNumber};i.prototype._findSumOfRangesOfGroup=function(t){var i=0;for(var n=0,r=t.children.values();n<r.length;n++){var e=r[n];i+=this._findSumOfRangesOfGroup(e)}return t instanceof dtt?i+t.symbol.range.endLineNumber-t.symbol.selectionRange.startLineNumber:i};return i}(Pst);Wst=Hst([Yst(1,gg)],Wst);var Gst=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._foldingLimitReporter=new itt(i);return n}i.prototype.createStickyModel=function(t,i){var n=this._fromFoldingRegions(i),r=this._editor.getModel();return new jst(r.uri,r.getVersionId(),n,void 0)};i.prototype.isModelValid=function(t){return t!==null};i.prototype._fromFoldingRegions=function(t){var i=t.length,n=[],r=new Lst(void 0,[],void 0);for(var e=0;e<i;e++){var o=t.getParentIndex(e);var s=void 0;s=o!==-1?n[o]:r;var u=new Lst(new Tst(t.getStartLineNumber(e),t.getEndLineNumber(e)+1),[],s);s.children.push(u),n.push(u)}return r};return i}(Pst);var Vst=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,i)||this,r._languageConfigurationService=n,r.provider=r._register(new N7(i.getModel(),r._languageConfigurationService,r._foldingLimitReporter));return r}i.prototype.createModelFromProvider=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){return[2,this.provider.compute(t)]}))}))};return i}(Gst);Vst=Hst([Yst(1,jd)],Vst);var Kst=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,i)||this,e._languageFeaturesService=r;var o=ttt.getFoldingRangeProviders(e._languageFeaturesService,i.getModel());o.length>0&&(e.provider=e._register(new V7(i.getModel(),o,n,e._foldingLimitReporter,void 0)));return e}i.prototype.isProviderValid=function(){return this.provider!==void 0};i.prototype.createModelFromProvider=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){return[2,(n=(i=this.provider)===null||i===void 0?void 0:i.compute(t))!==null&&n!==void 0?n:null]}))}))};return i}(Gst);Kst=Hst([Yst(2,gg)],Kst);var Xst=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},qst=function(t,i){return function(n,r){i(n,r,t)}};var Zst=function(){function t(t,i,n){this.startLineNumber=t,this.endLineNumber=i,this.nestingDepth=n}return t}();var $st=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._languageFeaturesService=n,e._languageConfigurationService=r,e._onDidChangeStickyScroll=e._register(new Ln),e.onDidChangeStickyScroll=e._onDidChangeStickyScroll.event,e._model=null,e._cts=null,e._stickyModelProvider=null,e._editor=i,e._sessionStore=e._register(new Bn),e._updateSoon=e._register(new qs((function(){return e.update()}),50)),e._register(e._editor.onDidChangeConfiguration((function(t){t.hasChanged(115)&&e.readConfiguration()}))),e.readConfiguration();return e}i.prototype.readConfiguration=function(){var t=this;this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel((function(){t._model=null,t.updateStickyModelProvider(),t._onDidChangeStickyScroll.fire(),t.update()}))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas((function(){return t.update()}))),this._sessionStore.add(this._editor.onDidChangeModelContent((function(){return t._updateSoon.schedule()}))),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((function(){return t.update()}))),this._sessionStore.add(En((function(){var i;(i=t._stickyModelProvider)===null||i===void 0||i.dispose(),t._stickyModelProvider=null}))),this.updateStickyModelProvider(),this.update())};i.prototype.getVersionId=function(){var t;return(t=this._model)===null||t===void 0?void 0:t.version};i.prototype.updateStickyModelProvider=function(){var t=this;var i;(i=this._stickyModelProvider)===null||i===void 0||i.dispose(),this._stickyModelProvider=null;var n=this._editor;n.hasModel()&&(this._stickyModelProvider=new Jst(n,(function(){return t._updateSoon.schedule()}),this._languageConfigurationService,this._languageFeaturesService))};i.prototype.update=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:(t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new Kn;return[4,this.updateStickyModel(this._cts.token)];case 1:i.sent(),this._onDidChangeStickyScroll.fire();return[2]}}))}))};i.prototype.updateStickyModel=function(t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization())return[2,void(this._model=null)];return[4,this._stickyModelProvider.update(t)];case 1:i=n.sent();t.isCancellationRequested||(this._model=i);return[2]}}))}))};i.prototype.updateIndex=function(t){return t===-1?t=0:t<0&&(t=-t-2),t};i.prototype.getCandidateStickyLinesIntersectingFromStickyModel=function(t,i,n,r,e){if(i.children.length===0)return;var o=e;var s=[];for(var u=0;u<i.children.length;u++){var a=i.children[u];a.range&&s.push(a.range.startLineNumber)}var c=this.updateIndex(F(s,t.startLineNumber,(function(t,i){return t-i}))),h=this.updateIndex(F(s,t.startLineNumber+r,(function(t,i){return t-i})));for(var u=c;u<=h;u++){var f=i.children[u];if(!f)return;if(f.range){var l=f.range.startLineNumber,d=f.range.endLineNumber;t.startLineNumber<=d+1&&l-1<=t.endLineNumber&&l!==o&&(o=l,n.push(new Zst(l,d-1,r+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(t,f,n,r+1,l))}else this.getCandidateStickyLinesIntersectingFromStickyModel(t,f,n,r,e)}};i.prototype.getCandidateStickyLinesIntersecting=function(t){var i,n;if(!(!((i=this._model)===null||i===void 0)&&i.element))return[];var r=[];this.getCandidateStickyLinesIntersectingFromStickyModel(t,this._model.element,r,0,-1);var e=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getHiddenAreas();if(e){var o=function(t){r=r.filter((function(i){return!(i.startLineNumber>=t.startLineNumber&&i.endLineNumber<=t.endLineNumber+1)}))};for(var s=0,u=e;s<u.length;s++){var a=u[s];o(a)}}return r};return i}(Cn);$st=Xst([qst(1,gg),qst(2,jd)],$st);var tut,iut=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},nut=function(t,i){return function(n,r){i(n,r,t)}};var rut=tut=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){var a=this;a=t.call(this)||this,a._editor=i,a._contextMenuService=n,a._languageFeaturesService=r,a._instaService=e,a._contextKeyService=u,a._sessionStore=new Bn,a._foldingModel=null,a._maxStickyLines=Number.MAX_SAFE_INTEGER,a._candidateDefinitionsLength=-1,a._focusedStickyElementIndex=-1,a._enabled=!1,a._focused=!1,a._positionRevealed=!1,a._onMouseDown=!1,a._endLineNumbers=[],a._showEndForLine=null,a._stickyScrollWidget=new Ost(a._editor),a._stickyLineCandidateProvider=new $st(a._editor,r,o),a._register(a._stickyScrollWidget),a._register(a._stickyLineCandidateProvider),a._widgetState=new _st([],[],0),a._onDidResize(),a._readConfiguration();var c=a._stickyScrollWidget.getDomNode();a._register(a._editor.onDidChangeConfiguration((function(t){(t.hasChanged(115)||t.hasChanged(73)||t.hasChanged(67)||t.hasChanged(110))&&a._readConfiguration()}))),a._register(Oa(c,Ec.CONTEXT_MENU,(function(t){return __awaiter(a,void 0,void 0,(function(){return __generator(this,(function(i){this._onContextMenu(ka(c),t);return[2]}))}))}))),a._stickyScrollFocusedContextKey=hB.stickyScrollFocused.bindTo(a._contextKeyService),a._stickyScrollVisibleContextKey=hB.stickyScrollVisible.bindTo(a._contextKeyService);var h=a._register(Mc(c));a._register(h.onDidBlur((function(t){a._positionRevealed===!1&&c.clientHeight===0?(a._focusedStickyElementIndex=-1,a.focus()):a._disposeFocusStickyScrollStore()}))),a._register(h.onDidFocus((function(t){a.focus()}))),a._registerMouseListeners(),a._register(Oa(c,Ec.MOUSE_DOWN,(function(t){a._onMouseDown=!0})));return a}i.get=function(t){return t.getContribution(tut.ID)};i.prototype._disposeFocusStickyScrollStore=function(){var t;this._stickyScrollFocusedContextKey.set(!1),(t=this._focusDisposableStore)===null||t===void 0||t.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1};i.prototype.focus=function(){if(this._onMouseDown)return this._onMouseDown=!1,void this._editor.focus();this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new Bn,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))};i.prototype.focusNext=function(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)};i.prototype.focusPrevious=function(){this._focusedStickyElementIndex>0&&this._focusNav(!1)};i.prototype.selectEditor=function(){this._editor.focus()};i.prototype._focusNav=function(t){this._focusedStickyElementIndex=t?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)};i.prototype.goToFocused=function(){var t=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:t[this._focusedStickyElementIndex],column:1})};i.prototype._revealPosition=function(t){var i=this;this._reveaInEditor(t,(function(){return i._editor.revealPosition(t)}))};i.prototype._revealLineInCenterIfOutsideViewport=function(t){var i=this;this._reveaInEditor(t,(function(){return i._editor.revealLineInCenterIfOutsideViewport(t.lineNumber,0)}))};i.prototype._reveaInEditor=function(t,i){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,i(),this._editor.setSelection(Zr.fromPositions(t)),this._editor.focus()};i.prototype._registerMouseListeners=function(){var t=this;var i=this._register(new Bn),n=this._register(new W4(this._editor,{extractLineNumberFromMouseEvent:function(i){var n=t._stickyScrollWidget.getEditorPositionFromNode(i.target.element);return n?n.lineNumber:0}})),r=function(i){if(!t._editor.hasModel()||i.target.type!==12||i.target.detail!==t._stickyScrollWidget.getId())return null;var n=i.target.element;if(!n||n.innerText!==n.innerHTML)return null;var r=t._stickyScrollWidget.getEditorPositionFromNode(n);return r?{range:new Zr(r.lineNumber,r.column,r.lineNumber,r.column+n.innerText.length),textElement:n}:null},e=this._stickyScrollWidget.getDomNode();this._register(Ra(e,Ec.CLICK,(function(i){if(i.ctrlKey||i.altKey||i.metaKey||!i.leftButton)return;if(i.shiftKey){var n=t._stickyScrollWidget.getLineIndexFromChildDomNode(i.target);if(n===null)return;var r=new qr(t._endLineNumbers[n],1);return void t._revealLineInCenterIfOutsideViewport(r)}if(t._stickyScrollWidget.isInFoldingIconDomNode(i.target)){var n=t._stickyScrollWidget.getLineNumberFromChildDomNode(i.target);return void t._toggleFoldingRegionForLine(n)}if(!t._stickyScrollWidget.isInStickyLine(i.target))return;var e=t._stickyScrollWidget.getEditorPositionFromNode(i.target);if(!e){var n=t._stickyScrollWidget.getLineNumberFromChildDomNode(i.target);if(n===null)return;e=new qr(n,1)}t._revealPosition(e)}))),this._register(Ra(e,Ec.MOUSE_MOVE,(function(i){if(i.shiftKey){var n=t._stickyScrollWidget.getLineIndexFromChildDomNode(i.target);return n===null||t._showEndForLine!==null&&t._showEndForLine===n?void 0:(t._showEndForLine=n,void t._renderStickyScroll())}t._showEndForLine!==null&&(t._showEndForLine=null,t._renderStickyScroll())}))),this._register(Oa(e,Ec.MOUSE_LEAVE,(function(i){t._showEndForLine!==null&&(t._showEndForLine=null,t._renderStickyScroll())}))),this._register(n.onMouseMoveOrRelevantKeyDown((function(n){var e=n[0],o=n[1];var s=r(e);if(!s||!e.hasTriggerModifier||!t._editor.hasModel())return void i.clear();var u=s.range,a=s.textElement;if(u.equalsRange(t._stickyRangeProjectedOnEditor)){if(a.style.textDecoration==="underline")return}else t._stickyRangeProjectedOnEditor=u,i.clear();var c=new Kn;var h;i.add(En((function(){return c.dispose(!0)}))),X3(t._languageFeaturesService.definitionProvider,t._editor.getModel(),new qr(u.startLineNumber,u.startColumn+1),c.token).then((function(n){if(!c.token.isCancellationRequested)if(n.length!==0){t._candidateDefinitionsLength=n.length;var r=a;h!==r?(i.clear(),h=r,h.style.textDecoration="underline",i.add(En((function(){h.style.textDecoration="none"})))):h||(h=r,h.style.textDecoration="underline",i.add(En((function(){h.style.textDecoration="none"}))))}else i.clear()}))}))),this._register(n.onCancel((function(){i.clear()}))),this._register(n.onExecute((function(i){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){if(i.target.type!==12||i.target.detail!==this._stickyScrollWidget.getId())return[2];t=this._stickyScrollWidget.getEditorPositionFromNode(i.target.element);t&&this._editor.hasModel()&&this._stickyRangeProjectedOnEditor&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:t.lineNumber,column:1})),this._instaService.invokeFunction(_rt,i,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}));return[2]}))}))})))};i.prototype._onContextMenu=function(t,i){var n=new Ts(t,i);this._contextMenuService.showContextMenu({menuId:_f.StickyScrollContext,getAnchor:function(){return n}})};i.prototype._toggleFoldingRegionForLine=function(t){if(!this._foldingModel||t===null)return;var i=this._stickyScrollWidget.getRenderedStickyLine(t),n=i==null?void 0:i.foldingIcon;if(!n)return;D7(this._foldingModel,Number.MAX_VALUE,[t]),n.isCollapsed=!n.isCollapsed;var r=(n.isCollapsed?this._editor.getTopForLineNumber(n.foldingEndLine):this._editor.getTopForLineNumber(n.foldingStartLine))-this._editor.getOption(67)*i.index+1;this._editor.setScrollTop(r),this._renderStickyScroll(t)};i.prototype._readConfiguration=function(){var t=this;var i=this._editor.getOption(115);if(i.enabled===!1)return this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),void(this._enabled=!1);i.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange((function(i){i.scrollTopChanged&&(t._showEndForLine=null,t._renderStickyScroll())}))),this._sessionStore.add(this._editor.onDidLayoutChange((function(){return t._onDidResize()}))),this._sessionStore.add(this._editor.onDidChangeModelTokens((function(i){return t._onTokensChange(i)}))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll((function(){t._showEndForLine=null,t._renderStickyScroll()}))),this._enabled=!0),this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition((function(){t._showEndForLine=null,t._renderStickyScroll(0)})))};i.prototype._needsUpdate=function(t){var i=this._stickyScrollWidget.getCurrentLines();for(var n=0,r=i;n<r.length;n++){var e=r[n];for(var o=0,s=t.ranges;o<s.length;o++){var u=s[o];if(e>=u.fromLineNumber&&e<=u.toLineNumber)return!0}}return!1};i.prototype._onTokensChange=function(t){this._needsUpdate(t)&&this._renderStickyScroll(0)};i.prototype._onDidResize=function(){var t=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(.25*t)};i.prototype._renderStickyScroll=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n,r,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:r=this._editor.getModel();if(!r||r.isTooLargeForTokenization())return[2,(this._foldingModel=null,void this._stickyScrollWidget.setState(void 0,null))];e=this._stickyLineCandidateProvider.getVersionId();if(!(e===void 0||e===r.getVersionId()))return[3,2];o=this;return[4,(i=ttt.get(this._editor))===null||i===void 0?void 0:i.getFoldingModel()];case 1:if(o._foldingModel=(n=u.sent())!==null&&n!==void 0?n:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),this._focused)if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,t),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{s=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,t),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(s)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}else this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,t);u.label=2;case 2:return[2]}}))}))};i.prototype.findScrollWidgetState=function(){var t=this._editor.getOption(67),i=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),n=this._editor.getScrollTop();var r=0;var e=[],o=[],s=this._editor.getVisibleRanges();if(s.length!==0){var u=new Tst(s[0].startLineNumber,s[s.length-1].endLineNumber),a=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(u);for(var c=0,h=a;c<h.length;c++){var f=h[c];var l=f.startLineNumber,d=f.endLineNumber,v=f.nestingDepth;if(d-l>0){var A=(v-1)*t,g=v*t,w=this._editor.getBottomForLineNumber(l)-n,p=this._editor.getTopForLineNumber(d)-n,m=this._editor.getBottomForLineNumber(d)-n;if(A>p&&A<=m){e.push(l),o.push(d+1),r=m-g;break}if(g>w&&g<=m&&(e.push(l),o.push(d+1)),e.length===i)break}}}return this._endLineNumbers=o,new _st(e,o,r,this._showEndForLine)};i.prototype.dispose=function(){t.prototype.dispose.call(this),this._sessionStore.dispose()};return i}(Cn);rut.ID="store.contrib.stickyScrollController",rut=tut=iut([nut(1,TO),nut(2,gg),nut(3,fh),nut(4,jd),nut(5,zQ),nut(6,hf)],rut);var eut=100;il(rut.ID,rut,1),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.toggleStickyScroll",title:__assign(__assign({},Ct(0,"Toggle Editor Sticky Scroll")),{mnemonicTitle:Bt(0,"&&Toggle Editor Sticky Scroll")}),category:Mst.View,toggled:{condition:Hh.equals("config.editor.stickyScroll.enabled",!0),title:Bt(0,"Sticky Scroll"),mnemonicTitle:Bt(0,"&&Sticky Scroll")},menu:[{id:_f.CommandPalette},{id:_f.MenubarAppearanceMenu,group:"4_editor",order:3},{id:_f.StickyScrollContext}]})||this}i.prototype.run=function(t){return __awaiter(this,void 0,void 0,(function(){var i,n;return __generator(this,(function(r){i=t.get(sd),n=!i.getValue("editor.stickyScroll.enabled");return[2,i.updateValue("editor.stickyScroll.enabled",n)]}))}))};return i}(Nf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.focusStickyScroll",title:__assign(__assign({},Ct(0,"Focus Sticky Scroll")),{mnemonicTitle:Bt(0,"&&Focus Sticky Scroll")}),precondition:Hh.and(Hh.has("config.editor.stickyScroll.enabled"),hB.stickyScrollVisible),menu:[{id:_f.CommandPalette}]})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=rut.get(i))===null||n===void 0||n.focus()};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.selectPreviousStickyScrollLine",title:Ct(0,"Select previous sticky scroll line"),precondition:hB.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:eut,primary:16}})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=rut.get(i))===null||n===void 0||n.focusPrevious()};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.selectNextStickyScrollLine",title:Ct(0,"Select next sticky scroll line"),precondition:hB.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:eut,primary:18}})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=rut.get(i))===null||n===void 0||n.focusNext()};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.goToFocusedStickyScrollLine",title:Ct(0,"Go to focused sticky scroll line"),precondition:hB.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:eut,primary:3}})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=rut.get(i))===null||n===void 0||n.goToFocused()};return i}(Xf)),Rf(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.selectEditor",title:Ct(0,"Select Editor"),precondition:hB.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:eut,primary:9}})||this}i.prototype.runEditorCommand=function(t,i){var n;(n=rut.get(i))===null||n===void 0||n.selectEditor()};return i}(Xf));var out=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},sut=function(t,i){return function(n,r){i(n,r,t)}};var uut=function(){function t(t,i,n,r,e,o){this.range=t,this.insertText=i,this.filterText=n,this.additionalTextEdits=r,this.command=e,this.completion=o}return t}();var aut=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,o.disposable)||this,u.model=i,u.line=n,u.word=r,u.completionModel=e,u._suggestMemoryService=s;return u}i.prototype.canBeReused=function(t,i,n){return this.model===t&&this.line===i&&this.word.word.length>0&&this.word.startColumn===n.startColumn&&this.word.endColumn<n.endColumn&&this.completionModel.getIncompleteProvider().size===0};Object.defineProperty(i.prototype,"items",{get:function(){var t;var i=[],n=this.completionModel.items,r=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},n),e=vi.slice(n,r),o=vi.slice(n,0,r);var s=5;for(var u=0,a=vi.concat(e,o);u<a.length;u++){var c=a[u];if(c.score===WN.Default)continue;var h=new Zr(c.editStart.lineNumber,c.editStart.column,c.editInsertEnd.lineNumber,c.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),f=c.completion.insertTextRules&&4&c.completion.insertTextRules?{snippet:c.completion.insertText}:c.completion.insertText;i.push(new uut(h,f,(t=c.filterTextLow)!==null&&t!==void 0?t:c.labelLow,c.completion.additionalTextEdits,c.completion.command,c)),s-- >=0&&c.resolve(Gn.None)}return i},enumerable:false,configurable:true});return i}(Mn);aut=out([sut(5,Jit)],aut);var cut=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._languageFeatureService=i,o._clipboardService=n,o._suggestMemoryService=r,o._editorService=e,o._store.add(i.inlineCompletionsProvider.register("*",o));return o}i.prototype.provideInlineCompletions=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,l,d,v,A,a,a,g,w,p;return __generator(this,(function(m){switch(m.label){case 0:if(n.selectedSuggestionInfo)return[2];for(s=0,u=this._editorService.listCodeEditors();s<u.length;s++){a=u[s];if(a.getModel()===t){o=a;break}}if(!o)return[2];c=o.getOption(89);if(ait.isAllOff(c))return[2];t.tokenization.tokenizeIfCheap(i.lineNumber);h=t.tokenization.getLineTokens(i.lineNumber),f=h.getStandardTokenType(h.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(ait.valueFor(c,f)!=="inline")return[2];v=t.getWordAtPosition(i);if(v!=null&&v.word||(l=this._getTriggerCharacterInfo(t,i)),!(v!=null&&v.word)&&!l||(v||(v=t.getWordUntilPosition(i)),v.endColumn!==i.column))return[2];A=t.getValueInRange(new Zr(i.lineNumber,1,i.lineNumber,i.column));if(!(!l&&(!((e=this._lastResult)===null||e===void 0)&&e.canBeReused(t,i.lineNumber,v))))return[3,1];a=new nnt(A,i.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=a,this._lastResult.acquire(),d=this._lastResult;return[3,5];case 1:return[4,oit(this._languageFeatureService.completionProvider,t,i,new rit(void 0,ant.createSuggestFilter(o).itemKind,l==null?void 0:l.providers),l&&{triggerKind:1,triggerCharacter:l.ch},r)];case 2:a=m.sent();g=void 0;w=a.needsClipboard;if(!w)return[3,4];return[4,this._clipboardService.readText()];case 3:w=g=m.sent();m.label=4;case 4:w;p=new rnt(a.items,i.column,new nnt(A,0),int.None,o.getOption(118),o.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},g);d=new aut(t,i.lineNumber,v,p,a,this._suggestMemoryService);m.label=5;case 5:return[2,(this._lastResult=d,d)]}}))}))};i.prototype.handleItemDidShow=function(t,i){i.completion.resolve(Gn.None)};i.prototype.freeInlineCompletions=function(t){t.release()};i.prototype._getTriggerCharacterInfo=function(t,i){var n;var r=t.getValueInRange(Zr.fromPositions({lineNumber:i.lineNumber,column:i.column-1},i)),e=new Set;for(var o=0,s=this._languageFeatureService.completionProvider.all(t);o<s.length;o++){var u=s[o];!((n=u.triggerCharacters)===null||n===void 0)&&n.includes(r)&&e.add(u)}if(e.size!==0)return{providers:e,ch:r}};return i}(Cn);cut=out([sut(0,gg),sut(1,uG),sut(2,Jit),sut(3,dh)],cut),TG(cut);$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.forceRetokenize",label:Bt(0,"Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})||this}i.prototype.run=function(t,i){if(!i.hasModel())return;var n=i.getModel();n.tokenization.resetTokenization();var r=new In;n.tokenization.forceTokenization(n.getLineCount()),r.stop(),console.log("tokenization took ".concat(r.elapsed()))};return i}(Vf));var hut=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,title:Ct(0,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})||this}i.prototype.run=function(){var t=!Vw.getTabFocusMode();Vw.setTabFocusMode(t),Rw(Bt(0,t?"Pressing Tab will now move focus to the next focusable element":"Pressing Tab will now insert the tab character"))};return i}(Nf);hut.ID="editor.action.toggleTabFocusMode",Rf(hut);var fut=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},lut=function(t,i){return function(n,r){i(n,r,t)}};var dut=function(t){__extends(i,t);function i(i,n,r,e){if(r===void 0){r={}}var o=this;var s,u;o=t.call(this)||this,o._link=n,o._enabled=!0,o.el=_c(i,Nc("a.monaco-link",{tabIndex:(s=n.tabIndex)!==null&&s!==void 0?s:0,href:n.href},n.label)),o.hoverDelegate=(u=r.hoverDelegate)!==null&&u!==void 0?u:jL("mouse"),o.setTooltip(n.title),o.el.setAttribute("role","button");var a=o._register(new Hk(o.el,"click")),c=o._register(new Hk(o.el,"keypress")),h=Qn.chain(c.event,(function(t){return t.map((function(t){return new Qs(t)})).filter((function(t){return t.keyCode===3}))})),f=o._register(new Hk(o.el,Ak.Tap)).event;o._register(wk.addTarget(o.el));var l=Qn.any(a.event,h,f);o._register(l((function(t){o.enabled&&(Cc(t,!0),r!=null&&r.opener?r.opener(o._link.href):e.open(o._link.href,{allowCommands:!0}))}))),o.enabled=!0;return o}Object.defineProperty(i.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t},enumerable:false,configurable:true});i.prototype.setTooltip=function(t){this.hoverDelegate.showNativeHover?this.el.title=t!==null&&t!==void 0?t:"":!this.hover&&t?this.hover=this._register(YL(this.hoverDelegate,this.el,t)):this.hover&&this.hover.update(t)};return i}(Cn);dut=fut([lut(3,HO)],dut);var vut=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Aut=function(t,i){return function(n,r){i(n,r,t)}};var gut=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r._editor=i,r.instantiationService=n,r.banner=r._register(r.instantiationService.createInstance(wut));return r}i.prototype.hide=function(){this._editor.setBanner(null,0),this.banner.clear()};i.prototype.show=function(t){var i=this;this.banner.show(__assign(__assign({},t),{onClose:function(){var n;i.hide(),(n=t.onClose)===null||n===void 0||n.call(t)}})),this._editor.setBanner(this.banner.element,26)};return i}(Cn);gut=vut([Aut(1,fh)],gut);var wut=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.instantiationService=i,n.markdownRenderer=n.instantiationService.createInstance(JR,{}),n.element=Nc("div.editor-banner"),n.element.tabIndex=0;return n}i.prototype.getAriaLabel=function(t){return t.ariaLabel?t.ariaLabel:typeof t.message=="string"?t.message:void 0};i.prototype.getBannerMessage=function(t){if(typeof t=="string"){var i=Nc("span");return i.innerText=t,i}return this.markdownRenderer.render(t).element};i.prototype.clear=function(){Ia(this.element)};i.prototype.show=function(t){Ia(this.element);var i=this.getAriaLabel(t);i&&this.element.setAttribute("aria-label",i);var n=_c(this.element,Nc("div.icon-container"));n.setAttribute("aria-hidden","true"),t.icon&&n.appendChild(Nc("div".concat(xh.asCSSSelector(t.icon))));var r=_c(this.element,Nc("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=_c(this.element,Nc("div.message-actions-container")),t.actions)for(var e=0,o=t.actions;e<o.length;e++){var s=o[e];this._register(this.instantiationService.createInstance(dut,this.messageActionsContainer,__assign(__assign({},s),{tabIndex:-1}),{}))}var u=_c(this.element,Nc("div.action-container"));this.actionBar=this._register(new cU(u)),this.actionBar.push(this._register(new gh("banner.close","Close Banner",xh.asClassName(IW),!0,(function(){typeof t.onClose=="function"&&t.onClose()}))),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)};return i}(Cn);wut=vut([Aut(0,fh)],wut);var put=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},mut=function(t,i){return function(n,r){i(n,r,t)}};var but=DW("extensions-warning-message",re.warning,Bt(0,"Icon shown with a warning message in the extensions editor."));var yut=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._editor=i,o._editorWorkerService=n,o._workspaceTrustService=r,o._highlighter=null,o._bannerClosed=!1,o._updateState=function(t){if(t&&t.hasMore){if(o._bannerClosed)return;var i=Math.max(t.ambiguousCharacterCount,t.nonBasicAsciiCharacterCount,t.invisibleCharacterCount);var n=void 0;if(t.nonBasicAsciiCharacterCount>=i)n={message:Bt(0,"This document contains many non-basic ASCII unicode characters"),command:new Out};else if(t.ambiguousCharacterCount>=i)n={message:Bt(0,"This document contains many ambiguous unicode characters"),command:new Iut};else{if(!(t.invisibleCharacterCount>=i))throw new Error("Unreachable");n={message:Bt(0,"This document contains many invisible unicode characters"),command:new Qut}}o._bannerController.show({id:"unicodeHighlightBanner",message:n.message,icon:but,actions:[{label:n.command.shortLabel,href:"command:".concat(n.command.id)}],onClose:function(){o._bannerClosed=!0}})}else o._bannerController.hide()},o._bannerController=o._register(e.createInstance(gut,i)),o._register(o._editor.onDidChangeModel((function(){o._bannerClosed=!1,o._updateHighlighter()}))),o._options=i.getOption(125),o._register(r.onDidChangeTrust((function(t){o._updateHighlighter()}))),o._register(i.onDidChangeConfiguration((function(t){t.hasChanged(125)&&(o._options=i.getOption(125),o._updateHighlighter())}))),o._updateHighlighter();return o}i.prototype.dispose=function(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),t.prototype.dispose.call(this)};i.prototype._updateHighlighter=function(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;var t=function(t,i){return{nonBasicASCII:i.nonBasicASCII===Vi?!t:i.nonBasicASCII,ambiguousCharacters:i.ambiguousCharacters,invisibleCharacters:i.invisibleCharacters,includeComments:i.includeComments===Vi?!t:i.includeComments,includeStrings:i.includeStrings===Vi?!t:i.includeStrings,allowedCharacters:i.allowedCharacters,allowedLocales:i.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every((function(t){return t===!1})))return;var i={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map((function(t){return t.codePointAt(0)})),allowedLocales:Object.keys(t.allowedLocales).map((function(t){return t==="_os"?(new Intl.NumberFormat).resolvedOptions().locale:t==="_vscode"?ii:t}))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new kut(this._editor,i,this._updateState,this._editorWorkerService):this._highlighter=new xut(this._editor,i,this._updateState)};i.prototype.getDecorationInfo=function(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null};return i}(Cn);yut.ID="editor.contrib.unicodeHighlighter",yut=put([mut(1,FU),mut(2,kL),mut(3,fh)],yut);var kut=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._editor=i,o._options=n,o._updateState=r,o._editorWorkerService=e,o._model=o._editor.getModel(),o._decorations=o._editor.createDecorationsCollection(),o._updateSoon=o._register(new qs((function(){return o._update()}),250)),o._register(o._editor.onDidChangeModelContent((function(){o._updateSoon.schedule()}))),o._updateSoon.schedule();return o}i.prototype.dispose=function(){this._decorations.clear(),t.prototype.dispose.call(this)};i.prototype._update=function(){var t=this;if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();var i=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then((function(n){if(t._model.isDisposed()||t._model.getVersionId()!==i)return;t._updateState(n);var r=[];if(!n.hasMore)for(var e=0,o=n.ranges;e<o.length;e++){var s=o[e];r.push({range:s,options:_ut.instance.getDecorationFromOptions(t._options)})}t._decorations.set(r)}))};i.prototype.getDecorationInfo=function(t){if(!this._decorations.has(t))return null;var i=this._editor.getModel();return gI(i,t)?{reason:Mut(i.getValueInRange(t.range),this._options),inComment:wI(i,t),inString:pI(i,t)}:null};return i}(Cn);kut=put([mut(3,FU)],kut);var xut=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._options=n,e._updateState=r,e._model=e._editor.getModel(),e._decorations=e._editor.createDecorationsCollection(),e._updateSoon=e._register(new qs((function(){return e._update()}),250)),e._register(e._editor.onDidLayoutChange((function(){e._updateSoon.schedule()}))),e._register(e._editor.onDidScrollChange((function(){e._updateSoon.schedule()}))),e._register(e._editor.onDidChangeHiddenAreas((function(){e._updateSoon.schedule()}))),e._register(e._editor.onDidChangeModelContent((function(){e._updateSoon.schedule()}))),e._updateSoon.schedule();return e}i.prototype.dispose=function(){this._decorations.clear(),t.prototype.dispose.call(this)};i.prototype._update=function(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();var t=this._editor.getVisibleRanges(),i=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(var r=0,e=t;r<e.length;r++){var o=e[r];var s=Jv.computeUnicodeHighlights(this._model,this._options,o);for(var u=0,a=s.ranges;u<a.length;u++){var c=a[u];n.ranges.push(c)}n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||s.hasMore}if(!n.hasMore)for(var h=0,f=n.ranges;h<f.length;h++){var o=f[h];i.push({range:o,options:_ut.instance.getDecorationFromOptions(this._options)})}this._updateState(n),this._decorations.set(i)};i.prototype.getDecorationInfo=function(t){if(!this._decorations.has(t))return null;var i=this._editor.getModel(),n=i.getValueInRange(t.range);return gI(i,t)?{reason:Mut(n,this._options),inComment:wI(i,t),inString:pI(i,t)}:null};return i}(Cn);var Eut=Bt(0,"Configure Unicode Highlight Options");var But=function(){function t(t,i,n){this._editor=t,this._languageService=i,this._openerService=n,this.hoverOrdinal=5}t.prototype.computeSync=function(t,i){if(!this._editor.hasModel()||t.type!==1)return[];var n=this._editor.getModel(),r=this._editor.getContribution(yut.ID);if(!r)return[];var e=[],o=new Set;var s=300;for(var u=0,a=i;u<a.length;u++){var c=a[u];var h=r.getDecorationInfo(c);if(!h)continue;var f=n.getValueInRange(c.range).codePointAt(0),l=Dut(f);var d=void 0;switch(h.reason.kind){case 0:d=is(h.reason.confusableWith)?Bt(0,"The character {0} could be confused with the ASCII character {1}, which is more common in source code.",l,Dut(h.reason.confusableWith.codePointAt(0))):Bt(0,"The character {0} could be confused with the character {1}, which is more common in source code.",l,Dut(h.reason.confusableWith.codePointAt(0)));break;case 1:d=Bt(0,"The character {0} is invisible.",l);break;case 2:d=Bt(0,"The character {0} is not a basic ASCII character.",l)}if(o.has(d))continue;o.add(d);var v={codePoint:f,reason:h.reason,inComment:h.inComment,inString:h.inString},A=Bt(0,"Adjust settings"),g="command:".concat(Nut.ID,"?").concat(encodeURIComponent(JSON.stringify(v))),w=new uR("",!0).appendMarkdown(d).appendText(" ").appendLink(g,A,Eut);e.push(new X5(this,c.range,[w],!1,s++))}return e};t.prototype.renderHoverParts=function(t,i){return Z5(t,i,this._editor,this._languageService,this._openerService)};return t}();function Cut(t){return"U+".concat(t.toString(16).padStart(4,"0"))}function Dut(t){var i="`".concat(Cut(t),"`");return vs.isInvisibleCharacter(t)||(i+=' "'.concat(function(t){return t===96?"`` ` ``":"`"+String.fromCodePoint(t)+"`"}(t),'"')),i}function Mut(t,i){return Jv.computeUnicodeHighlightReason(t,i)}But=put([mut(1,ld),mut(2,HO)],But);var _ut=function(){function t(){this.map=new Map}t.prototype.getDecorationFromOptions=function(t){return this.getDecoration(!t.includeComments,!t.includeStrings)};t.prototype.getDecoration=function(t,i){var n="".concat(t).concat(i);var r=this.map.get(n);return r||(r=iS.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:t,hideInStringTokens:i}),this.map.set(n,r)),r};return t}();_ut.instance=new _ut;var Fut=function(t){__extends(i,t);function i(){var i=this;i=t.call(this,{id:Iut.ID,label:Bt(0,"Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0})||this,i.shortLabel=Bt(0,"Disable Highlight In Comments");return i}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=t==null?void 0:t.get(sd);i&&this.runAction(i);return[2]}))}))};i.prototype.runAction=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t.updateValue($i,!1,2)];case 1:i.sent();return[2]}}))}))};return i}(Vf);var Sut=function(t){__extends(i,t);function i(){var i=this;i=t.call(this,{id:Iut.ID,label:Bt(0,"Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0})||this,i.shortLabel=Bt(0,"Disable Highlight In Strings");return i}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=t==null?void 0:t.get(sd);i&&this.runAction(i);return[2]}))}))};i.prototype.runAction=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t.updateValue(tn,!1,2)];case 1:i.sent();return[2]}}))}))};return i}(Vf);var Iut=function(t){__extends(i,t);function i(){var n=this;n=t.call(this,{id:i.ID,label:Bt(0,"Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0})||this,n.shortLabel=Bt(0,"Disable Ambiguous Highlight");return n}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=t==null?void 0:t.get(sd);i&&this.runAction(i);return[2]}))}))};i.prototype.runAction=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t.updateValue(Zi,!1,2)];case 1:i.sent();return[2]}}))}))};return i}(Vf);Iut.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var Qut=function(t){__extends(i,t);function i(){var n=this;n=t.call(this,{id:i.ID,label:Bt(0,"Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0})||this,n.shortLabel=Bt(0,"Disable Invisible Highlight");return n}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=t==null?void 0:t.get(sd);i&&this.runAction(i);return[2]}))}))};i.prototype.runAction=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t.updateValue(Xi,!1,2)];case 1:i.sent();return[2]}}))}))};return i}(Vf);Qut.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var Out=function(t){__extends(i,t);function i(){var n=this;n=t.call(this,{id:i.ID,label:Bt(0,"Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0})||this,n.shortLabel=Bt(0,"Disable Non ASCII Highlight");return n}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){i=t==null?void 0:t.get(sd);i&&this.runAction(i);return[2]}))}))};i.prototype.runAction=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,t.updateValue(qi,!1,2)];case 1:i.sent();return[2]}}))}))};return i}(Vf);Out.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var Nut=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:Bt(0,"Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})||this}i.prototype.run=function(t,i,n){return __awaiter(this,void 0,void 0,(function(){var i,r,e,o,s,u,a,c,h,f,l,d,v,A,g,w,p,m,b;var y=this;return __generator(this,(function(k){switch(k.label){case 0:i=n.codePoint,r=n.reason,e=n.inString,o=n.inComment,s=String.fromCodePoint(i),u=t.get(ZU),a=t.get(sd),c=[];if(r.kind===0){h=function(t){c.push({label:Bt(0,'Allow unicode characters that are more common in the language "{0}".',t),run:function(){return __awaiter(y,void 0,void 0,(function(){return __generator(this,(function(i){Rut(a,[t]);return[2]}))}))}})};for(f=0,l=r.notAmbiguousInLocales;f<l.length;f++){d=l[f];h(d)}}if(c.push({label:function(t){return vs.isInvisibleCharacter(t)?Bt(0,"Exclude {0} (invisible character) from being highlighted",Cut(t)):Bt(0,"Exclude {0} from being highlighted","".concat(Cut(t),' "').concat(s,'"'))}(i),run:function(){return function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s;return __generator(this,(function(u){switch(u.label){case 0:n=t.getValue(Ki);r=typeof n=="object"&&n?n:{};for(e=0,o=i;e<o.length;e++){s=o[e];r[String.fromCodePoint(s)]=!0}return[4,t.updateValue(Ki,r,2)];case 1:u.sent();return[2]}}))}))}(a,[i])}}),o){v=new Fut;c.push({label:v.label,run:function(){return __awaiter(y,void 0,void 0,(function(){return __generator(this,(function(t){return[2,v.runAction(a)]}))}))}})}else if(e){A=new Sut;c.push({label:A.label,run:function(){return __awaiter(y,void 0,void 0,(function(){return __generator(this,(function(t){return[2,A.runAction(a)]}))}))}})}if(r.kind===0){g=new Iut;c.push({label:g.label,run:function(){return __awaiter(y,void 0,void 0,(function(){return __generator(this,(function(t){return[2,g.runAction(a)]}))}))}})}else if(r.kind===1){w=new Qut;c.push({label:w.label,run:function(){return __awaiter(y,void 0,void 0,(function(){return __generator(this,(function(t){return[2,w.runAction(a)]}))}))}})}else if(r.kind===2){p=new Out;c.push({label:p.label,run:function(){return __awaiter(y,void 0,void 0,(function(){return __generator(this,(function(t){return[2,p.runAction(a)]}))}))}})}else(function(t){throw new Error("Unexpected value: ".concat(t))})(r);return[4,u.pick(c,{title:Eut})];case 1:m=k.sent();b=m;if(!b)return[3,3];return[4,m.run()];case 2:b=k.sent();k.label=3;case 3:b;return[2]}}))}))};return i}(Vf);function Rut(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r,e,o,s,u;return __generator(this,(function(a){switch(a.label){case 0:r=(n=t.inspect(nn).user)===null||n===void 0?void 0:n.value;e=typeof r=="object"&&r?Object.assign({},r):{};for(o=0,s=i;o<s.length;o++){u=s[o];e[u]=!0}return[4,t.updateValue(nn,e,2)];case 1:a.sent();return[2]}}))}))}Nut.ID="editor.action.unicodeHighlight.showExcludeOptions",$f(Iut),$f(Qut),$f(Out),$f(Nut),il(yut.ID,yut,1),C5.register(But);var Tut=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Lut=function(t,i){return function(n,r){i(n,r,t)}};var jut="ignoreUnusualLineTerminators";var zut=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._dialogService=n,e._codeEditorService=r,e._isPresentingDialog=!1,e._config=e._editor.getOption(126),e._register(e._editor.onDidChangeConfiguration((function(t){t.hasChanged(126)&&(e._config=e._editor.getOption(126),e._checkForUnusualLineTerminators())}))),e._register(e._editor.onDidChangeModel((function(){e._checkForUnusualLineTerminators()}))),e._register(e._editor.onDidChangeModelContent((function(t){t.isUndoing||e._checkForUnusualLineTerminators()}))),e._checkForUnusualLineTerminators();return e}i.prototype._checkForUnusualLineTerminators=function(){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){switch(n.label){case 0:if(this._config==="off"||!this._editor.hasModel())return[2];t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||function(t,i){return t.getModelProperty(i.uri,jut)}(this._codeEditorService,t)===!0||this._editor.getOption(91))return[2];if(this._config==="auto")return[2,void t.removeUnusualLineTerminators(this._editor.getSelections())];if(this._isPresentingDialog)return[2];n.label=1;case 1:n.trys.push([1,,3,4]);this._isPresentingDialog=!0;return[4,this._dialogService.confirm({title:Bt(0,"Unusual Line Terminators"),message:Bt(0,"Detected unusual line terminators"),detail:Bt(0,"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",t_(t.uri)),primaryButton:Bt(0,"&&Remove Unusual Line Terminators"),cancelButton:Bt(0,"Ignore")})];case 2:i=n.sent();return[3,4];case 3:this._isPresentingDialog=!1;return[7];case 4:i.confirmed?t.removeUnusualLineTerminators(this._editor.getSelections()):function(t,i,n){t.setModelProperty(i.uri,jut,n)}(this._codeEditorService,t,!0);return[2]}}))}))};return i}(Cn);zut.ID="editor.contrib.unusualLineTerminatorsDetector",zut=Tut([Lut(1,bQ),Lut(2,dh)],zut),il(zut.ID,zut,1);var Uut,Hut,Yut=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Jut=function(t,i){return function(n,r){i(n,r,t)}};var Put=new cf("hasWordHighlights",!1);function Wut(t,i,n,r){return Vs(t.ordered(i).map((function(t){return function(){return Promise.resolve(t.provideDocumentHighlights(i,n,r)).then(void 0,hn)}})),L).then((function(t){if(t){var n=new yv;return n.set(i.uri,t),n}return new yv}))}var Gut=function(){function t(t,i,n){this._model=t,this._selection=i,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(t,i),this._result=null}Object.defineProperty(t.prototype,"result",{get:function(){var t=this;return this._result||(this._result=Us((function(i){return t._compute(t._model,t._selection,t._wordSeparators,i)}))),this._result},enumerable:false,configurable:true});t.prototype._getCurrentWordRange=function(t,i){var n=t.getWordAtPosition(i.getPosition());return n?new Zr(i.startLineNumber,n.startColumn,i.startLineNumber,n.endColumn):null};t.prototype.isValid=function(t,i,n){var r=i.startLineNumber,e=i.startColumn,o=i.endColumn,s=this._getCurrentWordRange(t,i);var u=!!(this._wordRange&&this._wordRange.equalsRange(s));for(var a=0,c=n.length;!u&&a<c;a++){var h=n.getRange(a);h&&h.startLineNumber===r&&h.startColumn<=e&&h.endColumn>=o&&(u=!0)}return u};t.prototype.cancel=function(){this.result.cancel()};return t}();var Vut=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this,i,n,r)||this,o._providers=e;return o}i.prototype._compute=function(t,i,n,r){return Wut(this._providers,t,i.getPosition(),r).then((function(t){return t||new yv}))};return i}(Gut);var Kut=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,i,n,r)||this,s._providers=e,s._otherModels=o;return s}i.prototype._compute=function(t,i,n,r){return function(t,i,n,r,e,o){return Vs(t.ordered(i).map((function(t){return function(){var r=o.filter((function(t){return Tv(t)})).filter((function(i){return DO(t.selector,i.uri,i.getLanguageId(),!0,void 0,void 0)>0}));return Promise.resolve(t.provideMultiDocumentHighlights(i,n,r,e)).then(void 0,hn)}})),(function(t){return t instanceof yv&&t.size>0}))}(this._providers,t,i.getPosition(),0,r,this._otherModels).then((function(t){return t||new yv}))};return i}(Gut);var Xut=function(t){__extends(i,t);function i(i,n,r,e,o){var s=this;s=t.call(this,i,n,e)||this,s._otherModels=o,s._selectionIsEmpty=n.isEmpty(),s._word=r;return s}i.prototype._compute=function(t,i,n,r){var e=this;return Ws(250,r).then((function(){var r=new yv;var o;if(o=e._word?e._word:t.getWordAtPosition(i.getPosition()),!o)return new yv;var s=__spreadArray([t],e._otherModels,true);for(var u=0,a=s;u<a.length;u++){var c=a[u];if(c.isDisposed())continue;var h=c.findMatches(o.word,!0,!1,!0,n,!1).map((function(t){return{range:t.range,kind:le.Text}}));h&&r.set(c.uri,h)}return r}))};i.prototype.isValid=function(i,n,r){var e=n.isEmpty();return this._selectionIsEmpty===e&&t.prototype.isValid.call(this,i,n,r)};return i}(Gut);qf("_executeDocumentHighlights",(function(t,i,n){return __awaiter(f,void 0,void 0,(function(){var r,e;return __generator(this,(function(o){switch(o.label){case 0:r=t.get(gg);return[4,Wut(r.documentHighlightProvider,i,n,Gn.None)];case 1:e=o.sent();return[2,e==null?void 0:e.get(i.uri)]}}))}))}));var qut=Uut=function(){function t(t,i,n,r,e){var o=this;this.toUnhook=new Bn,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new yv,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=t,this.providers=i,this.multiDocumentProviders=n,this.codeEditorService=e,this._hasWordHighlights=Put.bindTo(r),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition((function(t){o._ignorePositionChangeEvent||o.occurrencesHighlight!=="off"&&o._onPositionChanged(t)}))),this.toUnhook.add(t.onDidFocusEditorText((function(t){o.occurrencesHighlight!=="off"&&(o.workerRequest||o._run())}))),this.toUnhook.add(t.onDidChangeModelContent((function(t){o._stopAll()}))),this.toUnhook.add(t.onDidChangeModel((function(t){!t.newModelUrl&&t.oldModelUrl?o._stopSingular():Uut.query&&o._run()}))),this.toUnhook.add(t.onDidChangeConfiguration((function(t){var i=o.editor.getOption(81);o.occurrencesHighlight!==i&&(o.occurrencesHighlight=i,o._stopAll())}))),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Uut.query&&this._run()}t.prototype.hasDecorations=function(){return this.decorations.length>0};t.prototype.restore=function(){this.occurrencesHighlight!=="off"&&this._run()};t.prototype._getSortedHighlights=function(){return this.decorations.getRanges().sort(Zr.compareRangesUsingStarts)};t.prototype.moveNext=function(){var t=this;var i=this._getSortedHighlights(),n=i.findIndex((function(i){return i.containsPosition(t.editor.getPosition())})),r=(n+1)%i.length,e=i[r];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(e.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(e);var o=this._getWord();o&&Rw("".concat(this.editor.getModel().getLineContent(e.startLineNumber),", ").concat(r+1," of ").concat(i.length," for '").concat(o.word,"'"))}finally{this._ignorePositionChangeEvent=!1}};t.prototype.moveBack=function(){var t=this;var i=this._getSortedHighlights(),n=i.findIndex((function(i){return i.containsPosition(t.editor.getPosition())})),r=(n-1+i.length)%i.length,e=i[r];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(e.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(e);var o=this._getWord();o&&Rw("".concat(this.editor.getModel().getLineContent(e.startLineNumber),", ").concat(r+1," of ").concat(i.length," for '").concat(o.word,"'"))}finally{this._ignorePositionChangeEvent=!1}};t.prototype._removeSingleDecorations=function(){if(!this.editor.hasModel())return;var t=Uut.storedDecorations.get(this.editor.getModel().uri);t&&(this.editor.removeDecorations(t),Uut.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))};t.prototype._removeAllDecorations=function(){var t=this.codeEditorService.listCodeEditors(),i=[];for(var n=0,r=t;n<r.length;n++){var e=r[n];if(!e.hasModel())continue;var o=Uut.storedDecorations.get(e.getModel().uri);if(!o)continue;e.removeDecorations(o),i.push(e.getModel().uri);var s=Zut.get(e);s!=null&&s.wordHighlighter&&s.wordHighlighter.decorations.length>0&&(s.wordHighlighter.decorations.clear(),s.wordHighlighter.workerRequest=null,s.wordHighlighter._hasWordHighlights.set(!1))}for(var u=0,a=i;u<a.length;u++){var e=a[u];Uut.storedDecorations.delete(e)}};t.prototype._stopSingular=function(){var t,i,n,r;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((t=this.editor.getModel())===null||t===void 0?void 0:t.uri.scheme)!==oa.vscodeNotebookCell&&((n=(i=Uut.query)===null||i===void 0?void 0:i.modelInfo)===null||n===void 0?void 0:n.model.uri.scheme)!==oa.vscodeNotebookCell?(Uut.query=null,this._run()):!((r=Uut.query)===null||r===void 0)&&r.modelInfo&&(Uut.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)};t.prototype._stopAll=function(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)};t.prototype._onPositionChanged=function(t){var i;this.occurrencesHighlight!=="off"&&(t.reason===3||((i=this.editor.getModel())===null||i===void 0?void 0:i.uri.scheme)===oa.vscodeNotebookCell)?this._run():this._stopAll()};t.prototype._getWord=function(){var t=this.editor.getSelection(),i=t.startLineNumber,n=t.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:i,column:n})};t.prototype.getOtherModelsToHighlight=function(t){if(!t)return[];if(t.uri.scheme===oa.vscodeNotebookCell){var i=[],n=this.codeEditorService.listCodeEditors();for(var r=0,e=n;r<e.length;r++){var o=e[r];var s=o.getModel();s&&s!==t&&s.uri.scheme===oa.vscodeNotebookCell&&i.push(s)}return i}var u=[],a=this.codeEditorService.listCodeEditors();for(var c=0,h=a;c<h.length;c++){var i=h[c];if(!pZ(i))continue;var n=i.getModel();n&&t===n.modified&&u.push(n.modified)}if(u.length)return u;if(this.occurrencesHighlight==="singleFile")return[];for(var f=0,l=a;f<l.length;f++){var i=l[f];var n=i.getModel();n&&n!==t&&u.push(n)}return u};t.prototype._run=function(){var t=this;var i;var n;if(this.editor.hasTextFocus()){var r=this.editor.getSelection();if(!r||r.startLineNumber!==r.endLineNumber)return Uut.query=null,void this._stopAll();var e=r.startColumn,o=r.endColumn,s=this._getWord();if(!s||s.startColumn>e||s.endColumn<o)return Uut.query=null,void this._stopAll();n=this.workerRequest&&this.workerRequest.isValid(this.model,r,this.decorations),Uut.query={modelInfo:{model:this.model,selection:r},word:s}}else if(!Uut.query)return;if(this.lastCursorPositionChangeTime=(new Date).getTime(),n)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var u=++this.workerRequestTokenId;this.workerRequestCompleted=!1;var e=this.getOtherModelsToHighlight(this.editor.getModel());if(!Uut.query.modelInfo||Uut.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(Uut.query.modelInfo.model,Uut.query.modelInfo.selection,Uut.query.word,e),(i=this.workerRequest)===null||i===void 0||i.result.then((function(i){u===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=i||[],t._beginRenderDecorations())}),cn)}};t.prototype.computeWithModel=function(t,i,n,r){return r.length?function(t,i,n,r,e,o){return t.has(i)?new Kut(i,n,e,t,o):new Xut(i,n,r,e,o)}(this.multiDocumentProviders,t,i,n,this.editor.getOption(131),r):function(t,i,n,r,e){return t.has(i)?new Vut(i,n,e,t):new Xut(i,n,r,e,[])}(this.providers,t,i,n,this.editor.getOption(131))};t.prototype._beginRenderDecorations=function(){var t=this;var i=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;i>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((function(){t.renderDecorations()}),n-i)};t.prototype.renderDecorations=function(){var t,i,n;this.renderDecorationsTimer=-1;var r=this.codeEditorService.listCodeEditors();var e=function(r){var e=Zut.get(r);if(!e)return"continue";var s=[],u=(t=r.getModel())===null||t===void 0?void 0:t.uri;if(u&&o.workerRequestValue.has(u)){var a=Uut.storedDecorations.get(u),h=o.workerRequestValue.get(u);if(h)for(var f=0,l=h;f<l.length;f++){var d=l[f];d.range&&s.push({range:d.range,options:(c=d.kind,c===le.Write?Tet:c===le.Text?Let:Uet)})}var v=[];r.changeDecorations((function(t){v=t.deltaDecorations(a!==null&&a!==void 0?a:[],s)})),Uut.storedDecorations=Uut.storedDecorations.set(u,v),s.length>0&&((i=e.wordHighlighter)===null||i===void 0||i.decorations.set(s),(n=e.wordHighlighter)===null||n===void 0||n._hasWordHighlights.set(!0))}};var o=this;for(var s=0,u=r;s<u.length;s++){var a=u[s];e(a)}var c};t.prototype.dispose=function(){this._stopSingular(),this.toUnhook.dispose()};return t}();qut.storedDecorations=new yv,qut.query=null,qut=Uut=Yut([Jut(4,dh)],qut);var Zut=Hut=function(t){__extends(i,t);function i(i,n,r,e){var o=this;o=t.call(this)||this,o._wordHighlighter=null;var s=function(){i.hasModel()&&!i.getModel().isTooLargeForTokenization()&&(o._wordHighlighter=new qut(i,r.documentHighlightProvider,r.multiDocumentHighlightProvider,n,e))};o._register(i.onDidChangeModel((function(t){o._wordHighlighter&&(o._wordHighlighter.dispose(),o._wordHighlighter=null),s()}))),s();return o}i.get=function(t){return t.getContribution(i.ID)};Object.defineProperty(i.prototype,"wordHighlighter",{get:function(){return this._wordHighlighter},enumerable:false,configurable:true});i.prototype.saveViewState=function(){return!(!this._wordHighlighter||!this._wordHighlighter.hasDecorations())};i.prototype.moveNext=function(){var t;(t=this._wordHighlighter)===null||t===void 0||t.moveNext()};i.prototype.moveBack=function(){var t;(t=this._wordHighlighter)===null||t===void 0||t.moveBack()};i.prototype.restoreViewState=function(t){this._wordHighlighter&&t&&this._wordHighlighter.restore()};i.prototype.dispose=function(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),t.prototype.dispose.call(this)};return i}(Cn);Zut.ID="editor.contrib.wordHighlighter",Zut=Hut=Yut([Jut(1,hf),Jut(2,gg),Jut(3,dh)],Zut);var $ut=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this,n)||this,r._isNext=i;return r}i.prototype.run=function(t,i){var n=Zut.get(i);n&&(this._isNext?n.moveNext():n.moveBack())};return i}(Vf);il(Zut.ID,Zut,0),$f(function(t){__extends(i,t);function i(){return t.call(this,!0,{id:"editor.action.wordHighlight.next",label:Bt(0,"Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Put,kbOpts:{kbExpr:hB.editorTextFocus,primary:65,weight:100}})||this}return i}($ut)),$f(function(t){__extends(i,t);function i(){return t.call(this,!1,{id:"editor.action.wordHighlight.prev",label:Bt(0,"Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Put,kbOpts:{kbExpr:hB.editorTextFocus,primary:1089,weight:100}})||this}return i}($ut)),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.wordHighlight.trigger",label:Bt(0,"Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Put.toNegated(),kbOpts:{kbExpr:hB.editorTextFocus,primary:0,weight:100}})||this}i.prototype.run=function(t,i,n){var r=Zut.get(i);r&&r.restoreViewState(!0)};return i}(Vf));var tat=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._inSelectionMode=i.inSelectionMode,n._wordNavigationType=i.wordNavigationType;return n}i.prototype.runEditorCommand=function(t,i,n){var r=this;if(!i.hasModel())return;var e=Mv(i.getOption(131),i.getOption(130)),o=i.getModel(),s=i.getSelections().map((function(t){var i=new qr(t.positionLineNumber,t.positionColumn),n=r._move(e,o,i,r._wordNavigationType);return r._moveTo(t,n,r._inSelectionMode)}));if(o.pushStackElement(),i._getViewModel().setCursorStates("moveWordCommand",3,s.map((function(t){return BE.fromModelSelection(t)}))),s.length===1){var u=new qr(s[0].positionLineNumber,s[0].positionColumn);i.revealPosition(u,0)}};i.prototype._moveTo=function(t,i,n){return n?new $r(t.selectionStartLineNumber,t.selectionStartColumn,i.lineNumber,i.column):new $r(i.lineNumber,i.column,i.lineNumber,i.column)};return i}(Gf);var iat=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._move=function(t,i,n,r){return zE.moveWordLeft(t,i,n,r)};return i}(tat);var nat=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._move=function(t,i,n,r){return zE.moveWordRight(t,i,n,r)};return i}(tat);var rat=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this,i)||this,n._whitespaceHeuristics=i.whitespaceHeuristics,n._wordNavigationType=i.wordNavigationType;return n}i.prototype.runEditorCommand=function(t,i,n){var r=this;var e=t.get(jd);if(!i.hasModel())return;var o=Mv(i.getOption(131),i.getOption(130)),s=i.getModel(),u=i.getSelections(),a=i.getOption(6),c=i.getOption(11),h=e.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),f=i._getViewModel(),l=u.map((function(t){var n=r._delete({wordSeparators:o,model:s,selection:t,whitespaceHeuristics:r._whitespaceHeuristics,autoClosingDelete:i.getOption(9),autoClosingBrackets:a,autoClosingQuotes:c,autoClosingPairs:h,autoClosedCharacters:f.getCursorAutoClosedCharacters()},r._wordNavigationType);return new IE(n,"")}));i.pushUndoStop(),i.executeCommands(this.id,l),i.pushUndoStop()};return i}(Gf);var eat=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._delete=function(t,i){return zE.deleteWordLeft(t,i)||new Zr(1,1,1,1)};return i}(rat);var oat=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._delete=function(t,i){var n=zE.deleteWordRight(t,i);if(n)return n;var r=t.model.getLineCount(),e=t.model.getLineMaxColumn(r);return new Zr(r,e,r,e)};return i}(rat);Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})||this}return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){var i;return t.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Hh.and(hB.textInputFocus,(i=Hh.and(Xw,nJ))===null||i===void 0?void 0:i.negate()),primary:2063,mac:{primary:527},weight:100}})||this}return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})||this}return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){var i;return t.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Hh.and(hB.textInputFocus,(i=Hh.and(Xw,nJ))===null||i===void 0?void 0:i.negate()),primary:3087,mac:{primary:1551},weight:100}})||this}return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){var i;return t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Hh.and(hB.textInputFocus,(i=Hh.and(Xw,nJ))===null||i===void 0?void 0:i.negate()),primary:2065,mac:{primary:529},weight:100}})||this}return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){var i;return t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Hh.and(hB.textInputFocus,(i=Hh.and(Xw,nJ))===null||i===void 0?void 0:i.negate()),primary:3089,mac:{primary:1553},weight:100}})||this}return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})||this}i.prototype._move=function(i,n,r,e){return t.prototype._move.call(this,Mv(un.wordSeparators.defaultValue,i.intlSegmenterLocales),n,r,e)};return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})||this}i.prototype._move=function(i,n,r,e){return t.prototype._move.call(this,Mv(un.wordSeparators.defaultValue,i.intlSegmenterLocales),n,r,e)};return i}(iat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})||this}i.prototype._move=function(i,n,r,e){return t.prototype._move.call(this,Mv(un.wordSeparators.defaultValue,i.intlSegmenterLocales),n,r,e)};return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})||this}i.prototype._move=function(i,n,r,e){return t.prototype._move.call(this,Mv(un.wordSeparators.defaultValue,i.intlSegmenterLocales),n,r,e)};return i}(nat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:hB.writable})||this}return i}(eat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:hB.writable})||this}return i}(eat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return i}(eat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:hB.writable})||this}return i}(oat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:hB.writable})||this}return i}(oat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return i}(oat))),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"deleteInsideWord",precondition:hB.writable,label:Bt(0,"Delete Word"),alias:"Delete Word"})||this}i.prototype.run=function(t,i,n){if(!i.hasModel())return;var r=Mv(i.getOption(131),i.getOption(130)),e=i.getModel(),o=i.getSelections().map((function(t){var i=zE.deleteInsideWord(r,e,t);return new IE(i,"")}));i.pushUndoStop(),i.executeCommands(this.id,o),i.pushUndoStop()};return i}(Vf));var sat=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._move=function(t,i,n,r){return UE.moveWordPartLeft(t,i,n)};return i}(tat);Bh.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");Bh.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var uat=function(t){__extends(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype._move=function(t,i,n,r){return UE.moveWordPartRight(t,i,n)};return i}(tat);Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}i.prototype._delete=function(t,i){return UE.deleteWordPartLeft(t)||new Zr(1,1,1,1)};return i}(rat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:hB.writable,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}i.prototype._delete=function(t,i){var n=UE.deleteWordPartRight(t);if(n)return n;var r=t.model.getLineCount(),e=t.model.getLineMaxColumn(r);return new Zr(r,e,r,e)};return i}(rat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return i}(sat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return i}(sat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return i}(uat))),Zf(new(function(t){__extends(i,t);function i(){return t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:hB.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return i}(uat)));var aat=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.editor=i,n._register(n.editor.onDidAttemptReadOnlyEdit((function(){return n._onDidAttemptReadOnlyEdit()})));return n}i.prototype._onDidAttemptReadOnlyEdit=function(){var t=d1.get(this.editor);if(t&&this.editor.hasModel()){var i=this.editor.getOptions().get(92);i||(i=this.editor.isSimpleWidget?new uR(Bt(0,"Cannot edit in read-only input")):new uR(Bt(0,"Cannot edit in read-only editor"))),t.showMessage(i,this.editor.getPosition())}};return i}(Cn);aat.ID="editor.contrib.readOnlyMessageController",il(aat.ID,aat,2);var cat=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},hat=function(t,i){return function(n,r){i(n,r,t)}};var fat=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._textModel=i,e._languageFeaturesService=n,e._outlineModelService=r,e._currentModel=mj(e,void 0);var o=Lj("documentSymbolProvider.onDidChange",e._languageFeaturesService.documentSymbolProvider.onDidChange),s=Lj("_textModel.onDidChangeContent",Qn.debounce((function(t){return e._textModel.onDidChangeContent(t)}),(function(){}),100));e._register(Ij((function(t,i){return __awaiter(e,void 0,void 0,(function(){var n,r;return __generator(this,(function(e){switch(e.label){case 0:o.read(t),s.read(t);n=i.add(new pV);return[4,this._outlineModelService.getOrCreate(this._textModel,n.token)];case 1:r=e.sent();i.isDisposed||this._currentModel.set(r,void 0);return[2]}}))}))})));return e}i.prototype.getBreadcrumbItems=function(t,i){var n=this._currentModel.read(i);if(!n)return[];var r=n.asListOfDocumentSymbols().filter((function(i){return t.contains(i.range.startLineNumber)&&!t.contains(i.range.endLineNumber)}));return r.sort($(X((function(t){return t.range.endLineNumber-t.range.startLineNumber}),q))),r.map((function(t){return{name:t.name,kind:t.kind,startLineNumber:t.range.startLineNumber}}))};return i}(Cn);fat=cat([hat(1,gg),hat(2,gtt)],fat),CK.setBreadcrumbsSourceFactory((function(t,i){return i.createInstance(fat,t)}));var lat=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.editor=i,n.widget=null,Zt&&(n._register(i.onDidChangeConfiguration((function(){return n.update()}))),n.update());return n}i.prototype.update=function(){var t=!this.editor.getOption(91);!this.widget&&t?this.widget=new dat(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)};i.prototype.dispose=function(){t.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)};return i}(Cn);lat.ID="editor.contrib.iPadShowKeyboard";var dat=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.editor=i,n._domNode=document.createElement("textarea"),n._domNode.className="iPadShowKeyboard",n._register(Oa(n._domNode,"touchstart",(function(t){n.editor.focus()}))),n._register(Oa(n._domNode,"focus",(function(t){n.editor.focus()}))),n.editor.addOverlayWidget(n);return n}i.prototype.dispose=function(){this.editor.removeOverlayWidget(this),t.prototype.dispose.call(this)};i.prototype.getId=function(){return i.ID};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getPosition=function(){return{preference:1}};return i}(Cn);dat.ID="editor.contrib.ShowKeyboardWidget",il(lat.ID,lat,3);var vat,Aat=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},gat=function(t,i){return function(n,r){i(n,r,t)}};var wat=vat=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e._editor=i,e._languageService=r,e._widget=null,e._register(e._editor.onDidChangeModel((function(t){return e.stop()}))),e._register(e._editor.onDidChangeModelLanguage((function(t){return e.stop()}))),e._register(ye.onDidChange((function(t){return e.stop()}))),e._register(e._editor.onKeyUp((function(t){return t.keyCode===9&&e.stop()})));return e}i.get=function(t){return t.getContribution(i.ID)};i.prototype.dispose=function(){this.stop(),t.prototype.dispose.call(this)};i.prototype.launch=function(){this._widget||this._editor.hasModel()&&(this._widget=new pat(this._editor,this._languageService))};i.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)};return i}(Cn);wat.ID="editor.contrib.inspectTokens",wat=vat=Aat([gat(1,JW),gat(2,ld)],wat);var pat=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.allowEditorOverflow=!0,r._editor=i,r._languageService=n,r._model=r._editor.getModel(),r._domNode=document.createElement("div"),r._domNode.className="tokens-inspect-widget",r._tokenizationSupport=function(t,i){var n=ye.get(i);if(n)return n;var r=t.encodeLanguageId(i);return{getInitialState:function(){return Fg},tokenize:function(t,n,r){return Sg(i,r)},tokenizeEncoded:function(t,i,n){return Ig(r,n)}}}(r._languageService.languageIdCodec,r._model.getLanguageId()),r._compute(r._editor.getPosition()),r._register(r._editor.onDidChangeCursorPosition((function(t){return r._compute(r._editor.getPosition())}))),r._editor.addContentWidget(r);return r}i.prototype.dispose=function(){this._editor.removeContentWidget(this),t.prototype.dispose.call(this)};i.prototype.getId=function(){return i._ID};i.prototype._compute=function(t){var i=this._getTokensAtLine(t.lineNumber);var n=0;for(var r=i.tokens1.length-1;r>=0;r--){var e=i.tokens1[r];if(t.column-1>=e.offset){n=r;break}}var o=0;for(var r=i.tokens2.length>>>1;r>=0;r--)if(t.column-1>=i.tokens2[r<<1]){o=r;break}var s=this._model.getLineContent(t.lineNumber);var u="";if(n<i.tokens1.length){var r=i.tokens1[n].offset,e=n+1<i.tokens1.length?i.tokens1[n+1].offset:s.length;u=s.substring(r,e)}Sc(this._domNode,Nc("h2.tm-token",void 0,function(t){var i="";for(var n=0,r=t.length;n<r;n++){var e=t.charCodeAt(n);switch(e){case 9:i+="→";break;case 32:i+="·";break;default:i+=String.fromCharCode(e)}}return i}(u),Nc("span.tm-token-length",void 0,"".concat(u.length," ").concat(u.length===1?"char":"chars")))),_c(this._domNode,Nc("hr.tokens-inspect-separator",{style:"clear:both"}));var a=1+(o<<1)<i.tokens2.length?this._decodeMetadata(i.tokens2[1+(o<<1)]):null;_c(this._domNode,Nc("table.tm-metadata-table",void 0,Nc("tbody",void 0,Nc("tr",void 0,Nc("td.tm-metadata-key",void 0,"language"),Nc("td.tm-metadata-value",void 0,"".concat(a?a.languageId:"-?-"))),Nc("tr",void 0,Nc("td.tm-metadata-key",void 0,"token type"),Nc("td.tm-metadata-value",void 0,"".concat(a?this._tokenTypeToString(a.tokenType):"-?-"))),Nc("tr",void 0,Nc("td.tm-metadata-key",void 0,"font style"),Nc("td.tm-metadata-value",void 0,"".concat(a?this._fontStyleToString(a.fontStyle):"-?-"))),Nc("tr",void 0,Nc("td.tm-metadata-key",void 0,"foreground"),Nc("td.tm-metadata-value",void 0,"".concat(a?ZA.Format.CSS.formatHex(a.foreground):"-?-"))),Nc("tr",void 0,Nc("td.tm-metadata-key",void 0,"background"),Nc("td.tm-metadata-value",void 0,"".concat(a?ZA.Format.CSS.formatHex(a.background):"-?-")))))),_c(this._domNode,Nc("hr.tokens-inspect-separator")),n<i.tokens1.length&&_c(this._domNode,Nc("span.tm-token-type",void 0,i.tokens1[n].type)),this._editor.layoutContentWidget(this)};i.prototype._decodeMetadata=function(t){var i=ye.getColorMap(),n=Qg.getLanguageId(t),r=Qg.getTokenType(t),e=Qg.getFontStyle(t),o=Qg.getForeground(t),s=Qg.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(n),tokenType:r,fontStyle:e,foreground:i[o],background:i[s]}};i.prototype._tokenTypeToString=function(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}};i.prototype._fontStyleToString=function(t){var i="";return 1&t&&(i+="italic "),2&t&&(i+="bold "),4&t&&(i+="underline "),8&t&&(i+="strikethrough "),i.length===0&&(i="---"),i};i.prototype._getTokensAtLine=function(t){var i=this._getStateBeforeLine(t),n=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,i),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,i);return{startState:i,tokens1:n.tokens,tokens2:r.tokens,endState:n.endState}};i.prototype._getStateBeforeLine=function(t){var i=this._tokenizationSupport.getInitialState();for(var n=1;n<t;n++)i=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,i).endState;return i};i.prototype.getDomNode=function(){return this._domNode};i.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}};return i}(Cn);pat._ID="editor.contrib.inspectTokensWidget",il(wat.ID,wat,4),$f(function(t){__extends(i,t);function i(){return t.call(this,{id:"editor.action.inspectTokens",label:vL.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})||this}i.prototype.run=function(t,i){var n=wat.get(i);n==null||n.launch()};return i}(Vf));var mat,bat=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},yat=function(t,i){return function(n,r){i(n,r,t)}};var kat=mat=function(){function t(t,i){this.quickInputService=t,this.keybindingService=i,this.registry=yf.as(VU)}t.prototype.provide=function(i){var n=this;var r=new Bn;return r.add(i.onDidAccept((function(){var t=i.selectedItems[0];t&&n.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})}))),r.add(i.onDidChangeValue((function(i){var r=n.registry.getQuickAccessProvider(i.substr(t.PREFIX.length));r&&r.prefix&&r.prefix!==t.PREFIX&&n.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})}))),i.items=this.getQuickAccessProviders().filter((function(i){return i.prefix!==t.PREFIX})),r};t.prototype.getQuickAccessProviders=function(){var t=this;return this.registry.getQuickAccessProviders().sort((function(t,i){return t.prefix.localeCompare(i.prefix)})).flatMap((function(i){return t.createPicks(i)}))};t.prototype.createPicks=function(t){var i=this;return t.helpEntries.map((function(n){var r=n.prefix||t.prefix,e=r||"…";return{prefix:r,label:e,keybinding:n.commandId?i.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:Bt(0,"{0}, {1}",e,n.description),description:n.description}}))};return t}();kat.PREFIX="?",kat=mat=bat([yat(0,ZU),yat(1,vE)],kat),yf.as(VU).registerQuickAccessProvider({ctor:kat,prefix:"",helpEntries:[{description:gL.helpQuickAccessActionLabel}]});var xat=function(){function t(t){this.options=t,this.rangeHighlightDecorationId=void 0}t.prototype.provide=function(t,i){var n=this;var r;var e=new Bn;t.canAcceptInBackground=!!(!((r=this.options)===null||r===void 0)&&r.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;var o=e.add(new Dn);return o.value=this.doProvide(t,i),e.add(this.onDidActiveTextEditorControlChange((function(){o.value=void 0,o.value=n.doProvide(t,i)}))),e};t.prototype.doProvide=function(t,i){var n=this;var r;var e=new Bn,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){var s={editor:o},u=mZ(o);if(u){var a=(r=o.saveViewState())!==null&&r!==void 0?r:void 0;e.add(u.onDidChangeCursorPosition((function(){var t;a=(t=o.saveViewState())!==null&&t!==void 0?t:void 0}))),s.restoreViewState=function(){a&&o===n.activeTextEditorControl&&o.restoreViewState(a)},e.add(bn(i.onCancellationRequested)((function(){var t;return(t=s.restoreViewState)===null||t===void 0?void 0:t.call(s)})))}e.add(En((function(){return n.clearDecorations(o)}))),e.add(this.provideWithTextEditor(s,t,i))}else e.add(this.provideWithoutTextEditor(t,i));return e};t.prototype.canProvideWithTextEditor=function(t){return!0};t.prototype.gotoLocation=function(t,i){var n=t.editor;n.setSelection(i.range,"code.jump"),n.revealRangeInCenter(i.range,0),i.preserveFocus||n.focus();var r=n.getModel();r&&"getLineContent"in r&&Tw("".concat(r.getLineContent(i.range.startLineNumber)))};t.prototype.getModel=function(t){var i;return pZ(t)?(i=t.getModel())===null||i===void 0?void 0:i.modified:t.getModel()};t.prototype.addDecorations=function(t,i){var n=this;t.changeDecorations((function(t){var r=[];n.rangeHighlightDecorationId&&(r.push(n.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(n.rangeHighlightDecorationId.rangeHighlightId),n.rangeHighlightDecorationId=void 0);var e=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:ox(Ux),position:_v.Full}}}],o=t.deltaDecorations(r,e),s=o[0],u=o[1];n.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:u}}))};t.prototype.clearDecorations=function(t){var i=this.rangeHighlightDecorationId;i&&(t.changeDecorations((function(t){t.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)};return t}();var Eat=function(t){__extends(i,t);function i(){return t.call(this,{canAcceptInBackground:!0})||this}i.prototype.provideWithoutTextEditor=function(t){var i=Bt(0,"Open a text editor first to go to a line.");return t.items=[{label:i}],t.ariaLabel=i,Cn.None};i.prototype.provideWithTextEditor=function(t,n,r){var e=this;var o=t.editor,s=new Bn;s.add(n.onDidAccept((function(i){var r=n.selectedItems[0];if(r){if(!e.isValidLineNumber(o,r.lineNumber))return;e.gotoLocation(t,{range:e.toRange(r.lineNumber,r.column),keyMods:n.keyMods,preserveFocus:i.inBackground}),i.inBackground||n.hide()}})));var u=function(){var t=e.parsePosition(o,n.value.trim().substr(i.PREFIX.length)),r=e.getPickLabel(o,t.lineNumber,t.column);if(n.items=[{lineNumber:t.lineNumber,column:t.column,label:r}],n.ariaLabel=r,!e.isValidLineNumber(o,t.lineNumber))return void e.clearDecorations(o);var s=e.toRange(t.lineNumber,t.column);o.revealRangeInCenter(s,0),e.addDecorations(o,s)};u(),s.add(n.onDidChangeValue((function(){return u()})));var a=mZ(o);return a&&a.getOptions().get(68).renderType===2&&(a.updateOptions({lineNumbers:"on"}),s.add(En((function(){return a.updateOptions({lineNumbers:"relative"})})))),s};i.prototype.toRange=function(t,i){if(t===void 0){t=1}if(i===void 0){i=1}return{startLineNumber:t,startColumn:i,endLineNumber:t,endColumn:i}};i.prototype.parsePosition=function(t,i){var n=i.split(/,|:|#/).map((function(t){return parseInt(t,10)})).filter((function(t){return!isNaN(t)})),r=this.lineCount(t)+1;return{lineNumber:n[0]>0?n[0]:r+n[0],column:n[1]}};i.prototype.getPickLabel=function(t,i,n){if(this.isValidLineNumber(t,i))return this.isValidColumn(t,i,n)?Bt(0,"Go to line {0} and character {1}.",i,n):Bt(0,"Go to line {0}.",i);var r=t.getPosition()||{lineNumber:1,column:1},e=this.lineCount(t);return e>1?Bt(0,"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,e):Bt(0,"Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)};i.prototype.isValidLineNumber=function(t,i){return!(!i||typeof i!="number")&&i>0&&i<=this.lineCount(t)};i.prototype.isValidColumn=function(t,i,n){if(!n||typeof n!="number")return!1;var r=this.getModel(t);if(!r)return!1;var e={lineNumber:i,column:n};return r.validatePosition(e).equals(e)};i.prototype.lineCount=function(t){var i,n;return(n=(i=this.getModel(t))===null||i===void 0?void 0:i.getLineCount())!==null&&n!==void 0?n:0};return i}(xat);Eat.PREFIX=":";var Bat=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Cat=function(t,i){return function(n,r){i(n,r,t)}};var Dat=function(t){__extends(i,t);function i(i){var n=this;n=t.call(this)||this,n.editorService=i,n.onDidActiveTextEditorControlChange=Qn.None;return n}Object.defineProperty(i.prototype,"activeTextEditorControl",{get:function(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0},enumerable:false,configurable:true});return i}(Eat);Dat=Bat([Cat(0,dh)],Dat);var Mat=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:AL.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:2085,mac:{primary:293},weight:100}})||this}i.prototype.run=function(t){t.get(ZU).quickAccess.show(Dat.PREFIX)};return i}(Vf);Mat.ID="editor.action.gotoLine",$f(Mat),yf.as(VU).registerQuickAccessProvider({ctor:Dat,prefix:Dat.PREFIX,helpEntries:[{description:AL.gotoLineActionLabel,commandId:Mat.ID}]});var _at=[void 0,[]];function Fat(t,i,n,r){if(n===void 0){n=0}if(r===void 0){r=0}var e=i;return e.values&&e.values.length>1?function(t,i,n,r){var e=0;var o=[];for(var s=0,u=i;s<u.length;s++){var a=u[s];var c=Sat(t,a,n,r),h=c[0],f=c[1];if(typeof h!="number")return _at;e+=h,o.push.apply(o,f)}return[e,Iat(o)]}(t,e.values,n,r):Sat(t,i,n,r)}function Sat(t,i,n,r){var e=VN(i.original,i.originalLowercase,n,t,t.toLowerCase(),r,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return e?[e[0],ON(e)]:_at}function Iat(t){var i=t.sort((function(t,i){return t.start-i.start})),n=[];var r;for(var e=0,o=i;e<o.length;e++){var s=o[e];r&&Qat(r,s)?(r.start=Math.min(r.start,s.start),r.end=Math.max(r.end,s.end)):(r=s,n.push(s))}return n}function Qat(t,i){return!(t.end<i.start)&&!(i.end<t.start)}function Oat(t){return t.startsWith('"')&&t.endsWith('"')}var Nat=" ";function Rat(t){typeof t!="string"&&(t="");var i=t.toLowerCase(),n=Tat(t),r=n.pathNormalized,e=n.normalized,o=n.normalizedLowercase,s=r.indexOf(Qr)>=0,u=Oat(t);var a;var c=t.split(Nat);if(c.length>1)for(var h=0,f=c;h<f.length;h++){var l=f[h];var d=Oat(l),v=Tat(l),A=v.pathNormalized,g=v.normalized,w=v.normalizedLowercase;g&&(a||(a=[]),a.push({original:l,originalLowercase:l.toLowerCase(),pathNormalized:A,normalized:g,normalizedLowercase:w,expectContiguousMatch:d}))}return{original:t,originalLowercase:i,pathNormalized:r,normalized:e,normalizedLowercase:o,values:a,containsPathSeparator:s,expectContiguousMatch:u}}function Tat(t){var i;i=Wt?t.replace(/\//g,Qr):t.replace(/\\/g,Qr);var n=(r=i,r.replace(/\*/g,"")).replace(/\s|"/g,"");var r;return{pathNormalized:i,normalized:n,normalizedLowercase:n.toLowerCase()}}function Lat(t){return Array.isArray(t)?Rat(t.map((function(t){return t.original})).join(Nat)):Rat(t.original)}var jat,zat=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Uat=function(t,i){return function(n,r){i(n,r,t)}};var Hat=jat=function(t){__extends(i,t);function i(i,n,r){if(r===void 0){r=Object.create(null)}var e=this;e=t.call(this,r)||this,e._languageFeaturesService=i,e._outlineModelService=n,e.options=r,e.options.canAcceptInBackground=!0;return e}i.prototype.provideWithoutTextEditor=function(t){return this.provideLabelPick(t,Bt(0,"To go to a symbol, first open a text editor with symbol information.")),Cn.None};i.prototype.provideWithTextEditor=function(t,i,n){var r=t.editor,e=this.getModel(r);return e?this._languageFeaturesService.documentSymbolProvider.has(e)?this.doProvideWithEditorSymbols(t,e,i,n):this.doProvideWithoutEditorSymbols(t,e,i,n):Cn.None};i.prototype.doProvideWithoutEditorSymbols=function(t,i,n,r){var e=this;var o=new Bn;return this.provideLabelPick(n,Bt(0,"The active text editor does not provide symbol information.")),function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.waitForLanguageSymbolRegistry(i,o)];case 1:return[2,e.sent()&&!r.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(t,i,n,r))]}}))}))}(),o};i.prototype.provideLabelPick=function(t,i){t.items=[{label:i,index:0,kind:14}],t.ariaLabel=i};i.prototype.waitForLanguageSymbolRegistry=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n,r;var e=this;return __generator(this,(function(o){if(this._languageFeaturesService.documentSymbolProvider.has(t))return[2,!0];n=new nu,r=i.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((function(){e._languageFeaturesService.documentSymbolProvider.has(t)&&(r.dispose(),n.complete(!0))})));return[2,(i.add(En((function(){return n.complete(!1)}))),n.p)]}))}))};i.prototype.doProvideWithEditorSymbols=function(t,i,n,r){var e=this;var o;var s=t.editor,u=new Bn;u.add(n.onDidAccept((function(i){var r=n.selectedItems[0];r&&r.range&&(e.gotoLocation(t,{range:r.range.selection,keyMods:n.keyMods,preserveFocus:i.inBackground}),i.inBackground||n.hide())}))),u.add(n.onDidTriggerItemButton((function(i){var r=i.item;r&&r.range&&(e.gotoLocation(t,{range:r.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));var a=this.getDocumentSymbols(i,r);var c;var h=function(t){return __awaiter(e,void 0,void 0,(function(){var i,e,o;return __generator(this,(function(s){switch(s.label){case 0:c==null||c.dispose(!0),n.busy=!1,c=new Kn(r),n.busy=!0;s.label=1;case 1:s.trys.push([1,,3,4]);i=Rat(n.value.substr(jat.PREFIX.length).trim());return[4,this.doGetSymbolPicks(a,i,void 0,c.token)];case 2:e=s.sent();if(r.isCancellationRequested)return[2];if(e.length>0){if(n.items=e,t&&i.original.length===0){o=qv(e,(function(i){return!!(i.type!=="separator"&&i.range&&Zr.containsPosition(i.range.decoration,t))}));o&&(n.activeItems=[o])}}else i.original.length>0?this.provideLabelPick(n,Bt(0,"No matching editor symbols")):this.provideLabelPick(n,Bt(0,"No editor symbols"));return[3,4];case 3:r.isCancellationRequested||(n.busy=!1);return[7];case 4:return[2]}}))}))};return u.add(n.onDidChangeValue((function(){return h(void 0)}))),h((o=s.getSelection())===null||o===void 0?void 0:o.getPosition()),u.add(n.onDidChangeActive((function(){var t=n.activeItems[0];t&&t.range&&(s.revealRangeInCenter(t.range.selection,0),e.addDecorations(s,t.range.decoration))}))),u};i.prototype.doGetSymbolPicks=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s,u,a,c,h,f,l,d,v,A,g,w,p,m,b,y,k,x,E,B,C,D,M,_,w,F,S,I,Q,Q,p;var O,N,R;var T=this;return __generator(this,(function(L){switch(L.label){case 0:return[4,t];case 1:s=L.sent();if(r.isCancellationRequested)return[2,[]];u=i.original.indexOf(jat.SCOPE_PREFIX)===0,a=u?1:0;i.values&&i.values.length>1?(c=Lat(i.values[0]),h=Lat(i.values.slice(1))):c=i;l=(o=(e=this.options)===null||e===void 0?void 0:e.openSideBySideDirection)===null||o===void 0?void 0:o.call(e);l&&(f=[{iconClass:l==="right"?xh.asClassName(re.splitHorizontal):xh.asClassName(re.splitVertical),tooltip:Bt(0,l==="right"?"Open to the Side":"Open to the Bottom")}]);d=[];for(v=0;v<s.length;v++){A=s[v],g=Bo(A.name),w="$(".concat(Ae.toIcon(A.kind).id,") ").concat(g),p=w.length-g.length;m=void 0,b=void 0,y=void 0,k=void 0,x=A.containerName;if(n!=null&&n.extraContainerLabel&&(x=x?"".concat(n.extraContainerLabel," • ").concat(x):n.extraContainerLabel),i.original.length>a){E=!1;if(c!==i&&(O=Fat(w,__assign(__assign({},i),{values:void 0}),a,p),m=O[0],b=O[1],typeof m=="number"&&(E=!0)),typeof m!="number"&&(N=Fat(w,c,a,p),m=N[0],b=N[1],typeof m!="number"))continue;if(!E&&h){if(x&&h.original.length>0&&(R=Fat(x,h),y=R[0],k=R[1],R),typeof y!="number")continue;typeof m=="number"&&(m+=y)}}B=A.tags&&A.tags.indexOf(1)>=0;d.push({index:v,kind:A.kind,score:m,label:w,ariaLabel:(C=A.name,D=A.kind,Bt(0,"{0} ({1})",C,ve[D])),description:x,highlights:B?void 0:{label:b,description:k},range:{selection:Zr.collapseToStart(A.selectionRange),decoration:A.range},strikethrough:B,buttons:f})}M=d.sort((function(t,i){return u?T.compareByKindAndScore(t,i):T.compareByScore(t,i)}));_=[];if(u){w=function(){S&&typeof F=="number"&&I>0&&(S.label=ko(Jat[F]||Yat,I))},I=0;for(Q=0,Q=M;Q<Q.length;Q++){p=Q[Q];F!==p.kind?(w(),F=p.kind,I=1,S={type:"separator"},_.push(S)):I++,_.push(p)}w()}else M.length>0&&(_=__spreadArray([{label:Bt(0,"symbols ({0})",d.length),type:"separator"}],M,true));return[2,_]}}))}))};i.prototype.compareByScore=function(t,i){if(typeof t.score!="number"&&typeof i.score=="number")return 1;if(typeof t.score=="number"&&typeof i.score!="number")return-1;if(typeof t.score=="number"&&typeof i.score=="number"){if(t.score>i.score)return-1;if(t.score<i.score)return 1}return t.index<i.index?-1:t.index>i.index?1:0};i.prototype.compareByKindAndScore=function(t,i){var n=Jat[t.kind]||Yat,r=Jat[i.kind]||Yat,e=n.localeCompare(r);return e===0?this.compareByScore(t,i):e};i.prototype.getDocumentSymbols=function(t,i){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,this._outlineModelService.getOrCreate(t,i)];case 1:n=r.sent();return[2,i.isCancellationRequested?[]:n.asListOfDocumentSymbols()]}}))}))};return i}(xat);Hat.PREFIX="@",Hat.SCOPE_PREFIX=":",Hat.PREFIX_BY_CATEGORY="".concat(jat.PREFIX).concat(jat.SCOPE_PREFIX),Hat=jat=zat([Uat(0,gg),Uat(1,gtt)],Hat);var Yat=Bt(0,"properties ({0})"),Jat={5:Bt(0,"methods ({0})"),11:Bt(0,"functions ({0})"),8:Bt(0,"constructors ({0})"),12:Bt(0,"variables ({0})"),4:Bt(0,"classes ({0})"),22:Bt(0,"structs ({0})"),23:Bt(0,"events ({0})"),24:Bt(0,"operators ({0})"),10:Bt(0,"interfaces ({0})"),2:Bt(0,"namespaces ({0})"),3:Bt(0,"packages ({0})"),25:Bt(0,"type parameters ({0})"),1:Bt(0,"modules ({0})"),6:Bt(0,"properties ({0})"),9:Bt(0,"enumerations ({0})"),21:Bt(0,"enumeration members ({0})"),14:Bt(0,"strings ({0})"),0:Bt(0,"files ({0})"),17:Bt(0,"arrays ({0})"),15:Bt(0,"numbers ({0})"),16:Bt(0,"booleans ({0})"),18:Bt(0,"objects ({0})"),19:Bt(0,"keys ({0})"),7:Bt(0,"fields ({0})"),13:Bt(0,"constants ({0})")};var Pat=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},Wat=function(t,i){return function(n,r){i(n,r,t)}};var Gat=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this,n,r)||this,e.editorService=i,e.onDidActiveTextEditorControlChange=Qn.None;return e}Object.defineProperty(i.prototype,"activeTextEditorControl",{get:function(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0},enumerable:false,configurable:true});return i}(Hat);Gat=Pat([Wat(0,dh),Wat(1,gg),Wat(2,gtt)],Gat);var Vat=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:pL.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:hB.hasDocumentSymbolProvider,kbOpts:{kbExpr:hB.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})||this}i.prototype.run=function(t){t.get(ZU).quickAccess.show(Hat.PREFIX,{itemActivation:qU.NONE})};return i}(Vf);function Kat(t,i){return i&&(t.stack||t.stacktrace)?Bt(0,"{0}: {1}",qat(t),Xat(t.stack)||Xat(t.stacktrace)):qat(t)}function Xat(t){return Array.isArray(t)?t.join("\n"):t}function qat(t){return t.code==="ERR_UNC_HOST_NOT_ALLOWED"?"".concat(t.message,". Please update the 'security.allowedUNCHosts' setting if you want to allow this host."):typeof t.code=="string"&&typeof t.errno=="number"&&typeof t.syscall=="string"?Bt(0,"A system error occurred ({0})",t.message):t.message||Bt(0,"An unknown error occurred. Please consult the log for more details.")}function Zat(t,i){if(t===void 0){t=null}if(i===void 0){i=!1}if(!t)return Bt(0,"An unknown error occurred. Please consult the log for more details.");if(Array.isArray(t)){var n=N(t),r=Zat(n[0],i);return n.length>1?Bt(0,"{0} ({1} errors in total)",r,n.length):r}if(rt(t))return t;if(t.detail){var n=t.detail;if(n.error)return Kat(n.error,i);if(n.exception)return Kat(n.exception,i)}return t.stack?Kat(t,i):t.message?t.message:Bt(0,"An unknown error occurred. Please consult the log for more details.")}Vat.ID="editor.action.quickOutline",$f(Vat),yf.as(VU).registerQuickAccessProvider({ctor:Gat,prefix:Hat.PREFIX,helpEntries:[{description:pL.quickOutlineActionLabel,prefix:Hat.PREFIX,commandId:Vat.ID},{description:pL.quickOutlineByCategoryActionLabel,prefix:Hat.PREFIX_BY_CATEGORY}]});var $at=function(){function t(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}t.prototype.calculateScores=function(t,i){var n=this.computeEmbedding(t),r=new Map,e=[];for(var o=0,s=this.documents;o<s.length;o++){var u=s[o],a=u[0],c=u[1];if(i.isCancellationRequested)return[];for(var h=0,f=c.chunks;h<f.length;h++){var l=f[h];var d=this.computeSimilarityScore(l,n,r);d>0&&e.push({key:a,score:d})}}return e};t.termFrequencies=function(i){return function(t){var i;var n=new Map;for(var r=0,e=t;r<e.length;r++){var o=e[r];n.set(o,((i=n.get(o))!==null&&i!==void 0?i:0)+1)}return n}(t.splitTerms(i))};t.splitTerms=function(t){var i,n,r,e,o,s,u,a,c;return __generator(this,(function(h){switch(h.label){case 0:i=function(t){return t.toLowerCase()};n=0,r=t.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"));h.label=1;case 1:if(!(n<r.length))return[3,8];e=r[n][0];return[4,i(e)];case 2:h.sent();o=e.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(!(o.length>1))return[3,7];s=0,u=o;h.label=3;case 3:if(!(s<u.length))return[3,7];a=u[s];c=a.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(a);if(!c)return[3,5];return[4,i(a)];case 4:c=h.sent();h.label=5;case 5:c;h.label=6;case 6:s++;return[3,3];case 7:n++;return[3,1];case 8:return[2]}}))};t.prototype.updateDocuments=function(i){var n;for(var r=0,e=i;r<e.length;r++){var o=e[r].key;this.deleteDocument(o)}for(var s=0,u=i;s<u.length;s++){var o=u[s];var a=[];for(var c=0,h=o.textChunks;c<h.length;c++){var f=h[c];var l=t.termFrequencies(f);for(var d=0,v=l.keys();d<v.length;d++){var A=v[d];this.chunkOccurrences.set(A,((n=this.chunkOccurrences.get(A))!==null&&n!==void 0?n:0)+1)}a.push({text:f,tf:l})}this.chunkCount+=a.length,this.documents.set(o.key,{chunks:a})}return this};t.prototype.deleteDocument=function(t){var i=this.documents.get(t);if(i){this.documents.delete(t),this.chunkCount-=i.chunks.length;for(var n=0,r=i.chunks;n<r.length;n++){var e=r[n];for(var o=0,s=e.tf.keys();o<s.length;o++){var u=s[o];var a=this.chunkOccurrences.get(u);if(typeof a=="number"){var c=a-1;c<=0?this.chunkOccurrences.delete(u):this.chunkOccurrences.set(u,c)}}}}};t.prototype.computeSimilarityScore=function(t,i,n){var r=0;for(var e=0,o=Object.entries(i);e<o.length;e++){var s=o[e],u=s[0],a=s[1];var c=t.tf.get(u);if(!c)continue;var h=n.get(u);typeof h!="number"&&(h=this.computeIdf(u),n.set(u,h)),r+=c*h*a}return r};t.prototype.computeEmbedding=function(i){var n=t.termFrequencies(i);return this.computeTfidf(n)};t.prototype.computeIdf=function(t){var i;var n=(i=this.chunkOccurrences.get(t))!==null&&i!==void 0?i:0;return n>0?Math.log((this.chunkCount+1)/n):0};t.prototype.computeTfidf=function(t){var i=Object.create(null);for(var n=0,r=t;n<r.length;n++){var e=r[n],o=e[0],s=e[1];var u=this.computeIdf(o);u>0&&(i[o]=s*u)}return i};return t}();var tct;function ict(t){var i=t;return Array.isArray(i.items)}function nct(t){var i=t;return!!i.picks&&i.additionalPicks instanceof Promise}(function(t){t[t.NO_ACTION=0]="NO_ACTION",t[t.CLOSE_PICKER=1]="CLOSE_PICKER",t[t.REFRESH_PICKER=2]="REFRESH_PICKER",t[t.REMOVE_ITEM=3]="REMOVE_ITEM"})(tct||(tct={}));var rct=function(t){__extends(i,t);function i(i,n){var r=this;r=t.call(this)||this,r.prefix=i,r.options=n;return r}i.prototype.provide=function(t,i,n){var r=this;var e;var o=new Bn;var s;t.canAcceptInBackground=!!(!((e=this.options)===null||e===void 0)&&e.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;var u=o.add(new Dn),a=function(){return __awaiter(r,void 0,void 0,(function(){var r,e,o,a,c,h,f,l,d;var v=this;return __generator(this,(function(A){switch(A.label){case 0:e=u.value=new Bn;s==null||s.dispose(!0),t.busy=!1,s=new Kn(i);o=s.token;a=t.value.substring(this.prefix.length);!((r=this.options)===null||r===void 0)&&r.shouldSkipTrimPickFilter||(a=a.trim());c=this._getPicks(a,e,o,n),h=function(i,n){var r;var e,o;if(ict(i)?(e=i.items,o=i.active):e=i,e.length===0){if(n)return!1;(a.length>0||t.hideInput)&&(!((r=v.options)===null||r===void 0)&&r.noResultsPick)&&(e=vt(v.options.noResultsPick)?[v.options.noResultsPick(a)]:[v.options.noResultsPick])}return t.items=e,o&&(t.activeItems=[o]),!0},f=function(i){return __awaiter(v,void 0,void 0,(function(){var n,r;var e=this;return __generator(this,(function(s){switch(s.label){case 0:n=!1,r=!1;return[4,Promise.all([function(){return __awaiter(e,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:t=typeof i.mergeDelay=="number";if(!t)return[3,2];return[4,Ws(i.mergeDelay)];case 1:t=(e.sent(),o.isCancellationRequested);e.label=2;case 2:t||r||(n=h(i.picks,!0));return[2]}}))}))}(),function(){return __awaiter(e,void 0,void 0,(function(){var e,s,u,a,c,f,l;return __generator(this,(function(d){switch(d.label){case 0:t.busy=!0;d.label=1;case 1:d.trys.push([1,,3,4]);return[4,i.additionalPicks];case 2:e=d.sent();if(o.isCancellationRequested)return[2];s=void 0,u=void 0,a=void 0,c=void 0;if(ict(i.picks)?(s=i.picks.items,u=i.picks.active):s=i.picks,ict(e)?(a=e.items,c=e.active):a=e,a.length>0||!n){f=void 0;if(!u&&!c){l=t.activeItems[0];l&&s.indexOf(l)!==-1&&(f=l)}h({items:__spreadArray(__spreadArray([],s,true),a,true),active:u||c||f})}return[3,4];case 3:o.isCancellationRequested||(t.busy=!1),r=!0;return[7];case 4:return[2]}}))}))}()])];case 1:s.sent();return[2]}}))}))};if(!(c!==null))return[3,11];if(!nct(c))return[3,2];return[4,f(c)];case 1:A.sent();return[3,11];case 2:if(!(c instanceof Promise))return[3,10];t.busy=!0;A.label=3;case 3:A.trys.push([3,,8,9]);return[4,c];case 4:l=A.sent();if(o.isCancellationRequested)return[2];if(!nct(l))return[3,6];return[4,f(l)];case 5:d=A.sent();return[3,7];case 6:d=h(l);A.label=7;case 7:d;return[3,9];case 8:o.isCancellationRequested||(t.busy=!1);return[7];case 9:return[3,11];case 10:h(c);A.label=11;case 11:return[2]}}))}))};o.add(t.onDidChangeValue((function(){return a()}))),a(),o.add(t.onDidAccept((function(i){var n=t.selectedItems[0];typeof(n==null?void 0:n.accept)=="function"&&(i.inBackground||t.hide(),n.accept(t.keyMods,i))})));var c=function(n,e){return __awaiter(r,void 0,void 0,(function(){var r,o,s,u,c,h,f,l,d,v,A;return __generator(this,(function(g){switch(g.label){case 0:if(typeof e.trigger!="function")return[2];s=(o=(r=e.buttons)===null||r===void 0?void 0:r.indexOf(n))!==null&&o!==void 0?o:-1;if(!(s>=0))return[3,4];u=e.trigger(s,t.keyMods);if(!(typeof u=="number"))return[3,1];h=u;return[3,3];case 1:return[4,u];case 2:h=g.sent();g.label=3;case 3:c=h;if(i.isCancellationRequested)return[2];switch(c){case tct.NO_ACTION:break;case tct.CLOSE_PICKER:t.hide();break;case tct.REFRESH_PICKER:a();break;case tct.REMOVE_ITEM:{f=t.items.indexOf(e);if(f!==-1){l=t.items.slice(),d=l.splice(f,1),v=t.activeItems.filter((function(t){return t!==d[0]})),A=t.keepScrollPosition;t.keepScrollPosition=!0,t.items=l,v&&(t.activeItems=v),t.keepScrollPosition=A}break}}g.label=4;case 4:return[2]}}))}))};return o.add(t.onDidTriggerItemButton((function(t){var i=t.button,n=t.item;return c(i,n)}))),o.add(t.onDidTriggerSeparatorButton((function(t){var i=t.button,n=t.separator;return c(i,n)}))),o};return i}(Cn);var ect,oct,sct=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},uct=function(t,i){return function(n,r){i(n,r,t)}};var act=ect=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,ect.PREFIX,i)||this,u.instantiationService=n,u.keybindingService=r,u.commandService=e,u.telemetryService=o,u.dialogService=s,u.commandsHistory=u._register(u.instantiationService.createInstance(cct)),u.options=i;return u}i.prototype._getPicks=function(t,i,n,r){return __awaiter(this,void 0,void 0,(function(){var i,e,o,s,u,a,c,h,f,l,d,v,A,g,w,p,v,m,b,y,k,x,v,m;var E=this;return __generator(this,(function(B){switch(B.label){case 0:return[4,this.getCommandPicks(n)];case 1:u=B.sent();if(n.isCancellationRequested)return[2,[]];a=bn((function(){var i=new $at;return i.updateDocuments(u.map((function(t){return{key:t.commandId,textChunks:[E.getTfIdfChunk(t)]}}))),function(t){var i,n;var r=t.slice(0);r.sort((function(t,i){return i.score-t.score}));var e=(n=(i=r[0])===null||i===void 0?void 0:i.score)!==null&&n!==void 0?n:0;if(e>0)for(var o=0,s=r;o<s.length;o++){var u=s[o];u.score/=e}return r}(i.calculateScores(t,n)).filter((function(t){return t.score>ect.TFIDF_THRESHOLD})).slice(0,ect.TFIDF_MAX_RESULTS)})),c=[];h=function(r){var o=(i=ect.WORD_FILTER(t,r.label))!==null&&i!==void 0?i:void 0,s=r.commandAlias&&(e=ect.WORD_FILTER(t,r.commandAlias))!==null&&e!==void 0?e:void 0;if(o||s)r.highlights={label:o,detail:f.options.showAlias?s:void 0},c.push(r);else if(t===r.commandId)c.push(r);else if(t.length>=3){var u=a();if(n.isCancellationRequested)return{value:[]};var h=u.find((function(t){return t.key===r.commandId}));h&&(r.tfIdfScore=h.score,c.push(r))}};f=this;for(l=0,d=u;l<d.length;l++){v=d[l];A=h(v);if(typeof A==="object")return[2,A.value]}g=new Map;for(w=0,p=c;w<p.length;w++){v=p[w];m=g.get(v.label);m?(v.description=v.commandId,m.description=m.commandId):g.set(v.label,v)}c.sort((function(t,i){if(t.tfIdfScore&&i.tfIdfScore)return t.tfIdfScore===i.tfIdfScore?t.label.localeCompare(i.label):i.tfIdfScore-t.tfIdfScore;if(t.tfIdfScore)return 1;if(i.tfIdfScore)return-1;var n=E.commandsHistory.peek(t.commandId),r=E.commandsHistory.peek(i.commandId);if(n&&r)return n>r?-1:1;if(n)return-1;if(r)return 1;if(E.options.suggestedCommandIds){var e=E.options.suggestedCommandIds.has(t.commandId),o=E.options.suggestedCommandIds.has(i.commandId);if(e&&o)return 0;if(e)return-1;if(o)return 1}return t.label.localeCompare(i.label)}));b=[];y=!1,k=!0,x=!!this.options.suggestedCommandIds;for(v=0;v<c.length;v++){m=c[v];v===0&&this.commandsHistory.peek(m.commandId)&&(b.push({type:"separator",label:Bt(0,"recently used")}),y=!0),k&&m.tfIdfScore!==void 0&&(b.push({type:"separator",label:Bt(0,"similar commands")}),k=!1),x&&m.tfIdfScore===void 0&&!this.commandsHistory.peek(m.commandId)&&(!((o=this.options.suggestedCommandIds)===null||o===void 0)&&o.has(m.commandId))&&(b.push({type:"separator",label:Bt(0,"commonly used")}),y=!0,x=!1),!y||m.tfIdfScore!==void 0||this.commandsHistory.peek(m.commandId)||!((s=this.options.suggestedCommandIds)===null||s===void 0)&&s.has(m.commandId)||(b.push({type:"separator",label:Bt(0,"other commands")}),y=!1),b.push(this.toCommandPick(m,r))}return[2,this.hasAdditionalCommandPicks(t,n)?{picks:b,additionalPicks:function(){return __awaiter(E,void 0,void 0,(function(){var i,e,o;var s=this;return __generator(this,(function(a){switch(a.label){case 0:return[4,this.getAdditionalCommandPicks(u,c,t,n)];case 1:e=a.sent();if(n.isCancellationRequested)return[2,[]];o=e.map((function(t){return s.toCommandPick(t,r)}));return[2,(k&&((i=o[0])===null||i===void 0?void 0:i.type)!=="separator"&&o.unshift({type:"separator",label:Bt(0,"similar commands")}),o)]}}))}))}()}:b]}}))}))};i.prototype.toCommandPick=function(t,i){var n=this;if(t.type==="separator")return t;var r=this.keybindingService.lookupKeybinding(t.commandId),e=r?Bt(0,"{0}, {1}",t.label,r.getAriaLabel()):t.label;return __assign(__assign({},t),{ariaLabel:e,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:r,accept:function(){return __awaiter(n,void 0,void 0,(function(){var n,r,e,o;var s;return __generator(this,(function(u){switch(u.label){case 0:this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:(n=i==null?void 0:i.from)!==null&&n!==void 0?n:"quick open"});u.label=1;case 1:u.trys.push([1,6,,7]);if(!(!((r=t.args)===null||r===void 0)&&r.length))return[3,3];return[4,(s=this.commandService).executeCommand.apply(s,__spreadArray([t.commandId],t.args,false))];case 2:e=u.sent();return[3,5];case 3:return[4,this.commandService.executeCommand(t.commandId)];case 4:e=u.sent();u.label=5;case 5:e;return[3,7];case 6:o=u.sent();dn(o)||this.dialogService.error(Bt(0,"Command '{0}' resulted in an error",t.label),Zat(o));return[3,7];case 7:return[2]}}))}))}})};i.prototype.getTfIdfChunk=function(t){var i=t.label,n=t.commandAlias,r=t.commandDescription;var e=i;return n&&n!==i&&(e+=" - ".concat(n)),r&&r.value!==i&&(e+=" - ".concat(r.value===r.original?r.value:"".concat(r.value," (").concat(r.original,")"))),e};return i}(rct);act.PREFIX=">",act.TFIDF_THRESHOLD=.5,act.TFIDF_MAX_RESULTS=5,act.WORD_FILTER=sN(uN,(function(t,i,n){if(n===void 0){n=!1}if(!i||i.length===0)return null;var r=null,e=0;for(t=t.toLowerCase(),i=i.toLowerCase();e<i.length&&(r=CN(t,i,0,e,n),r===null);)e=DN(i,e+1);return r}),cN),act=ect=sct([uct(1,fh),uct(2,vE),uct(3,Eh),uct(4,Tf),uct(5,bQ)],act);var cct=oct=function(t){__extends(i,t);function i(i,n,r){var e=this;e=t.call(this)||this,e.storageService=i,e.configurationService=n,e.logService=r,e.configuredCommandsHistoryLength=0,e.updateConfiguration(),e.load(),e.registerListeners();return e}i.prototype.registerListeners=function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration((function(i){return t.updateConfiguration(i)}))),this._register(this.storageService.onWillSaveState((function(i){i.reason===jz.SHUTDOWN&&t.saveState()})))};i.prototype.updateConfiguration=function(t){t&&!t.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=i.getConfiguredCommandHistoryLength(this.configurationService),i.cache&&i.cache.limit!==this.configuredCommandsHistoryLength&&(i.cache.limit=this.configuredCommandsHistoryLength,i.hasChanges=!0))};i.prototype.load=function(){var t=this.storageService.get(i.PREF_KEY_CACHE,0);var n;if(t)try{n=JSON.parse(t)}catch(e){this.logService.error("[CommandsHistory] invalid data: ".concat(e))}var r=i.cache=new xv(this.configuredCommandsHistoryLength,1);if(n){var e=void 0;e=n.usesLRU?n.entries:n.entries.sort((function(t,i){return t.value-i.value})),e.forEach((function(t){return r.set(t.key,t.value)}))}i.counter=this.storageService.getNumber(i.PREF_KEY_COUNTER,0,i.counter)};i.prototype.push=function(t){i.cache&&(i.cache.set(t,i.counter++),i.hasChanges=!0)};i.prototype.peek=function(t){var n;return(n=i.cache)===null||n===void 0?void 0:n.peek(t)};i.prototype.saveState=function(){if(!i.cache||!i.hasChanges)return;var t={usesLRU:!0,entries:[]};i.cache.forEach((function(i,n){return t.entries.push({key:n,value:i})})),this.storageService.store(i.PREF_KEY_CACHE,JSON.stringify(t),0,0),this.storageService.store(i.PREF_KEY_COUNTER,i.counter,0,0),i.hasChanges=!1};i.getConfiguredCommandHistoryLength=function(t){var n,r;var e=(r=(n=t.getValue().workbench)===null||n===void 0?void 0:n.commandPalette)===null||r===void 0?void 0:r.history;return typeof e=="number"?e:i.DEFAULT_COMMANDS_HISTORY_LENGTH};return i}(Cn);cct.DEFAULT_COMMANDS_HISTORY_LENGTH=50,cct.PREF_KEY_CACHE="commandPalette.mru.cache",cct.PREF_KEY_COUNTER="commandPalette.mru.counter",cct.counter=1,cct.hasChanges=!1,cct=oct=sct([uct(0,Lz),uct(1,sd),uct(2,Lf)],cct);var hct=function(t){__extends(i,t);function i(i,n,r,e,o,s){return t.call(this,i,n,r,e,o,s)||this}i.prototype.getCodeEditorCommandPicks=function(){var t=this.activeTextEditorControl;if(!t)return[];var i=[];for(var n=0,r=t.getSupportedActions();n<r.length;n++){var e=r[n];i.push({commandId:e.id,commandAlias:e.alias,label:rR(e.label)||e.id})}return i};return i}(act);var fct=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},lct=function(t,i){return function(n,r){i(n,r,t)}};var dct=function(t){__extends(i,t);function i(i,n,r,e,o,s){var u=this;u=t.call(this,{showAlias:!1},i,r,e,o,s)||this,u.codeEditorService=n;return u}Object.defineProperty(i.prototype,"activeTextEditorControl",{get:function(){var t;return(t=this.codeEditorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0},enumerable:false,configurable:true});i.prototype.getCommandPicks=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.getCodeEditorCommandPicks()]}))}))};i.prototype.hasAdditionalCommandPicks=function(){return!1};i.prototype.getAdditionalCommandPicks=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,[]]}))}))};return i}(hct);dct=fct([lct(0,fh),lct(1,dh),lct(2,vE),lct(3,Eh),lct(4,Tf),lct(5,bQ)],dct);var vct=function(t){__extends(i,t);function i(){return t.call(this,{id:i.ID,label:wL.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:hB.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})||this}i.prototype.run=function(t){t.get(ZU).quickAccess.show(dct.PREFIX)};return i}(Vf);vct.ID="editor.action.quickCommand",$f(vct),yf.as(VU).registerQuickAccessProvider({ctor:dct,prefix:dct.PREFIX,helpEntries:[{description:wL.quickCommandHelp,commandId:vct.ID}]});var Act=function(t,i,n,r){var e,o=arguments.length,s=o<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(s=(o<3?e(s):o>3?e(i,n,s):e(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},gct=function(t,i){return function(n,r){i(n,r,t)}};var wct=function(t){__extends(i,t);function i(i,n,r,e,o,s,u){return t.call(this,!0,i,n,r,e,o,s,u)||this}return i}(U3);wct=Act([gct(1,hf),gct(2,dh),gct(3,PI),gct(4,fh),gct(5,Lz),gct(6,sd)],wct),il(U3.ID,wct,4);$f(function(t){__extends(i,t);function i(){var i=this;i=t.call(this,{id:"editor.action.toggleHighContrast",label:bL.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0})||this,i._originalThemeName=null;return i}i.prototype.run=function(t,i){var n=t.get(JW),r=n.getColorTheme();zy(r.type)?(n.setTheme(this._originalThemeName||(Uy(r.type)?NW:OW)),this._originalThemeName=null):(n.setTheme(Uy(r.type)?RW:TW),this._originalThemeName=r.themeName)};return i}(Vf));var pct=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:SZ,Emitter:IZ,KeyCode:QZ,KeyMod:OZ,MarkerSeverity:jZ,MarkerTag:zZ,Position:NZ,Range:RZ,Selection:TZ,SelectionDirection:LZ,Token:HZ,Uri:UZ,editor:YZ,languages:JZ},Symbol.toStringTag,{value:"Module"}));function mct(t){return new Worker("/assets/editor.worker-Bu4SOCSe.js",{name:t==null?void 0:t.name})}function bct(t){return new Worker("/assets/json.worker-COfS93H5.js",{name:t==null?void 0:t.name})}function yct(t){return new Worker("/assets/css.worker-DPGEqLhk.js",{name:t==null?void 0:t.name})}function kct(t){return new Worker("/assets/html.worker-FARQZwxe.js",{name:t==null?void 0:t.name})}function xct(t){return new Worker("/assets/ts.worker-CbzFuCRc.js",{name:t==null?void 0:t.name})}function Ect(t){return new Worker("/assets/yaml.worker-tu3gFvVT.js",{name:t==null?void 0:t.name})}function Bct(t,i,n){var r=this;var e=new Map,o=function(t){if(i==="*")return!0;var n=t.getLanguageId();return Array.isArray(i)?i.includes(n):i===n},s=function(i){return __awaiter(r,void 0,void 0,(function(){var r,e;return __generator(this,(function(s){switch(s.label){case 0:r=i.getVersionId();return[4,n.provideMarkerData(i)];case 1:e=s.sent();r===i.getVersionId()&&!i.isDisposed()&&o(i)&&t.editor.setModelMarkers(i,n.owner,e!==null&&e!==void 0?e:[]);return[2]}}))}))},u=function(t){if(!o(t))return;var i;e.set(t,t.onDidChangeContent((function(){clearTimeout(i),i=setTimeout((function(){s(t)}),500)}))),s(t)},a=function(i){t.editor.setModelMarkers(i,n.owner,[]);var r=e.get(i);r&&(r.dispose(),e.delete(i))},c=t.editor.onDidCreateModel(u),h=t.editor.onWillDisposeModel((function(t){var i;a(t),(i=n.doReset)==null||i.call(n,t)})),f=t.editor.onDidChangeModelLanguage((function(t){var i;a(t.model),u(t.model),(i=n.doReset)==null||i.call(n,t.model)}));for(var l=0,d=t.editor.getModels();l<d.length;l++){var v=d[l];u(v)}return{dispose:function(){for(var t=0,i=e.keys();t<i.length;t++){var n=i[t];a(n)}c.dispose(),h.dispose(),f.dispose()},revalidate:function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all(t.editor.getModels().map(s))];case 1:i.sent();return[2]}}))}))}}}var Cct;(function(){var t={470:function(t){function i(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,i){for(var n,r="",e=0,o=-1,s=0,u=0;u<=t.length;++u){if(u<t.length)n=t.charCodeAt(u);else{if(n===47)break;n=47}if(n===47){if(!(o===u-1||s===1))if(o!==u-1&&s===2){if(r.length<2||e!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var a=r.lastIndexOf("/");if(a!==r.length-1){a===-1?(r="",e=0):e=(r=r.slice(0,a)).length-1-r.lastIndexOf("/"),o=u,s=0;continue}}else if(r.length===2||r.length===1){r="",e=0,o=u,s=0;continue}}i&&(r.length>0?r+="/..":r="..",e=2)}else r.length>0?r+="/"+t.slice(o+1,u):r=t.slice(o+1,u),e=u-o-1;o=u,s=0}else n===46&&s!==-1?++s:s=-1}return r}var r={resolve:function(){for(var t,r="",e=!1,o=arguments.length-1;o>=-1&&!e;o--){var s;o>=0?s=arguments[o]:(t===void 0&&(t=process.cwd()),s=t),i(s),s.length!==0&&(r=s+"/"+r,e=s.charCodeAt(0)===47)}return r=n(r,!e),e?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(i(t),t.length===0)return".";var r=t.charCodeAt(0)===47,e=t.charCodeAt(t.length-1)===47;return(t=n(t,!r)).length!==0||r||(t="."),t.length>0&&e&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return i(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var e=arguments[n];i(e),e.length>0&&(t===void 0?t=e:t+="/"+e)}return t===void 0?".":r.normalize(t)},relative:function(t,n){if(i(t),i(n),t===n||(t=r.resolve(t))===(n=r.resolve(n)))return"";for(var e=1;e<t.length&&t.charCodeAt(e)===47;++e);for(var o=t.length,s=o-e,u=1;u<n.length&&n.charCodeAt(u)===47;++u);for(var a=n.length-u,c=s<a?s:a,h=-1,f=0;f<=c;++f){if(f===c){if(a>c){if(n.charCodeAt(u+f)===47)return n.slice(u+f+1);if(f===0)return n.slice(u+f)}else s>c&&(t.charCodeAt(e+f)===47?h=f:f===0&&(h=0));break}var l=t.charCodeAt(e+f);if(l!==n.charCodeAt(u+f))break;l===47&&(h=f)}var d="";for(f=e+h+1;f<=o;++f)f!==o&&t.charCodeAt(f)!==47||(d.length===0?d+="..":d+="/..");return d.length>0?d+n.slice(u+h):(u+=h,n.charCodeAt(u)===47&&++u,n.slice(u))},_makeLong:function(t){return t},dirname:function(t){if(i(t),t.length===0)return".";for(var n=t.charCodeAt(0),r=n===47,e=-1,o=!0,s=t.length-1;s>=1;--s)if((n=t.charCodeAt(s))===47){if(!o){e=s;break}}else o=!1;return e===-1?r?"/":".":r&&e===1?"//":t.slice(0,e)},basename:function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');i(t);var r,e=0,o=-1,s=!0;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var u=n.length-1,a=-1;for(r=t.length-1;r>=0;--r){var c=t.charCodeAt(r);if(c===47){if(!s){e=r+1;break}}else a===-1&&(s=!1,a=r+1),u>=0&&(c===n.charCodeAt(u)?--u==-1&&(o=r):(u=-1,o=a))}return e===o?o=a:o===-1&&(o=t.length),t.slice(e,o)}for(r=t.length-1;r>=0;--r)if(t.charCodeAt(r)===47){if(!s){e=r+1;break}}else o===-1&&(s=!1,o=r+1);return o===-1?"":t.slice(e,o)},extname:function(t){i(t);for(var n=-1,r=0,e=-1,o=!0,s=0,u=t.length-1;u>=0;--u){var a=t.charCodeAt(u);if(a!==47)e===-1&&(o=!1,e=u+1),a===46?n===-1?n=u:s!==1&&(s=1):n!==-1&&(s=-1);else if(!o){r=u+1;break}}return n===-1||e===-1||s===0||s===1&&n===e-1&&n===r+1?"":t.slice(n,e)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,i){var n=i.dir||i.root,r=i.base||(i.name||"")+(i.ext||"");return n?n===i.root?n+r:n+"/"+r:r}(0,t)},parse:function(t){i(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var r,e=t.charCodeAt(0),o=e===47;o?(n.root="/",r=1):r=0;for(var s=-1,u=0,a=-1,c=!0,h=t.length-1,f=0;h>=r;--h)if((e=t.charCodeAt(h))!==47)a===-1&&(c=!1,a=h+1),e===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1);else if(!c){u=h+1;break}return s===-1||a===-1||f===0||f===1&&s===a-1&&s===u+1?a!==-1&&(n.base=n.name=u===0&&o?t.slice(1,a):t.slice(u,a)):(u===0&&o?(n.name=t.slice(1,s),n.base=t.slice(1,a)):(n.name=t.slice(u,s),n.base=t.slice(u,a)),n.ext=t.slice(s,a)),u>0?n.dir=t.slice(0,u-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r}},i={};function n(r){var e=i[r];if(e!==void 0)return e.exports;var o=i[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=function(t,i){for(var r in i)n.o(i,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(function(){var t;n.r(r),n.d(r,{URI:function(){return h},Utils:function(){return E}}),typeof process=="object"?t=process.platform==="win32":typeof navigator=="object"&&(t=navigator.userAgent.indexOf("Windows")>=0);var i=/^\w[\w\d+.-]*$/,e=/^\//,o=/^\/\//;function s(t,n){if(!t.scheme&&n)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(t.authority,'", path: "').concat(t.path,'", query: "').concat(t.query,'", fragment: "').concat(t.fragment,'"}'));if(t.scheme&&!i.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!e.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var u="",a="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;var h=function(){function i(t,i,n,r,e,o){if(o===void 0){o=!1}D(this,"scheme");D(this,"authority");D(this,"path");D(this,"query");D(this,"fragment");typeof t=="object"?(this.scheme=t.scheme||u,this.authority=t.authority||u,this.path=t.path||u,this.query=t.query||u,this.fragment=t.fragment||u):(this.scheme=function(t,i){return t||i?t:"file"}(t,o),this.authority=i||u,this.path=function(t,i){switch(t){case"https":case"http":case"file":i?i[0]!==a&&(i=a+i):i=a}return i}(this.scheme,n||u),this.query=r||u,this.fragment=e||u,s(this,o))}i.isUri=function(t){return t instanceof i||!!t&&typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function"};Object.defineProperty(i.prototype,"fsPath",{get:function(){return g(this,!1)},enumerable:false,configurable:true});i.prototype.with=function(t){if(!t)return this;var i=t.scheme,n=t.authority,r=t.path,e=t.query,o=t.fragment;return i===void 0?i=this.scheme:i===null&&(i=u),n===void 0?n=this.authority:n===null&&(n=u),r===void 0?r=this.path:r===null&&(r=u),e===void 0?e=this.query:e===null&&(e=u),o===void 0?o=this.fragment:o===null&&(o=u),i===this.scheme&&n===this.authority&&r===this.path&&e===this.query&&o===this.fragment?this:new l(i,n,r,e,o)};i.parse=function(t,i){if(i===void 0){i=!1}var n=c.exec(t);return n?new l(n[2]||u,b(n[4]||u),b(n[5]||u),b(n[7]||u),b(n[9]||u),i):new l(u,u,u,u,u)};i.file=function(i){var n=u;if(t&&(i=i.replace(/\\/g,a)),i[0]===a&&i[1]===a){var r=i.indexOf(a,2);r===-1?(n=i.substring(2),i=a):(n=i.substring(2,r),i=i.substring(r)||a)}return new l("file",n,i,u,u)};i.from=function(t){var i=new l(t.scheme,t.authority,t.path,t.query,t.fragment);return s(i,!0),i};i.prototype.toString=function(t){if(t===void 0){t=!1}return w(this,t)};i.prototype.toJSON=function(){return this};i.revive=function(t){if(t){if(t instanceof i)return t;{var n=new l(t);return n._formatted=t.external,n._fsPath=t._sep===f?t.fsPath:null,n}}return t};return i}();var f=t?1:void 0;var l=function(t){__extends(i,t);function i(){var i=t.apply(this,arguments)||this;D(i,"_formatted",null);D(i,"_fsPath",null);return i}Object.defineProperty(i.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=g(this,!1)),this._fsPath},enumerable:false,configurable:true});i.prototype.toString=function(t){if(t===void 0){t=!1}return t?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)};i.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=f),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t};return i}(h);var d={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(t,i,n){var r,e=-1;for(var o=0;o<t.length;o++){var s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||i&&s===47||n&&s===91||n&&s===93||n&&s===58)e!==-1&&(r+=encodeURIComponent(t.substring(e,o)),e=-1),r!==void 0&&(r+=t.charAt(o));else{r===void 0&&(r=t.substr(0,o));var u=d[s];u!==void 0?(e!==-1&&(r+=encodeURIComponent(t.substring(e,o)),e=-1),r+=u):e===-1&&(e=o)}}return e!==-1&&(r+=encodeURIComponent(t.substring(e))),r!==void 0?r:t}function A(t){var i;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);r===35||r===63?(i===void 0&&(i=t.substr(0,n)),i+=d[r]):i!==void 0&&(i+=t[n])}return i!==void 0?i:t}function g(i,n){var r;return r=i.authority&&i.path.length>1&&i.scheme==="file"?"//".concat(i.authority).concat(i.path):i.path.charCodeAt(0)===47&&(i.path.charCodeAt(1)>=65&&i.path.charCodeAt(1)<=90||i.path.charCodeAt(1)>=97&&i.path.charCodeAt(1)<=122)&&i.path.charCodeAt(2)===58?n?i.path.substr(1):i.path[1].toLowerCase()+i.path.substr(2):i.path,t&&(r=r.replace(/\//g,"\\")),r}function w(t,i){var n=i?A:v;var r="",e=t.scheme,o=t.authority,s=t.path,u=t.query,c=t.fragment;if(e&&(r+=e,r+=":"),(o||e==="file")&&(r+=a,r+=a),o){var h=o.indexOf("@");if(h!==-1){var f=o.substr(0,h);o=o.substr(h+1),h=f.lastIndexOf(":"),h===-1?r+=n(f,!1,!1):(r+=n(f.substr(0,h),!1,!1),r+=":",r+=n(f.substr(h+1),!1,!0)),r+="@"}o=o.toLowerCase(),h=o.lastIndexOf(":"),h===-1?r+=n(o,!1,!0):(r+=n(o.substr(0,h),!1,!0),r+=o.substr(h))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){var h=s.charCodeAt(1);h>=65&&h<=90&&(s="/".concat(String.fromCharCode(h+32),":").concat(s.substr(3)))}else if(s.length>=2&&s.charCodeAt(1)===58){var h=s.charCodeAt(0);h>=65&&h<=90&&(s="".concat(String.fromCharCode(h+32),":").concat(s.substr(2)))}r+=n(s,!0,!1)}return u&&(r+="?",r+=n(u,!1,!1)),c&&(r+="#",r+=i?c:v(c,!1,!1)),r}function p(t){try{return decodeURIComponent(t)}catch(i){return t.length>3?t.substr(0,3)+p(t.substr(3)):t}}var m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(t){return t.match(m)?t.replace(m,(function(t){return p(t)})):t}var y=n(470);var k=y.posix||y,x="/";var E;(function(t){t.joinPath=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return t.with({path:k.join.apply(k,__spreadArray([t.path],i,false))})},t.resolvePath=function(t){var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var r=t.path,e=!1;r[0]!==x&&(r=x+r,e=!0);var o=k.resolve.apply(k,__spreadArray([r],i,false));return e&&o[0]===x&&!t.authority&&(o=o.substring(1)),t.with({path:o})},t.dirname=function(t){if(t.path.length===0||t.path===x)return t;var i=k.dirname(t.path);return i.length===1&&i.charCodeAt(0)===46&&(i=""),t.with({path:i})},t.basename=function(t){return k.basename(t.path)},t.extname=function(t){return k.extname(t.path)}})(E||(E={}))})(),Cct=r})();var Dct=Cct.URI,Mct=Cct.Utils;function _ct(t){return t}function Fct(t){return t}function Sct(t){return{start:{line:t.startLineNumber-1,character:t.startColumn-1},end:{line:t.endLineNumber-1,character:t.endColumn-1}}}function Ict(t){return{startLineNumber:t.start.line+1,startColumn:t.start.character+1,endLineNumber:t.end.line+1,endColumn:t.end.character+1}}function Qct(t){return{location:{range:Sct(t),uri:String(t.resource)},message:t.message}}function Oct(t){return __assign(__assign({},Ict(t.location.range)),{message:t.message,resource:Dct.parse(t.location.uri)})}function Nct(t){var i={message:t.message,range:Sct(t),severity:(n=t.severity,n===8?1:n===4?2:n===2?3:4)};var n;return typeof t.code=="string"?i.code=t.code:t.code!=null&&(i.code=t.code.value,i.codeDescription={href:String(t.code.target)}),t.relatedInformation&&(i.relatedInformation=t.relatedInformation.map(Qct)),t.tags&&(i.tags=t.tags.map(_ct)),t.source!=null&&(i.source=t.source),i}function Rct(t,i){var n;var r=__assign(__assign({},Ict(t.range)),{message:t.message,severity:t.severity?(e=t.severity,e===1?8:e===2?4:e===3?2:1):(n=i==null?void 0:i.defaultSeverity)!==null&&n!==void 0?n:8});var e;return t.code!=null&&(r.code=t.codeDescription==null?String(t.code):{value:String(t.code),target:Dct.parse(t.codeDescription.href)}),t.relatedInformation&&(r.relatedInformation=t.relatedInformation.map(Oct)),t.tags&&(r.tags=t.tags.map(Fct)),t.source!=null&&(r.source=t.source),r}function Tct(t){return{range:Ict(t.range),text:t.newText}}function Lct(t){var i=t.kind==="create"?{newResource:Dct.parse(t.uri)}:t.kind==="delete"?{oldResource:Dct.parse(t.uri)}:{oldResource:Dct.parse(t.oldUri),newResource:Dct.parse(t.newUri)};return t.options&&(i.options=function(t){var i={};return t.ignoreIfExists!=null&&(i.ignoreIfExists=t.ignoreIfExists),t.ignoreIfNotExists!=null&&(i.ignoreIfNotExists=t.ignoreIfNotExists),t.overwrite!=null&&(i.overwrite=t.overwrite),t.recursive!=null&&(i.recursive=t.recursive),i}(t.options)),i}function jct(t,i,n){return{resource:Dct.parse(i),versionId:n,textEdit:Tct(t)}}function zct(t,i){var n={title:t.title,isPreferred:t.isPreferred};return t.diagnostics&&(n.diagnostics=t.diagnostics.map((function(t){return Rct(t,i)}))),t.disabled&&(n.disabled=t.disabled.reason),t.edit&&(n.edit=function(t){var i;var n=[];if(t.changes)for(var r=0,e=Object.entries(t.changes);r<e.length;r++){var o=e[r],s=o[0],u=o[1];for(var a=0,c=u;a<c.length;a++){var h=c[a];n.push(jct(h,s))}}if(t.documentChanges)for(var f=0,l=t.documentChanges;f<l.length;f++){var s=l[f];if("textDocument"in s)for(var d=0,v=s.edits;d<v.length;d++){var u=v[d];n.push(jct(u,s.textDocument.uri,(i=s.textDocument.version)!==null&&i!==void 0?i:void 0))}else n.push(Lct(s))}return{edits:n}}(t.edit)),t.isPreferred!=null&&(n.isPreferred=t.isPreferred),t.kind&&(n.kind=t.kind),n}function Uct(t){return t}function Hct(t){return{value:t.value}}function Yct(t){return{range:Ict(t.range),text:t.newText}}function Jct(t,i){var n,r,e,o,s;var u=(n=i.itemDefaults)!==null&&n!==void 0?n:{},a=(r=t.textEdit)!==null&&r!==void 0?r:u.editRange,c=(e=t.commitCharacters)!==null&&e!==void 0?e:u.commitCharacters,h=(o=t.insertTextFormat)!==null&&o!==void 0?o:u.insertTextFormat,f=(s=t.insertTextMode)!==null&&s!==void 0?s:u.insertTextMode;var l,d=t.insertText;var v;a?(l="range"in(v=a)?Ict(v.range):"insert"in v&&"replace"in v?{insert:Ict(v.insert),replace:Ict(v.replace)}:Ict(v),"newText"in a&&(d=a.newText)):l=__assign({},i.range);var A={insertText:d!==null&&d!==void 0?d:t.label,kind:t.kind==null?18:(g=t.kind,g===1?18:g===2?0:g===3?1:g===4?2:g===5?3:g===6?4:g===7?5:g===8?7:g===9?8:g===10?9:g===11?12:g===12?13:g===13?15:g===14?17:g===15?27:g===16?19:g===17?20:g===18?21:g===19?23:g===20?16:g===21?14:g===22?6:g===23?10:g===24?11:24),label:t.label,range:l};var g;return t.additionalTextEdits&&(A.additionalTextEdits=t.additionalTextEdits.map(Yct)),t.command&&(A.command=function(t){var i={title:t.title,id:t.command};return t.arguments&&(i.arguments=t.arguments),i}(t.command)),c&&(A.commitCharacters=c),t.detail!=null&&(A.detail=t.detail),typeof t.documentation=="string"?A.documentation=t.documentation:t.documentation&&(A.documentation=Hct(t.documentation)),t.filterText!=null&&(A.filterText=t.filterText),h===2?A.insertTextRules=4:f===2&&(A.insertTextRules=1),t.preselect!=null&&(A.preselect=t.preselect),t.sortText!=null&&(A.sortText=t.sortText),t.tags&&(A.tags=t.tags.map(Uct)),A}function Pct(t){return t}function Wct(t){var i,n,r;var e={detail:(i=t.detail)!==null&&i!==void 0?i:"",kind:(o=t.kind,o===1?0:o===2?1:o===3?2:o===4?3:o===5?4:o===6?5:o===7?6:o===8?7:o===9?8:o===10?9:o===11?10:o===12?11:o===13?12:o===14?13:o===15?14:o===16?15:o===17?16:o===18?17:o===19?18:o===20?19:o===21?20:o===22?21:o===23?22:o===24?23:o===25?24:25),name:t.name,range:Ict(t.range),selectionRange:Ict(t.selectionRange),tags:(r=(n=t.tags)===null||n===void 0?void 0:n.map(Pct))!==null&&r!==void 0?r:[]};var o;return t.children&&(e.children=t.children.map(Wct)),e}function Gct(t){var i={start:t.startLine+1,end:t.endLine+1};return t.kind!=null&&(i.kind={value:t.kind}),i}function Vct(t){return typeof t=="string"?{value:t}:{value:"```".concat(t.language,"\n").concat(t.value,"\n```")}}function Kct(t){return{character:t.column-1,line:t.lineNumber-1}}function Xct(t){var i={range:Ict(t.range)};return t.tooltip!=null&&(i.tooltip=t.tooltip),t.target!=null&&(i.url=Dct.parse(t.target)),i}function qct(t){var i={range:Ict(t.targetRange),targetSelectionRange:Ict(t.targetSelectionRange),uri:Dct.parse(t.targetUri)};return t.originSelectionRange&&(i.originSelectionRange=Ict(t.originSelectionRange)),i}function Zct(t){return{owner:"yaml",provideMarkerData:function(i){return __awaiter(this,void 0,void 0,(function(){var n,r;return __generator(this,(function(e){switch(e.label){case 0:return[4,t(i.uri)];case 1:n=e.sent();return[4,n.doValidation(String(i.uri))];case 2:r=e.sent();return[2,r==null?void 0:r.map((function(t){return Rct(t)}))]}}))}))},doReset:function(i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,t(i.uri)];case 1:return[4,n.sent().resetSchema(String(i.uri))];case 2:n.sent();return[2]}}))}))}}}function $ct(t){return{triggerCharacters:[" ",":"],provideCompletionItems:function(i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o,s,u,a;return __generator(this,(function(c){switch(c.label){case 0:r=i.uri,e=i.getWordUntilPosition(n);return[4,t(r)];case 1:o=c.sent();return[4,o.doComplete(String(r),Kct(n))];case 2:s=c.sent();if(s)return[2,(u=s,a={range:{startLineNumber:n.lineNumber,startColumn:e.startColumn,endLineNumber:n.lineNumber,endColumn:e.endColumn}},{incomplete:!!u.isIncomplete,suggestions:u.items.map((function(t){return Jct(t,{range:a.range,itemDefaults:u.itemDefaults})}))})];return[2]}}))}))}}}function tht(t){return{provideDefinition:function(i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o;return __generator(this,(function(s){switch(s.label){case 0:r=i.uri;return[4,t(r)];case 1:e=s.sent();return[4,e.doDefinition(String(r),Kct(n))];case 2:o=s.sent();return[2,o==null?void 0:o.map(qct)]}}))}))}}}function iht(t){return{provideHover:function(i,n){return __awaiter(this,void 0,void 0,(function(){var r,e,o;return __generator(this,(function(s){switch(s.label){case 0:r=i.uri;return[4,t(r)];case 1:e=s.sent();return[4,e.doHover(String(r),Kct(n))];case 2:o=s.sent();if(o)return[2,function(t){var i={contents:(n=t.contents,typeof n=="string"||"language"in n?[Vct(n)]:Array.isArray(n)?n.map(Vct):[Hct(n)])};var n;return t.range&&(i.range=Ict(t.range)),i}(o)];return[2]}}))}))}}}function nht(t){return{displayName:"yaml",provideDocumentSymbols:function(i){return __awaiter(this,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:n=i.uri;return[4,t(n)];case 1:r=o.sent();return[4,r.findDocumentSymbols(String(n))];case 2:e=o.sent();return[2,e==null?void 0:e.map(Wct)]}}))}))}}}function rht(t){return{displayName:"yaml",provideDocumentFormattingEdits:function(i){return __awaiter(this,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:n=i.uri;return[4,t(n)];case 1:r=o.sent();return[4,r.format(String(n))];case 2:e=o.sent();return[2,e==null?void 0:e.map(Tct)]}}))}))}}}function eht(t){return{provideLinks:function(i){return __awaiter(this,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:n=i.uri;return[4,t(n)];case 1:r=o.sent();return[4,r.findLinks(String(n))];case 2:e=o.sent();if(e)return[2,{links:e.map(Xct)}];return[2]}}))}))}}}function oht(t){return{provideCodeActions:function(i,n,r){return __awaiter(this,void 0,void 0,(function(){var e,o,s;return __generator(this,(function(u){switch(u.label){case 0:e=i.uri;return[4,t(e)];case 1:o=u.sent();return[4,o.getCodeAction(String(e),Sct(n),function(t){var i={diagnostics:t.markers.map(Nct),triggerKind:t.trigger};return t.only!=null&&(i.only=[t.only]),i}(r))];case 2:s=u.sent();if(s)return[2,{actions:s.map((function(t){return zct(t)})),dispose:function(){}}];return[2]}}))}))}}}function sht(t){return{provideFoldingRanges:function(i){return __awaiter(this,void 0,void 0,(function(){var n,r,e;return __generator(this,(function(o){switch(o.label){case 0:n=i.uri;return[4,t(n)];case 1:r=o.sent();return[4,r.getFoldingRanges(String(n))];case 2:e=o.sent();return[2,e==null?void 0:e.map(Gct)]}}))}))}}}function uht(t,i){var n=__assign({completion:!0,customTags:[],enableSchemaRequest:!1,format:!0,isKubernetes:!1,hover:!0,schemas:[],validate:!0,yamlVersion:"1.2"},i);t.languages.register({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]});var r=function(t,i){var n,r=i.createData,e=i.interval,o=e===void 0?3e4:e,s=i.label,u=i.moduleId,a=i.stopWhenIdleFor,c=a===void 0?12e4:a,h=0,f=!1;var l=function(){n&&(n.dispose(),n=void 0)},d=setInterval((function(){n&&Date.now()-h>c&&l()}),o);return{dispose:function(){f=!0,clearInterval(d),l()},getWorker:function(){var i=[];for(var e=0;e<arguments.length;e++){i[e]=arguments[e]}if(f)throw new Error("Worker manager has been disposed");return h=Date.now(),n||(n=t.editor.createWebWorker({createData:r,label:s,moduleId:u})),n.withSyncedResources(i)},updateCreateData:function(t){r=t,l()}}}(t,{label:"yaml",moduleId:"monaco-yaml/yaml.worker",createData:n});var e=Bct(t,"yaml",Zct(r.getWorker));var o=[r,t.languages.registerCompletionItemProvider("yaml",$ct(r.getWorker)),t.languages.registerHoverProvider("yaml",iht(r.getWorker)),t.languages.registerDefinitionProvider("yaml",tht(r.getWorker)),t.languages.registerDocumentSymbolProvider("yaml",nht(r.getWorker)),t.languages.registerDocumentFormattingEditProvider("yaml",rht(r.getWorker)),t.languages.registerLinkProvider("yaml",eht(r.getWorker)),t.languages.registerCodeActionProvider("yaml",oht(r.getWorker)),t.languages.registerFoldingRangeProvider("yaml",sht(r.getWorker)),t.languages.setLanguageConfiguration("yaml",{comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:t.languages.IndentAction.Indent}}]})];return{dispose:function(){for(var t=0,i=o;t<i.length;t++){var n=i[t];n.dispose()}e.dispose()},update:function(i){r.updateCreateData(Object.assign(n,i)),e.dispose(),e=Bct(t,"yaml",Zct(r.getWorker))}}}self.MonacoEnvironment={getWorker:function(t,i){return i==="json"?new bct:i==="css"||i==="scss"||i==="less"?new yct:i==="html"||i==="handlebars"||i==="razor"?new kct:i==="typescript"||i==="javascript"?new xct:i==="yaml"?new Ect:new mct}};var aht='@charset "UTF-8";.monaco-editor{font-family:-apple-system, BlinkMacSystemFont, Segoe WPC, Segoe UI, HelveticaNeue-Light, system-ui, Ubuntu, Droid Sans, sans-serif;--monaco-monospace-font:"SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono",\n    "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace}.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute !important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px, 1px, 1px, 1px);-webkit-clip-path:inset(50%);clip-path:inset(50%)}.monaco-editor,.monaco-diff-editor .synthetic-focus,.monaco-diff-editor [tabindex="0"]:focus,.monaco-diff-editor [tabindex="-1"]:focus,.monaco-diff-editor button:focus,.monaco-diff-editor input[type=button]:focus,.monaco-diff-editor input[type=checkbox]:focus,.monaco-diff-editor input[type=search]:focus,.monaco-diff-editor input[type=text]:focus,.monaco-diff-editor select:focus,.monaco-diff-editor textarea:focus{outline-width:1px;outline-style:solid;outline-offset:-1px;outline-color:var(--vscode-focusBorder);opacity:1}.monaco-aria-container{position:absolute;left:-999em}::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%;color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background)}.monaco-editor-background{background-color:var(--vscode-editor-background)}.monaco-editor .rangeHighlight{background-color:var(--vscode-editor-rangeHighlightBackground);-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-editor-rangeHighlightBorder)}.monaco-editor.hc-black .rangeHighlight,.monaco-editor.hc-light .rangeHighlight{border-style:dotted}.monaco-editor .symbolHighlight{background-color:var(--vscode-editor-symbolHighlightBackground);-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-editor-symbolHighlightBorder)}.monaco-editor.hc-black .symbolHighlight,.monaco-editor.hc-light .symbolHighlight{border-style:dotted}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .view-overlays>div,.monaco-editor .margin-view-overlays>div{position:absolute;width:100%}.monaco-editor .view-overlays>div>div,.monaco-editor .margin-view-overlays>div>div{bottom:0}.monaco-editor .squiggly-error{border-bottom:4px double var(--vscode-editorError-border)}.monaco-editor .squiggly-error:before{display:block;content:"";width:100%;height:100%;background:var(--vscode-editorError-background)}.monaco-editor .squiggly-warning{border-bottom:4px double var(--vscode-editorWarning-border)}.monaco-editor .squiggly-warning:before{display:block;content:"";width:100%;height:100%;background:var(--vscode-editorWarning-background)}.monaco-editor .squiggly-info{border-bottom:4px double var(--vscode-editorInfo-border)}.monaco-editor .squiggly-info:before{display:block;content:"";width:100%;height:100%;background:var(--vscode-editorInfo-background)}.monaco-editor .squiggly-hint{border-bottom:2px dotted var(--vscode-editorHint-border)}.monaco-editor.showUnused .squiggly-unnecessary{border-bottom:2px dashed var(--vscode-editorUnnecessaryCode-border)}.monaco-editor.showDeprecated .squiggly-inline-deprecated{text-decoration:line-through;-webkit-text-decoration-color:var(--vscode-editor-foreground, inherit);text-decoration-color:var(--vscode-editor-foreground, inherit)}.monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px !important}.monaco-scrollable-element>.visible{opacity:1;background:rgba(0, 0, 0, 0);-webkit-transition:opacity 0.1s linear;transition:opacity 0.1s linear;z-index:11}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{-webkit-transition:opacity 0.8s linear;transition:opacity 0.8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;-webkit-box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;-webkit-box-shadow:var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.monaco-scrollable-element>.shadow.top.left{-webkit-box-shadow:var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset}.monaco-scrollable-element>.scrollbar>.slider{background:var(--vscode-scrollbarSlider-background)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-scrollable-element>.scrollbar>.slider.active{background:var(--vscode-scrollbarSlider-activeBackground)}.monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none !important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent;z-index:-10}.monaco-editor .inputarea.ime-input{z-index:10;caret-color:var(--vscode-editorCursor-foreground);color:var(--vscode-editor-foreground)}.monaco-editor .margin-view-overlays .line-numbers{bottom:0;font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:default}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor .line-numbers{color:var(--vscode-editorLineNumber-foreground)}.monaco-editor .line-numbers.active-line-number{color:var(--vscode-editorLineNumber-activeForeground)}.monaco-editor .margin{background-color:var(--vscode-editorGutter-background)}.monaco-mouse-cursor-text{cursor:text}.monaco-editor .blockDecorations-container{position:absolute;top:0;pointer-events:none}.monaco-editor .blockDecorations-block{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-editor .view-overlays .current-line,.monaco-editor .margin-view-overlays .current-line{display:block;position:absolute;left:0;top:0;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}.monaco-editor .lines-content .cdr{position:absolute;height:100%}.monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .glyph-margin-widgets .cgmr{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin:before{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.monaco-editor .lines-content .core-guide{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%}.mtkcontrol{color:#fff !important;background:#960000 !important}.mtkoverflow{background-color:var(--vscode-button-background, var(--vscode-editor-background));color:var(--vscode-button-foreground, var(--vscode-editor-foreground));border-width:1px;border-style:solid;border-color:var(--vscode-contrastBorder);border-radius:2px;padding:4px;cursor:pointer}.mtkoverflow:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.monaco-editor.mac .lines-content:hover,.monaco-editor.mac .view-line:hover,.monaco-editor.mac .view-lines:hover{-moz-user-select:text;user-select:text;-webkit-user-select:text;-ms-user-select:text}.monaco-editor.enable-user-select{-moz-user-select:initial;-ms-user-select:initial;user-select:initial;-webkit-user-select:initial}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .lines-content>.view-lines>.view-line>span{top:0;bottom:0;position:absolute}.monaco-editor .mtkw{color:var(--vscode-editorWhitespace-foreground) !important}.monaco-editor .mtkz{display:inline-block;color:var(--vscode-editorWhitespace-foreground) !important}.monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}.monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}.monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;-webkit-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.monaco-editor .minimap.slider-mouseover:hover .minimap-slider,.monaco-editor .minimap.slider-mouseover .minimap-slider.active{opacity:1}.monaco-editor .minimap-slider .minimap-slider-horizontal{background:var(--vscode-minimapSlider-background)}.monaco-editor .minimap-slider:hover .minimap-slider-horizontal{background:var(--vscode-minimapSlider-hoverBackground)}.monaco-editor .minimap-slider.active .minimap-slider-horizontal{background:var(--vscode-minimapSlider-activeBackground)}.monaco-editor .minimap-shadow-visible{-webkit-box-shadow:var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}.minimap.autohide{opacity:0;-webkit-transition:opacity 0.5s;transition:opacity 0.5s}.minimap.autohide:hover{opacity:1}.monaco-editor .minimap{z-index:5}.monaco-editor .overlayWidgets{position:absolute;top:0;left:0}.monaco-editor .view-ruler{position:absolute;top:0;-webkit-box-shadow:1px 0 0 0 var(--vscode-editorRuler-foreground) inset;box-shadow:1px 0 0 0 var(--vscode-editorRuler-foreground) inset}.monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px;-webkit-box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset}.monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .focused .selected-text{background-color:var(--vscode-editor-selectionBackground)}.monaco-editor .selected-text{background-color:var(--vscode-editor-inactiveSelectionBackground)}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor.hc-light .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-light .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-light .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-light .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{-webkit-transition:all 80ms;transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{background:transparent !important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent !important}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent !important}@-webkit-keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@-webkit-keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@-webkit-keyframes monaco-cursor-expand{0%,20%{-webkit-transform:scaleY(1);transform:scaleY(1)}80%,to{-webkit-transform:scaleY(0);transform:scaleY(0)}}@keyframes monaco-cursor-expand{0%,20%{-webkit-transform:scaleY(1);transform:scaleY(1)}80%,to{-webkit-transform:scaleY(0);transform:scaleY(0)}}.cursor-smooth{-webkit-animation:monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;animation:monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate}.cursor-phase{-webkit-animation:monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;animation:monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{-webkit-animation:monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;animation:monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate}.monaco-editor .mwh{position:absolute;color:var(--vscode-editorWhitespace-foreground) !important}.monaco-workbench .workbench-hover{position:relative;font-size:13px;line-height:19px;z-index:40;overflow:hidden;max-width:700px;background:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);border-radius:3px;color:var(--vscode-editorHoverWidget-foreground);-webkit-box-shadow:0 2px 8px var(--vscode-widget-shadow);box-shadow:0 2px 8px var(--vscode-widget-shadow)}.monaco-workbench .workbench-hover hr{border-bottom:none}.monaco-workbench .workbench-hover:not(.skip-fade-in){-webkit-animation:fadein 0.1s linear;animation:fadein 0.1s linear}.monaco-workbench .workbench-hover.compact{font-size:12px}.monaco-workbench .workbench-hover.compact .hover-contents{padding:2px 8px}.monaco-workbench .workbench-hover-container.locked .workbench-hover{outline:1px solid var(--vscode-editorHoverWidget-border)}.monaco-workbench .workbench-hover-container.locked .workbench-hover:focus,.monaco-workbench .workbench-hover-lock:focus{outline:1px solid var(--vscode-focusBorder)}.monaco-workbench .workbench-hover-container.locked .workbench-hover-lock:hover{background:var(--vscode-toolbar-hoverBackground)}.monaco-workbench .workbench-hover-pointer{position:absolute;z-index:41;pointer-events:none}.monaco-workbench .workbench-hover-pointer:after{content:"";position:absolute;width:5px;height:5px;background-color:var(--vscode-editorHoverWidget-background);border-right:1px solid var(--vscode-editorHoverWidget-border);border-bottom:1px solid var(--vscode-editorHoverWidget-border)}.monaco-workbench .locked .workbench-hover-pointer:after{width:4px;height:4px;border-right-width:2px;border-bottom-width:2px}.monaco-workbench .workbench-hover-pointer.left{left:-3px}.monaco-workbench .workbench-hover-pointer.right{right:3px}.monaco-workbench .workbench-hover-pointer.top{top:-3px}.monaco-workbench .workbench-hover-pointer.bottom{bottom:3px}.monaco-workbench .workbench-hover-pointer.left:after{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.monaco-workbench .workbench-hover-pointer.right:after{-webkit-transform:rotate(315deg);transform:rotate(315deg)}.monaco-workbench .workbench-hover-pointer.top:after{-webkit-transform:rotate(225deg);transform:rotate(225deg)}.monaco-workbench .workbench-hover-pointer.bottom:after{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.monaco-workbench .workbench-hover a{color:var(--vscode-textLink-foreground)}.monaco-workbench .workbench-hover a:focus{outline:1px solid;outline-offset:-1px;text-decoration:underline;outline-color:var(--vscode-focusBorder)}.monaco-workbench .workbench-hover a:hover,.monaco-workbench .workbench-hover a:active{color:var(--vscode-textLink-activeForeground)}.monaco-workbench .workbench-hover code{background:var(--vscode-textCodeBlock-background)}.monaco-workbench .workbench-hover .hover-row .actions{background:var(--vscode-editorHoverWidget-statusBarBackground)}.monaco-workbench .workbench-hover.right-aligned{left:1px}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions .action-container{margin-right:0;margin-left:16px}.monaco-hover{cursor:default;position:absolute;overflow:hidden;-moz-user-select:text;-ms-user-select:text;user-select:text;-webkit-user-select:text;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:fadein 0.1s linear;animation:fadein 0.1s linear;line-height:1.5em;white-space:var(--vscode-hover-whiteSpace, normal)}.monaco-hover.hidden{display:none}.monaco-hover a:hover:not(.disabled){cursor:pointer}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:var(--vscode-hover-maxWidth, 500px);word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover p,.monaco-hover .code,.monaco-hover ul,.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{margin:8px 0}.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{line-height:1.1}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{-webkit-box-sizing:border-box;box-sizing:border-box;border-left:0px;border-right:0px;margin:4px -8px -4px;height:1px}.monaco-hover p:first-child,.monaco-hover .code:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover p:last-child,.monaco-hover .code:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ul,.monaco-hover ol{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 0.4em}.monaco-hover .monaco-tokenized-source{white-space:var(--vscode-hover-sourceWhiteSpace, pre-wrap)}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .info{font-style:italic;padding:0 8px}.monaco-hover .hover-row.status-bar .actions{display:-ms-flexbox;display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link:hover,.monaco-hover .hover-contents a.code-link{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under;color:var(--vscode-textLink-foreground)}.monaco-hover .hover-contents a.code-link>span:hover{color:var(--vscode-textLink-activeForeground)}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:0.4;cursor:default}.monaco-editor .rendered-markdown kbd{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-radius:3px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);-webkit-box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);vertical-align:middle;padding:1px 3px}.rendered-markdown li:has(input[type=checkbox]){list-style-type:none}.context-view{position:absolute}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;color:inherit}.monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;-ms-touch-action:none;touch-action:none}.monaco-list .monaco-scrollable-element>.scrollbar.vertical,.monaco-pane-view>.monaco-split-view2.vertical>.monaco-scrollable-element>.scrollbar.vertical{z-index:14}.monaco-list-row.scrolling{display:none !important}.monaco-list.element-focused,.monaco-list.selection-single,.monaco-list.selection-multiple{outline:0 !important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter-message{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:0.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-select-box-dropdown-padding{--dropdown-padding-top:1px;--dropdown-padding-bottom:1px}.hc-black .monaco-select-box-dropdown-padding,.hc-light .monaco-select-box-dropdown-padding{--dropdown-padding-top:3px;--dropdown-padding-bottom:4px}.monaco-select-box-dropdown-container{display:none;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown *{margin:0}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown code{line-height:15px;font-family:var(--monaco-monospace-font)}.monaco-select-box-dropdown-container.visible{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;text-align:left;width:1px;overflow:hidden;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container{-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-item-align:start;align-self:flex-start;padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom);padding-left:1px;padding-right:1px;width:100%;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-select-box-dropdown-container>.select-box-details-pane{padding:5px}.hc-black .monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom)}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row{cursor:pointer}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-text{text-overflow:ellipsis;overflow:hidden;padding-left:3.5px;white-space:nowrap;float:left}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-detail{text-overflow:ellipsis;overflow:hidden;padding-left:3.5px;white-space:nowrap;float:left;opacity:0.7}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-decorator-right{text-overflow:ellipsis;overflow:hidden;padding-right:10px;white-space:nowrap;float:right}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.visually-hidden{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control{-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-item-align:start;align-self:flex-start;opacity:0}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div{overflow:hidden;max-height:0px}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div>.option-text-width-control{padding-left:4px;padding-right:8px;white-space:nowrap}.monaco-select-box{width:100%;cursor:pointer;border-radius:2px}.monaco-select-box-dropdown-container{font-size:13px;font-weight:400;text-transform:none}.monaco-action-bar .action-item.select-container{cursor:default}.monaco-action-bar .action-item .monaco-select-box{cursor:pointer;min-width:100px;min-height:18px;padding:2px 23px 2px 8px}.mac .monaco-action-bar .action-item .monaco-select-box{font-size:11px;border-radius:5px}.monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:-ms-flexbox;display:flex;margin:0 auto;padding:0;height:100%;width:100%;-ms-flex-align:center;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .icon,.monaco-action-bar .action-item .codicon{display:block}.monaco-action-bar .action-item .codicon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{display:-ms-flexbox;display:flex;font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{color:var(--vscode-disabledForeground)}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:0.8em;margin-right:0.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px !important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;-ms-flex:1;flex:1;max-width:170px;min-width:60px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:-ms-flexbox;display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;cursor:default}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator>div{width:1px}.monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:-ms-flexbox !important;display:flex !important;-ms-flex-direction:row;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:center center;background-repeat:no-repeat}.monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-dropdown-with-default{display:-ms-flexbox !important;display:flex !important;-ms-flex-direction:row;flex-direction:row;border-radius:5px}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-dropdown-with-default:hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:center center;background-repeat:no-repeat}.quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.hc-light .quick-input-widget .monaco-highlighted-label .highlight{color:#0f4a85}.monaco-keybinding>.monaco-keybinding-key{background-color:rgba(221, 221, 221, 0.4);border:solid 1px rgba(204, 204, 204, 0.4);border-bottom-color:rgba(187, 187, 187, 0.4);-webkit-box-shadow:inset 0 -1px rgba(187, 187, 187, 0.4);box-shadow:inset 0 -1px rgba(187, 187, 187, 0.4);color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:solid 1px rgb(111, 195, 223);-webkit-box-shadow:none;box-shadow:none;color:#fff}.hc-light .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:solid 1px #0f4a85;-webkit-box-shadow:none;box-shadow:none;color:#292929}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:rgba(128, 128, 128, 0.168627451);border:solid 1px rgba(51, 51, 51, 0.6);border-bottom-color:rgba(68, 68, 68, 0.6);-webkit-box-shadow:inset 0 -1px rgba(68, 68, 68, 0.6);box-shadow:inset 0 -1px rgba(68, 68, 68, 0.6);color:#ccc}.monaco-custom-toggle{margin-left:2px;float:left;cursor:pointer;overflow:hidden;width:20px;height:20px;border-radius:3px;border:1px solid transparent;padding:1px;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.monaco-custom-toggle:hover{background-color:var(--vscode-inputOption-hoverBackground)}.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{border:1px dashed var(--vscode-focusBorder)}.hc-black .monaco-custom-toggle,.hc-light .monaco-custom-toggle,.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{background:none}.monaco-custom-toggle.monaco-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px !important}.monaco-action-bar .checkbox-action-item{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.monaco-action-bar .checkbox-action-item>.monaco-custom-toggle.monaco-checkbox{margin-right:4px}.monaco-action-bar .checkbox-action-item>.checkbox-label{font-size:12px}.monaco-custom-toggle.monaco-checkbox:not(.checked):before{visibility:hidden}.quick-input-widget{position:absolute;width:600px;z-index:2550;left:50%;margin-left:-300px;-webkit-app-region:no-drag;border-radius:6px}.quick-input-titlebar{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-radius:inherit}.quick-input-left-action-bar{display:-ms-flexbox;display:flex;margin-left:4px;-ms-flex:1;flex:1}.quick-input-title{padding:3px 0;text-align:center;text-overflow:ellipsis;overflow:hidden}.quick-input-right-action-bar{display:-ms-flexbox;display:flex;margin-right:4px;-ms-flex:1;flex:1}.quick-input-right-action-bar>.actions-container{-ms-flex-pack:end;justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:center;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px 6px 6px 11px}.quick-input-header .quick-input-description{margin:4px 2px;-ms-flex:1;flex:1}.quick-input-header{display:-ms-flexbox;display:flex;padding:8px 6px 2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;min-width:0;position:relative}.quick-input-check-all{-ms-flex-item-align:center;align-self:center;margin:0}.quick-input-filter{-ms-flex-positive:1;flex-grow:1;display:-ms-flexbox;display:flex;position:relative}.quick-input-box{-ms-flex-positive:1;flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{-ms-flex-item-align:center;align-self:center;position:absolute;right:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:-ms-flexbox;display:flex;height:25px;-ms-flex-align:center;align-items:center}.quick-input-message{margin-top:-1px;padding:5px;overflow-wrap:break-word}.quick-input-message>.codicon{margin:0 0.2em;vertical-align:text-bottom}.quick-input-message a{color:inherit}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-list{line-height:22px}.quick-input-widget.hidden-input .quick-input-list{margin-top:4px;padding-bottom:4px}.quick-input-list .monaco-list{overflow:hidden;max-height:440px;padding-bottom:5px}.quick-input-list .monaco-scrollable-element{padding:0 5px}.quick-input-list .quick-input-list-entry{-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-ms-flexbox;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row{border-radius:3px}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:-ms-flexbox;display:flex;height:100%;-ms-flex:1;flex:1}.quick-input-list .quick-input-list-checkbox{-ms-flex-item-align:center;align-self:center;margin:0}.quick-input-list .quick-input-list-icon{background-size:16px;background-position:left center;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%;-ms-flex:1;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{-ms-flex:1;flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label>span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:0.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-list .monaco-list-row .monaco-highlighted-label .highlight{font-weight:700;background-color:unset;color:var(--vscode-list-highlightForeground) !important}.quick-input-list .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight{color:var(--vscode-list-focusHighlightForeground) !important}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:4px}.quick-input-list .quick-input-list-entry-action-bar{display:-ms-flexbox;display:flex;-ms-flex:0;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px}.quick-input-list .quick-input-list-entry-action-bar{margin-right:4px}.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry.focus-inside .quick-input-list-entry-action-bar .action-label,.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .monaco-list-row.passive-focused .quick-input-list-entry-action-bar .action-label{display:-ms-flexbox;display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}.quick-input-list .quick-input-list-separator-as-item{padding:4px 6px;font-size:12px}.quick-input-list .quick-input-list-separator-as-item .label-name{font-weight:600}.quick-input-list .quick-input-list-separator-as-item .label-description{opacity:1 !important}.quick-input-list .monaco-tree-sticky-row .quick-input-list-entry.quick-input-list-separator-as-item.quick-input-list-separator-border{border-top-style:none}.quick-input-list .monaco-tree-sticky-row{padding:0 5px}.quick-input-list .monaco-tl-twistie{display:none !important}:root{--vscode-sash-size:4px;--vscode-sash-hover-size:4px}.monaco-sash{position:absolute;z-index:35;-ms-touch-action:none;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default !important;pointer-events:none !important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--vscode-sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--vscode-sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--vscode-sash-size) * 2);width:calc(var(--vscode-sash-size) * 2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--vscode-sash-size) * -0.5);top:calc(var(--vscode-sash-size) * -1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--vscode-sash-size) * -0.5);bottom:calc(var(--vscode-sash-size) * -1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--vscode-sash-size) * -0.5);left:calc(var(--vscode-sash-size) * -1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--vscode-sash-size) * -0.5);right:calc(var(--vscode-sash-size) * -1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;background:transparent}.monaco-workbench:not(.reduce-motion) .monaco-sash:before{-webkit-transition:background-color 0.1s ease-out;transition:background-color 0.1s ease-out}.monaco-sash.hover:before,.monaco-sash.active:before{background:var(--vscode-sash-hoverBorder)}.monaco-sash.vertical:before{width:var(--vscode-sash-hover-size);left:calc(50% - var(--vscode-sash-hover-size) / 2)}.monaco-sash.horizontal:before{height:var(--vscode-sash-hover-size);top:calc(50% - var(--vscode-sash-hover-size) / 2)}.pointer-events-disabled{pointer-events:none !important}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:rgba(0, 255, 255, 0.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:initial}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:initial;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}.monaco-table{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap;overflow:hidden}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{-ms-flex:1;flex:1}.monaco-table-tr{display:-ms-flexbox;display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-th,.monaco-table-td{-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--vscode-sash-size) / 2);width:0;border-left:1px solid transparent}.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2,.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{-webkit-transition:border-color 0.2s ease-out;transition:border-color 0.2s ease-out}.monaco-inputbox{position:relative;display:block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:2px;font-size:inherit}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px 6px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}.monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls,.hc-light .monaco-findInput.highlight-0 .controls{-webkit-animation:monaco-findInput-highlight-0 0.1s linear 0s;animation:monaco-findInput-highlight-0 0.1s linear 0s}.monaco-findInput.highlight-1 .controls,.hc-light .monaco-findInput.highlight-1 .controls{-webkit-animation:monaco-findInput-highlight-1 0.1s linear 0s;animation:monaco-findInput-highlight-1 0.1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{-webkit-animation:monaco-findInput-highlight-dark-0 0.1s linear 0s;animation:monaco-findInput-highlight-dark-0 0.1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{-webkit-animation:monaco-findInput-highlight-dark-1 0.1s linear 0s;animation:monaco-findInput-highlight-dark-1 0.1s linear 0s}@-webkit-keyframes monaco-findInput-highlight-0{0%{background:rgba(253, 255, 0, 0.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253, 255, 0, 0.8)}to{background:transparent}}@-webkit-keyframes monaco-findInput-highlight-1{0%{background:rgba(253, 255, 0, 0.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253, 255, 0, 0.8)}99%{background:transparent}}@-webkit-keyframes monaco-findInput-highlight-dark-0{0%{background:rgba(255, 255, 255, 0.4392156863)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:rgba(255, 255, 255, 0.4392156863)}to{background:transparent}}@-webkit-keyframes monaco-findInput-highlight-dark-1{0%{background:rgba(255, 255, 255, 0.4392156863)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:rgba(255, 255, 255, 0.4392156863)}99%{background:transparent}}.monaco-tl-row{display:-ms-flexbox;display:flex;height:100%;-ms-flex-align:center;align-items:center;position:relative}.monaco-tl-row.disabled{cursor:default}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;border-left:1px solid transparent}.monaco-workbench:not(.reduce-motion) .monaco-tl-indent>.indent-guide{-webkit-transition:border-color 0.1s linear;transition:border-color 0.1s linear}.monaco-tl-twistie,.monaco-tl-contents{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;-ms-flex-negative:0;flex-shrink:0;width:16px;display:-ms-flexbox !important;display:flex !important;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-transform:translate(3px);transform:translate(3px)}.monaco-tl-contents{-ms-flex:1;flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{-webkit-animation:codicon-spin 1.25s steps(30) infinite;animation:codicon-spin 1.25s steps(30) infinite}.monaco-tree-type-filter{position:absolute;top:0;display:-ms-flexbox;display:flex;padding:3px;max-width:200px;z-index:100;margin:0 6px;border:1px solid var(--vscode-widget-border);border-bottom-left-radius:4px;border-bottom-right-radius:4px}.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter{-webkit-transition:top 0.3s;transition:top 0.3s}.monaco-tree-type-filter.disabled{top:-40px !important}.monaco-tree-type-filter-grab{display:-ms-flexbox !important;display:flex !important;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:-webkit-grab;cursor:grab;margin-right:2px}.monaco-tree-type-filter-grab.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.monaco-tree-type-filter-input{-ms-flex:1;flex:1}.monaco-tree-type-filter-input .monaco-inputbox{height:23px}.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.input,.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.mirror{padding:2px 4px}.monaco-tree-type-filter-input .monaco-findInput>.controls{top:2px}.monaco-tree-type-filter-actionbar{margin-left:4px}.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label{padding:2px}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container{position:absolute;top:0;left:0;width:100%;height:0;z-index:13;background-color:var(--vscode-sideBar-background)}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row.monaco-list-row{position:absolute;width:100%;opacity:1 !important;overflow:hidden;background-color:var(--vscode-sideBar-background)}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row:hover{background-color:var(--vscode-list-hoverBackground) !important;cursor:pointer}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty,.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty .monaco-tree-sticky-container-shadow{display:none}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow{position:absolute;bottom:-3px;left:0;height:3px;width:100%;-webkit-box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container[tabindex="0"]:focus{outline:none}.monaco-icon-label{display:-ms-flexbox;display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:left center;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit !important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;-ms-flex-negative:0;flex-shrink:0}.monaco-icon-label-container.disabled{color:var(--vscode-disabledForeground)}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;-ms-flex:1;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:0.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-suffix-container>.label-suffix{opacity:0.7;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:0.7;margin-left:0.5em;font-size:0.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:0.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:0.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{text-decoration:line-through}.monaco-icon-label:after{opacity:0.75;font-size:90%;font-weight:600;margin:auto 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit !important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:0.8}.monaco-keybinding{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}.monaco-text-button{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;padding:4px;border-radius:2px;text-align:center;cursor:pointer;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border:1px solid var(--vscode-button-border, transparent);line-height:18px}.monaco-text-button:focus{outline-offset:2px !important}.monaco-text-button:hover{text-decoration:none !important}.monaco-button.disabled:focus,.monaco-button.disabled{opacity:0.4 !important;cursor:default}.monaco-text-button .codicon{margin:0 0.2em;color:inherit !important}.monaco-text-button.monaco-text-button-with-short-label{-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 4px;overflow:hidden;height:28px}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label{-ms-flex-preferred-size:100%;flex-basis:100%}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{-ms-flex-positive:1;flex-grow:1;width:0;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label,.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-weight:400;font-style:inherit;padding:4px 0}.monaco-button-dropdown{display:-ms-flexbox;display:flex;cursor:pointer}.monaco-button-dropdown.disabled{cursor:default}.monaco-button-dropdown>.monaco-button:focus{outline-offset:-1px !important}.monaco-button-dropdown.disabled>.monaco-button.disabled,.monaco-button-dropdown.disabled>.monaco-button.disabled:focus,.monaco-button-dropdown.disabled>.monaco-button-dropdown-separator{opacity:0.4 !important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-right-width:0 !important}.monaco-button-dropdown .monaco-button-dropdown-separator{padding:4px 0;cursor:default}.monaco-button-dropdown .monaco-button-dropdown-separator>div{height:100%;width:1px}.monaco-button-dropdown>.monaco-button.monaco-dropdown-button{border:1px solid var(--vscode-button-border, transparent);border-left-width:0 !important;border-radius:0 2px 2px 0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-radius:2px 0 0 2px}.monaco-description-button{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;margin:4px 5px}.monaco-description-button .monaco-button-description{font-style:italic;font-size:11px;padding:4px 20px}.monaco-description-button .monaco-button-label,.monaco-description-button .monaco-button-description{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.monaco-description-button .monaco-button-label>.codicon,.monaco-description-button .monaco-button-description>.codicon{margin:0 0.2em;color:inherit !important}.monaco-button.default-colors,.monaco-button-dropdown.default-colors>.monaco-button{color:var(--vscode-button-foreground);background-color:var(--vscode-button-background)}.monaco-button.default-colors:hover,.monaco-button-dropdown.default-colors>.monaco-button:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-button.default-colors.secondary,.monaco-button-dropdown.default-colors>.monaco-button.secondary{color:var(--vscode-button-secondaryForeground);background-color:var(--vscode-button-secondaryBackground)}.monaco-button.default-colors.secondary:hover,.monaco-button-dropdown.default-colors>.monaco-button.secondary:hover{background-color:var(--vscode-button-secondaryHoverBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator{background-color:var(--vscode-button-background);border-top:1px solid var(--vscode-button-border);border-bottom:1px solid var(--vscode-button-border)}.monaco-button-dropdown.default-colors .monaco-button.secondary+.monaco-button-dropdown-separator{background-color:var(--vscode-button-secondaryBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator>div{background-color:var(--vscode-button-separator)}.monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}.monaco-progress-container{width:100%;height:2px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:2px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;-webkit-transition:width 0.1s linear;transition:width 0.1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{-webkit-animation-name:progress;animation-name:progress;-webkit-animation-duration:4s;animation-duration:4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-timing-function:linear;animation-timing-function:linear}.monaco-progress-container.infinite.infinite-long-running .progress-bit{-webkit-animation-timing-function:steps(100);animation-timing-function:steps(100)}@-webkit-keyframes progress{0%{-webkit-transform:translate(0) scaleX(1);transform:translate(0) scaleX(1)}50%{-webkit-transform:translate(2500%) scaleX(3);transform:translate(2500%) scaleX(3)}to{-webkit-transform:translate(4900%) scaleX(1);transform:translate(4900%) scaleX(1)}}@keyframes progress{0%{-webkit-transform:translate(0) scaleX(1);transform:translate(0) scaleX(1)}50%{-webkit-transform:translate(2500%) scaleX(3);transform:translate(2500%) scaleX(3)}to{-webkit-transform:translate(4900%) scaleX(1);transform:translate(4900%) scaleX(1)}}.monaco-editor .diff-hidden-lines-widget{width:100%}.monaco-editor .diff-hidden-lines{height:0px;-webkit-transform:translateY(-10px);transform:translateY(-10px);font-size:13px;line-height:14px}.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,.monaco-editor .diff-hidden-lines .top.dragging,.monaco-editor .diff-hidden-lines .bottom.dragging{background-color:var(--vscode-focusBorder)}.monaco-editor .diff-hidden-lines .top,.monaco-editor .diff-hidden-lines .bottom{-webkit-transition:background-color 0.1s ease-out;transition:background-color 0.1s ease-out;height:4px;background-color:transparent;background-clip:padding-box;border-bottom:2px solid transparent;border-top:4px solid transparent}.monaco-editor.draggingUnchangedRegion.canMoveTop:not(.canMoveBottom) *,.monaco-editor .diff-hidden-lines .top.canMoveTop:not(.canMoveBottom),.monaco-editor .diff-hidden-lines .bottom.canMoveTop:not(.canMoveBottom){cursor:n-resize !important}.monaco-editor.draggingUnchangedRegion:not(.canMoveTop).canMoveBottom *,.monaco-editor .diff-hidden-lines .top:not(.canMoveTop).canMoveBottom,.monaco-editor .diff-hidden-lines .bottom:not(.canMoveTop).canMoveBottom{cursor:s-resize !important}.monaco-editor.draggingUnchangedRegion.canMoveTop.canMoveBottom *,.monaco-editor .diff-hidden-lines .top.canMoveTop.canMoveBottom,.monaco-editor .diff-hidden-lines .bottom.canMoveTop.canMoveBottom{cursor:ns-resize !important}.monaco-editor .diff-hidden-lines .top{-webkit-transform:translateY(4px);transform:translateY(4px)}.monaco-editor .diff-hidden-lines .bottom{-webkit-transform:translateY(-6px);transform:translateY(-6px)}.monaco-editor .diff-unchanged-lines{background:var(--vscode-diffEditor-unchangedCodeBackground)}.monaco-editor .noModificationsOverlay{z-index:1;background:var(--vscode-editor-background);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.monaco-editor .diff-hidden-lines .center{background:var(--vscode-diffEditor-unchangedRegionBackground);color:var(--vscode-diffEditor-unchangedRegionForeground);overflow:hidden;display:block;text-overflow:ellipsis;white-space:nowrap;height:24px;-webkit-box-shadow:inset 0 -5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow), inset 0 5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow);box-shadow:inset 0 -5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow), inset 0 5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow)}.monaco-editor .diff-hidden-lines .center span.codicon{vertical-align:middle}.monaco-editor .diff-hidden-lines .center a:hover .codicon{cursor:pointer;color:var(--vscode-editorLink-activeForeground) !important}.monaco-editor .diff-hidden-lines div.breadcrumb-item{cursor:pointer}.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover{color:var(--vscode-editorLink-activeForeground)}.monaco-editor .movedOriginal,.monaco-editor .movedModified{border:2px solid var(--vscode-diffEditor-move-border)}.monaco-editor .movedOriginal.currentMove,.monaco-editor .movedModified.currentMove{border:2px solid var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path.currentMove{stroke:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path{pointer-events:visiblestroke}.monaco-diff-editor .moved-blocks-lines .arrow{fill:var(--vscode-diffEditor-move-border)}.monaco-diff-editor .moved-blocks-lines .arrow.currentMove{fill:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines .arrow-rectangle{fill:var(--vscode-editor-background)}.monaco-diff-editor .moved-blocks-lines{position:absolute;pointer-events:none}.monaco-diff-editor .moved-blocks-lines path{fill:none;stroke:var(--vscode-diffEditor-move-border);stroke-width:2}.monaco-editor .char-delete.diff-range-empty{margin-left:-1px;border-left:solid var(--vscode-diffEditor-removedTextBackground) 3px}.monaco-editor .char-insert.diff-range-empty{border-left:solid var(--vscode-diffEditor-insertedTextBackground) 3px}.monaco-editor .fold-unchanged{cursor:pointer}.monaco-diff-editor .diff-moved-code-block{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;margin-top:-4px}.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon{width:12px;height:12px;font-size:12px}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0, 0, 0, 0.031372549)}.monaco-diff-editor.vs-dark .diffOverview{background:rgba(255, 255, 255, 0.0117647059)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar{background:rgba(0, 0, 0, 0)}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:rgba(171, 171, 171, 0.4)}.modified-in-monaco-diff-editor.hc-black .slider.active,.modified-in-monaco-diff-editor.hc-light .slider.active{background:none}.monaco-editor .insert-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-diff-editor .delete-sign{font-size:11px !important;opacity:0.7 !important;display:-ms-flexbox !important;display:flex !important;-ms-flex-align:center;align-items:center}.monaco-editor.hc-black .insert-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .delete-sign,.monaco-editor.hc-light .insert-sign,.monaco-diff-editor.hc-light .insert-sign,.monaco-editor.hc-light .delete-sign,.monaco-diff-editor.hc-light .delete-sign{opacity:1}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .inline-added-margin-view-zone{text-align:right}.monaco-editor .arrow-revert-change{z-index:10;position:absolute}.monaco-editor .arrow-revert-change:hover{cursor:pointer}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-editor .char-insert,.monaco-diff-editor .char-insert{background-color:var(--vscode-diffEditor-insertedTextBackground)}.monaco-editor .line-insert,.monaco-diff-editor .line-insert{background-color:var(--vscode-diffEditor-insertedLineBackground, var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .line-insert,.monaco-editor .char-insert{-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-diffEditor-insertedTextBorder)}.monaco-editor.hc-black .line-insert,.monaco-editor.hc-light .line-insert,.monaco-editor.hc-black .char-insert,.monaco-editor.hc-light .char-insert{border-style:dashed}.monaco-editor .line-delete,.monaco-editor .char-delete{-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-diffEditor-removedTextBorder)}.monaco-editor.hc-black .line-delete,.monaco-editor.hc-light .line-delete,.monaco-editor.hc-black .char-delete,.monaco-editor.hc-light .char-delete{border-style:dashed}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .gutter-insert,.monaco-diff-editor .gutter-insert{background-color:var(--vscode-diffEditorGutter-insertedLineBackground, var(--vscode-diffEditor-insertedLineBackground), var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .char-delete,.monaco-diff-editor .char-delete{background-color:var(--vscode-diffEditor-removedTextBackground)}.monaco-editor .line-delete,.monaco-diff-editor .line-delete{background-color:var(--vscode-diffEditor-removedLineBackground, var(--vscode-diffEditor-removedTextBackground))}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .gutter-delete,.monaco-diff-editor .gutter-delete{background-color:var(--vscode-diffEditorGutter-removedLineBackground, var(--vscode-diffEditor-removedLineBackground), var(--vscode-diffEditor-removedTextBackground))}.monaco-diff-editor.side-by-side .editor.modified{-webkit-box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow);box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow);border-left:1px solid var(--vscode-diffEditor-border)}.monaco-diff-editor.side-by-side .editor.original{-webkit-box-shadow:6px 0 5px -5px var(--vscode-scrollbar-shadow);box-shadow:6px 0 5px -5px var(--vscode-scrollbar-shadow);border-right:1px solid var(--vscode-diffEditor-border)}.monaco-diff-editor .diffViewport{background:var(--vscode-scrollbarSlider-background)}.monaco-diff-editor .diffViewport:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-diff-editor .diffViewport:active{background:var(--vscode-scrollbarSlider-activeBackground)}.monaco-editor .diagonal-fill{background-image:linear-gradient(-45deg, var(--vscode-diffEditor-diagonalFill) 12.5%, rgba(0, 0, 0, 0) 12.5%, rgba(0, 0, 0, 0) 50%, var(--vscode-diffEditor-diagonalFill) 50%, var(--vscode-diffEditor-diagonalFill) 62.5%, rgba(0, 0, 0, 0) 62.5%, rgba(0, 0, 0, 0) 100%);background-size:8px 8px}.monaco-diff-editor .gutter{position:relative;overflow:hidden;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.monaco-diff-editor .gutter .gutterItem{opacity:0;-webkit-transition:opacity 0.7s;transition:opacity 0.7s}.monaco-diff-editor .gutter .gutterItem.showAlways{opacity:1;-webkit-transition:none;transition:none}.monaco-diff-editor .gutter .gutterItem.noTransition{-webkit-transition:none;transition:none}.monaco-diff-editor .gutter:hover .gutterItem{opacity:1;-webkit-transition:opacity 0.1s ease-in-out;transition:opacity 0.1s ease-in-out}.monaco-diff-editor .gutter .gutterItem .background{position:absolute;height:100%;left:50%;width:1px;border-left:2px var(--vscode-menu-border) solid}.monaco-diff-editor .gutter .gutterItem .buttons{position:absolute;width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.monaco-diff-editor .gutter .gutterItem .buttons .monaco-toolbar{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.monaco-diff-editor .gutter .gutterItem .buttons .monaco-toolbar .monaco-action-bar{line-height:1}.monaco-diff-editor .gutter .gutterItem .buttons .monaco-toolbar .monaco-action-bar .actions-container{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;border:1px var(--vscode-menu-border) solid;background:var(--vscode-editor-background)}.monaco-diff-editor .gutter .gutterItem .buttons .monaco-toolbar .monaco-action-bar .actions-container .action-item:hover{background:var(--vscode-toolbar-hoverBackground)}.monaco-diff-editor .gutter .gutterItem .buttons .monaco-toolbar .monaco-action-bar .actions-container .action-item .action-label{padding:0.5px 1px}.monaco-component.diff-review{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none;z-index:99}.monaco-diff-editor .diff-review{position:absolute}.monaco-component.diff-review .diff-review-line-number{text-align:right;display:inline-block;color:var(--vscode-editorLineNumber-foreground)}.monaco-component.diff-review .diff-review-summary{padding-left:10px}.monaco-component.diff-review .diff-review-shadow{position:absolute;-webkit-box-shadow:var(--vscode-scrollbar-shadow) 0 -6px 6px -6px inset;box-shadow:var(--vscode-scrollbar-shadow) 0 -6px 6px -6px inset}.monaco-component.diff-review .diff-review-row{white-space:pre}.monaco-component.diff-review .diff-review-table{display:table;min-width:100%}.monaco-component.diff-review .diff-review-row{display:table-row;width:100%}.monaco-component.diff-review .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-component.diff-review .diff-review-spacer>.codicon{font-size:9px !important}.monaco-component.diff-review .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px;z-index:100}.monaco-component.diff-review .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}.monaco-component.diff-review .revertButton{cursor:pointer}.monaco-toolbar{height:100%}.monaco-toolbar .toolbar-toggle-more{display:inline-block;padding:0}.monaco-component.multiDiffEditor{background:var(--vscode-multiDiffEditor-background);overflow-y:hidden}.monaco-component.multiDiffEditor .focused{--vscode-multiDiffEditor-border:var(--vscode-focusBorder)}.monaco-component.multiDiffEditor .multiDiffEntry{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;overflow:hidden}.monaco-component.multiDiffEditor .multiDiffEntry .collapse-button{margin:0 5px;cursor:pointer}.monaco-component.multiDiffEditor .multiDiffEntry .collapse-button a{display:block}.monaco-component.multiDiffEditor .multiDiffEntry .header{z-index:1000;background:var(--vscode-editor-background)}.monaco-component.multiDiffEditor .multiDiffEntry .header:not(.collapsed) .header-content{border-bottom:1px solid var(--vscode-sideBarSectionHeader-border)}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content{margin:8px 8px 0;padding:4px 5px;border-top:1px solid var(--vscode-multiDiffEditor-border);border-right:1px solid var(--vscode-multiDiffEditor-border);border-left:1px solid var(--vscode-multiDiffEditor-border);border-top-left-radius:2px;border-top-right-radius:2px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;color:var(--vscode-foreground);background:var(--vscode-multiDiffEditor-headerBackground)}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content.shadow{-webkit-box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px;box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content .file-path{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;min-width:0}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content .file-path .title{font-size:14px;line-height:22px}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content .file-path .title.original{-ms-flex:1;flex:1;min-width:0;text-overflow:ellipsis}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content .file-path .status{font-weight:600;opacity:0.75;margin:0 10px;line-height:22px}.monaco-component.multiDiffEditor .multiDiffEntry .header .header-content .actions{padding:0 8px}.monaco-component.multiDiffEditor .multiDiffEntry .editorParent{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-right:8px;margin-left:8px;border-right:1px solid var(--vscode-multiDiffEditor-border);border-left:1px solid var(--vscode-multiDiffEditor-border);border-bottom:1px solid var(--vscode-multiDiffEditor-border);border-radius:2px;overflow:hidden}.monaco-component.multiDiffEditor .multiDiffEntry .editorContainer{-ms-flex:1;flex:1}.monaco-editor .selection-anchor{background-color:#007acc;width:2px !important}.monaco-editor .bracket-match{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--vscode-editorBracketMatch-background);border:1px solid var(--vscode-editorBracketMatch-border)}.inline-editor-progress-decoration{display:inline-block;width:1em;height:1em}.inline-progress-widget{display:-ms-flexbox !important;display:flex !important;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.inline-progress-widget .icon{font-size:80% !important}.inline-progress-widget:hover .icon{font-size:90% !important;-webkit-animation:none;animation:none}.inline-progress-widget:hover .icon:before{content:"\\ea76"}.monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{-webkit-animation:fadeIn 0.15s ease-out;animation:fadeIn 0.15s ease-out}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{-webkit-animation:fadeOut 0.1s ease-out;animation:fadeOut 0.1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:2px 4px;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-inputValidation-infoBorder);border-radius:3px}.monaco-editor .monaco-editor-overlaymessage .message p{margin-block:0px}.monaco-editor .monaco-editor-overlaymessage .message a{color:var(--vscode-textLink-foreground)}.monaco-editor .monaco-editor-overlaymessage .message a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor.hc-black .monaco-editor-overlaymessage .message,.monaco-editor.hc-light .monaco-editor-overlaymessage .message{border-width:2px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0 !important;height:0 !important;border-color:transparent;border-style:solid;z-index:1000;border-width:8px;position:absolute;left:2px}.monaco-editor .monaco-editor-overlaymessage .anchor.top{border-bottom-color:var(--vscode-inputValidation-infoBorder)}.monaco-editor .monaco-editor-overlaymessage .anchor.below{border-top-color:var(--vscode-inputValidation-infoBorder)}.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,.monaco-editor .monaco-editor-overlaymessage.below .anchor.below{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}.post-edit-widget{-webkit-box-shadow:0 0 8px 2px var(--vscode-widget-shadow);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);border:1px solid var(--vscode-widget-border, transparent);border-radius:4px;background-color:var(--vscode-editorWidget-background);overflow:hidden}.post-edit-widget .monaco-button{padding:2px;border:none;border-radius:0}.post-edit-widget .monaco-button:hover{background-color:var(--vscode-button-secondaryHoverBackground) !important}.post-edit-widget .monaco-button .codicon{margin:0}@font-face{font-family:codicon;font-display:block;src:url(data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzI3T0tHAAABjAAAAGBjbWFwO462kQAACRgAABq0Z2x5ZkExNwYAACdkAAD1iGhlYWRYl6BTAAAA4AAAADZoaGVhAlsC9gAAALwAAAAkaG10eBi9//oAAAHsAAAHLGxvY2Ebh1ieAAAjzAAAA5htYXhwAuwBgQAAARgAAAAgbmFtZZP3uUsAARzsAAAB+HBvc3RMW9BGAAEe5AAAGP8AAQAAASwAAAAAASz////+AS4AAQAAAAAAAAAAAAAAAAAAAcsAAQAAAAEAANAcvqJfDzz1AAsBLAAAAAB8JbCAAAAAAHwlsID////9AS4BLQAAAAgAAgAAAAAAAAABAAABywF1ABcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAQBKwGQAAUAAADLANIAAAAqAMsA0gAAAJAADgBNAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOpg8QEBLAAAABsBRwADAAAAAQAAAAAAAAAAAAAAAAACAAAAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASz//wEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEs//8BLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASz//wEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLP//ASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASz//wEsAAABLAAAASwAAAEs//8BLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAAAAABQAAAAMAAAAsAAAABAAABSAAAQAAAAAEGgADAAEAAAAsAAMACgAABSAABAPuAAAAEgAQAAMAAuqI6ozqx+rJ6wnrTuwx8QH//wAA6mDqiuqP6snqzOsL61DxAf//AAAAAAAAAAAAAAAAAAAAAAABABIAYgBmANYA1gFQAdYDmAAAAAMA7wFHAUQAswE0AZIBIgFrAQwBcQBNAcABXQFnAWYAkAA1AS0AhQDNAPwAQAGQAHgAFgG7AJoAhwFAARsBEgETAaUAxwClALsBnQF9AIoBjgF2AYUBgwF3AYYBjQGIAYEAvQF8AYoAAgAEAAUACgALAAwADQAOAA8AEAASABoAHAAdAB4AWwBcAF0AXgBhAGIAIQAiACMAJAAlACgAKgArACwALQAuAC8AMQAyADMANAA7ADgAPAA9AD4APwBBAEIARQBHAEgASgBUAFUAVgBXAGYAaABqAG0AcQBzAHQAdQB2AHcAeQB6AHsAfAB9AH4AgACBAIMAhACGAIgAiwCOAI8AkgCTAJQAlQCWAJcAmACZAJsAnQCeAJ8AoAChAKIApACnAKgAqQCTAKoAqwCtALcAuAC8AL4AwgDDAMYAyADJAMoAywDRANIA0wDUANUA1gDXANgA7QDwAPEA9AD3APgA+QD6AP4A/wEEAQUBBgELAQ0BDgEPAREBFQEWARkBGgEdAR4BJQEpASoBKwEsAS4BLwEwATEBMgEzATgBOQE6ATsBPAE9AT4BPwFBAUMBRQFGAUgBSQFLAUwBTQFOAU8BVgFXAVgBWQFaAVwBYQFiAWMBZQFoAWoBbgFvAXABcgFzAXgBeQF6AXsBfgF/AYABggGEAYcBiQGLAZQBlQGeAZ8BoQGjAaQBpgGnAagBqQGqAa4BsAGxAbIBtQG2AbcBuQG6AcEBwgHDAcQBxQHJAcoA8gDzAPUA9gBfAGAAbwA5AHAAYwGMAG4AcgBsAFoAJgAnAQcAjACRAMQBrwABABcAZADsARwBUgGPAScAuQFgAV8BIAF0ASgBNgBZAbgAQwEIAI0AvwD9ARgBNwApASYBHwA2ADcASQGRAbMBrQGrAawArwFQAVMBFwBrAcYByAHHAZcBmAGZAZoBmwGcAZYAEQBSASEAnAG/AGkAzwDbANoA2QBQAE8ATgAUANAArgCwAFgAZwFVAKMAZQAVAMAAwQEkAB8AIAD7ABMBtAEUAOsA3ADdAOIA4ADhAOQA5QDnAOkA6gDfAN4BkwDMATUAiQAGAAcACAAJAOgA4wDmABsAxQEDAQAAOgAZABgATACxALIBWwBLAV4BbQDOAQoBoAGiAEYBaQCmAbwAMAEjARABCQFCAFEA7gFKAWwAggB/AXUBZAC2ALQAtQG+Ab0ARAFUAVEAUwC6AQIBAQCsAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAABWUAAAAAAAAAcsAAOpgAADqYAAAAAMAAOphAADqYQAAAO8AAOpiAADqYgAAAUcAAOpjAADqYwAAAUQAAOpkAADqZAAAALMAAOplAADqZQAAATQAAOpmAADqZgAAAZIAAOpnAADqZwAAASIAAOpoAADqaAAAAWsAAOppAADqaQAAAQwAAOpqAADqagAAAXEAAOprAADqawAAAE0AAOpsAADqbAAAAcAAAOptAADqbQAAAV0AAOpuAADqbgAAAWcAAOpvAADqbwAAAWYAAOpwAADqcAAAAJAAAOpxAADqcQAAADUAAOpyAADqcgAAAS0AAOpzAADqcwAAAIUAAOp0AADqdAAAAM0AAOp1AADqdQAAAPwAAOp2AADqdgAAAEAAAOp3AADqdwAAAZAAAOp4AADqeAAAAHgAAOp5AADqeQAAABYAAOp6AADqegAAAbsAAOp7AADqewAAAJoAAOp8AADqfAAAAIcAAOp9AADqfQAAAUAAAOp+AADqfgAAARsAAOp/AADqfwAAARIAAOqAAADqgAAAARMAAOqBAADqgQAAAaUAAOqCAADqggAAAMcAAOqDAADqgwAAAKUAAOqEAADqhAAAALsAAOqFAADqhQAAAZ0AAOqGAADqhgAAAX0AAOqHAADqhwAAAIoAAOqIAADqiAAAAY4AAOqKAADqigAAAXYAAOqLAADqiwAAAYUAAOqMAADqjAAAAYMAAOqPAADqjwAAAXcAAOqQAADqkAAAAYYAAOqRAADqkQAAAY0AAOqSAADqkgAAAYgAAOqTAADqkwAAAYEAAOqUAADqlAAAAL0AAOqVAADqlQAAAXwAAOqWAADqlgAAAYoAAOqXAADqlwAAAAIAAOqYAADqmAAAAAQAAOqZAADqmQAAAAUAAOqaAADqmgAAAAoAAOqbAADqmwAAAAsAAOqcAADqnAAAAAwAAOqdAADqnQAAAA0AAOqeAADqngAAAA4AAOqfAADqnwAAAA8AAOqgAADqoAAAABAAAOqhAADqoQAAABIAAOqiAADqogAAABoAAOqjAADqowAAABwAAOqkAADqpAAAAB0AAOqlAADqpQAAAB4AAOqmAADqpgAAAFsAAOqnAADqpwAAAFwAAOqoAADqqAAAAF0AAOqpAADqqQAAAF4AAOqqAADqqgAAAGEAAOqrAADqqwAAAGIAAOqsAADqrAAAACEAAOqtAADqrQAAACIAAOquAADqrgAAACMAAOqvAADqrwAAACQAAOqwAADqsAAAACUAAOqxAADqsQAAACgAAOqyAADqsgAAACoAAOqzAADqswAAACsAAOq0AADqtAAAACwAAOq1AADqtQAAAC0AAOq2AADqtgAAAC4AAOq3AADqtwAAAC8AAOq4AADquAAAADEAAOq5AADquQAAADIAAOq6AADqugAAADMAAOq7AADquwAAADQAAOq8AADqvAAAADsAAOq9AADqvQAAADgAAOq+AADqvgAAADwAAOq/AADqvwAAAD0AAOrAAADqwAAAAD4AAOrBAADqwQAAAD8AAOrCAADqwgAAAEEAAOrDAADqwwAAAEIAAOrEAADqxAAAAEUAAOrFAADqxQAAAEcAAOrGAADqxgAAAEgAAOrHAADqxwAAAEoAAOrJAADqyQAAAFQAAOrMAADqzAAAAFUAAOrNAADqzQAAAFYAAOrOAADqzgAAAFcAAOrPAADqzwAAAGYAAOrQAADq0AAAAGgAAOrRAADq0QAAAGoAAOrSAADq0gAAAG0AAOrTAADq0wAAAHEAAOrUAADq1AAAAHMAAOrVAADq1QAAAHQAAOrWAADq1gAAAHUAAOrXAADq1wAAAHYAAOrYAADq2AAAAHcAAOrZAADq2QAAAHkAAOraAADq2gAAAHoAAOrbAADq2wAAAHsAAOrcAADq3AAAAHwAAOrdAADq3QAAAH0AAOreAADq3gAAAH4AAOrfAADq3wAAAIAAAOrgAADq4AAAAIEAAOrhAADq4QAAAIMAAOriAADq4gAAAIQAAOrjAADq4wAAAIYAAOrkAADq5AAAAIgAAOrlAADq5QAAAIsAAOrmAADq5gAAAI4AAOrnAADq5wAAAI8AAOroAADq6AAAAJIAAOrpAADq6QAAAJMAAOrqAADq6gAAAJQAAOrrAADq6wAAAJUAAOrsAADq7AAAAJYAAOrtAADq7QAAAJcAAOruAADq7gAAAJgAAOrvAADq7wAAAJkAAOrwAADq8AAAAJsAAOrxAADq8QAAAJ0AAOryAADq8gAAAJ4AAOrzAADq8wAAAJ8AAOr0AADq9AAAAKAAAOr1AADq9QAAAKEAAOr2AADq9gAAAKIAAOr3AADq9wAAAKQAAOr4AADq+AAAAKcAAOr5AADq+QAAAKgAAOr6AADq+gAAAKkAAOr7AADq+wAAAJMAAOr8AADq/AAAAKoAAOr9AADq/QAAAKsAAOr+AADq/gAAAK0AAOr/AADq/wAAALcAAOsAAADrAAAAALgAAOsBAADrAQAAALwAAOsCAADrAgAAAL4AAOsDAADrAwAAAMIAAOsEAADrBAAAAMMAAOsFAADrBQAAAMYAAOsGAADrBgAAAMgAAOsHAADrBwAAAMkAAOsIAADrCAAAAMoAAOsJAADrCQAAAMsAAOsLAADrCwAAANEAAOsMAADrDAAAANIAAOsNAADrDQAAANMAAOsOAADrDgAAANQAAOsPAADrDwAAANUAAOsQAADrEAAAANYAAOsRAADrEQAAANcAAOsSAADrEgAAANgAAOsTAADrEwAAAO0AAOsUAADrFAAAAPAAAOsVAADrFQAAAPEAAOsWAADrFgAAAPQAAOsXAADrFwAAAPcAAOsYAADrGAAAAPgAAOsZAADrGQAAAPkAAOsaAADrGgAAAPoAAOsbAADrGwAAAP4AAOscAADrHAAAAP8AAOsdAADrHQAAAQQAAOseAADrHgAAAQUAAOsfAADrHwAAAQYAAOsgAADrIAAAAQsAAOshAADrIQAAAQ0AAOsiAADrIgAAAQ4AAOsjAADrIwAAAQ8AAOskAADrJAAAAREAAOslAADrJQAAARUAAOsmAADrJgAAARYAAOsnAADrJwAAARkAAOsoAADrKAAAARoAAOspAADrKQAAAR0AAOsqAADrKgAAAR4AAOsrAADrKwAAASUAAOssAADrLAAAASkAAOstAADrLQAAASoAAOsuAADrLgAAASsAAOsvAADrLwAAASwAAOswAADrMAAAAS4AAOsxAADrMQAAAS8AAOsyAADrMgAAATAAAOszAADrMwAAATEAAOs0AADrNAAAATIAAOs1AADrNQAAATMAAOs2AADrNgAAATgAAOs3AADrNwAAATkAAOs4AADrOAAAAToAAOs5AADrOQAAATsAAOs6AADrOgAAATwAAOs7AADrOwAAAT0AAOs8AADrPAAAAT4AAOs9AADrPQAAAT8AAOs+AADrPgAAAUEAAOs/AADrPwAAAUMAAOtAAADrQAAAAUUAAOtBAADrQQAAAUYAAOtCAADrQgAAAUgAAOtDAADrQwAAAUkAAOtEAADrRAAAAUsAAOtFAADrRQAAAUwAAOtGAADrRgAAAU0AAOtHAADrRwAAAU4AAOtIAADrSAAAAU8AAOtJAADrSQAAAVYAAOtKAADrSgAAAVcAAOtLAADrSwAAAVgAAOtMAADrTAAAAVkAAOtNAADrTQAAAVoAAOtOAADrTgAAAVwAAOtQAADrUAAAAWEAAOtRAADrUQAAAWIAAOtSAADrUgAAAWMAAOtTAADrUwAAAWUAAOtUAADrVAAAAWgAAOtVAADrVQAAAWoAAOtWAADrVgAAAW4AAOtXAADrVwAAAW8AAOtYAADrWAAAAXAAAOtZAADrWQAAAXIAAOtaAADrWgAAAXMAAOtbAADrWwAAAXgAAOtcAADrXAAAAXkAAOtdAADrXQAAAXoAAOteAADrXgAAAXsAAOtfAADrXwAAAX4AAOtgAADrYAAAAX8AAOthAADrYQAAAYAAAOtiAADrYgAAAYIAAOtjAADrYwAAAYQAAOtkAADrZAAAAYcAAOtlAADrZQAAAYkAAOtmAADrZgAAAYsAAOtnAADrZwAAAZQAAOtoAADraAAAAZUAAOtpAADraQAAAZ4AAOtqAADragAAAZ8AAOtrAADrawAAAaEAAOtsAADrbAAAAaMAAOttAADrbQAAAaQAAOtuAADrbgAAAaYAAOtvAADrbwAAAacAAOtwAADrcAAAAagAAOtxAADrcQAAAakAAOtyAADrcgAAAaoAAOtzAADrcwAAAa4AAOt0AADrdAAAAbAAAOt1AADrdQAAAbEAAOt2AADrdgAAAbIAAOt3AADrdwAAAbUAAOt4AADreAAAAbYAAOt5AADreQAAAbcAAOt6AADregAAAbkAAOt7AADrewAAAboAAOt8AADrfAAAAcEAAOt9AADrfQAAAcIAAOt+AADrfgAAAcMAAOt/AADrfwAAAcQAAOuAAADrgAAAAcUAAOuBAADrgQAAAckAAOuCAADrggAAAcoAAOuDAADrgwAAAPIAAOuEAADrhAAAAPMAAOuFAADrhQAAAPUAAOuGAADrhgAAAPYAAOuHAADrhwAAAF8AAOuIAADriAAAAGAAAOuJAADriQAAAG8AAOuKAADrigAAADkAAOuLAADriwAAAHAAAOuMAADrjAAAAGMAAOuNAADrjQAAAYwAAOuOAADrjgAAAG4AAOuPAADrjwAAAHIAAOuQAADrkAAAAGwAAOuRAADrkQAAAFoAAOuSAADrkgAAACYAAOuTAADrkwAAACcAAOuUAADrlAAAAQcAAOuVAADrlQAAAIwAAOuWAADrlgAAAJEAAOuXAADrlwAAAMQAAOuYAADrmAAAAa8AAOuZAADrmQAAAAEAAOuaAADrmgAAABcAAOubAADrmwAAAGQAAOucAADrnAAAAOwAAOudAADrnQAAARwAAOueAADrngAAAVIAAOufAADrnwAAAY8AAOugAADroAAAAScAAOuhAADroQAAALkAAOuiAADrogAAAWAAAOujAADrowAAAV8AAOukAADrpAAAASAAAOulAADrpQAAAXQAAOumAADrpgAAASgAAOunAADrpwAAATYAAOuoAADrqAAAAFkAAOupAADrqQAAAbgAAOuqAADrqgAAAEMAAOurAADrqwAAAQgAAOusAADrrAAAAI0AAOutAADrrQAAAL8AAOuuAADrrgAAAP0AAOuvAADrrwAAARgAAOuwAADrsAAAATcAAOuxAADrsQAAACkAAOuyAADrsgAAASYAAOuzAADrswAAAR8AAOu0AADrtAAAADYAAOu1AADrtQAAADcAAOu2AADrtgAAAEkAAOu3AADrtwAAAZEAAOu4AADruAAAAbMAAOu5AADruQAAAa0AAOu6AADrugAAAasAAOu7AADruwAAAawAAOu8AADrvAAAAK8AAOu9AADrvQAAAVAAAOu+AADrvgAAAVMAAOu/AADrvwAAARcAAOvAAADrwAAAAGsAAOvBAADrwQAAAcYAAOvCAADrwgAAAcgAAOvDAADrwwAAAccAAOvEAADrxAAAAZcAAOvFAADrxQAAAZgAAOvGAADrxgAAAZkAAOvHAADrxwAAAZoAAOvIAADryAAAAZsAAOvJAADryQAAAZwAAOvKAADrygAAAZYAAOvLAADrywAAABEAAOvMAADrzAAAAFIAAOvNAADrzQAAASEAAOvOAADrzgAAAJwAAOvPAADrzwAAAb8AAOvQAADr0AAAAGkAAOvRAADr0QAAAM8AAOvSAADr0gAAANsAAOvTAADr0wAAANoAAOvUAADr1AAAANkAAOvVAADr1QAAAFAAAOvWAADr1gAAAE8AAOvXAADr1wAAAE4AAOvYAADr2AAAABQAAOvZAADr2QAAANAAAOvaAADr2gAAAK4AAOvbAADr2wAAALAAAOvcAADr3AAAAFgAAOvdAADr3QAAAGcAAOveAADr3gAAAVUAAOvfAADr3wAAAKMAAOvgAADr4AAAAGUAAOvhAADr4QAAABUAAOviAADr4gAAAMAAAOvjAADr4wAAAMEAAOvkAADr5AAAASQAAOvlAADr5QAAAB8AAOvmAADr5gAAACAAAOvnAADr5wAAAPsAAOvoAADr6AAAABMAAOvpAADr6QAAAbQAAOvqAADr6gAAARQAAOvrAADr6wAAAOsAAOvsAADr7AAAANwAAOvtAADr7QAAAN0AAOvuAADr7gAAAOIAAOvvAADr7wAAAOAAAOvwAADr8AAAAOEAAOvxAADr8QAAAOQAAOvyAADr8gAAAOUAAOvzAADr8wAAAOcAAOv0AADr9AAAAOkAAOv1AADr9QAAAOoAAOv2AADr9gAAAN8AAOv3AADr9wAAAN4AAOv4AADr+AAAAZMAAOv5AADr+QAAAMwAAOv6AADr+gAAATUAAOv7AADr+wAAAIkAAOv8AADr/AAAAAYAAOv9AADr/QAAAAcAAOv+AADr/gAAAAgAAOv/AADr/wAAAAkAAOwAAADsAAAAAOgAAOwBAADsAQAAAOMAAOwCAADsAgAAAOYAAOwDAADsAwAAABsAAOwEAADsBAAAAMUAAOwFAADsBQAAAQMAAOwGAADsBgAAAQAAAOwHAADsBwAAADoAAOwIAADsCAAAABkAAOwJAADsCQAAABgAAOwKAADsCgAAAEwAAOwLAADsCwAAALEAAOwMAADsDAAAALIAAOwNAADsDQAAAVsAAOwOAADsDgAAAEsAAOwPAADsDwAAAV4AAOwQAADsEAAAAW0AAOwRAADsEQAAAM4AAOwSAADsEgAAAQoAAOwTAADsEwAAAaAAAOwUAADsFAAAAaIAAOwVAADsFQAAAEYAAOwWAADsFgAAAWkAAOwXAADsFwAAAKYAAOwYAADsGAAAAbwAAOwZAADsGQAAADAAAOwaAADsGgAAASMAAOwbAADsGwAAARAAAOwcAADsHAAAAQkAAOwdAADsHQAAAUIAAOweAADsHgAAAFEAAOwfAADsHwAAAO4AAOwgAADsIAAAAUoAAOwhAADsIQAAAWwAAOwiAADsIgAAAIIAAOwjAADsIwAAAH8AAOwkAADsJAAAAXUAAOwlAADsJQAAAWQAAOwmAADsJgAAALYAAOwnAADsJwAAALQAAOwoAADsKAAAALUAAOwpAADsKQAAAb4AAOwqAADsKgAAAb0AAOwrAADsKwAAAEQAAOwsAADsLAAAAVQAAOwtAADsLQAAAVEAAOwuAADsLgAAAFMAAOwvAADsLwAAALoAAOwwAADsMAAAAQIAAOwxAADsMQAAAQEAAPEBAADxAQAAAKwAAAAAAJQA1ADoARQBMgFsAaYB4AIaAi4CQgJWAmoCfgKSAqYCyALeAvwDTgOoA9QEKgSQBOAFLgUuBVwFrgXKBmoHHgdeB+gIBghuCOAJmApMCpIKugrMCxQLJgs4C0oLXAukC74L0AvcC/oMJgxUDLgM7g0CDSoNUg3ADfIOQA56DpQO6g9ED4wPxg/qEHYQohDIESYRYBG0EeoSDhJ8EtoTJBPYE/wUUhR8FIgU+hVOFbgWGBZ6FrAW1BbsFvwXDBcYFywXOhdeF9wX9hgQGF4Yzhj6GQwZRhmQGcAZ2hoCGh4aNBpmGogarBrgGvgbeBuoG84cHBw6HGAcgBykHN4c+h0cHUwdfh2qHcwd9B4gHkgegB7YH1ofjB+mH94gPCB+IOIhPiF2IcgiMCJ4Ir4i/iNkI4YjtCPGI+IkZiSEJKAkvCUKJUglfCWqJhwmjicGJ1InfCf8KCIoqCk8KbgqQCqKKs4rYiuiK9gsDixMLO4taC2MLiYuqC7mLvovQC9kL5Av0C/2MFQwhDDmMSIxUDGWMfYyJjJEMpIyxjLqM1gzrjPqNBo0aDUgNVI1uDYgNnQ2tjbkNvw3FDcyN1o3fjegN7433Df6OBI4MDhIOGY4fjiWONA5DDleOfg6ODpcOr461jryO4g7oDvAO/I8Vjx0PMY88j0gPWY9jD2sPcQ93j4KPjY+XD6MPuw/Bj9cP5I/3kAIQERAfEC8QPBBQEFyQaBB2kH4QjxCZELqQyRDnkPoRMxFBEU2RZxFwEYORnBGyEcER0pHnkgWSGpIvEjSSQJJSEmASZhJwEngSkBKdEr+S1xLvkvwTEBMbEzSTQJNKE2ATZxNqk5kTspO7k9oT+RQKlCaUNJRClFiUZBRwFJQUqpTBlNgU4hTrFPQVChUSFRsVMBVHFVWVZZVvFXwVipWdFbSVwRXIldeV+pYVFjOWTRZlFoKWkJafFrWW0pbkFv8XIRdSl1oXYZedF6mXrxe4l8sX3Jfkl/EYAhgmGC6YPRhNGFYYYRhpmHcYnJipmLSYxhj0GP6ZHpktmUgZUhlgmX4ZjRmeGa6ZvZnPGeIZ+BoBGhOaOZpPms+bPRtIG1EbbBt2G4EbhxuSm6cbspvHG+6b/RwBHAUcCRwNHCUcNRxFHFecaRyFHI+coxzEnOuc950MHRidJ509HU2dYJ1onYUdlh2mnb0dxR3Und+d9h39ni6eSp5zHpEeoh6xAAEAAD//wEsASwAEQAiADQAZAAAJTQuASIOARUUFh8BFjI/AT4BByInNz4EMzIeARcWFwYnJjQ+AjIeAhQOAQcGJy4BFzA9AS4BJyYnNjc2NzYnNi4CIg4CFRQeARcWFwYHDgEHFS4BNTQ+ATIeARUUBgEsKEVSRSgcGQ0mXCYOGByWKSIBAwoOEBUKDx0VBgMCIlgECA0SFhEOCAgOCRMUCA6HBBEMCQsFBAcFCgEBCxQaHRoTCwYICAQFCgkMEQUSFCM8SDwjE5YpRSgoRSkhPBUKGhoKFTxiGAcKEQ4KBQsVDggJGIsJFBINCQgOEhURDgQICAQOWwEBDhgJBwUDBAcIEBQOGhQKChQaDgoTDggEBAQHCRgPARIwGiQ8IyM8JBowAAAAAAIAAAAAARoBGgAaACgAACUWDgEHNCc+ATcuAw4BByYjPgIzMh4CByIOARQeATI+ATQuASMBGQEUIhYDGSIBARAdIx4TAgkKAxglFREfGAyyFycWFicuJxcXJxfFFiUYAgoJAyUaER4SAQ8cEQMVIhQMGB8aFycuJxYWJy4nFgAAAQAAAAABBwEaAAsAACUVIxUjNSM1MzUzFQEHcRNwcBOpE3BwE3BwAAQAAAAAARoBGgANABIAFgAaAAABIwcVFzMVFzM3NTM3NQcjNTMVBzUzFScjFTMBEPQJCQoJzgoJCRzX4c+8JnBwARkJOAqfCQmfCjgvJiaplpZxEwAAAAABAAAAAAESAMwADwAANxcHJzU3FwczJzcXFQcnNzgoDTg4DSi8KA04OA0ogygNOA05DigoDjkNOA0oAAADAAAAAAEHAQcACQAWACMAADcXNTMVNxcHIyc3NC4BIg4BFB4BMj4BJxQOASIuATQ+ATIeAWUoEyYOOA04sB8zPjMeHjM+Mx8TGSwyLBkZLDIsGZQobGomDTc3Dx8zHx8zPjMeHjMfGSwZGSwyLBkZLAAAAAMAAAAAAQcBBwAJABcAJAAANyczNSM3JwcVFzcyHgEUDgIuAj4BFxUiDgEUHgEyPgE0LgGUKGxqJg03Nw8fMx8fMz4zHgEfMx8ZLBkZLDIsGRksZSgTJg44DTiwHzM+Mx4BHzM+Mx8BEhksMiwZGSwyLBkAAwAAAAABBwEHAAkAFgAjAAA3FyMVMwcXNzUnBwYuAj4BMh4BFA4BJzI+ATQuASIOARQeAZgobGomDTc3Dx8zHgEfMz4zHx8zHxksGRksMiwZGSzHKBMmDjgNOK8BHzM+Mx8fMz4zHhIZLDIsGRksMiwZAAADAAAAAAEHAQcACQAWACMAAD8BFTM1FzcnIwcXFA4CLgI+ATIeAQc0LgEiDgEUHgEyPgFlKBMmDjgNOLAfMz4zHgEfMz4zHxMZLDIsGRksMiwZmChsaiYNNzcPHzMeAR8zPjMfHzMfGSwZGSwyLBkZLAAAAAEAAAAAAQQBBwAJAAA3FzM3Jwc1IxUnO14NXg1OE06DXV0OTsTETgABAAAAAAEHAPMACQAANwcVFzcnMzUjN4NdXQ5OxMRO8l4NXg5NE04AAQAAAAABBwDxAAkAAD8BNScHFyMVMwepXl4OTsPDTihdDl0NThJOAAEAAAAAAMkA4QAJAAA3ByMnNxc1MxU3yS8NLw0fEx+KLy8NHmhoHwABAAAAAADRAM8ACQAANyc1NxcHMxUjF3ovLw0faWkfYy8NLw0fEx4AAQAAAAAA0QDPAAkAADcXFQcnNyM1MyeiLy8NHmhoHs4vDS8OHhMfAAEAAAAAAMkA4QAJAAA/ATMXBycVIzUHXi8NLw0fEx+yLy8NH2lpHwACAAAAAAEaARsACQATAAA3JzU3FwczFSMXPwE1JwcXIxUzB088PA0s6eksgTw8DSzp6SwSPA08DSwTLHY8DTwNLBMsAAEAAAAAAQQBBwAJAAAlJyMHFzcVMzUXAQReDV4NThNNqV5eDk7Dw04AAAAAAgAAAAABGgEaAAcADwAAJRUHJxUnFzUXJxUPARUXNQEZQWY6qAFeVhol6KA1JSVLDZABOSUaIUsRYQAAAwAAAAABIgEaABsAJwA2AAAlJy4BByMiBg8BBh4COwEyNj8BFxY7ATI+AgciLwEzNxccAQ4BIzMjNi8BMx4BFRcWDgIjASBLAgoHWAYKAkwCAgUJBTcFCgIMOAUGWAQJBQJrAgJsORQqAgQBV0UCAkxFAgRMAQECAgIs4QUIAQcF4QUJCAMHBiErAwQHCQgBUDR9AQMDAQYH4QECAuEBAwICAAAEAAAAAAEaARoAHQAsADUAPQAANzMmJyM3MzQ3Izc1MxUXNjcnNTM1IxUzFQcGHgI3NjMyHgIVFA4BLgI2FxYXMjcnBhUUNxc2NTQmIyI4XgsISx0bAhMkJgEJCQETcBJJAgEFCHISFw8cFQsZKi0gCRIUERcSD08KGE4LIRgSEwgKOQkJSE5PAwQCAUsTEkuOBQkJBIkNDBUbDxcmEQkgLCpZEAELTg4SGEZPDxIXIQAAAAADAAAAAAEKARoADwAWABoAACUnNTM1IxUzFQcGFjsBMjYnNzUzFRcjBzczFwEESBJwE0oECwq8CguIAiYkbicdgh0ujUsTEkuOChERkAROT0dLOTkAAAAAAwAAAAABGgEbACoAMQA6AAA3BiMVFB8BIzc2PQE0PgIXMzY3JicmDgIdARQPARczFBYyNjUzNycmNQcyNicjFBY3MjY0JiIGFBb0CQoIB7UHCQ0XHw8DBQcGBxQmHRAHCwhCFh8WQgkLB14HDAElC1MXISEuISGYAgQaGRQVGRkpEB4VCgIJBwIBAg0bJBQpFhYhDQ8WFg8NIRYWbQsICAuEIS4hIS4hAAAAAAYAAAAAASoBJgAVACcALgAzADgAQQAAEwYHIgcOAh0BFA8BNzY9ATQ+Ah8BBgcWHwEjBzMUFjI2NTM3JyYHBiImNTMWNyYnNxcPARc3JhcyNjQmIgYUFqIKBwkKDxcNBBwGBxAdJhRVCQoCBgd6EgwWHxZCCQsGUgYPCyUBdQYHCw2ClA2VBzMXISEuISEBGAgKAwUVHhApEREdExYWKRQkGw0CkQMBExIUEw8WFg8NIRFMBgsICN0HBwoNZ5UNlQYBIS4hIS4hAAAAAAQAAAAAASoBJgAVACcALgAyAAATJicmDgIdARQHNzY9ATQ+AhcWFwczJyY9ATcVFB8BByMUBiImJxcyNicjFBYHARcBzxUbFCYdEAcZAQ0XHw8UED1sBwgTBwsJQhYfFQEmBwwBJQt7AQkN/vcBBRAEAg0bJBQpFhUZCQkpEB4VCgIDDKwUGRoWEykWFiENDxYVDxILCAgLCQEJDf73AAADAAAAAAEGARsAGgAhADQAADcmPQE0LgInJg4CHQEUDwEXMxQWMjY1MzcHBiImNTMWJzc2PQE0PgIXFhceAR0BFB8B+wcMGB8SFCYdEAcLCEIWHxZCCWMGDwslAW4HCQ0XHw8eEwkKCAdmFRcmEiEbEQICDRskFCkXFSENDxYWDw0aBgsICBsVGBopEB4VCgIEFgsbDiYaGRQAAAADAAAAAADhAPQADgAWAB4AADc1MzIWFRQGBx4BFRQGIycVMzI2NTQjJzMyNjQmKwFePx8gEA0QEiIeKioSFCUrJxAUEhMmOLwaGA0VBQQYERkdWEQSECIUEB0OAAkAAAAAARoBBwAQABcAHgAiACYAKgAuADIANgAAASMPAS8BIwcVFzMXMzczNzUHLwEjNTMfASMPATU3MwcjFTMVIxUzJzMVIzcjFTMHMxUjFTMVIwEQZwcMDAdnCQljEA4QYwmMBAZdWQ56XgcCDVqWOTk5OTk5Obw4ODg4ODg4AQcDDAwDCrsKEBAKu7gDA6kOmwMCoQ0mEjkSOBM4EhMTExIAAgAAAAAA9AEaAAgADgAAEyMHFRc3Fzc1BycjBzUz6qgKEU1NERNEDkSWARkJ9AZWVgb020tL0gADAAAAAAEaAQcARwBxAH0AADcxIyIOAh0BFA4CBx4DHQEUHgI7ARUjIi4BJzEmJzUmNzU0JzEmJzUmJzEmKwE1MzI+ATcxNj0BJjcxNjcxPgI7ARczNSMiJzEmJzUmJzEmPQE2JzUmJzEuAisBFTMyHgIdARQeAhcjFgciDgEeAj4BNTQmcQIGCgcEAgQHBQUHBAIEBwoGAgIJEA0DAwEBAQICBAMFBQYBAQYKBwICAQEBAwMNEAkClAICBgUFAwQCAgEBAQMDDRAJAQEGCgcEAgQHBQEPFxEcDQYYIh8TIfQECAoGGQYMCwgEBAgLDAYZBgoIBBIGDQgIBwEICBAGBQUDAQMCAxIFBwUFBhAICAgICA0HehIDAgMBAwUFBhAICAEHCAgNBxMECAoGGQYMCwgEAhETHyIYBg0cERchAAQAAAAAARoBBwBHAHEAfgCKAAA3MSMiDgIdARQOAgceAx0BFB4COwEVIyIuAScxJic1Jjc1NCcxJic1JicxJisBNTMyPgE3MTY9ASY3MTY3MT4COwEXMzUjIicxJic1JicxJj0BNic1JicxLgIrARUzMh4CHQEUHgIXIxYHNjMyFhUUDgEuAjYXBycHFwcXNxc3JzdxAgYKBwQCBAcFBQcEAgQHCgYCAgkQDQMDAQEBAgIEAwUFBgEBBgoHAgIBAQEDAw0QCQKUAgIGBQUDBAICAQEBAwMNEAkBAQYKBwQCBAcFAQ82DhEXIRMfIhgGDUIVFQ4WFg4VFQ4WFvQECAoGGQYMCwgEBAgLDAYZBgoIBBIGDQgIBwEICBAGBQUDAQMCAxIFBwUFBhAICAgICA0HehIDAgMBAwUFBhAICAEHCAgNBxMECAoGGQYMCwgEAhoJIRcRHA0GGCIfAhYWDhUVDhYWDhUVAAUAAAAAARoBBwANABEAGwAfACkAACUjNScjBxUjBxUXMzc1JzMVIxcVBzUnIwcVJzUXFSM1BzUXFRczNzU3FQEQQgleCUIJCfQJqEtLlksKOAlLgyZdSwk4CkvhHAoKHAmWCgqWHBMTDioJCgoJKw04ExNLYCsGCQkGKl8AAAAABAAAAAABBwEaACIAPwBbAGQAABM2MzIeARcOAQc1MTY9AT4CJicuAQ4CFhcVFBcVLgI2FwYjFRQGKwEwIzEuAT0BIiY9ATQ2OwEyFh0BFAc3FAcWHQE+AiYnLgEOAhYXNTQ3Jj4CHgEHIxQGIiY0NjIWWBwiHzMeAQEpIQkRFwkHChE2OSgJGhkJHigIG3ICBAUEFAEEBAQFCwgSCAsDGQkGCQsBCwkNJCMaCQsNBgkBFB4eEwEeCxALCxALAQYTHjQeJDoMAQkLAwkgJicQGRUMKzo1DgMMCAELMUA6pwMvBAUBBAQvBQQmCAsLCCYEAlsPDQkKAgkZHBkJDgoKGiQjDQILCQ0fGgkLGRAICwsQCwsAAwAAAAABGgEaAAcACwAPAAATMxcVByMnNRcVMzUnMzUjHPQJCfQJE+Hh4eEBGQnhCQnhQpaWEyYAAAAAAwAAAAABGAEaADEAOQBJAAA3NTQmIgYdASMnBxcHBh0BIxU7ARYfAQcXNxceATI2PwEXNyc1NjcxMzUjNTYvATcnByM1NDYyFh0BFxUWFRQOAiIuAjU0NzXMIC0gEB8LHgEJJigBBA0BJQsjAgwfIh8MASQLJQ4FKScBCgEeCx9tFyAXHQkNFhsdHBYMCNgLFiAgFgsfCx4BGhsMEBsVASULIwEOEA8OASQLJgEWGxAMGxoBHgsfCxAXFxALEAEWGRcnHA8PHCcXGRYBAAAAABEAAAAAARoBGgAPABMAFwAbAB8AIwAnACsALwAzADcAOwA/AEMARwBLAE8AAAEjNSMVIzUjFSMHFRczNzUHIzUzNSM1MwcjFTMHMxUjFyMVMzczFSMXIxUzBzMVIzcjFTMXMxUjFyMVMwczFSM3IxUzFzMVIxcjFTMnMxUjARAcE5YTHAkJ9AkS4eHh4bwTExMTExMTEyYSEhISEhISEhISEiYTExMTExMTExMTEyUTExMTExMTEwEHEhISEgrhCQnh16gTE14TEhMTE14TEhMTE4QTExMSExMThBMTExITXhMAAAMAAAAAARoBGgA9AHkAggAANy4BDgEPAgYmLwEmJy4CPwI+AjU0Jy4DIyIPAQ4CFRQeBjMyPgE/ATY1NCYvASYvASYHBiciJicmJy4DNSY+AT8BNjMyHwEWHwEWFA8BDgIUFh8BFjMyNzY/AT4BMh8CFh8BFhUUDwEOATcHMxUjNTMVN+sFCwoHAwYFAwgCKQsLBAYBAwQHAwYDCAULDA0IDAgOBQkDChEYHCAiIRAKEQ0GDggDAwcEBA8EDQcIDh4OHxoNFhAJAQQGBQsDBAIEBwoHBgMCCwQFBAQFRQkMBQUJBgYCBgUEBwkFAwYDBAoFCi9XPl4TV30CAQUFBAYEAwEDJwsMBQgFAwUGAwcJBgwJBQwLCAgOBg0RCg8iISAcGREKBAgFDggMBQoECAQEDgRUAgEJBxIaDRweHg8HDgkFCgQDBggJBwQFAwsDBwoLCgVFCQIEBwYDBAMGCAQFCAMCBAMLBAfjVxNePlcAAwAAAAABGgEaAAgARACAAAA/ASM1MxUjNQcXMh8DHgEVFA8BDgIjIi4GNTQ+AT8BNjMyHgIXFhUUDgEPAgYUFhcWHwEeAT8CPgIHMj4BPwE2JzYvASYvAiYiBg8BDgIjIi8BLgE0PgI/ATY0LwQmIyIPAQ4CBx4DFxYXHgGiVz1dElgxDAkPCAcDAwgOBQ4RChAiISAcGBEKAwgGDggMBw4NCgUIAwYDBwQCBgQLCykCCAMFBgMICQYJDAoFCgQBAQMGAwUJBwQFBgIGAwcKBQwJRQUEBAUHAwUCAwYICQcEAgQDCwQHAwEBCRAWDRofDh6vWBJdPVcjCA4ICAQKBQwIDgUIBAoSGBwgISEQCxANBg4ICAsNBAkMBQkIAwYFAwUIBQwLJwMBAwQGBAUFWgMGBQsDBAIDCAUECAYDBAMGBAUECUUECwwJBwYDBQMFBAcJCAYDBAoECw0HDh8eHA0aEQgJAAAABAAAAAABAgDhAAcADwAkAC8AADcjJyMHIzczFycmJyMGDwEXIzUxBiMiJjU0PwE0IyIHNTYzMhUPAQ4BFRQWMzI2NaYTDz0PEjcREBYBAQEBARe2EQsVDxIiHxUSDw8UJBEYDAwLCQwQUSgokFk+AwYGAz43EBMQDh0FBBoMEAomDwQBCAsHChENAAAEAAAAAAElAPQABgAKAAwAEwAAJQcjJzcXNwc3Jw8BFwcXByMnNxcBJZIOOg40i5BSDVASCikLDw46DjTprVMKSaRtYgteFg8VDxFTCkkAAAEAAAAAAQ8A+gAGAAAlBy8BNxc3AQ+fDz8POJfuvAFZC0+yAAgAAAAAARoBBwAGAAoADgASABYAHQAkACsAADcjJzcXNx8BMxUjFTMVIxcjFTMHMxUjJzM3JwcnBxcjJzcXNxcHMzcnBycHRg0TDQ0aDhuWlpaWlpaWlpaWSg0iDhoNDSANEw0NGg4vDSIOGg0N2BQNDRsOBRMlEyYSJhNoIQ0aDQ5MFA0NGw1aIQ0aDQ0AAAEAAAAAAPMAwQAGAAA/ARcHIyc3llEMWAtYDG9SDFdXDAAAAAEAAAAAAMEA9AAGAAA3FwcnNTcXb1IMV1cMllEMWAtYDAAAAAEAAAAAAM8A8wAGAAA3JzcXFQcnvVIMV1cMllEMWAtYDAAAAAEAAAAAAPQAzwAGAAA3Byc3MxcHllEMWAtYDL1SDFdXDAAAAAIAAAAAAQcBGgA3ADsAABMzFTM1MxUzNTMVMxcVMxUjFTMVIxUzFSMVByMVIzUjFSM1IxUjNSMnNSM1MzUjNTM1IzUzNTczBzM1I14TEhMTExITJiYmJiYmExITExMSExMTJSUlJSUlExMTg4MBGSUlJSUlExMSExMTEhMTJSUlJSUlExMSExMTEhMTloMAAAEAAAAAAP0A/QALAAA3Bxc3FzcnNycHJweFVRFVVRFVVRFVVRGWVRFVVRFVVRFVVREAAAACAAAAAAD0APQAAwAHAAA3FTM1ByM1Mzi8E5aW9Ly8qZYAAAABAAAAAAEHAJYAAwAAJRUjNQEHz5YTEwADAAAAAAEHAPQAAwAHABEAADcVMzUHIzUzJzM1MxUjFTM1IzipE4ODcBODEyapzqioloQSE4MTqQAAAAABAAAAAADiAOIAGQAANzIXHgEXFhQHDgEHBiInLgEnJjQ2NzY3PgGWCgoTHAUDAwUcEwoUChMcBQMFBQoRCRPhAwUcEwoUChMcBQMDBRwTChQTCREKBQUAAQAAAAABGgEaABoAABMyFx4BFxYUBgcGBw4BIi4ENDY3Njc+AZYSESExCgQJCREeDyEkIR4YEQkJCREeDyEBGQQKMSERJCEPHhEJCQkRGB4hJCEPHhEJCQAAAAACAAAAAAEaARoAKgBEAAATJiIHMQYHBgcxDgEWFxYXHgI+ATcxNjc2NzE2JicxJicxJicxJicxJicXBgcOASIuBDQ2NzY3PgEyFx4BFxYUBrQPHg8ODRkPCAgBAwgVCxkdHxwNGQ8IAwUBBAMIBwsKDA0OUxEeDyEkIR4YEQkJCREeDyEkESExCgQJAQIFBQMIDxkNHR8OHBYKDwgBBwgPGQ0ODx8ODg0MCgsHCAOuHhEJCQkRGB4hJCEPHhEJCQQKMSERJCEAAAMAAAAAARoBGgAMABYAHwAAEzIeARQOASIuATQ+AQcUFhc3LgEOARUzNCYnBx4BPgGWJDwjIzxIPCMjPEwNDZ8ZQjsk4g4NnxlCOyQBGSM8SDwjIzxIPCODFCUQnxUJHDchFCUQnxUJHDcAAAEAAAAAALwAvAAIAAA3FAYuATQ2Mha8FiAVFSAWlhAWARUgFhYAAAACAAAAAAC8ALwACgAXAAA3DgEuAj4BMhYUFzY1NCYjIg4BHgI2pgQKCwgCBAkOCwwHFhALEwkEERYVjAUEAggLCgcLDg8KCxAWDRUWEQQJAAMAAAAAAOEA4gAMABUAFgAANzI+ATQuASIOARQeATcUBiImNDYyFieWFCMUFCMoIxQUI0UdKB0dKB0xSxQjKCMUFCMoIxRLFB0dKB0dIAAABQAAAAABGgEaAAcANAA9AEYATwAAASMHFRczNzUHIzUzHgEzMjY0JiIGFSMVIzUzFQ4BFRQWMjY1MxQWMjY0JiMiBgcjLgEjNTMHNDYyFhQGIiYnMhYUBiImNDYzMhYUBiImNDYBEPQJCfQJEqkrBBIKDxYWHxY4JSUICxYfFiYWHxYWEAoRBTAFEQqpcQoRCwsRCjgICwsRCgp5CQoKEQoKARkJ9AkJ9OolCAsWHxYWDzjhLAQSCRAWFhAQFhYfFgoJCQomqQgLCxEKCnkKEQoKEQoKEQoKEQoAAAUAAAAAARoA9AALAA8AEwAYABwAADcXNxc3JzcnBycHFychNSEVITUhFzUjFTMVNSMVvA0eHg8gIA8eHg0exwEG/voBBv76lpaWlkANHh4NHh4PICAPHoMTSxNCCRI5ExMAAAAEAAAAAAEWARoAFgAiACwANgAANyM1MxUzNScjNSM0JiIGFSMVIwcVFzM1PgIeARQOAS4CFwc1IxUnBxczNyczFwcnFSM1ByeDOJYTChwSFiAVFBsKCkEBCQsKBwUKCwgFhhQTFA4lDSR8DSUOFBMUDSaoJS8JEw8WFg8TCbwJ5QUJAgQKCgoFAQYKrBRkZBQNJCRbJA0UZGQUDQAEAAAAAAEHAQcACwAZACAAJAAANycHJwcXBxc3FzcvATczFxUHIxUHIyc1NzsCFxUzNSMXIxUzog4aGw0bGw0bGg4bKRODExMmEoQSEiYTSxImg0uEhJQOGxsOGhsNGxsNG3oTE4MTJhIShBISS4M4hAAAAAEAAAAAAOgA6AALAAA3FzcnNycHJwcXBxeWRA5FRQ5ERA5FRQ6JRQ5ERA5FRQ5ERA4AAAACAAAAAAEaAPYALwA5AAA3Mx4BFAYjNTI2NCYnIycuAgYPAScmJyIHDgEeATsBFSMiJicuAT4BNzYXPgEeAQcXNTMVNxcHIyfgARchIRcPFRUPEQICFx8bBgYQBQUUDQoGCxgOCQkOGgkMBwsbEQ4OCSYrH18YExgNKA0ovAEgLyETFh4WARAPFgUQDg4DAQEOChwaEBMLCw0jIhcDAwQUFgYfdhhmZRcNKCgAAgAAAAABGgD2ADIAPAAANzMeARQGKwE1MzI2NCYnIycuAgYPAScmJwYHDgEeATsBFSMiJicuATc+Ahc+AR4BFwcnFSM1Byc3MxfgARchIRclJQ8VFQ8RAgIXHxsGBhAFBRQNCgYLGA4vLw4aCQ8ECwcXHA4JJisfAx8ZEhgNKA0ovAEgLyETFh4WARAPFgUQDg4DAQEBDQocGhATCwsQKxIMEQUEFBYGHxZIGWZlGA4oKAAAAgAAAAABGgD2ABUALgAANzMeARQGKwEiJicuAT4BNzYXPgEeAQczMjY0JisBJy4CBg8BJyYnIgcOAR4BM+ABFyEhF4wOGgkMBwsbEQ4OCSYrH3+DEBYWEBECAhcfGwYGEAUFFA0KBgsYDrwBIC8hCwsNIyIXAwMEFBYGH3MWHxYQDxYFEA4OAwEBDgocGhAABwAAAAABGgEaAAMABwALAA8AEwAXACcAABMzFSM3MxUjFzMVIxUzFSMVMxUjBzMVIycHFTM1MxUjNSMVFzM3NSdeExMlS0smS0tLS0tLJktLXRMT4eETE+ESEgEHz7wTExITExMSExPOEl5ez3FxEhLPEgADAAAAAAEUAPQABgANABEAADcHFwcnNTczBxcHFzc1Bxc3J1gxMQ04OJEOMjIOOLgRXhHDMTINOA05DjEyDTgNYAi7CQAAAAAGAAAAAAEsARoAFQArAEEAUwBdAGUAABMVFBYXMxYXFh0BIzU0Ji8BJicmPQEzFQYWFzMWFxYdASM1NCYnNSYnJj0BMxUUFhcxFhcWHQEjNTQmLwEmJyY9AQc3MzIWFAYrAQ4BKwEiLgE9ARc1IxUUFjsBMjY3FTMWNjQmIzgHCAEKBAgTBwgBCgQITAEHCAEKBAgTBgkKBQdLBgkKBQcSBwgBCgQIcBLFFBsbFAwGKBo4FSIVvKkhFzkXIRMJDBAQDAEZCQYIBwgFCgwKCgYIBgEHBgoMCQkGCAcIBQoMCgoGCAYBBwYKDAkJBggHCAUKDAoKBggGAQcGCgwJcBMcJxsZHxQiFDk4ODgYISFQOAERFxEAAAAABAAAAAABBwEHAAMAEQAYABwAADcjFTMnNzMXFQcjFQcjJzU3OwIXFTM1IxcjFTOpXl5LE4MTEyYShBISJhNLEiaDS4SEgxKDExODEyYSEoQSEkuDOIQAAAIAAAAAARoBGgAMABQAABMiDgEUHgEyPgE0LgEHNTIeARQOAZYkPCMjPEg8IyM8JB8zHx8zARkjPEg8IyM8SDwj8+EfMz4zHgAAAAAKAAAAAAEsARoABwALABMAFwAfACMAKwAvADMAPQAAEwcVFzM3NScHNTMVDwEVFzM3NScHNTMVBzczFxUHIyc3FTM1NwcVFzM3NScHIzUzFSM1MycjFTMHFzc1JwccCQk4CgouJS8JCTgKCi4lOAk4Cgo4CRMlnwkJOQkJCiUlJSVuOjoTDSIiDQEZCTgKCjgJOCYmJQo4CQk4CjkmJi8KCjgJCS8lJYMJcQkJcQk4Jl4lExMSDCINIg0AAAMAAAAAARoBGgASAB4AJwAAPwEVByc1Iyc1NzMXFSM1IxUzHwI3NTM3NScjBxUXNyM1MxUjBxUnSxMWEBwJCeEKE84cCXYjEBwJCZYJCUtChB0JFlgTGxUHLwmWCQlUS4QJQiIGHApdCgpdChNLSwkPFQAACgAAAAABGgEHAAYACgAOABQAGAAjACcALQAxADgAAAEjFTMVMzUnMxUjJzMVIxcdATM3NQc1IxUnIw8BNScjFRc3Mzc1IxUHNSMVFzM9ASMVNxUjNTczFQEQHBMScCUlSyUlqQkJOCUmCQcoCgkQNgWDEuETCQoTExMJHAEGEhMcCRISEoQSEwkcJRMTEwMoIQpCBzZLJSU4EhwJSyUlXhMcCRIAAAAAAgAAAAABGgEHABcAIwAAEzMXFSYnNSMVMxcVPwEzBhUjByc1Iyc1FyIOAR4CPgE1NCYc9AkICuEuCigHCwIFNhAvCc4RHA0GGCIfEyEBBwqACQZolgohKAMJCjYHLwmpehMfIhgGDRwRFyEAAgAAAAABGgEHAAsAFAAAASMHFRczFRc3Mzc1ByMPATUnIzUzARD0CQkvEDZ/CRJ6BygKLuEBBwqpCS8HNgmpnwMoIQqWAAAABQAA//0BLQEaACwAMgA2AEMASgAANwYjNSMVLgInMzUjPgI3FTM1HgIXIxUzBxYXNjU0LgEiDgEUHgEzMjcmNy8BHwEGLwIfATYXMhYVFA4BLgI2FzcnBycHF6sGBhIbLhwCEhICHS0bEhsuHAISEgEJCAMjPEg8IyM8JA4NBA03JkwbBg0SJBJHDxEXIRMfIhgHDS4iDxwQDBgnARISAh0tGxMbLRwCEhICHC4bEgwCBA0OJDwjIzxIPCMDCEobTCY3BA0kEiQmCgEgGBEcDQYZISA/LQslDg8TAAQAAAAAASwBGgAsADIANgA/AAA3BiM1IxUuAiczNSM+AjcVMzUeAhcjFTMHFhc2NTQuASIOARQeATMyNyY3LwEfAQYvAh8BFBYyNjQmIgarBgYSGy4cAhISAh0tGxIbLhwCEhIBCQgDIzxIPCMjPCQODQQNNyZMGwYNEiQSLyAvISEvICcBEhICHS0bExstHAISEgIcLhsSDAIEDQ4kPCMjPEg8IwMIShtMJjcEDSQSJFUXISEvISEAAAAABAAAAAABGgEaAAMABwAjADAAADcXLwEXLwEXMw4CBzUjFS4CJzM1Iz4CNxUzNR4CFyMVBzI+ATQuASIOARQeAakmTCZUEiQSeQIcLhsSGy4cAhISAh0tGxIbLhwCEl4kPCMjPEg8IyM8qUwmTFQkEiQbLhwCEhICHS0bExstHAISEgIcLhsSeiM8SDwjIzxIPCMAAAb//wAAASwBCwAMABgATgBnAHEAewAANzIWHQEUBiImPQE0Nhc0JiIGHQEUFjI2NScWFzc2FxYXFhUUBxczHgEdARQHDgEPAQYHBgcGIicmJyYvAS4BJyY9ATQ2NzM3JjU0NzY3Ng8BFRcWFxYyNzY/ATUnBiMiJyYnBgcGIyI3Jg4BFBYyNjc2NwYXHgEyNjQuAXUGCAgMCAhWCAwICAwIMgIBAxEmIxANBQMBDg8DAgcHCwYHDA0pUikNDAcGCwcHAgMPDgEDBQ0QIyZJAQEKDCRGJAwKAQEMFCESBgQEBhIhFDoIMA8MKhMCAycHAwITKgwPMHEJBhwGCAgGHAYJDwYJCQYcBggIBrIBAgMTBQQTER4TDBAHGQ4YBQYDCQUIBQQHBRISBQcEBQgFCQMGBRgOGQcQDBMeERMEBYICUAEGBQ8PBQYBUAIGEwYICAYTYggFEygOFBQWCAgWFBQOKBMFAAAAAAMAAAAAAQcBGgAHAAwAEwAAPwEzFxUHIyc3JyMVMycHFRc1MydLE2VEE5YTqThelrwSEnkT4RNDixMTgzi78xK8E88SAAAAAAQAAAAAAQcA9AAGABsAKAA2AAA3DwEnNxc3Fz4BNTQuASMiByYjNjMyHgEUBgc2ByIuATQ+Ah4CDgEHMj4BNC4BIg4BFB4BF6cvDhwNFShJCQoSHhINDA0PFx4XJxcZFAVlEh4SEh4kHhEBEh4SFycWFicuJxYWJxeQOAEcDhUwKwkYDRIeEgUFExcnLigLDisSHiQeEQESHiQeEhIWJy4nFhYnLicWAQAAAAAEAAAAAAEaAOIAAwAHABcAGwAAJRUjNRUzFSM3IyIGHQEUFjsBMjY9ATQmBzMVIwEH4eHh4eEICwsI4QcLC0AmJs4SEiVelgsIgwgLCwiDCAtwEwABAAAAAADPAJYAAwAANzMVI15wcJYTAAAGAAAAAAEJARwADAAcACgAMAA6AEgAABM+AR4CDgIuAjYXFjMyPgE1NC4CDgIeATcXBxYOAS4CPgEXBxY2NCYOARY3BxYVFAcXPgEvASYjIg4BFBcHJj4CF0kbQTskBB02QTolBBwmGiAcLxwWJTAuJBMDGIINKAQFERQPAgwUChIFCgcIBAFUDwUJDgwDCjQLDBIeEgkNEAMmOBoBBRIEHTZBOyQEHDdBOqgSHC8cGSoeCQwgLS8qig0pCRQMAg4VEQUEIQMECwUBBwcrDgsNEg8OEy4UFwUSHiQPDhg5KwwNAAADAAAAAAD0ARoAEwAkADUAADc0LgEiDgEVFyMVFx4BMjY/ATUjJzIXHgEUBgcGIicuATQ2NzYXBw4BBwYiJy4BLwE1FjcWN/QZLDIsGQEBAQQ1SDUEAQFdFRMQExMQEyoTEBMTEBNgAQETDxIqEg8TAQEjKCgj6g0WDAwWDQKmBxEXFxEHph4FBA4KDQQFBQQNCg4EBcQDBQwEBQUEDAUDjBQBARUAAAAFAAAAAAEoAQcAJQAsADUAPwBGAAA3By4BIgYHJwcXBxUjFTMVFhcHFzceATI2Nxc3JzY3NTM1IzUnNycyFhUjNDYXDgEHLgEnNTMnBxUzNRcHFTc1BzU3JzUXFYkRBBkgGQQRDRYDExMBBBgNFQcWGBYHFQ0YBAETEwMWSwwQOBAyAhUPDxUBSyoPE44wR0dpj6WDEA8UFA8QDRYCExMBCQkYDRUKCwsKFQ0YCQoBEhMCFg0QDAwQSw8VAQEVDxyzCFZEXyAXLxBkFkZfF24QAAAAAAQAAAAAARYBBwAlACwANQA/AAA3By4BIgYHJwcXBxUjFTMVFhcHFzceATI2Nxc3JzY3NTM1IzUnNycyFhUjNDYXDgEHLgEnNTMnNxcVBzU3JxUjiREEGSAZBBENFgMTEwEEGA0VBxYYFgcVDRgEARMTAxZLDBA4EDICFQ8PFQFLEw6pbFaOE4MQDxQUDxANFgITEwEJCRgNFQoLCwoVDRgJCgESEwIWDRAMDBBLDxUBARUPHKsIcRBIFzlfRAAAAAQAAAAAASkBLAAlACwANQBAAAA3By4BIgYHJwcXBxUjFTMVFhcHFzceATI2Nxc3JzY3NTM1IzUnNycyFhUjNDYXDgEHLgEnNTM3FQc1NycVJic1N4kRBBkgGQQRDRYDExMBBBgNFQcWGBYHFQ0YBAETEwIVSwwQOBAyAhUPDxUBS7iAaqIJCg6DEA8UFA8QDRUDExMBCQkYDRUKCwsKFQ0ZCAoBEhMDFQ0QDAwQSw8VAQEVDxxgEFEWQ2d2BgN+CAAAAAAEAAAAAADjAOMADAAYABwAIAAANz4BHgIOAi4CNhceAT4CJicmDgEWNyMVMxUjFTNsESgkFwISISgkFgMSHQwcGQ8CDQsSKRgISjg4ODjUDAIRIigkFwISISgkXggCDBccGQgLCCMqOxMSEwADAAAAAADhAOIADAAQABQAADciDgEUHgEyPgE0LgEXFSM1NxUjNZYUIxQUIygjFBQjEktLS+EUIygjFBQjKCMUXhISORMTAAACAAAAAADmAOEABQALAAA3IwcXMzcHIyc3Mxe6ViwsViw6Oh4eOh3hS0tLMzMzMwABAAAAAADmAOEABQAANwcjJzcz5StWLCxWlktLSwAAAAIAAAAAAOEA4QACAAUAADczJwczJ0uWSyNGI16DbD0AAQAAAAAA4QDhAAIAADcXI5ZLluGBAAAAAgAAAAAA9AD0AAMABwAAPwEXBzU3Jwc5XV1dNDQ0ll5eXSk0NTUAAAEAAAAAAPQA9AADAAA3Fwcnll5eXvReXl4AAAADAAAAAADjAOMADAAQABQAADc+AS4CDgIeAjYnIxUzJzUzFdQMAhEiKCQXAhEiKCQnFxcXF2wRKCQXAhEiKCQXAhEWEyVLSwAFAAAAAAEcARwAFQAeAEQATABWAAATNzMfAhUPASsBNTQnMzUjFSYjPQEXByYvATcnNxcHNxcHFxUzFSMVBgcXBycOASImJwcnNyYnNSM1MzU3JzcXPgEyFgcuAQ4BFTM0BzY3NSMVHgEXNlgCsQEPAQEPAVwHYKwJCoYjAgIGHC0KNFcRDRUCExMBBBgNFQcWGBYHFQ0YBAETEwMWDREEGSAZFQYREAk4AgoBSgEVDw8BGwEBDwGxAg8CCgesWwJcAWcjAwMFHC4KMzsQDRUDExIBCgkYDRUKCwsKFQ0ZCAkBExMDFQ0QDxQUBwYDBg4JDFQKDxwcDxUBAQADAAAAAAEMAQcAAwAJAAwAABMjFTM3BxUXNzUPATVLExM+Dw+DFmkBB+HVB7wHXRAITJgAAwAAAAABDwEHAAMACQAMAAATMxUjNwcVFzc1DwE1LxwcXBYWhCFdAQfh2Qu8C14WC0KEAAMAAAAAARYBBwAJAC4AOAAAPwEXFQc1NycVIxcOAR0BFA4CKwEiLgI9ATQuAjU0PgQyHgQVFAYHIxUUFjsBMjY1Xg6pbFaOExUFBgIDBQMQAwUDAgYLBwMGCAoMDAwKCAYEBxwWAgEQAQL/CHEQSBc5X0RgBQ0HEAMFAwICAwUDEAcNCxAKBgsLCAYDAwYICwsGChAZFgECAgEAAAQAAAAAAREBGgARAB8ANwBEAAA3Jic3JwcmJyYHBg8BFzc2NzYHBg8BJzc2NzYXHgEXFgc3JwcnNycHJwcOARQWFwcXNx4BMjY/AQcGIi4CNTQ/ARcHBv8DBRkLGgcJFBQLCB1RHQkECBcDBhI6EgYHEBAHCwQGYRwMGyMcDBwLHQkIBQYZCxoHEhUVCB02CBAPDAYMEjoSBuQJBxoLGQYCBwgECR1RHQgLFA4HBhI6EgYDBgYECwcQbh0MHSMdDB0LHQgVFREIGQwZBQYJCB0aBAcLDwgRDBI6EgUAAAAABgAAAAABGgEAAAMABwALAA8AFQAYAAA3NTMVJzMVIzcVIzUdATM1JTcXFQcnNxU3cahdXV1dqKj++g5lZQ4TSnESEksTSxMTqRMTrQdDD0QIdWMxAAAAAAIAAAAAANgA9AADAAcAADczFSM3FSM1VB0dhBz0vLy8vAAAAAIAAP/9ARYBBwAaACQAADcUDgEmJwceAT4CLgEGBzUjFRczNSM+AR4BJzcXFQc1NycVI4YZJyMIEgotMiMHGi8xDxMJLBgKIyUXKA6pWUOOE0sUHwgSEgcXGQclMiwTDRQXMgoTEQ4KHqEIcRA7Fi1fRAAABQAAAAABHAD0AAQACQAOABIALQAANzUzBgc3NjcjFRcmJyMVJRUhNRcyPgEuAQYHMxUjJzUzFT4BHgEOAiYnNx4BE2ECARcJC4lpBQNhAQb++scSGgYRISAJFCUIEA0qJxYGHiolCQ8GF3ESCQk4CggScQkKE7wTE7wWIh4MDA8QCCoTEQsRJCseBxUUBg0PAAAAAAEAAAAAAQwBDQAdAAA3FA4BJicHHgI+AjU0LgEGBzUjFRczNSM+AR4B7yY6NQwaCigyMykXKkRFFhwOQSMONTcjlh4uDRscCxghDQogLxokOxcVHCJLDhwZFg8tAAAAAAMAAAAAAP4BBwADAAkADAAAEyMVMycXFQcnNR8BNf0cHFwWFoQhXQEH4dkLvAteFgtChAADAAAAAAEQAQcACAASABcAADcUBi4BNDYyFjMvASMHFRczPwEHIzUzF7wWIBUVIBZUUBFfGBhfEVBhX19PlhAWARUgFhZZCBiyFwhZSrJZAAIAAAAAARABBwAJAA4AACUvASMHFRczPwEHIzUzFwEQUBFfGBhfEVBhX19PplkIGLIXCFlKslkAAgAAAAAA/AEAAAUACAAAPwEXFQcnNxU3UBaWlhYcbvQLZBdkDK2TSgAAAAACAAAAAAEMAQwAFwAgAAA3NTMVPgEzMh4BHwEjNS4CIgYHMxUjJxciJjQ2MhYUBiEcEDAbHTQgAgEdAhgnLikLNU4SdRAVFSAWFsBLLxMWGy4cBQQUIhQWExwSkBUgFhYgFQAAAgAAAAAA6gEaAAoAEwAANzM3Jwc1IxUnBx8BFAYiJjQ2MhaWCkkUMRwxFEkvFh8WFh8WeUkUMXR0MRRJQRAVFSAWFgACAAAAAADqARoACgATAAATIwcXNxUzNRc3JxcUBiImNDYyFpYKSRQxHDEUSRsWHxYWHxYBGUkUMXR0MRRJ4RAVFSAWFgAAAAACAAAAAAEMAQwAFwAhAAAlNSMVLgEjIg4BDwEzNT4CMhYXIxUzNwcyNjQuAQYUFjMBCxwQMBsdNCACAR0CGCcuKQs1ThJ1EBYWIBUVEMBLLxMWGy4cBQQUIhQWExwSkBUgFQEWIBYAAAIAAAAAAQcBBwAHAAsAABMXFQcjJzU3FyMVM/QTE7wSEreysgEHE7wSErwTGLIAAAUAAAAAASsBLAABAA0AQQBJAFkAADc1Fyc3FzcXBxcHJwcnNxUzNxcHFRYVBzMVIzEGDwEXBycHDgEiJi8BByc3JyYnKwE1MzU0NzUnNxczNTQ+ATIeAQcVMzU0JiIGFzUjBwYVFB4CMj4CNTQrWyYNKCcNJiYNKCcNdBAkDSIMASwuBg8BKw0pAQ4kJiQOASkMKgEPBQEuLAsjDSQSEB0iHRFrWRolGnqbAQkOGR8iHxkPiwEJJgwoKA0mJg0pKA2QDCQNIgEeHw4SHxkBKwwpAg8SEhACKAwqARkeEg4gHAEjDSQMER0RER0RDAwTGhoyAQEaHBktIRERIS0ZHQACAAAAAAEaAQcAFAAeAAA3NTI2NzY1Iyc1NzMXFSc1IxUzBxczNycHNSMVJwcXSxERAgJVCQn0CRLhawkuKC8NHxMeDi8TEwUFAwUKuwoKrRORqQkvLw0feXkfDS8AAAADAAAAAAEaAOEADQARABUAACUHNScjBxUXMzc1Fzc1ByM1MxcnNTcBCz0JqQkJqQk9Dl2Wlks5OdMjKAkJhAkJJiMJa21wXR8KIgAABQAAAAABGgEHAA0AFwAgACkAMgAANzMXFQcjJzU3Mz8BMxcHMzUjLwEjDwEjFyIGFBY+ATQmFzIWFAYuATQ2NyIGFBYyNjQmyUcJCfQJCUcQBzgHk+FCBxAwEAdBHAQGBggFBVAQFhYgFRUQFyEhLiEh9AqoCgqoChADA7mWAxAQAxMFCAYBBQgFEhYgFgEVIBYSIS4hIS4hAAAAAwAAAAAA9AEaAAcACwAPAAATMxcVByMnNRczNSMXMxUjVJYKCpYJE4ODLyUlARkJ9AkJ9OrhvBMAAAAAAwAAAAABBwEaAAcACwAXAAATMxcVByMnNRczNSMXIxUjFTMVMzUzNSMc4QoK4QkTzs5wEzg4Ezg4ARkJ4QkJ4djPJjgTODgTAAAAAAMAAAAAARoBGgAHAAsAEQAAEzMXFQcjJzUXMzUjFzMVByM1HPQJCfQJE+HhliVwJgEZCfQJCfTq4SYlcSYAAAADAAAAAAEaARoABwALABQAABMzFxUHIyc1FxUzNQcyNjQmIgYUFhz0CQn0CRPhcRchIS4hIQEZCfQJCfQJ4eGpIS4hIS4hAAAFAAAAAAEaARoACQAOABoAHgAlAAATHwEVByMnNTczBzM1JyMXIxUzFTM1MzUjNSMHMxUjNx8BFQcvAbY4BhOpExNxcak4cUslJRMmJhMlXl6LKwUSATgBFDgOqBMT4RLzqDlLEyYmEyWDE84rDbsTzjgAAAMAAAAAAQcBGgADAAsADwAANxUjNSczFxUHIyc1FzM1I7xeQuEKCuEJE87OqRMTcAnhCQnh2M8AAwAAAAABGgEaAAcACwASAAATMxcVByMnNRczNSMXMxU3JxUjHPQJCfQJE+HhJTheXjgBGQn0CQn06uGEOEtLOAAAAAAEAAAAAAEHARoACQAOABoAHgAAEx8BFQcjJzU3MwczNScjFyMVMxUzNTM1IzUjBzMVI8k4BRKpExNwcKk5cEslJRMlJRMlXV0BFDgOqBMT4RLzqDlLEyYmEyWDEwAAAAAGAAAAAAEaAPQABwALAA8AFwAbAB8AAD8BMxcVByMnNzM1IzUzNSM3MxcVByMnNRczNSM1MzUjJgleCQleCRJLS0tLel4JCV4JE0tLS0vqCgqoCgoJcRITEwqoCgqonyYlSwAAAQAAAAAA9wEKABkAABMVFzM1Izc+AR4CBg8BFzc+AS4CBg8BNUIJQjASDSIjGQoKDWENYhAMDCEsLBAOAQdCCRISDQkJGSMjDGINYREsLCELCxENJwAAAAMAAAAAARoBGgAJAAwAEAAAEyMPAhc/AjUHNxc3JzcX+BubAywaTQWa7B0bECGWIQEZmgVNGiwDmxvLOBsKIZYhAAAAAwAAAAABGgEaAA0AEQAYAAAlJyM1JyMHFRczFRczNyc1MxUXIzUzNzUzARkJjQleCQkvCbwJ80uWqRwJhLIKVAkJlwhVCQlncXFdSwgdAAADAAAAAAEHAKkACAARABoAADcUBiImNDYyFhcUBiImNDYyFhcUBiImNDYyFksLEAoKEAteCxALCxALXgsQCwsQC5YICwsQCwsICAsLEAsLCAgLCxALCwAAAgAAAAABGgEaAAsAHAAANzMVIxUjNSM1MzUzBzUzFTM1IzUzNSM1MxcVByNLODgTODgTOBPhcXFxegkJ9OETODgTOP1nXYMTJRMKzgkAAAADAAAAAADiAOEACwAYACEAADcnByc3JzcXNxcHFzcUDgEiLgE0PgEyHgEHNCYiBhQWMjasFhYRFhYRFhYRFhYkFCMoIxQUIygjFBMhLiEhLiFvFhYRFhYRFhYRFhYWFCMUFCMoIxQUIxQXISEuISEAAwAAAAABFgEbABUAKAA0AAATHgEXFhUUBw4BBwYnLgM3Njc+ARc2NzYnNCYnJicmBgcOARYXHgEnNxcHFwcnByc3JzehFikQJh4PJhYwJxQeEAMHDyYSKyEmGRkCEQ8dJhMmDyAXISIQJgQtDS0tDS0tDS0tDQEZARQQKTcrJxIXBAkWCyIqLhUuGQwM9AkfIiUXKhAdAwEJCxhOSBMKBnwvDS8vDS8vDS8vDQAAAAAEAAAAAAEdARoALwBDAFAAVAAAEyMHJwcXBxUXBxc3FzMmJyMvAQcnNy8BNT8BJzcXPwEzHwE3FwcfARUWFzUnNycPATIWFwYHLgEOAhYXBgcuAT4BHwE+AR4CDgIuAjYXFTM1sDQKJiYaLS0aJiYKJwoIBgkOJg8ZBiwsBhkPJg4JFgkOJg8ZBiwLCC0aJiYkDBMECQgBCw4KAQgHBgMNDQQVDhgOIyEXBQ0cIiAWBgwIXgEZLRomJgo0CiYmGi0ICywGGQ8mDgkWCQ4mDxkGLCwGGQ8mDgkGCAonCiYmGjAOCwMGBwgBCg4LAQgJBRcbEgE0DAYMHCMhFgUMGyIhHhMTAAUAAAAAAQcBBwADAAcAFQAcACAAADcjFTMHNSMVJzczFxUHIxUHIyc1NzsCFxUzNSMXIxUzqV5eJhITE4MTEyYShBISJhNLEiaDS4SEgxImXl6pExODEyYSEoQSEkuDOIQAAAACAAAAAAEaAOMACAAMAAA3JzcXByc3IzUnMxUj9SwNQ0MNLL0lExOpLQ1EQw0tEziDAAAABgAAAAABLAEsAAcACwAXABsAHwAjAAATNzMXFQcjJzcVMzUFNTczFxUzFxUHIyc3NSMVFyMVOwI1I6kTXRMTXRMTXf7nE14SXhMTzhNxXl5eXhJeXgEZExNdExNdXV2ocBMTXhJeExNwXl4SXl4AAAQAAAAAARQBFAAgACYANwA7AAATBhQfAQ4BBwYeATY3PgE3FwYUFjI3FxYyNjQvATEnJiIfAQYiJjQ3IgcXNjMyFhceAT4BJy4CBxcuARwDAjMSGgUBBAcHAQUXERYOHSkPSgMIBQKAaAMIYiwJGhIfExEPCwolOQkBBwcEAQcjMxowARsBEAIHAzMNJRYEBwIEBBQgCxcOKR4PSgMFBwOAaAN0LAkTGVEFEAMuIwQEAgcEGysYLC8TGwAAAwAAAAABEQDoAAgAEQAoAAA3MhYUBiImNDYXIgYUFjI2NCYnMh4BFxYOASYnLgEiBgcOAS4BNz4ClhUdHSodHRUNEhIaEhINHDMjBwEEBwcBCTlKOQkBBwcEAQcjM7sdKR4eKR0SExoSEhoTPhgrGwQHAgQEIy0tIwQEAgcEGysYAAAAA///AAABGgEaABUAOwBEAAATBxU3FzUzFSMHNSMXBzMVFzczNzUnBz4BNC4BIg4BFBYXDgEHBg8BMzU0PgI7ATIeAh0BMycmJy4BJyImNDYyFhQGVAkJCqkhGCYBARQQIiIJCZgOEBIeIx8REA0NFgcEAQETChIYDQENGBIKEwEBBQYWMhMbGycbGwEZCR0BARReGBgKCRwHIwlxCbEJHSMeEhIeIx0JBhYQCwwSCg0XEwoKExcNChMLCxAWDxsnGxsnGwAAAAAIAAAAAAEHARoACQAOABgAHQAnADEAOwBAAAATHwEVByMnNTczBxUzNScHFDMyNjU0IyIGFzQyFCIXMzUjNQcVNxUjByM1MzUHNTcVMzcUMzI2NTQjIgYXNDIUIsY+AwrOCQmRiLw4aBkNDhkNDhAUFDwtDx8QDxotDxAgDhQaDQ0ZDQ4QFBQBFz4HtgkJ9AkS4ag5TCUUEiUUEhoyCww9Bg0DLWoMLQMNBj0YJBMTJRQTGjIAAAAABQAAAAABBwEaAAkADAATABoAIQAAEx8BFQcjJzU3MwczJyMVMzUjJzUHNycHFRc/AhcVByc3xj4DCs4JCZEEODiEvEIJSiINKSkNJA0pKQ0iARc+B7YJCfQJSznhlglCjiMNKQ0pDUQOKQ0pDSIAAAcAAAAAARoBGgARABQAHAAlACkALQA2AAATMxUXMxUzNS8CIwcVFzM1IzcXIxcjBxUXMzc1BxUnIwcnIwc1FzcXKwE1Nxc3MjY0JiIGFBYmcAlCEwM+BpEJCUI4gzg4Z5YJCZYJEh8NFigNDU8PHR5dEy8lBAYGCAUFAQdCCRMpBz4CCfQJE+E5OAlxCQlxCkseFigMJ1APHBsTLkEGBwYGBwYACQAAAAABBwEaAA4AEQAZAB4AKAAuADcAPwBJAAAlLwEjBxUzNTMVFzMVMzUHNRcPARUXMzc1JwcVIzUzByMVIzUzMhUUBicjFTMyNBc2JzQHIxUzMic1MzYWFAYnNyMVIzUzFSMVMwEEPgaRCRJxCUITSzjFCQnOCgoJvLyWBg0UFQ0KBQUKQgkBHhQUDRQGBwsKCE0SDSEUEtk+AglnXkIJEykEOTk4CXEJCXEJXhJdOBM5EwgLGxERJgkMHAE4CyMBCw8LAQsWOQsOAAAAAAQAAAAAARoBBwADACEAKwAyAAA3MzUjNzU3Mx8BMxcVByMnNSMnNTczHwEzFxUjNSMvASMVFycjFTM/ATM1IwcjFTM1IwcmEhISClMICGsJCc4KHAkJUwgIawoTZwgIRHEIRDsICHFoE0G8awheSxMJCQQOCpYJCS8JqQoFDgouJQUOOA8POQ4FEzhLXQ4AAAQAAAAAARoBBwAKABIAHAAsAAA3MxcVByMnNTczHwE1NyMPASMVNzM3Iy8BIxUzNxcnNxcVByc3Iw4BFyM0NjeRfwkJ9AkJXgeFAXcQBlRmegF6BxBQUBAxGQ4pKw0bGg8VARMeF/QKuwkJzgoDzB1nEANxlhMDEDkQSRoNKg0qDhkBFQ4WIAEAAAAABQAAAAABBwEaABEAFAAcACAAKgAAEx8BFQcjNTM1Iyc1IxUjNTczBzMnByMHFRczNzUHIzUzBxUjNQcnNyM1M8Y+AwpBOEIJcRIJkQQ4OB2DCQmDChNwcBMSMg0xITgBFz4HtgkTlglCS1QJSzleCoMJCYN5cBw4ITENMhIAAAALAAAAAAEHARoACgAOACMAJwArAC8AMwA3ADsAPwBJAAATMxcVDwEVByMnNRcjFTMVMzUvATUjFQcjFSM1Iyc1IxUzNTM1FTM1JxUjNTczFSM1FSM1NzMVIzUVIzU7ATUjFzc1IxUfARUzNS/OCgMQCrsJSxMTSxADJgkJEwoJEyYTEhITExISExMSEhMTEhJzEDgPAxMBGQleBhF/CQn0CSa7dhAHVC8KEhIKL+ESExMTExMTExMlEhITEyYTExMWEFFRDwd6eQAAAAADAAAAAAEHARoACQAPABIAACUvASMHFRczNzUHIzUzFTMnNRcBATgNcRMTqRMTqV5LODjcOAUS4RMTqKjhSxI5OQAAAAQAAAAAARMBLAANABAAFwAdAAATIwcVIwcVFzM3NTM3NScXIwcjNTMVFzM3IzUzFTPbcRI5EhKXEjsQOB4eJpY5EktLll44ASwTOBO8EhI5EpceHuG7cRITuzgAAQAAAAABGgEHAAcAAAEVBxUjNSc1ARldS14BByBZaGhZIAAAAgAAAAABGgEHAAcADwAAARUHFSM1JzUXFTM1NzUjFQEZXUtecCZe4QEHIFloaFkgcV5eWQUFAAACAAAAAAD7ARoALQBTAAA3JzYmJyYnBgcGFxYXBy4CNzU2NzY3Nj8BNjc2NzYnNx4BBzY/ARUWFxYHDgEnFwYWFx4BBz4BNzYmJw4BLwE2JicGBwYPAQYHBhUxBhYXJjc2N6sKCQMLEgQOAgMGAwoLFB8RAQEDBAkKEAgJBwoDBAYNHxsJBgQRCgYLCwklOxABCQkNCgQMEgUFBAgGEwoGDAkUAhEJDwIXCQQBEA8KBQYcEw4LHAkPFhMRDg0IDg4EGCUUBwkJDQ0PDggKCw8MEQwMFkclBwgCARATJRsUGn8HDRkJCRwPBBELESMQCQkCDRs7FhYaDQ8CFBcMChIfChcVHB8AAAACAAAAAAELARoABgANAAABJwcnBxczNycHJwcXMwEKDXBxDXcNdw1wcQ13DQEMDXBwDXcGDnFxDncAAAACAAAAAAEOARoABgANAAA3FzcXNycjBxc3FzcnIxMNcHENdg14DXBxDXYNoQ1xcQ146A1wcA14AAIAAAAAAO4BAAAGAA0AADcHJwcXMzcHNxc3JyMH4EpLDFELUaNNTAxTC1L/SkoLUVHOTEwLUlIABAAA//8BLgEHABQAHgArADIAADczFxUmJzUjDwEjFTMWFyMnNTczHwEzNyMvASMVMzcXPgEeAg4CLgI2FzcnBycHF5F/CQgLdhAGVWACBG8JCV4HC3oBegcQUFAQMREoJBcCEiEoJBYDEjgtDycYDCD0ClQHBBsQA3EJCQnOCgM2EwMQORBCDAIRIigkFwISISgkUjsMNBMOGgAABQAAAAABGgEHABIAHAAgACQAKAAANzMXFSM1Iw8BIxUzFSMnNTczHwEzNyMvASMVMzcXMxUjNzMVIz8BFweRfwkSdxAHVF5nCQleBwt6AXoHEFBQEBATEyYSEiUSJhH0CkETEANxEgnOCgM2EwMQORA1cHBwaQdqBgAAAAMAAAAAASUBBwANABkAIAAANzM/AScjNScjLwEjBxU3Mx8BMxUjDwEjDwEXIzczPwEzHM4JMgkVCmwRBl4JE1AQB2dVBhBHCRO9uh9FBhBtJgaEDC4KEAMKzsUQAyUDEAc5MV4DEAAAAwAAAAABGgEHAAoAEgAcAAAlIy8BIwcVFzM3NQcVIzUzPwEzJyMPASM1Mx8BMwEQfxAHXgkJ9AkT4VUGEHcBegYQUFAQB3r0EAMKzgkJu5UdcQMQEgMQORADAAAFAAAAAAEsAPQAEwAjAEAASQBTAAA3MzIeAR0BFA4BKwEiLgE9ATQ+ARciBh0BFBY7ATI2PQE0JiMHIgYdASMiBhQWOwEVFBYyNj0BMzI2NCYrATU0JhcUBiImNDYeAQcUBiImPgEyFhVLlhQjFBQjFJYUIxQUIxQXISEXlhchIRd6BAUcBAYGBBwFCAYcBAUFBBwGiQsQCwsQCxMLEAsBChAL9BQjFDgVIhQUIhQ5FCMUEyEXOBghIRg4FyElBgQcBQgGHAQFBQQcBggFHAQGEwgLCxALAQpACAsLDwsLCAAAAAAEAAAAAAEaARoAHwA3AEAASQAANycjDwEnBxcPARUfAQcXNx8BMz8BFzcnPwE1LwE3JwcnFzcXBxcVBxcHJwcjJwcnNyc1Nyc3FzcXFAYiJjQ2MhYHMjY0JiIGFBarChYKDSURGAMtLQUYDyUPCBYKDyUPGAUsLQYYDyUICicmGy0tGyYnCjQKJyUaLS0ZJicIQBceFhYeFyYICwsQCwvaLS0GGA8lDQoWCg8lDxgFKy0FGA8lDwgWCg8lDxhDLRkmJwg0CiclGi0tGSYnCDQKJyYbLYMPFhYeFxciCxALCxALAAAFAAAAAAEHARoAIgAmADkATABQAAA3IzY1JicmLwEmIgYHBgcmJyYjIgcGBwYPARQXIwcVFzM3NQcjNTM1IzUmNTc2NzY3NjIXFhcWFxYVMzQ3Njc2NzYyFhcWHwEUBxUHIxcjNTP9HgIEAwYIBQgJCAMRDQ0RDAUJCAcGAwQBAh4JCeEKhF1dOAIBAgMCBwIPBAkGBAECEwICBAUKAw8IBQEBAgICNl5eXuEIDwsFCQMCAwECBRQUBQMFAwkDCwMOCAmpCQmpoJYTBAUKAwUBBAQCAgQIBQMFBQUFAwUIBAIEBgEDBQoFAgKplgAAAAAFAAAAAAEaARoAEwAWACYAMAA0AAA3MxUXIyc1NzMfAhUmJzUjJzUjFycVFxUzFxUHIyc1NzM1NDYyFgcGHQEzNTQuAQYHFTM1OEsCVgkJkQY+AwgLQglxvDhBEwkJcQkJExYfFjMFJQYKDCVeJhIBCfQJAj4HMAsHCAlCOTk5SxIKSwkJSwoSEBYWAgYIEhIGCQUCNzg4AAIAAAAAAOEBLAAPABgAABMzFR4BFAYHFSM1LgE0NjcXMjY0JiIGFBaNEhwmJhwSHCYmHAkUHR0oHR0BLEwDKjoqA0xMAyo6KgN7HSgdHSgdAAAAAAQAAP/+ARwBGgAfACoASQBVAAA3JzcXFQcnNyMGJj0BLgI+ATMyFxYXFhUUBgcVFBYzJxY+Ai4BDgIWFxYXHgEHDgEuAjY3Njc1NCYrARcHJzU3FwczMhYPAT4CLgIOAh4BixgMKCgNGCMTHA4UBQsXDwkJEggDFRAQDDUIFA4CChAQDQMHyA4KDAMJCBocFAYLDAgJEQsjGA4oKA4YIxMcAQYHDAcBCRARDAMHEDgYDSgNKA4YARwTaAMUHBoQAwgSCQkRGgNnDBGbBQIOFA8HAw0QEHsDCgwhDgwLBhQcGggFAmgMEBgNKA0oDRgbFLIBCA4ODgYDDBEQCgAAAAAEAAAAAAEEAQcAAwANABEAFQAAEyMVMwcnNxc1MxU3FwcnMxUjFyMVM6kTExBeDU4TTQ5eEBMTExMTAQcTzl0OThsbTg5dqBImEwAABAAAAAABCAEtADQAPwBKAFcAADcuAQcGBwYHLgEnMjc+ATU0JyYnJiMiDgEeARcVBgcOAR4CPgE1Ni4BJzUWFxYXHgE+ATQHHgEOAi4BPgInIi4BPgIeAQ4BFw4BLgI+Ah4CBvkMIQ4MBgEBHioDBAQNEAQHEgkKDhcLBRQOCQgLCwUUHBsPAQkSCw8WExQEHSQYqAgKAg4UDwcDDRADCA4HAw0QEQoED40FDg4LBgQMEQ4JAwSbDAMJCA0EBAMqHgIGFw4KCRIHBBAaHBQDXwIFCBsbFAYLFw8JFA8CLRULCgESFQMbJTIEDxQOAgoQEA0DggoPEQwDBxEUDXsFBAMJDhEMAwYLDQ4AAAYAAP/+ARoBGgAhAC0AOQBKAFUAYQAANwYPARUWFx4BFRQOAiMiLgE+ATc1LgI+ATMyHgIVFAcuASIOAR4CPgInFjI+AS4CDgIWFxYXFhUUDgEuAjY3Njc1Mxc+AS4BDgIeATYnBxc3FzcnNycHJwdpCA0IBAQNEAcNEgkPFwsFFA4OFAULFw8JEg0HFgQNEA4HAw0QEAkBLAcQDQgBCRARDAMHyA4KDhAaHBQGCwwHChILBwIKEBEMAwYQFB0fDR8gDR8fDSAfDdAMBgJeAQIFGA4KEQ4HEBocFANfAxQcGhAHDRIJD58HCAoPEQwDBg4PngUIDhANBwQMEBB7AwoOEw4YCwYUHBoIBQJDhQcUEAYDDBEPCwLYHw4gIA4fIA0fHw0AAAAABQAAAAABLAEaAB0AKgA2AEoAVgAANwYPARUWFxYVFAcOASIuAT4BNzUuAj4BMzYWBxQHLgEjIgYXHgI+AicWMj4BLgIOAhYXIzU0JisBFwcnNTcXBzMyFhcWBxUjNSM1MzUzFTMVI2kIDQgTCggDBhgdFwsFFA4OFAULFw8THQEWBA0IDREDAQ0QEAkBLAcQDQgBCRARDAMHyBIRCyMYDigoDhgjDhgFBAETODgTODjQDAYCXgQQDA4KCQ0QEBocFANfAxQcGhABHBQPnwcIFQ0IDAMGDg+eBQgOEA0HBAwQEC8cDBAYDSgNKA0YEA0JCcU4Ezg4EwAHAAAAAAEbARoAIAAsADgAQQBKAFMAXAAANz4BNTQuAiMiDgEeARcVDgIeATMyPgI1NCYnJic1Fx4BDgIuAj4BMiciLgE+Ah4CDgEXFAYiJjQ2MhYHMjY0JiIGFBYnFBYyNjQmIgY1FBYyNjQmIgZUDRAHDRIJDxcLBRQODhQFCxcPCRINBxANBAQFBggBCRAQDQMHDhAICA4HAwwREAkBCA3QGycbGycbLwwRERcREQcLDwsLDwsLDwsLDwu+BhcPCRINBxAaHBQDXwMUHBoQBw4RCg4YBQIBXnUEDg8OBgMMEQ8KgwoQEAwEBw0QDgifFBsbJxwcLxAYEBAYEIgICwsPCwtIBwsLDwsLAAAAAAT//wAAAQcBGgAPABsAHwA1AAA3FRczNzUvAiMVMxcVIzU3IzUjFSMVMxUzNTMHMxUjNwcnNyMiBhQWOwEVIyImNDY7ASc3FzgTqRIFOA4lJTmpgyUTJSUTJV1dXRMoDRg4DBAQDAkJFBsbFDgYDShxSxMTqA44BRI5qEtLJSUTJiZLE5koDRgQGBATGyccGA0oAAAEAAAAAAEaARoAEQAWACIALgAAJS8BIwcVFzMmJyM1MxcVFhc1ByMVMzQnMzUzFTMVIxUjNSMXIg4BHgI+ATU0JgEBOA5wExNkCQZVcDkKCG4nJSUlEyUlEyVwERwNBhgiHxMh3DgFEuETCAriOToDBUJwEwpnJSUTJiYmEx8iGAYNHBEXIQAABQAA//4BGgEaAB0AKgA2AFcAYwAANwYPARUWFxYVFAcOASIuAT4BNzUuAj4BMzYWBxQHLgEjIgYXHgI+AicWMj4BLgIOAhYXFhcWFRQOAS4CNjc2NzU0JisBFwcnNTcXBzMyFhcWBxc+AS4BDgIeAjZpCA0IEwoIAwYYHRcLBRQODhQFCxcPEx0BFgQNCA0RAwENEBAJASwHEA0IAQkQEQwDB8gOCg4QGhwUBgsMCAkRCyMYDigoDhgjDhgFBAELBwIKEBEMAwYLDQ7QDAYCXgQQDA4KCQ0QEBocFANfAxQcGhABHBQPnwcIFQ0IDAMGDg+eBQgOEA0HBAwQEHsDCg4TDhgLBhQcGggFAmgMEBgNKA0oDRgQDQkJqgcUEAYDDBEOCQMEAAAFAAAAAAEHAQ4ACQAXACEAJQApAAA3FTM1FzcnIwcXDwEVFzM3NScjDgEiJicXMxUjNTMeATI2JzMVIxUzFSODEzINQg1CDjYJCeEKCkIEGiEaA2kszisIICcgPRMTExPwIiIyDkFBDjsJXgkJXgkQFRUQEktLERUVXBMTEwAAAAMAAAAAAQcBDgAJABcAIQAANxUzNRc3JyMHFw8BFRczNzUnIw4BIiYnFzMVIzUzHgEyNoMTMg1CDUIONgkJ4QoKQgQaIRoDaSzOKwggJyDwbW0yDkFBDjsJXgkJXgkQFRUQEktLERUVAAAAAAMAAAAAAQcBGgAJABcAIQAANzUzFTcXByMnNw8BFRczNzUnIw4BIiYnFzMVIzUzHgEyNoMTMg1CDUIONgkJ4QoKQgQaIRoDaSzOKwggJyCtbGwxDUJCDVsJXgkJXgkQFRUQEktLERUVAAAAAAUAAAAAARoBGgAMABgAHwAjACcAADczFyMnNTczFxUnNSMXBzM3JyM3JyMPARc3MwczBzcjJyM1MwcjNTM5MA1GCgrhCRPOaBsqaQ0fDw82ESsRKzYjQmwfMwo2PxolLnETCakJCVohMKlBbCAbHQteGnA4bUg4EzkTAAABAAAAAAEYASEAbAAAJRYVFAcGBxYdARQGIiY9ATYmJzc2NzY3NjU0LwE2JwYPASYHJyYjBhcHDgEVFBcWFxYfAQYXFRYGIiY9AQYnJicmLwEuAScuAT4BFxYXFh8BFhcWNzUmNyYnJjU0NyY/ATYXFhc2FzY3Nh8BFgEHERcSIAYFBwUBBQUFFg0RCQsQAgcGERMHKSkHGgsGBwMICQsIEg0WBQsBAQYHBhENCwkFCAEFBwMCAwIGAwcHAwcBCggNFQIHIBEZEQUJBgQKEBUpKhQQCwQGCeoUGy0YEQUKES4EBQUELggNBg4DBgcPEh0WEQoQEgQNAgsLAhATEAkIFQodEQ8IBgMPCg8vBAYGBBoEBAMIBAsBBgYBAQYGBAIBBQMIAg0EBwUEDg0GERgrHBQaFQQCAQMNCgoNBAICBRkAAAAB//8AAAEtASwAVAAAEyIOARUUHgEXMjY9AQYnJicmLwEuAS8BJjc2MzEeAR8BFhcWNzY3JicmNTQ3MSY3MzIXFhc2MzIXNjc2FzEWDwEWFRQHBgceAR0BFBYzPgI1NC4BlilFKBouHgUFDgsJBwQDAwIIAwMJBAIEBgsDAwkOCgoBCB4QFhAHCQQGCAoNDxcRFBINBwMIBQEQFg8fBAYFBR4vGSlFASwoRSkgOioKBAQZAwMCBQQFBAgKAwEGAwEBBwQEDwEBBAwIBA0TJxcRExQDBAkFBQwDAgETFAERFycSDQQDDgopBAQKKzofKUUoAAAAAwAAAAABBwEHAAsAEwAXAAA3MzUzNSM1IxUjFTMnMxcVByMnNRczNSNxEnFxEjk5Qs4KCs4JEry8OHESOTkSXgrOCQnOxbwAAgAAAAABLQEsAAwAagAAEyIOARQeATI+ATQuAQMjIiY9ATQmJz4CNzY1NCYnPgE0JicjIgYPAiYHLwEuASsBDgEUFhcOARUUFx4CFw4BBw4BJi8CLgEjBwYUHwEWHwEeATczNxUUBisBLgI+AjIeAg4BB5YpRSgoRVJFKChFAQICBAQFDRcQAwQHBgEBAgICBQgECQcgIAcJBAkEAwECAQEGBwQDEBYNAwQBBw8LBAQEAwYDBQECCAICBgMRCgYHBAMBHSwTCiQ3PjckChMsHQEsKEVSRSgoRVJFKP7wAwMjBw0EAQkQCw0OCRIHBAcJCQUCAgUECQkEBQICBQkJBwQHEgkODQsQCQEDCQUDAQgHBAUBAwEBAgIGAgILCQoBARYDAwksOj4yHBwyPjosCQAAAAAKAAAAAAEaARoADAASAB4AKgAxADcAQQBIAE0AUwAAEzIeARQOASIuATQ+ARcuAScWHwE2NSYnIxYVFAczNic1NjQnIwYVFBczNicmJysBBgcjNjcOAQ8BBhQXMyY1NDcjFyMeARcmJxc2NyMWNwYHPgE3nyE4ISE4QjghITh9CR4SDAYyAQEDLAEELwJBAQJIAQRDAgMHEAoJEQYUBQ0THQkIBAQvBAEsNCwKJhcSCS8SCjcJQgkSFyULARkhOEI4ICA4QjghSxIaBhcbOAUEDw0KCBMTCQoBCRIJCQkTEwpBHhoaHhsYBxoSEg4dDhMTCApKFhwFGR0xFhsbHB4ZBRwWAAMAAAAAASwBGgAWACcAKgAAPwE1JwcXIyIGFBY7ATUjIi4BNjsBBxc3IyczHwIVByMnNRcVMzUjNxUzcSYoDRg4FBsbFAkJDBABEQw4GA1fMhNYDTkFE6gTE6hLEzi9Jw0oDRgcJxsTEBgQGA1LEgU4DqgTE4wQfJZLOQACAAAAAAEaALwAAwAHAAAlIRUhFSEVIQEZ/voBBv76AQa8EyYSAAAABwAAAAABGgEPAAkAEQAVAB0AIQApAC0AADcXByc1NxcHMxUHNTczFxUHIzc1IxU3NTczFxUHIzc1IxU3FRczNzUnIxcVIzUoEAsgIAsP8M4JJgkJJh0TOAkmCQkmHRM4CSYJCSYdE+ERCx8MHwwPE8arCAirCBGZmR2FCAiFCRF1dX1gCAhgCBBQUAACAAAAAAEgASwABgATAAAlFSMnNTMVNwcjJwcnNzMXNzMXBwEZ/QkTzmENH0QOSw4fYA0mDTgSCf30uGEfRA1LH2EmDQAAAAAGAAAAAAEaASwABgAKAA4AEgAWABoAACUVIyc1MxU3MxUjNzMVIwczFSMHMxUjNzMVIwEZ/QkTOCUlgyYmSyYmOCUlgyYmOBIJ/fTPJjglJiUmJTglAAAABwAAAAABGgEsAAYADgASABoAHgAmACoAADczNSM1IxU3NTczFxUHIzc1IxU3FRczNzUnIxcVIzUHNTczFxUHIzc1IxUc/fMTJQolCgolHBODCiUKCiUcE14KJQoKJRwTJhL0/SWWCgqWCRODg7K8CQm8CRKpqbNxCQlxCRNeXgAGAAAAAADPAPQAAwAHAAsADwATABcAADczFSMVMxUjFTMVIzczFSMVMxUjFTMVI14lJSUlJSVLJSUlJSUl9CYlJiUmvCYlJiUmAAAACwAAAAABBwEaAAkAEQAVAB0AIQApAC0ANQA5AD0AQQAAEzMVIxUzFSMnNRcjJzU3MxcVJzM1IxcjJzU3MxcVJzM1IwcjJzU3MxcVJzM1IxcjJzU3MxcVJzM1KwIVMzUjFTMcJhwcJgl6JgkJJgklEhKMOAkJOAo5JiZBJgkJJgklEhKMOAkJOAo5JiYSJiYmJgEZEuETCfRnCSYJCSYKEiUJOAoKOAollgkmCQkmChM5CjgJCTgJJhNwEgABAAAAAAEaAQcAHAAAJS4BJy4BIgYPAScuASIGBw4CFB4BHwE3PgI0ARcCCQcKGhsZCg0NChkbGgoHCQQECQdvbwcJBNIJEQYKCgoJDQ0JCgoKBxASEhIQB25uBxASEgACAAAAAAEaAQcAHQA9AAAlLgEnLgEiBg8BJy4BIgYHBgcGFB4BHwE3Njc2NTQHBg8BJy4CND4BNzY3NhcWHwE3Njc2FxYXFhcWFRQHARcCCQcKGhsZCg0NChkbGgoNBQIECQdvbwcECRUDCmFiBQcDAwcFBwoTFAkHGhkHChMUCQcFAwcB0gkRBgoLCwkNDQkLCwoNEwkSEhAGb28GCBATCRUNCmFhBQwMDg0LBQcECAgDCBkZBwQICAQHBQYLDgcGAAAAAgAAAAABHQEbAB4AJQAANz4BJicuAQ4BBzUjFRczNSM+AR4BDgImJwceAjYnNyc1IxUX/RINDBITPEE4EBMJQikTSEouAjFLRhIQDzhCPisONhMDRRc5ORcaHAQhHC1CCRIiHRU+TTwSISIJHSYGGywNNkdLBwAAAgAAAAABFAETABEAHAAAExcHJxUHIyc1IxUHIyc1Byc3BxUzNTczFxUzNSeddw0TCjgJJgk4ChIOd0QmCTgKJUsBEmwOEXoJCUJCCQl6EQ5sWIJCCQlCgkQAAAAEAAAAAAD0AOIACwAgACwAMAAANzM1IxUjNSMVMzUzFzMnNjc2NzY0LgEnJicmKwEVMzUzNwYrATUzMhYVFAcGFyMVM3kPDzEQEDFqERgDBAgDAgMFBAYHBAMuDxwJAwIgIAYKAQMXvLxxcDExcDAwMQEDBgkFCwoHAwUCAXAuEAEkCggFAwdmEwAAAAUAAAAAAQcBGgAkAC4AOwA/AEMAADczFxUzFxUHIxUHIwcnNSMnNSMnNTczNTczNS4BNTQ2MhYVBgcXNSMVFzMVPwEzJwYHMQYmJwceATI2NycjFTM3MxUjn0sJCgoKCgk6LxAvCgkJCQkKSwQGCxALAQlCli8JIgc1KAsODRgJDQoZHBkJTBMTOBMT4QkmChIJOQk0By0MNgkSCigHFQMIBgcLCwcLBWE4bgIpJgMuCgMDCAkOCQsLCTMTExMAAAMAAAAAARoBGgAJABMAHQAANzM3NS8BIw8BFTcjNTMfATM/ATMnIw8BIy8BIzczHPQJNAiNCTT04S8OCFYIDTEBNQkMSw4INTF/JglUkAYGi1kJOBcFBRcTBRcXBYQAAAEAAAAAAPQAzwARAAA3FRQWOwEnNxcVByc3IyImPQFLBQSBHg0wMA0egQsRziUEBR4OMAsvDR4QDCUAAAQAAAAAARkBGwATACcAKwAvAAATHgEXHgEGBw4BJicuAz4DFz4BNz4BJicuAQYHDgEeARceATcnMzUjFxUjNaEWKQ8YEgwVEzc8GxQeEQINGiYrIBIhDBILEBQSMTMVGRoDHxoRJhIfGBgYGAEZAxMQGD5AGhgZAg4LIiotLCQaC/MEFA8WNzUVEhEHDhE1OzIOCQYElBIlS0sAAAUAAAAAARoBGgAHAAsAEwAXAB0AAAEXFQcjJzU3FyMVMxUXFQcjJzU3FyMVMycXBxc3JwEHEhKWExOWlpYSEpYTE5aWlvQeHg0rKwEZEksTE0sSEks5EksTE0sSEkuOHh4NKysAAAAAAwAAAAABJwEHAAwAEAAUAAA/ATMXFSM1IxUzFSMnBScVNwc1FyMTE+ESEuFdXRMBFH4zID0l9BMTcXGWExMgfrEzBlY+AAAACQAAAAABBwEaAAcADQAVABsAJAAqADIAOABBAAA3FzY0JwcWFCc3JicHFic3JiIHFzYyBycGBxc2BzQ3FwYWFwcmFwcWFzcmFwceATcnBiI3FzY3JwYnMjY0JiIGFBbvEgYGEgULEBIjCR4sBRInEgYPIT8JIxIRDy0GEgYBBRIGHhESIwkeLQYSJxIFECE/CSMSEBBMBwsLDwsLfwUSJxIGDyE/CSMSEQ8VEgYGEgYMERIjCR5NFBIGDyEQBRIbCSMSEBAWEgUBBhIFCxASIwkeOgsPCwsPCwAAAAMAAAAAASMBGwAVADAAOQAANwcvATcXPgMeAxcjLgIGBzcfAQcnDgMuAyczNRQeAz4CNwcnNycUFjI2NCYiBmM9DRkRDwgbJCgpJRwQARIEMkg+DCytGREPCBskKSkkHBACEwwYHyQjIBcHKwc9fwsQCwsQC8IZBTwHJBMfFAgGFB4mFCQ0CSciEkM9CCUTHxQIBxQeJhUJEiIcEgYGEhwREhIZCggLCw8LCwADAAAAAAEHARoADQAbACQAABMiDgEeAj4BJzYuAgciLgE+Ah4BFRQOAicUFjI2NCYiBo0lPhwONUhEKgEBEyItGCA0GA0sPTojEB0mJwsPCwsPCwEZKURJNA4cPSUZLCMS4SM6PSwNGDQgFCYdEGcHCwsPCwsAAAABAAAAAADgAQcAHAAANwcjNzI3Njc2PwE2NTQuASM3MwcmDgEPAQYUHgGpAlwCDgUHAwYGJgUECQwCVgIKDQgGJgYECS0GBgIDBQgUhxAJBAcCBwcBBgwVhxMJBgMAAAACAAAAAAEaAQcAGwAxAAA3Iyc1Iy8BPwEXHgEXFhcWNzY/Ax8BDwEjFSczNTczNycHBgcOASImJyYvAQcXMxffkwkbCQwGUAwBBQIFBg4NBgUFBAxQBgwJG5OACR0IPwMDAwgUFRMHBAMDQAkcCiEKfQcyCxsGBQcCBQMFBgIFBQkGGwsyB30JfQkjFQQFAwgICAgDBQQVIwkAAAACAAAAAAEHAQcARgCNAAA3NSMiDgEHMQYHMQYXFRQHMQYHBisBFTMyFxUWFxUWFzEWHQEGFxUWFzEeAhczNSMiLgI9ATQmJyYnNjc+AT0BNDY3NjMXFTMyPgE3MTY3MTYnNTQ3MTY3NjsBNSMiJzUmJzUmJzEmPQE2JzUmJzEuAgcjFTMyHgIdARQWFxYXBgcOAR0BFAYHBiNxAgkRDAMDAQEBAgQKBQYBAQYFBQMEAgIBAQEDAw0QCQICBgoHBAICBQkJBQICCQcFBk0BCRANAwMBAQECBAoFBgICBgUFAwQCAgEBAQMDDRAJAQEGCgcEAgIFCQkFAgIJBwUG9BMHDQgICAgIEAYFCgUCEgIBAgMBAwUFBhAICAEHCAgNBgETBAgKBhkGDAULBwcLBQwGGQkNBAK8EgYNCAcJCAgQBgUKBQISAgECAwEDBQUGEAgIAQcICA0HARIECAoGGQYMBQsHBwsFDAYZCQ0EAgAAAAMAAAAAAKoBBwALABQAHQAANx4BPgImJyYOARY3IiY0NjIWFAYnIiY0NjIWFAaMBAoJBQEEBQYPCAIRCAsLEAsLCAgLCxALCykDAQUICgkDBAMND1YLEAsLEAteCxALCxALAAADAAAAAAEcARwAHAA5AEUAABMeAgcOASMiJw8BIxUHIxUHIyc1PwEmNTQ+Ahc2NzE2LgIHDgEVBhcPARUzNTczNTczPwEWMzI3PgEuAgYHBh4BNtUXIwwEBi8eDQsPBxMJHAo4CQJeBBEdJSwSBQMJGCARFh4BBQJeJQkdCRcRCgwMFwMDAQUICwkCBAMNDgEYBSArFh0mBBIDHAocCQkrB10NDhIjFwmKDhcRIBgJAwUkFw0MCl8eHQkcCRMDBEIECgkGAQUEBw8IAwAGAAAAAAEaARoALwA2ADkAPQBAAEcAACUnMzUjNSMVIxUzByMVMx4BMjY3MzUjJzMVIw8BFzM3LwEjNTMHIxUzHgEyNjczNQcGIiYnMwYnIzcfASM/ARcjFwYiJiczBgESHhNeE14THgcCBRgeGQUCCB86JQglB6kHJQglOh8IAgUYHxgFArcGDwwELwQBJhN2F4MXdhMmIAYPDAQvBKlLExISE0sTDhISDhNLlgQvDw8vBJZLEw4SEg4THQMHBgYZLYscHIotHAQIBgYAAAAABgAA//0BLQEYAAcACwAXAB8ALAAzAAATIwcVFzM3NQc3Fw8BJzMXNzMHIyIGDwEXBycjFzM3Jjc2FzIWFRQOAS4CNhc3JwcnBxeZCm9vCnPWXmFhBW0hUVQiDwcZJwgTEBVRIW0KFAQrDxEXIRMfIhgHDS4iDxwQDBgBGEwQSkoQCEFBP0JKNzcKHRYNDg43Sg0JPQoBIBgRHA0GGSEgPy0LJQ4PEwAABQAAAAABLAEYAAcACwAXAB8AKAAAEyMHFRczNzUHNxcPASczFzczByMiBg8BFwcnIxczNyY3FBYyNjQmIgaZCm9vCnPWXmFhBW0hUVQiDwcZJwgTEBVRIW0KFAQTIC8hIS8gARhMEEpKEAhBQT9CSjc3Ch0WDQ4ON0oNCQ4XISEvISEABAAAAAABDAEYAAcACwASABkAABMzFxUHIyc1NwcXNwcXMzcjBycXJzMXNzMHjwpzcwpvdF5eYdNtCnEiVFFMbSFRVCJxARhMEEpKEDlBPz83Sko3N3lKNzdKAAACAAAAAAEaARoABwALAAATBxUXMzc1JxUjNTMmExPhEhK8vAEZEuETE+ES8+EAAAACAAAAAAEaARoABwALAAATBxUXMzc1Jwc1MxUmExPhEhLhuwEZEuETE+ES8+HhAAADAAAAAAEaARoABwALAA8AABMHFRczNzUnBzUzFTM1MxUmExPhEhLhS0tLARkS4RMT4RLz4eHh4QAAAAAFAAAAAAEaARoABwALAA8AEwAXAAATNzMXFQcjJzcVMzUHMxUjNzMVIzcjFTMTE+ESEuETE+HPJiY5JSVdJSUBBhMT4RIS4eHhEhMTExMTAAQAAAAAARoBGgAHAAsADwATAAATBxUXMzc1Jwc1MxU3NTMVNzMVIyYTE+ESEuElE3ATJiYBGRLhExPhEvPh4UuWlpbhAAAAAAQAAAAAARoBGgAHAAsADwATAAATBxUXMzc1Jwc1MxUzNTMVMzUzFSYTE+ESEuElE3ATJgEZEuETE+ESqJaWlpaWlgAAAwAAAAABGgEaAAcACwAPAAATNzMXFQcjJzcVMzUzFTM1ExPhEhLhExOWEjkBBxIS4RMT4ZaW4eEAAAAAAwAAAAABGgEaAAcACwAPAAATBxUXMzc1Jwc1MxUHMxUjJhMT4RIS4eHh4eEBGRPhEhLhE6mWlhI5AAAAAwAAAAABGgEaAAcACwAPAAATNzMXFQcjJzcVMzUzFTM1ExPhEhLhExM4E5YBBxIS4RMT4eHhlpYAAAAAAgAAAAABGgEaAAcACwAAEwcVFzM3NScHNTMVJhMT4RIS4eEBGRLhExPhEqiWlgAAAwAAAAABGgEaAAcACwAPAAATBxUXMzc1Jwc1MxUzNTMVJhMT4RIS4UsShAEZE+ESEuET9OHh4eEAAAAAAgAAAAABGgEaAAcACwAAEwcVFzM3NScVIzUzJhMT4RIShIQBGRLhExPhEvPhAAAAAwAAAAABGgEaAAcACwAPAAATBxUXMzc1Jwc1MxUzNTMVJhMT4RIS4YMTSwEZE+ESEuET9OHh4eEAAAAAAgAAAAABGgEaAAcACwAAEwcVFzM3NScHNTMVJhMT4RIS4YMBGRLhExPhEvPh4QAAAgAAAAABGgEaAAcACwAAEwcVFzM3NScHNTMVJhMT4RIS4eEBGRPhEhLhE+HOzgAABgAAAAABGgEHAAcACwATABcAHwAjAAATBxUXMzc1Jwc1MxU/ATMXFQcjJzcVMzUHNzMXFQcjJzcVMzU4EhJLExNLSzkSORISORISOUsSORISORISOQEHE7wSErwTz7y8vBMTOBMTODg4gxISORISOTk5AAAGAAAAAAEoAQcABwALABMAFwAfACMAAD8BMxcVByMnNxUzNRc/AR8BDwEvARc3LwE3MxcVByMnNxUzNV4JJgkJJgkTEikGIwxGBSMMMkASQb8JJgkJJgkTEv0KCs4JCcW8vAcMDQXCDA0FwLAGsAwKCs4JCcW8vAADAAAAAAEaARoACAASADcAADciBhQWMjY0JhcnBzcnMzcXMwcnDgEHIxUUFjsBFhcjBiY9ATQmJy4BNTQ3PgMzMh4BFRQHBuEXISEuISECGRgJFhsKChwXHxIdByMDAxoDBSIKDwoJDA4MBRATFQwXJxcHBIMhLiEhLiFdEhIcEB8fEFIDGBIpAgQKCAEPCh4NGAkLHxEXEwoPCwYWJxcSDgkAAAMAAAAAAR0BGgA7AFgAbAAANzY3Nj8BNjc2NTQuBCIOBAceARceAR0BFB4COwEyPgI1JyMmJxUUBisBIiY9ATM+ATM3Mhc2NzY3NjMwMScmJyYnJicGBwYHBg8BFxYXFhcWFzY3NjIXFhcWFAcGBwYiJyYnJjSoBQgGBAICBwUGCxATFRgVEw8LBgEBDQwKCgMHCQUeBQkHBAECCQcDAx4CBCUDCwcCBDMGDgsNBwUHCAgLCAoEBQoICwcJBwcJBwsICh8JBgIHAgYJAgIJBgIHAgYJAngKCAUGBwgFDQ8MFRMPCwYGCw8TFQwSHQwKFw0eBQkHAwMHCQUIAQYPAgQEAikGCAFQGA8KBQIBAQUGCg4TEw4KBgUBAQECBAYLDQUGCQICCQYCBgIGCQMDCQYCBgAAAgAAAAAA9QEaACEAKwAANw4BHQEUBgcGJyMGJj0BNCYnLgE1NDc+AzMyHgEVFAYHIxUUFjsBMjY12wkLCAcEBR4LDgoJDA4MBQ8TFgwXJxYNMykDAx4CA4oJGA0eBw0DAgEBDwoeDRgJCx8RFxMKDwsGFicXEh4uKQIEAwMAAAACAAAAAAEaARoADAAWAAATMxUjFTM1MxUHIyc1IRUjNQcnNyM1MxxVS+ESCfQJAQYSfw1+Y3oBGRLhS1UJCfR6Y34NfxIAAAACAAAAAAEaAPQAJABJAAA3MzIeAR0BFA4BKwE1MzI2PQE0JisBIgYdAR4BFxUuAT0BND4BFzUeAR0BFA4BKwEiLgE9ATQ+ATsBFSMiBh0BFBY7ATI2NzUuAVM5Eh0RER0SCQkTGhoTORMbARUQGCARHaAYIBEdEToSHRERHRIJCRMaGhM6EhoBARX0ER4RBBEdEhMbEgQTGhoTBBAZAxMDJBgEER4RTBMDJBgEER4RER4RBBEdERIbEgQTGhoTBBAZAAAAAwAAAAABBwD0AAMABwALAAA3NTMVJzMVIzcVIzVxS3GWlrzhSxMTXhNeExMAAAAABAAAAAABBwD0AAMABwALAA8AADczFSMVMxUjNTMVIzUzFSMmqKiWluHhzs6DEiYThBNLEwAAAAAGAAAAAAEaAQcABgAKAA4AEgAzAGsAABM3MxUjNQc3MxUjFTMVIxcjFTMnPwE2NCcmJyYiBwYHBgcVMzU0PwEyMxcVFg8CFTM1IxcyFxYVFAcGBwYiLgEvASYnMTMVFxYzPwIvASsBNTczPwEnNCYPAQYdASM1NDc+AjIeAhQHKwcNDQczu7u7u7u7u9MBAQMBAgcFCAUGAgEBEAEBAQIBAQECEyURCwIBAwECBwUIBQQCAgEBEAECAQEBAQEBAQQEAQEBAQMBAQEPAwEEBgcGBgQDAQAHOSoGAhM4EzgTUgEBBQgEBwICAgIHAwMBAQECAQIBAwMDFQsNOgIEBgMDBwICAgMCBAMEAgIBAQICAwIMAQEDAgEBAQEBAgEBBgUCAwICAwcJBAAAAAADAAAAAAEaAPQAAwAHAAsAADc1MxUnIRUhNxUjNROpqQEG/vrOzksTE14TXhMTAAAFAAAAAAEHAPQAAwAHAAsADwATAAA3MxUjFTMVIzUzFSMnMxUjOwEVI0upqYODvLw4zs44ExODEiYThBNLE6kACAAAAAABGgD0AAMABwALAA8AEwAXABsAHwAANyMVMxUjFTMHMxUjFyMVMzczFSMXIxUzBzMVIxcjFTMmExMTExMTExMTEyXOzs7Ozs7Ozs7OzvQTJRMmEiYTvBMlEyYSJhMAAAQAAAAAASMBIAAWACcAMwA/AAATNxcVByc1IyIHBgcGBycmNz4DFzMXFTcnFSMmBgcGBzY3Njc2Mwc+AR4CBgcGLgE2Fx4BPgImJyYOARasEmRkEggfDxYUFRcTAQQEGSgwGg0WR0YkGC4RFQkUFBIWDxxCDB0aEAINDBMrGQkeBxEQCQIIBwwaDwYBFwlQEUwJIwMEDQ8eBg4OGSwgEQFBIzY4IQERERYdEwoIAwJKCQINGB0bBwwJJCw7BQIIDxEQBAgGFhoAAQAAAAABGAEaAA8AACUuAiIOAQcjPgIyHgEXAQUFHzA2MB8FEwUlOEA4JQWpGisYGCsaIDMdHTMgAAAABAAAAAAA4gEQABAAHgAnADMAADcuASMxIg4CHwEzNzYnNCYnOwEeARcUDwEnJjU+ARcmDgEeAT4BJic+AR4CBgcGLgE2ywocDxUiFAEMOwo7DAELQQECFiABCTAwCQEgIgYQCAMNDwkDJggVEgsBCQkMHhEF+goMFSIqEnd3EhYPGw4BIRcQDWFhDRAXISgFAw0PCQMNDxQGAgkRFRIFCAYZHgADAAAAAAD0AQcABwALABsAAD8BMxcVByMnNxUzNSc1NCYiBh0BMzU0NjIWHQE4E5YTE5YTE5YTIS4hExUgFZYTE14SEl5eXhMlGCEhGCUlEBYWECUAAAAAAwAAAAABBwEaABEAGQAdAAA3IzU0LgEiDgEdASMHFRczNzUnND4BFh0BIxcjNTP0ExQjKCMUExISvBOpIS4hcJa8vKklFSIUFCIVJRNwExNwOBggASEYJYNwAAAEAAAAAAEaARAAFgAaAB4AMAAAEyIOAR0BFzM3NTQ2MhYdARczNzU0LgEHIzUzFyM1Myc1NCYiBgcVIzU0PgEyHgEdAZYkPCMTOBMWHhcSORIjPFw4OKk5OTkgLiEBOB40PDQfARAjPCReExNeDxYWD14TE14kPCPhODg4ExMYIB8WFhMeNB4eNB4TAAMAAAAAARoBDwAHAAwAFAAAEyMHFRczNzUnFwcjJxcjNR8BMz8Bmwp+CfQJg2oaoBjZ4RQIqAgVAQ9LlQkJlTg/HR2FchoDAxoAAAADAAAAAAEaAPQABwANABAAAD8BMxcVByMnNxUzNQcjNyMXEwn0CQn0CRPhawxkvF7qCgqoCgqVjIxSXEkAAAAAAwAAAAABBwD0AAMABwALAAA3FTc1FzUnFRc1NxUmQUs4S0LFjSmNsI0jjSONKY0AAwAAAAAA9AEHAAMABwALAAATMwcjFyMnMxcjBzNnjSmNsI0jjSONKY0BB0JLOEtBAAAAAAQAAAAAAPwBEAADAAcAFQAZAAA3MwcjFTMXIz8BJyMPARUXBxczPwE1BzMHI2x3I3d3I3dkLAiNCC8sLAiNCC+QdyN3/TgTOEJGDgVLCUZHDgVLCQ44AAAEAAAAAAEQAPwAAwAHABUAGQAANxU3NTMVFzUPASc1PwEzFzcXFQ8BIzcVNzUvOBM4QUcOBUsJR0YOBUsJDjjAdyN3dyN3ZCwIjQgvLCwIjQgvkHcjdwAAAgAAAAABGgDPABAAFwAANzMVIzcHIycUFRcjNTMXFhc3NSMVIxc3dycbASEXIQEZKA8OAZwlJDc2znpjY2MHLy16KysEFkJCNjYAAAMAAAAAARoA7gAPABcAGwAAPwEXFQcnDgIuAjcvATUXBhUUHgE2NycXNQcm5wwMcgMPFRYPBgMmCEABCxAOAljX161ACqEKHgsPBgUQFQsKCiQ9AgIJDAIICCw5ij0AAAIAAAAAAO4A9QA4AEIAADcGJwYuAjc0PgIzMhcWFRQGIyI1DgEjIiY0PgEzNhYXNzMHBhYzMjY1NCYjIg4BFQYeAjcWNycUMzI2NzYjIgbEGh8RIRkMAQ4dJhQkFhkfFxUGEQoOEQ0XDQkPAwQRDwMDBg4VJR8YJRUBCRQbDhwZTBELEAQJGQ4SRA8BAQwZIBIUJx0QExUjHicSCQkTIh0SAQoIDzwNCh8WHSAYKRgPGhQKAQENOBcSESQeAAAAAAMAAAAAASwA4QADAAcACwAAJSE1IRUhNSE1ITUhASz+1AEs/tQBLP7UASzOE6kTOBMAAAACAAAAAADrAP4AJgA7AAA3JyMHFzcVMRUxFRQfARYXHgEfAR4CHQEzNTQuAi8BLgI3JxcHNjcmLwEGDwEOAx0BMzU0PgE3xSgOKA0VAQICAgQNBw4HDAcaBQsMBw0GCwYBARU0AwMHBAIFBg0HDAsFGgcMB9UoKA0UEwkGBQULBgYLEQgPBxETDRERDRgSEAcOBhAUCx0UUwQDCgwFBwYOBw8TGA0REQ0TEQcAAwAAAAAA/gEQAAsADwAjAAA3NDYyFh0BFAYiJjUXNTMVJwYuATUzFB4BOwEyPgE1MxQOASNeIS4hIS4hLxISGisZExQiFRIVIhQTGSsa2BchIRdLGCEhGI0mJiYBGisZFCMUFCMUGSsZAAAABAAAAAAA/gEaAAsAHAAgADQAADc1NDYyFh0BFAYiJjciDgEdARQeATI+AT0BNC4BAzUzFScGLgE1MxQeATsBMj4BNTMUDgEjZxwmHBwmHC8SHhISHiQeEhIeGxISGisZExQiFRIVIhQTGSsajUsTHBwTSxQbG6ARHxFLEh4SEh4SSxEfEf7nJiYmARorGRQjFBQjFBkrGQADAAAAAAEaARoAEQAWABoAABMjFSMHFRczFTM1Mz8BNS8BIxcjNTMXJzMVI5YTZwkJZxNUBygoB1RQwMAfp15eARklCksJg4MCJg4lA0s4HAkSAAADAAAAAAEaARoACgAVACUAABMfARUHJwcnNT8BHwE1JxUjNQcVNzE/ARcVByc3IxcHJzU3FwczoXQEDnV1DgR0FWdnE2dnIw4uLg0ecR4NLi4NH3IBGUsHrAhLSwisB0urQpZCNjZClkJaDS8NLg0eHg0uDS8NHwADAAAAAAEaAPQAEwAeACIAACUnIwcVMzUXBh0BHwEzPwE1NCc3BxUHJzU2NxczNxYvATcXARmABoATKw8FSwhJBg8/QkFCAQ0xBzANQWdnZ8IyMndeERUaCAciIggIGRUZRwEeHgEWEhMTEhEoKCgABAAAAAABEAEaAAkAEwAdACcAADcHNSMVJwcXMzcnFzcVMzUXNycjDwEzFSMXByc1NxczJzcXFQcnNyPAIRIhDTAOMG4NIRIhDTAONSFBQSENMTFlQSENMTENIUFjIEBAIA0wMJMNIEBAIA0wUCATIA4xDTAtIA0wDTEOIAAAAAAFAAAAAAEaARoADAAQABgAHAAgAAATNzMXFQcjNTM1IxUjNxUzNQ8BFRczNzUnBzUzFQczFSNxCZYJCS8mhBIShOsJCZYKCoyDg4ODARAJCYMKE0sTORMTXgqDCQmDCiYTExJLAAAAAAUAAAAAAQcBBwAMABUAJwArADQAACUjFSYjIgYUFj4BPQEHMhYUBiImPgE3DwEVJiMOARQWMjY9ATcVMzUHFQc1BzIWFAYiJjQ2AQcTDQ8UGxsnGy4LEREXEQEQMZYJDQ8UGxsnG4QTE4MvCxERFxAQqS8JGyccARsTVTgRFxERFxGVCQmNCgEbJxsbFHEIElQKJQkmjREXEBAXEQAAAAADAAAAAAEZARcACQARAB0AADczNxcVBycjJzUfATUPASMVMzcXBxcHJwcnNyc3Fxw0SRAQSTQJSDs7By4utw0gIA0hIA0gIA0gzkgG9AZICV5YO8c7AktJDSAhDSAgDSEgDSAAAwAAAAABLAEaABAAEwAfAAATHwEVIzUjNSMVMxUjJzU3MwcVMxcjNSM1MzUzFTMVI7JAAhNLXktUCQl+BDYVEzg4Ezg4ARdBCCUTS88SCeEJEjnOOBM4OBMAAAADAAAAAAEsARoAEgAcACgAAAEjLwEjBxUXMzUjNTM/ATMHMzUHIw8BIzUzHwEzByM1IzUzNTMVMxUjARB/EAdeCQlnXlUGEHcBExN6BhBQUBAHehMTODgTODgBBw8DCc4KE3ECECVUHAMQOBAC9DgTODgTAAEAAAAAAPQAxQARAAA3FRQGKwE3JwcVFzcnMzI2PQHhBQSBHg0wMA0egQsRxSUEBh8NMAowDR8QDCUAAAQAAAAAARoA0gAIAA8AFgAoAAA3Nh4BDgEuATYXLgEOARYfAR4BPgEmJzcVFAYrATcnBxUXNyczMjY9ASwTLhoJJy4aCUYJFBIKAQUNCRQSCgEFnAYETR4NMDANHk0MEMUNCScuGgknLgIFAQoSFAkNBQEKEhQJJSUEBR4OMAsvDR4QDCUAAAAFAAAAAAEaAQcABwALAA8AEwAXAAATMxcVByMnNRcVMzUHMxUjFyMVMwczFSMc9AkJ9AkT4byWlnFxcXFLSwEHCrsKCrsJqakmEhMTExIAABcAAAAAASwBLAADAAcACwAPABMAFwAbAB8AIwAnACsALwAzADcAOwA/AEMASwBPAFMAVwBbAF8AADcjNTMVIzUzFSM1MxUjNTMVIzUzHQEjNRczFSM3MxUjAyM1MxcjNTsCFSMzIzUzFyM1MxcjNTMVNTMdASM1MysBNTMXNzMXFQcjJzcVMzUXMxUjFTMVIxUzFSMnMxUjExMTExMTExMTExMTExMTJRMTJRMTJRISExMTOBISJhMTJRISExMTzhMTSxODExODExODJRMTExMTE5ZeXs4TOBM5EzgTORMlExMTExMTARkTExMTExMTExMlEhImExNLEhKpExOpqakTJhImEyWDEwAAAAAHAAAAAAEaARoABwALABMAFwAbAB8AIwAAEzczFxUHIyc3FTM1BzczFxUHIyc3FTM1FyMVMwczFSMXIxUzJhKpExOpEhKplhNeEhJeExNeXRISEhISEhISAQcSEuETE+Hh4SYTExMSEhMTExMlEyUTJgAAAAQAAAAAARoA+gAlAEAASQBSAAAlNjc2JyMmBwYHBgcmIgcmJyYHMQYXFhcGFRQXFhcWMjc2NzY1NAciJyYnJjU0NzY3MhcWMjc2MxYXFhUUBwYHBiciBhQWMjY0JjMiBhQWMjY0JgEEAwEBBwQEBggJDA4SQhIZEgkFBwEBAxURDx8aUxsfDxGDIRAYDA0RCA8KFhESEhUKDwgRDQwYEEoIDAwQDAxKCAwMEAwMwggKEhIBAgEFBQkFBRAEAgESEgoIFyApGBUKCAgKFRgpIHgDBAsMGRMPCAIBAQEBAggPExgNCwQDUhEYEREYEREYEREYEQAEAAAAAAEtARoADAAQACIALgAAEzMXFSYnNSMVByMnNRczNSMXIgcjDgEXBxc3HgE+Ai4CBwYuAT4CHgIOATjPEgkKXRVcEhJeXsMMCgERCQssDSwJFxUPBwQNFQgKDwcEDBAQCQEGDAEZEmQEAl7MFRLPz89xBwonESwNLAYDCBAVFhIKSwELDxEMAwYNDw4IAAAACgAAAAABGgEcAAsAFwAkAC0ASABiAHcAkgCeAKcAADcOAS4CNjc2HgEGJy4BDgIWFxY+ASY3NhYXHgEOAiYnJjYXFjI2NCYiBhQHMxUjIiY9ASImPQE0NjsBBgcjIgYdATMVFBY3JisBIgYdARQWMxUGFxYXMz4BPQEyNj0BNAcjFRQGKwEiJj0BIzUmNjsBMh4BFRcjNTMyNj0BMzU0JisBJiczMhYdARQGIxUUBiciDgEeAj4BNTQmByImNDYyFhQGqwkUEgsCCggNHhIGGAQKCQYBBQUGDwgDKwkUBwUEAwkOEQYJAhQDCAUFCAWcIiIJDgcLEw4iBwMYBgkTAosKDi4OEwsIAQcFByYICwcLEhMCAh4CAhIBCQYuBQcDNCIiAQMTCQYYAwciDhMLBw6uCQ4GAwwREAkQDAQFBQgFBdUGAgkRFBIGCAYZHyYDAQQJCgkDBAQMDwQFAgcFDQ4LBgMGChoWAwUIBgYIpRMNCiIMCCkNFAgLCQUqNQICegoUDjsIDCwJBwUBAgwILAwIPA1KPwECAgE/PQUJBQcCdhMCAjUqBQkLCBQNKQgMIgoN2QoQEQwDBg8IDBEmBQgGBggFAAAABQAAAAABBwEsABUAGQAdACEAJQAAExUXFQcjJzU3NTMVMzUzFTM1MxUzNQMzNSMXMxUjFyMVMwczFSP0ExO8EhITJhImEyWpvLwmcHBwcHBwcHABLBMS9BMT9BITExMTExMT/uf0JhM4EzgTAAAAAAQAAAAAARoA9AAKABAAFAAcAAA3HwEVDwEvATU/ARcHHwE/AQcXNScXFTc1BxUHNaFsDAdzcwYLawRLCkA5EbFeXnFeJhP0HQl+CSAgCX4JHRMTAxEPBXcabBkZbBprCjAFMAADAAAAAAESARoAIwAtAEIAACUnNSc1NCcmJyYjIgYdAQcGFB8BFhcWNzY/AQcUHgIyPgInJj4CHgEdAQcXDgEmLwEmND8BFQYUHgE+ASYnNRcBERZcAgQLBgUMEDkJCUQEBQsKBQRdDQEGBwoIBgKWAQEDBAYEEhMBBQYBRAMDUgUGCgkEAwRITzoBXBcGBQsEAhAMPTgIFwlEBAIEBAIEXSoECQcEBAcIswIEAwEBBQQXE6oCAgICRAIIA1E1BAsJAwUJCgM1SQAAAAACAAAAAAEaARoADAATAAA3Mj4BNC4BIg4BFB4BNyMnNxc3F5YkPCMjPEg8IyM8EQ0rDSRPDRMjPEg8IyM8SDwjTSsNJE8NAAADAAAAAAEWARsABgAcAC8AADczNycHJwc3HgEXFhUUBw4BBwYnLgM3Njc+ARc2NzYnNCYnJicmBgcOARYXHgF2DVUNTyQNVhYpECYeDyYWMCcUHhADBw8mEishJhkZAhEPHSYTJg8gFyEiECZgVg1PJA2OARQQKTcrJxIXBAkWCyIqLhUuGQwM9AkfIiUXKhAdAwEJCxhOSBMKBgAEAAAAAAEaARsACwAXACMARQAANyMVIxUzFTM1MzUjJy4BDgIWFxY+ASYnPgEeAgYHBi4BNhczMhYdASM1NCYrASIGHQEzFRQWOwEVIyImNzUiJjc1NDb0EyUlEyUlVAQKCQUBBAUGDwkDJgkUEgsCCggNHhEGCi4OExIJBi4GCRMCAg8PCQ4BCQsBE3EmEyUlE7gDAQUICgkDBAMNDxQGAQkRFBIFCQcZHkUTDg4OBggIBjM/AQITDQksDAgyDhMAAAAABAAAAAAAzwEaAAgAEQApAD0AABMyFhQGIiY0NjciBh4BMjY0JhcjIgYdAQYWMxUGFjsBMjY9ATI2JzU0Jgc1JjY7ATIWBxUjFRQGKwEiJj0BlggLCxALCwgQFgEVIBYWBy4OEwELCQEOCR4KDQgLARNKAQkGLgYJARICAh4CAgEHCxALCxALEhYfFhYfFlQTDjIIDCwJDQ0KKwwIMg4TVDMGCAgGMz8BAgIBPwAAAAABAAAAAAEsAQcALQAAEwcVMzUzFRczNzUzFRczNzUzFRczNzUzFSM1IxUjNSMVIzUjFSM1IxUXITc1JxMTEyUKEgolChIKJQoSCiU4Ey8SLxM4ExMBBhMTAQcTcXFnCgpnZwoKZ2cKCme8OTk5OTk5S0sSErwTAAAEAAAAAAEaARoABQAOABsALQAANzMuAScVNx4BFxYVIzUyBxczDgEjIi4BNTQ2NxcyPgE3NjUjNSIHDgIXFB4BvEkGKBwBIzMGAXAJLxNcBzMiGSwZKyATGzAgBAJxCQoaKxkBHjO8GygGSVwGMyMKCXCDEyArGSwZIjMHzBgrGgoJcQIEIDAbHzMeAAIAAAAAAQcA4QAcADcAACUVIyImJyMOAysBNSMnNzM1MzIWFxYXMz4BMwcGBwYPASMnJicuAScVPgE3Nj8BMxcWHwEWFwEHBgsTBzYEDA8SCgk8ExM8CQoRCBAINgcTCwkDAwUDBE0CBAkEDwYGDwQJBAJNBAECBQIEzoMKCQkOCgVLCglLBQUKEgkKFAECAwYFBgwIAwcBgwEHBAgLBwYDAgQCAQAAAAIAAAAAAS0BBwA2AFAAABMzFRQGBxUeARcGBzEmLwE1NzY/ATY3IxYXFh8BFQcGBw4BBzMGByMVByc1IzU0Njc2NzUuATUXPgIXHgEXFhQHDgEHBiInLgEnJjY3Njc2S4MJCgkNBAkICQwGBQMCBAIBWwIBBAUGBwsIBAcBXgUECgkKSwYEChIJCowHDg8IDhUEAgIEFQ4IDwcOFgQCAQEFDAQBBwYLEwc2BAsGAwUKBAJNBAECBQMDBAIFAwRNAgQJBA8GBwg8ExM8CQoRCBAINgcTC5gEAwEDAxUPBw8IDhUEAgIEFQ4IDwcQCwQAAAIAAAAAAOEBBwAcADcAABMzFRQGBxUeAx0BIxUHJzUjNTQ2NzY3NS4BNRcWFxYfARUHBgcOAQczLgEnJi8BNTc2PwE2N0uDCQoJDgoFSwkKSwYEChIJChQCAQQFBgcLCAQHAYMBBgQIDAYFAwIEAgEBBwYLEwc2BAwPEgoJPBMTPAkKEQgQCDYHEwsJBAIFAwRNAgQJBA8GBg8ECQQCTQQBAgUDAwAAAAQAAAAAARYBGwAVACgALgAxAAATHgEXFhUUBw4BBwYnLgM3Njc+ARc2NzYnNCYnJicmBgcOARYXHgEnNxcVByc3FTehFikQJh4PJhYwJxQeEAMHDyYSKyEmGRkCEQ8dJhMmDyAXISIQJicOVFQOEjoBGQEUECk3KycSFwQJFgsiKi4VLhkMDPQJHyIlFyoQHQMBCQsYTkgTCgarCDgQOAhfTicAAgAAAAAA8AEHAAUACAAAEwcVFzc1BzUXRw8PqaWPAQcI4QhwEGe+XwAAAAACAAAAAADiARoAFQAfAAATIxUjBxUUFhcVMzU+AT0BJyM1IxUjFw4BLgE9ATMVFIMSHQklHRIdJQkcEyY7DCIfE3ABGTgJQhwrAzk5AyscQgk4OHMMBg0cETg4FwAAAAAFAAAAAAENAO8ABwAPAB8AJwAvAAA3IycjByM3MxcnJicxBg8BFzUzMhYVFAYHFR4BFRQGIycVMzI2NTQjBxUzMjY1NCOgEw8+DhM4ERAXAQEBAhZuKRMWDgsOEhsUGREOEBwTFw8QI14oKJBZPgMHBwM+N5ASDwwSBAEBEw8SF4EvDgwVPjQODBoAAAgAAAAAARoBBwAHAAsADwATABcAGwAfACMAABMzFxUHIyc1FzM1IxcjFTMnIzUzBzM1IxczFSMnIxUzBzMVIybhEhLhExPh4c68vBOWljhLSxMlJTlLS0tLSwEHE7wSEry8vBM4ExKDSxMlOBMlEwACAAAAAADrAOsABwALAAA/ATMXFQcjJzcVMzVCCZYJCZYJEoThCQmWCQmNhIQAAAAFAAAAAAEaARoABwALAA8AEwAXAAATMxcVByMnNRczNSMXMxUjNyMVMzczFSMc9AkJ9AkT4eESJiZxJiYlJiYBGQn0CQn06uETvLxxcZYAAAEAAAAAARoA9AASAAA3JyMHJyMHIxUzPwEXMzcfATM13SETIxYSFjU8Cg0WEyMbCUODcX1dURIHMl+EWAYSAAAEAAAAAAEHARoADAAZADwAQAAAEyIOARQeATI+ATQuAQciLgE+AjIeARQOATcuASIOAgczND4BMh4CFAYPAQ4BFxUzNTQ2PwE+AjQmBzMVI40hOCEhOEI4ISE4IRwwHAEbMDgvHBwvAQUPEQ8KBAEXBQcGBQQCBAMOAwQBFgQDBwQGBAQuFRUBGSE4QjggIDhCOCHhHC84MBwcMDgvHJ4FBgYLDQcFBwMBAwUICQQQBAkFDAkECAQIBAoLDQxeFgACAAAAAAEKAQ0AEAAiAAA3DgEVMjMyFhQGIyImNTQ2NxcOARUyMzIWFAYjIiY1NDY3F4YjIAMFExwaFRsdLy+ZJCADBRMcGhUbHTAuFuoWMyQYKxsqJjVOGyMWMyQYKxsqJjVOGyMAAAgAAAAAARkBGgAMABkAJQAxAEMATgBSAFYAADc0NjcnDgEUFhc3LgE3FBYXNy4BNDY3Jw4BFyc+ATQmJzceARQGNwceARQGBxc+ATQmBxYPARcHJyMHJzcuAT4CHgEHDgIeATI2NC4BFyMHMxcnIwc4EA8OERMTEQ4PEBQNDA0JCgoJDQwNkA4KCgoKDgsNDQ4NDhAQDg0RExNLAQUFQBEOaA8RQAUEBw0PDQkeAgQBAgUGBgQFAgURJhkRNhDDFSYODREsMSwRDQ4mFBAfDA0JGBoYCQ4MH00OCRgaGAkNDB8hH4YNDiYpJg4NESwxLEIKCASRCCEhCJEGEBAJAQYMAQEEBQUDBQcEAickOCUlAAAAAAUAAAAAARoBCwAVAB4AKgAzAD8AADcUBzM2LgEOAh4BNzUGLgE+Ah4BBzI2NCYiBhQWFzI3Fw4BIiYnNx4BNzI2NCYiBhQWFzMVMxUjFSM1IzUz4QETAyA7QC4MHDkgGi4YBiMzMR56CAsLEAsLLhQODQkZGxkJDQcSLwgLCxALCzcTJSUTJSWfBAUgORwMLkA7IAMTAxgvNCcNEysRCw8LCw8LLw4NCQsLCg0HCC8LDwsLDws4JhMlJRMADgAAAAABGgD0AA8AEwAXABsAHwAjACcAKwAvADMANwA7AD8AQwAAJSMiBh0BFBY7ATI2PQE0JgcjNTMHIxUzByMVMzczFSMXIxUzJzMVIzcjFTMnMxUjFSMVMwczFSM1MxUjNyMVMwczFSMBB88ICgoIzwcLCwfPzzkSEhITEyUTExMTE4NdXYMmJl4TExMTSxMTExM4EhI4Jib0CwiDCAsLCIMIC5aDExITEzgSORISEjgTOBITExMSXRISEhMTAAAAAAMAAAAAAOIA4QAIABUAHgAANzI2NCYiBhQWNxQOASIuATQ+ATIeAQc0JiIGFBYyNpYICwsQCwtTFCMoIxQUIygjFBMhLiEhLiGDCxALCxALExQjFBQjKCMUFCMUFyEhLiEhAAADAAAAAAEWARsACAAeADEAADcyNjQmIgYeATceARcWFRQHDgEHBicuAzc2Nz4BFzY3Nic0JicmJyYGBw4BFhceAZYQFhYgFgEVGxYpECYeDyYWMCcUHhADBw8mEishJhkZAhEPHSYTJg8gFyEiECZxFSAWFiAVqAEUECk3KycSFwQJFgsiKi4VLhkMDPQJHyIlFyoQHQMBCQsYTkgTCgYAAQAAAAAA6wEKABkAABMVByM1MycuAQ4CFh8BBycuAT4CFh8BNeoJQjASDSIjGQoKDWENYhAMDCEsLBENAQdCCRISDQkJGSMjDGINYREsLCELCxENJwAAAAoAAAAAASoBLAAVAB0AIQAuADIANgA6AD4AQgBHAAA3Byc3IyIGFBY7ARUjLgE0NjczJzcXEyMnNTczFxUnMzUjNzMXFQcjNTM1IxUjNRcjFTMHMxUjFyMVMzczFSMXIxUzJzEzFSOLKw4aPA0REQ0LCxQcHBQ8Gg4rRXgKCngKeGRkRngKCjIoZBQUPDw8PDw8PDwUPDw8FBQqKhbzKw4aERkSFAEdKB0BGg4r/v8KoAoKoAqMeAqgChSMPEaCFBQUFBTIFDwUPBQAAAEAAAAAAQkBBwAdAAA3IzUzFxUjNQ4BHgE+AiYnNx4CDgMuAj4BWDJBChMaERo5QCsFJB8FGSUSBBorMzElEgQa9BMKQSUTPzwfCzBBNQoSCCMwMywdBxAjMDMsAAAAAAIAAAAAAQgBBwARABUAABMzFTcXBxcHJxUjNQcnNyc3FwczFSO8EjAJMDAJMBIwCTAwCTCWS0sBBzsdEB0eEB06Oh0QHh0QHVtLAAAFAAAAAAEtARIAEgAfACwAMgA4AAATMxcVJic1IxUzFBcjNTM1Iyc1FyIOARQeATI+ATQuAQciLgE0PgEyHgEUDgE3JzcXBxcnFwcXNycR/gkJCuphFE46awrXFSQVFSQqJBUVJBUQGxAQGyAbDw8bEBoaCRMTSxISCBsbAREJbAcFVrAgGhMUCcRsFSQqJBUVJCokFYgPGyAbEBAbIBsPJxsbCRITERITCBsbAAAAAAIAAAAAAPIBGgAGAA0AADcnNycHFRcnFwcXNzUn8ktLDFBQrk1NDFJSeUpLC1AMUFZNTAxTC1IAAQAAAAABGgCpAAMAACUhNSEBGf76AQaWEwAAAAsAAAAAARoBGgALABUAJgA6AEQAWABhAHMAewB/AIYAADc2MhYUBiInByM1MxUUFjI2NCYiBhUHJzcXNTQ2OwEVIyIGHQE3FzczNTQjIgYHFTYyDwEGFRQWMzI/ARUUBiImNTQ/AQcjNQYjIiY1ND8BNCIHNT4BNzIVBzUHBhUUFjI2FzI3NQYiJjQ2Mhc1JiciBhQWJzczFxUHIyc3FTM1JzczFxUHNdoEDggJDgMBCwsEBwQDBwWMJwwTDwssLAQFEgw7DRIECQMHDwELDgcGCAQBBQYDBgcsDAQIBgcOCw4HAwkEEQwHBgMGBDcJBQUMBwgLBAMIDA4NfRKpExOpEhKpcBKEEhL6CQ4YDwcGSjQEBwgOBwgFTigMEx0KEBEGAx0SDA0gFwMCDAUJAQMQBwkJEgQEBwQCBwEBrwcJCQcQAwEJBQwCAgEXCwQBAQcCBAYSAw4ECA4JBA4CARAaD0sTE10TE11dXSYTE14TcQAAAAYAAAAAAOIBGgAQAB0AJwA6AEIARgAANxc3Jwc1NDY7ATUjIgYdAScXMxY+ATQmIgcnIxUzPQE0NjIWFAYiJgcGIyImNSY2MzIXFSYiBhQWMjcnBxUXMzc1JwczFSM8KykNEwYDHRwMEBRvAQUVDQsWBgEQEAYLBgYLBhAHDhATARYRDAYHEQsKEQheExODExODg4PmKyoNEx4EBhIQDB4ULwkBEh4RCydcGwcHCAkRCgmWBRQQEhUDEwULEwsFWxNwExNwExNwAAAAAAEAAAAAAQcBBAAVAAATBxUXNyczMhYXFh0BMzU0LgIrATd2S0sOPSQnNBAeExEmPCkiOwEETA1LDTwQEB9HBgYnOSYTOgAAAAkAAAAAARoBGgAoACwAMAA0ADsASwBTAFcAWwAANyM1MzUjIg4CHQEGFhcWFzM1IyInJic0PQE0NTY3NjsBFSMVMzc1IycjFTMHMxUjFTMVIxcjNTMVIyc3MxcVByMVIzUjIiY9ATQ2FzM1IyIGHgE7ATUjJzM1I/SpS1AGDQkEAQsKBgYFBQMCBgICBgIDrktUChODExMTExMTEwUFOAUXQlQJCS8TEggLCxEJCQQGAQUgJiYTOTlxlhIFCgwGsgoQBAIBEwEDBQMCCgIDBQMBJhMKVHETExITE4M4OBzqCXEJExMLCF4HC3ATBggFExI5AAAHAAAAAAEaASwADwAfAC8APwBHAFcAYAAANzEyFhUxFAYjMSImNTE0NhcxMhYVMRQGIzEiJjUxNDY3MTIWFTEUBiMxIiY1MTQ2NzEyFhUxFAYjMSImNTE0NgczNxcHIyc3FyMVMx4BMjY3MzUjLgEiBhcUBiIuAT4BFp8EBgYEBAUFBAQGBgQEBQUEBAYGBAQFBQQEBgYEBAUFBRNEDVQNVQ4MODgEJTElAzk5AyUxJWwbJxsBHCcb4QUEBAYGBAQFJQYEBAUFBAQGSwYEBAUFBAQGJQUEBAYGBAQFeUUOVFQOrRMYICAYExggICEUGxsnGwEcAAAAAAQAAAAAARoBGgAJABMAIwAsAAA3FTM1FzcnIwcXNxUzNRc3JyMHHwEjFTMeATI2NzM1Iy4BIgYXFAYiLgE+ARaWE0QNVA1VDkQTRA1UDVUODDg4BCUxJQM5OQMlMSVsGycbARwnG/wSEkQNVFQNDC4uRQ5UVA40ExggIBgTGCAgIRQbGycbARwAAAAABAAAAAABBwEIAC8AOABBAEoAACU0LgEOARYXFRQPAScmPQE+AS4BIg4BFhcVFBYfARUOAR4BMj4BJic1Nz4BPQE+ASc0NjIWFAYiJhcUBiImNDYyFjciJjQ2MhYUBgEHFB4XBBAOBTQ0BQ4QBBUcFQQQDggHMw4QBBUdFQMQDTIICAwPuwsQCgoQC2cLEAsLEAsvCAsLEAsL4Q8VAxMcGQMUBgMaGgMGFAMYHBISHBgDFAgOAxsYBBccExMcFwQYGgQOCBQDFA0ICwsQCwuhCAoKEAsLjgsQCwsQCwAAAAADAAAAAAEaASwADwAYACIAADcjFTMeATI2NzM1Iy4BIgYXFAYiLgE+ARYnNTMVNxcHIyc3Xjg4BCUxJQM5OQMlMSVsGycbARwnGzgTRA1UDVUOSxMYICAYExggICEUGxsnGwEcXnl5RQ5UVA4AAAAAAwAAAAABGgEaAAkAGQAiAAA3FTM1FzcnIwcfASMVMx4BMjY3MzUjLgEiBhcUBiIuAT4BFpYTRA1UDVUODDg4BCUxJQM5OQMlMSVsGycbARwnG/xmZkQNVFQNbRMYICAYExggICEUGxsnGwEcAAAAAAYAAAAAAQcBGgAmACoALgAyADYAPQAAJTUnIyIHBgcGBxUUFxYXFjsBNSMiJyYnJj0BNDc2NzY7ARUjFTM3JzUzFSczFSMVMxUjFyMVMxcHIzUzFSMBBwq3BgYNBQIBAwUNBgYFBQMCBgIBAQIGAgOuS1QKvKmWExMTExMTEwkXBTgFcZ8JAgYNBgayBgYNBQISAQMFAwIKAgMFAwEmEglClpaDExMSExNnHDg4AAAABAAAAAABGgEaAAsAFAAYABwAABMzFxUHIwcnNSMnNRczNSMVMxcVPwEzFSMVMzUjHPQJCX82EC8JenrhLgooBxISEhIBGQm8CTYHLwm8sqmpCiEomV4lEgAAAAAEAAAAAAEHARoACQAOABoAHgAAEx8BFQcjJzU3MwczNScjFyMVMxUzNTM1IzUjBzMVI8k4BRKpExNwcKk5cEslJRMlJRMlXV0BFDgOqBMT4RLzqDlLEyYmEyWDEwAAAAAHAAAAAAEaASwACAARABoAIwAwAFYAZgAANxQGIiY0NjIWBxQWMjY0JiIGFxQWMjY0JiIGFxQGIiY0NjIWBzY3Fw4BIiYnNx4BPwEUBgcVMzIWHQEXFQcVFAYrASImPQEnNTc1NDY7ATUuATU0NjIWByIGHQEUFjsBPgE9ATQmI5YWHxYWHxY4Cw8LCw8LOBYfFhYfFjgLDwsLDwsuDgsNCRkcGQoNCRgNEgoJLxggExIhGHAYIBMTIBgvCQoQGBBUEBYWEHAQFhYQlhAVFSAVFRAICwsQCwsIEBUVIBUVEAgLCxALC0UDCw0KCgoKDQkHArcJDwMBIRcTEyUTExchIRcTEyUTExchAQMPCQwQEDsWD3EQFgEVEHEPFgAAAAAGAAAAAAEaARoAEQAWABsAKAAuADcAAAEiBwYHIwcVHwIzNzU2NzY1BzMGBycXJzY3FS8BNjc2NzY3BgcGBwYHNSM1IxU3Ni4BDgEeATYBEC8uJSROCQNwBzgJIRMX8zEXEwdqBxsXQEAQFSMkMC8DHhckF0glE7cGBRMXDQUTFwEZFxMhCTgHcQIJTiQlLi9UGBsHagcTFzEVQBgXJBceAy8wJCMVOBMlOJAJFw0FExcNBQAEAAAAAAElAQcAHgAoADUAPgAANzU3Mx8BMxcVMxcPASM2NzM3IyYnPwEzNSMvASMVBhcUBiImNDYyFhUzFA4BIi4BND4BMh4BBzI2NCYiBhQWEwleBhFsChUJMglGBwUzLWwGCAMGVWcHEFAKVREXEREXECYSHiMfEREfIx4SQhQbGycbG7dGCgMQCi4MhAYICnEHBgMDJQMQMQVXDBAQGBAQDBIeEREeJB4SEh5BHCcbGyccAAAABAAAAAABGgEHABwAJgAzADwAADczFxUHIzY3MzcjFSYnPwEzNyMvASMVBgc1NzMXBxQGIiY0NjIWFTMUDgEiLgE0PgEyHgEHMjY0JiIGFBaRfwkJbAcFVgF3CAkHBnoBegcQUAoJCV4HEBEXEREXECYSHiMfEREfIx4SQhQbGycbG/QKuwkICoQBBgQGAxMDEDEFB0YKA50MEBAYEBAMEh4RER4kHhISHkEcJxsbJxwAAAAAAwAAAAAA9AD0AAQADgAYAAA3IzUyFicVMh4BFTM0LgEHFTIeARUzNC4BXiYQFiYuTi0TM1YzGisZEx8zOCYWrBMtTi4zVjNLExkrGh8zHwADAAAAAAEaAPQACQAOABIAADcXMzc1LwEjDwEXJzczFyczFwcTfA58Pgd8Bz6DbzV0NW8yIlSlfHwOPgMDPnZvNTUiIlMAAAADAAAAAAEgARoABQAIABIAABMHFRc3NQc1HwEzFwcnFSM1BychDg6ppI4wDS8NHxMfDQEZCOEHcBBnvl8LLw0fZmYfDQAAAAAFAAAAAAEXAPgABgAQACAAMgA5AAA/ATUnFRcHJzcXFQc1NycVIxcmDgEeATY3MTY1NCcxLgEHNhcxFhceARUxFg4BLgE3MTYXByMnNxc3n3eahmNqDp9DLoYSIRgmDhEpLhAPEwgVLQ0TEQ0GCAEWIx4PBgVKIw0RDAwdL1AOZxVZQqwHag4tFR9ZQA4BGS0sFwgTFBYbFQgKGAoBAg0GEwsQHQgSIBIREyMRDQwdAAMAAAAAARYBBwAFAAgADwAAEwcVFzc1BzUXBzc1JxUXBzQODqmlj1akpI6OAQcI4QhwEGe+X3VtEG4XX18AAAADAAAAAAEgARoABQAIABIAABMHFRc3NQc1HwEjJzcXNTMVNxciDw+ppY49DS8NHxMfDQEZCOEHcBBnvl+OLw0fZmYfDgAAAAAEAAAAAAEWAQcACQAcAC4ANQAAPwEXFQc1NycVIwcmBgcGFhceATY3MTY1NCc1LgEHNhcxFhceARUxFg4BLgE3MTYXByMnNxc3Xg6pbFaOEwMZKAgEAgQJKzEREBQJFjAOFBIOBwgBGCQgEAYFTyUOEg0MH/8IcRBIFzlfRA8BGhkMGAwWGQoTFRceFQEICxkKAQINCBQLER8IEyETExUlEw0MHwAAAAAEAAAAAAEWAQcACQAcAC4AOgAAPwEXFQc1NycVIwcmBgcGFhceATY3MTY1NCc1LgEHNhcxFhceARUxFg4BLgE3MTYXJwcXBxc3FzcnNydeDqlsVo4TAxkoCAQCBAkrMREQFAkWMA4UEg4HCAEYJCAQBgUsFgwXFwwWFwwXFwz/CHEQSBc5X0QPARoZDBgMFhkKExUXHhUBCAsZCgECDQgUCxEfCBMhExMXFwwYFwwXFwwXGAwAAAAABAAAAAABGgEaAA8AGAAcACYAACUvASMHFSMHFRczNzUzNzUHIzUzFTM1MxcHNTMVFyM1LwIjNTMXARYcBqAJLwkJvAkvCUuoEnEPFl0lcSYDHAZekhf6HAMJLwm8CQkvCaDOqDk5Fg8lJUteBhwDJhcAAAAFAAAAAAEaARkAFAAYACAAIwAnAAATHwEVIwc1JyMVIzUjFTMHIyc1NzMHMzUjHwEVDwEnPwEPAT8BFzcnzx8GCgkfBnElOAouExOcPyYmehxyOQwccmcKEwMPYQ8BEx8OBgkPIEtLvBISvBNLOTkcDXIcDThyhxMJHQ9hDgAAAAMAAAAAARoBGgAJABIAFgAAEx8BFQcjJzU3MwcVMzUnIxUjNTMVMzX6HAMJ9AkJ2M7hFyKDSyYBFx0G2AkJ9AkS4coXS0s5OQAAAAAGAAAAAAEaAQcAAwAHAA4AFQAcACMAADczNSMXMxUjJyM1NzMVIzcVIzUjNTMHMxUHIzUzIzMVIyc1Mzi8vCZwcDgTCUI48xI5QgkSCUI54ThCCRNLliVLS0EKEwlBOBOWQgkSEglCAAYAAAAAARoBGgAGAA0AFAAbACMAJwAANyM1MzUzFTc1IxUXMzUHFTM1MzUrARUzFTM1JzcHIyc1NzMXByMVM0IvJROpEwkvOBMlL9clEwmfCYQJCYQJJUtL4RMlLwolLwkTsi8lExMlLwkcCQleCQkcJgAAAwAA//8BLAEQABIAHwAvAAATIg4BFRQWFwcXNxYzMj4BNC4BBzQ+ATIeARQOASIuARcHIyc3FzczFzczFxUnByOWFycWDAtFDUYVGhcnFhYnWRIeJB4SEh4kHhJVKA4cDRYoDSkoDR8lKQ0BEBcnFhEeDEUNRg4XJy0nF1QRHhISHiMeEhIegigcDRUoKCgfGiUoAAQAAAAAARsBHwAcACkAMgA6AAA3DgEXFhcGFxUnByc3LgE+AR4BFRQHJic1NC4BBhc+AR4CDgIuAjYXFjcWNycGFRQ3FzYnNiYjImwTCQsIDwIBCUcORxcFJEFCKQEICR0vMicQKSQWAxIiKCQWAhESERcSD08KGE4LAQEhGBLuEzUYEgwJCQMGRQ1FGUU6GRM3IwcIBwYCGioUCmQLAxIhKCQXAhEiKCRbEQEBC04OEhhGTw8SFyEAAAAAAgAAAAABLAEtAA8AHQAAEyIOARYXBxc3HgE+AS4BIxUiLgE0PgEyHgEUDgEjvx8zGQkUZA5kG0M4FhQ3IRcnFxcnLiYXFyYXASwhODwWcwxyFQImQEEouxYnLicWFicuJxcAAAIAAAAAARoBEAAGAA0AABM3FxUHJzcXBzcnHwEVEw74+A4dFBjR0RhlAQgIcBFwCG8JV2JfVgISAAAAAAYAAAAAARwBGgADAAcACwAdACEAKQAANzMVIxUzFSMVMxUjFyE3MzU0PgI7ATIeAh0BMwczNSMXJyMVIzUjB3FLS0tLS0ur/vQYIwMFBwRwBAcFAyOmcHCmDhWWFQ70E14SExNLXqkDBwUDAwUHBKgmz/Q4JSU4AAYAAAAAARoBBwAMABAALgA3AFUAXgAAEzMXFSM1IxUzFSMnNRczNSMXNSYnByc3JjcnNxc2NzUzFRYXNxcHFgcXBycGBxUnFBYyNjQmIgYXNSYnByc3JjcnNxc2NzUzFRYXNxcHFgcXBycGBxUnFBYyNjQmIgYc9AkS4YONCRPh4V0FBBEKEgEBEgoRBQQTBQQSCRIBARIJEgQFFwgLCQkLCWUFBBIJEQEBEQkSBAUSBQQSCREBAREJEgQFFwgMCAgMCAEHCno5hBIJzi8mqRUBAwoRCgUFChAKBAEVFQEEChAKBQUKEQsEARUvBggIDAgIbRQCAwoQCwUFChAKAwIVFQIDChAKBQULEAoDAhQvBgkJCwkJAAAGAAAAAAEHARoABwAbACMANwA/AFMAADcnNTczFxUHJyMVIzUjFSM1IxUjNSMVMzUjFSMHJzU3MxcVBycjFSM1IxUzNSMVIzUjFSM1IxUjFzc1JyMHFRc3NTMVMzUzFTM1MxUzNTMVMzUzFS8JCc4KCkETExMSExMTvCYSjQkJzgoKjBMTE7wmEhMTExKMCgrOCQkJExMTEhMTExImzgo4CQk4CjkTExMTExMmJhODCTgKCjgJOBMTJiYTExMTE4MJOAoKOAkTJRMTExMTExMTJQAAAAQAAAAAASwBLAAXADcAQwBOAAA3FxUHFwcnByMnByc3JzU3JzcXNzMXNxcHNzUvATcnBy8BIw8BJwcXDwEVHwEHFzcfATM/ARc3LwE2MzIWFRQOAS4BNhcWMzI2NC4BDgEW+DQ0HissCzwLLCodNDQdKiwLPAssKzEyMgccESsRChkKECsSHQcyMgcdEisQChkKESsRHGALDRIZFB4bCwgZBgYJDAkPDgYFvws8CywqHTQ0HissCzwLLCseNDQeK2wKGQsQKxIdBzIyBx0SKxALGQoQKxIdBzIyBx0SK0sHGRIPGAYOHR0tAwwRCwMHDg8AAAAEAAAAAAEHAP4AGQAjADwARgAANzIWFzMyFhQGByMOASImJyMiJj4BNzM+ATMXIgYUFjI2NCYjNzIWFzMyFhQGByMOASImJyMiJjQ2NzM+ARciBhQWMjY0JiNxDBUDaAQGBQNqAxUZFQMdBAYBBAMfAxUMAQgLCw8LCwhMDBUDHQQGBQMfAxUZFQNoBAUEA2oDFQ0ICwsPCwsIehAMBgcFAQwQEAwFCAUBDBATCw8LCw8LlhAMBQgFAQwQEAwGBwUBDBATCw8LCw8LAAAFAAAAAAEZARoADAAlAD0AQABCAAA3IwcVFzM3NSMVIzUzFyM1NDY3NTQ2Mh8BFQcGIiY9AQYHBg8BIzciDgEPATM2NzY3NjMXFBYyPwEnLgEGFQcyMCMxXkIJCc4KE7s4ExMqIQ8VB0VFBxUPFQoEAgETTBQhFQEBBAUKDxcJCQEDBgJERAIGAzkBAeEJvAkJOC+pcC8hNAYYCg8ISRlJCA8KFAURBwoGehMgEyEPCw8EASgDAwJJSAIBBAOiAAADAAAAAAEaARwAJABFAFEAADcuBTc1NzI+Ajc2NzYXFhcWFx4DMxcVFA4EBycVFB4DHwE2Nz4EPQEjJicmLwEmJyYHDgMHFz4BLgEiDgEWFwczmw8cGhYRCgEJChARDwcLDBITDAsGBQgPERAKCQkRFxkcD2wIDxUYDRYMCw0YFQ4JCwkKFBEJCAoODwkRExMKaAkKBBAUDwQJCgglGAkTFhkeIxI8CQIDBgUHBAUDAQYDAwUGAwIJPBIjHhkWEwnRMxAdGxcVCA8HCAkUFxsdEDMBAgQLBQQCAgQDCwgEAVEEEhMNDRMSBDEAAAMAAAAAARsBBwAVABkAIwAANzUXNScjBxUfATc1Mzc1BxUjNS8BMwcnNR8BMxUjFwcnNTcXzxIJqQkGXgxCCRI5BkSDTEtLOl1cHg4uLw3lARMqCgrKCSAJEwkqEw6cCBjUGa0ZLhMeDS4NLw0AAAADAAAAAAEbAQcAFwAbACUAADcVNzUnIwcVMRUfATc1Mzc1JxUjNS8BMwcnNR8BIzUzJzcXFQcnzxIJqQkGXgxCCRI5BkSDTEtLe15dHg0uLg3lHRMiCgoJwQkgCRMJIhMsnAgY1BmtGUATHg0uDi4NAAAAAAUAAAAAAR0BHQAMABkAIgArADgAABM+AR4CDgIuAjYXHgE+Ai4CDgIWNxQGIiY0NjIWFxQGIiY0NjIWByImJwceAT4BNycOAU0dRz8oBCA7RT8oBB4pGTw2IgQbMzs2IgQaPAsQCwsQC14LEAsLEAtCEBoIEAolKiMJEAccAQMUBR87RkAnBB48RT+3EAUbMj02IQQbMjw1XwgLCxALCwgICwsQCwtTEA0JEhUBFhMIDhEAAAMAAAAAARoBGgAIADEAWAAANxQGIiY0NjIWJyIGFRQXByMVMxUzNTcWFzMVIyIGFSIGHgE7AT4BNCYjNCYjNTQuASMHNDY7ATIWHQEXMzIWHQEzMhYUBisBIiY0NjsBNTQ2OwE3NScjIiaWBQgGBggFLxMcCBUiHRIVDA4cEhAWEBYBFRCpDxYWDxYQER8RQhAMJhMbCgkICxMICwsIqQgLCwgTCwgcCQkmDBDqBAUFCAYGKxsUDgsVExwhFQcBJRYPFiAWARUgFg8WQhEfES8MERwTSwoLCBILEAsLEAsTBwsKOAkRAAAHAAAAAAEaAQcACgAOABIAGgAeACIALAAAEwcVMzUzFTcXNScHMxUjByMVMycHFRczNzUnBzUzFScjFTM3IxUnBxczNycHgxIShAMPEnEmJjgmJjgTE4MTE4ODEyUlXhMWDSYNJg0WAQcTODguAw86EyYlOSVLE14SEl4TcV5eOSaWSBYOJiYOFgAAAAQAAP//AQcBLAAsADUAPgBHAAAlNC4BDgIeARcOASsBIgc1PgEuASIOARYXFQ4BHgI+ASYnPgE7ATI2Nz4BJzQ2MhYUBiImFxQGIiY0NjIWNyImNDYyFhQGAQcOGBoWCQQSDQUSCyUWEBIVAxskGwMVEhIWAxkkHAYSEgUSCyUSHQYRGM4QGBAQGBA4EBgQEBgQZwwQEBcREcUNFwwCEBkaEwQKCw9bAx0kGBgkHQNyBBwkGQIWJB4FCgsVEQIbSQwQEBcREcIMEBAXERFuERcQEBcRAAAAAAIAAAAAARoBGgAsAFcAADcWMjY/AT4BPwE+Ai4BLwEuAS8BLgIOAQ8BDgEPAQ4CHgEfARYXFh8BFhcWMjY/AT4BPwE+Ai4BLwEuAS8BLgIOAQ8BDgEPAQ4BFBYfAR4BHwEWZQUNCgIIBA4KGgUGAwIGBxkKDwMJAgkJCQYCCAMPCRoFBgMCBgYaDAkEAwgCeAQKCAEFAQcFDgUFAQMFAw8EBwEFAgYIBgUCBAIGBQ4FBQUFDgUHAQUBYQMHBhoKDgQIAgYJCQkCCQMOChoGBgIDBwQaCg4DCQEHCQkJAggECwYHGgZPAwUFDgUHAQUBBwcHBQEFAQcFDgUFAQMFAw4FBwEFAQgKCAEFAQcFDgUABAAAAAABGgEaACwAQABrAH8AADcWMjY/AT4BPwE+Ai4BLwEuAS8BLgIOAQ8BDgEPAQ4CHgEfARYXFh8BFj8BFx4BHwEHDgEPAScuAS8BNz4BFxYyNj8BPgE/AT4CLgEvAS4BLwEuAg4BDwEOAQ8BDgEUFh8BHgEfARYvATc+AT8BFx4BHwEHDgEPAScuAWUFDQoCCAQOChoFBgMCBgcZCg8DCQIJCQkGAggDDwkaBQYDAgYGGgwJBAMIAgcKCAUVDhoaDhUFCQkEFQ4aGg4UdgQKCAEFAQcFDgUFAQMFAw8EBwEFAgYIBgUCBAIGBQ4FBQUFDgUHAQUBDQMDCQ0DAQEDDQkDAwkNAwEBAw1hAwcGGgoOBAgCBgkJCQIJAw4KGgYGAgMHBBoKDgMJAQcJCQkCCAQLBgcaBocaGg4VBAoJBBUOGhoOFQUJCQUUyAMFBQ4FBwEFAQcHBwUBBQEHBQ4FBQEDBQMOBQYCBQEICggBBQEHBQ4FMgEBAw0JAwMJDQMBAQMNCQMDCQ0AAwAAAAABGgEaAAcACwAPAAABIwcVFzM3NQcjNTMXIzUzAQfPEhLPEoNeXnFeXgEZEs8SEs/Pz8/PAAAAAwAAAAABGgEaAAcACwAPAAABIwcVFzM3NQcjNTM1IzUzAQfPEhLPEhLPz8/PARkSzxISz89eE14AAAAAAwAAAAABGgESAE0AnACmAAA3JiMuASMVDgEHFRYXFhcyMQYHBgcGHQEUFjI3MwYHIw4BFQYWOwEWPgInJi8BLgE2PwEzMhcWFxY2NzY1NCcmJyYHBgcGByYnNTQmJxcWBwYHBisBNDY7ATUmNjcnBgcjIgcGJj4BOwEyNj8BBiYnPgE3MzIXFhcWHwEzNSY2Nz4BNzYXHgEXFRQOASYnJgcOAQcGFh8BHgEHJi8BIgYUFj4BNCYjaAEBAg8KFh4EBREICgEQCggEAwsPBycFAgYRFwEEBH0QHBYJAQENAgcFAwMCAwMDBgcKEgUCDQwRGBoSDQoFBQcPDGQCAgMOCAluCggYARIODAgDPAMCBQUECgcTBAUBBg8cCgQhFQIIBwoQCAYBAwECAQQTDhMQDRECBQcIBAoLBwkCAwcIAgoBBgEHgwQGBgcGBgT6AQkMGQkjFwgKBgQCAgcGCAYHBgcKAwkKAhsSBAUBCxcdEBYRAwgLCQIBAQQCAQkJBgcRFhILDQUDDgsOBwcDCxABuQ8JDggDBwsKDRQBEQMCAQIDCwgFAxgCCQoVHAEDBRULCgEBBxcGDBMCBAkIGwwCBwUCAgIGAwIKBwsXCAMMHg0NDHAFCAYBBQgFAAAFAAAAAAEaARoACQANAA8AEQAbAAA3JwcjFwc3Fyc3BzM3DwI3IwczNxczBxcnBze0Hh5lUh9QUB9S7VIYGBAYqlJSLA4OLCQOJCQOt2JiQGQ+PmRACU9PNFCEES0tHC0cHC0AAQAAAAABGgEaAAkAADcnByMXBzcXJze0Hh5lUh9QUB9St2JiQGQ+PmRAAAAEAAAAAAEaARoACQAPABAAEgAAPwEXMwcXJwc3Jx8BJzcjJzUXI3geHmVSH1BQH1KDJA4kLA5qUrdiYkBkPj5kQEccLRwtM08AAAAAAwAAAAABFgEbAAMAGQAsAAA3MxUjNx4BFxYVFAcOAQcGJy4DNzY3PgEXNjc2JzQmJyYnJgYHDgEWFx4BcUtLMBYpECYeDyYWMCcUHhADBw8mEishJhkZAhEPHSYTJg8gFyEiECa8S6gBFBApNysnEhcECRYLIiouFS4ZDAz0CR8iJRcqEB0DAQkLGE5IEwoGAAAAAAUAAAAAARoA9AAJABMAHAAlAC4AADczNSMHFRczNSM3IxUzFSMVMzc1BzI2NCYiBhQWNxQGIiY0NjIWFzI2NCYiBh4BJhIcCQkcEuocExMcCbsICwsQCwtTCxALCxALJQgLCxALAQrhEwqoChOpE5YTCqhnCxALCxALEwgLCxALCxsLEAsLEAsAAAAAAgAAAAABGgEHAAkAEwAAEwcVFzM1IzUzNRc3NScjFTMVIxUcCQkvJSXFCQkvJiYBBwrOCRK8E+EJzgoTvBIAAAIAAAAAARoA9AAHAB8AAD8BMxcVByMnNyMVIzcnBxUXNyczNTMnNxcVByc3IxUzEwn0CQn0CfRxTCcNODgNKE1JJw03Nw0nSXHqCgqoCgqfQScNNw43DSgSKA03DjcNJ0EAAAAEAAAAAAEUARoAIAAkACgALAAANzM3NScjByM1NzUnIwcVFzM3FRczFRczNzUnIwcjNTMVNxcHJx8BBy8CNxfVDTIZDSJeIyYNSyUOFQlYGA4yGQ0jXk84DCUMJQwlDJAYPRl2Mg0ZIhgiDiVLDSYWbQkKGTIOGSNLCSoLJgw4DCYMeBk9GAAABwAAAAABGgEaABkANQA+AEcAUABZAGIAABMiDgIdAR4BPgEeAg4BFhczMj4BNC4BIwcjLgE1Jjc2NCYiBwYnIiY9ATQ+ATIeARQOASM3FAYiJjQ2MhYXFAYiJj4BMhYnMjYuASIGFBY3FAYiJj4BMhYXFAYiJjQ2MhaWGjAlFAETGhQcFAEUAw4PCyM9IyM9IwEKBAUCCA8fLBAHCgIEHzM9NB4eNB4SCxALCxALOAsQCwEKEAuDCAsBChALC4sLEAsBChALEwsQCwsQCwEZFCUwGggODQQTARQbFRwVASQ8Rzwk9QEEBAwIECsgEAgCBAMHHzMfHzM9NB68CAsLEAsLiwgLCw8LC1YLEAsLEAsTCAsLEAsLQAgLCxALCwAABAAAAAABGgD0AAMABwAPABMAADczFSMXIxUzJzczFxUHIyc3FTM1S5aWlpaWzhPhEhLhExPhvBMmEnATE5YTE5aWlgAGAAAAAAEaAQcADAAVABkAHgAiACYAAD8BMxcVByM1MzUjFSMXNScjBxUXMzcnFSM1Nyc1MxUnMxUjByMVM4MTcRISS0txEyYTcBMTcBMTcIsIS0tLSyZLS/QTE14TE144ORMTE14SEl5eXhMICxM4E10TAAcAAAAAARoBBwAMABEAGgAeACIAJgAqAAABIwcVMzUzFSMVMzc1BzMVIycHIwcVFzM3NScVIzUzBzMVIxUzFSM3MxUjAQdxExNxS0sScEtEByZdExNwExNwcF5LS0tLcUtLAQcTODheExNeOBMHBxNeEhJeE3FeExITE5YTAAAAAgAAAAAA7wEaAAsAEgAAEzczFwczFwcnNyMnFwc3IzcjB4sRPg8pIQ6GHigXEUc2hUU+PkABDwodQCCJFkgbCWOJXoQAAAAABAAAAAABGgEHAAsADwATABcAACUnIw8BFR8BMz8BNQcnNRc3JzcfAQc1NwEPXhGDCgpeEYMKoFRUCVd9Vwd6etgvQhFUES9CEVSRKkYmECc/LFc9STkAAAMAAAAAAQcBGgAJAAwAEwAAJS8BIwcVFzM3NQcjNQc1MxUXMxUBBD4GkQkJzgoTOIRxCULZPgIJ9AkJtgQ54eFCCZYAAgAAAAABGwDiABcAIQAANyIGByMuAQ4BFB4BNjczHgI+Ai4CByImNDYyFhQGI9gZJQM6BBcdEhIdFwQ6AhUfIhwPAhIdERQbGycbGxPhIBgNEAMVHRUEEA4RGw4EEx4jHBFwGycbGyccAAAABQAAAAABGgDrABIAJQA/AEoAZQAANxY+ATc2JzYnLgEjIgc1IxUzNTc2FzYXFhUWBw4BJwYmNzUmNzYnDgEPARU3NjcyFhUHDgEUFjMyPwEVMzU2JhcUBiMiJjQ3Nj8BFxY3Fj8BNQcGIiY0NhcyHwE1JyYiBgcGFBcWhwoUEgYNAQEMBhAJEAwTExAFBgsGBwEJAwkGCw8BAQgEUAkRBwIICw8HCRcOFRMOCwkGEQETAQ8LBgkECAoTnAgKDgwDCQkXEBINCggIAwoWEwcPDgZfBgEICBEWFA8HBws0jwZMAwEBCQoNDw0EBgEBEQsLDAoEFgEFBQEXBwoBDAgEARIaEgYFCT8QFzkNEQgMBAUBAy8EAQEIARYGBxQcFgEFBRYBBQgHESoQBwAACAAAAAABGgEHAAMABwALAA8AEwAXABsAHwAAJSM1MwcjFTMnIxUzFyMVMycjFTM3IxUzJxUjNRcjFTMBGV1dEiYmS6mpJc7OXnBwll1dg4NwXV3hE0sTExNeEksTExOpOTkTEwAAAAAEAAAAAAEHARoACwAPABMAFwAANycjDwEVHwEzPwE1Byc1Fyc3FwcXBzU3/V0TXgkJXhNdCnpVVVBZWVleVFThODgQcRA4OBBxozJhLkE1NTFDMmUuAAAABQAAAAABHAEaAAgADAAQAB0AKQAAEzMVFhc1IxU3FycHMyc/ARc3PgEeAg4CLgI2Fx4BPgImJyYOARZLlgoJvBMoFUuWdiALKyoPIyAUAhAeIh8UAg8ZChkXDgIMChAmFggBB0sBBGKfISolgxM4E0t4CgIPHiMgEwIQHSIgVAcCCxUaFgcLCCAmAAACAAAAAAEHAQcARgCNAAA3NSMiDgEHMQYHMQYXFRQHMQYHBisBFTMyFxUWFxUWFzEWHQEGFxUWFzEeAhczNSMiLgI9ATQmJyYnNjc+AT0BNDY3NjMXFTMyPgE3MTY3MTYnNTQ3MTY3NjsBNSMiJzUmJzUmJzEmPQE2JzUmJzEuAgcjFTMyHgIdARQWFxYXBgcOAR0BFAcOASNxAgkRDAMDAQEBAgQKBQYBAQYFBQMEAgIBAQEDAw0QCQICBgoHBAICBQkJBQICCQcFBk0BCRANAwMBAQECBAoFBgICBgUFAwQCAgEBAQMDDBEJAQEGCgcEAgIFCQkFAgIIAwoG9BMHDQgICAgIEAYFCgUCEgIBAgMBAwUFBhAICAEHCAgNBgETBAgKBhkGDAULBwcLBQwGGQkNBAK8EgYNCAcJCAgQBgUKBQISAgECAwEDBQUGEAgIAQcICA0HARIECAoGGQYMBQsHBwsFDAYZDAgEBAAAAAIAAAAAARoBGgAbAB8AABMVMxUjFTMVIxUjNSMVIzUjNTM1IzUzNTMVMzUHFTM1zktLS0sSSxNLS0tLE0tLSwEZSxJLE0tLS0sTSxJLS0tdS0sAAAgAAAAAARoBHAAOABkAHQApADUAQgBPAFMAABMWFxYUDgEjIiY1NDY3Nhc2NzQuAQ4BFB4BNwcXNxczFTMVIxUjNSM1MycXBxcHJwcnNyc3FzcuASIOAR4DPgIHBgcGJy4BPgIWFxY3IxUzNgoEAgYMCAoPCAcKBAYBBQYGBAUGTGQNY1MSLy8SLy9sDSEhDSEhDSEhDSE6AwwQDQUBBwsNDAcBEQEEBgUCAgEFBgUBBY1LSwEXBAkFDAsIDwsHDQMEJQMHAwYCAwUHBQIiZAxjhy8SLy8SJQ0hIQ0hIQ0hIQ0hcAcJCQ0NCgYBBwoNCAQBAwUBBQYFAQICBTQTAAADAAAAAAEZAOEAGwAiACkAADcjNTQmKwEVFBY7ARUjNTMyNj0BIyIGBxUjNTMXJzcXFQcnIyc3JwcVF84SBgQTBQQKOQoEBRIEBQEScDccDiIhDqccGw4hIrwJBAVnBAUTEwUEZwUECSVMHA0iDiEOGxsNIQ4iAAACAAAAAAEaARsAHwBDAAA3Ii4BNzY3JjQ3Njc+AR8BBxc3FxYUBgcGBw4BJwYHBjciBwYHDgEfAQcGBwYeAjI3Nj8BFxY2NzY3PgE1NCcHJzcmNQ4TAggjQAUGChURKRIMNhc4BQYMCwYIECUSRCAJiRIQBgUOBwgDBEQjAwEHBggDHkkFBQ8gDgYFCQkBMTAwBhMTGQomPg4eDhgNCwQIBTgXNgwPIB4LBgULBAdFHgj1CwMFDiYSBgRCJQULBwIDG0sEAgcDCQMFCRcNBgYwMDEBAAIAAAAAAPQBGgAHABsAABMHFRczNzUnBzUzFSM1MzUjNTM1IzUzNSM1MzVLExOWExOWlpYmJktLJiZLARkS4RMT4RIlE+ESEyYSJhMlEwAACAAAAAABGgEaAAkADQARABUAGQAdACEAJQAAEwcVMzUzFTM1JwM1MxU3IxUzNzMVIzcjFTM3MxUjMzUjFSczFSMvCRLPEgnqEiYTExMSEjgTExMSEl0SJhMTARkJ2M/P2An++hMTExMTExMTExMTExMTAAAHAAAAAAEaAQcABwALAB8AKQA2AEAAUgAAEwcVFzM3NScHNTMVJzM1NCMiBgcVNjIVBwYVFBYzMj8BFRQGIiY1ND8BFyMVIzUzFzYyFhQGIicVFBYyNjQmIgYXMjc1BiImNDYyFzUmByYGFBYmExPhEhLh4aMNEgQJAwcPDA4HBggEAQUGAwYHKwELCwEEDggJDgQEBwQDBwVFCQUFCwcHDAQECAsODQEHE6kTE6kTvKmpOiAXAwIMBQkBAxAHCQkSBAQHBAIHAQEUBkofCQ4YDxwFBAcIDgcIIQMOBAgOCQQOAwEBEBoPAAAAAAYAAAAAARoBBwAHAAsAEwAYACAAJQAAEwcVFzM3NScHMxUjBzczFxUHIyc3IxUzNTM3MxcVByMnNyMVMzUmExPhEhLh4eETEzgTEzgTJRI4XhI5EhI5EiUTOQEHEzgTEzgTEzhLEhI5EhI5OTkSEjkSEjk5OQAAAAYAAAAAARoA4QAJABMAHwAjACcAKwAANzM1IwcVFzM1IzcjFTMVIxUzNzUHFxUPASMvATU/ATMHFzUnNxc3Jwc3NQcmJS8JCS8l6i8mJi8JPAQGVAkuBQZUCVAcHAsbPxsbQkLOEwmWChOWE4MTCpYnCC8JJRwILwgmVxEZEQ8QHBBXHRodAAADAAAAAAErAQgAEQAjACcAADcnPgEeARc3FwcjJzcXLgIGHwEGLgInByc3MxcHJx4DJzcXB2cPGj02IAEXDicPJw8XARosMUAPGjoyHgEXDycOKA8WAhgnLpIN3w3nDREDHDMfFg4nKA4XGCoYAbMNDgEdMR0XDicoDhYXJxcDvg3QDgACAAAAAAErAQ0AEQAjAAA3Byc3MxcHJx4CNjcXDgEuATcnBxczNycHLgIGBxc+AR4BJhcPJw4oDxYDKT05Dw8TRUkwzRcPJw8nDhcBLkhFFA8QOjwnkRcOJygOFh8vDRocCyEeETovFw4oJw4WJToTGyALGxgQMAALAAAAAAEHAQcABwALAA8AEwAXABsAHwAjACcAKwAvAAATIwcVFzM3NQczFSMXIzUzHQEjNSczFSMVMxUjFTUzFTM1MxUzIzUzNSM1Myc1MxX94QkJ4Qrhzs6DODg4Szg4ODg4EzhLODg4ODg4AQcKzgkJzgkTOCU4JSU4JRMlOSYmJiYmEyUTJSUAAAMAAAAAAScBBwARACMAMAAAEyMPARUXMzcWMj4BPwE0Jic1ByYjIgYUFjMyFxUHBg8BJzczFx4BFQYVDgMnPwH4YgZ9YQ0qEiolFwIBFBETDg4EBQUEDw1JAwIlVHNUEwkKAQIRGx4ORQMBBwN9DWIqChQiFQoVJQwqIQUFCAYGKEoBAyZUdDkKFw0FBQ8ZDwIGRQcAAAAABQAAAAABGgEaAAgAFQAeACsAOAAANzI2NCYiBhQWNxQOASIuATQ+ATIeAQcyNjQmIgYUFjcUDgEiLgE0PgEyHgEHMj4BNC4BIg4BFB4BlggLCxALC1MUIygjFBQjKCMUSxchIS4hIZojPEg8IyM8SDwjgx8zHx8zPjMeHjODCxALCxALExQjFBQjKCMUFCNMIS4hIS4hOCQ8IyM8SDwjIzyUHjM+Mx8fMz4zHgAAAAAEAAAAAAEaARoABgAKAA4AEgAAPwEnBycHFzcjNzMHMxUjFyMVM0NrDWQcDiLkmStuqKioqKiorl0OViIMKh8mSyYlJgAAAAAFAAAAAAEGARoAEwAXABsAIAAqAAATHwEPAS8BBy8BBy8BPwEnPwEnNwcXNyc3FzcnNxc3Jw8BFyMnFSM1ByM30wsnBD4LA0MKAzALDgUvAwRDAwVnBioHChU4FAojKyEuBTkWIxMjFSABGQRdCxoECBwEBxQFHwsUCAodCAtiEBEQFy4YLRhNE00Tc1s4S2FOSQAABAAAAAABEgEjABcARwBRAG4AACUnJiIPAQ4BHQEUFh8BFjI/AT4BPQE0JgcVFA8BBj0BBiciNTc0NzMWNzY0IiY1NDc1ND8BMh0BNhcyDwEUBzEmBhUUFjMyFDcUIwcjNTQ/ATE3Bw4BHQEUFyMiLwEuAT0BNDY/ATYyHwEWFy4BBwEAWQgSCFkICQkIWQgSCFkICQlNAQUBBQUBAgEBBQQHDQYKAQUBBAQCAQIBBQoEBAwkARYBARYQVAkJCAUHB1kGCAgGWQcPBlkLAgIJBuk1BQU1BRAJagkQBTUFBTUFEAlqCRCfCAEBAwECCAMCAQcBAQECAw0EBw0ICAEBAwEIAgECBgEBAQUHAgIaBAEOBgEBDXw0BQwJZwsDAzUEDgdqBw4ENQMDNQcNBAIDAAcAAAAAASwBGgADACAAJAAoADAANAA4AAA3FyMnByIOAhQeAjI3FwYjBiIuAjQ+AjIWFwcuARczFSMVMxUjNyEHFRchNzUHITUhNSE1IcwmDiVTCAwKBQUJDBIJAgQFBxAQDAcHDBISCgICBAklExMTE43+5gkJARoJE/76AQb++gEGqV5eCwUJDxANCQUDCQICBgwRFBEMBwICCQICCBMSE7sJ9AkJ9OqoEyYAAAAAD///AAAA8gEtAAQBFwEaAS0BNQE7AUoBUAFSAVcBXgFjAWQBbgF0AAATIisBNxc2NQc2PQEjLgEnLgEHPgEnDgEHBgcGMzcwByMOAQcUNjEHJgcGBzMGBzEGFQcGFRQXBxcjHgMXJicUFhcHFh8BJhcWHwE3BhczHgEzBxYXMxYXJxceAhcjJicuAjcmNzQnNTY3NTEWPwE2NzM2NzY3MTY3FTY3Nj8BBjM3BzYXMTIzBwYxFjcxNhcnFxYXMjcxNhcVFhcyJzEeARcmMRUWIxYXNSYnFCMxJgYXFjcxNDEXFh8BIicxJhUeARUxIhUUFjczBwYXJxQVMRYHNjQHFgcxBhUnBhYHNjUxNDciDwEOASc0JyYnJjc2NzY3PgIWFy4BDgEXNzI1FB4BNxU2PwEHBjY/ATY1MSY/AQcwOQEUFhcWNwYuAScyFzEWFyYnFhc3IiMyFiMwJxc0IgcXFAcGBzQmNjcUBzEGFD8BNgcuATcWNycPAhcWFycWHwEnJic3BwYHNicVMDMxMhQPATU2BxQHNTQ3hQQDAg5IAwICAQEbEA0jCQEGAQcIAwYGAQEGAwUFCAUEAggPDQUDAgQFAQIEAQMBAgQFBQQEAgUDAgIDAQQDAgYDAgEIBQEIAwMFAgEDBgMGBQ0OBQQUBxwyHAIBAQEHBwIDAwMBAgEFBAcHAgcMBw0IAQEPBwUEBAUFAgUFBgYBCwoKAgIEBQEIAQUPGgUDAQEEAgYGAwIBAgEBAgEBAQEBAgEDAQIBAQIDAQMBAgECAQUEAwQBAwEBAQUHECYUAhIGCQMCAgMFBBIWEgUJGhgOAQEBFR8OBQMJAQMFDgMBAQIEVAYDCxIJGxgGAQUIBAQGCQsDAQEGAgIENgIBAgMCBAQBBAICBAEDGQUGBAcFGgEnAQMEAwUCAgEBAwGMAQIGB+ACAQEEAgYCAwErAZAIBgUIEAoTJgcGAgQBAQEBAgIEAgEBAgEDBgECAwEPDAkFBwkEDBEIDQUHBwkEAQUJAQQCCQUCAwIBAgYDCAQCBQkDBwQBAgMCBAUGBQICAQIILUAhBgwPAgIWDgECBQUHBAQGBAcGAgMGBwMGAwECBAEBAQEBAgECAwQDBQEBAgEDBAUIHhEEBAULCgEUCQIBAwUCAQEEAgYFAgMBBAYBAwUDAQQJBwgDBAUGBgkDBwoIAwQHBQQCAQECBQcNBQcBAg4LDxcBBgsDBwwBCgcIBAsZDgECERsLBwEBAggCAwENAwICAgMDKQEEAgQBBAYQCgUKAQMICgW7AQF6BgQDAQsHBgEBBAUCAgQBAgEEEwECAQEBmQGfBAQGAxcEAgUCBgMYAg8NDlcBAQMDAQMVBAQCBAQAAAUAAAAAARIBLQBaALEAzwEZAT4AADceAR8BFh8BHgEUDgEPAQ4CBw4BIyImJyYvAiIPASIPAQ4BIiYnJi8BLgI0NjUnNDY3Nj8DJzQ+Ajc+ATUnNDU0PgIzMh4CHQEWFxYfAR4CFRQnMhYfARUPAQYPAQYUFxYfAR4BOwEyPwM0LwIuAS8BPQE0PgEzMhYUBhQXMzI2NScuAiMiBgcXJyYHIyI9AS4CIg4BFQcUHwEWMjY1IyIvASY2BzI+AyYvAi4CBg8BDgIVFxQGFBYfAhYXNzI3Njc2NzU/ATQ+ATc1ND8BNj8BLwEmLwEmNScmLwImIg8BBiImLwEmIh0BBwYHFxQXBw4BHQIyHwEWHwEWHwEUBgceAxcyPgE3Nj8CNj0BLwImIyIPAQYiJi8BBwYHBhUHBg8CFBb5BAUBAgEDAwIDAwYEBwYJCgYEBwQICwQCAQQdBwYNAQEEAwgLCgUJCRkDBQMDAQcHAwIFBwEBBwoMBggJAQULEg0OEgkDAQMDBA4HDAh+AgMBAQEEAQIGAgIDAQQBBgYBBgUOCwEBAgUDBwMBAgMCBQQCAQIDAwEBAwYECAYBAQUCAgICAQIEBgMDAQIBAQICAQEBAgEEHQQGBgMBAgINCgIEBQYDCgMIBQECBQQQCAMFQwQFCQkEBAIFAwYDAQIBAgMFAgICBwEBAgMDAwIFBRQFCQcDBQMCCAMBAQEFBgQDAwcEBAYEAQIFAwIICApAAwcIAwgKCgMBBQMFAwYDAgoDBQUBBAICAQICAQMBAQlbAgcFBgQFBAIGBwUEAQQDBwoEAgMGCAIBAQEBAgIFAgQCAwQCBAEDBggIBQ0HBwIBAgQJAgcKFBMSCAoYDgsGBgwSDgcMExcMDQoJBAYSCRQWDQqPAgEEBAIFAQEFAgMBAgQGAwUDCAgEAgECAQEEAQECBwIDAgcFBAIBAwMHBAgEBwgJAQEBAQYDBgUDBAMFBAMFAQIBAQUEBuQCAwYHBQISEAQGBAECCgMDBAQMBAcHAwEDAQEDDgECBAIDAQgfBAYFAgEBAgMBAQIXBgQCCgICBAcHBwUDAw0CBQQGAwIHDQcIBAICBwgTCQoEAgQDBAgDBAYEBQEEBgQCFQIFBAkFBQICAgIIBQ8EAQYBAwIKAwICBQURCAgFBQcKAAAAAAQAAAAAASsBGgAHAAsADwAVAAATHwEPAS8BNwcXNycXBxc3LwEHFwcXL/QIIgv0CCIO4SDhTQNeAj1FDTI9CQEZAwnyCQMK8egD3wKdEgITLzcPJycPAAAEAAAAAAEHARoABwAMABAAFAAAEyMHFRczNzUHFSM1MxcjNTM1IzUz/eEJCeEKhF1dcV5eXl4BGQn0CQn0cWfPz14TXgAAAAAG//8AAAEcARoACAARAB4AJwA0AEQAADcUBiImNDYyFgcUBiImNDYyFhcuAScGJx4BFxYzJjU3FAYiJjQ2MhYXNjc2JicGBxYHBgcWJyIxPgEXBg8BDgEHJicmI/YXIRcXIRemGCEXFyEYMhYiChESDTEgDg4LYRchGBghFxATBgYKDwYQEQgDCQ7SARJEJgkCARgpDggKBgbzERYWIRYWZREWFiEWFnQEGhMIBB4oBwIOEgEQFhYhFhYCFx0ZMhYRCR8iEA4LfCAjAwoNCAEVEwUCAQAAAAAEAAAAAAEaARoABwALABIAFgAAEzczFxUHIyc3FTM1DwEXBxc3NRUzFSMTE+ESEuETE+GvDTU1DT5LSwEHEhLhExPh4eE5DTU1DT0KMxMAAAQAAAAAARoA4QAHAAoAEgAYAAA3BzM3MxczJwc3FzcjBzM3MxczJzc2Nx8BPywZCSsKGSwbDw6FHj0eDj8OHWQWAgECF6lxHBxxQigoeqkrK0JDBgULQwADAAAAAAEHAPQAAwAHAAsAACUjNTMVIzUzBzM1IwEH4eHh4eHh4c4mcSZxJgAAAAABAAAAAAEaAQcAGwAANyIuAT8BIwYuAjc2Nz4BNzMeAR0BFAYrAQcGZggOBQQSNAcMBwEDIwgDDQinCw8PCxluCCMLEQkpAQYLDgZKFwcJAQEPC0IKD2cHAAAAAAIAAAAAARoBBwAbADYAADciLgE/ASMGLgI3Njc+ATczHgEdARQGKwEHBiciBwYHBhY3MxcVBwYeATI/AjMyNj0BNCYjZggOBQQSNAcMBwEDIwgDDQinCw8PCxluCBgFAgsgAgQFPgkUAQEEBQJyCRkDBQUDIwsRCSkBBgsOBkoXBwkBAQ8LQgoPZwfRBR9DBAcBDAkuAgUDAmgDBANCAwUAAAAAAQAAAAABGgEHABsAABMeAg8BMzYeAgcGBw4BKwEuAT0BNDY7ATc2xggOBQQSNAcMBwEDIwgDDQinCw8PCxptCAEHAQoRCSkBBwsNBkoXBwoBDwtCCg9nBgAAAAACAAAAAAEaAQcAGwA2AAATHgIPATM2HgIHBgcOASsBLgE9ATQ2OwE3NhcyNzY3NiYHIyc1NzYuASIPAiMiBhcVBhYzxggOBQQSNAcMBwEDIwgDDQinCw8PCxptCBgFAgshAQQFPQoUAQEEBQJyCRkDBQEBBQMBBwEKEQkpAQcLDQZKFwcKAQ8LQgoPZwbQBR9DBAcBDAkuAgUDAmgDBANCAwUAAAYAAAAAARkBGgAgAC8AQQBNAFIAaAAAJScHJzcnJiIOAhQXBgcGFhceATMyNzY3NjcWMj4CNAcGKwEiLgI3NjceARcGNxYGIicuATc+AjsBBxUXMzcHMxc3JzcvAQ8CFycXFSMnFzcXFhQHDgEnJi8BNxceAT4CNCYnARUPJxcnAw0bGhQLBTo5BgEIBAkFCQcVJCIaDRwaFAviAQICAgIDAgEqRgMGBEmpASAsDwwGBgQPFAoFIiMNIsocDgwMAQQ2Cw8CIworFByKDToICAYPCAUDOw06AgUFAgEBAesDJxcoDwQLFBsdDTo7CBUHBAUHEyUhGwYLFRoctwEBBAYCLEYEBwNLhRcfDwwgDwoQCCMNIyInDg0NHwgkAg8MNkAdFSx9DTwIFggGAwMCBDwNPAICAgMDBAMBAAAGAAAAAAD0ARoAEwAXABsAHwAjACcAADczFSMVByMnNSM1MzU0NjsBMhYVKwEVMwczNSMXIxUzNzMVIzczFSO8OBMTgxMSOAsIOAgLEzg4XoODJhMTEhMTJhMT9BOpEhKpExMHCwsHE7ypE4ODg4ODAAAAAAEAAAAAAQcAzwAFAAA/ATMXByMmB9IIahDECgpmAAAAAQAAAAAAzwEHAAUAABMXFQcnNcQKCmYBBwjSCGoQAAABAAAAAADPAQcABQAANyc1NxcVaAoKZiYH0ghqEAAAAAEAAAAAAQcAzwAFAAAlByMnNzMBBwjSB2kQaAoKZgAAAQAAAAABGgD/AD4AACUOAQcXFAYHDgMiJicWNjciJicmJxcWNy4BJyY1MRYzJicmJyY3NjcWFxYXFhcnNTQ3Njc2MhYXNjcGBzYBGQUOCAEHBwkdJCstKhIVKhAMFwcFAwUKCQkQBgwMDQsHAwIDBAEECg0ZHxAQAQQIFQoWFAgSEAYSEOUIDgYHEB8PFSIYDAwMAgsODAoHCAEBAwIJCA4UBgcMBgYODQcGDAoVCAQBBgYMCRUIBAkIBAkTCgEABAAAAAABBwEaAB4AIgAmACoAADcjJzM3NScjBxUXMwcjBxUXMzc1JyM3FyMHFRczNzUnNTMVBxUjNRcjNTP9ID8UCgpLCQkUPiEJCTgKCgE6OQEJCTgKljheJc4mJl5eCUsJCUsJXgo4CQk4ClZWCjgJCTh6OTmDJSUlJQAAAAAEAAAAAAEHARoAHgAiACYAKgAAEyMHFRczByczNzUnIwcVFzMXIwcVFzM3NScjNzM3NQc1MxUXFSM1NyM1M/04CQkBOToBCgo4CQkhPhQJCUsKChQ/IArhJV44gyYmARkJOApWVgo4CQk4Cl0KSwkJSwpdCjgvJiaDODiDJgAAAAUAAAAAAQcBGgAjACcAKwAvADMAADcjJzUnIzUzNzUnIwcVFzMVIwcVByMHFRczNzU3MxcVFzM3NSczFSMHMxUjByM1MxcjNTP9ISAKHAkKCiUJCQkcCSAiCQkmCSBDIAolCoQTExI4ODkSErwTE0sgRwolCSYJCSYJJQpHIAkmCQkiICAiCQkmxRNLOEsSEhIAAAADAAAAAAEHARoACQATAC0AADc1Byc3MxcHJxUHFScHFzM3Jwc1NxcHFwcjNTMnIwczFSMnNyc3MxUjFzM3IzWNEw0iDiINExITDSIOIg0TYgZFRQZOODg4OjlPBUVFBU85ODg6OLJLEw4hIg0TSzhLEw0iIg0TS2cTNzkTEy0tExM3ORMTLS0TAAAAAAwAAAAAARoBGgAJABMAGwAfACcAKwAzADcAPwBDAEcASwAAExcHJxUjNQcnNxc1IxUnBxczNyc3Iyc1NzMXFSczNSMXIyc1NzMXFSczNSMHIyc1NzMXFSczNSMXIyc1NzMXFSczNSsCFTM1IxUzNigPFxIXDScPEhcNJw0oDU4lCQklCiYTE404Cgo4CTgmJkIlCQklCiYTE404Cgo4CTgmJhMlJSUlARknDRZSVBgNJ+hSUhYNJycNYgkmCQkmChIlCTgKCjgKJZYJJgkJJgoTOQo4CQk4CSYTcBIAAAAAAgAAAAABBwEdABUAGgAANzU0PgEWFzMuAQ4BHQEjBxUXMzc1JwczFSM1XhopIwcUCC44JhMSErwTEyYmvKklFR8HFRMbIAcqHSUTcBMTcBMTcHAABQAAAAABGgEaAAkAEQAeACcALwAANzM3FxUHJyMnNR8BNQ8BIxUzNxQGByc+ASc2JzceAQcUByc2NCc3FgcUByc2JzcWHDRJEBBJNAlIOzsHLi7FDw4ODA0BARkODg8lEw0NDQ0TJggOBwcOCNFIBvQGSAleVzvGOgNLJRcqEg0PJBMnHw0RKxcfGQ0ULxMNGR8QDQ4PEA0NAAAABAAAAAABFQEUABcALwBbAF8AADczNzM3NTc1JzUnIycjByMHFQcVFxUXMzcjNS8BPwE1Mz8BHwEzFR8BDwEVIw8BJzcGDwEjNTY3PgMzMh4CFA4BDwEOAR0BIzU0Nj8BPgE0JzEuAScxJiIGFyM1M5ANIC0KICAJLiANHy8KHx8KLwMpAh0cAykGHB0GKAMdHQMoBxwcFQIBAREBAwIEBwkFCAsIAwQFAwYCBBEEAwsDAwEBAwIDBgYPEBAYIAotIA4gLgkgIAotIA4gLQoTKAccHAcoAxwcAygHHBwHKAMcHHEDAwYBCQcDBgQDBQgLDAkIBAcDBgMJCgUIAw4DCAcDAgQBAgRdEAAAAAYAAAAAASwBGgBCAE4AWgBiAGYAagAANzQ2HwEWMjY/AicuAiIHNTcWHwE3PgMWFRQjIiYiBgcGBxcWHwEWMjc2PwEXDgMiLgEvASYnDwEOAiImFz4BNCYnMxYVFAYHIy4BNTQ3Mw4BFRQXNyEHFRchNzUHITUhNSE1IWUHBAUBAwUDCwYHAQUGBwMbBgMFBQMJCQkGCAMFBgYDBQQIAQECAQQBBQMDAwEGBwgGBQMBBAEBCQYDCAcIBnMHCQkHDRIJCZ4JCRINCAgQz/7mCQkBGgkT/voBBv76AQZUBAUCBAEFAxANGwMFAwEEBQYIEAgGCQYBBAQIAwYEBggiBAMDAQEEBQQCAwgHBgQGAxQEAw8JBQYFBQUKGBoYChUaDhcKCRkNGhUKGQwbFM4J9AkJ9OqoEyYAAAIAAAAAARUBFAAXAB4AADcjJyMnNSc1NzU3MzczFzMXFRcVBxUHIyczNycHJwedDR8vCh8fCi8fDSAuCSAgCi0/DkYNQBoNGCAKLSAOIC0KICAJLiAOIC0KMEYOQRoNAAMAAAAAARUBFAAXAC8ANgAANzM3Mzc1NzUnNScjJyMHIwcVBxUXFRczNyM1LwE/ATUzPwEfATMVHwEPARUjDwEnNzM3JwcnB5ANIC0KICAJLiANHy8KHx8KLwMpAh0cAykGHB0GKAMdHQMoBxwcBA5GDUAaDRggCi0gDiAuCSAgCi0gDiAtChMoBxwcBygDHBwDKAccHAcoAxwcIEYOQRoNAAAABAAAAAABGgD0AAcACwAWACEAADcHFRczNzUnFSM1Mwc1MzUjBxUXMzUjJzUzNSMHFRczNSOWExNxEhJxcakTHQkJHRM4EhwJCRwS9BOWExOWE6mWXksTCYQJEzgmEgleCRMAAAMAAP//AS4BBwASAB8AJgAAEzMXFSYnNSMVMxQXIzUzNSMnNRc+AR4CDgIuAjYXNycHJwcXHPQJCAvgXRNLOGcJpBEoJBcCEiEoJBYDEjgtDycYDCABBwpnBwRTqR8ZExIKu3QMAhEiKCQXAhIhKCRSOww0Ew4aAAUAAAAAASwBBwASAB8AKwAxADcAABMzFxUmJzUjFTMUFyM1MzUjJzUXIg4BFB4BMj4BNC4BByIuATQ+ATMyFhQGJxc3JzcnByc3FwcnHPQJCAvgXRNLOGcJzhQjFBQjKCMUFCMUDxoPDxoPFyEhFRsJExMJMBIIGxsIAQcKZwcEU6kfGRMSCrtnFCMoIxQUIygjFIMPGh4aDyEuIUMbCBMSCC4SCBobCAAAAAADAAAAAAEsAQcAEgAfACsAABMzFxUmJzUjFTMUFyM1MzUjJzUXIg4BFB4BMj4BNC4BByIuATQ+ATMyFhQGHPQJCAvgXRNLOGcJzhQjFBQjKCMUFCMUDxoPDxoPFyEhAQcKZwcEU6kfGRMSCrtnFCMoIxQUIygjFIMPGh4aDyEuIQAAAAADAAD//gEuAQcAEgAuADEAABMzFxUmJzUjFTMUFyM1MzUjJzUXMh4CFx4BBw4CBw4BJy4CJy4BNz4CNzYXJxUc9AkIC+BdE0s4ZwnOChMRDgUHBAQCCg4IDR4PCREOBQcEBAIKDggSOjkBBwpnBwRTqR8ZExIKu2cFCg4IDR4PCREOBQcEBAIKDggNHg8JEQ4FCksmSwAAAAIAAAAAARoBBwAPABMAAAEjBxUXMxUjFTM1IzUzNzUHIzUzARD0CQlnOJY4ZwkS4eEBBwq7ChITExIKu7KpAAAGAAAAAAEsAPQAGQAzADcAOwBHAFMAADczMhYdARQGKwEiLwEmIg8BBisBIiY9ATQ2FyIGHQEeATsBMj8BNjIfARY7ATI2PQE0JiMHMxUjJTMVIycyFhQGKwEiJjQ2OwEyFhQGKwEiJjQ2M0uWFyEhFwcRDw8KFgoPDxEHFyEhFxAWARUQBwwJEA4iDhAJDAcQFhYQ4RMTARkTE58EBQUELwQFBQSWBAUFBC8EBQUE9CEXSxghCgoGBgoKIRhLFyETFg9LEBYGCwkJCwYWEEsPFjg4ODglBQgGBggFBQgGBggFAAAEAAAAAAEHARkABQARAB8AKQAAEwcXNzU0FScmIg8BDgEfATY1NxYdARQHNz4BPQE2JicHNxcHBiIvASY0t08oLIwCCAMNAwEEoQUOBAQ0BAQBBQToFh8bAggDDQMBEkgfITsGmmoCAwwDCQOUBQbhCQnPCQkZAggEpQQIAYEVHBUCAwwDCQAAAQAAAAABBwEaACoAADcGJyYvAQcGIi8BJjQ/AScmND8BNjIfATc+AR8BHgEdASM1Bxc1MxUUBgfMBgYDA2AqAggDDQMDJCQDAw0DCAIqYgQIBDIEBDxJST0FBCcDAwECWCACAwwDCQMhIgMJAwwDAiBZAwECGQEIBFxBODcuSQQIAgAABgAAAAABGgEaAAsAFwAjADAAOABAAAA3MzUzNSM1IxUjFTMXIxUjFTMVMzUzNSM3NSMVIxUzFTM1MzUHJiIPAQYUFjI/ATY0BwYiJjQ/ARc3Byc3NjIWFFITExMTExOWExISExMTHxMTExMSSggXCYwIEBgIjAiiAggGA3kOEwYNBgIIBs4TExMTE14SExMTE5YSEhMTExMuCAiNCBcRCYwIF54DBgcDeQ0TBg4GAgUIAAAABAAAAAABGQEaAAUACAAMABAAABMzFwcjJzcHMyc1IxU9ATMVjhB7CPYIg2vWXxgYARnmDQ3OyRMTEyZLSwAAAAMAAAAAAPQBGgAGABoAJwAANzM1IzUjFScOARQWFxUXMzc1PgE0Jic1JyMHFxQOASIuATQ+ATIeAY0lHBMcFhkZFgpLCRYZGRYJSwp6FCMoIxQUIygjFIMTLzhaDCwyLAwpCQkpDCwyLAwpCQl6FCMUFCMoIxQUIwAAAAADAAAAAADhARoAEQAZAB0AABM1IyIOARQeATsBFSMVMzUjNQcjIiY0NjsBFyM1M+FnEh4SEh4SHBNeEzgcFBsbFBwmExMBBxIRHyMeEl4SEs9eGyccz88ABQAAAAABLAD3AAcAHAAnADcAQwAANTMVITUzFSE3IzUjBiMiJjU0PwE0IyIHNTYzMhUPAQ4BFRQWMzI2NRcxFSM1MxUxNjMyFhUUBiInFRQWMzI2NTQmIgYTAQYT/tSAEAEKFRARIh8WEg8PFCQQGQwLCgkNED8REQwYFBYZKgsQDQ8REBwRXiYmODgQExENHQUEGgwRCSYPBAEICwcKEQ4bD5hDFBsYGh87Dg0SFxURExQAAwAAAAABGgEHAAcACwAPAAABIwcVFzM3NQcjNTM1IzUzARD0CQn0CRLh4eHhAQcKzgkJzsWEEiYAAAAABgAAAAABGgEaAB8ALwBFAFoAegCKAAA3JicmBwYPARU3PgEyFhcHDgIHBhYXFjMyNxUzNTQmBxUUBw4BJy4CPQE0PgEzNy4CIgcGBzUjFTM1FhcWMzI+AjQHFA4BBwYnLgI9AT4DFzYXHgEHPgEyFh8BNScmDgMUHgIyNj8BNQ8BBicuAjQ2NyM1MxcVByMXByc1NxcHM0kEBQkLBwYGBAQLCwUBEgcJBgEDBgkFBQsHEwMPAQIKBQICAQMEA2sBBgsOBQMCEhIDBgIEBwsHBBICBAIGBQIEAgECAwUDBgQBAl4DBggGAwcCCBIOCgUFCQ0OCgQCBgoGBgMFAwTcS1QJCXwnDjY2DiZy6wUCAwIBAwMUAwMFBgYCAQUHBAoSBAIJBzEHCx8FAwMGBQIBAgMCBAEDAhYGCwcEAgMudAUFAQEGDBAQBwcKBgEDAgIEBgQKBAgFAwEBBgIJYAMDAgIFFQEFAQYMDxEOCgYDAgERAgQBAgIGCAsJTRIJcQknDTYNNw4lAAADAAAAAAElAS0AJAA/AEwAABMyHgIXFhcWFxYzFRQOBA8BJy4FPQEyPgI3PgEXLgEnLgEiBgcOAQcVFB4EFz4FNS8BDwEvAQ8BHwI/AZcIDQ0MBwoLFRcMCwsTGR8hEQQFESIeGhMKCxgWFQoMGogVKRIJFhYVCRIpFgoRGBoeDxAdGxcSCTQICFEcCAgCJAQJBFsBLAIEBgQGBQgCAUoWJiMeGxcKAwMKFxseIycUTAEFCQYICDgBDAwGBgYGDAwBORIiIBsYFQkJFBkbICISGQcBYCcCBwczAgECawAAAAQAAAAAASUBLQAkAD8AaQBxAAATMh4CFxYXFhcyFxUUDgQPAScuBT0BFj4CNz4BFy4BJy4BIgYHDgEHFRQeBBc+BTUnHgEUDgEPAQ4BHQEHIyc1ND4BPwE+ATQmJyYiBw4BFQcjJzQ+ATc2FxYHNzMXFQcjJ5cIDQ0MBwoLFRYNCwsTGR8hEQUEESIeGhMKCxgWFQoMGogVKRIJFhYVCRIpFgoRGBoeDxAdGxcRCmAFBgUGBAYDAwMNAwUGBAYDAwMCBQ8FAgMDDQMGCgYODwYeAw0DAw0DASwCBAYEBgUIAgFKFiYjHhsXCgMDChcbHiMnFEwBAgUJBggIOAEMDAYGBgYMDAE5EiIgGxgVCQkUGRsgIhIZBgwOCwgDBgMGBAYDAwYHCwcDBgQGBwYDBQUDBgQCAggNCgIGBgNhAwMNAwMAAAMAAAAAASUBLQAkAD8AUwAAEzIeAhcWFxYXMhcVFA4EDwEnLgU9ARY+Ajc+ARcuAScuASIGBw4BBxUUHgQXPgU1LwEjBycjBxUXBxUXMzcXMzc1JzeXCA0NDAcKCxUWDQsLExkfIREFBBEiHhoTCgsYFhUKDBqIFSkSCRYWFQkSKRYKERgaHg8QHRsXEQpHBwQlJQQIJSUIBCUlBAclJQEsAgQGBAYFCAIBShYmIx4bFwoDAwoXGx4jJxRMAQIFCQYICDgBDAwGBgYGDAwBORIiIBsYFQkJFBkbICISCwgmJggEJSUECCYmCAQlJQAAAAMAAAAAARoBHgAOAB8AKwAANxYGBxcHJw4BLgE+AR4BBzI2Nwc+ATU0LgEiDgEUHgE3NSM1IxUjFTMVMzXiAQ0MUA5PHEg5Exw/RzBkER8MAQwOFycuJhcXJkUlEyYmE7kUJhBPDlAXAitFQiMMNYANDAEMHxEXJxcXJy0nF0sTJSUTJSUAAAADAAAAAAEaAR4ADgAfACMAADcWBgcXBycOAS4BPgEeAQcyNjcHPgE1NC4BIg4BFB4BJzMVI+IBDQxQDk8cSDkTHD9HMGQRHwwBDA4XJy4mFxcmGF1duRQmEE8OUBcCK0VCIww1gA0MAQwfERcnFxcnLScXXRIAAAAAABAAxgABAAAAAAABAAcAAAABAAAAAAACAAcABwABAAAAAAADAAcADgABAAAAAAAEAAcAFQABAAAAAAAFAAwAHAABAAAAAAAGAAcAKAABAAAAAAAKACQALwABAAAAAAALABMAUwADAAEECQABAA4AZgADAAEECQACAA4AdAADAAEECQADAA4AggADAAEECQAEAA4AkAADAAEECQAFABgAngADAAEECQAGAA4AtgADAAEECQAKAEgAxAADAAEECQALACYBDGNvZGljb25SZWd1bGFyY29kaWNvbmNvZGljb25WZXJzaW9uIDEuMTFjb2RpY29uVGhlIGljb24gZm9udCBmb3IgVmlzdWFsIFN0dWRpbyBDb2RlaHR0cDovL2ZvbnRlbGxvLmNvbQBjAG8AZABpAGMAbwBuAFIAZQBnAHUAbABhAHIAYwBvAGQAaQBjAG8AbgBjAG8AZABpAGMAbwBuAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAxAGMAbwBkAGkAYwBvAG4AVABoAGUAIABpAGMAbwBuACAAZgBvAG4AdAAgAGYAbwByACAAVgBpAHMAdQBhAGwAIABTAHQAdQBkAGkAbwAgAEMAbwBkAGUAaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQACAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcsBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8BIAEhASIBIwEkASUBJgEnASgBKQEqASsBLAEtAS4BLwEwATEBMgEzATQBNQE2ATcBOAE5AToBOwE8AT0BPgE/AUABQQFCAUMBRAFFAUYBRwFIAUkBSgFLAUwBTQFOAU8BUAFRAVIBUwFUAVUBVgFXAVgBWQFaAVsBXAFdAV4BXwFgAWEBYgFjAWQBZQFmAWcBaAFpAWoBawFsAW0BbgFvAXABcQFyAXMBdAF1AXYBdwF4AXkBegF7AXwBfQF+AX8BgAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcoBywHMAc0BzgHPAdAB0QHSAdMB1AHVAdYB1wHYAdkB2gHbAdwB3QHeAd8B4AHhAeIB4wHkAeUB5gHnAegB6QHqAesB7AHtAe4B7wHwAfEB8gHzAfQB9QH2AfcB+AH5AfoB+wH8Af0B/gH/AgACAQICAgMCBAIFAgYCBwIIAgkCCgILAgwCDQIOAg8CEAIRAhICEwIUAhUCFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjAiQCJQImAicCKAIpAioCKwIsAi0CLgIvAjACMQIyAjMCNAI1AjYCNwI4AjkCOgI7AjwCPQI+Aj8CQAJBAkICQwJEAkUCRgJHAkgCSQJKAksCTAJNAk4CTwJQAlECUgJTAlQCVQJWAlcCWAJZAloCWwJcAl0CXgJfAmACYQJiAmMCZAJlAmYCZwJoAmkCagJrAmwCbQJuAm8CcAJxAnICcwJ0AnUCdgJ3AngCeQJ6AnsCfAJ9An4CfwKAAoECggKDAoQChQKGAocCiAKJAooCiwKMAo0CjgKPApACkQKSApMClAKVApYClwKYApkCmgKbApwCnQKeAp8CoAKhAqICowKkAqUCpgKnAqgCqQKqAqsCrAKtAq4CrwKwArECsgKzArQCtQK2ArcCuAK5AroCuwK8Ar0CvgK/AsACwQLCAsMCxALFAsYCxwLIAskCygLLAswAB2FjY291bnQUYWN0aXZhdGUtYnJlYWtwb2ludHMDYWRkB2FyY2hpdmUKYXJyb3ctYm90aBFhcnJvdy1jaXJjbGUtZG93bhFhcnJvdy1jaXJjbGUtbGVmdBJhcnJvdy1jaXJjbGUtcmlnaHQPYXJyb3ctY2lyY2xlLXVwCmFycm93LWRvd24KYXJyb3ctbGVmdAthcnJvdy1yaWdodBBhcnJvdy1zbWFsbC1kb3duEGFycm93LXNtYWxsLWxlZnQRYXJyb3ctc21hbGwtcmlnaHQOYXJyb3ctc21hbGwtdXAKYXJyb3ctc3dhcAhhcnJvdy11cAxhenVyZS1kZXZvcHMFYXp1cmULYmVha2VyLXN0b3AGYmVha2VyCGJlbGwtZG90DmJlbGwtc2xhc2gtZG90CmJlbGwtc2xhc2gEYmVsbAVibGFuawRib2xkBGJvb2sIYm9va21hcmsLYnJhY2tldC1kb3QNYnJhY2tldC1lcnJvcglicmllZmNhc2UJYnJvYWRjYXN0B2Jyb3dzZXIDYnVnCGNhbGVuZGFyDWNhbGwtaW5jb21pbmcNY2FsbC1vdXRnb2luZw5jYXNlLXNlbnNpdGl2ZQljaGVjay1hbGwFY2hlY2sJY2hlY2tsaXN0DGNoZXZyb24tZG93bgxjaGV2cm9uLWxlZnQNY2hldnJvbi1yaWdodApjaGV2cm9uLXVwBGNoaXAMY2hyb21lLWNsb3NlD2Nocm9tZS1tYXhpbWl6ZQ9jaHJvbWUtbWluaW1pemUOY2hyb21lLXJlc3RvcmUNY2lyY2xlLWZpbGxlZBNjaXJjbGUtbGFyZ2UtZmlsbGVkDGNpcmNsZS1sYXJnZQxjaXJjbGUtc2xhc2gTY2lyY2xlLXNtYWxsLWZpbGxlZAxjaXJjbGUtc21hbGwGY2lyY2xlDWNpcmN1aXQtYm9hcmQJY2xlYXItYWxsBmNsaXBweQljbG9zZS1hbGwFY2xvc2UOY2xvdWQtZG93bmxvYWQMY2xvdWQtdXBsb2FkBWNsb3VkCGNvZGUtb3NzBGNvZGUGY29mZmVlDGNvbGxhcHNlLWFsbApjb2xvci1tb2RlB2NvbWJpbmUSY29tbWVudC1kaXNjdXNzaW9uDWNvbW1lbnQtZHJhZnQSY29tbWVudC11bnJlc29sdmVkB2NvbW1lbnQOY29tcGFzcy1hY3RpdmULY29tcGFzcy1kb3QHY29tcGFzcwdjb3BpbG90BGNvcHkIY292ZXJhZ2ULY3JlZGl0LWNhcmQEZGFzaAlkYXNoYm9hcmQIZGF0YWJhc2UJZGVidWctYWxsD2RlYnVnLWFsdC1zbWFsbAlkZWJ1Zy1hbHQnZGVidWctYnJlYWtwb2ludC1jb25kaXRpb25hbC11bnZlcmlmaWVkHGRlYnVnLWJyZWFrcG9pbnQtY29uZGl0aW9uYWwgZGVidWctYnJlYWtwb2ludC1kYXRhLXVudmVyaWZpZWQVZGVidWctYnJlYWtwb2ludC1kYXRhJGRlYnVnLWJyZWFrcG9pbnQtZnVuY3Rpb24tdW52ZXJpZmllZBlkZWJ1Zy1icmVha3BvaW50LWZ1bmN0aW9uH2RlYnVnLWJyZWFrcG9pbnQtbG9nLXVudmVyaWZpZWQUZGVidWctYnJlYWtwb2ludC1sb2ccZGVidWctYnJlYWtwb2ludC11bnN1cHBvcnRlZA1kZWJ1Zy1jb25zb2xlFGRlYnVnLWNvbnRpbnVlLXNtYWxsDmRlYnVnLWNvbnRpbnVlDmRlYnVnLWNvdmVyYWdlEGRlYnVnLWRpc2Nvbm5lY3QSZGVidWctbGluZS1ieS1saW5lC2RlYnVnLXBhdXNlC2RlYnVnLXJlcnVuE2RlYnVnLXJlc3RhcnQtZnJhbWUNZGVidWctcmVzdGFydBZkZWJ1Zy1yZXZlcnNlLWNvbnRpbnVlF2RlYnVnLXN0YWNrZnJhbWUtYWN0aXZlEGRlYnVnLXN0YWNrZnJhbWULZGVidWctc3RhcnQPZGVidWctc3RlcC1iYWNrD2RlYnVnLXN0ZXAtaW50bw5kZWJ1Zy1zdGVwLW91dA9kZWJ1Zy1zdGVwLW92ZXIKZGVidWctc3RvcAVkZWJ1ZxBkZXNrdG9wLWRvd25sb2FkE2RldmljZS1jYW1lcmEtdmlkZW8NZGV2aWNlLWNhbWVyYQ1kZXZpY2UtbW9iaWxlCmRpZmYtYWRkZWQMZGlmZi1pZ25vcmVkDWRpZmYtbW9kaWZpZWQNZGlmZi1tdWx0aXBsZQxkaWZmLXJlbW92ZWQMZGlmZi1yZW5hbWVkC2RpZmYtc2luZ2xlBGRpZmYHZGlzY2FyZARlZGl0DWVkaXRvci1sYXlvdXQIZWxsaXBzaXMMZW1wdHktd2luZG93C2Vycm9yLXNtYWxsBWVycm9yB2V4Y2x1ZGUKZXhwYW5kLWFsbAZleHBvcnQKZXh0ZW5zaW9ucwpleWUtY2xvc2VkA2V5ZQhmZWVkYmFjawtmaWxlLWJpbmFyeQlmaWxlLWNvZGUKZmlsZS1tZWRpYQhmaWxlLXBkZg5maWxlLXN1Ym1vZHVsZRZmaWxlLXN5bWxpbmstZGlyZWN0b3J5EWZpbGUtc3ltbGluay1maWxlCGZpbGUtemlwBGZpbGUFZmlsZXMNZmlsdGVyLWZpbGxlZAZmaWx0ZXIFZmxhbWUJZm9sZC1kb3duB2ZvbGQtdXAEZm9sZA1mb2xkZXItYWN0aXZlDmZvbGRlci1saWJyYXJ5DWZvbGRlci1vcGVuZWQGZm9sZGVyBGdhbWUEZ2VhcgRnaWZ0C2dpc3Qtc2VjcmV0CmdpdC1jb21taXQLZ2l0LWNvbXBhcmUJZ2l0LWZldGNoCWdpdC1tZXJnZRdnaXQtcHVsbC1yZXF1ZXN0LWNsb3NlZBdnaXQtcHVsbC1yZXF1ZXN0LWNyZWF0ZRZnaXQtcHVsbC1yZXF1ZXN0LWRyYWZ0HmdpdC1wdWxsLXJlcXVlc3QtZ28tdG8tY2hhbmdlcxxnaXQtcHVsbC1yZXF1ZXN0LW5ldy1jaGFuZ2VzEGdpdC1wdWxsLXJlcXVlc3QPZ2l0LXN0YXNoLWFwcGx5DWdpdC1zdGFzaC1wb3AJZ2l0LXN0YXNoDWdpdGh1Yi1hY3Rpb24KZ2l0aHViLWFsdA9naXRodWItaW52ZXJ0ZWQOZ2l0aHViLXByb2plY3QGZ2l0aHViBWdsb2JlCmdvLXRvLWZpbGUHZ3JhYmJlcgpncmFwaC1sZWZ0CmdyYXBoLWxpbmUNZ3JhcGgtc2NhdHRlcgVncmFwaAdncmlwcGVyEWdyb3VwLWJ5LXJlZi10eXBlDGhlYXJ0LWZpbGxlZAVoZWFydAdoaXN0b3J5BGhvbWUPaG9yaXpvbnRhbC1ydWxlBWh1Ym90BWluYm94BmluZGVudARpbmZvBmluc2VydAdpbnNwZWN0C2lzc3VlLWRyYWZ0Dmlzc3VlLXJlb3BlbmVkBmlzc3VlcwZpdGFsaWMGamVyc2V5BGpzb24Oa2ViYWItdmVydGljYWwDa2V5A2xhdw1sYXllcnMtYWN0aXZlCmxheWVycy1kb3QGbGF5ZXJzF2xheW91dC1hY3Rpdml0eWJhci1sZWZ0GGxheW91dC1hY3Rpdml0eWJhci1yaWdodA9sYXlvdXQtY2VudGVyZWQObGF5b3V0LW1lbnViYXITbGF5b3V0LXBhbmVsLWNlbnRlchRsYXlvdXQtcGFuZWwtanVzdGlmeRFsYXlvdXQtcGFuZWwtbGVmdBBsYXlvdXQtcGFuZWwtb2ZmEmxheW91dC1wYW5lbC1yaWdodAxsYXlvdXQtcGFuZWwXbGF5b3V0LXNpZGViYXItbGVmdC1vZmYTbGF5b3V0LXNpZGViYXItbGVmdBhsYXlvdXQtc2lkZWJhci1yaWdodC1vZmYUbGF5b3V0LXNpZGViYXItcmlnaHQQbGF5b3V0LXN0YXR1c2JhcgZsYXlvdXQHbGlicmFyeRFsaWdodGJ1bGItYXV0b2ZpeBFsaWdodGJ1bGItc3BhcmtsZQlsaWdodGJ1bGINbGluay1leHRlcm5hbARsaW5rC2xpc3QtZmlsdGVyCWxpc3QtZmxhdAxsaXN0LW9yZGVyZWQObGlzdC1zZWxlY3Rpb24JbGlzdC10cmVlDmxpc3QtdW5vcmRlcmVkCmxpdmUtc2hhcmUHbG9hZGluZwhsb2NhdGlvbgpsb2NrLXNtYWxsBGxvY2sGbWFnbmV0CW1haWwtcmVhZARtYWlsCm1hcC1maWxsZWQTbWFwLXZlcnRpY2FsLWZpbGxlZAxtYXAtdmVydGljYWwDbWFwCG1hcmtkb3duCW1lZ2FwaG9uZQdtZW50aW9uBG1lbnUFbWVyZ2UKbWljLWZpbGxlZANtaWMJbWlsZXN0b25lBm1pcnJvcgxtb3J0YXItYm9hcmQEbW92ZRBtdWx0aXBsZS13aW5kb3dzBW11c2ljBG11dGUIbmV3LWZpbGUKbmV3LWZvbGRlcgduZXdsaW5lCm5vLW5ld2xpbmUEbm90ZRFub3RlYm9vay10ZW1wbGF0ZQhub3RlYm9vawhvY3RvZmFjZQxvcGVuLXByZXZpZXcMb3JnYW5pemF0aW9uBm91dHB1dAdwYWNrYWdlCHBhaW50Y2FuC3Bhc3MtZmlsbGVkBHBhc3MKcGVyc29uLWFkZAZwZXJzb24FcGlhbm8JcGllLWNoYXJ0A3BpbgxwaW5uZWQtZGlydHkGcGlubmVkC3BsYXktY2lyY2xlBHBsYXkEcGx1Zw1wcmVzZXJ2ZS1jYXNlB3ByZXZpZXcQcHJpbWl0aXZlLXNxdWFyZQdwcm9qZWN0BXB1bHNlCHF1ZXN0aW9uBXF1b3RlC3JhZGlvLXRvd2VyCXJlYWN0aW9ucwtyZWNvcmQta2V5cwxyZWNvcmQtc21hbGwGcmVjb3JkBHJlZG8KcmVmZXJlbmNlcwdyZWZyZXNoBXJlZ2V4D3JlbW90ZS1leHBsb3JlcgZyZW1vdGUGcmVtb3ZlC3JlcGxhY2UtYWxsB3JlcGxhY2UFcmVwbHkKcmVwby1jbG9uZQpyZXBvLWZldGNoD3JlcG8tZm9yY2UtcHVzaAtyZXBvLWZvcmtlZAlyZXBvLXB1bGwJcmVwby1wdXNoBHJlcG8GcmVwb3J0D3JlcXVlc3QtY2hhbmdlcwVyb2JvdAZyb2NrZXQScm9vdC1mb2xkZXItb3BlbmVkC3Jvb3QtZm9sZGVyA3JzcwRydWJ5CXJ1bi1hYm92ZRBydW4tYWxsLWNvdmVyYWdlB3J1bi1hbGwJcnVuLWJlbG93DHJ1bi1jb3ZlcmFnZQpydW4tZXJyb3JzCHNhdmUtYWxsB3NhdmUtYXMEc2F2ZQtzY3JlZW4tZnVsbA1zY3JlZW4tbm9ybWFsDHNlYXJjaC1mdXp6eQtzZWFyY2gtc3RvcAZzZWFyY2gEc2VuZBJzZXJ2ZXItZW52aXJvbm1lbnQOc2VydmVyLXByb2Nlc3MGc2VydmVyDXNldHRpbmdzLWdlYXIIc2V0dGluZ3MFc2hhcmUGc2hpZWxkB3NpZ24taW4Ic2lnbi1vdXQGc21pbGV5BXNuYWtlD3NvcnQtcHJlY2VkZW5jZQ5zb3VyY2UtY29udHJvbA5zcGFya2xlLWZpbGxlZAdzcGFya2xlEHNwbGl0LWhvcml6b250YWwOc3BsaXQtdmVydGljYWwIc3F1aXJyZWwKc3Rhci1lbXB0eQlzdGFyLWZ1bGwJc3Rhci1oYWxmC3N0b3AtY2lyY2xlDXN1cnJvdW5kLXdpdGgMc3ltYm9sLWFycmF5DnN5bWJvbC1ib29sZWFuDHN5bWJvbC1jbGFzcwxzeW1ib2wtY29sb3IPc3ltYm9sLWNvbnN0YW50EnN5bWJvbC1lbnVtLW1lbWJlcgtzeW1ib2wtZW51bQxzeW1ib2wtZXZlbnQMc3ltYm9sLWZpZWxkC3N5bWJvbC1maWxlEHN5bWJvbC1pbnRlcmZhY2UKc3ltYm9sLWtleQ5zeW1ib2wta2V5d29yZA1zeW1ib2wtbWV0aG9kC3N5bWJvbC1taXNjEHN5bWJvbC1uYW1lc3BhY2UOc3ltYm9sLW51bWVyaWMPc3ltYm9sLW9wZXJhdG9yEHN5bWJvbC1wYXJhbWV0ZXIPc3ltYm9sLXByb3BlcnR5DHN5bWJvbC1ydWxlcg5zeW1ib2wtc25pcHBldA1zeW1ib2wtc3RyaW5nEHN5bWJvbC1zdHJ1Y3R1cmUPc3ltYm9sLXZhcmlhYmxlDHN5bmMtaWdub3JlZARzeW5jBXRhYmxlA3RhZwZ0YXJnZXQIdGFza2xpc3QJdGVsZXNjb3BlDXRlcm1pbmFsLWJhc2gMdGVybWluYWwtY21kD3Rlcm1pbmFsLWRlYmlhbg50ZXJtaW5hbC1saW51eBN0ZXJtaW5hbC1wb3dlcnNoZWxsDXRlcm1pbmFsLXRtdXgPdGVybWluYWwtdWJ1bnR1CHRlcm1pbmFsCXRleHQtc2l6ZQp0aHJlZS1iYXJzEXRodW1ic2Rvd24tZmlsbGVkCnRodW1ic2Rvd24PdGh1bWJzdXAtZmlsbGVkCHRodW1ic3VwBXRvb2xzBXRyYXNoDXRyaWFuZ2xlLWRvd24NdHJpYW5nbGUtbGVmdA50cmlhbmdsZS1yaWdodAt0cmlhbmdsZS11cAd0d2l0dGVyEnR5cGUtaGllcmFyY2h5LXN1YhR0eXBlLWhpZXJhcmNoeS1zdXBlcg50eXBlLWhpZXJhcmNoeQZ1bmZvbGQTdW5ncm91cC1ieS1yZWYtdHlwZQZ1bmxvY2sGdW5tdXRlCnVudmVyaWZpZWQOdmFyaWFibGUtZ3JvdXAPdmVyaWZpZWQtZmlsbGVkCHZlcmlmaWVkCHZlcnNpb25zCXZtLWFjdGl2ZQp2bS1jb25uZWN0CnZtLW91dGxpbmUKdm0tcnVubmluZwJ2bQJ2cg92c2NvZGUtaW5zaWRlcnMGdnNjb2RlBHdhbmQHd2FybmluZwV3YXRjaAp3aGl0ZXNwYWNlCndob2xlLXdvcmQGd2luZG93CXdvcmQtd3JhcBF3b3Jrc3BhY2UtdHJ1c3RlZBF3b3Jrc3BhY2UtdW5rbm93bhN3b3Jrc3BhY2UtdW50cnVzdGVkB3pvb20taW4Iem9vbS1vdXQAAAA=) format("truetype")}.codicon[class*=codicon-]{font:16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.codicon-wrench-subaction{opacity:0.5}@-webkit-keyframes codicon-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes codicon-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.codicon-sync.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-gear.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin{-webkit-animation:codicon-spin 1.5s steps(30) infinite;animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:0.4}.codicon-loading,.codicon-tree-item-loading:before{-webkit-animation-duration:1s !important;animation-duration:1s !important;-webkit-animation-timing-function:cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;animation-timing-function:cubic-bezier(0.53, 0.21, 0.29, 0.67) !important}.monaco-editor .codicon.codicon-symbol-array,.monaco-workbench .codicon.codicon-symbol-array{color:var(--vscode-symbolIcon-arrayForeground)}.monaco-editor .codicon.codicon-symbol-boolean,.monaco-workbench .codicon.codicon-symbol-boolean{color:var(--vscode-symbolIcon-booleanForeground)}.monaco-editor .codicon.codicon-symbol-class,.monaco-workbench .codicon.codicon-symbol-class{color:var(--vscode-symbolIcon-classForeground)}.monaco-editor .codicon.codicon-symbol-method,.monaco-workbench .codicon.codicon-symbol-method{color:var(--vscode-symbolIcon-methodForeground)}.monaco-editor .codicon.codicon-symbol-color,.monaco-workbench .codicon.codicon-symbol-color{color:var(--vscode-symbolIcon-colorForeground)}.monaco-editor .codicon.codicon-symbol-constant,.monaco-workbench .codicon.codicon-symbol-constant{color:var(--vscode-symbolIcon-constantForeground)}.monaco-editor .codicon.codicon-symbol-constructor,.monaco-workbench .codicon.codicon-symbol-constructor{color:var(--vscode-symbolIcon-constructorForeground)}.monaco-editor .codicon.codicon-symbol-value,.monaco-workbench .codicon.codicon-symbol-value,.monaco-editor .codicon.codicon-symbol-enum,.monaco-workbench .codicon.codicon-symbol-enum{color:var(--vscode-symbolIcon-enumeratorForeground)}.monaco-editor .codicon.codicon-symbol-enum-member,.monaco-workbench .codicon.codicon-symbol-enum-member{color:var(--vscode-symbolIcon-enumeratorMemberForeground)}.monaco-editor .codicon.codicon-symbol-event,.monaco-workbench .codicon.codicon-symbol-event{color:var(--vscode-symbolIcon-eventForeground)}.monaco-editor .codicon.codicon-symbol-field,.monaco-workbench .codicon.codicon-symbol-field{color:var(--vscode-symbolIcon-fieldForeground)}.monaco-editor .codicon.codicon-symbol-file,.monaco-workbench .codicon.codicon-symbol-file{color:var(--vscode-symbolIcon-fileForeground)}.monaco-editor .codicon.codicon-symbol-folder,.monaco-workbench .codicon.codicon-symbol-folder{color:var(--vscode-symbolIcon-folderForeground)}.monaco-editor .codicon.codicon-symbol-function,.monaco-workbench .codicon.codicon-symbol-function{color:var(--vscode-symbolIcon-functionForeground)}.monaco-editor .codicon.codicon-symbol-interface,.monaco-workbench .codicon.codicon-symbol-interface{color:var(--vscode-symbolIcon-interfaceForeground)}.monaco-editor .codicon.codicon-symbol-key,.monaco-workbench .codicon.codicon-symbol-key{color:var(--vscode-symbolIcon-keyForeground)}.monaco-editor .codicon.codicon-symbol-keyword,.monaco-workbench .codicon.codicon-symbol-keyword{color:var(--vscode-symbolIcon-keywordForeground)}.monaco-editor .codicon.codicon-symbol-module,.monaco-workbench .codicon.codicon-symbol-module{color:var(--vscode-symbolIcon-moduleForeground)}.monaco-editor .codicon.codicon-symbol-namespace,.monaco-workbench .codicon.codicon-symbol-namespace{color:var(--vscode-symbolIcon-namespaceForeground)}.monaco-editor .codicon.codicon-symbol-null,.monaco-workbench .codicon.codicon-symbol-null{color:var(--vscode-symbolIcon-nullForeground)}.monaco-editor .codicon.codicon-symbol-number,.monaco-workbench .codicon.codicon-symbol-number{color:var(--vscode-symbolIcon-numberForeground)}.monaco-editor .codicon.codicon-symbol-object,.monaco-workbench .codicon.codicon-symbol-object{color:var(--vscode-symbolIcon-objectForeground)}.monaco-editor .codicon.codicon-symbol-operator,.monaco-workbench .codicon.codicon-symbol-operator{color:var(--vscode-symbolIcon-operatorForeground)}.monaco-editor .codicon.codicon-symbol-package,.monaco-workbench .codicon.codicon-symbol-package{color:var(--vscode-symbolIcon-packageForeground)}.monaco-editor .codicon.codicon-symbol-property,.monaco-workbench .codicon.codicon-symbol-property{color:var(--vscode-symbolIcon-propertyForeground)}.monaco-editor .codicon.codicon-symbol-reference,.monaco-workbench .codicon.codicon-symbol-reference{color:var(--vscode-symbolIcon-referenceForeground)}.monaco-editor .codicon.codicon-symbol-snippet,.monaco-workbench .codicon.codicon-symbol-snippet{color:var(--vscode-symbolIcon-snippetForeground)}.monaco-editor .codicon.codicon-symbol-string,.monaco-workbench .codicon.codicon-symbol-string{color:var(--vscode-symbolIcon-stringForeground)}.monaco-editor .codicon.codicon-symbol-struct,.monaco-workbench .codicon.codicon-symbol-struct{color:var(--vscode-symbolIcon-structForeground)}.monaco-editor .codicon.codicon-symbol-text,.monaco-workbench .codicon.codicon-symbol-text{color:var(--vscode-symbolIcon-textForeground)}.monaco-editor .codicon.codicon-symbol-type-parameter,.monaco-workbench .codicon.codicon-symbol-type-parameter{color:var(--vscode-symbolIcon-typeParameterForeground)}.monaco-editor .codicon.codicon-symbol-unit,.monaco-workbench .codicon.codicon-symbol-unit{color:var(--vscode-symbolIcon-unitForeground)}.monaco-editor .codicon.codicon-symbol-variable,.monaco-workbench .codicon.codicon-symbol-variable{color:var(--vscode-symbolIcon-variableForeground)}.monaco-editor .lightBulbWidget{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.monaco-editor .lightBulbWidget:hover{cursor:pointer}.monaco-editor .lightBulbWidget.codicon-light-bulb,.monaco-editor .lightBulbWidget.codicon-lightbulb-sparkle{color:var(--vscode-editorLightBulb-foreground)}.monaco-editor .lightBulbWidget.codicon-lightbulb-autofix,.monaco-editor .lightBulbWidget.codicon-lightbulb-sparkle-autofix{color:var(--vscode-editorLightBulbAutoFix-foreground, var(--vscode-editorLightBulb-foreground))}.monaco-editor .lightBulbWidget.codicon-sparkle-filled{color:var(--vscode-editorLightBulbAi-foreground, var(--vscode-icon-foreground))}.monaco-editor .lightBulbWidget:before{position:relative;z-index:2}.monaco-editor .lightBulbWidget:after{position:absolute;top:0;left:0;content:"";display:block;width:100%;height:100%;opacity:0.3;background-color:var(--vscode-editor-background);z-index:1}.action-widget{font-size:13px;min-width:160px;max-width:80vw;z-index:40;display:block;width:100%;border:1px solid var(--vscode-editorWidget-border) !important;border-radius:2px;background-color:var(--vscode-editorWidget-background);color:var(--vscode-editorWidget-foreground)}.context-view-block{position:fixed;cursor:initial;left:0;top:0;width:100%;height:100%;z-index:-1}.context-view-pointerBlock{position:fixed;cursor:initial;left:0;top:0;width:100%;height:100%;z-index:2}.action-widget .monaco-list{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none;border:none !important;border-width:0 !important}.action-widget .monaco-list:focus:before{outline:0 !important}.action-widget .monaco-list .monaco-scrollable-element{overflow:visible}.action-widget .monaco-list .monaco-list-row{padding:0 10px;white-space:nowrap;cursor:pointer;-ms-touch-action:none;touch-action:none;width:100%}.action-widget .monaco-list .monaco-list-row.action.focused:not(.option-disabled){background-color:var(--vscode-quickInputList-focusBackground) !important;color:var(--vscode-quickInputList-focusForeground);outline:1px solid var(--vscode-menu-selectionBorder, transparent);outline-offset:-1px}.action-widget .monaco-list-row.group-header{color:var(--vscode-descriptionForeground) !important;font-weight:600}.action-widget .monaco-list .group-header,.action-widget .monaco-list .option-disabled,.action-widget .monaco-list .option-disabled:before,.action-widget .monaco-list .option-disabled .focused,.action-widget .monaco-list .option-disabled .focused:before{cursor:default !important;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent !important;outline:0 solid !important}.action-widget .monaco-list-row.action{display:-ms-flexbox;display:flex;gap:6px;-ms-flex-align:center;align-items:center}.action-widget .monaco-list-row.action.option-disabled,.action-widget .monaco-list:focus .monaco-list-row.focused.action.option-disabled,.action-widget .monaco-list-row.action.option-disabled .codicon,.action-widget .monaco-list:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused).option-disabled{color:var(--vscode-disabledForeground)}.action-widget .monaco-list-row.action:not(.option-disabled) .codicon{color:inherit}.action-widget .monaco-list-row.action .title{-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis}.action-widget .monaco-list-row.action .monaco-keybinding>.monaco-keybinding-key{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-radius:3px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);-webkit-box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow)}.action-widget .action-widget-action-bar{background-color:var(--vscode-editorHoverWidget-statusBarBackground);border-top:1px solid var(--vscode-editorHoverWidget-border)}.action-widget .action-widget-action-bar:before{display:block;content:"";width:100%}.action-widget .action-widget-action-bar .actions-container{padding:0 8px}.action-widget-action-bar .action-label{color:var(--vscode-textLink-activeForeground);font-size:12px;line-height:22px;padding:0;pointer-events:all}.action-widget-action-bar .action-item{margin-right:16px;pointer-events:none}.action-widget-action-bar .action-label:hover{background-color:transparent !important}.monaco-action-bar .actions-container.highlight-toggled .action-label.checked{background:var(--vscode-actionBar-toggledBackground) !important}.monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap;color:var(--vscode-editorCodeLens-foreground);line-height:var(--vscode-editorCodeLens-lineHeight);font-size:var(--vscode-editorCodeLens-fontSize);padding-right:calc(var(--vscode-editorCodeLens-fontSize) * 0.5);-webkit-font-feature-settings:var(--vscode-editorCodeLens-fontFeatureSettings);font-feature-settings:var(--vscode-editorCodeLens-fontFeatureSettings);font-family:var(--vscode-editorCodeLens-fontFamily), var(--vscode-editorCodeLens-fontFamilyDefault)}.monaco-editor .codelens-decoration>span,.monaco-editor .codelens-decoration>a{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer;color:var(--vscode-editorLink-activeForeground) !important}.monaco-editor .codelens-decoration>a:hover .codicon{color:var(--vscode-editorLink-activeForeground) !important}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor !important;color:var(--vscode-editorCodeLens-foreground);line-height:var(--vscode-editorCodeLens-lineHeight);font-size:var(--vscode-editorCodeLens-fontSize)}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@-webkit-keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{-webkit-animation:fadein 0.1s linear;animation:fadein 0.1s linear}.colorpicker-widget{height:190px;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.colorpicker-color-decoration,.hc-light .colorpicker-color-decoration{border:solid 0.1em #000;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0.1em 0.2em 0;width:0.8em;height:0.8em;line-height:0.8em;display:inline-block;cursor:pointer}.hc-black .colorpicker-color-decoration,.vs-dark .colorpicker-color-decoration{border:solid 0.1em #eee}.colorpicker-header{display:-ms-flexbox;display:flex;height:24px;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:pixelated}.colorpicker-header .picked-color{width:240px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;line-height:24px;cursor:pointer;color:#fff;-ms-flex:1;flex:1;white-space:nowrap;overflow:hidden}.colorpicker-header .picked-color .picked-color-presentation{white-space:nowrap;margin-left:5px;margin-right:5px}.colorpicker-header .picked-color .codicon{color:inherit;font-size:14px}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.standalone-colorpicker{color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.colorpicker-header.standalone-colorpicker{border-bottom:none}.colorpicker-header .close-button{cursor:pointer;background-color:var(--vscode-editorHoverWidget-background);border-left:1px solid var(--vscode-editorHoverWidget-border)}.colorpicker-header .close-button-inner-div{width:100%;height:100%;text-align:center}.colorpicker-header .close-button-inner-div:hover{background-color:var(--vscode-toolbar-hoverBackground)}.colorpicker-header .close-icon{padding:3px}.colorpicker-body{display:-ms-flexbox;display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;-ms-flex:1;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid rgb(255, 255, 255);border-radius:100%;-webkit-box-shadow:0 0 2px rgba(0, 0, 0, 0.8);box-shadow:0 0 2px rgba(0, 0, 0, 0.8);position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .standalone-strip{width:25px;height:122px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:-webkit-grab;cursor:grab;background:-webkit-gradient(linear, left top, left bottom, from(red), color-stop(17%, #ff0), color-stop(33%, #0f0), color-stop(#0ff), color-stop(67%, #00f), color-stop(83%, #f0f), to(red));background:linear-gradient(to bottom, red, #ff0 17%, #0f0 33%, #0ff, #00f 67%, #f0f 83%, red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:-webkit-grab;cursor:grab;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid rgba(255, 255, 255, 0.71);-webkit-box-shadow:0 0 1px rgba(0, 0, 0, 0.8509803922);box-shadow:0 0 1px rgba(0, 0, 0, 0.8509803922)}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.colorpicker-body .standalone-strip .standalone-overlay{height:122px;pointer-events:none}.standalone-colorpicker-body{display:block;border:1px solid transparent;border-bottom:1px solid var(--vscode-editorHoverWidget-border);overflow:hidden}.colorpicker-body .insert-button{position:absolute;height:20px;width:58px;padding:0;right:8px;bottom:8px;background:var(--vscode-button-background);color:var(--vscode-button-foreground);border-radius:2px;border:none;cursor:pointer}.colorpicker-body .insert-button:hover{background:var(--vscode-button-hoverBackground)}.monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer;color:var(--vscode-editorLink-activeForeground) !important}.monaco-editor .peekview-widget .head{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.monaco-editor .peekview-widget .head .peekview-title{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;font-size:13px;margin-left:20px;min-width:0;text-overflow:ellipsis;overflow:hidden}.monaco-editor .peekview-widget .head .peekview-title.clickable{cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:0.9em;margin-left:0.5em}.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 0.3em}.monaco-editor .peekview-widget .head .peekview-actions{-ms-flex:1;flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px;-ms-flex-item-align:center;align-self:center}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit !important}.monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px;background-color:var(--vscode-peekViewResult-background);color:var(--vscode-peekViewResult-lineForeground)}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:-ms-inline-flexbox;display:inline-flex;width:100%;height:100%;color:var(--vscode-peekViewResult-fileForeground)}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit !important}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows>.monaco-list-row.selected:not(.highlighted){background-color:var(--vscode-peekViewResult-selectionBackground);color:var(--vscode-peekViewResult-selectionForeground) !important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight{background-color:var(--vscode-peekViewResult-matchHighlightBackground)}.monaco-editor .reference-zone-widget .preview .reference-decoration{background-color:var(--vscode-peekViewEditor-matchHighlightBackground);border:2px solid var(--vscode-peekViewEditor-matchHighlightBorder);-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input{background-color:var(--vscode-peekViewEditor-background)}.monaco-editor .reference-zone-widget .preview .monaco-editor .margin{background-color:var(--vscode-peekViewEditorGutter-background)}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight{border:1px dotted var(--vscode-contrastActiveBorder, transparent);-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:0.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;-moz-user-select:text;-ms-user-select:text;user-select:text;-webkit-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:0.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:0.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under;color:var(--vscode-textLink-activeForeground)}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer;color:var(--vscode-textLink-activeForeground)}.monaco-editor .zone-widget .codicon.codicon-error,.markers-panel .marker-icon.error,.markers-panel .marker-icon .codicon.codicon-error,.text-search-provider-messages .providerMessage .codicon.codicon-error,.extensions-viewlet>.extensions .codicon.codicon-error,.extension-editor .codicon.codicon-error,.preferences-editor .codicon.codicon-error{color:var(--vscode-problemsErrorIcon-foreground)}.monaco-editor .zone-widget .codicon.codicon-warning,.markers-panel .marker-icon.warning,.markers-panel .marker-icon .codicon.codicon-warning,.text-search-provider-messages .providerMessage .codicon.codicon-warning,.extensions-viewlet>.extensions .codicon.codicon-warning,.extension-editor .codicon.codicon-warning,.preferences-editor .codicon.codicon-warning{color:var(--vscode-problemsWarningIcon-foreground)}.monaco-editor .zone-widget .codicon.codicon-info,.markers-panel .marker-icon.info,.markers-panel .marker-icon .codicon.codicon-info,.text-search-provider-messages .providerMessage .codicon.codicon-info,.extensions-viewlet>.extensions .codicon.codicon-info,.extension-editor .codicon.codicon-info,.preferences-editor .codicon.codicon-info{color:var(--vscode-problemsInfoIcon-foreground)}.monaco-editor .inlineSuggestionsHints.withBorder{z-index:39;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .inlineSuggestionsHints a,.monaco-editor .inlineSuggestionsHints a:hover{color:var(--vscode-foreground)}.monaco-editor .inlineSuggestionsHints .keybinding{display:-ms-flexbox;display:flex;margin-left:4px;opacity:0.6}.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key{font-size:8px;padding:2px 3px}.monaco-editor .inlineSuggestionsHints .availableSuggestionCount a{display:-ms-flexbox;display:flex;min-width:19px;-ms-flex-pack:center;justify-content:center}.monaco-editor .inlineSuggestionStatusBarItemLabel{margin-right:2px}.monaco-editor .hoverHighlight{background-color:var(--vscode-editor-hoverHighlightBackground)}.monaco-editor .monaco-hover{color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);border-radius:3px}.monaco-editor .monaco-hover a{color:var(--vscode-textLink-foreground)}.monaco-editor .monaco-hover a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .monaco-hover .hover-row .actions{background-color:var(--vscode-editorHoverWidget-statusBarBackground)}.monaco-editor .monaco-hover code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor.vs .dnd-target,.monaco-editor.hc-light .dnd-target{border-right:2px dotted black;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines,.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.hc-light.mac.mouse-default .view-lines{cursor:default}.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines,.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.hc-light.mac.mouse-copy .view-lines{cursor:copy}.monaco-editor .findOptionsWidget{background-color:var(--vscode-editorWidget-background);color:var(--vscode-editorWidget-foreground);-webkit-box-shadow:0 0 8px 2px var(--vscode-widget-shadow);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);border:2px solid var(--vscode-contrastBorder)}.monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;-webkit-transition:-webkit-transform 0.2s linear;transition:-webkit-transform 0.2s linear;transition:transform 0.2s linear;transition:transform 0.2s linear, -webkit-transform 0.2s linear;padding:0 4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translateY(calc(-100% - 10px));transform:translateY(calc(-100% - 10px));-webkit-box-shadow:0 0 8px 2px var(--vscode-widget-shadow);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);color:var(--vscode-editorWidget-foreground);border-left:1px solid var(--vscode-widget-border);border-right:1px solid var(--vscode-widget-border);border-bottom:1px solid var(--vscode-widget-border);border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:var(--vscode-editorWidget-background)}.monaco-workbench.reduce-motion .monaco-editor .find-widget{-webkit-transition:-webkit-transform 0ms linear;transition:-webkit-transform 0ms linear;transition:transform 0ms linear;transition:transform 0ms linear, -webkit-transform 0ms linear}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:-ms-flexbox;display:flex}.monaco-editor .find-widget.visible{-webkit-transform:translateY(0);transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px;outline-color:var(--vscode-focusBorder)}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:3px 25px 0 17px;font-size:12px;display:-ms-flexbox;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions{height:25px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:-ms-flexbox;display:flex;-ms-flex:initial;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:16px;height:16px;padding:3px;border-radius:5px;-ms-flex:initial;flex:initial;margin-left:3px;background-position:center center;background-repeat:no-repeat;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.monaco-editor .find-widget .codicon-find-selection{width:22px;height:22px;padding:3px;border-radius:5px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{color:var(--vscode-disabledForeground);cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:-ms-flexbox;display:flex;vertical-align:middle;-ms-flex:auto;flex:auto;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px !important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px !important}.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .find-widget.no-results .matchesCount{color:var(--vscode-errorForeground)}.monaco-editor .findMatch{-webkit-animation-duration:0;animation-duration:0;-webkit-animation-name:inherit !important;animation-name:inherit !important;background-color:var(--vscode-editor-findMatchHighlightBackground)}.monaco-editor .currentFindMatch{background-color:var(--vscode-editor-findMatchBackground);border:2px solid var(--vscode-editor-findMatchBorder);padding:1px;-webkit-box-sizing:border-box;box-sizing:border-box}.monaco-editor .findScope{background-color:var(--vscode-editor-findRangeHighlightBackground)}.monaco-editor .find-widget .monaco-sash{left:0 !important;background-color:var(--vscode-editorWidget-resizeBorder, var(--vscode-editorWidget-border))}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}.monaco-editor .find-widget .button:not(.disabled):hover,.monaco-editor .find-widget .codicon-find-selection:hover{background-color:var(--vscode-toolbar-hoverBackground) !important}.monaco-editor.findMatch{background-color:var(--vscode-editor-findMatchHighlightBackground)}.monaco-editor.currentFindMatch{background-color:var(--vscode-editor-findMatchBackground)}.monaco-editor.findScope{background-color:var(--vscode-editor-findRangeHighlightBackground)}.monaco-editor.findMatch{background-color:var(--vscode-editorWidget-background)}.monaco-editor .find-widget>.button.codicon-widget-close{position:absolute;top:5px;right:4px}.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-collapsed{cursor:pointer;opacity:0;-webkit-transition:opacity 0.5s;transition:opacity 0.5s;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed{-webkit-transition:initial;transition:initial}.monaco-editor .margin-view-overlays:hover .codicon,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons{opacity:1}.monaco-editor .inline-folded:after{color:gray;margin:0.1em 0.2em 0;content:"⋯";display:inline;line-height:1em;cursor:pointer}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed{color:var(--vscode-editorGutter-foldingControlForeground) !important}.monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .ghost-text-decoration,.monaco-editor .suggest-preview-text .ghost-text{font-style:italic}.monaco-editor .ghost-text-decoration,.monaco-editor .ghost-text-decoration-preview,.monaco-editor .suggest-preview-text .ghost-text{color:var(--vscode-editorGhostText-foreground) !important;background-color:var(--vscode-editorGhostText-background);border:1px solid var(--vscode-editorGhostText-border)}.monaco-editor .snippet-placeholder{min-width:2px;outline-style:solid;outline-width:1px;background-color:var(--vscode-editor-snippetTabstopHighlightBackground, transparent);outline-color:var(--vscode-editor-snippetTabstopHighlightBorder, transparent)}.monaco-editor .finish-snippet-placeholder{outline-style:solid;outline-width:1px;background-color:var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);outline-color:var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent)}.monaco-editor .suggest-widget{width:430px;z-index:40;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border-radius:3px}.monaco-editor .suggest-widget.message{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.monaco-editor .suggest-widget,.monaco-editor .suggest-details{-ms-flex:0 1 auto;flex:0 1 auto;width:100%;border-style:solid;border-width:1px;border-color:var(--vscode-editorSuggestWidget-border);background-color:var(--vscode-editorSuggestWidget-background)}.monaco-editor.hc-black .suggest-widget,.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-light .suggest-widget,.monaco-editor.hc-light .suggest-details{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{-webkit-box-sizing:border-box;box-sizing:border-box;display:none;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:justify;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid var(--vscode-editorSuggestWidget-border);overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:-ms-flexbox;display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{color:var(--vscode-editorSuggestWidgetStatus-foreground)}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:0.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:-ms-flexbox;display:flex;-mox-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;-ms-touch-action:none;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused{color:var(--vscode-editorSuggestWidget-selectedForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon{color:var(--vscode-editorSuggestWidget-selectedIconForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{-ms-flex:1;flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:-ms-flexbox;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;-ms-flex-pack:justify;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:-ms-flexbox;display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label{color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-highlightForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-focusHighlightForeground)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:0.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:0.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:0.4;font-size:85%;line-height:initial;text-overflow:ellipsis;overflow:hidden;-ms-flex-item-align:center;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{-ms-flex-negative:1;flex-shrink:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{-ms-flex-negative:0;flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{-ms-flex-negative:1;flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;-ms-flex-negative:4;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none !important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:0.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 0.3em;border:0.1em solid #000;width:0.7em;height:0.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;cursor:default;color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-details.focused{border-color:var(--vscode-focusBorder)}.monaco-editor .suggest-details a{color:var(--vscode-textLink-foreground)}.monaco-editor .suggest-details a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .suggest-details code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{-ms-flex:1;flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{-ms-flex:2;flex:2;overflow:hidden;text-overflow:ellipsis;opacity:0.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:initial;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 0.4em}.monaco-editor .suggest-details ul,.monaco-editor .suggest-details ol{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}.monaco-editor.vs .valueSetReplacement{outline:solid 2px var(--vscode-editorBracketMatch-border)}.monaco-editor .linked-editing-decoration{background-color:var(--vscode-editor-linkedEditingBackground);min-width:1px}.monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer;color:var(--vscode-editorLink-activeForeground) !important}.monaco-editor .focused .selectionHighlight{background-color:var(--vscode-editor-selectionHighlightBackground);-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-editor-selectionHighlightBorder)}.monaco-editor.hc-black .focused .selectionHighlight,.monaco-editor.hc-light .focused .selectionHighlight{border-style:dotted}.monaco-editor .wordHighlight{background-color:var(--vscode-editor-wordHighlightBackground);-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-editor-wordHighlightBorder)}.monaco-editor.hc-black .wordHighlight,.monaco-editor.hc-light .wordHighlight{border-style:dotted}.monaco-editor .wordHighlightStrong{background-color:var(--vscode-editor-wordHighlightStrongBackground);-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-editor-wordHighlightStrongBorder)}.monaco-editor.hc-black .wordHighlightStrong,.monaco-editor.hc-light .wordHighlightStrong{border-style:dotted}.monaco-editor .wordHighlightText{background-color:var(--vscode-editor-wordHighlightTextBackground);-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--vscode-editor-wordHighlightTextBorder)}.monaco-editor.hc-black .wordHighlightText,.monaco-editor.hc-light .wordHighlightText{border-style:dotted}.monaco-editor .inline-edit-remove{background-color:var(--vscode-editorGhostText-background);font-style:italic;text-decoration:line-through}.monaco-editor .inline-edit-remove.backgroundColoring{background-color:var(--vscode-diffEditor-removedLineBackground)}.monaco-editor .inline-edit-hidden{opacity:0;font-size:0}.monaco-editor .inline-edit-decoration,.monaco-editor .suggest-preview-text .inline-edit{font-style:italic}.monaco-editor .inline-completion-text-to-replace{text-decoration:underline;text-underline-position:under}.monaco-editor .inline-edit-decoration,.monaco-editor .inline-edit-decoration-preview,.monaco-editor .suggest-preview-text .inline-edit{color:var(--vscode-editorGhostText-foreground) !important;background-color:var(--vscode-editorGhostText-background);border:1px solid var(--vscode-editorGhostText-border)}.monaco-editor .inlineEditHints.withBorder{z-index:39;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .inlineEditHints a,.monaco-editor .inlineEditHints a:hover{color:var(--vscode-foreground)}.monaco-editor .inlineEditHints .keybinding{display:-ms-flexbox;display:flex;margin-left:4px;opacity:0.6}.monaco-editor .inlineEditHints .keybinding .monaco-keybinding-key{font-size:8px;padding:2px 3px}.monaco-editor .inlineEditStatusBarItemLabel{margin-right:2px}.monaco-editor .parameter-hints-widget{z-index:39;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;line-height:1.5em;cursor:default;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.hc-black .monaco-editor .parameter-hints-widget,.hc-light .monaco-editor .parameter-hints-widget{border-width:2px}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.multiple .body:before{content:"";display:block;height:100%;position:absolute;opacity:0.5;border-left:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .monaco-scrollable-element,.monaco-editor .parameter-hints-widget .body{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px;position:relative}.monaco-editor .parameter-hints-widget .signature.has-docs:after{content:"";display:block;position:absolute;left:0;width:100%;padding-top:4px;opacity:0.5;border-bottom:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs a{color:var(--vscode-textLink-foreground)}.monaco-editor .parameter-hints-widget .docs a:hover{color:var(--vscode-textLink-activeForeground);cursor:pointer}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:initial}.monaco-editor .parameter-hints-widget .docs code{font-family:var(--monaco-monospace-font);border-radius:3px;padding:0 0.4em;background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source,.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .controls{display:none;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;min-width:22px;-ms-flex-pack:end;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:-ms-flexbox;display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{color:var(--vscode-editorHoverWidget-highlightForeground);font-weight:700}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:0.5em}.monaco-editor .rename-box{z-index:100;color:inherit;border-radius:4px}.monaco-editor .rename-box.preview{padding:4px 4px 0}.monaco-editor .rename-box .rename-input{padding:3px;border-radius:2px;width:calc(100% - 8px)}.monaco-editor .rename-box .rename-label{display:none;opacity:0.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}.monaco-editor .sticky-widget{overflow:hidden}.monaco-editor .sticky-widget-line-numbers{float:left;background-color:inherit}.monaco-editor .sticky-widget-lines-scrollable{display:inline-block;position:absolute;overflow:hidden;width:var(--vscode-editorStickyScroll-scrollableWidth);background-color:inherit}.monaco-editor .sticky-widget-lines{position:absolute;background-color:inherit}.monaco-editor .sticky-line-number,.monaco-editor .sticky-line-content{color:var(--vscode-editorLineNumber-foreground);white-space:nowrap;display:inline-block;position:absolute;background-color:inherit}.monaco-editor .sticky-line-number .codicon-folding-expanded,.monaco-editor .sticky-line-number .codicon-folding-collapsed{float:right;-webkit-transition:var(--vscode-editorStickyScroll-foldingOpacityTransition);transition:var(--vscode-editorStickyScroll-foldingOpacityTransition)}.monaco-editor .sticky-line-content{width:var(--vscode-editorStickyScroll-scrollableWidth);background-color:inherit;white-space:nowrap}.monaco-editor .sticky-line-number-inner{display:inline-block;text-align:right}.monaco-editor .sticky-widget{border-bottom:1px solid var(--vscode-editorStickyScroll-border)}.monaco-editor .sticky-line-content:hover{background-color:var(--vscode-editorStickyScrollHover-background);cursor:pointer}.monaco-editor .sticky-widget{width:100%;-webkit-box-shadow:var(--vscode-editorStickyScroll-shadow) 0 3px 2px -2px;box-shadow:var(--vscode-editorStickyScroll-shadow) 0 3px 2px -2px;z-index:4;background-color:var(--vscode-editorStickyScroll-background)}.monaco-editor .sticky-widget.peek{background-color:var(--vscode-peekViewEditorStickyScroll-background)}.monaco-editor .unicode-highlight{border:1px solid var(--vscode-editorUnicodeHighlight-border);background-color:var(--vscode-editorUnicodeHighlight-background);-webkit-box-sizing:border-box;box-sizing:border-box}.editor-banner{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:default;width:100%;font-size:12px;display:-ms-flexbox;display:flex;overflow:visible;height:26px;background:var(--vscode-banner-background)}.editor-banner .icon-container{display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;padding:0 6px 0 10px}.editor-banner .icon-container.custom-icon{background-repeat:no-repeat;background-position:center center;background-size:16px;width:16px;padding:0;margin:0 6px 0 10px}.editor-banner .message-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;line-height:26px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.editor-banner .message-container p{-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0}.editor-banner .message-actions-container{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;line-height:26px;margin:0 4px}.editor-banner .message-actions-container a.monaco-button{width:inherit;margin:2px 8px;padding:0 12px}.editor-banner .message-actions-container a{padding:3px;margin-left:12px;text-decoration:underline}.editor-banner .action-container{padding:0 10px 0 6px}.editor-banner{background-color:var(--vscode-banner-background)}.editor-banner,.editor-banner .action-container .codicon,.editor-banner .message-actions-container .monaco-link{color:var(--vscode-banner-foreground)}.editor-banner .icon-container .codicon{color:var(--vscode-banner-iconForeground)}.monaco-link{color:var(--vscode-textLink-foreground)}.monaco-link:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==) center center no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==) center center no-repeat;border:4px solid #252526}.monaco-editor .tokens-inspect-widget{z-index:50;-moz-user-select:text;-ms-user-select:text;user-select:text;-webkit-user-select:text;padding:10px;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor.hc-black .tokens-inspect-widget,.monaco-editor.hc-light .tokens-inspect-widget{border-width:2px}.monaco-editor .tokens-inspect-widget .tokens-inspect-separator{height:1px;border:0;background-color:var(--vscode-editorHoverWidget-border)}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}ch-code-editor{display:grid;position:relative}.ch-code-editor-absolute-content{display:grid;position:absolute;inset:0}';var cht=aht;var hht=0;var fht=t("C",(E=function(){function t(t){var i=this;l.add(this);d.set(this,void 0);v.set(this,void 0);A.set(this,void 0);g.set(this,"");w.set(this,void 0);p.set(this,void 0);m.set(this,(function(){return i.mode==="editor"?[{fileMatch:["**/".concat(__classPrivateFieldGet(i,g,"f"),".*")],uri:i.yamlSchemaUri}]:[{fileMatch:["**/".concat(__classPrivateFieldGet(i,g,"f"),".*")],uri:i.yamlSchemaUri},{fileMatch:["**/".concat(__classPrivateFieldGet(i,g,"f"),"-modified.*")],uri:i.yamlSchemaUri}]}));b.set(this,(function(){return{automaticLayout:true,mouseWheelScrollSensitivity:4,mouseWheelZoom:true,theme:i.theme,tabSize:2}}));n(this,t);this.enableSplitViewResizing=true;this.language=undefined;this.mode="editor";this.modifiedValue=undefined;this.modifiedValueReadonly=true;this.renderSideBySide=true;this.value=undefined;this.readonly=undefined;this.theme="vs";this.yamlSchemaUri=""}t.prototype.enableSplitViewResizingChanged=function(t){if(this.mode==="diff-editor"&&__classPrivateFieldGet(this,v,"f")){__classPrivateFieldGet(this,v,"f").updateOptions({enableSplitViewResizing:t})}};t.prototype.languageChanged=function(t){if(this.mode==="editor"){pct.editor.setModelLanguage(__classPrivateFieldGet(this,d,"f").getModel(),t)}else{__classPrivateFieldGet(this,v,"f").setModel({original:pct.editor.createModel(this.value,t),modified:pct.editor.createModel(this.modifiedValue,t)})}};t.prototype.modifiedValueChange=function(t){if(__classPrivateFieldGet(this,v,"f")){__classPrivateFieldGet(this,v,"f").getModel().modified.setValue(t)}};t.prototype.modifiedValueReadonlyChanged=function(t){if(this.mode==="diff-editor"&&__classPrivateFieldGet(this,v,"f")){__classPrivateFieldGet(this,v,"f").updateOptions({readOnly:t})}};t.prototype.renderSideBySideChanged=function(t){if(this.mode==="diff-editor"&&__classPrivateFieldGet(this,v,"f")){__classPrivateFieldGet(this,v,"f").updateOptions({renderSideBySide:t})}};t.prototype.valueChange=function(t){if(this.mode==="editor"&&__classPrivateFieldGet(this,d,"f")){__classPrivateFieldGet(this,d,"f").setValue(t)}else if(this.mode==="diff-editor"&&__classPrivateFieldGet(this,v,"f")){__classPrivateFieldGet(this,v,"f").getModel().original.setValue(t)}};t.prototype.readonlyChanged=function(t){if(this.mode==="editor"&&__classPrivateFieldGet(this,d,"f")){__classPrivateFieldGet(this,d,"f").updateOptions({readOnly:t!==null&&t!==void 0?t:false})}if(this.mode==="diff-editor"&&__classPrivateFieldGet(this,v,"f")){__classPrivateFieldGet(this,v,"f").updateOptions({originalEditable:!(t!==null&&t!==void 0?t:true)})}};t.prototype.themeChanged=function(t){if(this.mode==="editor"){__classPrivateFieldGet(this,d,"f").updateOptions({theme:t})}else{__classPrivateFieldGet(this,v,"f").updateOptions({theme:t})}};t.prototype.yamlSchemaUriChange=function(t){if(this.language!=="yaml"){return}__classPrivateFieldSet(this,g,"ch-editor-".concat(hht++),"f");if(t){uht(pct,{enableSchemaRequest:true,format:true,schemas:__classPrivateFieldGet(this,m,"f").call(this)})}else{uht(pct,{enableSchemaRequest:true,format:true,schemas:[]})}__classPrivateFieldGet(this,d,"f").setModel(pct.editor.createModel(this.value,this.language,pct.Uri.parse("file:///".concat(__classPrivateFieldGet(this,g,"f"),".txt"))))};t.prototype.connectedCallback=function(){__classPrivateFieldSet(this,g,"ch-editor-".concat(hht++),"f")};t.prototype.componentDidLoad=function(){var t=this;__classPrivateFieldGet(this,l,"m",x).call(this);if(this.mode==="editor"){__classPrivateFieldGet(this,l,"m",y).call(this)}else{__classPrivateFieldGet(this,l,"m",k).call(this)}__classPrivateFieldSet(this,A,new ResizeObserver((function(i){var n;var r=i[0].contentRect;((n=__classPrivateFieldGet(t,d,"f"))!==null&&n!==void 0?n:__classPrivateFieldGet(t,v,"f")).layout({width:r.width,height:r.height})})),"f");__classPrivateFieldGet(this,A,"f").observe(__classPrivateFieldGet(this,p,"f"))};t.prototype.render=function(){var t=this;return r(e,{key:"85c816e61b8dd676b849a12bc00c7be2e7786cbc"},r("div",{key:"f86832000cfb3c3602d82d3fbe7f8ac28ef36647",class:"ch-code-editor-absolute-content",ref:function(i){return __classPrivateFieldSet(t,p,i,"f")}},r("div",{key:"8dcf063c267dd1759b95b75ea4f9b479b53fb772",ref:function(i){return __classPrivateFieldSet(t,w,i,"f")}})))};Object.defineProperty(t,"watchers",{get:function(){return{enableSplitViewResizing:["enableSplitViewResizingChanged"],language:["languageChanged"],modifiedValue:["modifiedValueChange"],modifiedValueReadonly:["modifiedValueReadonlyChanged"],renderSideBySide:["renderSideBySideChanged"],value:["valueChange"],readonly:["readonlyChanged"],theme:["themeChanged"],yamlSchemaUri:["yamlSchemaUriChange"]}},enumerable:false,configurable:true});return t}(),d=new WeakMap,v=new WeakMap,A=new WeakMap,g=new WeakMap,w=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,l=new WeakSet,y=function t(){var i;var n=pct.editor.createModel(this.value,this.language,pct.Uri.parse("file:///".concat(__classPrivateFieldGet(this,g,"f"),".txt")));__classPrivateFieldSet(this,d,pct.editor.create(__classPrivateFieldGet(this,w,"f"),__assign(__assign({},__classPrivateFieldGet(this,b,"f").call(this)),{readOnly:(i=this.readonly)!==null&&i!==void 0?i:false,model:n})),"f")},k=function t(){var i;__classPrivateFieldSet(this,v,pct.editor.createDiffEditor(__classPrivateFieldGet(this,w,"f"),__assign(__assign({},__classPrivateFieldGet(this,b,"f").call(this)),{enableSplitViewResizing:this.enableSplitViewResizing,renderSideBySide:this.renderSideBySide,originalEditable:!((i=this.readonly)!==null&&i!==void 0?i:true),readOnly:this.modifiedValueReadonly})),"f");__classPrivateFieldGet(this,v,"f").setModel({original:pct.editor.createModel(this.value,this.language,pct.Uri.parse("file:///".concat(__classPrivateFieldGet(this,g,"f"),".txt"))),modified:pct.editor.createModel(this.modifiedValue,this.language,pct.Uri.parse("file:///".concat(__classPrivateFieldGet(this,g,"f"),"-modified.txt")))})},x=function t(){if(this.language==="yaml"&&!!this.yamlSchemaUri){uht(pct,{enableSchemaRequest:true,format:true,schemas:__classPrivateFieldGet(this,m,"f").call(this)})}},E));fht.style=cht}}}));
//# sourceMappingURL=p-079094fd.system.js.map