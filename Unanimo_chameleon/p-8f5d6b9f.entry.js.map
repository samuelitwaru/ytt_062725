{"version":3,"names":["chWindowCss","ChWindowStyle0","CONTAINING_BLOCK_RESET_CUSTOM_VAR","ChWindow","isContainerCssOverride","relativeWindow","containerResizeObserver","mask","header","window","validCssAligns","dragStartX","dragStartY","draggedX","draggedY","containerHandler","value","oldValue","this","checkRelativePosition","containerResizeObserverHandler","updatePosition","hiddenHandler","hidden","resetDrag","removeListeners","windowClosed","emit","watchCSSAlign","addListeners","windowOpened","componentWillLoad","ResizeObserver","container","loadGlobalStyleSheet","componentDidLoad","mousedownHandler","eventInfo","isDraggable","composedPath","clientX","clientY","document","addEventListener","mousemoveHandler","passive","mouseupHandler","once","windowCloseClickedHandler","translateX","translateY","style","setProperty","removeEventListener","parseInt","getPropertyValue","maskClickHandler","stopPropagation","computed","getComputedStyle","el","rect","getBoundingClientRect","width","height","left","top","removeProperty","undefined","target","allowDrag","includes","trim","xAlign","yAlign","observe","unobserve","windowResizeHandler","windowScrollHandler","capture","closeOnOutsideClick","closeOnOutsideClickHandler","closeOnEscape","closeOnEscapeHandler","key","adoptGlobalStyleSheet","shadowRoot","adoptedStyleSheets","render","separationY","separationX","h","Host","class","part","ref","onClick","showHeader","name","caption","title","closeTooltip","closeText","showMain","showFooter","showSeparation","separation","chWindowCloseCss","ChWindowCloseStyle0","ChWindowClose","windowCloseClicked","pressedHandler","role","tabindex","disabled"],"sources":["src/deprecated-components/window/ch-window.scss?tag=ch-window&encapsulation=shadow","src/deprecated-components/window/ch-window.tsx","src/deprecated-components/window/window-close/ch-window-close.scss?tag=ch-window-close","src/deprecated-components/window/window-close/ch-window-close.tsx"],"sourcesContent":[":host {\r\n  --ch-window-offset-x: 0px;\r\n  --ch-window-offset-y: 0px;\r\n\r\n  --ch-window-separation-x: 0px;\r\n  --ch-window-separation-y: 0px;\r\n\r\n  --ch-window-x-outside: 0px;\r\n  --ch-window-y-outside: 0px;\r\n}\r\n\r\n:host(:not([hidden])) {\r\n  display: contents;\r\n}\r\n:host(:is(:not([modal]), [modal=\"false\"])) .mask {\r\n  pointer-events: none;\r\n}\r\n\r\n.window {\r\n  pointer-events: all;\r\n}\r\n\r\n.mask {\r\n  display: flex;\r\n  position: fixed;\r\n  inset: 0;\r\n  left: calc(\r\n    var(--ch-window-inset-inline-start) + var(--ch-window-offset-x) +\r\n      var(--ch-window-separation-x)\r\n  );\r\n  inset-block-start: calc(\r\n    var(--ch-window-inset-block-start) + var(--ch-window-offset-y) +\r\n      var(--ch-window-separation-y)\r\n  );\r\n  width: var(--ch-window-mask-width);\r\n  height: var(--ch-window-mask-height);\r\n  z-index: var(--ch-window-mask-z-index, 1000);\r\n\r\n  :host(:is([x-align=\"outside-start\"], [x-align=\"inside-start\"])) & {\r\n    justify-content: flex-start;\r\n  }\r\n  :host([x-align=\"center\"]) & {\r\n    justify-content: center;\r\n  }\r\n  :host(:is([x-align=\"outside-end\"], [x-align=\"inside-end\"])) & {\r\n    justify-content: flex-end;\r\n  }\r\n  :host(:is([y-align=\"outside-start\"], [y-align=\"inside-start\"])) & {\r\n    align-items: flex-start;\r\n  }\r\n  :host([y-align=\"center\"]) & {\r\n    align-items: center;\r\n  }\r\n  :host(:is([y-align=\"outside-end\"], [y-align=\"inside-end\"])) & {\r\n    align-items: flex-end;\r\n  }\r\n}\r\n\r\n.window {\r\n  display: flex;\r\n  flex-direction: column;\r\n  transform: translate(var(--ch-window-x-outside), var(--ch-window-y-outside))\r\n    translate(var(--ch-window-x-drag, 0px), var(--ch-window-y-drag, 0px));\r\n  z-index: inherit;\r\n\r\n  :host([x-align=\"outside-start\"]) & {\r\n    --ch-window-x-outside: -100%;\r\n  }\r\n  :host([x-align=\"outside-end\"]) & {\r\n    --ch-window-x-outside: 100%;\r\n  }\r\n  :host([y-align=\"outside-start\"]) & {\r\n    --ch-window-y-outside: -100%;\r\n  }\r\n  :host([y-align=\"outside-end\"]) & {\r\n    --ch-window-y-outside: 100%;\r\n  }\r\n}\r\n\r\n.separation {\r\n  position: fixed;\r\n  inset: 0;\r\n  pointer-events: all;\r\n\r\n  &--x {\r\n    top: var(--ch-window-inset-block-start);\r\n    width: var(--ch-window-separation);\r\n    height: var(--ch-window-mask-height);\r\n  }\r\n\r\n  &--y {\r\n    left: var(--ch-window-inset-inline-start);\r\n    width: var(--ch-window-mask-width);\r\n    height: var(--ch-window-separation);\r\n  }\r\n\r\n  &--both {\r\n    width: calc(var(--ch-window-separation) * 4);\r\n    height: calc(var(--ch-window-separation) * 4);\r\n  }\r\n\r\n  :host([x-align=\"outside-start\"]) & {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) - var(--ch-window-separation)\r\n    );\r\n  }\r\n\r\n  :host([x-align=\"outside-start\"]) &--both {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) - var(--ch-window-separation) * 3\r\n    );\r\n  }\r\n\r\n  :host([x-align=\"outside-end\"]) & {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) + var(--ch-window-mask-width)\r\n    );\r\n  }\r\n\r\n  :host([x-align=\"outside-end\"]) &--both {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) + var(--ch-window-mask-width) -\r\n        var(--ch-window-separation)\r\n    );\r\n  }\r\n\r\n  :host([y-align=\"outside-start\"]) & {\r\n    top: calc(var(--ch-window-inset-block-start) - var(--ch-window-separation));\r\n  }\r\n\r\n  :host([y-align=\"outside-start\"]) &--both {\r\n    top: calc(\r\n      var(--ch-window-inset-block-start) - var(--ch-window-separation) * 3\r\n    );\r\n  }\r\n\r\n  :host([y-align=\"outside-end\"]) & {\r\n    top: calc(\r\n      var(--ch-window-inset-block-start) + var(--ch-window-mask-height)\r\n    );\r\n  }\r\n\r\n  :host([y-align=\"outside-end\"]) &--both {\r\n    top: calc(\r\n      var(--ch-window-inset-block-start) + var(--ch-window-mask-height) -\r\n        var(--ch-window-separation)\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  Watch,\r\n  Listen,\r\n  Element,\r\n  Host\r\n} from \"@stencil/core\";\r\nimport { adoptGlobalStyleSheet } from \"../style/ch-global-stylesheet\";\r\n\r\nexport type ChWindowAlign =\r\n  | \"outside-start\"\r\n  | \"inside-start\"\r\n  | \"center\"\r\n  | \"inside-end\"\r\n  | \"outside-end\";\r\n\r\nconst CONTAINING_BLOCK_RESET_CUSTOM_VAR = \"--ch-window-relative-position\";\r\n\r\n/**\r\n * The 'ch-window' component represents a popup container that is positioned\r\n * relative to an element or the screen.\r\n */\r\n@Component({\r\n  tag: \"ch-window\",\r\n  styleUrl: \"ch-window.scss\",\r\n  shadow: true\r\n})\r\nexport class ChWindow {\r\n  private isContainerCssOverride = false;\r\n  private relativeWindow = false;\r\n  private containerResizeObserver: ResizeObserver;\r\n  private mask: HTMLElement;\r\n  private header: HTMLElement;\r\n  private window: HTMLElement;\r\n  private readonly validCssAligns: ChWindowAlign[] = [\r\n    \"outside-start\",\r\n    \"inside-start\",\r\n    \"center\",\r\n    \"inside-end\",\r\n    \"outside-end\"\r\n  ];\r\n  private dragStartX: number;\r\n  private dragStartY: number;\r\n  private draggedX = 0;\r\n  private draggedY = 0;\r\n\r\n  @Element() el: HTMLChWindowElement;\r\n\r\n  /** The container element for the window. */\r\n  @Prop() readonly container?: HTMLElement;\r\n\r\n  @Watch(\"container\")\r\n  containerHandler(value: HTMLElement, oldValue: HTMLElement) {\r\n    this.checkRelativePosition();\r\n    this.containerResizeObserverHandler(value, oldValue);\r\n    this.updatePosition();\r\n  }\r\n\r\n  /** The horizontal alignment of the window. */\r\n  @Prop({ reflect: true, mutable: true }) xAlign: ChWindowAlign = \"center\";\r\n\r\n  /** The vertical alignment of the window. */\r\n  @Prop({ reflect: true, mutable: true }) yAlign: ChWindowAlign = \"center\";\r\n\r\n  /** Determines if the window is hidden or visible. */\r\n  @Prop({ reflect: true, mutable: true }) hidden = true;\r\n\r\n  @Watch(\"hidden\")\r\n  hiddenHandler() {\r\n    if (this.hidden) {\r\n      this.resetDrag();\r\n      this.removeListeners();\r\n      this.windowClosed.emit();\r\n    } else {\r\n      this.checkRelativePosition();\r\n      this.updatePosition();\r\n      this.watchCSSAlign();\r\n      this.addListeners();\r\n      this.windowOpened.emit();\r\n    }\r\n  }\r\n\r\n  /** Specifies whether the window should be displayed as a modal. */\r\n  @Prop({ reflect: true }) readonly modal: boolean = true;\r\n\r\n  /** The caption or title of the window. */\r\n  @Prop() readonly caption: string = \"\";\r\n\r\n  /** The text for the close button. */\r\n  @Prop() readonly closeText: string;\r\n\r\n  /** The tooltip text for the close button. */\r\n  @Prop() readonly closeTooltip: string;\r\n\r\n  /** Determines whether the window should close when clicked outside. */\r\n  @Prop() readonly closeOnOutsideClick: boolean;\r\n\r\n  /** Determines whether the window should close when the Escape key is pressed. */\r\n  @Prop() readonly closeOnEscape: boolean;\r\n\r\n  /** Specifies the drag behavior of the window. */\r\n  @Prop() readonly allowDrag: \"no\" | \"header\" | \"box\" = \"no\";\r\n\r\n  /**\r\n   * This attribute lets you specify if a footer is rendered at the bottom of the\r\n   * window.\r\n   */\r\n  @Prop() readonly showFooter: boolean = true;\r\n\r\n  /**\r\n   * This attribute lets you specify if a header is rendered on top of the window.\r\n   */\r\n  @Prop() readonly showHeader: boolean = true;\r\n\r\n  /**\r\n   * This attribute lets you specify if a div wrapper is rendered for the\r\n   * default slot.\r\n   */\r\n  @Prop() readonly showMain: boolean = true;\r\n\r\n  /**\r\n   * This attribute lets you specify if a div between the container and the window\r\n   * space.\r\n   */\r\n  @Prop() readonly showSeparation: boolean = false;\r\n\r\n  /** Emitted when the window is opened. */\r\n  @Event() windowOpened: EventEmitter;\r\n\r\n  /** Emitted when the window is closed. */\r\n  @Event() windowClosed: EventEmitter;\r\n\r\n  componentWillLoad() {\r\n    this.containerResizeObserver = new ResizeObserver(this.updatePosition);\r\n\r\n    this.containerResizeObserverHandler(this.container);\r\n    this.watchCSSAlign();\r\n    this.loadGlobalStyleSheet();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (!this.hidden) {\r\n      this.addListeners();\r\n    }\r\n  }\r\n\r\n  @Listen(\"mousedown\", { passive: true })\r\n  mousedownHandler(eventInfo: MouseEvent) {\r\n    if (this.isDraggable(eventInfo.composedPath())) {\r\n      this.dragStartX = eventInfo.clientX;\r\n      this.dragStartY = eventInfo.clientY;\r\n\r\n      document.addEventListener(\"mousemove\", this.mousemoveHandler, {\r\n        passive: true\r\n      });\r\n      document.addEventListener(\"mouseup\", this.mouseupHandler, {\r\n        once: true\r\n      });\r\n    }\r\n  }\r\n\r\n  @Listen(\"windowCloseClicked\")\r\n  windowCloseClickedHandler() {\r\n    this.hidden = true;\r\n  }\r\n\r\n  private mousemoveHandler = (eventInfo: MouseEvent) => {\r\n    const translateX = this.draggedX + eventInfo.clientX - this.dragStartX;\r\n    const translateY = this.draggedY + eventInfo.clientY - this.dragStartY;\r\n\r\n    this.window.style.setProperty(\"--ch-window-x-drag\", `${translateX}px`);\r\n    this.window.style.setProperty(\"--ch-window-y-drag\", `${translateY}px`);\r\n  };\r\n\r\n  private mouseupHandler = () => {\r\n    document.removeEventListener(\"mousemove\", this.mousemoveHandler);\r\n    this.draggedX = parseInt(\r\n      this.window.style.getPropertyValue(\"--ch-window-x-drag\")\r\n    );\r\n    this.draggedY = parseInt(\r\n      this.window.style.getPropertyValue(\"--ch-window-y-drag\")\r\n    );\r\n  };\r\n\r\n  private maskClickHandler = (eventInfo: PointerEvent) => {\r\n    eventInfo.stopPropagation();\r\n  };\r\n\r\n  private checkRelativePosition() {\r\n    const computed = getComputedStyle(this.el);\r\n    this.relativeWindow = !!computed.getPropertyValue(\r\n      CONTAINING_BLOCK_RESET_CUSTOM_VAR\r\n    );\r\n  }\r\n\r\n  private updatePosition = () => {\r\n    if (!this.isContainerCssOverride && this.container && this.mask) {\r\n      const rect = this.container.getBoundingClientRect();\r\n\r\n      this.el.style.setProperty(\"--ch-window-mask-width\", `${rect.width}px`);\r\n      this.el.style.setProperty(\"--ch-window-mask-height\", `${rect.height}px`);\r\n\r\n      // Nested windows are positioned relative to its initial containing block,\r\n      // so there is no need to align them relative to the document\r\n      if (this.relativeWindow) {\r\n        return;\r\n      }\r\n\r\n      this.el.style.setProperty(\r\n        \"--ch-window-inset-inline-start\",\r\n        `${rect.left}px`\r\n      );\r\n      this.el.style.setProperty(\r\n        \"--ch-window-inset-block-start\",\r\n        `${rect.top}px`\r\n      );\r\n    } else if (this.isContainerCssOverride || !this.container) {\r\n      this.el.style.removeProperty(\"--ch-window-mask-width\");\r\n      this.el.style.removeProperty(\"--ch-window-mask-height\");\r\n\r\n      if (this.relativeWindow) {\r\n        return;\r\n      }\r\n      this.el.style.removeProperty(\"--ch-window-inset-inline-start\");\r\n      this.el.style.removeProperty(\"--ch-window-inset-block-start\");\r\n    }\r\n  };\r\n\r\n  private resetDrag() {\r\n    this.dragStartX = undefined;\r\n    this.dragStartY = undefined;\r\n    this.draggedX = 0;\r\n    this.draggedY = 0;\r\n    this.window.style.removeProperty(\"--ch-window-x-drag\");\r\n    this.window.style.removeProperty(\"--ch-window-y-drag\");\r\n  }\r\n\r\n  private isDraggable(target: EventTarget[]): boolean {\r\n    return (\r\n      this.allowDrag !== \"no\" &&\r\n      ((this.allowDrag === \"header\" && target.includes(this.header)) ||\r\n        (this.allowDrag === \"box\" && target.includes(this.window)))\r\n    );\r\n  }\r\n\r\n  private watchCSSAlign() {\r\n    const style = getComputedStyle(this.el);\r\n    const container = style.getPropertyValue(\"--ch-window-container\").trim();\r\n    const xAlign = style\r\n      .getPropertyValue(\"--ch-window-align-x\")\r\n      .trim() as ChWindowAlign;\r\n    const yAlign = style\r\n      .getPropertyValue(\"--ch-window-align-y\")\r\n      .trim() as ChWindowAlign;\r\n\r\n    this.isContainerCssOverride = container.includes(\"window\");\r\n\r\n    if (this.validCssAligns.includes(xAlign)) {\r\n      this.xAlign = xAlign;\r\n    }\r\n    if (this.validCssAligns.includes(yAlign)) {\r\n      this.yAlign = yAlign;\r\n    }\r\n  }\r\n\r\n  private containerResizeObserverHandler(\r\n    observe: HTMLElement,\r\n    unobserve?: HTMLElement\r\n  ) {\r\n    if (observe) {\r\n      this.containerResizeObserver.observe(observe);\r\n    }\r\n    if (unobserve) {\r\n      this.containerResizeObserver.unobserve(unobserve);\r\n    }\r\n  }\r\n\r\n  private addListeners() {\r\n    window.addEventListener(\"resize\", this.windowResizeHandler, {\r\n      passive: true\r\n    });\r\n\r\n    if (this.container) {\r\n      document.addEventListener(\"scroll\", this.windowScrollHandler, {\r\n        capture: true,\r\n        passive: true\r\n      });\r\n    }\r\n\r\n    if (this.closeOnOutsideClick) {\r\n      document.addEventListener(\"click\", this.closeOnOutsideClickHandler, {\r\n        capture: true\r\n      });\r\n    }\r\n\r\n    if (this.closeOnEscape) {\r\n      document.addEventListener(\"keydown\", this.closeOnEscapeHandler, {\r\n        capture: true\r\n      });\r\n    }\r\n  }\r\n\r\n  private removeListeners() {\r\n    window.removeEventListener(\"resize\", this.windowResizeHandler);\r\n    document.removeEventListener(\"scroll\", this.windowScrollHandler, {\r\n      capture: true\r\n    });\r\n    document.removeEventListener(\"click\", this.closeOnOutsideClickHandler, {\r\n      capture: true\r\n    });\r\n    document.removeEventListener(\"keydown\", this.closeOnEscapeHandler, {\r\n      capture: true\r\n    });\r\n  }\r\n\r\n  private windowResizeHandler = () => {\r\n    this.updatePosition();\r\n    this.watchCSSAlign();\r\n  };\r\n\r\n  private windowScrollHandler = () => {\r\n    this.updatePosition();\r\n  };\r\n\r\n  private closeOnOutsideClickHandler = (eventInfo: PointerEvent) => {\r\n    if (!eventInfo.composedPath().includes(this.window)) {\r\n      this.hidden = true;\r\n    }\r\n  };\r\n\r\n  private closeOnEscapeHandler = (eventInfo: KeyboardEvent) => {\r\n    if (eventInfo.key === \"Escape\") {\r\n      this.hidden = true;\r\n    }\r\n  };\r\n\r\n  private loadGlobalStyleSheet() {\r\n    adoptGlobalStyleSheet(this.el.shadowRoot.adoptedStyleSheets);\r\n  }\r\n\r\n  render() {\r\n    const separationY =\r\n      this.yAlign === \"outside-start\" || this.yAlign === \"outside-end\";\r\n    const separationX =\r\n      this.xAlign === \"outside-start\" || this.xAlign === \"outside-end\";\r\n\r\n    return (\r\n      <Host\r\n        style={\r\n          this.relativeWindow && {\r\n            \"--ch-window-inset-inline-start\": \"0px\",\r\n            \"--ch-window-inset-block-start\": \"0px\"\r\n          }\r\n        }\r\n      >\r\n        <div\r\n          class=\"mask\"\r\n          part=\"mask\"\r\n          ref={el => (this.mask = el)}\r\n          onClick={this.maskClickHandler}\r\n        >\r\n          <section class=\"window\" part=\"window\" ref={el => (this.window = el)}>\r\n            {this.showHeader && (\r\n              <header part=\"header\" ref={el => (this.header = el)}>\r\n                <slot name=\"header\">\r\n                  <span part=\"caption\">{this.caption}</span>\r\n                  <ch-window-close part=\"close\" title={this.closeTooltip}>\r\n                    {this.closeText}\r\n                  </ch-window-close>\r\n                </slot>\r\n              </header>\r\n            )}\r\n\r\n            {this.showMain ? (\r\n              <div part=\"main\">\r\n                <slot />\r\n              </div>\r\n            ) : (\r\n              <slot />\r\n            )}\r\n\r\n            {this.showFooter && (\r\n              <footer part=\"footer\">\r\n                <slot name=\"footer\"></slot>\r\n              </footer>\r\n            )}\r\n          </section>\r\n\r\n          {this.showSeparation && (\r\n            <div\r\n              class={{\r\n                separation: true,\r\n                \"separation--x\": separationX && !separationY,\r\n                \"separation--y\": separationY && !separationX,\r\n                \"separation--both\": separationX && separationY\r\n              }}\r\n              part=\"separation\"\r\n            ></div>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",null,"import {\r\n  Component,\r\n  Prop,\r\n  h,\r\n  Host,\r\n  Event,\r\n  EventEmitter,\r\n  Listen\r\n} from \"@stencil/core\";\r\n\r\n/**\r\n * The 'ch-window-close' component represents the close button for the 'ch-window' component.\r\n */\r\n@Component({\r\n  tag: \"ch-window-close\",\r\n  styleUrl: \"ch-window-close.scss\",\r\n  shadow: false\r\n})\r\nexport class ChWindowClose {\r\n  /** Specifies whether the close button is disabled. */\r\n  @Prop() readonly disabled: boolean;\r\n\r\n  /** Emitted when the close button is clicked. */\r\n  @Event() windowCloseClicked: EventEmitter;\r\n\r\n  @Listen(\"keydown\", { passive: true })\r\n  @Listen(\"click\", { passive: true })\r\n  pressedHandler(eventInfo: any) {\r\n    if (!eventInfo.key || eventInfo.key === \"Enter\" || eventInfo.key === \" \") {\r\n      this.windowCloseClicked.emit();\r\n      eventInfo.stopPropagation();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <Host role=\"button\" tabindex=\"0\" disabled={this.disabled}></Host>;\r\n  }\r\n}\r\n"],"mappings":"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"}