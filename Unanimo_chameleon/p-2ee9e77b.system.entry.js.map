{"version":3,"names":["chWindowCss","ChWindowStyle0","CONTAINING_BLOCK_RESET_CUSTOM_VAR","ChWindow","exports","this","isContainerCssOverride","relativeWindow","validCssAligns","draggedX","draggedY","mousemoveHandler","eventInfo","translateX","_this","clientX","dragStartX","translateY","clientY","dragStartY","window","style","setProperty","concat","mouseupHandler","document","removeEventListener","parseInt","getPropertyValue","maskClickHandler","stopPropagation","updatePosition","container","mask","rect","getBoundingClientRect","el","width","height","left","top","removeProperty","windowResizeHandler","watchCSSAlign","windowScrollHandler","closeOnOutsideClickHandler","composedPath","includes","hidden","closeOnEscapeHandler","key","class_1","prototype","containerHandler","value","oldValue","checkRelativePosition","containerResizeObserverHandler","hiddenHandler","resetDrag","removeListeners","windowClosed","emit","addListeners","windowOpened","componentWillLoad","containerResizeObserver","ResizeObserver","loadGlobalStyleSheet","componentDidLoad","mousedownHandler","isDraggable","addEventListener","passive","once","windowCloseClickedHandler","computed","getComputedStyle","undefined","target","allowDrag","header","trim","xAlign","yAlign","observe","unobserve","capture","closeOnOutsideClick","closeOnEscape","adoptGlobalStyleSheet","shadowRoot","adoptedStyleSheets","render","separationY","separationX","h","Host","class","part","ref","onClick","showHeader","name","caption","title","closeTooltip","closeText","showMain","showFooter","showSeparation","separation","chWindowCloseCss","ChWindowCloseStyle0","ChWindowClose","class_2","pressedHandler","windowCloseClicked","role","tabindex","disabled"],"sources":["src/deprecated-components/window/ch-window.scss?tag=ch-window&encapsulation=shadow","src/deprecated-components/window/ch-window.tsx","src/deprecated-components/window/window-close/ch-window-close.scss?tag=ch-window-close","src/deprecated-components/window/window-close/ch-window-close.tsx"],"sourcesContent":[":host {\r\n  --ch-window-offset-x: 0px;\r\n  --ch-window-offset-y: 0px;\r\n\r\n  --ch-window-separation-x: 0px;\r\n  --ch-window-separation-y: 0px;\r\n\r\n  --ch-window-x-outside: 0px;\r\n  --ch-window-y-outside: 0px;\r\n}\r\n\r\n:host(:not([hidden])) {\r\n  display: contents;\r\n}\r\n:host(:is(:not([modal]), [modal=\"false\"])) .mask {\r\n  pointer-events: none;\r\n}\r\n\r\n.window {\r\n  pointer-events: all;\r\n}\r\n\r\n.mask {\r\n  display: flex;\r\n  position: fixed;\r\n  inset: 0;\r\n  left: calc(\r\n    var(--ch-window-inset-inline-start) + var(--ch-window-offset-x) +\r\n      var(--ch-window-separation-x)\r\n  );\r\n  inset-block-start: calc(\r\n    var(--ch-window-inset-block-start) + var(--ch-window-offset-y) +\r\n      var(--ch-window-separation-y)\r\n  );\r\n  width: var(--ch-window-mask-width);\r\n  height: var(--ch-window-mask-height);\r\n  z-index: var(--ch-window-mask-z-index, 1000);\r\n\r\n  :host(:is([x-align=\"outside-start\"], [x-align=\"inside-start\"])) & {\r\n    justify-content: flex-start;\r\n  }\r\n  :host([x-align=\"center\"]) & {\r\n    justify-content: center;\r\n  }\r\n  :host(:is([x-align=\"outside-end\"], [x-align=\"inside-end\"])) & {\r\n    justify-content: flex-end;\r\n  }\r\n  :host(:is([y-align=\"outside-start\"], [y-align=\"inside-start\"])) & {\r\n    align-items: flex-start;\r\n  }\r\n  :host([y-align=\"center\"]) & {\r\n    align-items: center;\r\n  }\r\n  :host(:is([y-align=\"outside-end\"], [y-align=\"inside-end\"])) & {\r\n    align-items: flex-end;\r\n  }\r\n}\r\n\r\n.window {\r\n  display: flex;\r\n  flex-direction: column;\r\n  transform: translate(var(--ch-window-x-outside), var(--ch-window-y-outside))\r\n    translate(var(--ch-window-x-drag, 0px), var(--ch-window-y-drag, 0px));\r\n  z-index: inherit;\r\n\r\n  :host([x-align=\"outside-start\"]) & {\r\n    --ch-window-x-outside: -100%;\r\n  }\r\n  :host([x-align=\"outside-end\"]) & {\r\n    --ch-window-x-outside: 100%;\r\n  }\r\n  :host([y-align=\"outside-start\"]) & {\r\n    --ch-window-y-outside: -100%;\r\n  }\r\n  :host([y-align=\"outside-end\"]) & {\r\n    --ch-window-y-outside: 100%;\r\n  }\r\n}\r\n\r\n.separation {\r\n  position: fixed;\r\n  inset: 0;\r\n  pointer-events: all;\r\n\r\n  &--x {\r\n    top: var(--ch-window-inset-block-start);\r\n    width: var(--ch-window-separation);\r\n    height: var(--ch-window-mask-height);\r\n  }\r\n\r\n  &--y {\r\n    left: var(--ch-window-inset-inline-start);\r\n    width: var(--ch-window-mask-width);\r\n    height: var(--ch-window-separation);\r\n  }\r\n\r\n  &--both {\r\n    width: calc(var(--ch-window-separation) * 4);\r\n    height: calc(var(--ch-window-separation) * 4);\r\n  }\r\n\r\n  :host([x-align=\"outside-start\"]) & {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) - var(--ch-window-separation)\r\n    );\r\n  }\r\n\r\n  :host([x-align=\"outside-start\"]) &--both {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) - var(--ch-window-separation) * 3\r\n    );\r\n  }\r\n\r\n  :host([x-align=\"outside-end\"]) & {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) + var(--ch-window-mask-width)\r\n    );\r\n  }\r\n\r\n  :host([x-align=\"outside-end\"]) &--both {\r\n    left: calc(\r\n      var(--ch-window-inset-inline-start) + var(--ch-window-mask-width) -\r\n        var(--ch-window-separation)\r\n    );\r\n  }\r\n\r\n  :host([y-align=\"outside-start\"]) & {\r\n    top: calc(var(--ch-window-inset-block-start) - var(--ch-window-separation));\r\n  }\r\n\r\n  :host([y-align=\"outside-start\"]) &--both {\r\n    top: calc(\r\n      var(--ch-window-inset-block-start) - var(--ch-window-separation) * 3\r\n    );\r\n  }\r\n\r\n  :host([y-align=\"outside-end\"]) & {\r\n    top: calc(\r\n      var(--ch-window-inset-block-start) + var(--ch-window-mask-height)\r\n    );\r\n  }\r\n\r\n  :host([y-align=\"outside-end\"]) &--both {\r\n    top: calc(\r\n      var(--ch-window-inset-block-start) + var(--ch-window-mask-height) -\r\n        var(--ch-window-separation)\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  Watch,\r\n  Listen,\r\n  Element,\r\n  Host\r\n} from \"@stencil/core\";\r\nimport { adoptGlobalStyleSheet } from \"../style/ch-global-stylesheet\";\r\n\r\nexport type ChWindowAlign =\r\n  | \"outside-start\"\r\n  | \"inside-start\"\r\n  | \"center\"\r\n  | \"inside-end\"\r\n  | \"outside-end\";\r\n\r\nconst CONTAINING_BLOCK_RESET_CUSTOM_VAR = \"--ch-window-relative-position\";\r\n\r\n/**\r\n * The 'ch-window' component represents a popup container that is positioned\r\n * relative to an element or the screen.\r\n */\r\n@Component({\r\n  tag: \"ch-window\",\r\n  styleUrl: \"ch-window.scss\",\r\n  shadow: true\r\n})\r\nexport class ChWindow {\r\n  private isContainerCssOverride = false;\r\n  private relativeWindow = false;\r\n  private containerResizeObserver: ResizeObserver;\r\n  private mask: HTMLElement;\r\n  private header: HTMLElement;\r\n  private window: HTMLElement;\r\n  private readonly validCssAligns: ChWindowAlign[] = [\r\n    \"outside-start\",\r\n    \"inside-start\",\r\n    \"center\",\r\n    \"inside-end\",\r\n    \"outside-end\"\r\n  ];\r\n  private dragStartX: number;\r\n  private dragStartY: number;\r\n  private draggedX = 0;\r\n  private draggedY = 0;\r\n\r\n  @Element() el: HTMLChWindowElement;\r\n\r\n  /** The container element for the window. */\r\n  @Prop() readonly container?: HTMLElement;\r\n\r\n  @Watch(\"container\")\r\n  containerHandler(value: HTMLElement, oldValue: HTMLElement) {\r\n    this.checkRelativePosition();\r\n    this.containerResizeObserverHandler(value, oldValue);\r\n    this.updatePosition();\r\n  }\r\n\r\n  /** The horizontal alignment of the window. */\r\n  @Prop({ reflect: true, mutable: true }) xAlign: ChWindowAlign = \"center\";\r\n\r\n  /** The vertical alignment of the window. */\r\n  @Prop({ reflect: true, mutable: true }) yAlign: ChWindowAlign = \"center\";\r\n\r\n  /** Determines if the window is hidden or visible. */\r\n  @Prop({ reflect: true, mutable: true }) hidden = true;\r\n\r\n  @Watch(\"hidden\")\r\n  hiddenHandler() {\r\n    if (this.hidden) {\r\n      this.resetDrag();\r\n      this.removeListeners();\r\n      this.windowClosed.emit();\r\n    } else {\r\n      this.checkRelativePosition();\r\n      this.updatePosition();\r\n      this.watchCSSAlign();\r\n      this.addListeners();\r\n      this.windowOpened.emit();\r\n    }\r\n  }\r\n\r\n  /** Specifies whether the window should be displayed as a modal. */\r\n  @Prop({ reflect: true }) readonly modal: boolean = true;\r\n\r\n  /** The caption or title of the window. */\r\n  @Prop() readonly caption: string = \"\";\r\n\r\n  /** The text for the close button. */\r\n  @Prop() readonly closeText: string;\r\n\r\n  /** The tooltip text for the close button. */\r\n  @Prop() readonly closeTooltip: string;\r\n\r\n  /** Determines whether the window should close when clicked outside. */\r\n  @Prop() readonly closeOnOutsideClick: boolean;\r\n\r\n  /** Determines whether the window should close when the Escape key is pressed. */\r\n  @Prop() readonly closeOnEscape: boolean;\r\n\r\n  /** Specifies the drag behavior of the window. */\r\n  @Prop() readonly allowDrag: \"no\" | \"header\" | \"box\" = \"no\";\r\n\r\n  /**\r\n   * This attribute lets you specify if a footer is rendered at the bottom of the\r\n   * window.\r\n   */\r\n  @Prop() readonly showFooter: boolean = true;\r\n\r\n  /**\r\n   * This attribute lets you specify if a header is rendered on top of the window.\r\n   */\r\n  @Prop() readonly showHeader: boolean = true;\r\n\r\n  /**\r\n   * This attribute lets you specify if a div wrapper is rendered for the\r\n   * default slot.\r\n   */\r\n  @Prop() readonly showMain: boolean = true;\r\n\r\n  /**\r\n   * This attribute lets you specify if a div between the container and the window\r\n   * space.\r\n   */\r\n  @Prop() readonly showSeparation: boolean = false;\r\n\r\n  /** Emitted when the window is opened. */\r\n  @Event() windowOpened: EventEmitter;\r\n\r\n  /** Emitted when the window is closed. */\r\n  @Event() windowClosed: EventEmitter;\r\n\r\n  componentWillLoad() {\r\n    this.containerResizeObserver = new ResizeObserver(this.updatePosition);\r\n\r\n    this.containerResizeObserverHandler(this.container);\r\n    this.watchCSSAlign();\r\n    this.loadGlobalStyleSheet();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (!this.hidden) {\r\n      this.addListeners();\r\n    }\r\n  }\r\n\r\n  @Listen(\"mousedown\", { passive: true })\r\n  mousedownHandler(eventInfo: MouseEvent) {\r\n    if (this.isDraggable(eventInfo.composedPath())) {\r\n      this.dragStartX = eventInfo.clientX;\r\n      this.dragStartY = eventInfo.clientY;\r\n\r\n      document.addEventListener(\"mousemove\", this.mousemoveHandler, {\r\n        passive: true\r\n      });\r\n      document.addEventListener(\"mouseup\", this.mouseupHandler, {\r\n        once: true\r\n      });\r\n    }\r\n  }\r\n\r\n  @Listen(\"windowCloseClicked\")\r\n  windowCloseClickedHandler() {\r\n    this.hidden = true;\r\n  }\r\n\r\n  private mousemoveHandler = (eventInfo: MouseEvent) => {\r\n    const translateX = this.draggedX + eventInfo.clientX - this.dragStartX;\r\n    const translateY = this.draggedY + eventInfo.clientY - this.dragStartY;\r\n\r\n    this.window.style.setProperty(\"--ch-window-x-drag\", `${translateX}px`);\r\n    this.window.style.setProperty(\"--ch-window-y-drag\", `${translateY}px`);\r\n  };\r\n\r\n  private mouseupHandler = () => {\r\n    document.removeEventListener(\"mousemove\", this.mousemoveHandler);\r\n    this.draggedX = parseInt(\r\n      this.window.style.getPropertyValue(\"--ch-window-x-drag\")\r\n    );\r\n    this.draggedY = parseInt(\r\n      this.window.style.getPropertyValue(\"--ch-window-y-drag\")\r\n    );\r\n  };\r\n\r\n  private maskClickHandler = (eventInfo: PointerEvent) => {\r\n    eventInfo.stopPropagation();\r\n  };\r\n\r\n  private checkRelativePosition() {\r\n    const computed = getComputedStyle(this.el);\r\n    this.relativeWindow = !!computed.getPropertyValue(\r\n      CONTAINING_BLOCK_RESET_CUSTOM_VAR\r\n    );\r\n  }\r\n\r\n  private updatePosition = () => {\r\n    if (!this.isContainerCssOverride && this.container && this.mask) {\r\n      const rect = this.container.getBoundingClientRect();\r\n\r\n      this.el.style.setProperty(\"--ch-window-mask-width\", `${rect.width}px`);\r\n      this.el.style.setProperty(\"--ch-window-mask-height\", `${rect.height}px`);\r\n\r\n      // Nested windows are positioned relative to its initial containing block,\r\n      // so there is no need to align them relative to the document\r\n      if (this.relativeWindow) {\r\n        return;\r\n      }\r\n\r\n      this.el.style.setProperty(\r\n        \"--ch-window-inset-inline-start\",\r\n        `${rect.left}px`\r\n      );\r\n      this.el.style.setProperty(\r\n        \"--ch-window-inset-block-start\",\r\n        `${rect.top}px`\r\n      );\r\n    } else if (this.isContainerCssOverride || !this.container) {\r\n      this.el.style.removeProperty(\"--ch-window-mask-width\");\r\n      this.el.style.removeProperty(\"--ch-window-mask-height\");\r\n\r\n      if (this.relativeWindow) {\r\n        return;\r\n      }\r\n      this.el.style.removeProperty(\"--ch-window-inset-inline-start\");\r\n      this.el.style.removeProperty(\"--ch-window-inset-block-start\");\r\n    }\r\n  };\r\n\r\n  private resetDrag() {\r\n    this.dragStartX = undefined;\r\n    this.dragStartY = undefined;\r\n    this.draggedX = 0;\r\n    this.draggedY = 0;\r\n    this.window.style.removeProperty(\"--ch-window-x-drag\");\r\n    this.window.style.removeProperty(\"--ch-window-y-drag\");\r\n  }\r\n\r\n  private isDraggable(target: EventTarget[]): boolean {\r\n    return (\r\n      this.allowDrag !== \"no\" &&\r\n      ((this.allowDrag === \"header\" && target.includes(this.header)) ||\r\n        (this.allowDrag === \"box\" && target.includes(this.window)))\r\n    );\r\n  }\r\n\r\n  private watchCSSAlign() {\r\n    const style = getComputedStyle(this.el);\r\n    const container = style.getPropertyValue(\"--ch-window-container\").trim();\r\n    const xAlign = style\r\n      .getPropertyValue(\"--ch-window-align-x\")\r\n      .trim() as ChWindowAlign;\r\n    const yAlign = style\r\n      .getPropertyValue(\"--ch-window-align-y\")\r\n      .trim() as ChWindowAlign;\r\n\r\n    this.isContainerCssOverride = container.includes(\"window\");\r\n\r\n    if (this.validCssAligns.includes(xAlign)) {\r\n      this.xAlign = xAlign;\r\n    }\r\n    if (this.validCssAligns.includes(yAlign)) {\r\n      this.yAlign = yAlign;\r\n    }\r\n  }\r\n\r\n  private containerResizeObserverHandler(\r\n    observe: HTMLElement,\r\n    unobserve?: HTMLElement\r\n  ) {\r\n    if (observe) {\r\n      this.containerResizeObserver.observe(observe);\r\n    }\r\n    if (unobserve) {\r\n      this.containerResizeObserver.unobserve(unobserve);\r\n    }\r\n  }\r\n\r\n  private addListeners() {\r\n    window.addEventListener(\"resize\", this.windowResizeHandler, {\r\n      passive: true\r\n    });\r\n\r\n    if (this.container) {\r\n      document.addEventListener(\"scroll\", this.windowScrollHandler, {\r\n        capture: true,\r\n        passive: true\r\n      });\r\n    }\r\n\r\n    if (this.closeOnOutsideClick) {\r\n      document.addEventListener(\"click\", this.closeOnOutsideClickHandler, {\r\n        capture: true\r\n      });\r\n    }\r\n\r\n    if (this.closeOnEscape) {\r\n      document.addEventListener(\"keydown\", this.closeOnEscapeHandler, {\r\n        capture: true\r\n      });\r\n    }\r\n  }\r\n\r\n  private removeListeners() {\r\n    window.removeEventListener(\"resize\", this.windowResizeHandler);\r\n    document.removeEventListener(\"scroll\", this.windowScrollHandler, {\r\n      capture: true\r\n    });\r\n    document.removeEventListener(\"click\", this.closeOnOutsideClickHandler, {\r\n      capture: true\r\n    });\r\n    document.removeEventListener(\"keydown\", this.closeOnEscapeHandler, {\r\n      capture: true\r\n    });\r\n  }\r\n\r\n  private windowResizeHandler = () => {\r\n    this.updatePosition();\r\n    this.watchCSSAlign();\r\n  };\r\n\r\n  private windowScrollHandler = () => {\r\n    this.updatePosition();\r\n  };\r\n\r\n  private closeOnOutsideClickHandler = (eventInfo: PointerEvent) => {\r\n    if (!eventInfo.composedPath().includes(this.window)) {\r\n      this.hidden = true;\r\n    }\r\n  };\r\n\r\n  private closeOnEscapeHandler = (eventInfo: KeyboardEvent) => {\r\n    if (eventInfo.key === \"Escape\") {\r\n      this.hidden = true;\r\n    }\r\n  };\r\n\r\n  private loadGlobalStyleSheet() {\r\n    adoptGlobalStyleSheet(this.el.shadowRoot.adoptedStyleSheets);\r\n  }\r\n\r\n  render() {\r\n    const separationY =\r\n      this.yAlign === \"outside-start\" || this.yAlign === \"outside-end\";\r\n    const separationX =\r\n      this.xAlign === \"outside-start\" || this.xAlign === \"outside-end\";\r\n\r\n    return (\r\n      <Host\r\n        style={\r\n          this.relativeWindow && {\r\n            \"--ch-window-inset-inline-start\": \"0px\",\r\n            \"--ch-window-inset-block-start\": \"0px\"\r\n          }\r\n        }\r\n      >\r\n        <div\r\n          class=\"mask\"\r\n          part=\"mask\"\r\n          ref={el => (this.mask = el)}\r\n          onClick={this.maskClickHandler}\r\n        >\r\n          <section class=\"window\" part=\"window\" ref={el => (this.window = el)}>\r\n            {this.showHeader && (\r\n              <header part=\"header\" ref={el => (this.header = el)}>\r\n                <slot name=\"header\">\r\n                  <span part=\"caption\">{this.caption}</span>\r\n                  <ch-window-close part=\"close\" title={this.closeTooltip}>\r\n                    {this.closeText}\r\n                  </ch-window-close>\r\n                </slot>\r\n              </header>\r\n            )}\r\n\r\n            {this.showMain ? (\r\n              <div part=\"main\">\r\n                <slot />\r\n              </div>\r\n            ) : (\r\n              <slot />\r\n            )}\r\n\r\n            {this.showFooter && (\r\n              <footer part=\"footer\">\r\n                <slot name=\"footer\"></slot>\r\n              </footer>\r\n            )}\r\n          </section>\r\n\r\n          {this.showSeparation && (\r\n            <div\r\n              class={{\r\n                separation: true,\r\n                \"separation--x\": separationX && !separationY,\r\n                \"separation--y\": separationY && !separationX,\r\n                \"separation--both\": separationX && separationY\r\n              }}\r\n              part=\"separation\"\r\n            ></div>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",null,"import {\r\n  Component,\r\n  Prop,\r\n  h,\r\n  Host,\r\n  Event,\r\n  EventEmitter,\r\n  Listen\r\n} from \"@stencil/core\";\r\n\r\n/**\r\n * The 'ch-window-close' component represents the close button for the 'ch-window' component.\r\n */\r\n@Component({\r\n  tag: \"ch-window-close\",\r\n  styleUrl: \"ch-window-close.scss\",\r\n  shadow: false\r\n})\r\nexport class ChWindowClose {\r\n  /** Specifies whether the close button is disabled. */\r\n  @Prop() readonly disabled: boolean;\r\n\r\n  /** Emitted when the close button is clicked. */\r\n  @Event() windowCloseClicked: EventEmitter;\r\n\r\n  @Listen(\"keydown\", { passive: true })\r\n  @Listen(\"click\", { passive: true })\r\n  pressedHandler(eventInfo: any) {\r\n    if (!eventInfo.key || eventInfo.key === \"Enter\" || eventInfo.key === \" \") {\r\n      this.windowCloseClicked.emit();\r\n      eventInfo.stopPropagation();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <Host role=\"button\" tabindex=\"0\" disabled={this.disabled}></Host>;\r\n  }\r\n}\r\n"],"mappings":"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"}