System.register(["./p-68f06fae.system.js"],(function(t){"use strict";var e,i,r;return{setters:[function(t){e=t.r;i=t.c;r=t.g}],execute:function(){var s='@layer ch-grid {\n  ch-grid-virtual-scroller {\n    display: contents;\n  }\n\n  ch-grid-virtual-scroller::before {\n    content: "";\n    height: 0;\n    padding-top: inherit;\n    grid-column: 1/-1;\n    grid-row: 2;\n  }\n\n  ch-grid-virtual-scroller::after {\n    content: "";\n    height: 0;\n    padding-bottom: inherit;\n    grid-column: 1/-1;\n  }\n}';var n=t("ch_grid_virtual_scroller",function(){function t(t){e(this,t);this.viewPortItemsChanged=i(this,"viewPortItemsChanged",7);this.rowHeight=0;this.browserHeight=document.documentElement.clientHeight;this.hasGridScroll=false;this.hasWindowScroll=false;this.maxViewPortItems=1;this.resizeObserver=new ResizeObserver(this.resizeHandler.bind(this))}t.prototype.componentWillLoad=function(){this.gridMainEl=this.el.assignedSlot.parentElement;this.resizeObserver.observe(this.gridMainEl);this.resizeObserver.observe(document.documentElement)};t.prototype.componentDidLoad=function(){this.updateViewPortItems()};t.prototype.disconnectedCallback=function(){this.resizeObserver.disconnect()};t.prototype.itemsHandler=function(){if(this.gridMainEl){this.updateViewPortItems()}};t.prototype.rowHeightHandler=function(){if(this.gridMainEl){this.updateViewPortItems()}};t.prototype.maxViewPortItemsHandler=function(){if(this.gridMainEl){this.updateViewPortItems()}};t.prototype.hasScrollHandler=function(){if(this.hasGridScroll){this.gridMainEl.addEventListener("scroll",this.updateViewPortItems.bind(this),{passive:true})}else{this.gridMainEl.removeEventListener("scroll",this.updateViewPortItems.bind(this))}this.updateViewPortItems()};t.prototype.hasWindowScrollHandler=function(){if(this.hasWindowScroll){document.addEventListener("scroll",this.updateViewPortItems.bind(this),{passive:true})}else{document.removeEventListener("scroll",this.updateViewPortItems.bind(this))}this.updateViewPortItems()};t.prototype.resizeHandler=function(){var t=getComputedStyle(this.gridMainEl).gridTemplateRows.split(" ");this.browserHeight=document.documentElement.clientHeight;this.rowHeight=t.length>=4?parseInt(t[2]):0;if(this.rowHeight>0){this.hasGridScroll=this.gridMainEl.scrollHeight!=this.gridMainEl.clientHeight;this.hasWindowScroll=!this.hasGridScroll&&this.gridMainEl.clientHeight>this.browserHeight;this.maxViewPortItems=Math.ceil(this.browserHeight/this.rowHeight)}};t.prototype.updateViewPortItems=function(t){var e=this.getPercentScroll();var i;if(e<=50){i=Math.floor(e*Math.max(this.items.length-this.maxViewPortItems,0)/100)}else{i=Math.ceil(e*Math.max(this.items.length-this.maxViewPortItems,0)/100)}this.el.style.paddingTop=i*this.rowHeight+"px";this.el.style.paddingBottom=(this.items.length-(i+Math.min(this.items.length,this.maxViewPortItems)))*this.rowHeight+"px";this.viewPortItems=this.items.slice(i,i+this.maxViewPortItems);this.viewPortItemsChanged.emit();if(t){clearTimeout(this.timer);this.timer=setTimeout(this.updateViewPortItems.bind(this),100)}};t.prototype.getPercentScroll=function(){var t=0;var e=0;if(this.hasGridScroll){t=this.gridMainEl.scrollHeight-this.gridMainEl.clientHeight;e=this.gridMainEl.scrollTop}else if(this.hasWindowScroll){var i=this.gridMainEl.getBoundingClientRect();t=this.gridMainEl.clientHeight-this.browserHeight;e=Math.min(i.top>=0?0:i.top*-1,t)}return t>0?e*100/t:0};Object.defineProperty(t.prototype,"el",{get:function(){return r(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{items:["itemsHandler"],rowHeight:["rowHeightHandler"],maxViewPortItems:["maxViewPortItemsHandler"],hasGridScroll:["hasScrollHandler"],hasWindowScroll:["hasWindowScrollHandler"]}},enumerable:false,configurable:true});return t}());n.style=s}}}));