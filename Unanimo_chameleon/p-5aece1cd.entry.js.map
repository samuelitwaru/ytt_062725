{"version":3,"names":["tooltipCss","ChTooltipStyle0","mapTooltipAlignToChWindowAlign","OutsideStart","InsideStart","Center","InsideEnd","OutsideEnd","EXPORT_PARTS","ChTooltip","container","showWithDelay","setTimeout","this","hidden","delay","handleEnter","handleLeave","focusComposedPath","addListeners","addEventListener","removeListeners","removeEventListener","componentDidLoad","document","querySelector","disconnectedCallback","render","aligns","position","split","alignX","alignY","h","Host","key","name","exportparts","modal","xAlign","yAlign","role","class","id","tooltipId"],"sources":["src/components/tooltip/tooltip.scss?tag=ch-tooltip","src/components/tooltip/tooltip.tsx"],"sourcesContent":["@import \"../../common/_base\";\r\n\r\n@include box-sizing();\r\n\r\nch-tooltip {\r\n  --ch-tooltip-separation: 12px;\r\n  --ch-tooltip-separation-x: var(--ch-tooltip-separation);\r\n  --ch-tooltip-separation-y: var(--ch-tooltip-separation);\r\n  --ch-tooltip-arrow-size: 10px;\r\n  --ch-tooltip-based: calc( 1px - var(--ch-tooltip-arrow-size));\r\n  --ch-tooltip-centered: calc( 50% - var(--ch-tooltip-arrow-size) / 2);\r\n  --ch-tooltip-75: calc( 75% - var(--ch-tooltip-arrow-size) / 2);\r\n  --ch-tooltip-25: calc( 25% - var(--ch-tooltip-arrow-size) / 2);\r\n  display: flex;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\nch-tooltip:not([hidden]) {\r\n  display: contents;\r\n}\r\n\r\n// - - - - - - - - - - - - - - - -\r\n//           Separation\r\n// - - - - - - - - - - - - - - - -\r\nch-window[y-align=\"outside-start\"] {\r\n  --ch-window-separation: var(--ch-tooltip-separation-y);\r\n  --ch-window-separation-y: calc(var(--ch-tooltip-separation-y) * -1);\r\n}\r\n\r\nch-window[y-align=\"outside-end\"] {\r\n  --ch-window-separation: var(--ch-tooltip-separation-y);\r\n  --ch-window-separation-y: var(--ch-tooltip-separation-y);\r\n}\r\n\r\nch-window[x-align=\"outside-start\"]\r\n+ :not(ch-window[y-align=\"outside-start\"], ch-window[y-align=\"outside-end\"]) {\r\n  --ch-window-separation: var(--ch-tooltip-separation-x);\r\n  --ch-window-separation-x: calc(var(--ch-tooltip-separation-x) * -1);\r\n}\r\n\r\nch-window[x-align=\"outside-end\"]\r\n+ :not(ch-window[y-align=\"outside-start\"], ch-window[y-align=\"outside-end\"]) {\r\n  --ch-window-separation: var(--ch-tooltip-separation-x);\r\n  --ch-window-separation-x: var(--ch-tooltip-separation-x);\r\n}\r\n\r\n// - - - - - - - - - - - - - - - -\r\n//           Tooltip Arrow\r\n// - - - - - - - - - - - - - - - -\r\nch-window[y-align=\"outside-start\"], \r\nch-window[y-align=\"outside-start\"][x-align=\"outside-start\"],\r\nch-window[y-align=\"outside-start\"][x-align=\"outside-end\"] {\r\n  .tooltip-content::after {\r\n    clip-path: polygon(0 0, 50% 100%, 100% 0);\r\n    inset-block-end: var(--ch-tooltip-based);\r\n  }\r\n  &[x-align=\"outside-start\"] {\r\n    .tooltip-content::after {\r\n      inset-inline-end: 0;\r\n    }\r\n  }\r\n  &[x-align=\"outside-end\"] {\r\n    .tooltip-content::after {\r\n      inset-inline-start: 0;\r\n    }\r\n  }\r\n}\r\n\r\nch-window[y-align=\"outside-end\"],\r\nch-window[y-align=\"outside-end\"][x-align=\"outside-end\"],\r\nch-window[y-align=\"outside-end\"][x-align=\"outside-start\"] {\r\n  .tooltip-content::after {\r\n    clip-path: polygon(50% 0, 100% 100%, 0 100%);\r\n    inset-block-start: var(--ch-tooltip-based);\r\n  }\r\n  &[x-align=\"outside-start\"] {\r\n    .tooltip-content::after {\r\n      inset-inline-end: 0;\r\n    }\r\n  }\r\n  &[x-align=\"outside-end\"] {\r\n    .tooltip-content::after {\r\n      inset-inline-start: 0;\r\n    }\r\n  }\r\n}\r\n\r\nch-window[x-align=\"outside-start\"] {\r\n  .tooltip-content::after {\r\n    clip-path: polygon(100% 50%,0 0,0 100%);\r\n    inset-inline-end: var(--ch-tooltip-based);\r\n  }\r\n}\r\n\r\nch-window[x-align=\"outside-end\"] {\r\n  .tooltip-content::after {\r\n    clip-path: polygon(100% 0,0 50%,100% 100%);\r\n    inset-inline-start: var(--ch-tooltip-based);\r\n  }\r\n}\r\n\r\nch-window[x-align=\"center\"] {\r\n  .tooltip-content::after {\r\n    inset-inline-start: var(--ch-tooltip-centered);\r\n  }\r\n}\r\nch-window[x-align=\"inside-start\"] {\r\n  .tooltip-content::after {\r\n    inset-inline-start: var(--ch-tooltip-75);\r\n  }\r\n}\r\nch-window[x-align=\"inside-end\"] {\r\n  .tooltip-content::after {\r\n    inset-inline-start: var(--ch-tooltip-25);\r\n  }\r\n}\r\n\r\nch-window[y-align=\"inside-start\"]  {\r\n  .tooltip-content::after {\r\n    inset-block-start: var(--ch-tooltip-75);\r\n  }\r\n}\r\nch-window[y-align=\"center\"] {\r\n  .tooltip-content::after {\r\n    inset-block-start: var(--ch-tooltip-centered);\r\n  }\r\n}\r\nch-window[y-align=\"inside-end\"]  {\r\n  .tooltip-content::after {\r\n    inset-block-start: var(--ch-tooltip-25);\r\n  }\r\n}\r\n\r\n.tooltip-content {\r\n  &::after {\r\n    content: \" \";\r\n    position: absolute;\r\n    background-color: inherit;\r\n    width:  var(--ch-tooltip-arrow-size);\r\n\t  height:  var(--ch-tooltip-arrow-size);\r\n  }\r\n}","import { Component, Host, h, Prop, State } from \"@stencil/core\";\r\nimport { Component as ChComponent } from \"../../common/interfaces\";\r\nimport { focusComposedPath } from \"../common/helpers\";\r\nimport { ChPopoverAlign } from \"../popover/types\";\r\n\r\nexport type TooltipAlign =\r\n  | \"OutsideStart\"\r\n  | \"InsideStart\"\r\n  | \"Center\"\r\n  | \"InsideEnd\"\r\n  | \"OutsideEnd\";\r\n\r\nconst mapTooltipAlignToChWindowAlign: {\r\n  [key in TooltipAlign]: ChPopoverAlign;\r\n} = {\r\n  OutsideStart: \"outside-start\",\r\n  InsideStart: \"inside-start\",\r\n  Center: \"center\",\r\n  InsideEnd: \"inside-end\",\r\n  OutsideEnd: \"outside-end\"\r\n};\r\n\r\nconst EXPORT_PARTS = \"window:section,mask\";\r\n\r\n@Component({\r\n  tag: \"ch-tooltip\",\r\n  styleUrl: \"tooltip.scss\",\r\n  shadow: false\r\n})\r\nexport class ChTooltip implements ChComponent {\r\n  /** The container element for ch-window.\r\n   */\r\n  private container!: HTMLDivElement;\r\n  /** Determines if the window and the tooltip is hidden or visible.\r\n   * Inherited from ch-window.\r\n   */\r\n  @State() hidden = true;\r\n  /**\r\n   * Specifies the tooltip description.\r\n   */\r\n  @Prop() readonly tooltipId: string = \"Tooltip\";\r\n  /**\r\n   * Specifies the delay (in ms)\r\n   * for the tooltip to be displayed.\r\n   */\r\n  @Prop() readonly delay: number = 100;\r\n  /**\r\n   * Specifies the position of the tooltip relative to\r\n   * the container element.\r\n   */\r\n  @Prop() readonly position:\r\n    | \"OutsideStart_OutsideStart\"\r\n    | \"InsideStart_OutsideStart\"\r\n    | \"Center_OutsideStart\"\r\n    | \"InsideEnd_OutsideStart\"\r\n    | \"OutsideEnd_OutsideStart\"\r\n    | \"OutsideStart_InsideStart\"\r\n    | \"OutsideEnd_InsideStart\"\r\n    | \"OutsideStart_Center\"\r\n    | \"OutsideEnd_Center\"\r\n    | \"OutsideStart_InsideEnd\"\r\n    | \"OutsideEnd_InsideEnd\"\r\n    | \"OutsideStart_OutsideEnd\"\r\n    | \"InsideStart_OutsideEnd\"\r\n    | \"Center_OutsideEnd\"\r\n    | \"InsideEnd_OutsideEnd\"\r\n    | \"OutsideEnd_OutsideEnd\" = \"OutsideStart_Center\";\r\n\r\n  private showWithDelay = () => {\r\n    setTimeout(() => {\r\n      this.hidden = false;\r\n    }, this.delay);\r\n  };\r\n\r\n  private handleEnter = () => {\r\n    if (!this.hidden) {\r\n      return;\r\n    }\r\n    this.showWithDelay();\r\n  };\r\n\r\n  private handleLeave = () => {\r\n    if (this.container === focusComposedPath()[0]) {\r\n      this.hidden = false;\r\n    }\r\n    this.hidden = true;\r\n  };\r\n\r\n  private addListeners = () => {\r\n    this.container.addEventListener(\"focus\", this.handleEnter);\r\n    this.container.addEventListener(\"focusout\", this.handleLeave);\r\n    this.container.addEventListener(\"mouseenter\", this.handleEnter);\r\n    this.container.addEventListener(\"mouseleave\", this.handleLeave);\r\n  };\r\n\r\n  private removeListeners = () => {\r\n    this.container.removeEventListener(\"focus\", this.handleEnter);\r\n    this.container.removeEventListener(\"focusout\", this.handleLeave);\r\n    this.container.removeEventListener(\"mouseenter\", this.handleEnter);\r\n    this.container.removeEventListener(\"mouseleave\", this.handleLeave);\r\n  };\r\n\r\n  componentDidLoad() {\r\n    this.container = document.querySelector(\r\n      '[slot=\"container\"] > :first-child'\r\n    );\r\n    this.addListeners();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.removeListeners();\r\n  }\r\n\r\n  render() {\r\n    const aligns = this.position.split(\"_\");\r\n    const alignX = aligns[0] as TooltipAlign;\r\n    const alignY = aligns[1] as TooltipAlign;\r\n\r\n    return (\r\n      <Host>\r\n        <slot name=\"container\"></slot>\r\n        <ch-window\r\n          exportparts={EXPORT_PARTS}\r\n          show-header={false}\r\n          show-footer={false}\r\n          modal={false}\r\n          close-on-escape\r\n          hidden={this.hidden}\r\n          container={this.container}\r\n          xAlign={mapTooltipAlignToChWindowAlign[alignX]}\r\n          yAlign={mapTooltipAlignToChWindowAlign[alignY]}\r\n        >\r\n          <div role=\"tooltip\" class=\"tooltip-content\" id={this.tooltipId}>\r\n            <slot name=\"content\"></slot>\r\n          </div>\r\n        </ch-window>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"sFAAA,MAAMA,EAAa,ivIACnB,MAAAC,EAAeD,ECWf,MAAME,EAEF,CACFC,aAAc,gBACdC,YAAa,eACbC,OAAQ,SACRC,UAAW,aACXC,WAAY,eAGd,MAAMC,EAAe,sB,MAORC,EAAS,M,qCAOF,K,eAImB,U,WAKJ,I,cAqBH,qB,CAlCtBC,UAoCAC,cAAgB,KACtBC,YAAW,KACTC,KAAKC,OAAS,KAAK,GAClBD,KAAKE,MAAM,EAGRC,YAAc,KACpB,IAAKH,KAAKC,OAAQ,CAChB,M,CAEFD,KAAKF,eAAe,EAGdM,YAAc,KACpB,GAAIJ,KAAKH,YAAcQ,IAAoB,GAAI,CAC7CL,KAAKC,OAAS,K,CAEhBD,KAAKC,OAAS,IAAI,EAGZK,aAAe,KACrBN,KAAKH,UAAUU,iBAAiB,QAASP,KAAKG,aAC9CH,KAAKH,UAAUU,iBAAiB,WAAYP,KAAKI,aACjDJ,KAAKH,UAAUU,iBAAiB,aAAcP,KAAKG,aACnDH,KAAKH,UAAUU,iBAAiB,aAAcP,KAAKI,YAAY,EAGzDI,gBAAkB,KACxBR,KAAKH,UAAUY,oBAAoB,QAAST,KAAKG,aACjDH,KAAKH,UAAUY,oBAAoB,WAAYT,KAAKI,aACpDJ,KAAKH,UAAUY,oBAAoB,aAAcT,KAAKG,aACtDH,KAAKH,UAAUY,oBAAoB,aAAcT,KAAKI,YAAY,EAGpE,gBAAAM,GACEV,KAAKH,UAAYc,SAASC,cACxB,qCAEFZ,KAAKM,c,CAGP,oBAAAO,GACEb,KAAKQ,iB,CAGP,MAAAM,GACE,MAAMC,EAASf,KAAKgB,SAASC,MAAM,KACnC,MAAMC,EAASH,EAAO,GACtB,MAAMI,EAASJ,EAAO,GAEtB,OACEK,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,QAAAE,IAAA,2CAAMC,KAAK,cACXH,EAAA,aAAAE,IAAA,2CACEE,YAAa7B,EAAY,cACZ,MAAK,cACL,MACb8B,MAAO,MAAK,uBAEZxB,OAAQD,KAAKC,OACbJ,UAAWG,KAAKH,UAChB6B,OAAQrC,EAA+B6B,GACvCS,OAAQtC,EAA+B8B,IAEvCC,EAAA,OAAAE,IAAA,2CAAKM,KAAK,UAAUC,MAAM,kBAAkBC,GAAI9B,KAAK+B,WACnDX,EAAA,QAAAE,IAAA,2CAAMC,KAAK,c"}