function DVelop_DVHorizontalMenu(){this.Menu;this.CollapsedTitle;this.ResizeWidth;this.Code;this.Cls;this.MenuType;this.MoreOptionEnabled;this.MoreOptionCaption;this.MoreOptionIcon;this.MoreOptionShowIconsOnInnerOptions;this.MoreOptionType;this.ResetSelectedOption=function(){createCookie("DVelop_HMenuSelected","");this.SelectedItem_loaded=null;this.Refresh()};this.SetMenu=function(n){this.Menu=n};this.GetMenu=function(){};this.show=function(){var n,t;if(this.IsPostBack||this.Refresh(),!this.IsPostBack){if(n=this,this.MoreOptionEnabled&&this.Menu.length>0){$(window).resize(function(){n.UpdateMoreOption()});gx.fx.obs.addObserver("gx.onload",window,function(n){return function(){n.UpdateMoreOption()}}(this));$(window).on("load",function(){n.UpdateMoreOption()});gx.fx.obs.addObserver("gx.onafterevent",window,function(n){return function(){n.UpdateMoreOption()}}(this))}t=$(n.getContainerControl()).closest(".HorizontalStickyMenuHeaderCell");t.length==1&&(this.ScrollLimit=-1,$(window).scroll(function(){var i,r;t.hasClass("FixedHeader")?t.hasClass("FixedHeaderAddedDynamically")&&(i=$(this).scrollTop()<=n.ScrollLimit,i&&(t.parent().css("height",""),t.removeClass("FixedHeader"),$(".ElementInStickyMenuHeaderCell").each(function(){$(this).removeClass("FixedHeader")}))):(n.ScrollLimit=$(n.getContainerControl()).parent().offset().top+$(n.getContainerControl()).parent().height(),r=$(this).scrollTop()>n.ScrollLimit,r&&(t.parent().css("height",t.height()),t.addClass("FixedHeader FixedHeaderAddedDynamically"),$(".ElementInStickyMenuHeaderCell").each(function(){$(this).addClass("FixedHeader")})))}))}};this.fixSelectedItem=function(){this.SelectedItem_loaded!=window.location.href&&(this.SelectedItem_loaded=window.location.href,this.Menu!=undefined&&this.Menu.length>0&&this.findSelectedItemByUrlRecursive(this.Menu))};this.findSelectedItemByUrlRecursive=function(n){var t=this;$(n).each(function(n,i){var u=i.subItems,r;if(u instanceof Object&&u.length>0)t.findSelectedItemByUrlRecursive(u);else if(i!=null&&i.link!=null&&(r=i.link.split(" ").join("%20"),r.indexOf("/")==-1&&(r="/"+r),window.location.href.length>=r.length&&window.location.href.substring(window.location.href.length-r.length,window.location.href.length).toLowerCase()==r.toLowerCase()))return createCookie("DVelop_HMenuSelected",i.id),!1})};this.Refresh=function(){var n=this;$(document).ready(function(t){var e,i,f;n.fixSelectedItem();var o=readCookie("DVelop_HMenuSelected"),r="slimmenu"+(new Date).getTime(),u=n.processMenu(n.Menu,null,!0,!0,o);if(u==null&&(u=""),n.MoreOptionEnabled&&n.MoreOptionType!="Slider"&&n.Menu.length>0&&(e=n.MoreOptionIcon!=""?'<i class="'+n.MoreOptionIcon+'"><\/i> ':"<i><\/i>",u+='<li class="moreOption"><a href="#">'+e+gx.getMessage(n.MoreOptionCaption)+"<\/a>"+n.processMenu(n.Menu,null,!1,n.MoreOptionShowIconsOnInnerOptions,null)+"<\/li>"),i=new gx.text.stringBuffer,i.clear(),n.MoreOptionEnabled&&n.MoreOptionType=="Slider"&&i.append("<div class='HorizontalMenuSilder'><div class='moveLeft MasterHeaderCell'><div class='moveLeftArrow'><\/div><\/div>"),i.append('<ul class="slimmenu'+(n.Cls!=null&&n.Cls!=""?" "+n.Cls:"")+'" id="'+r+'">'+u+"<\/ul>"),n.MoreOptionEnabled&&n.MoreOptionType=="Slider"&&i.append("<div class='moveRight MasterHeaderCell'><div class='moveRightArrow'><\/div><\/div>"),n.getContainerControl().innerHTML=i.toString(),f=t(n.getContainerControl()).find(".SelectedMenuSubItem"),f.length==1&&n.SetSelectItemClass(f),t("#"+r).slimmenu({resizeWidth:n.ResizeWidth,collapserTitle:n.CollapsedTitle,animSpeed:0,indentChildren:!0,childrenIndenter:"&raquo;"}),n.AllowKeyNavigation&&t("#"+r).on("keydown",function(n){if(n.keyCode==13&&!n.shiftKey&&!n.altKey){var i=t(n.target).parent();if(i.is(".open"))i.find(">ul").stop().slideUp(0,null),i.off("focusout").removeClass("open"),i.parent().closest("li.has-submenu").length==0&&i.closest(".HorizontalMenuSilder").removeClass("menuOpen").closest(".gx_usercontrol").parent().removeClass("HorizontalMenuSilderKeyNavigating");else if(i.is("li")&&!i.is(".hiddenInSlider")){i.find(">ul").stop().slideDown(0,null);i.on("focusout",function(n){(i.find(">a")[0]==n.relatedTarget||i.find(n.relatedTarget).length==0)&&(i.find(">ul").stop().slideUp(0,null),i.off("focusout").removeClass("open"),i.parent().closest("li.has-submenu").length==0&&i.closest(".HorizontalMenuSilder").removeClass("menuOpen").closest(".gx_usercontrol").parent().removeClass("HorizontalMenuSilderKeyNavigating"))});i.addClass("open").closest(".HorizontalMenuSilder").addClass("menuOpen").closest(".gx_usercontrol").parent().addClass("HorizontalMenuSilderKeyNavigating")}}}).find("a").attr("gxfocusable","1"),n.MoreOptionEnabled&&n.Menu.length>0&&(n.UpdateMoreOption(),n.MoreOptionType=="Slider")){t(".HorizontalMenuSilder>.moveRight").click(function(){var r=null,u=t(n.getContainerControl()).find(" ul.slimmenu > li:last-child()"),o=u.position().left+u.width(),i=t(n.getContainerControl()).find(" ul.slimmenu > li:first-child()"),f=t(n.getContainerControl()).find(".HorizontalMenuSilder").width(),e=parseInt(t(".HorizontalMenuSilder ul.slimmenu").css("left"),10),s=t(n.getContainerControl()).find(" ul.slimmenu > li").length;t(n.getContainerControl()).find(" ul.slimmenu > li").each(function(){return(r==null&&t(this).position().left>=e*-1&&(r=t(this)),f-e-(t(this).index()<s-1?t(".HorizontalMenuSilder>.moveRight").outerWidth():0)<t(this).position().left+t(this).width())?(i=t(this),!1):f-t(".HorizontalMenuSilder>.moveLeft").outerWidth()>=o-t(this).position().left?(i=t(this),!1):void 0});i[0]==r[0]&&i.next().length==1&&(i=i.next());n.sliderMoveTo(i)});t(".HorizontalMenuSilder>.moveLeft").click(function(){var r=null,f=t(n.getContainerControl()).find(".HorizontalMenuSilder").width(),e=parseInt(t(".HorizontalMenuSilder ul.slimmenu").css("left"),10),i,u;t(n.getContainerControl()).find("ul.slimmenu > li").each(function(){if(t(this).position().left>e*-1)return r=t(this),!1});r!=null&&(i=t(n.getContainerControl()).find(" ul.slimmenu > li:first-child()"),u=t(n.getContainerControl()).find(" ul.slimmenu > li").length,t(n.getContainerControl()).find(" ul.slimmenu > li").each(function(){if(t(this).position().left+f-(t(this).index()>0?t(".HorizontalMenuSilder>.moveLeft").outerWidth():0)-(t(this).index()<u-1?t(".HorizontalMenuSilder>.moveRight").outerWidth():0)>r.position().left)return i=t(this),!1}),i[0]==r[0]&&i.prev().length==1&&(i=i.prev()),n.sliderMoveTo(i))});t(".HorizontalMenuSilder ul.slimmenu").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){event!=null&&event.propertyName=="left"&&n.UpdateMoreOption()})}t("ul.slimmenu a").click(function(){t("#"+r).hasClass("collapsed")&&t(".collapse-button").click()});t(".smClick,.smLink").click(function(){var u=t(this).hasClass("smClick"),i,r;(!u||n.ItemClick)&&(i=t(this).attr("smcode"),t(n.getContainerControl()).find(" ul.slimmenu > li.SelectedMenuItem").removeClass("SelectedMenuItem").find(".SelectedMenuSubItem").removeClass("SelectedMenuSubItem"),n.SetSelectItemClass(t(this)),createCookie("DVelop_HMenuSelected",i),u&&(n.Code=i,n.ItemClick()),r=t(this).closest("li.has-submenu").get(0),r!=null&&t(r).find("ul").css("display","none"))})})};this.SetSelectItemClass=function(n){if(n.is("a")&&(n=n.parent()),!n.parent().is("ul.slimmenu"))if(this.MenuType=="Mega"){while(!n.is("li"))n.addClass("SelectedMenuSubItem"),n=n.parent();n=n.closest("ul")}else for(var t=n.parent().closest("ul");!t.hasClass("slimmenu");)n.closest("li").addClass("SelectedMenuSubItem"),n=t,t=n.parent().closest("ul");n.closest("li").addClass("SelectedMenuItem")};this.sliderMoveTo=function(n){var t=n.position().left*-1;t<0&&(t+=$(".HorizontalMenuSilder>.moveLeft").outerWidth());$(".HorizontalMenuSilder").find("ul.slimmenu").css("left",t+"px")};this.processMenu=function(n,t,i,r,u){var e,o,f,h,s,c;if(typeof n=="object"&&n.length){if(i||this.MenuType!="Mega")for(e=[],o=0;o<n.length;o++){f=n[o];s=r&&f.iconClass!=""?'<i class="'+WWP_replaceAll(f.iconClass,'"',"")+'"><\/i> ':"<i><\/i>";var v=u!=null&&u!="0"&&f.id!=null&&u.trim()==f.id.trim()?' class="SelectedMenu'+(i?"":"Sub")+'Item"':"",l=f.tooltip!=null&&f.tooltip.trim()!=""?" title='"+WWP_replaceAll(f.tooltip,"'","")+"'":"",a=$("<span><\/span>").text(gx.getMessage(f.caption)).html();f.link!=""?(h=f.linkTarget!=""?h=' target="'+WWP_replaceAll(f.linkTarget,'"',"")+'"':"",e.push("<li"+v+'><a href="'+WWP_replaceAll(f.link,'"',"")+'" '+h+" class='smLink' smcode='"+f.id+"' "+l+">"+s+a+"<\/a><\/li>")):f.subItems&&f.subItems.length>0?(e.push('<li><a href="#"'+l+">"+s+a+"<\/a>"),e.push(this.processMenu(f.subItems,f.submenuImage,!1,r,u)),e.push("<\/li>")):e.push("<li"+v+'><a href="#" class="smClick" smcode="'+f.id+'" '+l+">"+s+a+"<\/a><\/li>")}else e=[],c=t!=null&&t!="",c&&e.push('<li class="submenuImage"><img class="ObjectFitCover" src="'+t+'" ><\/li>'),e.push('<li style="" class="submenuOptions'+(c?"":" NoMenuImage")+'">'),this.processMenu_MegaAddItem(u,n,e,r),e.push("<\/li>");return i?e.join(""):"<ul>"+e.join("")+"<\/ul>"}};this.processMenu_MegaAddItem=function(n,t,i,r){for(var o,s,f=0;f<t.length;f++){var u=t[f],h=n!=null&&n!="0"&&u.id!=null&&n.trim()==u.id.trim()?' class="SelectedMenuSubItem"':"",c=u.subItems&&u.subItems.length>0;h==""&&u.link==""&&c&&(h=' class="submenuContainer"');i.push("<div"+h+">");o=r&&u.iconClass!=""?'<i class="'+u.iconClass+'"><\/i> ':"<i><\/i>";s=u.tooltip!=null&&u.tooltip.trim()!=""?" title='"+WWP_replaceAll(u.tooltip,"'","")+"'":"";u.link!=""?(e=u.linkTarget!=""?' target="'+u.linkTarget+'"':"",i.push('<a href="'+u.link+'" '+e+" class='smLink'"+s+">"+o+gx.getMessage(u.caption)+"<\/a>")):c?(i.push('<div class="submenuTitle"><span'+s+">"+o+gx.getMessage(u.caption)+"<\/span><\/div>"),this.processMenu_MegaAddItem(n,u.subItems,i)):i.push('<a href="#" class="smClick" smcode="'+u.id+'" '+s+">"+o+gx.getMessage(u.caption)+"<\/a>");i.push("<\/div>")}};this.UpdateMoreOption=function(n){var t=$(this.getContainerControl()),l,r,a,v,y,e,f,o,s,h,c;if(t.children().length>0){if(!n&&(l=$(window).width()<=767,r=t.find(this.MoreOptionType=="Slider"?".HorizontalMenuSilder>ul.slimmenu":">ul"),r.hasClass("collapsed")!=l)){a=this;window.setTimeout(function(){a.UpdateMoreOption(!0)},100);return}if(this.MoreOptionType=="Slider"){var u=t.find(".HorizontalMenuSilder"),r=u.find("ul.slimmenu"),i=parseInt(r.css("left"),10);r.css("min-width",i*-1+u.outerWidth());u.toggleClass("NeedSliderRight",u.width()-i<r.find(">li:last-child()").position().left+r.find(">li:last-child()").width());u.toggleClass("NeedSliderLeft",i<0);v=u.width();y=(i<0?u.find(">.moveLeft").outerWidth():0)+5;i=i*-1;r.find(">li").each(function(){var n=$(this).position().left;$(this).toggleClass("hiddenInSlider",n<i||n>i+y&&n+$(this).width()-i>v)})}else{for(e=t.find("> ul > li"),f=e.length-1,o=0;o<f;o++)$(e[o]).css("display","");if(s=$(e[f]),s.css("display","none"),h=s.find("> ul > li"+(this.MenuType=="Mega"?" > div":"")),h.each(function(){$(this).css("display","none")}),!t.find(">ul").hasClass("collapsed"))for(c=t.parent().parent().attr("data-gx-flex")=="";f>0&&(!c&&t.parent().offset().top>t.parent().parent().offset().top+parseInt(t.parent().parent().css("padding-top"))||c&&t.find(">ul").height()>t.parent().height());)s.css("display",""),$(e[f-1]).css("display","none"),$(h[f-1]).css("display",""),f--}}}};$(window).one('load',function(){WWP_VV([['DVHorizontalMenu','15.4.1']]);});